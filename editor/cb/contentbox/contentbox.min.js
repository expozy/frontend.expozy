var ContentBox=function(){"use strict";class e{appendHtml(e,t,i="beforeend"){e.insertAdjacentHTML(i,t)}hasClass(e,t){return(" "+e.className+" ").indexOf(" "+t+" ")>-1}hasClassOld(e,t){if(!e)return!1;try{let i=e.getAttribute("class");return!!i&&new RegExp("\\b"+t+"\\b").test(i)}catch(e){}}addClass(e,t){e&&(e.length?e.forEach((e=>{this._addClass(e,t)})):this._addClass(e,t))}_addClass(e,t){if(e&&!e.length){if(e instanceof SVGElement){let i=function(){};"undefined"!=typeof window&&(i=window.SVGAnimatedString);let n=e=>("string"==typeof e&&(e=e.split(" ")),e);const s=n(t);let o;return o=e.className instanceof i?n(e.className.baseVal):n(e.className),s.forEach((e=>{-1===o.indexOf(e)&&o.push(e)})),void e.setAttribute("class",o.join(" "))}this.hasClass(e,t)||(0===e.classList.length?e.className=t:e.className=e.className+" "+t,e.className=e.className.replace(/  +/g," "))}}removeClass(e,t){e&&(e.length?e.forEach((e=>{this._removeClass(e,t)})):this._removeClass(e,t))}_removeClass(e,t){if(e){if(e instanceof SVGElement){let i=function(){};"undefined"!=typeof window&&(i=window.SVGAnimatedString);let n=e=>("string"==typeof e&&(e=e.split(" ")),e);const s=n(t);let o;return o=e.className instanceof i?n(e.className.baseVal):n(e.className),s.forEach((e=>{const t=o.indexOf(e);-1!==t&&o.splice(t,1)})),void e.setAttribute("class",o.join(" "))}if(e&&e.classList.length>0){let i,n,s,o,a=t.split(" ");for(i=0,s=a.length;i<s;++i){if(!a[i])continue;let t=a[i],s="",l=e.className.split(" ");for(n=0,o=l.length;n<o;++n)l[n]&&l[n]!==t&&(s+=l[n]+" ");e.className=s.trim()}""===e.className&&e.removeAttribute("class")}}}html(e,t){let i=document.createRange();e.innerHTML="",e.appendChild(i.createContextualFragment(t))}getLastElement(e,t){const i=e.querySelectorAll(t);if(i.length>0){return i[i.length-1]}return!1}addExternalScripts(e,t,i=0){if(i<=e.length-1){let s=e[i];document.head.querySelectorAll("script").forEach((e=>{-1!==e.src.indexOf(s)&&e.parentNode.removeChild(e)}));var n=document.createElement("script");n.onload=()=>{this.addExternalScripts(e,t,i+1)},n.src=s,document.head.appendChild(n)}else t&&t()}addExternalStyles(e){const t=document.querySelectorAll("link");for(let i=0;i<=e.length-1;i++){const n=e[i];let s=!1;if(t.forEach((e=>{e.getAttribute("href")===n&&(s=!0)})),!s){const e=document.createElement("link");e.rel="stylesheet",e.href=n,document.head.appendChild(e)}}}getElementOffset(e){const t=e.getBoundingClientRect();return{top:t.top+window.pageYOffset,left:t.left+window.pageXOffset,width:t.width,height:t.height}}parentsHasClass(e,t){for(;e;)do{if(this.hasClass(e,t))return e;e=e.parentNode}while(e);return!1}removeElement(e){e&&e.parentNode.removeChild(e)}uniqueId(){let e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(let i=0;i<2;i++)e+=t.charAt(Math.floor(Math.random()*t.length));let i="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let e=0;e<5;e++)i+=n.charAt(Math.floor(Math.random()*n.length));return e+i}}const t=new e;
/*!
    Ionicons
    License: MIT
    Copyright (c) 2015-present Ionic (http://ionic.io/)
    https://ionic.io/ionicons/v1
    */
/*!
    Tabler Icons
    License: MIT
    Copyright (c) 2020 Paweł Kuna
    https://github.com/tabler/tabler-icons
    */function i(e,t){let i=!1;if("undefined"!=typeof window&&void 0!==window._txt&&(i=!0),t){if(i){let i=window._txt[e];return i||t}return t}if(i){let t=window._txt[e];return t||e}return e}class n{constructor(e){const[t,i]=e.children,n=t=>{if(!e)return document.removeEventListener("click",n);e.contains(t.target)||this.toggle(!1)},s=n=>{const s=n.textContent,o=n.getAttribute("data-value");t.textContent=s,this.value=o,this.toggle(!1),e.dispatchEvent(new Event("change")),t.focus();let a=i.children;Array.from(a).forEach((e=>{e.classList.remove("selected")}));let l=i.querySelector('[data-value="'+o+'"]');l&&l.classList.add("selected")},o=e=>{e.preventDefault(),38===e.keyCode&&e.target.previousElementSibling?e.target.previousElementSibling.focus():40===e.keyCode&&e.target.nextElementSibling?e.target.nextElementSibling.focus():27===e.keyCode?(this.toggle(!1),t.focus()):13!==e.keyCode&&32!==e.keyCode||s(e.target)};t.addEventListener("keydown",(e=>{27===e.keyCode?(this.toggle(!1),e.preventDefault()):13!==e.keyCode&&32!==e.keyCode||(this.toggle(!0),e.preventDefault())})),t.addEventListener("click",(()=>this.toggle())),[...i.children].forEach((e=>{e.addEventListener("keydown",o),e.addEventListener("click",(()=>s(e)))})),this.element=e,this.value=t.getAttribute("data-value"),this.toggle=(s=null)=>{if(s=null===s?"true"!==i.getAttribute("aria-expanded"):s,i.setAttribute("aria-expanded",s),s){t.classList.add("active");let s=i.querySelector('[data-value="'+this.value+'"]');s&&(s.classList.add("selected"),s.focus()),document.addEventListener("click",n),e.dispatchEvent(new Event("opened"))}else t.classList.remove("active"),e.dispatchEvent(new Event("closed")),document.removeEventListener("click",n)}}}const s=new e;class o{constructor(e){this.builder=e;let t="";const n=this.builder.builderStuff;if(this.builderStuff=n,this.builder.useSidebar){t+='<div class="is-sidebar is-area active"  style="transform: translate3d(0,0,0);display: flex;flex-direction: column;opacity: 0.0001;">';var o=0;this.builder.sidebarData.buttons.map((e=>{if("section"===e.name)t+='<button class="is-sidebar-button" tabindex="-1" data-content="divSidebarSections" data-command="section" data-title="'+i(e.title)+'" title="'+i(e.title)+'"><svg class="svg-icon"><use xlink:href="#icon-plus"></use></svg></button>';else if("snippet"===e.name)t+='<button class="is-sidebar-button" tabindex="-1" data-content="divSidebarSnippets" data-title="'+i(e.title)+'" title="'+i(e.title)+'"><svg class="svg-icon"><use xlink:href="#icon-box-multiple"></use></svg></button>';else if("typography"===e.name)this.builder.enableContentStyle&&(t+='<button class="is-sidebar-button" tabindex="-1" data-content="divSidebarTypography" data-command="typography" data-title="'+i(e.title)+'" title="'+i(e.title)+'"><svg class="svg-icon"><use xlink:href="#icon-typography"></use></svg></button>');else if("code"===e.name)this.builder.htmlSyntaxHighlighting?t+='<button class="is-sidebar-button" tabindex="-1" data-command="code" data-title="'+i(e.title)+'" title="'+i(e.title)+'"><svg class="svg-icon" style="width:13px;height:13px;"><use xlink:href="#ion-code"></use></svg></button>':t+='<button class="is-sidebar-button" tabindex="-1" data-content="divSidebarSource" data-command="code" data-title="'+i(e.title)+'" title="'+i(e.title)+'"><svg class="svg-icon" style="width:13px;height:13px;"><use xlink:href="#ion-code"></use></svg></button>';else if(e.src){var a=s.uniqueId();if(t+=`<button class="is-sidebar-button" tabindex="-1" data-content="${a}" data-title="${i(e.title)}" title="${i(e.title)}" data-src="${e.src}" data-refresh="${e.refresh?1:0}">${e.html}</button>`,!n.querySelector(`#${a}`)){let t=`<div id="${a}" class="is-sidebar-content is-area-2nd" tabindex="-1" role="dialog" aria-modal="true" aria-hidden="true" style="max-width:${e.maxwidth?e.maxwidth:"500px"};">\n                                <div style="padding:0 0 0 50px;box-sizing:border-box;">\n                                    <iframe src="about:blank" style="width:100%;height:100%;box-sizing:border-box;border:none;">\n                                    </iframe>\n                                </div>\n                            </div>`;s.appendHtml(n,t)}}else t+='<button class="is-sidebar-button" tabindex="-1" data-content="'+e.content.substr(1)+'" data-title="'+i(e.title)+'" title="'+i(e.title)+'" data-refresh="'+(e.refresh?1:0)+'">'+e.html+"</button>";this.builder.sideButtons&&this.builder.sideButtons.map((e=>{if(o==e.pos)if(e.src){var a=s.uniqueId();t+=`<button class="is-sidebar-button" tabindex="-1" data-content="${a}" data-title="${i(e.title)}" title="${i(e.title)}" data-src="${e.src}" data-refresh="${e.refresh?1:0}">\n                                ${e.html}\n                                </button>`;let o=`<div id="${a}" class="is-sidebar-content is-area-2nd ${e.class}" tabindex="-1" role="dialog" aria-modal="true" aria-hidden="true" style="max-width:${e.maxwidth?e.maxwidth:"1005px"};">\n                                    <div style="padding:0 0 0 50px;box-sizing:border-box;">\n                                        <iframe src="about:blank" style="width:100%;height:100%;box-sizing:border-box;border:none;">\n                                        </iframe>\n                                    </div>\n                                </div>`;s.appendHtml(n,o)}else t+=`<button class="is-sidebar-button" tabindex="-1" data-content="${e.content.substr(1)}" data-title="${i(e.title)}" title="${i(e.title)}">\n                                    ${e.html}\n                                    </button>`})),o++})),t+="</div>",t+='<div id="divSidebarSections" class="is-sidebar-content is-area-2nd '+this.builder.templateThumbnailSize+'" tabindex="-1" role="dialog" aria-modal="true" aria-hidden="true" style="-webkit-transition-duration:0.2s;transition-duration:0.2s;"><div><iframe id="ifrIdeasPanel" src="about:blank" style="width:100%;height:100%;box-sizing:border-box;border:none;"></iframe></div></div><div id="divSidebarSnippets" class="is-sidebar-content is-area-2nd scroll-darker" tabindex="-1" role="dialog" aria-modal="true" aria-hidden="true" style="max-width:275px;border-left: transparent 50px solid;box-sizing: border-box;"></div><div id="divSidebarSource" class="is-sidebar-content is-area-2nd" tabindex="-1" role="dialog" aria-modal="true" aria-hidden="true" style="-webkit-transition-duration:0.2s;transition-duration:0.2s;"><div><div style="position:absolute;width:240px;height:35px;right:10px;top:5px;z-index:1;display:flex;"><button title="'+i("Cancel")+'" id="btnViewHtmlCancel" tabindex="-1" style="height:38px" class="classic-secondary"> '+i("Cancel")+' </button><button title="'+i("Ok")+'" id="btnViewHtmlOk" tabindex="-1" style="height:38px" class="classic-primary"> '+i("Ok")+' </button></div><div style="height:100%;box-sizing:border-box;border-top:#f3f3f3 50px solid;position:relative"><textarea id="inpViewHtml" tabindex="-1" style="width:100%;height:100%;resize: none;"></textarea></div></div></div><div id="divSidebarTypography" class="is-sidebar-content is-area-2nd" tabindex="-1" role="dialog" aria-modal="true" aria-hidden="true" style="-webkit-transition-duration:0.2s;transition-duration:0.2s;"><div class="scroll-darker"><div style="padding: 15px 0 0 20px"><div class="is-sidebar-title" style="margin-bottom:12px;">'+i("Typography Styles")+"</div><div>"+i("Apply to")+':</div><div style="display:flex;justify-content:space-between;align-items: center;"><div class="typo-target-default" style="display:flex"><label><input type="radio" tabindex="0" name="typoTarget" value="page"> <span>'+i("Page")+'</span></label><label><input type="radio" tabindex="0" name="typoTarget" value="section" checked> <span>'+i("Section")+'</span></label></div><div class="typo-target-box" style="display: flex;"><span>'+i("Active Box")+'</span></div><button title="'+i("Clear")+'" tabindex="0" id="btnTypoClear"><svg class="is-icon-flex" style="width:11px;height:11px;"><use xlink:href="#icon-clean"></use></svg></button></div></div><div id="divSelector"></div><div id="divStyles"></div></div></div>'}else t='<div id="divSections" style="display:none"></div><div class="is-modal addsection" tabindex="-1" role="dialog" aria-modal="true" aria-hidden="true"><div style="max-width: 900px;"><div id="divSectionList" class="is-section-list"></div></div></div>';t+=`<div class="is-pop page-quick-settings arrow-left" style="z-index:10006;position: fixed;" tabindex="-1" role="dialog" aria-modal="true" aria-hidden="true">\n            <div style="display:flex;flex-flow:wrap;flex-direction: column;width: 190px;margin:12px 12px 14px;">\n                <div class="is-label"><span>${i("Zoom")}</span>:</div>\n                <div style="padding-top:4px">\n                    <input type="range" min="50" max="100" value="1" class="page-zoom-slider is-rangeslider" style="margin:0 !important;">\n                </div>\n\n                <div style="padding-top:15px;width:100%;">\n                    <div class="is-label"><span>${i("Enable Animation")}</span>:</div>\n                    <div style="padding-top: 5px;width:100%;display:flex;align-items:center;justify-content: space-between;">        \n                        <label class="switch"><input class="cmd-live-preview" type="checkbox" checked=""><span class="slider round"></span></label>\n                        ${this.builder.advancedTimeline?`\n                        <button tabindex="-1" title="${i("Edit")}" class="cmd-timeline-edit" style="width:30px;height:30px;cursor:pointer;">\n                            <svg class="is-icon-flex"><use xlink:href="#icon-pencil"></use></svg>\n                        </button>\n                        `:""}\n                    </div>\n                </div>\n\n                <div style="padding-top:20px;width:100%;">\n                    <button type="button" title="${i("Live Preview")}" class="cmd-open-preview-window" style="width:100%">\n                        <svg class="is-icon-flex"><use xlink:href="#icon-device-desktop"></use></svg>\n                        <span style="margin-left:7px">${i("Live Preview")}</span>\n                    </button>\n                </div>\n            </div>\n        </div>`,s.appendHtml(n,t),this.pageQuickSettings=n.querySelector(".page-quick-settings"),this.pageZoomSlider=this.pageQuickSettings.querySelector(".page-zoom-slider"),this.pageZoomSlider.onfocus=()=>{this.builder.editor.rte.zoomStart()},this.pageZoomSlider.oninput=()=>{this.builder.editor.rte.zoom(this.pageZoomSlider)},this.pageZoomSlider.onchange=()=>{this.builder.editor.rte.zoomEnd(this.pageZoomSlider)};const a=this.pageQuickSettings.querySelector(".cmd-timeline-edit");if(a&&a.addEventListener("click",(()=>{this.builder.timeline.edit();const e=this.builder.sidebar.pageQuickSettings;this.builder.editor.util.hidePop(e)})),this.builder.useSidebar){document.querySelectorAll(".is-sidebar .is-sidebar-button").forEach((e=>{setTimeout((()=>{const t=e.getAttribute("data-content");if(t){document.querySelector("#"+t).addEventListener("keydown",(e=>{27===e.keyCode&&this.closeSidebar()}))}}),300),e.addEventListener("click",(()=>{let t=!1;if(s.hasClass(e,"active")&&(t=!0),this.closeSidebar(),this.builder.editbox.close(),this.builder.editsection.close(),this.builder.animateScroll.close(),t)return;let i=e.getAttribute("data-content");if(i){const t=n.querySelector(".is-sidebar-overlay");t&&t.addEventListener("click",(()=>{this.closeSidebar()})),s.addClass(e,"active");const o=document.querySelector("#"+i);o.style.display="block",o.setAttribute("aria-hidden",!1),setTimeout((()=>{if(s.addClass(o,"active"),o.focus(),"divSidebarSnippets"===o.getAttribute("id")){o.querySelector(".selectsnippet .dropdown-toggle").focus()}"divSidebarTypography"===o.getAttribute("id")&&o.focus()}),10)}let o=e.getAttribute("data-command");if(o&&("section"===o&&this.viewIdeas(),"code"===o&&(this.builder.htmlSyntaxHighlighting?this.viewHtml():this.viewHtml2()),"typography"===o&&(e.setAttribute("data-applyto","page"),n.querySelector(".typo-target-default").style.display="flex",n.querySelector(".typo-target-box").style.display="none",this.viewTypography())),e.hasAttribute("data-src")){let t=e.getAttribute("data-src"),i=e.getAttribute("data-content");const s=n.querySelector(`#${i}`).querySelector("iframe");("1"===e.getAttribute("data-refresh")||-1!=s.getAttribute("src").indexOf("blank"))&&s.setAttribute("src",t)}}))}));n.querySelector("#btnViewHtmlOk").addEventListener("click",(()=>{this.builder.editor.saveForUndo();var e=n.querySelector("#inpViewHtml").value;e=this.builder.editor.fromViewToActual(e),this.builder.loadHtml(e),this.builder.settings.onChange();const t=document.querySelector(".is-sidebar-overlay");t&&(t.remove(),document.body.style.overflow="",document.body.style.overflowY=""),document.querySelectorAll(".is-sidebar-button.active").forEach((e=>{s.removeClass(e,"active")})),document.querySelectorAll(".is-sidebar-content.active").forEach((e=>{s.removeClass(e,"active")}))}));n.querySelector("#btnViewHtmlCancel").addEventListener("click",(()=>{const e=document.querySelector(".is-sidebar-overlay");e&&(e.remove(),document.body.style.overflow="",document.body.style.overflowY=""),document.querySelectorAll(".is-sidebar-button.active").forEach((e=>{s.removeClass(e,"active")})),document.querySelectorAll(".is-sidebar-content.active").forEach((e=>{s.removeClass(e,"active")}))})),document.querySelector("#btnTypoClear").addEventListener("click",(()=>{this.boxTypography("","",""),this.selectType()}));document.querySelectorAll(".is-sidebar-content").forEach((e=>{e.addEventListener("keydown",(e=>{27===e.keyCode&&this.closeSidebar()}))}))}}openSettings(e){const t=this.pageQuickSettings;let i,n,s;i=e?e.target:document.activeElement,this.builder.btnSettings=i,this.builder.editor.util.showPop(t,!1,i),n=i.getBoundingClientRect().top,s=i.getBoundingClientRect().left,t.style.top=n+4+"px",t.style.left=s+68+"px",this.pageZoomSlider.value=100*this.builder.editor.zoom}reOpenSettings(){const e=this.pageQuickSettings;this.builder.editor.util.showPop(e,!1,this.builder.btnSettings)}closeSidebar(){const e=document,t=e.querySelector(".is-sidebar-overlay");t&&(t.remove(),document.body.style.overflowY=""),e.querySelectorAll(".is-sidebar-button.active").forEach((e=>{s.removeClass(e,"active")})),e.querySelectorAll(".is-sidebar > div").forEach((e=>{s.removeClass(e,"active")})),e.querySelectorAll(".is-sidebar-content.active").forEach((e=>{s.removeClass(e,"active"),e.setAttribute("aria-hidden",!0),setTimeout((()=>{e.style.display=""}),300)}))}viewIdeas(){const e=this.builder.designPath,t=this.builder.designUrl1,i=this.builder.designUrl2;if(t&&i){var n=document.querySelector("#ifrIdeasPanel").contentWindow.document;""===n.body.innerHTML&&(n.open(),0===this.builder.templates.length?n.write(this.getTemplatesHtml_OLD()):n.write(this.getTemplatesHtml()),n.close())}else if(e){const t=document.querySelector("#ifrIdeasPanel");-1!=t.getAttribute("src").indexOf("blank")&&t.setAttribute("src",e+"ideas.html")}return!1}viewHtml(){const e=this.builderStuff;if(null!==localStorage.getItem("_htmlview")){let e=localStorage.getItem("_htmlview");this.builder.shortenHTML="shorten"===e}let t;t=this.builder.shortenHTML?this.builder.html(!0):this.builder.html(),e.querySelector("#inpViewHtml").value=t;let i=e.querySelectorAll("[data-source-active]");i.forEach((e=>{e.removeAttribute("data-source-active")})),i=e.querySelectorAll("[data-source-ok]"),i.forEach((e=>{e.removeAttribute("data-source-ok")})),i=e.querySelectorAll("[data-source-cancel]"),i.forEach((e=>{e.removeAttribute("data-source-cancel")}));let n=e.querySelector("#divSidebarSource textarea");n.setAttribute("data-source-active","1"),n.setAttribute("data-source-ok","#btnViewHtmlOk"),n.setAttribute("data-source-cancel","#btnViewHtmlCancel"),this.builder.editor.viewHtmlNormal()}viewHtml2(){const e=this.builderStuff;let t;t=this.builder.shortenHTML?this.builder.html(!0):this.builder.html(),e.querySelector("#inpViewHtml").value=t}viewTypography(){const e=this.builder.settings.contentStylePath,t=this.builder.settings.contentStyles,s=t.data.categories;let o="",a="";for(let e=0;e<s.length;e++)a+='<li role="option" tabindex="0" data-value="'+s[e].id+'">'+i(s[e].desc)+"</li >",-1===s[e].id&&(o=i(s[e].desc));let l='<div class="is-dropdown style-cat" style=""><button tabindex="0" class="dropdown-toggle no-outline" type="button" aria-haspopup="true" data-value="-1"><span>'+o+'</span></button><ul class="dropdown-menu" role="listbox" aria-expanded="false">'+a+"</ul></div>";function r(e){const t=e.childNodes;let i=[],n=t.length;for(;n--;)1===t[n].nodeType&&i.unshift(t[n]);return i}document.querySelector("#divSelector").innerHTML=l;const d=new n(document.querySelector(".style-cat"));d.element.addEventListener("change",(()=>{let i=d.value,n=t.data.styles,s="";if(-1===parseInt(i))for(let t=0;t<n.length;t++)s+='<div data-css="'+n[t].css+'" data-sectioncss="'+n[t].sectioncss+'" data-classname="'+n[t].classname+'"><div>['+(t+1)+"] "+n[t].caption+'</div><img src="'+e+n[t].img+'" /><span class="is-overlay"></span></div></div>';else for(let t=0;t<n.length;t++)parseInt(i)===n[t].category&&(s+='<div data-css="'+n[t].css+'" data-sectioncss="'+n[t].sectioncss+'" data-classname="'+n[t].classname+'"><div>['+(t+1)+"] "+n[t].caption+'</div><img src="'+e+n[t].img+'" /><span class="is-overlay"></span></div></div>');let o=document.querySelector("#divStyles");o.innerHTML=s,r(o).forEach((e=>{e.addEventListener("click",(()=>{this.boxTypography(e.getAttribute("data-classname"),e.getAttribute("data-sectioncss"),e.getAttribute("data-css"))}))}))}));let c=t.data.styles,u="";for(var p=0;p<c.length;p++)u+='<div data-css="'+c[p].css+'" data-sectioncss="'+c[p].sectioncss+'" data-classname="'+c[p].classname+'"><div>['+(p+1)+"] "+c[p].caption+'</div><img src="'+e+c[p].img+'" /><span class="is-overlay"></span></div></div>';const h=document.querySelector("#divStyles");if(""===h.innerHTML){h.innerHTML=u;r(h).forEach((e=>{e.addEventListener("click",(()=>{const t=h.querySelector(".active");t&&t.classList.remove("active"),e.classList.add("active"),this.boxTypography(e.getAttribute("data-classname"),e.getAttribute("data-sectioncss"),e.getAttribute("data-css"))}))}))}this.selectType()}selectType(){const e=this.builderStuff.querySelector("#divStyles"),t=e.querySelector(".active");if(t&&t.classList.remove("active"),"page"===document.querySelector('input[name="typoTarget"]:checked').value){let t=this.builder.doc.getElementsByTagName("link"),i="";for(let n=0;n<t.length;n++)if(-1!==t[n].getAttribute("href").indexOf("basetype-")){if(i=t[n].getAttribute("href").split("/").pop().split(".")[0].replace("base",""),i){const t=e.querySelector(`[data-classname="${i}"]`);t&&(t.classList.add("active"),e.scrollTop=t.offsetTop-70)}}return}let i=this.builder.activeBox;if(i){const t=i.classList;let n="";for(let e=0;e<t.length;e++)if(t[e].startsWith("type-")){n=t[e];break}if(n){const t=e.querySelector(`[data-classname="${n}"]`);t&&(t.classList.add("active"),e.scrollTop=t.offsetTop-70)}else{let t=this.builder.activeSection;if(t){const i=t.classList;let n="";for(let e=0;e<i.length;e++)if(i[e].startsWith("type-")){n=i[e];break}if(n){const t=e.querySelector(`[data-classname="${n}"]`);t&&(t.classList.add("active"),e.scrollTop=t.offsetTop-70)}}}}}boxTypography(e,t,i){const n=this.builder.builderStuff;this.builder.editor.saveForUndo();const o=this.builder.settings.contentStylePath;let a=n.querySelector('.is-sidebar > button[data-command="typography"]').getAttribute("data-applyto"),l=document.querySelector('input[name="typoTarget"]:checked').value;if("box"!==a)if("section"===l){let i=this.builder.activeSection;if(!i)return;if(i.getAttribute("class").split(/\s+/).forEach((e=>{-1!=e.indexOf("type-")&&s.removeClass(i,e)})),i.querySelectorAll(".is-box, .is-box-centered").forEach((e=>{e.getAttribute("class").split(/\s+/).forEach((t=>{-1!=t.indexOf("type-")&&s.removeClass(e,t)}))})),""!==e){s.addClass(i,e);let n=!1,a=document.getElementsByTagName("link");for(let e=0;e<a.length;e++){-1!=a[e].href.toLowerCase().indexOf(t.toLowerCase())&&(n=!0)}n||(this.builder.settings.cssInBody?this.builder.wrapperEl.insertAdjacentHTML("beforebegin",'<link data-name="contentstyle" data-class="'+e+'" href="'+o+t+'" rel="stylesheet">'):s.appendHtml(this.builder.doc.head,'<link data-name="contentstyle" data-class="'+e+'" href="'+o+t+'" rel="stylesheet">'))}let n=document.getElementsByTagName("link");for(let e=0;e<n.length;e++)if("contentstyle"===n[e].getAttribute("data-name")){let t=n[e].getAttribute("data-class");this.builder.wrapperEl.querySelector("."+t)||n[e].setAttribute("data-rel","_del")}document.querySelectorAll('[data-rel="_del"]').forEach((e=>{e.parentNode.removeChild(e)}))}else if("page"===l){let e=document.getElementsByTagName("link");for(let t=0;t<e.length;t++)if("contentstyle"===e[t].getAttribute("data-name")){let i=e[t].getAttribute("data-class");if(this.builder.wrapperEl.querySelector("."+i)){this.builder.wrapperEl.querySelectorAll("."+i).forEach((e=>{s.removeClass(e,i)})),e[t].setAttribute("data-rel","_del")}}let t=document.querySelectorAll('[data-rel="_del"]');t.forEach((e=>{e.parentNode.removeChild(e)})),e=document.getElementsByTagName("link");for(let t=0;t<e.length;t++){-1!=e[t].href.toLowerCase().indexOf("basetype-")&&e[t].setAttribute("data-rel","_del")}t=document.querySelectorAll('[data-rel="_del"]'),t.forEach((e=>{e.parentNode.removeChild(e)})),""!=i&&(this.builder.settings.cssInBody?this.builder.wrapperEl.insertAdjacentHTML("beforebegin",'<link href="'+o+i+'" rel="stylesheet">'):s.appendHtml(this.builder.doc.head,'<link href="'+o+i+'" rel="stylesheet">'))}else if("container"===l){let i=document.querySelector(".builder-active");if(!i)return;let n=s.parentsHasClass(i,"is-box");if(n.getAttribute("class").split(/\s+/).forEach((e=>{-1!=e.indexOf("type-")&&s.removeClass(n,e)})),""!==e){s.addClass(n,e);let i=!1,a=document.getElementsByTagName("link");for(let e=0;e<a.length;e++){-1!=a[e].href.toLowerCase().indexOf(t.toLowerCase())&&(i=!0)}i||(this.builder.settings.cssInBody?this.builder.wrapperEl.insertAdjacentHTML("beforebegin",'<link data-name="contentstyle" data-class="'+e+'" href="'+o+t+'" rel="stylesheet">'):s.appendHtml(this.builder.doc.head,'<link data-name="contentstyle" data-class="'+e+'" href="'+o+t+'" rel="stylesheet">'))}let a=document.getElementsByTagName("link");for(let e=0;e<a.length;e++)if("contentstyle"===a[e].getAttribute("data-name")){let t=a[e].getAttribute("data-class");this.builder.wrapperEl.querySelector("."+t)||a[e].setAttribute("data-rel","_del")}document.querySelectorAll('[data-rel="_del"]').forEach((e=>{e.parentNode.removeChild(e)}))}if("box"===a){let i=this.builder.activeBox;if(i){if(i.getAttribute("class").split(/\s+/).forEach((e=>{-1!=e.indexOf("type-")&&s.removeClass(i,e)})),""!==e){s.addClass(i,e);let n=!1,a=document.getElementsByTagName("link");for(let e=0;e<a.length;e++){-1!=a[e].href.toLowerCase().indexOf(t.toLowerCase())&&(n=!0)}n||(this.builder.settings.cssInBody?this.builder.wrapperEl.insertAdjacentHTML("beforebegin",'<link data-name="contentstyle" data-class="'+e+'" href="'+o+t+'" rel="stylesheet">'):s.appendHtml(this.builder.doc.head,'<link data-name="contentstyle" data-class="'+e+'" href="'+o+t+'" rel="stylesheet">'))}let n=document.getElementsByTagName("link");for(let e=0;e<n.length;e++)if("contentstyle"===n[e].getAttribute("data-name")){let t=n[e].getAttribute("data-class");this.builder.wrapperEl.querySelector("."+t)||n[e].setAttribute("data-rel","_del")}document.querySelectorAll('[data-rel="_del"]').forEach((e=>{e.parentNode.removeChild(e)}))}}this.builder.settings.onChange()}getTemplatesHtml(){let e="";this.builder.templateJSON.forEach((t=>{e+=`{\n                url: '${t.url}',\n                path: '${t.path}',\n                pathReplace: '${t.pathReplace}',\n                ${Object.prototype.hasOwnProperty.call(t,"numbering")?`numbering: ${t.numbering},`:"numbering:false,"}\n                ${Object.prototype.hasOwnProperty.call(t,"showNumberOnHover")?`showNumberOnHover: ${t.showNumberOnHover},`:"showNumberOnHover:false,"}\n            },`}));let t="";this.builder.templates.forEach((e=>{t+=`{\n                url: '${e.url}',\n                path: '${e.path}',\n                pathReplace: '${e.pathReplace}',\n                ${Object.prototype.hasOwnProperty.call(e,"numbering")?`numbering: ${e.numbering},`:"numbering:false,"}\n                ${Object.prototype.hasOwnProperty.call(e,"showNumberOnHover")?`showNumberOnHover: ${e.showNumberOnHover},`:"showNumberOnHover:false,"}\n            },`}));let i=`{\n            id: ${this.builder.defaultCategory.id},\n            designId: ${this.builder.defaultCategory.designId},\n        }`,n="";this.builder.featuredCategories.forEach((e=>{n+=`{\n                id: '${e.id}',\n                designId: '${e.designId}',\n                name: '${e.name}',\n            },`}));let s="",o="";"small"===this.builder.templateThumbnailSize?(s="250px",o="30px 0 0 30px"):"medium"===this.builder.templateThumbnailSize?(s="350px",o="40px 0 0 40px"):(s="450px",o="50px 0 0 50px");let a=`\n        <!DOCTYPE html>\n        <html lang="en">\n        <head>\n            <meta charset="utf-8">\n            <title>Browse</title>\n            <meta name="viewport" content="width=device-width, initial-scale=1">\n            <meta name="description" content="">\n            <link rel="shortcut icon" href="#" />\n            <style>\n                body {\n                    margin: 0;\n                    background: #fff;\n                    font-family: sans-serif;\n                    font-weight: 300;\n                }\n                h2 {\n                    font-weight: 300;\n                }\n                button {\n                    cursor: pointer;\n                    border: none;\n                    background: #fdfdfd;\n                    padding: 12px 25px;\n                    border-radius: 500px;\n                    font-size: 11px;\n                    text-transform: uppercase;\n                    letter-spacing: 1px;;\n                    color: #333;\n                }\n                button.on {\n                    background: #f5f5f5;\n                }\n        \n                .featured-categories {\n                    background-color: #f5f5f5;\n                    position: absolute;\n                    width: 100%;\n                    height: 88px;\n                    z-index: 1;\n                    padding: 14px 15px 0 25px;\n                    box-sizing: border-box;\n                    /* box-shadow: 0 5px 15px rgb(0 0 0 / 5%); */\n                }\n                .featured-categories button {\n                    margin: 10px 15px 0 0;\n                    font-size: 11px;\n                }\n        \n                .is-design-list {\n                    position: fixed;\n                    top: 0px;\n                    left: 0px;\n                    border-top: transparent 88px solid;\n                    width: 100%;\n                    height: 100%;\n                    overflow-y: auto;\n                    padding: 0px 0px 30px 0px;\n                    box-sizing: border-box;\n                    overflow: auto;\n                    transition: all 200ms ease;\n                }\n                .is-design-list > button {\n                    position: relative;\n                    width:  ${s};\n                    overflow: hidden;\n                    margin: ${o};\n                    cursor: pointer;\n                    display: inline-block;\n                    padding: 0px;\n                    border: rgba(219, 219, 219, 0.39) 1px solid;\n                    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);\n                    border-radius: 2px;\n                }\n                .is-design-list > button img {\n                    box-shadow: none;\n                    opacity: 1;\n                    display: block;\n                    box-sizing: border-box;\n                    transition: all 0.2s ease-in-out;\n                    max-width: 500px;\n                    width: 100%\n                }\n                .is-design-list > button .is-overlay {\n                    position: absolute;\n                    top:0px;\n                    left:0px;\n                    width:100%;\n                    height:100%;\n                }\n                .is-design-list > button .is-overlay:after {\n                    background: rgba(0, 0, 0, 0.05);\n                    position: absolute;\n                    content: "";\n                    display: block;\n                    top: 0;\n                    left: 0;\n                    right: 0;\n                    bottom: 0;\n                    transition: all 0.2s ease-in-out;\n                    opacity: 0;\n                }\n                .dark .is-design-list > button .is-overlay:after {\n                    opacity: 0.97;\n                }\n                .is-design-list > button:hover .is-overlay:after {\n                    opacity: 0.5;\n                }\n        \n                .mega-menu {\n                    display: none;\n                    transform: translateY(-100%);\n                    background: #f5f5f5;\n                    overflow-x: hidden;\n                    overflow-y: auto;\n                    position: fixed;\n                    top: 88px;\n                    left: 0;\n                    right: 0;\n                    width: 100%;\n                    height: auto;\n                    height: calc(100% - 88px);\n                    max-height: 700px;\n                    z-index: 1;\n                    padding: 10px 50px 40px 40px;\n                    box-sizing: border-box;\n                    transition: all 300ms ease;\n                    min-width:400px;\n                    min-height: 200px;\n                    /* box-shadow: 0 5px 15px rgb(0 0 0 / 5%); */\n                }\n                .mega-menu.active {\n                    opacity: 1;\n                    transform: scale(1);\n                    transform: translateY(0);\n                }\n                .mega-menu h2 {\n                    margin-top:30px;\n                    font-size: 21px\n                }\n                .mega-menu button {\n                    margin:15px 15px 0 0;\n                }\n                .mega-menu .close {\n                    position: absolute;\n                    top: 0px; right: 0px;\n                    background: transparent;\n                    width: 50px;\n                    height: 50px;\n                    display: flex;\n                    justify-content: center;\n                    align-items: center;\n                    border-radius: 2px;;\n                    z-index: 1;\n                }\n                .mega-menu-content {\n                    position: absolute;\n                    top: 0;\n                    left: 0;\n                    width: 100%;\n                    height: 100%;\n                    overflow-y: auto;\n                    padding-left: 25px;\n                    padding-bottom: 35px;\n                    box-sizing: border-box;\n                }\n\n                .is-waiting {\n                    position: fixed;\n                    top: 0px;\n                    left: 0px;\n                    border-top: transparent 88px solid;\n                    width: 100%;\n                    height: 100%;\n                    background-color: #fff;\n                    display: flex;\n                    justify-content: flex-start;\n                    align-items: flex-start;\n                    padding: 50px\n                }\n                .is-waiting2 {\n                    position: absolute;\n                    top: 0px;\n                    left: 0px;\n                    width: 100%;\n                    height: 100%;\n                    background-color: #f5f5f5;\n                    display: flex;\n                    justify-content: flex-start;\n                    align-items: flex-start;\n                    padding: 20px 50px;\n                }\n\n                .spinner {\n                    -webkit-animation: rotator 1.4s linear infinite;\n                            animation: rotator 1.4s linear infinite;\n                }\n        \n                @-webkit-keyframes rotator {\n                    0% {\n                        transform: rotate(0deg);\n                    }\n                    100% {\n                        transform: rotate(270deg);\n                    }\n                }\n        \n                @keyframes rotator {\n                    0% {\n                        transform: rotate(0deg);\n                    }\n                    100% {\n                        transform: rotate(270deg);\n                    }\n                }\n                .path {\n                    stroke: #d9d9d9;\n                    stroke-dasharray: 187;\n                    stroke-dashoffset: 0;\n                    transform-origin: center;\n                    -webkit-animation: dash 1.4s ease-in-out infinite;\n                            animation: dash 1.4s ease-in-out infinite;\n                }\n        \n                @-webkit-keyframes dash {\n                    0% {\n                        stroke-dashoffset: 187;\n                    }\n                    50% {\n                        stroke-dashoffset: 46.75;\n                        transform: rotate(135deg);\n                    }\n                    100% {\n                        stroke-dashoffset: 187;\n                        transform: rotate(450deg);\n                    }\n                }\n                @keyframes dash {\n                    0% {\n                        stroke-dashoffset: 187;\n                    }\n                    50% {\n                        stroke-dashoffset: 46.75;\n                        transform: rotate(135deg);\n                    }\n                    100% {\n                        stroke-dashoffset: 187;\n                        transform: rotate(450deg);\n                    }\n                }\n\n                .is-number {\n                    opacity: 0;\n                    position: absolute;\n                    top: 3px;\n                    right: 3px;\n                    color: #444;\n                    padding: 3px 6px;\n                    background: rgb(255 255 255);\n                    border-radius: 500px;\n                    transition: all 0.3s ease;\n                }\n                .is-number.show {\n                    opacity: 1;\n                }\n                .is-design-list > button:hover .is-number {\n                    opacity: 1;\n                }\n\n\n\n                body {\n                    margin: 0;\n                } \n                .dark .is-design-list > button {\n                    border: none;\n                }\n                .dark .path,\n                .colored .path,\n                .colored-dark  .path {\n                    stroke: #b3b3b3;\n                }\n\n                /* Scrollbar for modal */\n\n                /* Darker color, because background for snippet thumbnails is always light. */\n                .dark * {\n                    scrollbar-width: thin;\n                    scrollbar-color: rgb(78 78 78 / 62%) auto;\n                }\n                .dark *::-webkit-scrollbar {\n                    width: 12px;\n                }\n                .dark *::-webkit-scrollbar-track {\n                    background: transparent;\n                }\n                .dark *::-webkit-scrollbar-thumb {\n                    background-color:rgb(78 78 78 / 62%);\n                }\n\n                .colored-dark * {\n                    scrollbar-width: thin;\n                    scrollbar-color: rgb(100, 100, 100) auto;\n                }\n                .colored-dark *::-webkit-scrollbar {\n                    width: 12px;\n                }\n                .colored-dark *::-webkit-scrollbar-track {\n                    background: transparent;\n                }\n                .colored-dark *::-webkit-scrollbar-thumb {\n                    background-color:rgb(100, 100, 100);\n                }\n\n                .colored * {\n                    scrollbar-width: thin;\n                    scrollbar-color: rgba(0, 0, 0, 0.4) auto;\n                }\n                .colored *::-webkit-scrollbar {\n                    width: 12px;\n                }\n                .colored *::-webkit-scrollbar-track {\n                    background: transparent;\n                }\n                .colored *::-webkit-scrollbar-thumb {\n                    background-color: rgba(0, 0, 0, 0.4);\n                }\n\n                .light * {\n                    scrollbar-width: thin;\n                    scrollbar-color: rgba(0, 0, 0, 0.4) auto;\n                }\n                .light *::-webkit-scrollbar {\n                    width: 12px;\n                }\n                .light *::-webkit-scrollbar-track {\n                    background: transparent;\n                }\n                .light *::-webkit-scrollbar-thumb {\n                    background-color: rgba(0, 0, 0, 0.4);\n                }\n\n                .dark .is-design-list>div .is-overlay:after {\n                    background: rgb(78 78 78 / 13%);\n                }\n            </style>\n        </head>\n        <body style="touch-action: pan-y">`;return a+=`\n        <div class="mega-menu">\n            <div class="is-waiting2">\n\n                <svg class="spinner" width="40px" height="40px" viewBox="0 0 66 66" xmlns="http://www.w3.org/2000/svg">\n                    <circle class="path" fill="none" stroke-width="6" stroke-linecap="round" cx="33" cy="33" r="30"></circle>\n                </svg>\n\n            </div>\n            \n            <button class="close" tabindex="0"><svg style="width:40px;height:40px;flex:none;"><use xlink:href="#iconclose"></use></svg></button>\n        \n            <div class="mega-menu-content">\n            </div>\n        </div>\n        \n        <div class="featured-categories tabs">\n        </div>\n        \n        <div class="is-design-list">\n        </div>\n                \n        <div class="is-waiting">\n\n            <svg class="spinner" width="40px" height="40px" viewBox="0 0 66 66" xmlns="http://www.w3.org/2000/svg">\n                <circle class="path" fill="none" stroke-width="6" stroke-linecap="round" cx="33" cy="33" r="30"></circle>\n            </svg>\n            \n        </div>\n        \n        <svg width="0" height="0" style="position:absolute;display:none;">\n            <defs>\n                <symbol viewBox="0 0 24 24" id="iconclose" stroke-width="0.7" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">\n                    <path stroke="none" d="M0 0h24v24H0z" fill="none"></path><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line>\n                </symbol>\n            </defs>\n        </svg>\n        \n        <script>\n            var template_list = [];\n        <\/script>\n        \x3c!-- <script src="basic.js"><\/script>\n        <script src="examples.js"><\/script> --\x3e\n        \n        <script>\n        \n        // Configuration\n        const featuredCategories = [\n            ${n}\n        ];\n        const defaultCategory = ${i};\n        const navbar = ${this.builder.navbar?"true":"false"};\n\n        const slider = '${this.builder.slider}';\n\n        const framework =  '${this.builder.framework}'; \n        const contentStylePath = '${this.builder.contentStylePath}'; \n\n        const row = '${this.builder.row}'; \n        const cols = [${this.builder.cols.map((e=>`'${e}'`))}];\n        \n        let templates = [\n            ${t}\n        ];\n        \n        let templateJSON = [\n            ${e}\n        ];\n        // /Configuration\n\n        if(templates.length > 0) templateJSON = [...templates];\n        \n        const loadJsFiles = (list, callback) => {\n            if(list.length===0) {\n                return;\n            } else {\n                const url = list[0].url;\n                const script = document.createElement('script');\n                script.src = url; \n                script.async = true;\n                script.onload = () => {\n                    callback(list[0]);\n                    loadJsFiles(list.slice(1), callback);\n                };\n                document.body.appendChild(script);\n            } \n        }\n        \n        const imageObserver = new IntersectionObserver((entries, imgObserver) => {\n            entries.forEach((entry) => {\n                if (entry.isIntersecting) {\n                    const lazyImage = entry.target\n                    // console.log("lazy loading ", lazyImage)\n                    lazyImage.src = lazyImage.dataset.src\n                    lazyImage.classList.remove("lzy-img");\n                    imgObserver.unobserve(lazyImage);\n                }\n            })\n        });\n        \n        const makeid = () => { //http://stackoverflow.com/questions/1349404/generate-a-string-of-5-random-characters-in-javascript\n            var text = "";\n            var possible = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";\n            for (var i = 0; i < 2; i++)\n                text += possible.charAt(Math.floor(Math.random() * possible.length));\n        \n            var text2 = "";\n            var possible2 = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";\n            for (var i = 0; i < 5; i++)\n                text2 += possible2.charAt(Math.floor(Math.random() * possible2.length));\n        \n            return text + text2;\n        }\n        \n        const addDesign = (designid) => {\n\n            const wrapper = parent._cb.doc.querySelector('.is-wrapper');\n        \n            let nIndex = 0;\n            template_list.forEach(gallery=>{\n                let designs = gallery.designs;\n                designs.forEach(item=>{\n                    \n                    item.id = nIndex; //Give id\n        \n                    if(nIndex===parseInt(designid)) {\n                        // alert(item.html);\n                        // alert(gallery.path);\n                        // alert(gallery.pathReplace);\n\n                        let html = item.html;\n                        let googleFonts = item.googleFonts;\n                        let contentCss = item.contentCss;\n                        let contentClass = item.contentClass;\n        \n                        let designPath = gallery.path;\n                        let snippetPathReplace = gallery.pathReplace;\n        \n                        //To Tailwind\n                        if (framework === 'tailwind') {\n                            html = html.replace(new RegExp(' container', 'g'), ' container');\n                            \n                            //html = html.replace(new RegExp('row clearfix', 'g'), 'flex flex-col md:flex-row');\n                            html = html.replace(new RegExp('row clearfix', 'g'), 'row'); // backward\n                            html = html.replace(new RegExp('"row', 'g'), '"' + 'flex flex-col md:flex-row');\n                        \n                            html = html.replace(new RegExp('column full', 'g'), 'w-full px-4');\n                            html = html.replace(new RegExp('column half', 'g'), 'w-full md:w-6/12 px-4');\n                            html = html.replace(new RegExp('column third', 'g'), 'w-full md:w-4/12 px-4');\n                            html = html.replace(new RegExp('column fourth', 'g'), 'w-full md:w-3/12 px-4');\n                            html = html.replace(new RegExp('column fifth', 'g'), 'w-full md:w-2/12 px-4'); //not needed\n                            html = html.replace(new RegExp('column sixth', 'g'), 'w-full md:w-2/12 px-4');\n                            html = html.replace(new RegExp('column two-third', 'g'), 'w-full md:w-8/12 px-4');\n                            html = html.replace(new RegExp('column two-fourth', 'g'), 'w-full md:w-9/12 px-4');\n                            html = html.replace(new RegExp('column two-sixth', 'g'), 'w-full md:w-10/12 px-4');\n                        }\n                                    \n                        //To Bootstrap\n                        if (framework === 'bootstrap') {\n                            html = html.replace(new RegExp(' container', 'g'), ' container-fluid');\n                            html = html.replace(new RegExp('row clearfix', 'g'), 'row');\n                            html = html.replace(new RegExp('column full', 'g'), 'col-md-12');\n                            html = html.replace(new RegExp('column half', 'g'), 'col-md-6');\n                            html = html.replace(new RegExp('column third', 'g'), 'col-md-4');\n                            html = html.replace(new RegExp('column fourth', 'g'), 'col-md-3');\n                            html = html.replace(new RegExp('column fifth', 'g'), 'col-md-2');\n                            html = html.replace(new RegExp('column sixth', 'g'), 'col-md-2');\n                            html = html.replace(new RegExp('column two-third', 'g'), 'col-md-8');\n                            html = html.replace(new RegExp('column two-fourth', 'g'), 'col-md-9');\n                            html = html.replace(new RegExp('column two-sixth', 'g'), 'col-md-10');\n                            html = html.replace(new RegExp('btn btn-primary', 'g'), 'btn btn-primary btn-lg');\n                            html = html.replace(new RegExp('btn btn-default', 'g'), 'btn btn-default btn-lg');\n                        }`,a+="\n                        //To Foundation\n                        if (framework === 'foundation') {\n                            //html = html.replace(new RegExp(' container', 'g'), ' container');\n                            html = html.replace(new RegExp('row clearfix', 'g'), 'row');\n                            html = html.replace(new RegExp('column full', 'g'), 'large-12 columns');\n                            html = html.replace(new RegExp('column half', 'g'), 'large-6 columns');\n                            html = html.replace(new RegExp('column third', 'g'), 'large-4 columns');\n                            html = html.replace(new RegExp('column fourth', 'g'), 'large-3 columns');\n                            html = html.replace(new RegExp('column fifth', 'g'), 'large-2 columns');\n                            html = html.replace(new RegExp('column sixth', 'g'), 'large-2 columns');\n                            html = html.replace(new RegExp('column two-third', 'g'), 'large-8 columns');\n                            html = html.replace(new RegExp('column two-fourth', 'g'), 'large-9 columns');\n                            html = html.replace(new RegExp('column two-sixth', 'g'), 'large-10 columns');\n                            html = html.replace(new RegExp('btn btn-primary', 'g'), 'button');\n                            html = html.replace(new RegExp('btn btn-default', 'g'), 'secondary button');\n                        }\n        \n                        //To UIKit\n                        if (framework === 'uikit') {\n                            html = html.replace(new RegExp(' container', 'g'), ' uk-container uk-container-center');\n\n                            // html = html.replace(new RegExp('row clearfix', 'g'), 'uk-grid');\n                            html = html.replace(new RegExp('row clearfix', 'g'), 'row'); // backward\n                            html = html.replace(new RegExp('\"row', 'g'), '\"' + 'uk-grid');\n\n                            html = html.replace(new RegExp('column full', 'g'), 'uk-width-1-1');\n                            html = html.replace(new RegExp('column half', 'g'), 'uk-width-1-2');\n                            html = html.replace(new RegExp('column third', 'g'), 'uk-width-1-3');\n                            html = html.replace(new RegExp('column fourth', 'g'), 'uk-width-1-4');\n                            html = html.replace(new RegExp('column fifth', 'g'), 'uk-width-1-5');\n                            html = html.replace(new RegExp('column sixth', 'g'), 'uk-width-1-6');\n                            html = html.replace(new RegExp('column two-third', 'g'), 'uk-width-2-3');\n                            html = html.replace(new RegExp('column two-fourth', 'g'), 'uk-width-3-4');\n                            html = html.replace(new RegExp('column two-sixth', 'g'), 'uk-width-5-6');\n                            html = html.replace(new RegExp('btn btn-primary', 'g'), 'uk-button uk-button-primary uk-button-large');\n                            html = html.replace(new RegExp('btn btn-default', 'g'), 'uk-button uk-button-large');\n                        }\n        \n                        //To Material\n                        if (framework === 'material') {\n                            html = html.replace(new RegExp(' container', 'g'), '');\n                            \n                            // html = html.replace(new RegExp('row clearfix', 'g'), 'mdl-grid');\n                            html = html.replace(new RegExp('row clearfix', 'g'), 'row'); // backward\n                            html = html.replace(new RegExp('\"row', 'g'), '\"' + 'mdl-grid');\n\n                            html = html.replace(new RegExp('column full', 'g'), 'mdl-cell mdl-cell--12-col');\n                            html = html.replace(new RegExp('column half', 'g'), 'mdl-cell mdl-cell--6-col');\n                            html = html.replace(new RegExp('column third', 'g'), 'mdl-cell mdl-cell--4-col');\n                            html = html.replace(new RegExp('column fourth', 'g'), 'mdl-cell mdl-cell--3-col');\n                            html = html.replace(new RegExp('column fifth', 'g'), 'mdl-cell mdl-cell--2-col');\n                            html = html.replace(new RegExp('column sixth', 'g'), 'mdl-cell mdl-cell--2-col');\n                            html = html.replace(new RegExp('column two-third', 'g'), 'mdl-cell mdl-cell--8-col');\n                            html = html.replace(new RegExp('column two-fourth', 'g'), 'mdl-cell mdl-cell--9-col');\n                            html = html.replace(new RegExp('column two-sixth', 'g'), 'mdl-cell mdl-cell--10-col');\n                            html = html.replace(new RegExp('btn btn-primary', 'g'), 'mdl-button mdl-js-button mdl-button--raised mdl-button--accent');\n                            html = html.replace(new RegExp('btn btn-default', 'g'), 'mdl-button mdl-js-button mdl-button--raised');\n                        }\n\n                        if(framework ==='') {\n                            // Convert snippet into your defined 12 columns grid   \n                            var rowClass = row;\n                            var colClass = cols;\n                            if(rowClass!=='' && colClass.length===12){\n                                html = html.replace(new RegExp('row clearfix', 'g'), 'row'); // backward\n                                html = html.replace(new RegExp('\"row', 'g'), '\"' + rowClass);\n                                \n                                html = html.replace(new RegExp('column full', 'g'), colClass[11]);\n                                html = html.replace(new RegExp('column half', 'g'), colClass[5]);\n                                html = html.replace(new RegExp('column third', 'g'), colClass[3]);\n                                html = html.replace(new RegExp('column fourth', 'g'), colClass[2]);\n                                html = html.replace(new RegExp('column fifth', 'g'), colClass[1]);\n                                html = html.replace(new RegExp('column sixth', 'g'), colClass[1]);\n                                html = html.replace(new RegExp('column two-third', 'g'), colClass[7]);\n                                html = html.replace(new RegExp('column two-fourth', 'g'), colClass[8]);\n                                html = html.replace(new RegExp('column two-fifth', 'g'), colClass[9]);\n                                html = html.replace(new RegExp('column two-sixth', 'g'), colClass[9]);\n                            }\n                        }\n        \n                        html = html.replace(/{id}/g, makeid());\n\n                        if(snippetPathReplace.length>0) {\n                            if (snippetPathReplace[0] != '') {\n                                var regex = new RegExp(snippetPathReplace[0], 'g');\n                                html = html.replace(regex, snippetPathReplace[1]);\n                            }\n                        }\n                        \n                        html = html.replace(/\\[%IMAGE_PATH%\\]/g, designPath);\n                        html = html.replace(/%5B%25IMAGE_PATH%25%5D/g, designPath); //If [%IMAGE_PATH%] is encoded (inside data-html)\n\n                        //Add html\n                        parent.contentbox.addIdea(html);\n        \n                        //Add contentCss\n                        let exist = false;\n                        let links = parent._cb.doc.getElementsByTagName(\"link\");\n                        for (let i = 0; i < links.length; i++) {\n                            let src = links[i].href.toLowerCase();\n                            if (src.indexOf(contentCss.toLowerCase()) != -1) exist = true;\n                        }\n                \n                        if (!exist) wrapper.insertAdjacentHTML('beforeend', '<link data-name=\"contentstyle\" data-class=\"' + contentClass + '\" href=\"' + contentStylePath + contentCss + '\" rel=\"stylesheet\">');\n                    }\n        \n                    nIndex++;\n                });\n            });\n        }\n        \n        const showDesigns = (catId, designId) => {\n\n            if(template_list.length>0) {\n                const wait = document.querySelector('.is-waiting');\n                wait.style.display = 'none';\n            }\n        \n            const designList = document.querySelector('.is-design-list');\n            designList.style.opacity = 0;\n            setTimeout(()=>{\n                designList.innerHTML = '';\n                designList.style.opacity = 1;\n                designList.scrollTop = 0;\n        \n                let nIndex = 0;\n        \n                template_list.forEach(gallery=>{\n                    let designs = gallery.designs;\n\n                    let numbering = gallery.numbering;\n                    let showNumberOnHover = gallery.showNumberOnHover;\n                    let numberCount = 0;\n\n                    designs.forEach(item=>{\n                        let isSelected = false;\n                        let catSplit = item.category.split(',');\n                        for (let j = 0; j < catSplit.length; j++) {\n                            if (parseInt(catSplit[j]) === parseInt(catId) && parseInt(gallery.designId) === parseInt(designId)) {\n                                isSelected = true;\n                            }\n                        }\n                        \n                        item.id = nIndex; //Give id\n        \n                        if (isSelected) {\n\n                            numberCount++;\n\n                            let html = '<button tabindex=\"0\" class=\"active\" data-id=\"' + item.id + '\" data-cat=\"\"' + item.category + '\">' +\n                                '<img class=\"lzy-img\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC0AAAAaCAYAAAAjZdWPAAAEDmlDQ1BrQ0dDb2xvclNwYWNlR2VuZXJpY1JHQgAAOI2NVV1oHFUUPpu5syskzoPUpqaSDv41lLRsUtGE2uj+ZbNt3CyTbLRBkMns3Z1pJjPj/KRpKT4UQRDBqOCT4P9bwSchaqvtiy2itFCiBIMo+ND6R6HSFwnruTOzu5O4a73L3PnmnO9+595z7t4LkLgsW5beJQIsGq4t5dPis8fmxMQ6dMF90A190C0rjpUqlSYBG+PCv9rt7yDG3tf2t/f/Z+uuUEcBiN2F2Kw4yiLiZQD+FcWyXYAEQfvICddi+AnEO2ycIOISw7UAVxieD/Cyz5mRMohfRSwoqoz+xNuIB+cj9loEB3Pw2448NaitKSLLRck2q5pOI9O9g/t/tkXda8Tbg0+PszB9FN8DuPaXKnKW4YcQn1Xk3HSIry5ps8UQ/2W5aQnxIwBdu7yFcgrxPsRjVXu8HOh0qao30cArp9SZZxDfg3h1wTzKxu5E/LUxX5wKdX5SnAzmDx4A4OIqLbB69yMesE1pKojLjVdoNsfyiPi45hZmAn3uLWdpOtfQOaVmikEs7ovj8hFWpz7EV6mel0L9Xy23FMYlPYZenAx0yDB1/PX6dledmQjikjkXCxqMJS9WtfFCyH9XtSekEF+2dH+P4tzITduTygGfv58a5VCTH5PtXD7EFZiNyUDBhHnsFTBgE0SQIA9pfFtgo6cKGuhooeilaKH41eDs38Ip+f4At1Rq/sjr6NEwQqb/I/DQqsLvaFUjvAx+eWirddAJZnAj1DFJL0mSg/gcIpPkMBkhoyCSJ8lTZIxk0TpKDjXHliJzZPO50dR5ASNSnzeLvIvod0HG/mdkmOC0z8VKnzcQ2M/Yz2vKldduXjp9bleLu0ZWn7vWc+l0JGcaai10yNrUnXLP/8Jf59ewX+c3Wgz+B34Df+vbVrc16zTMVgp9um9bxEfzPU5kPqUtVWxhs6OiWTVW+gIfywB9uXi7CGcGW/zk98k/kmvJ95IfJn/j3uQ+4c5zn3Kfcd+AyF3gLnJfcl9xH3OfR2rUee80a+6vo7EK5mmXUdyfQlrYLTwoZIU9wsPCZEtP6BWGhAlhL3p2N6sTjRdduwbHsG9kq32sgBepc+xurLPW4T9URpYGJ3ym4+8zA05u44QjST8ZIoVtu3qE7fWmdn5LPdqvgcZz8Ww8BWJ8X3w0PhQ/wnCDGd+LvlHs8dRy6bLLDuKMaZ20tZrqisPJ5ONiCq8yKhYM5cCgKOu66Lsc0aYOtZdo5QCwezI4wm9J/v0X23mlZXOfBjj8Jzv3WrY5D+CsA9D7aMs2gGfjve8ArD6mePZSeCfEYt8CONWDw8FXTxrPqx/r9Vt4biXeANh8vV7/+/16ffMD1N8AuKD/A/8leAvFY9bLAAAAOGVYSWZNTQAqAAAACAABh2kABAAAAAEAAAAaAAAAAAACoAIABAAAAAEAAAAtoAMABAAAAAEAAAAaAAAAAHZhQ/wAAABcSURBVFgJ7dLBCcAwEANBx/337IQUsK/FcLD3FQgx9nO+W8NuD9v7z230rVdLOmkQ6HsAjholrXJCWdKAo0ZJq5xQljTgqFHSKieUJQ04apS0ygllSQOOGo2UfgEpPQQwSb0YngAAAABJRU5ErkJggg==\" data-src=\"' + gallery.path + item.thumbnail + '\">' +\n                                '<span class=\"is-overlay\"></span>' +\n                                (numbering? (showNumberOnHover?'<div class=\"is-number\">'+(numberCount+'').padStart(3, '0')+'</div>':'<div class=\"is-number show\">'+(numberCount+'').padStart(3, '0')+'</div>') :'') +\n                            '</button>';\n                            \n                            if(item.type === 'glide' || item.type === 'slick') {\n                                if(slider==='glide') {\n                                    if(item.type === 'glide') {\n                                        designList.insertAdjacentHTML('beforeend', html);\n                                        const btn = designList.querySelector('[data-id=\"' + item.id + '\"]');\n                                        btn.addEventListener('click', (e)=>{\n                                            const designid = btn.getAttribute('data-id');\n                                            addDesign(designid);\n                                        });\n                                    } \n                                } else if(slider==='slick') {\n                                    if(item.type === 'slick') {\n                                        designList.insertAdjacentHTML('beforeend', html);\n                                        const btn = designList.querySelector('[data-id=\"' + item.id + '\"]');\n                                        btn.addEventListener('click', (e)=>{\n                                            const designid = btn.getAttribute('data-id');\n                                            addDesign(designid);\n                                        });\n                                    } \n                                } else if(slider==='all') {\n                                    designList.insertAdjacentHTML('beforeend', html);\n                                    const btn = designList.querySelector('[data-id=\"' + item.id + '\"]');\n                                    btn.addEventListener('click', (e)=>{\n                                        const designid = btn.getAttribute('data-id');\n                                        addDesign(designid);\n                                    });\n                                } \n                            } else if(item.type === 'navbar' ) {\n                                if(navbar) {\n                                    designList.insertAdjacentHTML('beforeend', html);\n                                    const btn = designList.querySelector('[data-id=\"' + item.id + '\"]');\n                                    btn.addEventListener('click', (e)=>{\n                                        const designid = btn.getAttribute('data-id');\n                                        addDesign(designid);\n                                    });\n                                }\n                            } else {\n                                designList.insertAdjacentHTML('beforeend', html);\n                                const btn = designList.querySelector('[data-id=\"' + item.id + '\"]');\n                                btn.addEventListener('click', (e)=>{\n                                    const designid = btn.getAttribute('data-id');\n                                    addDesign(designid);\n                                });\n                            }\n                        }",a+="\n                        nIndex++;\n                    });\n                });\n        \n                const arr = document.querySelectorAll('img.lzy-img')\n                arr.forEach((v) => {\n                    imageObserver.observe(v);\n                });\n        \n                closeMegaMenu();\n                \n                if(designList.innerHTML.trim() === '') {\n                    // showDesigns(catId, designId);\n                    setTimeout(()=>{\n                        showDesigns(catId, designId);\n                    }, 300);\n                }\n        \n            }, 200);\n        \n            // Set active Button\n            const menu = document.querySelector('.mega-menu');\n            menu.setAttribute('data-active-cat', catId);\n            menu.setAttribute('data-active-design', designId);\n            const featuredCat = document.querySelector('.featured-categories');\n            const btnActive1 = menu.querySelector('button.on');\n            const btnActive2 = featuredCat.querySelector('button.on');\n            if(btnActive1) btnActive1.classList.remove('on');\n            if(btnActive2) btnActive2.classList.remove('on');\n            const btn1 = menu.querySelector('.item-'+catId+'-'+designId);\n            const btn2 = featuredCat.querySelector('.item-'+catId+'-'+designId);\n            if(btn1) btn1.classList.add('on');\n            if(btn2) btn2.classList.add('on');\n        }\n        \n        const renderMegaMenu = () => {\n            \n            if(template_list.length>0) {\n                const wait2 = document.querySelector('.is-waiting2');\n                wait2.style.display = 'none';\n            }\n\n            const menu = document.querySelector('.mega-menu');\n            const menuContent = document.querySelector('.mega-menu-content');\n            menuContent.innerHTML = '';\n        \n            let catNum = 0;\n            template_list.forEach(gallery=>{\n                let categories = gallery.categories;\n                let html = '<h2>'+parent._cb.out(gallery.name)+'</h2><div class=\"cat' +catNum+ '\"></div>';\n                menuContent.insertAdjacentHTML('beforeend', html);\n                const catList = menuContent.querySelector('.cat'+catNum);\n                \n                categories.forEach(categoryItem=>{\n                    let html= '<button class=\"item-'+categoryItem.id+'-'+gallery.designId+'\" data-cat=\"'+categoryItem.id+'\" data-design=\"'+gallery.designId+'\">'+parent._cb.out(categoryItem.name)+'</button>';\n                    catList.insertAdjacentHTML('beforeend', html);\n                    const btn = catList.querySelector('.item-'+categoryItem.id+'-'+gallery.designId);\n                    btn.addEventListener('click', (e)=>{\n                        const catId = btn.getAttribute('data-cat');\n                        const designId = btn.getAttribute('data-design');\n                        showDesigns(catId, designId);\n        \n                        closeMegaMenu();\n                    });\n                });\n                \n                catNum++;\n            });\n        \n            // Set active Button\n            const catId = menu.getAttribute('data-active-cat');\n            const designId = menu.getAttribute('data-active-design');\n            if(catId && designId) {\n                const btnActive = menu.querySelector('button.on');\n                if(btnActive) btnActive.classList.remove('on');\n                const btn = menu.querySelector('.item-'+catId+'-'+designId);\n                if(btn) btn.classList.add('on');\n            }\n        }\n        \n        const handleClick = (e) => {\n            if(!e.target.closest('.mega-menu') && !e.target.closest('[data-cat=\"0\"]')) { \n                closeMegaMenu();\n            }\n        };\n        \n        const showMegaMenu = () => {\n            const menu = document.querySelector('.mega-menu');\n            menu.style.display = 'block';\n            setTimeout(()=>{\n                menu.classList.add('active');\n                const menuClose = menu.querySelector('.close');\n                menuClose.focus();\n            }, 10);\n            const btn = document.querySelector('[data-cat=\"0\"]');\n            btn.classList.add('on');\n        \n            document.addEventListener('click', handleClick);\n            parent.document.addEventListener('click', handleClick); \n        }\n        \n        const closeMegaMenu = () => {\n            const menu = document.querySelector('.mega-menu.active');\n            if(!menu) return;\n            menu.classList.remove('active');\n            setTimeout(()=>{\n                menu.style.display = '';\n            }, 300);\n            const btn = document.querySelector('[data-cat=\"0\"]');\n            btn.classList.remove('on');\n        \n            document.removeEventListener('click', handleClick);\n            parent.document.removeEventListener('click', handleClick); \n        }\n        \n        const renderResize = () => {\n            const btns = document.querySelectorAll('.featured-categories button');\n            let viewportWidth = document.body.clientWidth;\n            if(viewportWidth < 1024 && viewportWidth>=800) {\n                let n = 0;\n                btns.forEach(btn=>{\n                    if(n>=5) {\n                        btns[n].style.display = 'none';\n                    } else {\n                        btns[n].style.display = '';\n                    }\n                    n++;\n                });\n            } else if(viewportWidth < 800) {\n                let n = 0;\n                btns.forEach(btn=>{\n                    if(n>=2) {\n                        btns[n].style.display = 'none';\n                    } else {\n                        btns[n].style.display = '';\n                    }\n                    n++;\n                });\n            } else {\n                let n = 0;\n                btns.forEach(btn=>{\n                    btns[n].style.display = '';\n                    n++;\n                });\n            }\n            btns[btns.length-1].style.display = '';\n        };\n\n        const renderFeaturedCategories= () => {\n            let html = '';\n            const div = document.querySelector('.featured-categories');\n            featuredCategories.forEach(item=>{\n                html += '<button class=\"item-'+item.id+'-'+item.designId+'\" data-cat=\"'+item.id+'\" data-design=\"'+item.designId+'\">'+parent._cb.out(item.name)+'</button>';\n            });\n            html += '<button data-cat=\"0\">'+parent._cb.out('All Categories')+'</button>';\n            div.insertAdjacentHTML('beforeend', html);\n        \n            const menu = document.querySelector('.mega-menu');\n            const btns = div.querySelectorAll('[data-cat]');\n            btns.forEach(btn=>{\n                btn.addEventListener('click', (e)=>{\n                    const catId = btn.getAttribute('data-cat');\n                    const designId = btn.getAttribute('data-design');\n                    if(catId==='0') {\n                        // Show All Categories' Mega Menu\n                        showMegaMenu();\n                    } else {\n                        showDesigns(catId, designId);\n                    }\n                });\n            });",a+="\n            const menuClose = menu.querySelector('.close');\n            menuClose.addEventListener('click',()=>{\n                closeMegaMenu();\n            });\n\n            renderResize();\n        }\n        \n        document.addEventListener(\"DOMContentLoaded\", function() {\n        \n            renderFeaturedCategories();\n        \n            const wait = document.querySelector('.is-waiting');\n            wait.style.display = 'flex';\n            const wait2 = document.querySelector('.is-waiting2');\n            wait2.style.display = 'flex';\n        \n            let totalLoaded = 0;\n\n            let designId = 1;\n            loadJsFiles(templateJSON, (template)=>{\n                // console.log(template_list)\n\n\n                // ---- Old Version (backward compatible) ----\n                totalLoaded+=1;\n                if(template_list.length!==totalLoaded) {\n                    if(template.url.indexOf('basic.js')!==-1) {\n\n                        let arr = {\n                            name: 'Simple Start',\n                            categories: [\n                                { id: 5, name: 'Random' }, \n                                { id: 1, name: 'Basic' },\n                                { id: 2, name: 'Slider' },\n                                { id: 3, name: 'Video' },\n                                { id: 4, name: 'Custom' },\n                            ],\n                            designs: window.data_basic.designs\n                        };\n                        template_list.push(arr);\n\n                    }\n                    if(template.url.indexOf('examples.js')!==-1) {\n                        \n                        let arr = {\n                            name: 'Quick Start',\n                            categories: [\n                                { id: 101, name: 'Header' }, \n                                { id: 118, name: 'Article' },\n                                { id: 102, name: 'Photos' },\n                                { id: 103, name: 'Profile' },\n                                { id: 104, name: 'Products, Services' },\n                                { id: 105, name: 'Features' },\n                                { id: 106, name: 'Process' },\n                                { id: 107, name: 'Pricing' },\n                                { id: 108, name: 'Skills' },\n                                { id: 109, name: 'Achievements' },\n                                { id: 110, name: 'Quotes' },\n                                { id: 111, name: 'Partners' },\n                                { id: 112, name: 'As Featured On' },\n                                { id: 113, name: 'Page Not Found' },\n                                { id: 114, name: 'Coming Soon' },\n                                { id: 115, name: 'Help, FAQ' },\n                                { id: 116, name: 'Contact' },\n                                { id: 117, name: 'Footer' },\n                            ],\n                            designs: window.data_examples.designs\n                        };\n                        template_list.push(arr);\n\n                    }\n                }\n                // ---- /Old Version ----\n\n\n                // console.log(template)\n                const templateAdded = template_list[template_list.length-1];\n                templateAdded.path = template.path;\n                templateAdded.pathReplace = template.pathReplace;\n                templateAdded.designId = designId;\n                templateAdded.numbering = template.numbering;\n                templateAdded.showNumberOnHover = template.showNumberOnHover;\n                // console.log(templateAdded);\n        \n                renderMegaMenu();\n        \n                const designList = document.querySelector('.is-design-list');\n                if(designList.innerHTML.trim()==='') { // first load\n                    const cats = templateAdded.categories;\n                    cats.forEach(cat=>{\n                        if(parseInt(cat.id)===defaultCategory.id && designId===defaultCategory.designId) {\n                            showDesigns(defaultCategory.id, designId);\n                        }\n                    });\n                }\n                designId++;\n            });\n        })\n        \n        \n        document.addEventListener('keydown', (e)=>{\n            if(e.keyCode === 27) { // escape key\n        \n                const menu = document.querySelector('.mega-menu.active');\n                if(menu) {\n                    closeMegaMenu();\n        \n                    e.preventDefault();\n                    return;\n                } \n            }\n        });\n\n        window.addEventListener('resize', ()=>{\n            renderResize();\n        });\n\n        applyParentStyles();\n                  \n        // Style stuff\n        function applyParentStyles() {\n            var cssString = '' +\n                'html {' +\n                    '--area-color: ' + parent._cb.styleModalColor + ';' +\n                    '--area-background: ' + parent._cb.styleModalBackground + ';' +\n                    '--area2-color: ' + parent._cb.styleSnippetColor + ';' +\n                    '--area2-background: ' + parent._cb.styleSnippetBackground + ';' +\n                    '--tabs-background: ' + parent._cb.styleSnippetTabsBackground + ';' +\n                    '--tab-item-color: ' + parent._cb.styleSnippetTabItemColor + ';' +\n                    '--tab-item-background: ' + parent._cb.styleSnippetTabItemBackground + ';' +\n                    '--tab-item-active: ' + parent._cb.styleSnippetTabItemBackgroundActive + ';' +\n                    '--tab-item-hover: ' + parent._cb.styleSnippetTabItemBackgroundHover + ';' +\n                    '--mega-menu: ' + parent._cb.styleSnippetTabsBackground + ';' +\n                    '--is-waiting: ' + parent._cb.styleSnippetBackground + ';' +\n                    '--is-waiting2: ' + parent._cb.styleSnippetTabsBackground + ';' +\n                '}' +\n                '.area2 {' +\n                    'color: var(--area2-color);' +\n                    'background: var(--area2-background);' +\n                '}' +\n                '.area2 button {' +\n                    'color: var(--area2-color);' +\n                '}' +\n                '.area2 button svg{' +\n                    'fill: var(--area2-color);' +\n                '}' +\n                '.tabs {' +\n                    'background: var(--tabs-background);' +\n                '}' +\n                '.tabs button, .mega-menu button {' +\n                    'color: var(--tab-item-color);' +\n                    'background: var(--tab-item-background);' +\n                '}' +\n                '.tabs button.on, .mega-menu button.on {' +\n                    'background: var(--tab-item-active);' +\n                '}' +\n                '.tabs button.on:hover, .mega-menu button.on:hover {' +\n                    'background: var(--tab-item-active);' +\n                '}' +\n                '.tabs button:hover, .mega-menu button:hover {' +\n                    'background: var(--tab-item-hover);' +\n                '}' +\n                '.mega-menu {' +\n                    'background: var(--mega-menu);' +\n                '}' +\n                '.mega-menu button.close:hover {' +\n                    'background: var(--mega-menu);' +\n                '}' +\n                '.is-waiting {' +\n                    'background: var(--is-waiting);' +\n                '}' +\n                '.is-waiting2 {' +\n                    'background: var(--is-waiting2);' +\n                '}' +\n                '';\n            \n            let themestyle = document.querySelector('[data-theme-style]');\n            if(themestyle) themestyle.parentNode.removeChild(themestyle);\n            \n            var style = document.createElement(\"style\");\n            style.setAttribute('data-theme-style','');\n            style.innerHTML = cssString;\n            document.head.appendChild(style);\n\n            if(parent._cb.styleDark) {\n                document.body.setAttribute('class', 'dark');\n            } else if(parent._cb.styleColored) {\n                document.body.setAttribute('class', 'colored');\n            } else if(parent._cb.styleColoredDark) {\n                document.body.setAttribute('class', 'colored-dark');\n            } else if(parent._cb.styleLight) {\n                document.body.setAttribute('class', 'light');\n            } else {\n                document.body.setAttribute('class', '');\n            }\n\n            document.body.classList.add('area2');\n        }\n        <\/script>\n        </body>\n        </html>\n        ",a}getTemplatesHtml_OLD(){const e=this.builder.designUrl1,t=this.builder.designUrl2;let n=`\n        <!DOCTYPE HTML>\n        <html>\n        <head>\n            <meta charset="utf-8">\n            <title></title>\n            <meta name="viewport" content="width=device-width, initial-scale=1">\n            <meta name="description" content="">      \n            <style>        \n                body {\n                    /* background: rgba(255,255,255,0.7); */\n                    margin: 0;\n                }\n        \n                .is-design-list {\n                    position: fixed;\n                    top: 0px;\n                    left: 0px;\n                    border-top: transparent 80px solid;\n                    width: 100%;\n                    height: 100%;\n                    overflow-y: auto;\n                    padding: 0px 0px 30px 0px;\n                    box-sizing: border-box;\n                    overflow: auto;\n                }\n        \n                .is-design-list>div {\n                    position:relative;\n                    /* background: #fff; */\n                    width: 250px;\n                    overflow: hidden;\n                    margin: 32px 0 0 30px;\n                    cursor: pointer;\n                    display: inline-block;\n                    outline: rgba(219, 219, 219, 0.39) 1px solid;\n                    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);\n                    border-radius:2px;\n                }\n        \n                .is-design-list>div img {\n                    box-shadow: none;\n                    opacity: 1;\n                    display: block;\n                    box-sizing: border-box;\n                    transition: all 0.2s ease-in-out;\n                    max-width: 400px;\n                    width: 100%\n                }\n                \n                .is-overlay {\n                    position:absolute;left:0px;top:0px;width:100%;height:100%;\n                }\n                .is-design-list>div .is-overlay:after {\n                    background: rgba(0, 0, 0, 0.03);\n                    position: absolute;\n                    content: "";\n                    display: block;\n                    top: 0;\n                    left: 0;\n                    right: 0;\n                    bottom: 0;\n                    transition: all 0.3s ease-in-out;\n                    opacity: 0;\n                }\n                .is-design-list>div:hover .is-overlay:after {\n                    opacity: 0.9;\n                }\n        \n                .is-category-list {\n                    position: relative;\n                    top: 0px;\n                    left: 0px;\n                    width: 100%;\n                    height: 80px;\n                    /* background: #f5f5f5; */\n                    box-sizing: border-box;\n                    z-index: 1;\n                }\n        \n                .is-category-list>div {\n                    display: inline-block;\n                    white-space: nowrap;\n                    padding: 13px 10px 0 20px;\n                    box-sizing: border-box;\n                    font-family: sans-serif;\n                    font-size: 10px;\n                    text-transform: uppercase;\n                    letter-spacing: 2px;\n                    /* background: #f5f5f5; */\n                }\n        \n                .is-category-list > div > div {\n                    margin-bottom:10px;\n                    margin-left:5px;\n                }\n                .is-category-list > div > a {\n                    display: inline-block;\n                    padding: 10px 25px;\n                    /* background: #fefefe;\n                    color: #000; */\n                    border-radius: 50px;\n                    \n                    margin: 0 15px 8px 0;\n                    text-decoration: none;\n                    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.03);\n                }\n                \n                .is-category-list > div > a:hover {\n                    /* background: #fafafa;\n                    color: #000; */\n                }\n                .is-category-list > div > a.active {\n                    /* background: #f5f5f5;\n                    color: #000; */\n                    box-shadow: none;\n                }\n                \n                .is-category-list a:focus {\n                    outline:  ${this.builder.editor.styleOutlineColor} 2px solid;\n                }\n\n                .is-design-list>div:focus {\n                    outline:  ${this.builder.editor.styleOutlineColor} 2px solid;\n                }\n                \n                `;return n+="\n                \n                .is-more-categories {\n                    display: none;\n                    flex-flow: wrap;\n                    position: absolute;\n                    width: 400px;\n                    box-sizing: border-box;\n                    padding: 0;\n                    z-index: 1;\n                    font-family: sans-serif;\n                    font-size: 10px;\n                    text-transform: uppercase;\n                    letter-spacing: 2px;\n                    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);\n                    /* background: #fff; */\n                }\n        \n                .is-more-categories a {\n                    width: 200px;\n                    float: left;\n                    display: block;\n                    box-sizing: border-box;\n                    padding: 12px 20px;\n                    /* background: #fff; */\n                    text-decoration: none;\n                    /* color: #000; */\n                    line-height: 1.6;\n                }\n        \n                /* .is-more-categories a:hover {\n                    background:#eee;\n                }\n                .is-more-categories a.active {\n                    background:#eee;\n                } */\n                .is-more-categories.active {\n                    display: flex;\n                }\n\n                /*\n                .is-category-list {visibility:hidden}\n                .is-more-categories {visibility:hidden}\n                */\n                \n                /* Responsive */\n                .is-category-list > div > a.more-basic {display:none}\n                .is-category-list > div > .screen1 {display:inline-block}\n                .is-more-categories .screen1 {display:none}\n                .is-category-list > div > .screen2 {display:inline-block}\n                .is-more-categories .screen2 {display:none}        \n                @media all and (max-width: 970px) {\n                    .is-category-list > div > .screen1 {display:none}\n                    .is-more-categories .screen1 {display:block}\n                    .is-category-list > div > a.more-basic {display:inline-block}\n                }   \n                @media all and (max-width: 690px) {\n                    .is-category-list > div > .screen2 {display:none}\n                    .is-more-categories .screen2 {display:block}\n                    .is-category-list > div > a.more-basic {display:inline-block}\n                }             \n                .is-more-categories a.cms-option {display:none}\n                \n                /* Enable Module/Placeholder \n                .is-category-list > div > a.more-basic {display:inline-block}\n                .custom {display:none}        \n                .is-more-categories a.cms-option {display:block}\n                */\n                \n                \n                /* First Loading */\n                .is-category-list {opacity:0;transition: opacity ease 0.3s;} \n                .is-design-list {opacity:0;transition: opacity ease 0.3s;} \n        \n            </style>     \n        </head>",n+=`<body>\n        \n            <div class="is-category-list">\n                \x3c!--<a href="" data-cat="0">Default</a>--\x3e\n                <div style="border-right: rgba(255,255,255,0.1) 1px solid;">\n                    <div>${i("Simple Start:")}</div>\n                    <a href="" data-cat="5">${i("Random")}</a>\n                    <a href="" data-cat="1" class="screen2">Basic</a>\n                    <a href="" class="slider-section screen2" data-cat="2">${i("Slider")}</a>\n                    <a href="" data-cat="3" class="screen1 screen2">${i("Video")}</a>\n                    <a href="" data-cat="4" class="screen1 screen2 custom">${i("Custom")}</a>\n                    <a href="" class="more-basic">${i("More")}</a>\n                </div>\n                <div>\n                    <div>Quick Start: </div>\n                    <a href="" data-cat="101" class="screen2">${i("Header")}</a>\n                    <a href="" data-cat="118" class="screen2">${i("Article")}</a>\n                    <a href="" data-cat="103" class="screen1 screen2">${i("Profile")}</a>\n                    <a href="" class="more-examples">${i("More")}</a>\n                </div>\n            </div>\n            <div id="morebasic" class="is-more-categories" style="width:200px">\n                <a href="" data-cat="1" class="screen2">${i("Basic")}</a>\n                <a href="" data-cat="2" class="screen2">${i("Slider")}</a>\n                <a href="" data-cat="3" class="screen1">${i("Video")}</a>\n                <a href="" data-cat="4" class="screen1">${i("Custom")}</a>\n\n                <a href="" data-cat="51" class="cms-option">${i("Module")}</a>\n                <a href="" data-cat="52" class="cms-option">${i("Placeholder")}</a>\n            </div>\n            <div id="morecat" class="is-more-categories">\n                <a href="" data-cat="101" class="screen2">${i("Header")}</a>\n                <a href="" data-cat="118" class="screen2">${i("Article")}</a>\n                <a href="" data-cat="103" class="screen1 screen2">${i("Profile")}</a>\n\n                <a href="" data-cat="102">${i("Photos")}</a>\n                <a href="" data-cat="104">${i("Products, Services")}</a>\n                <a href="" data-cat="105">${i("Features")}</a>\n                <a href="" data-cat="106">${i("Process")}</a>\n                <a href="" data-cat="107">${i("Pricing")}</a>\n                <a href="" data-cat="108">${i("Skills")}</a>\n                <a href="" data-cat="109">${i("Achievements")}</a>\n                <a href="" data-cat="110">${i("Quotes")}</a>\n                <a href="" data-cat="111">${i("Partners")}</a>\n                <a href="" data-cat="112">${i("As Featured On")}</a>    \n                <a href="" data-cat="113">${i("Page Not Found")}</a>\n                <a href="" data-cat="114">${i("Coming Soon")}</a>\n                <a href="" data-cat="115">${i("Help, FAQ")}</a>\n                <a href="" data-cat="116">${i("Contact")}</a>\n                <a href="" data-cat="117" class="static-section">${i("Footer")}</a>\n                \n                <div class="template-extension" style="display:none">\n                    \x3c!--\n                    <div style="font-weight: 600;padding: 15px 0 10px 19px;width: 100%;position: relative !important;border-top: rgb(0 0 0 / 4%) 1px solid;">\n                        Writing Set\n                    </div>\n                    <div>\n                        <a href="" data-cat="102">${i("General")}</a>\n                        <a href="" data-cat="108">${i("Agency")}</a>\n                        <a href="" data-cat="114">${i("Travel")}</a>\n                        <a href="" data-cat="116">${i("Food")}</a>\n                    </div>\n                    --\x3e\n                </div>\n\n            </div>\n\n            <div class="is-design-list">\n            </div>\n            \n            <script src="${e}"><\/script>     \n            <script src="${t}"><\/script>  \n            \n            <script>\n\n                applyParentStyles();\n                setTimeout(()=>{\n                    document.querySelector('.is-category-list').style.opacity = 1;\n                    document.querySelector('.is-design-list').style.opacity = 1;\n                },300);\n\n                \n                function hasClass(element, classname) {\n                    if(!element) return false;\n                    try{\n                        let s = element.getAttribute('class');\n                        if(!s) return false;\n                        let exists = false;\n                        s.split(' ').forEach((item)=>{\n                            if(item===classname) {\n                                exists=true;\n                            }\n                        });\n                        return exists;\n                    } catch(e) { \n                        // Do nothing\n                    }\n                }\n\n                function appendHtml(parent, html) {\n                    parent.insertAdjacentHTML('beforeend', html);\n                }\n                function addClass(element, classname) {\n                    if(!element) return;\n                    if(element.length) {\n                        element.forEach((elm) => {\n                            _addClass(elm, classname);\n                        })\n                        return;\n                    } \n                    _addClass(element, classname);\n            \n                }`,n+=`\n                function _addClass(element, classname) {\n                    if(!element) return;\n                    if(element.length) {\n                        return;\n                    } \n                    if(hasClass(element,classname)) return;\n                    if(element.classList.length===0) element.className = classname;\n                    else element.className = element.className + ' ' + classname;\n                    element.className = element.className.replace(/  +/g, ' ');\n                }\n\n                function _removeClass(element, classname) {\n                    if(!element) return;\n                    if(!element) return;\n                    if(element.classList.length>0) {\n                        let i, j, imax, jmax;\n                        let classesToDel = classname.split(' ');\n                        for (i=0, imax=classesToDel.length; i<imax; ++i) {\n                            if (!classesToDel[i]) continue;\n                            let classtoDel = classesToDel[i];\n                \n                            let sClassName = ''; \n                            let currentClasses = element.className.split(' ');\n                            for (j=0, jmax=currentClasses.length; j<jmax; ++j) {\n                                if (!currentClasses[j]) continue;\n                                if (currentClasses[j]!==classtoDel) sClassName += currentClasses[j] + ' ';\n                            }\n                            element.className = sClassName.trim();\n                        }\n                        if(element.className==='') element.removeAttribute('class');\n                    }\n                }\n                function removeClass(element, classname) {\n                    if(!element) return;\n                    if(element.length) {\n                        element.forEach((elm) => {\n                            _removeClass(elm, classname);\n                        })\n                        return;\n                    } \n                    _removeClass(element, classname);\n                }\n                function getElementOffset(el) {\n                    const rect = el.getBoundingClientRect();\n                    \n                    return {\n                        top: rect.top + window.pageYOffset,\n                        left: rect.left + window.pageXOffset,\n                        width: rect.width,\n                        height: rect.height\n                    };\n                }\n                \n                var defaultCat =  ${this.builder.defaultDesignCategory}; //Show 'Header' category: 101\n                var disableStaticSection = false;\n                try {\n                    disableStaticSection = ${this.builder.disableStaticSection};\n                } catch (e) { }\n                if (disableStaticSection) document.querySelector('.static-section').style.display = 'none';\n\n                var elm = document.querySelector('.is-category-list');\n                var tab = elm.querySelector('[data-cat="' + defaultCat + '"]');\n                if(tab) addClass(tab,'active');\n\n                elm = document.querySelector('#morecat');\n                tab = elm.querySelector('[data-cat="' + defaultCat + '"]');\n                if(tab) addClass(tab,'active');\n\n                elm = document.querySelector('#morebasic');\n                tab = elm.querySelector('[data-cat="' + defaultCat + '"]');\n                if(tab) addClass(tab,'active');\n                \n                /*\n                elm = document.querySelector('.is-category-list');\n                elm.style.visibility = 'visible';\n                var elms = document.querySelectorAll('.is-more-categories'); \n                elms.forEach(function(elm){\n                    elm.style.visibility = 'visible';\n                });\n                */\n\n                var nIndex = 1;\n                var path = '${this.builder.designPath}';\n                var navbar = ${this.builder.navbar};\n                data_basic.designs.forEach(function(item){\n\n                    var isdefault = false;\n                    var catSplit = item.category.split(',');\n                    for (var j = 0; j < catSplit.length; j++) {\n                        if (catSplit[j] == defaultCat) {\n                            isdefault = true;\n                        }\n                    }\n                    item.id = nIndex; //Give id to each record\n        \n                    if (isdefault) {\n                        var elm = document.querySelector('.is-design-list');\n\n                        var html = '<div role="button" tabindex="0" class="active" data-id="' + item.id + '" data-cat="' + item.category + '"><img src="' + path + item.thumbnail + '"><span class="is-overlay"></span></div>';\n                        //appendHtml(elm, html);\n\n                        if(item.type === 'navbar' ) {\n                            if(navbar) {\n                                appendHtml(elm, html);\n                            }\n                        } else {\n                            appendHtml(elm, html);\n                        }\n                    }\n        \n                    nIndex++;\n                });`,n+="\n                data_examples.designs.forEach(function(item){\n\n                    var isdefault = false;\n                    var catSplit = item.category.split(',');\n                    for (var j = 0; j < catSplit.length; j++) {\n                        if (catSplit[j] == defaultCat) {\n                            isdefault = true;\n                        }\n                    }\n                    item.id = nIndex; //Give id to each record\n        \n                    if (isdefault) {\n                        var elm = document.querySelector('.is-design-list');\n                        var html = '<div role=\"button\" tabindex=\"0\" data-id=\"' + item.id + '\" data-cat=\"' + item.category + '\"><img src=\"' + path + item.thumbnail + '\"><span class=\"is-overlay\"></span></div>';\n                        appendHtml(elm, html);\n                    }\n        \n                    nIndex++;\n                });\n\n                var btnMore1 = document.querySelector('.more-basic');\n                var btnMore2 = document.querySelector('.more-examples');\n                btnMore1.addEventListener('click', function(e){\n                    let elms = document.querySelectorAll('.is-more-categories');\n                    removeClass(elms, 'active');\n\n                    addClass(btnMore1, 'active');\n                    removeClass(btnMore2, 'active');\n\n                    let elm = document.querySelector('#morebasic');\n                    addClass(elm, 'active');\n\n                    var top = getElementOffset(btnMore1).top;\n                    var left = getElementOffset(btnMore1).left;\n                    top = top + 42;\n                    elm.style.top = top + 'px';\n                    elm.style.left = left + 'px';\n                    e.preventDefault();\n                });\n                btnMore2.addEventListener('click', function(e){\n                    let elms = document.querySelectorAll('.is-more-categories');\n                    removeClass(elms, 'active');\n\n                    addClass(btnMore2, 'active');\n                    removeClass(btnMore1, 'active');\n\n                    let elm = document.querySelector('#morecat');\n                    addClass(elm, 'active');\n\n                    var top = getElementOffset(btnMore2).top;\n                    var left = getElementOffset(btnMore2).left;\n                    top = top + 42;\n                    elm.style.top = top + 'px';\n                    elm.style.left = 'auto';\n                    elm.style.right = '0px';\n                    e.preventDefault();\n                });\n\n                elms = document.querySelectorAll('.is-more-categories a');\n                elms.forEach(function(elm){\n                    elm.addEventListener('click', function(e){\n\n                        selectCategory(elm);\n             \n                        let cat = e.target.getAttribute('data-cat');\n                        if(cat==='1'||cat==='2'||cat==='3'||cat==='4'||cat==='5'||cat==='51'||cat==='52') {\n                            document.querySelector('.more-basic').focus();\n                        } else {\n                            document.querySelector('.more-examples').focus();\n                        }\n\n                        e.preventDefault();\n                    });\n                });\n\n                elms = document.querySelectorAll('.is-category-list a');\n                elms.forEach(function(elm){\n                    elm.addEventListener('click', function(e){\n                     \n                        if(!elm.getAttribute('data-cat')) return;\n\n                        selectCategory(elm);\n             \n                        e.preventDefault();\n                    });\n                });\n\n                var div = document.querySelectorAll('.is-design-list div');\n                div.forEach(function(btn){\n                    btn.addEventListener('click', function(e){\n                        var designid = btn.getAttribute('data-id');\n                        addDesign(designid);\n                    });\n                    btn.addEventListener('keydown', function(e){\n                        //Extra  \n                        if ((e.which === 9 && !e.shiftKey)) { // tab key pressed\n                            const items = e.target.parentNode.querySelectorAll('.active');\n                            if(items.length>0) {\n                                let lastItem = items[items.length-1];\n                                if(e.target===lastItem) {\n                                    let tab = document.querySelector('.is-category-list a.active');\n                                    if(tab) tab.focus();\n                                    else {\n                                        let cat = lastItem.getAttribute('data-cat');\n                                        if(cat==='1'||cat==='2'||cat==='3'||cat==='4'||cat==='5'||cat==='51'||cat==='52') {\n                                            document.querySelector('.more-basic').focus();\n                                        } else {\n                                            document.querySelector('.more-examples').focus();\n                                        }\n                                    }\n                                    \n                                    e.preventDefault();\n                                }\n                            }\n                        } else if ((e.which === 9 && e.shiftKey)) { // tab + shift key pressed\n                            const firstItem = e.target.parentNode.querySelector('.active');\n                            if(e.target===firstItem) {\n                                let tab = document.querySelector('.is-category-list a.active');\n                                if(tab) tab.focus();\n                                else {\n                                    let cat = firstItem.getAttribute('data-cat');\n                                    if(cat==='1'||cat==='2'||cat==='3'||cat==='4'||cat==='5'||cat==='51'||cat==='52') {\n                                        document.querySelector('.more-basic').focus();\n                                    } else {\n                                        document.querySelector('.more-examples').focus();\n                                    }\n                                }\n                                \n                                e.preventDefault();\n                            }\n                        } else if(e.keyCode === 13 || e.keyCode === 32) { // enter or spacebar key\n                            var designid = btn.getAttribute('data-id');\n                            addDesign(designid);\n                        }\n                    });\n                });\n\n                document.addEventListener(\"click\", function(e) {\n                    var btn1 = document.querySelector('.more-basic');\n                    var btn2 = document.querySelector('.more-examples');\n                    var targetEl = e.target; // clicked element      \n                    do {\n                      if(targetEl == btn1 || targetEl == btn2) {\n                        // Click inside\n                        return;\n                      }\n                      targetEl = targetEl.parentNode;\n                    } while (targetEl);\n\n                    // Click outside\n\n                    var elms = document.querySelectorAll('.is-more-categories');\n                    removeClass(elms,'active');\n                    removeClass(btn1,'active');\n                    removeClass(btn2,'active');\n                });",n+=`\n                parent.document.addEventListener("click", function(e) {\n                    var btn1 = document.querySelector('.more-basic');\n                    var btn2 = document.querySelector('.more-examples');\n                    \n                    var elms = document.querySelectorAll('.is-more-categories');\n                    removeClass(elms,'active');\n                    removeClass(btn1,'active');\n                    removeClass(btn2,'active');\n                });\n\n                // elm = document.querySelector('.is-category-list');\n                // elm.style.display = 'block';\n                elm = document.querySelector('.is-design-list');\n                elm.style.display = 'block';\n\n                var slider = '${this.builder.slider}';\n                var navbar = ${this.builder.navbar};\n\n                if(slider==='') document.querySelector('.slider-section').style.display = 'none';\n\n                function selectCategory(elm) {\n           \n                    var cat = elm.getAttribute('data-cat');\n                    var div = document.querySelector('.is-design-list');\n                    var items = div.querySelectorAll('[data-cat="' + cat + '"]');\n                    if(items.length == 0) {\n                                    \n                        data_basic.designs.forEach(function(item){\n                            if (cat == item.category) {\n\n                                if(item.type === 'glide' || item.type === 'slick') {\n                                    if(slider==='glide') {\n                                        if(cat === '2') {\n                                            if(item.type === 'glide') {\n                                                appendHtml(div, '<div role="button" tabindex="0" data-id="' + item.id + '" data-cat="' + item.category + '"><img src="' + path+item.thumbnail + '"><span class="is-overlay"></span></div>');\n                                            } \n                                        } \n                                    } else if(slider==='slick') {\n                                        if(cat === '2') {\n                                            if(item.type === 'slick') {\n                                                appendHtml(div, '<div role="button" tabindex="0" data-id="' + item.id + '" data-cat="' + item.category + '"><img src="' + path+item.thumbnail + '"><span class="is-overlay"></span></div>');\n                                            } \n                                        } \n                                    } else if(slider==='all') {\n                                        appendHtml(div, '<div role="button" tabindex="0" data-id="' + item.id + '" data-cat="' + item.category + '"><img src="' + path+item.thumbnail + '"><span class="is-overlay"></span></div>');\n                                    } \n                                } else if(item.type === 'navbar' ) {\n                                    if(navbar) {\n                                        appendHtml(div, '<div role="button" tabindex="0" data-id="' + item.id + '" data-cat="' + item.category + '"><img src="' + path+item.thumbnail + '"><span class="is-overlay"></span></div>');\n                                    }\n                                } else {\n                                    appendHtml(div, '<div role="button" tabindex="0" data-id="' + item.id + '" data-cat="' + item.category + '"><img src="' + path+item.thumbnail + '"><span class="is-overlay"></span></div>');\n                                }\n                                \n                            }\n                        });\n                        data_examples.designs.forEach(function(item){\n                            if (cat == item.category) {\n                                appendHtml(div, '<div role="button" tabindex="0" data-id="' + item.id + '" data-cat="' + item.category + '"><img src="' + path+item.thumbnail + '"><span class="is-overlay"></span></div>');\n                            }\n                        });\n\n                        items = div.querySelectorAll('[data-cat="' + cat + '"]');\n                        items.forEach(function(btn){\n                            btn.addEventListener('click', function(e){\n                                var designid = btn.getAttribute('data-id');\n                                addDesign(designid);\n                            });\n                            btn.addEventListener('keydown', function(e){\n                                //Extra  \n                                if ((e.which === 9 && !e.shiftKey)) { // tab key pressed\n                                    const items = e.target.parentNode.querySelectorAll('.active');\n                                    if(items.length>0) {\n                                        let lastItem = items[items.length-1];\n                                        if(e.target===lastItem) {\n                                            let tab = document.querySelector('.is-category-list a.active');\n                                            if(tab) tab.focus();\n                                            else {\n                                                let cat = lastItem.getAttribute('data-cat');\n                                                if(cat==='1'||cat==='2'||cat==='3'||cat==='4'||cat==='5'||cat==='51'||cat==='52') {\n                                                    document.querySelector('.more-basic').focus();\n                                                } else {\n                                                    document.querySelector('.more-examples').focus();\n                                                }\n                                            }\n                                            \n                                            e.preventDefault();\n                                        }\n                                    }\n                                } else if ((e.which === 9 && e.shiftKey)) { // tab + shift key pressed\n                                    const firstItem = e.target.parentNode.querySelector('.active');\n                                    if(e.target===firstItem) {\n                                        let tab = document.querySelector('.is-category-list a.active');\n                                        if(tab) tab.focus();\n                                        else {\n                                            let cat = firstItem.getAttribute('data-cat');\n                                            if(cat==='1'||cat==='2'||cat==='3'||cat==='4'||cat==='5'||cat==='51'||cat==='52') {\n                                                document.querySelector('.more-basic').focus();\n                                            } else {\n                                                document.querySelector('.more-examples').focus();\n                                            }\n                                        }\n                                        \n                                        e.preventDefault();\n                                    }\n                                } else if(e.keyCode === 13 || e.keyCode === 32) { // enter or spacebar key\n                                    var designid = btn.getAttribute('data-id');\n                                    addDesign(designid);\n                                }\n                            });\n                        });\n\n                    }\n\n                    var _elms = document.querySelectorAll('.is-category-list a');\n                    removeClass(_elms,'active');\n                    _elms = document.querySelectorAll('.is-more-categories a');\n                    removeClass(_elms,'active');\n                    addClass(elm,'active');\n    \n                    if (cat) {\n                        _elms = document.querySelectorAll('.is-design-list div');\n                        _elms.forEach(function(elm) {\n                            elm.style.display =  'none';\n                            elm.classList.remove('active');\n                        });\n                        _elms.forEach(function(elm) {\n                            var catSplit = elm.getAttribute('data-cat').split(',');\n                            for (var j = 0; j < catSplit.length; j++) {\n                                if (catSplit[j] == cat) {\n                                    elm.style.display =  '';\n                                    elm.classList.add('active');\n                                }\n                            }\n                        });\n                        \n                    }\n\n                    _elms = document.querySelectorAll('.is-more-categories');\n                    removeClass(_elms,'active');\n                }`,n+=`\n\n                let categorylist = document.querySelector('.is-category-list');\n                let designlist = document.querySelector('.is-design-list');\n\n                let inputTabs = [];\n                let inputTabsAll = document.querySelectorAll('.is-category-list a');\n                inputTabsAll.forEach((item)=>{\n                    let display = window.getComputedStyle(item).getPropertyValue('display');\n                    if(display==='inline-block') {\n                        item.classList.add('show');\n                        inputTabs.push(item);\n                    } else {\n                        item.classList.remove('show');\n                    }\n                });\n                let index = 0;\n                inputTabs.forEach((item)=>{\n\n                    let nextItem = inputTabs[index+1];\n                    let prevItem = inputTabs[index-1];\n                   \n                    item.addEventListener('keydown', (e)=>{\n                        e.preventDefault();\n                        \n                        if (e.which === 39) { // arrow right key pressed\n                            if(nextItem) nextItem.focus();\n                        } else if (e.which === 37) { // arrow left key pressed\n                            if(prevItem) prevItem.focus();\n                        } else if(e.keyCode === 13 || e.keyCode === 32) { // enter or spacebar key\n           \n                            if(e.target===btnMore1) {\n                                \n                                btnMore1.click();\n\n                                e.preventDefault();\n                                e.stopImmediatePropagation();\n                            } else if(e.target===btnMore2) {\n                  \n                                btnMore2.click();\n\n                                e.preventDefault();\n                                e.stopImmediatePropagation();\n                            } else {\n\n                                selectCategory(e.target);\n                            \n                            }\n                        } else if(e.which === 40 && (e.target.classList.contains('more-basic') || e.target.classList.contains('more-examples'))) { // down\n\n                            // Redirect to dropdown list\n                            let firstItem;\n                            let activeItem;\n                            let moreCategories = document.querySelector('.is-more-categories.active');\n                            let items = moreCategories.querySelectorAll('a');\n                            items.forEach(item=>{\n                                let display = window.getComputedStyle(item).getPropertyValue('display');\n                                if(display==='block') {\n                                    item.classList.add('show');\n                                    if(item.classList.contains('active')) {\n                                        activeItem=item;\n                                    }\n                                } else {\n                                    item.classList.remove('show');\n                                }\n                            });\n                            firstItem = moreCategories.querySelector('.show');\n                            if(activeItem) {\n                                activeItem.focus();\n                            } else {\n                                firstItem.focus();\n                            }\n\n                        } else if (e.which === 27) {\n                            // let moreCategories = document.querySelector('.is-more-categories.active');\n                            // if(moreCategories) moreCategories.classList.remove('active');\n                            // let activeTab = document.querySelector('.more-basic.active,.more-examples.active');\n                            // if(activeTab) activeTab.focus();\n                        } else if ((e.which === 9 && !e.shiftKey)) { // tab key pressed\n               \n                            // Redirect to tab content\n                            let inputs = [];\n                            let controls = designlist.querySelectorAll('.active');\n                            controls.forEach(control=>{\n                                inputs.push(control);\n                            });\n\n                            if(inputs.length===0) return;\n\n                            let firstInput = inputs[0];\n\n                            firstInput.focus();\n\n                            let lastInput = inputs[inputs.length-1];\n                   \n                            lastInput.addEventListener('keydown', (e)=>{\n                      \n                                e.preventDefault();\n                                if ((e.which === 9 && !e.shiftKey)) { // tab key pressed\n                                    let tab = document.querySelector('.is-category-list a.active');\n                                    if(tab) tab.focus();\n                                    else {\n                                        let cat = lastInput.getAttribute('data-cat');\n                                        if(cat==='1'||cat==='2'||cat==='3'||cat==='4'||cat==='5'||cat==='51'||cat==='52') {\n                                            document.querySelector('.more-basic').focus();\n                                        } else {\n                                            document.querySelector('.more-examples').focus();\n                                        }\n                                    }\n                                }\n                            });\n                        } \n                        \n                    });\n                    index++;\n                });\n\n\n                let dropdownItems = document.querySelectorAll('.is-more-categories a');\n                Array.prototype.forEach.call(dropdownItems, (item) => {\n\n                    item.addEventListener('keydown', (e)=>{\n                        e.preventDefault();\n                        if(e.keyCode === 38 && e.target.previousElementSibling && window.getComputedStyle(e.target.previousElementSibling).getPropertyValue('display')==='block') { // up\n                            e.target.previousElementSibling.focus();\n                        } else if(e.keyCode === 40 && e.target.nextElementSibling && window.getComputedStyle(e.target.nextElementSibling).getPropertyValue('display')==='block') { // down\n                            e.target.nextElementSibling.focus();\n                        } else if(e.keyCode === 13 || e.keyCode === 32) { // enter or spacebar key\n                            selectCategory(e.target);\n\n                            let cat = e.target.getAttribute('data-cat');\n                            if(cat==='1'||cat==='2'||cat==='3'||cat==='4'||cat==='5'||cat==='51'||cat==='52') {\n                                document.querySelector('.more-basic').focus();\n                            } else {\n                                document.querySelector('.more-examples').focus();\n                            }\n                            \n                        } else if ((e.which === 9 && !e.shiftKey)) { // tab key pressed\n        \n                            // Redirect to tab content\n                            let inputs = [];\n                            let controls = designlist.querySelectorAll('.active');\n                            controls.forEach(control=>{\n                                inputs.push(control);\n                            });\n        \n                            if(inputs.length===0) return;\n        \n                            let firstInput = inputs[0];\n        \n                            firstInput.focus();\n\n                            let lastInput = inputs[inputs.length-1];\n            \n                            lastInput.addEventListener('keydown', (e)=>{\n                      \n                                e.preventDefault();\n                                if ((e.which === 9 && !e.shiftKey)) { // tab key pressed\n                                    let tab = document.querySelector('.is-category-list a.active');\n                                    if(tab) tab.focus();\n                                    else {\n                                        let cat = lastInput.getAttribute('data-cat');\n                                        if(cat==='1'||cat==='2'||cat==='3'||cat==='4'||cat==='5'||cat==='51'||cat==='52') {\n                                            document.querySelector('.more-basic').focus();\n                                        } else {\n                                            document.querySelector('.more-examples').focus();\n                                        }\n                                    }\n                                }\n                            });\n                        }\n                        \n                    });\n        \n                    // item.addEventListener('click', (e)=>{\n                    //     e.preventDefault();\n\n                    //     e.target.focus();\n        \n                    //     selectCategory(e.target);\n                    // });\n                });\n\n                function addDesign(designid) {\n          \n                    // var wrapper = parent.document.querySelector('.is-wrapper');\n                    var wrapper = parent._cb.doc.querySelector('.is-wrapper');\n\n                    var framework = '${this.builder.framework}';\n                    var snippetPathReplace = [];\n                    ${this.builder.designPathReplace.length>0?`\n                    snippetPathReplace = ['${this.builder.designPathReplace[0]}', '${this.builder.designPathReplace[1]}'];\n                    `:""}\n                    \n                    var contentStylePath = '${this.builder.contentStylePath}';\n                    var html = '';\n                    var result = data_basic.designs.filter(function(element){ \n                        if(element.id === parseInt(designid)) return element;\n                    });\n                    if (result.length==0) {\n                        result = data_examples.designs.filter(function(element){ \n                            if(element.id === parseInt(designid)) return element;\n                        });\n                    }\n\n                    var html = result[0].html;\n                    var googleFonts = result[0].googleFonts;\n                    var contentCss = result[0].contentCss;\n                    var contentClass = result[0].contentClass;\n\n                    //To Tailwind\n                    if (framework === 'tailwind') {\n                        html = html.replace(new RegExp(' container', 'g'), ' container');\n                        html = html.replace(new RegExp('row clearfix', 'g'), 'flex flex-col md:flex-row');\n                        html = html.replace(new RegExp('column full', 'g'), 'w-full px-4');\n                        html = html.replace(new RegExp('column half', 'g'), 'w-full md:w-6/12 px-4');\n                        html = html.replace(new RegExp('column third', 'g'), 'w-full md:w-4/12 px-4');\n                        html = html.replace(new RegExp('column fourth', 'g'), 'w-full md:w-3/12 px-4');\n                        html = html.replace(new RegExp('column fifth', 'g'), 'w-full md:w-2/12 px-4'); //not needed\n                        html = html.replace(new RegExp('column sixth', 'g'), 'w-full md:w-2/12 px-4');\n                        html = html.replace(new RegExp('column two-third', 'g'), 'w-full md:w-8/12 px-4');\n                        html = html.replace(new RegExp('column two-fourth', 'g'), 'w-full md:w-9/12 px-4');\n                        html = html.replace(new RegExp('column two-sixth', 'g'), 'w-full md:w-10/12 px-4');\n                    }\n                                \n                    //To Bootstrap\n                    if (framework === 'bootstrap') {\n                        html = html.replace(new RegExp(' container', 'g'), ' container-fluid');\n                        html = html.replace(new RegExp('row clearfix', 'g'), 'row');\n                        html = html.replace(new RegExp('column full', 'g'), 'col-md-12');\n                        html = html.replace(new RegExp('column half', 'g'), 'col-md-6');\n                        html = html.replace(new RegExp('column third', 'g'), 'col-md-4');\n                        html = html.replace(new RegExp('column fourth', 'g'), 'col-md-3');\n                        html = html.replace(new RegExp('column fifth', 'g'), 'col-md-2');\n                        html = html.replace(new RegExp('column sixth', 'g'), 'col-md-2');\n                        html = html.replace(new RegExp('column two-third', 'g'), 'col-md-8');\n                        html = html.replace(new RegExp('column two-fourth', 'g'), 'col-md-9');\n                        html = html.replace(new RegExp('column two-sixth', 'g'), 'col-md-10');\n                        html = html.replace(new RegExp('btn btn-primary', 'g'), 'btn btn-primary btn-lg');\n                        html = html.replace(new RegExp('btn btn-default', 'g'), 'btn btn-default btn-lg');\n                    }\n\n                    //To Foundation\n                    if (framework === 'foundation') {\n                        //html = html.replace(new RegExp(' container', 'g'), ' container');\n                        html = html.replace(new RegExp('row clearfix', 'g'), 'row');\n                        html = html.replace(new RegExp('column full', 'g'), 'large-12 columns');\n                        html = html.replace(new RegExp('column half', 'g'), 'large-6 columns');\n                        html = html.replace(new RegExp('column third', 'g'), 'large-4 columns');\n                        html = html.replace(new RegExp('column fourth', 'g'), 'large-3 columns');\n                        html = html.replace(new RegExp('column fifth', 'g'), 'large-2 columns');\n                        html = html.replace(new RegExp('column sixth', 'g'), 'large-2 columns');\n                        html = html.replace(new RegExp('column two-third', 'g'), 'large-8 columns');\n                        html = html.replace(new RegExp('column two-fourth', 'g'), 'large-9 columns');\n                        html = html.replace(new RegExp('column two-sixth', 'g'), 'large-10 columns');\n                        html = html.replace(new RegExp('btn btn-primary', 'g'), 'button');\n                        html = html.replace(new RegExp('btn btn-default', 'g'), 'secondary button');\n                    }\n\n                    //To UIKit\n                    if (framework === 'uikit') {\n                        html = html.replace(new RegExp(' container', 'g'), ' uk-container uk-container-center');\n                        html = html.replace(new RegExp('row clearfix', 'g'), 'uk-grid');\n                        html = html.replace(new RegExp('column full', 'g'), 'uk-width-1-1');\n                        html = html.replace(new RegExp('column half', 'g'), 'uk-width-1-2');\n                        html = html.replace(new RegExp('column third', 'g'), 'uk-width-1-3');\n                        html = html.replace(new RegExp('column fourth', 'g'), 'uk-width-1-4');\n                        html = html.replace(new RegExp('column fifth', 'g'), 'uk-width-1-5');\n                        html = html.replace(new RegExp('column sixth', 'g'), 'uk-width-1-6');\n                        html = html.replace(new RegExp('column two-third', 'g'), 'uk-width-2-3');\n                        html = html.replace(new RegExp('column two-fourth', 'g'), 'uk-width-3-4');\n                        html = html.replace(new RegExp('column two-sixth', 'g'), 'uk-width-5-6');\n                        html = html.replace(new RegExp('btn btn-primary', 'g'), 'uk-button uk-button-primary uk-button-large');\n                        html = html.replace(new RegExp('btn btn-default', 'g'), 'uk-button uk-button-large');\n                    }\n\n                    //To Material\n                    if (framework === 'material') {\n                        html = html.replace(new RegExp(' container', 'g'), '');\n                        html = html.replace(new RegExp('row clearfix', 'g'), 'mdl-grid');\n                        html = html.replace(new RegExp('column full', 'g'), 'mdl-cell mdl-cell--12-col');\n                        html = html.replace(new RegExp('column half', 'g'), 'mdl-cell mdl-cell--6-col');\n                        html = html.replace(new RegExp('column third', 'g'), 'mdl-cell mdl-cell--4-col');\n                        html = html.replace(new RegExp('column fourth', 'g'), 'mdl-cell mdl-cell--3-col');\n                        html = html.replace(new RegExp('column fifth', 'g'), 'mdl-cell mdl-cell--2-col');\n                        html = html.replace(new RegExp('column sixth', 'g'), 'mdl-cell mdl-cell--2-col');\n                        html = html.replace(new RegExp('column two-third', 'g'), 'mdl-cell mdl-cell--8-col');\n                        html = html.replace(new RegExp('column two-fourth', 'g'), 'mdl-cell mdl-cell--9-col');\n                        html = html.replace(new RegExp('column two-sixth', 'g'), 'mdl-cell mdl-cell--10-col');\n                        html = html.replace(new RegExp('btn btn-primary', 'g'), 'mdl-button mdl-js-button mdl-button--raised mdl-button--accent');\n                        html = html.replace(new RegExp('btn btn-default', 'g'), 'mdl-button mdl-js-button mdl-button--raised');\n                    }`,n+="\n\n                    html = html.replace(/{id}/g, makeid());\n\n                    if(snippetPathReplace.length>0) {\n                        if (snippetPathReplace[0] != '') {\n                            var regex = new RegExp(snippetPathReplace[0], 'g');\n                            html = html.replace(regex, snippetPathReplace[1]);\n                        }\n                    }\n\n                    //Add html\n                    parent.contentbox.addIdea(html);\n\n                    //Add contentCss\n                    var exist = false;\n                    var links = parent.document.getElementsByTagName(\"link\");\n                    for (var i = 0; i < links.length; i++) {\n                        var src = links[i].href.toLowerCase();\n                        if (src.indexOf(contentCss.toLowerCase()) != -1) exist = true;\n                    }\n            \n                    if (!exist) appendHtml(wrapper,'<link data-name=\"contentstyle\" data-class=\"' + contentClass + '\" href=\"' + contentStylePath + contentCss + '\" rel=\"stylesheet\">');\n            \n                }\n\n                function makeid() {//http://stackoverflow.com/questions/1349404/generate-a-string-of-5-random-characters-in-javascript\n                    var text = \"\";\n                    var possible = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz\";\n                    for (var i = 0; i < 2; i++)\n                        text += possible.charAt(Math.floor(Math.random() * possible.length));\n            \n                    var text2 = \"\";\n                    var possible2 = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\n                    for (var i = 0; i < 5; i++)\n                        text2 += possible2.charAt(Math.floor(Math.random() * possible2.length));\n            \n                    return text + text2;\n                }\n\n                            \n                // Style stuff\n                function applyParentStyles() {\n                    var cssString = '' +\n                        'body {' +\n                            'background: ' + parent._cb.styleSnippetBackground + ';' +\n                            'color: ' + parent._cb.styleSnippetColor + ';' +\n                            'margin: 0;' +\n                        '}' +\n                        \n\n                        '.dark .is-design-list>div {' +\n                            'outline: transparent 1px solid;' +\n                        '}' +\n\n                        '/* Scrollbar for modal */' +\n\n                        '/* Darker color, because background for snippet thumbnails is always light. */' +\n                        '.dark * {' +\n                            'scrollbar-width: thin;' +\n                            'scrollbar-color: rgb(78 78 78 / 62%) auto;' +\n                        '}' +\n                        '.dark *::-webkit-scrollbar {' +\n                            'width: 12px;' +\n                        '}' +\n                        '.dark *::-webkit-scrollbar-track {' +\n                            'background: transparent;' +\n                        '}' +\n                        '.dark *::-webkit-scrollbar-thumb {' +\n                            'background-color:rgb(78 78 78 / 62%);' +\n                        '}' +\n\n                        '.colored-dark * {' +\n                            'scrollbar-width: thin;' +\n                            'scrollbar-color: rgb(100, 100, 100) auto;' +\n                        '}' +\n                        '.colored-dark *::-webkit-scrollbar {' +\n                            'width: 12px;' +\n                        '}' +\n                        '.colored-dark *::-webkit-scrollbar-track {' +\n                            'background: transparent;' +\n                        '}' +\n                        '.colored-dark *::-webkit-scrollbar-thumb {' +\n                            'background-color:rgb(100, 100, 100);' +\n                        '}' +\n\n                        '.colored * {' +\n                            'scrollbar-width: thin;' +\n                            'scrollbar-color: rgba(0, 0, 0, 0.4) auto;' +\n                        '}' +\n                        '.colored *::-webkit-scrollbar {' +\n                            'width: 12px;' +\n                        '}' +\n                        '.colored *::-webkit-scrollbar-track {' +\n                            'background: transparent;' +\n                        '}' +\n                        '.colored *::-webkit-scrollbar-thumb {' +\n                            'background-color: rgba(0, 0, 0, 0.4);' +\n                        '}' +\n        ",n+="\n                        '.light * {' +\n                            'scrollbar-width: thin;' +\n                            'scrollbar-color: rgba(0, 0, 0, 0.4) auto;' +\n                        '}' +\n                        '.light *::-webkit-scrollbar {' +\n                            'width: 12px;' +\n                        '}' +\n                        '.light *::-webkit-scrollbar-track {' +\n                            'background: transparent;' +\n                        '}' +\n                        '.light *::-webkit-scrollbar-thumb {' +\n                            'background-color: rgba(0, 0, 0, 0.4);' +\n                        '}' +\n                \n                        'svg {' +\n                            'fill: ' + parent._cb.styleSnippetColor + ';' +\n                        '}' +\n\n                        '.dark .is-design-list>div .is-overlay:after {' +\n                            'background: rgb(78 78 78 / 13%);' +\n                        '}' +\n\n                \n                        '.is-category-list {' +\n                            'display: flex;' +\n                        '}' +\n                \n                        '.is-category-list>div {' +\n                            'background: ' + parent._cb.styleSnippetTabsBackground + ';' +\n                        '}' +\n                        '.is-category-list>div:last-child {' +\n                            'width:100%;' +\n                        '}' +\n                \n                        '.is-category-list a {' +\n                            'background: ' + parent._cb.styleSnippetTabItemBackground + ';' +\n                            'color: ' + parent._cb.styleSnippetTabItemColor + ';' +\n                            'transition: box-shadow ease 0.3s;' +\n                        '}' +\n                \n                        '.is-category-list a:hover {' +\n                            'background: ' + parent._cb.styleSnippetTabItemBackgroundHover + ';' +\n                            'box-shadow: 0 5px 15px rgba(0, 0, 0, 0.06);' +\n                            'color: ' + parent._cb.styleSnippetTabItemColor + ';' +\n                        '}' +\n                \n                        '.is-category-list a.active {' +\n                            'background: ' + parent._cb.styleSnippetTabItemBackgroundActive + ';' +\n                            'color: ' + parent._cb.styleSnippetTabItemColor + ';' +\n                            'cursor: default;' +\n                        '}' +\n\n                        '.is-more-categories {' +\n                            'background: ' + parent._cb.styleSnippetMoreItemBackground + ';' +\n                        '}' +\n                \n                        '.is-more-categories a {' +\n                            'background: ' + parent._cb.styleSnippetMoreItemBackground + ';' +\n                            'color: ' + parent._cb.styleSnippetMoreItemColor + ';' +\n                        '}' +\n                \n                        '.is-more-categories a:hover {' +\n                            'background: ' + parent._cb.styleSnippetMoreItemBackgroundHover + ';' +\n                        '}' +\n                \n                        '.is-more-categories a.active, .is-more-categories a:focus {' +\n                           ' background: ' + parent._cb.styleSnippetMoreItemBackgroundActive + ';outline:none;' +\n                        '}';\n                    \n                    let themestyle = document.querySelector('[data-theme-style]');\n                    if(themestyle) themestyle.parentNode.removeChild(themestyle);\n                    \n                    var style = document.createElement(\"style\");\n                    style.setAttribute('data-theme-style','');\n                    style.innerHTML = cssString;\n                    document.head.appendChild(style);\n\n                    if(parent._cb.styleDark) {\n                        document.body.setAttribute('class', 'dark');\n                    } else if(parent._cb.styleColored) {\n                        document.body.setAttribute('class', 'colored');\n                    } else if(parent._cb.styleColoredDark) {\n                        document.body.setAttribute('class', 'colored-dark');\n                    } else if(parent._cb.styleLight) {\n                        document.body.setAttribute('class', 'light');\n                    } else {\n                        document.body.setAttribute('class', '');\n                    }\n                }\n\n                // applyParentStyles();\n\n                document.addEventListener('keydown', (e)=>{\n                    if(e.keyCode === 27) { // escape key\n      \n                        let moreCategories = document.querySelector('.is-more-categories.active');\n                        if(moreCategories) {\n                            moreCategories.classList.remove('active');\n\n                            let activeTab = document.querySelector('.more-basic.active,.more-examples.active');\n                            if(activeTab) activeTab.focus();\n\n                            e.preventDefault();\n                            return;\n                        } else {\n                            const overlay = parent.document.body;\n                            overlay.click();\n                        }\n                    }\n                });\n\n            <\/script>\n        </body>\n        </html>\n                \n        \n        ",n}}class a{constructor(e){const t=()=>{let t=e.querySelectorAll(".is-tabs-more");Array.prototype.forEach.call(t,(e=>{e.style.display="none",e.setAttribute("aria-expanded",!1)})),document.removeEventListener("click",i)},i=e=>{e.target.closest(".is-tab-more")||e.target.closest("[data-menu]")||t()},n=n=>{const s=n.parentNode.getAttribute("data-group"),o=n.getAttribute("data-menu");if(o){document.addEventListener("click",i),n.setAttribute("aria-expanded",!0),e.querySelector("#"+o).style.display="block";let t=e.querySelector('.is-tabs-more[data-group="'+s+'"] > li.active');if(t)t.focus();else{e.querySelector('.is-tabs-more[data-group="'+s+'"]').focus()}return!1}if(n.classList.contains("active"))return!1;const a=n.getAttribute("data-content");if(!a)return!1;let l=e.querySelectorAll('.is-tabs[data-group="'+s+'"] > a');Array.prototype.forEach.call(l,(e=>{e.classList.remove("active")})),l=e.querySelectorAll('.is-tabs-more[data-group="'+s+'"] > li'),Array.prototype.forEach.call(l,(e=>{e.classList.remove("active")})),n.classList.add("active");let r=e.querySelectorAll('.is-tab-content[data-group="'+s+'"]');Array.prototype.forEach.call(r,(e=>{e.style.display="none",e.classList.remove("active")}));const d=e.querySelector("#"+a);d.style.display="flex",d.classList.add("active");const c=e.querySelector(".is-tabs-more");return c&&(c.style.display="none"),t(),this.setupTabKey(d,e),!1};let s=e.querySelectorAll(".is-tabs a");Array.prototype.forEach.call(s,(e=>{e.addEventListener("keydown",(t=>{if(t.preventDefault(),13===t.keyCode||32===t.keyCode)n(t.target);else if(9===t.which&&!t.shiftKey){let t=[];const i=e.parentNode.getAttribute("data-group");let n=e.parentNode.parentNode.querySelector('.is-tab-content[data-group="'+i+'"].active');if(Array.from(n.children).map((e=>{if("none"!==window.getComputedStyle(e,null).getPropertyValue("display")){e.querySelectorAll('.is-tabs.active, a[href], input:not([disabled]):not([type="hidden"]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex]').forEach((e=>{"none"!==window.getComputedStyle(e,null).getPropertyValue("display")&&t.push(e)}))}})),0===t.length)return;t[0].focus()}})),e.addEventListener("click",(e=>{e.preventDefault(),n(e.target)}))}));const o=e.querySelectorAll(".is-tabs-more");Array.prototype.forEach.call(o,(e=>{e.addEventListener("keydown",(i=>{i.preventDefault(),40===i.keyCode&&i.target.nextElementSibling?e.querySelector("li").focus():27===i.keyCode&&t()}))})),s=e.querySelectorAll(".is-tabs-more li"),Array.prototype.forEach.call(s,(i=>{i.addEventListener("keydown",(s=>{if(s.preventDefault(),s.stopImmediatePropagation(),38===s.keyCode&&s.target.previousElementSibling)s.target.previousElementSibling.focus();else if(40===s.keyCode&&s.target.nextElementSibling)s.target.nextElementSibling.focus();else if(27===s.keyCode)t();else if((13===s.keyCode||32===s.keyCode)&&(n(s.target),s.target.closest(".is-tabs-more"))){const t=i.parentNode.getAttribute("id"),n=e.querySelector('.is-tabs a[data-menu="'+t+'"]');n&&n.focus()}})),i.addEventListener("click",(t=>{if(t.preventDefault(),n(t.target),t.target.closest(".is-tabs-more")){const t=i.parentNode.getAttribute("id"),n=e.querySelector('.is-tabs a[data-menu="'+t+'"]');n&&n.focus()}}))}));e.addEventListener("focus",(()=>{this.setupModal(e)}))}setupModal(e){setTimeout((()=>{let t=[];e.querySelectorAll(".is-tabs a").forEach((e=>{"none"!==e.style.display?(e.classList.add("show"),t.push(e)):e.classList.remove("show")}));let i=0;this.inputTabs=t,t.forEach((e=>{let n=t[i+1],s=t[i-1];e.addEventListener("keydown",(e=>{e.preventDefault(),39===e.which?n&&n.focus():37===e.which&&s&&s.focus()})),i++})),this.setupTabKey(e.querySelector(".is-tab-content.active"),e)}),30)}setupTabKey(e,t){let i=[];if(Array.from(e.children).map((e=>{if("none"!==window.getComputedStyle(e,null).getPropertyValue("display")){e.querySelectorAll('.is-tabs.active, a[href], input:not([disabled]):not([type="hidden"]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex]').forEach((e=>{"none"!==window.getComputedStyle(e,null).getPropertyValue("display")&&i.push(e)}))}})),0===i.length)return;let n=i[0];i[i.length-1].addEventListener("keydown",(i=>{if(9===i.which&&!i.shiftKey){i.preventDefault();let n=e.getAttribute("id");const s=t.querySelector('li[data-content="'+n+'"],a[data-content="'+n+'"]');if(s.closest(".is-tabs-more")){n=s.parentNode.getAttribute("id");const e=t.querySelector('.is-tabs a[data-menu="'+n+'"]');e&&e.focus()}else s.focus()}})),n.addEventListener("keydown",(i=>{if(9===i.which&&i.shiftKey){i.preventDefault();let n=e.getAttribute("id");const s=t.querySelector('li[data-content="'+n+'"],a[data-content="'+n+'"]');if(s.closest(".is-tabs-more")){n=s.parentNode.getAttribute("id");const e=t.querySelector('.is-tabs a[data-menu="'+n+'"]');e&&e.focus()}else s.focus()}}))}}const l=new e;class r{constructor(e){this.builder=e;const t=this.builder.builderStuff;this.builderStuff=t;let n='<div class="is-modal delsectionconfirm" tabindex="-1" role="dialog" aria-modal="true" aria-hidden="true"><div style="max-width: 450px;"><div style="margin: 20px 0 30px;text-align:center;font-size: 14px;">'+i("Are you sure you want to delete this section?")+'</div><button title="'+i("Delete")+'" class="input-ok classic">'+i("Delete")+"</button></div></div>"+`\n            <div class="is-modal is-modal-content editsection" tabindex="-1" role="dialog" aria-modal="true" aria-hidden="true">\n                <div class="is-modal-bar is-draggable" draggable=""> \n                    ${i("Section Settings")}\n                    <button class="is-modal-close" tabindex="-1" title="${i("Close")}">\n                    <svg class="is-icon-flex" style="width:23px;height:23px;"><use xlink:href="#ion-ios-close-empty"></use></svg>\n                    </button>\n                </div>\n                <div style="padding:0 0 10px;width:100%;">\n            \n            <div class="is-tabs clearfix" style="padding-top:37px;" data-group="sectionsettings"><a id="tabSectionGeneral" title="`+i("General")+'" href="" data-content="divSectionGeneral" class="active">'+i("General")+'</a><a id="tabSectionAnimation" title="'+i("Animation")+'" href="" data-content="divSectionAnimation">'+i("Animation")+'</a><a id="tabSectionScrollButton" title="'+i("Scroll")+'" href="" data-content="divSectionScrollButton">'+i("Scroll")+'</a><a id="tabSectionMore" title="'+i("More")+'" href="" data-content="divSectionMore">'+i("More")+"</a></div>";n+=`\n                <div id="divSectionMore" class="is-tab-content" data-group="sectionsettings" style="display:none;padding-top:0">\n       \n                    <label for="inpSectionId" style="padding:20px 0 3px;">${i("Add Section ID")}:</label>\n                    <div>\n                        <input id="inpSectionId" class="input-section-id" type="text" onkeypress="return /[0-9a-zA-Z_]/i.test(event.key)" style="height:38px">\n                    </div>\n\n                    <label for="inpSectionCssClasses" style="padding:20px 0 3px;">${i("Add Css Classes")}:</label>\n                    <div>\n                        <input id="inpSectionCssClasses" class="input-section-classes" type="text" style="height:38px">\n                    </div>\n                </div>\n                <div id="divSectionGeneral" class="is-tab-content active" data-group="sectionsettings" style="display:flex;padding-top:0"><div style="display:flex;flex-direction:column;"><div style="padding-top:20px;padding-bottom: 3px;">`+i("Move Section")+':</div><div style="display:flex"><button title="'+i("Move Up")+'" class="cmd-section-up" style="">&#8593;</button><button title="'+i("Move Down")+'" class="cmd-section-down">&#8595;</button><button title="'+i("Move to Top")+'" class="cmd-section-top"><span style="transform:rotate(90deg);position:absolute;top:13px;left:15px;">&#8676;</span></button><button title="'+i("Move to Bottom")+'" class="cmd-section-bottom"><span style="transform:rotate(90deg);position:absolute;top:13px;left:15px;">&#8677;</span></button><button title="'+i("Duplicate")+'" class="cmd-section-duplicate" style="margin-left:20px;"><svg class="is-icon-flex" style="width:16px;height:16px;"><use xlink:href="#ion-ios-copy-outline"></use></svg></button></div></div>',n+='<div style="display:flex;flex-direction:column;"><div style="padding-top:20px;padding-bottom: 3px;">'+i("Height")+':</div><div style="display:flex"><button title="10%" class="cmd-section-height" data-value="10">10%</button><button title="15%" class="cmd-section-height" data-value="15">15%</button><button title="20%" class="cmd-section-height" data-value="20">20%</button><button title="25%" class="cmd-section-height" data-value="25">25%</button><button title="30%" class="cmd-section-height" data-value="30">30%</button><button title="40%" class="cmd-section-height" data-value="40">40%</button><button title="50%" class="cmd-section-height" data-value="50">50%</button></div><div style="display:flex"><button title="60%" class="cmd-section-height" data-value="60" style="border-left:none;border-top:none;">60%</button><button title="70%" class="cmd-section-height" data-value="70" style="border-left:none;border-top:none;">70%</button><button title="75%" class="cmd-section-height" data-value="75" style="border-left:none;border-top:none;">75%</button><button title="80%" class="cmd-section-height" data-value="80" style="border-left:none;border-top:none;">80%</button><button title="85%" class="cmd-section-height" data-value="85" style="border-left:none;border-top:none;">85%</button><button title="90%" class="cmd-section-height" data-value="90" style="border-left:none;border-top:none;">90%</button><button title="100%" class="cmd-section-height" data-value="100" style="border-left:none;border-top:none;">100%</button><button title="'+i("Clear")+'" class="cmd-section-height" data-value="0"><svg class="is-icon-flex"><use xlink:href="#icon-clean"></use></svg></button></div></div><div style="display:flex;flex-direction:column;"><div style="padding-top:20px;padding-bottom: 3px;">'+i("Spacing")+':</div><div style="display:flex"><button title="'+i("xxs")+'" class="cmd-box-spacing" data-value="xxs">'+i("xxs")+'</button><button title="'+i("xs")+'" class="cmd-box-spacing" data-value="default">'+i("xs")+'</button><button title="'+i("sm")+'" class="cmd-box-spacing" data-value="sm">'+i("sm")+'</button><button title="'+i("m")+'" class="cmd-box-spacing" data-value="m">'+i("m")+'</button><button title="'+i("lg")+'" class="cmd-box-spacing" data-value="lg">'+i("lg")+'</button><button title="'+i("Clear")+'" class="cmd-box-spacing" data-value=""><svg class="is-icon-flex"><use xlink:href="#icon-clean"></use></svg></button></div></div>',n+='<div class="div-section-spacesettings" style="display:flex;flex-direction:column;"><div class="div-multi-boxes"><div style="padding-top:20px;padding-bottom: 3px;">'+i("Between Boxes")+':</div><div style="display:flex"><button title="'+i("space")+'" class="cmd-betweenbox-spacing" data-value="space">'+i("space")+'</button><button title="'+i("no space")+'" class="cmd-betweenbox-spacing" data-value="no-space">'+i("no space")+'</button></div></div><div style="display:none;padding-top:20px;padding-bottom: 3px;">'+i("Stack")+':</div><div style="display:none"><button title="'+i("top")+'" class="cmd-section-stack" data-value="top">'+i("top")+'</button><button title="'+i("middle")+'" class="cmd-section-stack" data-value="middle">'+i("middle")+'</button><button title="'+i("bottom")+'" class="cmd-section-stack" data-value="bottom">'+i("bottom")+'</button><button title="'+i("Clear")+'" class="cmd-section-stack" data-value=""><svg class="is-icon-flex"><use xlink:href="#icon-clean"></use></svg></button></div></div><div style="padding-top:20px;padding-bottom: 3px;">'+i("Background Color")+':</div><div style="display:flex;"><button title="'+i("Background Color")+'" class="input-section-bgcolor is-btn-color" style="margin-right:15px"></button><button title="'+i("Gradient")+'" class="input-section-gradient classic" data-value="+">'+i("Gradient")+"</button></div>"+`\n                    \n                    <div class="is-separator" style="margin-top:20px"></div>\n                         \n                    <div class="div-target" style="display: flex;justify-content: flex-end;padding: 5px 0 0;">\n                        <button title="${i("Desktop")}" class="input-device on" data-value="" style="width:40px;height:25px;">\n                            <svg class="is-icon-flex" style="width:16px;height:16px"><use xlink:href="#icon-device-desktop"></use></svg>\n                        </button>\n                        <button title="${i("Laptop/Tablet (Landscape)")}" class="input-device" data-value="md" style="width:40px;height:25px;">\n                            <svg class="is-icon-flex" style="width:16px;height:16px;transform:rotate(-90deg)"><use xlink:href="#icon-device-tablet"></use></svg>\n                        </button>\n                        <button title="${i("Tablet (Portrait)")}" class="input-device" data-value="sm" style="width:40px;height:25px;">\n                            <svg class="is-icon-flex" style="width:16px;height:16px"><use xlink:href="#icon-device-tablet"></use></svg>\n                        </button>\n                        \x3c!--\n                        <button title="${i("Tablet")}" class="input-device" data-value="sm" style="width:40px;height:25px;">\n                            <svg class="is-icon-flex" style="width:16px;height:16px"><use xlink:href="#icon-device-tablet"></use></svg>\n                        </button>--\x3e\n                        <button title="${i("Mobile")}" class="input-device" data-value="xs" style="width:40px;height:25px;">\n                            <svg class="is-icon-flex" style="width:13px;height:13px"><use xlink:href="#icon-device-mobile"></use></svg>\n                        </button>\n                    </div>\n\n                    <div style="padding-top:0;padding-bottom:3px;">${i("Visibility")}:</div>\n                    <div class="div-visibility" style="display:flex;">\n                        <button title="${i("Visible")}" class="input-visible on" style="width:100px;height:34px;">\n                            <svg class="is-icon-flex" style="width:16px;height:16px"><use xlink:href="#icon-eye"></use></svg>\n                            <span style="margin-left:5px">${i("Visible")}</span>\n                        </button>\n                        <button title="${i("Hidden")}" class="input-hidden" style="width:100px;height:34px;">\n                            <svg class="is-icon-flex" style="width:16px;height:16px"><use xlink:href="#icon-eye-off"></use></svg>\n                            <span style="margin-left:5px">${i("Hidden")}</span>\n                        </button>\n                    </div>\n\n                    <div class="div-boxesperline" style="flex-direction:column">\n                        <label style="margin:20px 0 0;display:flex;flex-direction:column">\n                            <span style="margin:0 4px 3px 0">${i("Boxes per Line")}:</span>\n                        </label>\n                        <div class="flex">\n                            <button title="1" class="input-boxesperline on" data-value="1" style="width:40px;height:25px;">1</button>\n                            <button title="2" class="input-boxesperline" data-value="2" style="width:40px;height:25px;">2</button>\n                            <button title="3" class="input-boxesperline" data-value="3" style="width:40px;height:25px;">3</button>\n                            <button title="4" class="input-boxesperline" data-value="4" style="width:40px;height:25px;">4</button>\n                            <button title="${i("Default")}" class="input-boxesperline" data-value="" style="width:90px;height:25px;">${i("Default")}</button>\n                        </div>\n                    </div>\n                    \n                    <div id="divReverseBoxes" style="display:none">\n                        <label for="chkReverseBoxes" style="margin:20px 0 0 0;display:flex"><input id="chkReverseBoxes" type="checkbox"  style="margin:0 7px 0 0"/><span>${i("Reverse Boxes")}</span></label>\n                    </div>\n                    </div><div id="divSectionAnimation" class="is-tab-content" data-group="sectionsettings" style="display:none;padding-top:0"><div style="display:flex;flex-direction:column;"><div style="padding-top:20px;padding-bottom: 3px;">`+i("Start")+':</div><div style="display:flex;flex-flow:wrap;"><button title="'+i("Slide Left")+'" class="cmd-section-anim-start" data-value="slide-left">'+i("Slide Left")+'</button><button title="'+i("Slide Right")+'" class="cmd-section-anim-start" data-value="slide-right">'+i("Slide Right")+'</button><button title="'+i("Zoom In")+'" class="cmd-section-anim-start" data-value="zoom-in">'+i("Zoom In")+'</button><button title="'+i("Clear")+'" class="cmd-section-anim-start" data-value=""><svg class="is-icon-flex"><use xlink:href="#icon-clean"></use></svg></button></div></div>',n+='<div style="display:flex;flex-direction:column;"><div style="padding-top:20px;padding-bottom: 3px;">'+i("End")+':</div><div style="display:flex;flex-flow:wrap;"><button title="'+i("Slide Left")+'" class="cmd-section-anim-end" data-value="slide-left">'+i("Slide Left")+'</button><button title="'+i("Slide Right")+'" class="cmd-section-anim-end" data-value="slide-right">'+i("Slide Right")+'</button><button title="'+i("Zoom In")+'" class="cmd-section-anim-end" data-value="zoom-in">'+i("Zoom In")+'</button><button title="'+i("Zoom Out")+'" class="cmd-section-anim-end" data-value="zoom-out">'+i("Zoom Out")+'</button><button title="'+i("Clear")+'" class="cmd-section-anim-end" data-value=""><svg class="is-icon-flex"><use xlink:href="#icon-clean"></use></svg></button></div></div></div><div id="divSectionScrollButton" class="is-tab-content" data-group="sectionsettings" style="display:none;padding-top:0"><div style="display:none;flex-direction:column;"><div style="padding-top:20px;padding-bottom: 3px;"><label for="chkScrollIcon" style="margin:0;"><input id="chkScrollIcon" type="checkbox" /> '+i("Scroll Icon")+'</label></div><div style="display:flex;padding-top:10px;"><button title="'+i("Light")+'" class="cmd-section-scroll" data-value="light" style="min-width:80px;">'+i("Light")+'</button><button title="'+i("Dark")+'" class="cmd-section-scroll" data-value="dark" style="border-left:none;min-width:80px;">'+i("Dark")+'</button></div></div><div style="display:flex;flex-direction:column;padding-bottom:3px;"><div style="padding-top:20px;padding-bottom:3px;">'+i("Scroll Button")+':</div><div style="display:flex;flex-flow:wrap;"><button class="cmd-scroll-preset" data-value="1" title="'+i("Apply")+'" type="button">1</button><button class="cmd-scroll-preset" data-value="2" title="'+i("Apply")+'" type="button">2</button><button class="cmd-scroll-preset" data-value="3" title="'+i("Apply")+'" type="button">3</button><button class="cmd-scroll-preset" data-value="4" title="'+i("Apply")+'" type="button">4</button><button class="cmd-scroll-preset" data-value="5" title="'+i("Apply")+'" type="button">5</button><button class="cmd-scroll-preset" data-value="6" title="'+i("Apply")+'" type="button">6</button><button class="cmd-scroll-preset" data-value="7" title="'+i("Apply")+'" type="button">7</button><button class="cmd-scroll-preset" data-value="8" title="'+i("Apply")+'" type="button">8</button><button class="cmd-scroll-preset" data-value="9" title="'+i("Apply")+'" type="button">9</button><button class="cmd-scroll-preset" data-value="10" title="'+i("Apply")+'" type="button">10</button><button class="cmd-scroll-preset" data-value="11" title="'+i("Apply")+'" type="button">11</button><button class="cmd-scroll-preset" data-value="12" title="'+i("Apply")+'" type="button">12</button><button class="cmd-scroll-preset" data-value="13" title="'+i("Apply")+'" type="button">13</button><button class="cmd-scroll-preset" data-value="14" title="'+i("Apply")+'" type="button">14</button><button class="cmd-scroll-preset" data-value="" title="'+i("Remove")+'" type="button"><svg class="is-icon-flex" style="flex:none;width:10px;height:10px;"><use xlink:href="#icon-clean"></use></svg></button></div></div></div></div></div>',n+='<div class="is-modal editmodule" tabindex="-1" role="dialog" aria-modal="true" aria-hidden="true"><div style="max-width:900px;height:570px;padding:0;box-sizing:border-box;position:relative;"><div class="is-modal-bar is-draggable" style="position: absolute;top: 0;left: 0;width: 100%;z-index:1;"><span>'+i("Module Settings")+'</span><button class="is-modal-close" tabindex="-1" title="'+i("Close")+'"><svg class="is-icon-flex" style="width:30px;height:30px;"><use xlink:href="#ion-ios-close-empty"></use></svg></button></div><iframe style="position: absolute;top: 0;left: 0;width:100%;height:100%;border:none;border-bottom:60px solid transparent;border-top:40px solid transparent;margin:0;box-sizing:border-box;" src="about:blank"></iframe><input id="hidModuleCode" type="hidden" /><input id="hidModuleSettings" type="hidden" /><button class="input-ok classic" style="height:60px;position:absolute;left:0;bottom:0;">'+i("Ok")+"</button></div></div>",l.appendHtml(t,n);let s=t.querySelector(".is-modal.editsection");this.modalEditSection=s;const o=s.querySelector(".is-modal-close");o&&o.addEventListener("click",(()=>{this.close()})),new a(s);const r=s.querySelectorAll(".is-tabs a");r.forEach((e=>{e.addEventListener("click",(t=>{if(t.preventDefault(),l.hasClass(e,"active"))return;r.forEach((e=>{l.removeClass(e,"active")})),l.addClass(e,"active");let i=e.getAttribute("data-content");s.querySelectorAll(".is-tab-content").forEach((e=>{e.style.display="none"})),s.querySelector("#"+i).style.display="flex"}))}));const d=t.querySelector(".is-modal.delsectionconfirm");d.querySelector(".input-ok").addEventListener("click",(()=>{const e=this.builder.activeSection;this.builder.editor.saveForUndo(),e.parentNode.removeChild(e),this.builder.sectionStack(),this.builder.settings.onRender(),this.builder.editor.util.hideModal(d),this.builder.editor.util.clearControls(),this.builder.settings.onChange(),this.builder.activeSection=null,this.builder.activeBox=null,this.builder.editor.inspectedElement=null,this.builder.editor.activeElement=null,this.builder.editor.activeCol=null,this.builder.wrapperEl.classList.remove("hard-select"),this.builder.wrapperEl.classList.remove("is-container-edit"),this.builder.wrapperEl.classList.remove("is-clean-edit"),this.builder.refreshAnim()}));s.querySelector(".cmd-section-up").addEventListener("click",(()=>{this.builder.editor.saveForUndo(),this.sectionUp(),this.builder.sectionStack(),this.builder.settings.onChange()}));s.querySelector(".cmd-section-down").addEventListener("click",(()=>{this.builder.editor.saveForUndo(),this.sectionDown(),this.builder.sectionStack(),this.builder.settings.onChange()}));s.querySelector(".cmd-section-top").addEventListener("click",(()=>{this.builder.editor.saveForUndo(),this.sectionTop(),this.builder.sectionStack(),this.builder.settings.onChange()}));s.querySelector(".cmd-section-bottom").addEventListener("click",(()=>{this.builder.editor.saveForUndo(),this.sectionBottom(),this.builder.sectionStack(),this.builder.settings.onChange()}));s.querySelector(".cmd-section-duplicate").addEventListener("click",(()=>{this.builder.editor.saveForUndo(),this.sectionDuplicate(),this.builder.sectionStack(),this.builder.settings.onChange(),setTimeout((()=>{this.builder.refreshAnim()}),600)}));s.querySelectorAll(".cmd-section-anim-start").forEach((e=>{e.addEventListener("click",(()=>{this.builder.editor.saveForUndo();let t=e.getAttribute("data-value");this.sectionAnimStart(t),s.querySelectorAll(".cmd-section-anim-start").forEach((e=>{l.removeClass(e,"on")})),l.addClass(e,"on"),""===t&&setTimeout((()=>{l.removeClass(e,"on")}),100),this.builder.settings.onChange()}))}));s.querySelectorAll(".cmd-section-anim-end").forEach((e=>{e.addEventListener("click",(()=>{this.builder.editor.saveForUndo();let t=e.getAttribute("data-value");this.sectionAnimEnd(t),s.querySelectorAll(".cmd-section-anim-end").forEach((e=>{l.removeClass(e,"on")})),l.addClass(e,"on"),""===t&&setTimeout((()=>{l.removeClass(e,"on")}),100),this.builder.settings.onChange()}))}));s.querySelectorAll(".cmd-section-height").forEach((e=>{e.addEventListener("click",(()=>{this.builder.editor.saveForUndo();let t=e.getAttribute("data-value");const i=this.builder.activeSection;i.classList.add("transition-edit"),setTimeout((()=>{this.sectionHeight(t),setTimeout((()=>{i.classList.remove("transition-edit")}),200)}),10),s.querySelectorAll(".cmd-section-height").forEach((e=>{l.removeClass(e,"on")})),l.addClass(e,"on"),this.builder.settings.onChange(),setTimeout((()=>{this.builder.refreshAnim()}),300)}))}));s.querySelectorAll(".cmd-box-spacing").forEach((e=>{e.addEventListener("click",(()=>{this.builder.editor.saveForUndo();let t=e.getAttribute("data-value");this.boxSpacing(t),s.querySelectorAll(".cmd-box-spacing").forEach((e=>{l.removeClass(e,"on")})),l.addClass(e,"on"),""===t&&setTimeout((()=>{l.removeClass(e,"on")}),100),this.builder.settings.onChange()}))}));s.querySelectorAll(".cmd-betweenbox-spacing").forEach((e=>{e.addEventListener("click",(()=>{this.builder.editor.saveForUndo();let t=e.getAttribute("data-value");const i=this.builder.activeSection;"space"===t?l.removeClass(i,"space-around"):l.addClass(i,"space-around"),s.querySelectorAll(".cmd-betweenbox-spacing").forEach((e=>{l.removeClass(e,"on")})),l.addClass(e,"on"),this.builder.settings.onChange()}))}));s.querySelectorAll(".cmd-section-stack").forEach((e=>{e.addEventListener("click",(()=>{this.builder.editor.saveForUndo();let t=e.getAttribute("data-value");const i=this.builder.activeSection;l.removeClass(i,"stack-top"),l.removeClass(i,"stack-middle"),l.removeClass(i,"stack-bottom"),"top"===t?l.addClass(i,"stack-top"):"middle"===t?l.addClass(i,"stack-middle"):"bottom"===t&&l.addClass(i,"stack-bottom"),s.querySelectorAll(".cmd-section-stack").forEach((e=>{l.removeClass(e,"on")})),l.addClass(e,"on"),this.builder.settings.onChange()}))}));s.querySelectorAll(".cmd-section-scroll").forEach((e=>{e.addEventListener("click",(()=>{this.builder.editor.saveForUndo();let t=e.getAttribute("data-value");this.sectionScrollIcon(t),this.builder.settings.onChange()}))}));s.querySelectorAll(".cmd-scroll-preset").forEach((e=>{e.addEventListener("click",(()=>{this.builder.editor.saveForUndo();let t=e.getAttribute("data-value");this.sectionScrollPreset(t),s.querySelectorAll(".cmd-scroll-preset").forEach((e=>{l.removeClass(e,"on")})),l.addClass(e,"on"),""===t&&setTimeout((()=>{l.removeClass(e,"on")}),100),this.builder.settings.onChange()}))}));s.querySelector("#chkScrollIcon").addEventListener("click",(()=>{this.builder.editor.saveForUndo(),this.sectionUseScroll(),this.builder.settings.onChange()}));const c=this.builder.editor.colorpicker(),u=s.querySelector(".input-section-bgcolor");u.addEventListener("click",(()=>{this.builder.editor.saveForUndo(!0);const e=this.builder.activeSection;let t=u.style.backgroundColor;c.open((t=>{if(!e.classList.contains("box-space")){e.querySelectorAll(".is-overlay").forEach((e=>{e.style.backgroundColor="",e.style.backgroundImage=""}))}e.style.backgroundColor=t,e.style.backgroundImage="",u.style.backgroundColor=t,this.builder.onChange()}),t)})),s.querySelector(".input-section-gradient").addEventListener("click",(()=>{this.builder.editor.saveForUndo(!0);const e=this.builder.activeSection;this.builder.editor.gradientpicker().open(e,(()=>{if(!e.classList.contains("box-space")){e.querySelectorAll(".is-overlay").forEach((e=>{e.style.backgroundColor="",e.style.backgroundImage=""}))}this.builder.onChange()}))}));let p=s.querySelector(".input-section-id");p.addEventListener("change",(()=>{this.builder.editor.saveForUndo();const e=this.builder.activeSection,t=e.querySelector(".is-section-info");""!==p.value?(e.setAttribute("id",p.value),t.innerHTML=`<div>#${p.value}</div>`):(e.removeAttribute("id"),t.innerHTML=""),this.builder.onChange()}));let h=s.querySelector(".input-section-classes");h.addEventListener("change",(()=>{this.builder.editor.saveForUndo();const e=this.builder.activeSection;let t=[],i=e.getAttribute("data-class");i&&(t=i.split(" "));let n=[],s=h.value;n=s.split(" "),t.forEach((t=>{n.includes(t)||e.classList.remove(t)})),n.forEach((t=>{""!==t&&e.classList.add(t)})),e.setAttribute("data-class",s),""===e.getAttribute("data-class")&&e.removeAttribute("data-class"),this.builder.onChange()})),p.addEventListener("keyup",(()=>{const e=this.builder.activeSection,t=e.querySelector(".is-section-info");""!==p.value?(e.setAttribute("id",p.value),t.innerHTML=`<div>#${p.value}</div>`):(e.removeAttribute("id"),t.innerHTML="")}));const m=s.querySelector("#chkReverseBoxes");m.addEventListener("click",(()=>{let e=this.builder.activeSection;if(!e)return;this.builder.editor.saveForUndo(),e.classList.remove("box-reverse");let t=s.querySelector(".div-target"),i=this.builder.editor.responsive.readTarget(t);"xs"===i?m.checked?e.classList.add("xs-box-reverse"):e.classList.remove("xs-box-reverse"):"sm"===i?m.checked?e.classList.add("sm-box-reverse"):e.classList.remove("sm-box-reverse"):"md"===i?m.checked?e.classList.add("md-box-reverse"):e.classList.remove("md-box-reverse"):""===i&&(m.checked?e.classList.add("desktop-box-reverse"):e.classList.remove("desktop-box-reverse")),this.builder.settings.onChange()}));let g=s.querySelectorAll(".input-device");g.forEach((e=>{e.addEventListener("click",(()=>{let t=this.builder.activeSection;t&&(s.querySelectorAll(".input-device").forEach((e=>{e.classList.remove("on")})),e.classList.add("on"),this.realtimeVisibility(t))}))}));let b=s.querySelector(".input-visible"),f=s.querySelector(".input-hidden");b.addEventListener("click",(()=>{let e=this.builder.activeSection;if(!e)return;this.builder.editor.saveForUndo(),e.classList.remove("hideonmobile");let t=s.querySelector(".div-target"),i=this.builder.editor.responsive.readTarget(t);"xs"===i?e.classList.remove("xs-hidden"):"sm"===i?e.classList.remove("sm-hidden"):"md"===i?e.classList.remove("md-hidden"):""===i&&e.classList.remove("desktop-hidden"),b.classList.add("on"),f.classList.remove("on"),this.builder.onChange()})),f.addEventListener("click",(()=>{let e=this.builder.activeSection;if(!e)return;this.builder.editor.saveForUndo(),e.classList.remove("hideonmobile");let t=s.querySelector(".div-target"),i=this.builder.editor.responsive.readTarget(t);"xs"===i?e.classList.add("xs-hidden"):"sm"===i?e.classList.add("sm-hidden"):"md"===i?e.classList.add("md-hidden"):""===i&&e.classList.add("desktop-hidden"),b.classList.remove("on"),f.classList.add("on"),this.builder.onChange()})),g=s.querySelectorAll(".input-boxesperline"),g.forEach((e=>{e.addEventListener("click",(()=>{let t=this.builder.activeSection;if(!t)return;this.builder.editor.saveForUndo(),s.querySelectorAll(".input-boxesperline").forEach((e=>{e.classList.remove("on")})),e.classList.add("on");let i=e.getAttribute("data-value"),n=s.querySelector(".div-target"),o=this.builder.editor.responsive.readTarget(n);if("xs"===o)t.classList.remove("xs-boxes-1"),t.classList.remove("xs-boxes-2"),t.classList.remove("xs-boxes-3"),t.classList.remove("xs-boxes-4"),t.classList.remove("xs-boxes-wrap"),""!==i&&(t.classList.add(`xs-boxes-${i}`),t.classList.add("xs-boxes-wrap"));else if("sm"===o)t.classList.remove("sm-boxes-1"),t.classList.remove("sm-boxes-2"),t.classList.remove("sm-boxes-3"),t.classList.remove("sm-boxes-4"),t.classList.remove("sm-boxes-wrap"),""!==i&&(t.classList.add(`sm-boxes-${i}`),t.classList.add("sm-boxes-wrap"));else if("md"===o){if(t.classList.remove("md-boxes-1"),t.classList.remove("md-boxes-2"),t.classList.remove("md-boxes-3"),t.classList.remove("md-boxes-4"),t.classList.remove("md-boxes-wrap"),""!==i){t.classList.add(`md-boxes-${i}`),t.classList.add("md-boxes-wrap"),t.querySelectorAll(".is-box").forEach((e=>{e.classList.add("box-autofit");let t=!1;e.classList.forEach((e=>{-1!==e.indexOf("min-height")&&(t=!0)})),e.querySelector(".is-overlay-bg")&&(t||e.classList.add("min-height-50"))}))}}else""===o&&(t.classList.remove("desktop-boxes-1"),t.classList.remove("desktop-boxes-2"),t.classList.remove("desktop-boxes-3"),t.classList.remove("desktop-boxes-4"),t.classList.remove("desktop-boxes-wrap"),""!==i&&(t.classList.add(`desktop-boxes-${i}`),t.classList.add("desktop-boxes-wrap")));this.builder.onChange()}))}))}realtimeVisibility(e,t){if(t){const e=this.builder.builderStuff.querySelector(".is-modal.content-preview.active");if(e){this.modalEditSection.querySelectorAll(".input-device").forEach((e=>{e.classList.remove("on")})),e.classList.contains("is-screen-1920")||e.classList.contains("is-screen-1440")?this.modalEditSection.querySelector('.input-device[data-value=""]').classList.add("on"):e.classList.contains("is-screen-1024")?this.modalEditSection.querySelector('.input-device[data-value="md"]').classList.add("on"):e.classList.contains("is-screen-768")?this.modalEditSection.querySelector('.input-device[data-value="sm"]').classList.add("on"):e.classList.contains("is-screen-375")&&this.modalEditSection.querySelector('.input-device[data-value="xs"]').classList.add("on")}}let i=this.modalEditSection.querySelector(".div-target"),n=this.modalEditSection.querySelector(".div-visibility"),s=this.builder.editor.responsive.readTarget(i),o=this.builder.editor.responsive.getVisibility(e,s);this.builder.editor.responsive.showVisibility(n,o),this.modalEditSection.querySelectorAll(".input-boxesperline").forEach((e=>{e.classList.remove("on")}));let a=!1;"xs"===s?(a=e.classList.contains("xs-box-reverse"),e.classList.contains("xs-boxes-1")?this.modalEditSection.querySelector('.input-boxesperline[data-value="1"]').classList.add("on"):e.classList.contains("xs-boxes-2")?this.modalEditSection.querySelector('.input-boxesperline[data-value="2"]').classList.add("on"):e.classList.contains("xs-boxes-3")?this.modalEditSection.querySelector('.input-boxesperline[data-value="3"]').classList.add("on"):e.classList.contains("xs-boxes-4")?this.modalEditSection.querySelector('.input-boxesperline[data-value="4"]').classList.add("on"):this.modalEditSection.querySelector('.input-boxesperline[data-value=""]').classList.add("on"),t||this.builder.editor.livePreview.resizePreview(375)):"sm"===s?(a=e.classList.contains("sm-box-reverse"),e.classList.contains("sm-boxes-1")?this.modalEditSection.querySelector('.input-boxesperline[data-value="1"]').classList.add("on"):e.classList.contains("sm-boxes-2")?this.modalEditSection.querySelector('.input-boxesperline[data-value="2"]').classList.add("on"):e.classList.contains("sm-boxes-3")?this.modalEditSection.querySelector('.input-boxesperline[data-value="3"]').classList.add("on"):e.classList.contains("sm-boxes-4")?this.modalEditSection.querySelector('.input-boxesperline[data-value="4"]').classList.add("on"):this.modalEditSection.querySelector('.input-boxesperline[data-value=""]').classList.add("on"),t||this.builder.editor.livePreview.resizePreview(768)):"md"===s?(a=e.classList.contains("md-box-reverse"),e.classList.contains("md-boxes-1")?this.modalEditSection.querySelector('.input-boxesperline[data-value="1"]').classList.add("on"):e.classList.contains("md-boxes-2")?this.modalEditSection.querySelector('.input-boxesperline[data-value="2"]').classList.add("on"):e.classList.contains("md-boxes-3")?this.modalEditSection.querySelector('.input-boxesperline[data-value="3"]').classList.add("on"):e.classList.contains("md-boxes-4")?this.modalEditSection.querySelector('.input-boxesperline[data-value="4"]').classList.add("on"):this.modalEditSection.querySelector('.input-boxesperline[data-value=""]').classList.add("on"),t||this.builder.editor.livePreview.resizePreview(1024)):(a=e.classList.contains("desktop-box-reverse"),e.classList.contains("desktop-boxes-1")?this.modalEditSection.querySelector('.input-boxesperline[data-value="1"]').classList.add("on"):e.classList.contains("desktop-boxes-2")?this.modalEditSection.querySelector('.input-boxesperline[data-value="2"]').classList.add("on"):e.classList.contains("desktop-boxes-3")?this.modalEditSection.querySelector('.input-boxesperline[data-value="3"]').classList.add("on"):e.classList.contains("desktop-boxes-4")?this.modalEditSection.querySelector('.input-boxesperline[data-value="4"]').classList.add("on"):this.modalEditSection.querySelector('.input-boxesperline[data-value=""]').classList.add("on"),t||this.builder.editor.livePreview.resizePreview(1920));this.modalEditSection.querySelector("#chkReverseBoxes").checked=a}read(){const e=this.builder.activeSection,t=this.modalEditSection;let i=t.querySelector(".input-section-id");i.value="";const n=e.getAttribute("id");n&&(i.value=n);let s=t.querySelector(".input-section-classes");s.value="";const o=e.getAttribute("data-class");s.value=o;let a=this.builder.activeSection.querySelectorAll(".is-bg-light");a.forEach((e=>{if(l.removeClass(e,"is-bg-light"),l.hasClass(e,"is-box")){let t=e.querySelector(".is-overlay");t?t.style.backgroundColor||(t.style.backgroundColor="rgb(255, 255, 255)"):(e.insertAdjacentHTML("afterbegin",'<div class="is-overlay"></div>'),t=e.querySelector(".is-overlay"),t.style.backgroundColor="rgb(255, 255, 255)")}})),a=this.builder.activeSection.querySelectorAll(".is-bg-dark"),a.forEach((e=>{if(l.removeClass(e,"is-bg-dark"),l.hasClass(e,"is-box")){let t=e.querySelector(".is-overlay");t?t.style.backgroundColor||(t.style.backgroundColor="rgb(17, 17, 17)"):(e.insertAdjacentHTML("afterbegin",'<div class="is-overlay"></div>'),t=e.querySelector(".is-overlay"),t.style.backgroundColor="rgb(17, 17, 17)")}})),a=this.builder.activeSection.querySelectorAll(".is-bg-grey"),a.forEach((e=>{if(l.removeClass(e,"is-bg-grey"),l.hasClass(e,"is-box")){let t=e.querySelector(".is-overlay");t?t.style.backgroundColor||(t.style.backgroundColor="rgb(238, 239, 240)"):(e.insertAdjacentHTML("afterbegin",'<div class="is-overlay"></div>'),t=e.querySelector(".is-overlay"),t.style.backgroundColor="rgb(238, 239, 240)")}}));const r=t.querySelector("#chkScrollIcon");e.querySelector(".is-arrow-down")?r.checked=!0:r.checked=!1;let d=t.querySelectorAll(".cmd-section-height");if(d.forEach((e=>{l.removeClass(e,"on")})),l.hasClass(e,"is-section-100")&&l.addClass(t.querySelector('.cmd-section-height[data-value="100"]'),"on"),l.hasClass(e,"is-section-90")&&l.addClass(t.querySelector('.cmd-section-height[data-value="90"]'),"on"),l.hasClass(e,"is-section-85")&&l.addClass(t.querySelector('.cmd-section-height[data-value="85"]'),"on"),l.hasClass(e,"is-section-80")&&l.addClass(t.querySelector('.cmd-section-height[data-value="80"]'),"on"),l.hasClass(e,"is-section-75")&&l.addClass(t.querySelector('.cmd-section-height[data-value="75"]'),"on"),l.hasClass(e,"is-section-70")&&l.addClass(t.querySelector('.cmd-section-height[data-value="70"]'),"on"),l.hasClass(e,"is-section-60")&&l.addClass(t.querySelector('.cmd-section-height[data-value="60"]'),"on"),l.hasClass(e,"is-section-50")&&l.addClass(t.querySelector('.cmd-section-height[data-value="50"]'),"on"),l.hasClass(e,"is-section-40")&&l.addClass(t.querySelector('.cmd-section-height[data-value="40"]'),"on"),l.hasClass(e,"is-section-30")&&l.addClass(t.querySelector('.cmd-section-height[data-value="30"]'),"on"),l.hasClass(e,"is-section-25")&&l.addClass(t.querySelector('.cmd-section-height[data-value="25"]'),"on"),l.hasClass(e,"is-section-20")&&l.addClass(t.querySelector('.cmd-section-height[data-value="20"]'),"on"),l.hasClass(e,"is-section-15")&&l.addClass(t.querySelector('.cmd-section-height[data-value="15"]'),"on"),l.hasClass(e,"is-section-10")&&l.addClass(t.querySelector('.cmd-section-height[data-value="10"]'),"on"),l.hasClass(e,"is-section-auto")&&l.addClass(t.querySelector('.cmd-section-height[data-value="0"]'),"on"),d=t.querySelectorAll(".cmd-section-anim-start"),d.forEach((e=>{l.removeClass(e,"on")})),d=t.querySelectorAll(".cmd-section-anim-end"),d.forEach((e=>{l.removeClass(e,"on")})),e.hasAttribute("data-anim-start")){const i=e.getAttribute("data-anim-start");"zoom-in"===i&&l.addClass(t.querySelector('.cmd-section-anim-start[data-value="zoom-in"]'),"on"),"zoom-out"===i&&l.addClass(t.querySelector('.cmd-section-anim-start[data-value="zoom-out"]'),"on"),"slide-left"===i&&l.addClass(t.querySelector('.cmd-section-anim-start[data-value="slide-left"]'),"on"),"slide-right"===i&&l.addClass(t.querySelector('.cmd-section-anim-start[data-value="slide-right"]'),"on")}if(e.hasAttribute("data-anim-end")){const i=e.getAttribute("data-anim-end");"zoom-in"===i&&l.addClass(t.querySelector('.cmd-section-anim-end[data-value="zoom-in"]'),"on"),"zoom-out"===i&&l.addClass(t.querySelector('.cmd-section-anim-end[data-value="zoom-out"]'),"on"),"slide-left"===i&&l.addClass(t.querySelector('.cmd-section-anim-end[data-value="slide-left"]'),"on"),"slide-right"===i&&l.addClass(t.querySelector('.cmd-section-anim-end[data-value="slide-right"]'),"on"),"overlap"===i&&l.addClass(t.querySelector('.cmd-section-anim-end[data-value="overlap"]'),"on"),"slide-back"===i&&l.addClass(t.querySelector('.cmd-section-anim-end[data-value="slide-back"]'),"on")}d=t.querySelectorAll(".cmd-box-spacing");const c=this.modalEditSection.querySelector(".div-section-spacesettings");d.forEach((e=>{l.removeClass(e,"on")})),l.hasClass(e,"box-space")?(l.hasClass(e,"box-space-sm")?l.addClass(t.querySelector('.cmd-box-spacing[data-value="sm"]'),"on"):l.hasClass(e,"box-space-xxs")?l.addClass(t.querySelector('.cmd-box-spacing[data-value="xxs"]'),"on"):l.hasClass(e,"box-space-m")?l.addClass(t.querySelector('.cmd-box-spacing[data-value="m"]'),"on"):l.hasClass(e,"box-space-lg")?l.addClass(t.querySelector('.cmd-box-spacing[data-value="lg"]'),"on"):l.addClass(t.querySelector('.cmd-box-spacing[data-value="default"]'),"on"),c.style.display="flex"):c.style.display="none";const u=this.modalEditSection.querySelector(".div-multi-boxes");l.hasClass(e,"is-box")?u.style.display="none":u.style.display="block",d=t.querySelectorAll(".cmd-betweenbox-spacing"),d.forEach((e=>{l.removeClass(e,"on")})),l.hasClass(e,"space-around")?l.addClass(t.querySelector('.cmd-betweenbox-spacing[data-value="no-space"]'),"on"):l.addClass(t.querySelector('.cmd-betweenbox-spacing[data-value="space"]'),"on"),d=t.querySelectorAll(".cmd-section-stack"),d.forEach((e=>{l.removeClass(e,"on")})),l.hasClass(e,"stack-top")?l.addClass(t.querySelector('.cmd-section-stack[data-value="top"]'),"on"):l.hasClass(e,"stack-middle")?l.addClass(t.querySelector('.cmd-section-stack[data-value="middle"]'),"on"):l.hasClass(e,"stack-bottom")&&l.addClass(t.querySelector('.cmd-section-stack[data-value="bottom"]'),"on"),d=t.querySelectorAll(".cmd-scroll-preset"),d.forEach((e=>{l.removeClass(e,"on")}));const p=e.querySelector(".is-arrow-down");if(p){let e=p.getAttribute("data-scroll-preset");if(e){let i=t.querySelector(`.cmd-scroll-preset[data-value="${e}"]`);l.addClass(i,"on")}}let h=t.querySelector(".input-section-bgcolor"),m=e.style.backgroundColor;h.style.backgroundColor=m||"",this.realtimeVisibility(e,!0);const g=t.querySelector(".div-boxesperline"),b=t.querySelector("#divReverseBoxes");e.querySelectorAll(".is-box").length>1?(b.style.display="flex",g.style.display="flex"):(b.style.display="none",g.style.display="none")}close(){this.modalEditSection.style.display=""}edit(){this.builder.wrapperEl.classList.add("hard-select"),this.builder.activeBox&&this.builder.activeBox.classList.add("box-select"),this.builder.activeSection&&this.builder.activeSection.classList.add("section-select");const e=this.modalEditSection;e.style.display="flex",e.focus(),this.read();const t=this.builder.activeSection;t.classList.add("section-active"),setTimeout((()=>{t.classList.remove("section-active")}),1e3)}sectionUp(){const e=this.builder.activeSection;let t=e.previousElementSibling;if(t)for(;!l.hasClass(t,"is-section")&&t.previousElementSibling;)t=t.previousElementSibling;t&&!l.hasClass(t,"is-static")&&(e.parentNode.insertBefore(e,t),this.builder.settings.onRender(),this.builder.refreshAnim(),this.builder.scrollTo(e,600))}sectionDown(){const e=this.builder.activeSection;let t=e.nextElementSibling;if(t)for(;!l.hasClass(t,"is-section")&&t.nextElementSibling;)t=t.previousElementSibling;return t&&!l.hasClass(t,"is-static")&&(e.parentNode.insertBefore(t,e),this.builder.settings.onRender(),this.builder.refreshAnim(),this.builder.scrollTo(e,600)),!1}sectionTop(){const e=this.builder.activeSection;let t=this.builder.wrapperEl.querySelector(".is-section:not(.is-section-navbar)");e.parentNode.insertBefore(e,t),this.builder.settings.onRender(),this.builder.refreshAnim(),this.builder.scrollTo(e,600)}sectionBottom(){const e=this.builder.activeSection;let t=Array.from(this.builder.wrapperEl.children).filter((e=>e.classList.contains("is-section"))),i=t[t.length-1];e.parentNode.insertBefore(e,i.nextElementSibling),this.builder.settings.onRender(),this.builder.refreshAnim(),this.builder.scrollTo(e,600)}sectionDuplicate(){const e=this.builder.activeSection;let t=e.cloneNode(!0);t.setAttribute("data-section-copied","1"),e.parentNode.insertBefore(t,e.nextElementSibling);let i=this.builder.doc.querySelector("[data-section-copied]");if(i.removeAttribute("data-section-copied"),l.removeClass(i,"section-active"),i.querySelectorAll(".is-overlay-content[data-module]").forEach((e=>{let t=decodeURIComponent(e.getAttribute("data-html"));t=t.replace(/{id}/g,l.uniqueId()),l.html(e,t)})),this.builder.sectionSetup(i),l.hasClass(i,"is-box"))this.builder.boxSetup(i);else{i.querySelectorAll(".is-box").forEach((e=>{this.builder.boxSetup(e)}))}i.querySelectorAll(".is-builder").forEach((e=>{let t=this.builder.editor.html(e),i=document.createRange();e.innerHTML="",e.appendChild(i.createContextualFragment(t)),e.removeAttribute("data-sort"),this.builder.editor.applyBehaviorOn(e)}));const n=i.querySelector(".is-arrow-down a");n&&n.addEventListener("click",(e=>(this.builder.scrollTo(i.nextElementSibling),e.preventDefault(),e.stopImmediatePropagation(),!1))),this.builder.settings.onRender(),this.builder.refreshAnim(),this.builder.hideModal(this.modalEditSection),this.builder.scrollTo(i,600),e.classList.remove("section-select"),e.classList.remove("box-select");const s=e.querySelector(".box-select");s&&s.classList.remove("box-select"),this.builder.activeSection=i,i.classList.contains("box-select")?this.builder.activeBox=i:this.builder.activeBox=i.querySelector(".box-select")}sectionAnimStart(e){const t=this.builder.activeSection;t.removeAttribute("data-bottom-top"),t.removeAttribute("data-300-bottom"),t.removeAttribute("data-400-bottom"),t.removeAttribute("data-center-top"),t.removeAttribute("data-anim-start"),t.style.transform="","zoom-in"===e?(t.setAttribute("data-bottom-top","transform:translateX(0%) translateY(0%) scale(0.7)"),t.setAttribute("data-300-bottom","transform:translateX(0%) translateY(0%) scale(1)")):"zoom-out"===e?(t.setAttribute("data-bottom-top","transform:translateX(0%) translateY(0%) scale(1.5)"),t.setAttribute("data-300-bottom","transform:translateX(0%) translateY(0%) scale(1)")):"slide-left"===e?(t.setAttribute("data-bottom-top","transform:translateX(100%) translateY(0%) scale(1)"),t.setAttribute("data-center-top","transform:translateX(0%) translateY(0%) scale(1)")):"slide-right"===e&&(t.setAttribute("data-bottom-top","transform:translateX(-100%) translateY(0%) scale(1)"),t.setAttribute("data-center-top","transform:translateX(0%) translateY(0%) scale(1)")),t.setAttribute("data-anim-start",e),"overlap"===t.getAttribute("data-anim-end")?t.setAttribute("data-smooth-scrolling","off"):t.removeAttribute("data-smooth-scrolling"),""===e&&(t.style.transform="",t.style.transition="",t.style.opacity="",t.removeAttribute("data-anim-start"),t.hasAttribute("data-anim-end")||t.removeAttribute("data-smooth-scrolling")),this.builder.win.skrollrr&&this.builder.win.skrollrr.refresh(),this.builder.settings.onRender()}sectionAnimEnd(e){const t=this.builder.activeSection;t.removeAttribute("data-top-bottom"),t.removeAttribute("data-center"),t.removeAttribute("data-anim-end"),t.style.transform="","zoom-in"===e?(t.setAttribute("data-center","transform:translateX(0%) translateY(0%) scale(1)"),t.setAttribute("data-top-bottom","transform:translateX(0%) translateY(0%) scale(1.5)")):"zoom-out"===e?(t.setAttribute("data-center","transform:translateX(0%) translateY(0%) scale(1);"),t.setAttribute("data-top-bottom","transform:translateX(0%) translateY(0%) scale(0.5)")):"overlap"===e?(t.setAttribute("data-center","transform:translateX(0%) translateY(0%) scale(1)"),t.setAttribute("data-top-bottom","transform:translateX(0%) translateY(70%) scale(1)"),t.setAttribute("data-smooth-scrolling","off")):"slide-left"===e?(t.setAttribute("data-center","transform:translateX(0%) translateY(0%) scale(1)"),t.setAttribute("data-top-bottom","transform:translateX(-100%) translateY(0%) scale(1)")):"slide-right"===e?(t.setAttribute("data-center","transform:translateX(0%) translateY(0%) scale(1)"),t.setAttribute("data-top-bottom","transform:translateX(100%) translateY(0%) scale(1)")):"slide-back"===e&&(t.setAttribute("data-center","transform:translateX(0%) translateY(0%) scale(1);"),t.setAttribute("data-top-bottom","transform:translateX(0%) translateY(100%) scale(0.5)")),t.setAttribute("data-anim-end",e),"overlap"===t.getAttribute("data-anim-end")?t.setAttribute("data-smooth-scrolling","off"):t.removeAttribute("data-smooth-scrolling"),""===e&&(t.style.transform="",t.style.transition="",t.style.opacity="",t.removeAttribute("data-anim-end"),t.hasAttribute("data-anim-start")||t.removeAttribute("data-smooth-scrolling")),this.builder.win.skrollrr&&this.builder.win.skrollrr.refresh(),this.builder.settings.onRender()}sectionHeight(e){const t=this.builder.activeSection;t.style.height="",l.removeClass(t,"is-section-auto"),l.removeClass(t,"is-section-10"),l.removeClass(t,"is-section-15"),l.removeClass(t,"is-section-20"),l.removeClass(t,"is-section-25"),l.removeClass(t,"is-section-30"),l.removeClass(t,"is-section-40"),l.removeClass(t,"is-section-50"),l.removeClass(t,"is-section-60"),l.removeClass(t,"is-section-70"),l.removeClass(t,"is-section-75"),l.removeClass(t,"is-section-80"),l.removeClass(t,"is-section-85"),l.removeClass(t,"is-section-90"),l.removeClass(t,"is-section-100"),"0"===e?l.addClass(t,"is-section-auto"):l.addClass(t,"is-section-"+e),this.builder.settings.onRender(),this.builder.settings.onChange(),this.builder.refreshAnim()}updateSectionHeight(e,t){const i=e.closest(".is-section");i.classList.add("transition-edit"),setTimeout((()=>{i.style.height="",i.classList.remove("is-section-auto"),i.classList.remove("is-section-10"),i.classList.remove("is-section-15"),i.classList.remove("is-section-20"),i.classList.remove("is-section-25"),i.classList.remove("is-section-30"),i.classList.remove("is-section-40"),i.classList.remove("is-section-50"),i.classList.remove("is-section-60"),i.classList.remove("is-section-70"),i.classList.remove("is-section-75"),i.classList.remove("is-section-80"),i.classList.remove("is-section-85"),i.classList.remove("is-section-90"),i.classList.remove("is-section-100"),"auto"===t?i.classList.add("is-section-auto"):i.classList.add("is-section-"+t),setTimeout((()=>{i.classList.remove("transition-edit")}),200)}),10),this.builder.settings.onRender(),this.builder.settings.onChange(),setTimeout((()=>{this.builder.refreshAnim()}),300)}boxSpacing(e){const t=this.builder.activeSection,i=this.modalEditSection.querySelector(".div-section-spacesettings");""===e?(l.removeClass(t,"box-space"),l.removeClass(t,"box-space-xxs"),l.removeClass(t,"box-space-sm"),l.removeClass(t,"box-space-m"),l.removeClass(t,"box-space-lg"),l.removeClass(t,"stack-top"),l.removeClass(t,"stack-middle"),l.removeClass(t,"stack-bottom"),i.style.display="none"):(l.addClass(t,"box-space"),i.style.display="flex"),"sm"===e?(l.removeClass(t,"box-space-xxs"),l.removeClass(t,"box-space-m"),l.removeClass(t,"box-space-lg"),l.addClass(t,"box-space-sm")):"xxs"===e?(l.removeClass(t,"box-space-m"),l.removeClass(t,"box-space-sm"),l.removeClass(t,"box-space-lg"),l.addClass(t,"box-space-xxs")):"m"===e?(l.removeClass(t,"box-space-xxs"),l.removeClass(t,"box-space-sm"),l.removeClass(t,"box-space-lg"),l.addClass(t,"box-space-m")):"lg"===e?(l.removeClass(t,"box-space-xxs"),l.removeClass(t,"box-space-sm"),l.removeClass(t,"box-space-m"),l.addClass(t,"box-space-lg")):"default"===e&&(l.removeClass(t,"box-space-xxs"),l.removeClass(t,"box-space-sm"),l.removeClass(t,"box-space-m"),l.removeClass(t,"box-space-lg")),this.builder.sectionStack()}sectionUseScroll(){const e=this.builder.activeSection;if(this.modalEditSection.querySelector("#chkScrollIcon").checked){e.querySelector(".is-section-tool").insertAdjacentHTML("beforebegin",'<div class="is-arrow-down bounce"><a href="#"><i class="icon ion-ios-arrow-thin-down"></i></a></div>');e.querySelector(".is-arrow-down a").addEventListener("click",(t=>(this.builder.scrollTo(e.nextElementSibling),t.preventDefault(),t.stopImmediatePropagation(),!1)))}else{const t=e.querySelector(".is-arrow-down");t.parentNode.removeChild(t)}}sectionScrollIcon(e){const t=this.builder.activeSection.querySelector(".is-arrow-down");"light"===e?l.addClass(t,"light"):l.removeClass(t,"light")}sectionScrollPreset(e){const t=this.builder.activeSection,i=t.querySelector(".is-arrow-down");if(i&&i.parentNode.removeChild(i),"1"===e){let e="";e=`fill:${"#fff"};`;let i=`<div data-target="svgfill" class="is-arrow-down bounce" data-scroll-preset="1" style="width: 30px;margin-left: -15px;height: 40px;">\n                <a href="#" style="border-radius: 5px;background:${"rgb(173 173 173 / 26%)"};box-shadow:0px 5px 5px 0px rgba(0, 0, 0, 0.03);">\n                <svg style="width:17px;height:17px;${e}" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg">\n                <g>\n                <path d="M277.375 85v259.704l119.702-119.702L427 256 256 427 85 256l29.924-29.922 119.701 118.626V85h42.75z"></path>\n                </g>\n                </svg>\n                </a>\n                </div>`;t.insertAdjacentHTML("beforeend",i)}if("2"===e){let e="";e=`fill:${"#000"};`;let i=`<div data-target="svgfill" class="is-arrow-down bounce" data-scroll-preset="2" style="width: 30px;margin-left: -15px;height: 40px;">\n                <a href="#" style="border-radius: 5px;background:${"rgb(221 221 221 / 30%)"};box-shadow:0px 5px 5px 0px rgba(0, 0, 0, 0.03);">\n                <svg style="width:17px;height:17px;${e}" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg">\n                <g>\n                <path d="M277.375 85v259.704l119.702-119.702L427 256 256 427 85 256l29.924-29.922 119.701 118.626V85h42.75z"></path>\n                </g>\n                </svg>\n                </a>\n                </div>`;t.insertAdjacentHTML("beforeend",i)}if("3"===e){let e="";e=`fill:${"#fff"};`;let i=`<div data-target="svgfill" class="is-arrow-down bounce" data-scroll-preset="3">\n                <a href="#" style="background:${"rgba(193, 193, 193, 0.18)"};border-radius:500px">\n                <svg style="width:22px;height:22px;${e}" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg">\n                <g>\n                <path d="M396.6 160l19.4 20.7L256 352 96 180.7l19.3-20.7L256 310.5z"></path>\n                </g>\n                </svg>\n                </a>\n                </div>`;t.insertAdjacentHTML("beforeend",i)}if("4"===e){let e="";e=`fill:${"#000"};`;let i=`<div data-target="svgfill" class="is-arrow-down bounce" data-scroll-preset="4">\n                <a href="#" style="background:${"rgba(193, 193, 193, 0.18)"};border-radius:500px">\n                <svg style="width:22px;height:22px;${e}" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg">\n                <g>\n                <path d="M396.6 160l19.4 20.7L256 352 96 180.7l19.3-20.7L256 310.5z"></path>\n                </g>\n                </svg>\n                </a>\n                </div>`;t.insertAdjacentHTML("beforeend",i)}if("5"===e){let e="";e=`fill:${"#fff"};`;let i=`<div data-target="svgfill" class="is-arrow-down bounce" data-scroll-preset="5">\n                <a href="#" style="background:none;border-radius:unset;">\n                <svg style="width:30px;height:30px;${e}" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg">\n                    <g>\n                        <path d="M349.7 322.2c-3.1-3.1-8-3-11.3 0L264 388.6V104c0-4.4-3.6-8-8-8s-8 3.6-8 8v284.6l-74.4-66.3c-3.4-2.9-8.1-3.2-11.2-.1-3.1 3.1-3.3 8.5-.1 11.4 0 0 87 79.2 88 80s2.8 2.4 5.7 2.4 4.9-1.6 5.7-2.4 88-80 88-80c1.5-1.5 2.3-3.6 2.3-5.7s-.8-4.1-2.3-5.7z"></path>\n                    </g>\n                </svg>\n                </a>\n                </div>`;t.insertAdjacentHTML("beforeend",i)}if("6"===e){let e="";e=`fill:${"#000"};`;let i=`<div data-target="svgfill" class="is-arrow-down bounce" data-scroll-preset="6">\n                <a href="#" style="background:none;border-radius:unset;">\n                <svg style="width:30px;height:30px;${e}" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg">\n                    <g>\n                        <path d="M349.7 322.2c-3.1-3.1-8-3-11.3 0L264 388.6V104c0-4.4-3.6-8-8-8s-8 3.6-8 8v284.6l-74.4-66.3c-3.4-2.9-8.1-3.2-11.2-.1-3.1 3.1-3.3 8.5-.1 11.4 0 0 87 79.2 88 80s2.8 2.4 5.7 2.4 4.9-1.6 5.7-2.4 88-80 88-80c1.5-1.5 2.3-3.6 2.3-5.7s-.8-4.1-2.3-5.7z"></path>\n                    </g>\n                </svg>\n                </a>\n                </div>`;t.insertAdjacentHTML("beforeend",i)}if("7"===e){let e="#fff",i="border:#333 2px solid;",n="";i=`border:${e} 2px solid;`,n=`fill:${e};`;let s=`<div data-target="border,svgfill" class="is-arrow-down bounce" data-scroll-preset="7" style="width: 30px;margin-left: -15px;height: 40px;">\n                <a href="#" style="${i}border-radius: 5px;background:none;">\n                <svg style="width:17px;height:17px;${n}" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg">\n                <g>\n                <path d="M277.375 85v259.704l119.702-119.702L427 256 256 427 85 256l29.924-29.922 119.701 118.626V85h42.75z"></path>\n                </g>\n                </svg>\n                </a>\n                </div>`;t.insertAdjacentHTML("beforeend",s)}if("8"===e){let e="#000",i="border:#333 2px solid;",n="";i=`border:${e} 2px solid;`,n=`fill:${e};`;let s=`<div data-target="border,svgfill" class="is-arrow-down bounce" data-scroll-preset="8" style="width: 30px;margin-left: -15px;height: 40px;">\n                <a href="#" style="${i}border-radius: 5px;background:none;">\n                <svg style="width:17px;height:17px;${n}" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg">\n                <g>\n                <path d="M277.375 85v259.704l119.702-119.702L427 256 256 427 85 256l29.924-29.922 119.701 118.626V85h42.75z"></path>\n                </g>\n                </svg>\n                </a>\n                </div>`;t.insertAdjacentHTML("beforeend",s)}if("9"===e){let e="";e=`fill:${"#fff"};`;let i=`<div data-target="svgfill" class="is-arrow-down bounce" data-scroll-preset="9">\n                <a href="#" style="background:none;border-radius:unset;">\n                <svg style="width:30px;height:30px;${e}" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg">\n                <g>\n                <path d="M396.6 160l19.4 20.7L256 352 96 180.7l19.3-20.7L256 310.5z"></path>\n                </g>\n                </svg>\n                </a>\n                </div>`;t.insertAdjacentHTML("beforeend",i)}if("10"===e){let e="";e=`fill:${"#000"};`;let i=`<div data-target="svgfill" class="is-arrow-down bounce" data-scroll-preset="10">\n                <a href="#" style="background:none;border-radius:unset;">\n                <svg style="width:30px;height:30px;${e}" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg">\n                <g>\n                <path d="M396.6 160l19.4 20.7L256 352 96 180.7l19.3-20.7L256 310.5z"></path>\n                </g>\n                </svg>\n                </a>\n                </div>`;t.insertAdjacentHTML("beforeend",i)}if("11"===e){let e="";e=`fill:${"#fff"};`;let i=`<div data-target="svgfill" class="is-arrow-down bounce" data-scroll-preset="11">\n                <a href="#" style="background:none;border-radius:unset;">\n                <svg style="width:60px;height:60px;${e}" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg">\n                <g>\n                <path d="M396.6 160l19.4 20.7L256 352 96 180.7l19.3-20.7L256 310.5z"></path>\n                </g>\n                </svg>\n                </a>\n                </div>`;t.insertAdjacentHTML("beforeend",i)}if("12"===e){let e="";e=`fill:${"#000"};`;let i=`<div data-target="svgfill" class="is-arrow-down bounce" data-scroll-preset="12">\n                <a href="#" style="background:none;border-radius:unset;">\n                <svg style="width:60px;height:60px;${e}" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg">\n                <g>\n                <path d="M396.6 160l19.4 20.7L256 352 96 180.7l19.3-20.7L256 310.5z"></path>\n                </g>\n                </svg>\n                </a>\n                </div>`;t.insertAdjacentHTML("beforeend",i)}if("13"===e){let e="#fff",i="border:#111 2px solid;",n="";i=`border:${e} 2px solid;`,n=`fill:${e};`;let s=`<div data-target="border,svgfill" class="is-arrow-down bounce" data-scroll-preset="13" style="width: 40px;margin-left: -20px;height: 35px;">\n                <a href="#" style="background:none;border-radius:unset;${i};">\n                <svg style="width:25px;height:25px;${n}" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg">\n                <g>\n                <path d="M396.6 160l19.4 20.7L256 352 96 180.7l19.3-20.7L256 310.5z"></path>\n                </g>\n                </svg>\n                </a>\n                </div>`;t.insertAdjacentHTML("beforeend",s)}if("14"===e){let e="#000",i="border:#111 2px solid;",n="";i=`border:${e} 2px solid;`,n=`fill:${e};`;let s=`<div data-target="border,svgfill" class="is-arrow-down bounce" data-scroll-preset="14" style="width: 40px;margin-left: -20px;height: 35px;">\n                <a href="#" style="background:none;border-radius:unset;${i}">\n                <svg style="width:25px;height:25px;${n}" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg">\n                <g>\n                <path d="M396.6 160l19.4 20.7L256 352 96 180.7l19.3-20.7L256 310.5z"></path>\n                </g>\n                </svg>\n                </a>\n                </div>`;t.insertAdjacentHTML("beforeend",s)}const n=t.querySelector(".is-arrow-down a");n&&n.addEventListener("click",(e=>(this.builder.scrollTo(t.nextElementSibling),e.preventDefault(),e.stopImmediatePropagation(),!1)))}}var d="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},c={exports:{}},u={},p={exports:{}},h={},m={};function g(e){this.__parent=e,this.__character_count=0,this.__indent_count=-1,this.__alignment_count=0,this.__wrap_point_index=0,this.__wrap_point_character_count=0,this.__wrap_point_indent_count=-1,this.__wrap_point_alignment_count=0,this.__items=[]}function b(e,t){this.__cache=[""],this.__indent_size=e.indent_size,this.__indent_string=e.indent_char,e.indent_with_tabs||(this.__indent_string=new Array(e.indent_size+1).join(e.indent_char)),t=t||"",e.indent_level>0&&(t=new Array(e.indent_level+1).join(this.__indent_string)),this.__base_string=t,this.__base_string_length=t.length}function f(e,t){this.__indent_cache=new b(e,t),this.raw=!1,this._end_with_newline=e.end_with_newline,this.indent_size=e.indent_size,this.wrap_line_length=e.wrap_line_length,this.indent_empty_lines=e.indent_empty_lines,this.__lines=[],this.previous_line=null,this.current_line=null,this.next_line=new g(this),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1,this.__add_outputline()}g.prototype.clone_empty=function(){var e=new g(this.__parent);return e.set_indent(this.__indent_count,this.__alignment_count),e},g.prototype.item=function(e){return e<0?this.__items[this.__items.length+e]:this.__items[e]},g.prototype.has_match=function(e){for(var t=this.__items.length-1;t>=0;t--)if(this.__items[t].match(e))return!0;return!1},g.prototype.set_indent=function(e,t){this.is_empty()&&(this.__indent_count=e||0,this.__alignment_count=t||0,this.__character_count=this.__parent.get_indent_size(this.__indent_count,this.__alignment_count))},g.prototype._set_wrap_point=function(){this.__parent.wrap_line_length&&(this.__wrap_point_index=this.__items.length,this.__wrap_point_character_count=this.__character_count,this.__wrap_point_indent_count=this.__parent.next_line.__indent_count,this.__wrap_point_alignment_count=this.__parent.next_line.__alignment_count)},g.prototype._should_wrap=function(){return this.__wrap_point_index&&this.__character_count>this.__parent.wrap_line_length&&this.__wrap_point_character_count>this.__parent.next_line.__character_count},g.prototype._allow_wrap=function(){if(this._should_wrap()){this.__parent.add_new_line();var e=this.__parent.current_line;return e.set_indent(this.__wrap_point_indent_count,this.__wrap_point_alignment_count),e.__items=this.__items.slice(this.__wrap_point_index),this.__items=this.__items.slice(0,this.__wrap_point_index),e.__character_count+=this.__character_count-this.__wrap_point_character_count,this.__character_count=this.__wrap_point_character_count," "===e.__items[0]&&(e.__items.splice(0,1),e.__character_count-=1),!0}return!1},g.prototype.is_empty=function(){return 0===this.__items.length},g.prototype.last=function(){return this.is_empty()?null:this.__items[this.__items.length-1]},g.prototype.push=function(e){this.__items.push(e);var t=e.lastIndexOf("\n");-1!==t?this.__character_count=e.length-t:this.__character_count+=e.length},g.prototype.pop=function(){var e=null;return this.is_empty()||(e=this.__items.pop(),this.__character_count-=e.length),e},g.prototype._remove_indent=function(){this.__indent_count>0&&(this.__indent_count-=1,this.__character_count-=this.__parent.indent_size)},g.prototype._remove_wrap_indent=function(){this.__wrap_point_indent_count>0&&(this.__wrap_point_indent_count-=1)},g.prototype.trim=function(){for(;" "===this.last();)this.__items.pop(),this.__character_count-=1},g.prototype.toString=function(){var e="";return this.is_empty()?this.__parent.indent_empty_lines&&(e=this.__parent.get_indent_string(this.__indent_count)):(e=this.__parent.get_indent_string(this.__indent_count,this.__alignment_count),e+=this.__items.join("")),e},b.prototype.get_indent_size=function(e,t){var i=this.__base_string_length;return t=t||0,e<0&&(i=0),i+=e*this.__indent_size,i+=t},b.prototype.get_indent_string=function(e,t){var i=this.__base_string;return t=t||0,e<0&&(e=0,i=""),t+=e*this.__indent_size,this.__ensure_cache(t),i+=this.__cache[t]},b.prototype.__ensure_cache=function(e){for(;e>=this.__cache.length;)this.__add_column()},b.prototype.__add_column=function(){var e=this.__cache.length,t=0,i="";this.__indent_size&&e>=this.__indent_size&&(e-=(t=Math.floor(e/this.__indent_size))*this.__indent_size,i=new Array(t+1).join(this.__indent_string)),e&&(i+=new Array(e+1).join(" ")),this.__cache.push(i)},f.prototype.__add_outputline=function(){this.previous_line=this.current_line,this.current_line=this.next_line.clone_empty(),this.__lines.push(this.current_line)},f.prototype.get_line_number=function(){return this.__lines.length},f.prototype.get_indent_string=function(e,t){return this.__indent_cache.get_indent_string(e,t)},f.prototype.get_indent_size=function(e,t){return this.__indent_cache.get_indent_size(e,t)},f.prototype.is_empty=function(){return!this.previous_line&&this.current_line.is_empty()},f.prototype.add_new_line=function(e){return!(this.is_empty()||!e&&this.just_added_newline())&&(this.raw||this.__add_outputline(),!0)},f.prototype.get_code=function(e){this.trim(!0);var t=this.current_line.pop();t&&("\n"===t[t.length-1]&&(t=t.replace(/\n+$/g,"")),this.current_line.push(t)),this._end_with_newline&&this.__add_outputline();var i=this.__lines.join("\n");return"\n"!==e&&(i=i.replace(/[\n]/g,e)),i},f.prototype.set_wrap_point=function(){this.current_line._set_wrap_point()},f.prototype.set_indent=function(e,t){return e=e||0,t=t||0,this.next_line.set_indent(e,t),this.__lines.length>1?(this.current_line.set_indent(e,t),!0):(this.current_line.set_indent(),!1)},f.prototype.add_raw_token=function(e){for(var t=0;t<e.newlines;t++)this.__add_outputline();this.current_line.set_indent(-1),this.current_line.push(e.whitespace_before),this.current_line.push(e.text),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1},f.prototype.add_token=function(e){this.__add_space_before_token(),this.current_line.push(e),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=this.current_line._allow_wrap()},f.prototype.__add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&(this.non_breaking_space||this.set_wrap_point(),this.current_line.push(" "))},f.prototype.remove_indent=function(e){for(var t=this.__lines.length;e<t;)this.__lines[e]._remove_indent(),e++;this.current_line._remove_wrap_indent()},f.prototype.trim=function(e){for(e=void 0!==e&&e,this.current_line.trim();e&&this.__lines.length>1&&this.current_line.is_empty();)this.__lines.pop(),this.current_line=this.__lines[this.__lines.length-1],this.current_line.trim();this.previous_line=this.__lines.length>1?this.__lines[this.__lines.length-2]:null},f.prototype.just_added_newline=function(){return this.current_line.is_empty()},f.prototype.just_added_blankline=function(){return this.is_empty()||this.current_line.is_empty()&&this.previous_line.is_empty()},f.prototype.ensure_empty_line_above=function(e,t){for(var i=this.__lines.length-2;i>=0;){var n=this.__lines[i];if(n.is_empty())break;if(0!==n.item(0).indexOf(e)&&n.item(-1)!==t){this.__lines.splice(i+1,0,new g(this)),this.previous_line=this.__lines[this.__lines.length-2];break}i--}},m.Output=f;var v={};v.Token=function(e,t,i,n){this.type=e,this.text=t,this.comments_before=null,this.newlines=i||0,this.whitespace_before=n||"",this.parent=null,this.next=null,this.previous=null,this.opened=null,this.closed=null,this.directives=null};var y,x,_,w,S,C={};x="\\x24\\x30-\\x39\\x41-\\x5a\\x5f\\x61-\\x7a",w="\\u0300-\\u036f\\u0483-\\u0487\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u0620-\\u0649\\u0672-\\u06d3\\u06e7-\\u06e8\\u06fb-\\u06fc\\u0730-\\u074a\\u0800-\\u0814\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0840-\\u0857\\u08e4-\\u08fe\\u0900-\\u0903\\u093a-\\u093c\\u093e-\\u094f\\u0951-\\u0957\\u0962-\\u0963\\u0966-\\u096f\\u0981-\\u0983\\u09bc\\u09be-\\u09c4\\u09c7\\u09c8\\u09d7\\u09df-\\u09e0\\u0a01-\\u0a03\\u0a3c\\u0a3e-\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a66-\\u0a71\\u0a75\\u0a81-\\u0a83\\u0abc\\u0abe-\\u0ac5\\u0ac7-\\u0ac9\\u0acb-\\u0acd\\u0ae2-\\u0ae3\\u0ae6-\\u0aef\\u0b01-\\u0b03\\u0b3c\\u0b3e-\\u0b44\\u0b47\\u0b48\\u0b4b-\\u0b4d\\u0b56\\u0b57\\u0b5f-\\u0b60\\u0b66-\\u0b6f\\u0b82\\u0bbe-\\u0bc2\\u0bc6-\\u0bc8\\u0bca-\\u0bcd\\u0bd7\\u0be6-\\u0bef\\u0c01-\\u0c03\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62-\\u0c63\\u0c66-\\u0c6f\\u0c82\\u0c83\\u0cbc\\u0cbe-\\u0cc4\\u0cc6-\\u0cc8\\u0cca-\\u0ccd\\u0cd5\\u0cd6\\u0ce2-\\u0ce3\\u0ce6-\\u0cef\\u0d02\\u0d03\\u0d46-\\u0d48\\u0d57\\u0d62-\\u0d63\\u0d66-\\u0d6f\\u0d82\\u0d83\\u0dca\\u0dcf-\\u0dd4\\u0dd6\\u0dd8-\\u0ddf\\u0df2\\u0df3\\u0e34-\\u0e3a\\u0e40-\\u0e45\\u0e50-\\u0e59\\u0eb4-\\u0eb9\\u0ec8-\\u0ecd\\u0ed0-\\u0ed9\\u0f18\\u0f19\\u0f20-\\u0f29\\u0f35\\u0f37\\u0f39\\u0f41-\\u0f47\\u0f71-\\u0f84\\u0f86-\\u0f87\\u0f8d-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u1000-\\u1029\\u1040-\\u1049\\u1067-\\u106d\\u1071-\\u1074\\u1082-\\u108d\\u108f-\\u109d\\u135d-\\u135f\\u170e-\\u1710\\u1720-\\u1730\\u1740-\\u1750\\u1772\\u1773\\u1780-\\u17b2\\u17dd\\u17e0-\\u17e9\\u180b-\\u180d\\u1810-\\u1819\\u1920-\\u192b\\u1930-\\u193b\\u1951-\\u196d\\u19b0-\\u19c0\\u19c8-\\u19c9\\u19d0-\\u19d9\\u1a00-\\u1a15\\u1a20-\\u1a53\\u1a60-\\u1a7c\\u1a7f-\\u1a89\\u1a90-\\u1a99\\u1b46-\\u1b4b\\u1b50-\\u1b59\\u1b6b-\\u1b73\\u1bb0-\\u1bb9\\u1be6-\\u1bf3\\u1c00-\\u1c22\\u1c40-\\u1c49\\u1c5b-\\u1c7d\\u1cd0-\\u1cd2\\u1d00-\\u1dbe\\u1e01-\\u1f15\\u200c\\u200d\\u203f\\u2040\\u2054\\u20d0-\\u20dc\\u20e1\\u20e5-\\u20f0\\u2d81-\\u2d96\\u2de0-\\u2dff\\u3021-\\u3028\\u3099\\u309a\\ua640-\\ua66d\\ua674-\\ua67d\\ua69f\\ua6f0-\\ua6f1\\ua7f8-\\ua800\\ua806\\ua80b\\ua823-\\ua827\\ua880-\\ua881\\ua8b4-\\ua8c4\\ua8d0-\\ua8d9\\ua8f3-\\ua8f7\\ua900-\\ua909\\ua926-\\ua92d\\ua930-\\ua945\\ua980-\\ua983\\ua9b3-\\ua9c0\\uaa00-\\uaa27\\uaa40-\\uaa41\\uaa4c-\\uaa4d\\uaa50-\\uaa59\\uaa7b\\uaae0-\\uaae9\\uaaf2-\\uaaf3\\uabc0-\\uabe1\\uabec\\uabed\\uabf0-\\uabf9\\ufb20-\\ufb28\\ufe00-\\ufe0f\\ufe20-\\ufe26\\ufe33\\ufe34\\ufe4d-\\ufe4f\\uff10-\\uff19\\uff3f",S="(?:\\\\u[0-9a-fA-F]{4}|[\\x23\\x24\\x40\\x41-\\x5a\\x5f\\x61-\\x7a"+(_="\\xaa\\xb5\\xba\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02c1\\u02c6-\\u02d1\\u02e0-\\u02e4\\u02ec\\u02ee\\u0370-\\u0374\\u0376\\u0377\\u037a-\\u037d\\u0386\\u0388-\\u038a\\u038c\\u038e-\\u03a1\\u03a3-\\u03f5\\u03f7-\\u0481\\u048a-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05d0-\\u05ea\\u05f0-\\u05f2\\u0620-\\u064a\\u066e\\u066f\\u0671-\\u06d3\\u06d5\\u06e5\\u06e6\\u06ee\\u06ef\\u06fa-\\u06fc\\u06ff\\u0710\\u0712-\\u072f\\u074d-\\u07a5\\u07b1\\u07ca-\\u07ea\\u07f4\\u07f5\\u07fa\\u0800-\\u0815\\u081a\\u0824\\u0828\\u0840-\\u0858\\u08a0\\u08a2-\\u08ac\\u0904-\\u0939\\u093d\\u0950\\u0958-\\u0961\\u0971-\\u0977\\u0979-\\u097f\\u0985-\\u098c\\u098f\\u0990\\u0993-\\u09a8\\u09aa-\\u09b0\\u09b2\\u09b6-\\u09b9\\u09bd\\u09ce\\u09dc\\u09dd\\u09df-\\u09e1\\u09f0\\u09f1\\u0a05-\\u0a0a\\u0a0f\\u0a10\\u0a13-\\u0a28\\u0a2a-\\u0a30\\u0a32\\u0a33\\u0a35\\u0a36\\u0a38\\u0a39\\u0a59-\\u0a5c\\u0a5e\\u0a72-\\u0a74\\u0a85-\\u0a8d\\u0a8f-\\u0a91\\u0a93-\\u0aa8\\u0aaa-\\u0ab0\\u0ab2\\u0ab3\\u0ab5-\\u0ab9\\u0abd\\u0ad0\\u0ae0\\u0ae1\\u0b05-\\u0b0c\\u0b0f\\u0b10\\u0b13-\\u0b28\\u0b2a-\\u0b30\\u0b32\\u0b33\\u0b35-\\u0b39\\u0b3d\\u0b5c\\u0b5d\\u0b5f-\\u0b61\\u0b71\\u0b83\\u0b85-\\u0b8a\\u0b8e-\\u0b90\\u0b92-\\u0b95\\u0b99\\u0b9a\\u0b9c\\u0b9e\\u0b9f\\u0ba3\\u0ba4\\u0ba8-\\u0baa\\u0bae-\\u0bb9\\u0bd0\\u0c05-\\u0c0c\\u0c0e-\\u0c10\\u0c12-\\u0c28\\u0c2a-\\u0c33\\u0c35-\\u0c39\\u0c3d\\u0c58\\u0c59\\u0c60\\u0c61\\u0c85-\\u0c8c\\u0c8e-\\u0c90\\u0c92-\\u0ca8\\u0caa-\\u0cb3\\u0cb5-\\u0cb9\\u0cbd\\u0cde\\u0ce0\\u0ce1\\u0cf1\\u0cf2\\u0d05-\\u0d0c\\u0d0e-\\u0d10\\u0d12-\\u0d3a\\u0d3d\\u0d4e\\u0d60\\u0d61\\u0d7a-\\u0d7f\\u0d85-\\u0d96\\u0d9a-\\u0db1\\u0db3-\\u0dbb\\u0dbd\\u0dc0-\\u0dc6\\u0e01-\\u0e30\\u0e32\\u0e33\\u0e40-\\u0e46\\u0e81\\u0e82\\u0e84\\u0e87\\u0e88\\u0e8a\\u0e8d\\u0e94-\\u0e97\\u0e99-\\u0e9f\\u0ea1-\\u0ea3\\u0ea5\\u0ea7\\u0eaa\\u0eab\\u0ead-\\u0eb0\\u0eb2\\u0eb3\\u0ebd\\u0ec0-\\u0ec4\\u0ec6\\u0edc-\\u0edf\\u0f00\\u0f40-\\u0f47\\u0f49-\\u0f6c\\u0f88-\\u0f8c\\u1000-\\u102a\\u103f\\u1050-\\u1055\\u105a-\\u105d\\u1061\\u1065\\u1066\\u106e-\\u1070\\u1075-\\u1081\\u108e\\u10a0-\\u10c5\\u10c7\\u10cd\\u10d0-\\u10fa\\u10fc-\\u1248\\u124a-\\u124d\\u1250-\\u1256\\u1258\\u125a-\\u125d\\u1260-\\u1288\\u128a-\\u128d\\u1290-\\u12b0\\u12b2-\\u12b5\\u12b8-\\u12be\\u12c0\\u12c2-\\u12c5\\u12c8-\\u12d6\\u12d8-\\u1310\\u1312-\\u1315\\u1318-\\u135a\\u1380-\\u138f\\u13a0-\\u13f4\\u1401-\\u166c\\u166f-\\u167f\\u1681-\\u169a\\u16a0-\\u16ea\\u16ee-\\u16f0\\u1700-\\u170c\\u170e-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176c\\u176e-\\u1770\\u1780-\\u17b3\\u17d7\\u17dc\\u1820-\\u1877\\u1880-\\u18a8\\u18aa\\u18b0-\\u18f5\\u1900-\\u191c\\u1950-\\u196d\\u1970-\\u1974\\u1980-\\u19ab\\u19c1-\\u19c7\\u1a00-\\u1a16\\u1a20-\\u1a54\\u1aa7\\u1b05-\\u1b33\\u1b45-\\u1b4b\\u1b83-\\u1ba0\\u1bae\\u1baf\\u1bba-\\u1be5\\u1c00-\\u1c23\\u1c4d-\\u1c4f\\u1c5a-\\u1c7d\\u1ce9-\\u1cec\\u1cee-\\u1cf1\\u1cf5\\u1cf6\\u1d00-\\u1dbf\\u1e00-\\u1f15\\u1f18-\\u1f1d\\u1f20-\\u1f45\\u1f48-\\u1f4d\\u1f50-\\u1f57\\u1f59\\u1f5b\\u1f5d\\u1f5f-\\u1f7d\\u1f80-\\u1fb4\\u1fb6-\\u1fbc\\u1fbe\\u1fc2-\\u1fc4\\u1fc6-\\u1fcc\\u1fd0-\\u1fd3\\u1fd6-\\u1fdb\\u1fe0-\\u1fec\\u1ff2-\\u1ff4\\u1ff6-\\u1ffc\\u2071\\u207f\\u2090-\\u209c\\u2102\\u2107\\u210a-\\u2113\\u2115\\u2119-\\u211d\\u2124\\u2126\\u2128\\u212a-\\u212d\\u212f-\\u2139\\u213c-\\u213f\\u2145-\\u2149\\u214e\\u2160-\\u2188\\u2c00-\\u2c2e\\u2c30-\\u2c5e\\u2c60-\\u2ce4\\u2ceb-\\u2cee\\u2cf2\\u2cf3\\u2d00-\\u2d25\\u2d27\\u2d2d\\u2d30-\\u2d67\\u2d6f\\u2d80-\\u2d96\\u2da0-\\u2da6\\u2da8-\\u2dae\\u2db0-\\u2db6\\u2db8-\\u2dbe\\u2dc0-\\u2dc6\\u2dc8-\\u2dce\\u2dd0-\\u2dd6\\u2dd8-\\u2dde\\u2e2f\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303c\\u3041-\\u3096\\u309d-\\u309f\\u30a1-\\u30fa\\u30fc-\\u30ff\\u3105-\\u312d\\u3131-\\u318e\\u31a0-\\u31ba\\u31f0-\\u31ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\ua000-\\ua48c\\ua4d0-\\ua4fd\\ua500-\\ua60c\\ua610-\\ua61f\\ua62a\\ua62b\\ua640-\\ua66e\\ua67f-\\ua697\\ua6a0-\\ua6ef\\ua717-\\ua71f\\ua722-\\ua788\\ua78b-\\ua78e\\ua790-\\ua793\\ua7a0-\\ua7aa\\ua7f8-\\ua801\\ua803-\\ua805\\ua807-\\ua80a\\ua80c-\\ua822\\ua840-\\ua873\\ua882-\\ua8b3\\ua8f2-\\ua8f7\\ua8fb\\ua90a-\\ua925\\ua930-\\ua946\\ua960-\\ua97c\\ua984-\\ua9b2\\ua9cf\\uaa00-\\uaa28\\uaa40-\\uaa42\\uaa44-\\uaa4b\\uaa60-\\uaa76\\uaa7a\\uaa80-\\uaaaf\\uaab1\\uaab5\\uaab6\\uaab9-\\uaabd\\uaac0\\uaac2\\uaadb-\\uaadd\\uaae0-\\uaaea\\uaaf2-\\uaaf4\\uab01-\\uab06\\uab09-\\uab0e\\uab11-\\uab16\\uab20-\\uab26\\uab28-\\uab2e\\uabc0-\\uabe2\\uac00-\\ud7a3\\ud7b0-\\ud7c6\\ud7cb-\\ud7fb\\uf900-\\ufa6d\\ufa70-\\ufad9\\ufb00-\\ufb06\\ufb13-\\ufb17\\ufb1d\\ufb1f-\\ufb28\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40\\ufb41\\ufb43\\ufb44\\ufb46-\\ufbb1\\ufbd3-\\ufd3d\\ufd50-\\ufd8f\\ufd92-\\ufdc7\\ufdf0-\\ufdfb\\ufe70-\\ufe74\\ufe76-\\ufefc\\uff21-\\uff3a\\uff41-\\uff5a\\uff66-\\uffbe\\uffc2-\\uffc7\\uffca-\\uffcf\\uffd2-\\uffd7\\uffda-\\uffdc")+"])",(y=C).identifier=new RegExp(S+"(?:\\\\u[0-9a-fA-F]{4}|[\\x24\\x30-\\x39\\x41-\\x5a\\x5f\\x61-\\x7a\\xaa\\xb5\\xba\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02c1\\u02c6-\\u02d1\\u02e0-\\u02e4\\u02ec\\u02ee\\u0370-\\u0374\\u0376\\u0377\\u037a-\\u037d\\u0386\\u0388-\\u038a\\u038c\\u038e-\\u03a1\\u03a3-\\u03f5\\u03f7-\\u0481\\u048a-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05d0-\\u05ea\\u05f0-\\u05f2\\u0620-\\u064a\\u066e\\u066f\\u0671-\\u06d3\\u06d5\\u06e5\\u06e6\\u06ee\\u06ef\\u06fa-\\u06fc\\u06ff\\u0710\\u0712-\\u072f\\u074d-\\u07a5\\u07b1\\u07ca-\\u07ea\\u07f4\\u07f5\\u07fa\\u0800-\\u0815\\u081a\\u0824\\u0828\\u0840-\\u0858\\u08a0\\u08a2-\\u08ac\\u0904-\\u0939\\u093d\\u0950\\u0958-\\u0961\\u0971-\\u0977\\u0979-\\u097f\\u0985-\\u098c\\u098f\\u0990\\u0993-\\u09a8\\u09aa-\\u09b0\\u09b2\\u09b6-\\u09b9\\u09bd\\u09ce\\u09dc\\u09dd\\u09df-\\u09e1\\u09f0\\u09f1\\u0a05-\\u0a0a\\u0a0f\\u0a10\\u0a13-\\u0a28\\u0a2a-\\u0a30\\u0a32\\u0a33\\u0a35\\u0a36\\u0a38\\u0a39\\u0a59-\\u0a5c\\u0a5e\\u0a72-\\u0a74\\u0a85-\\u0a8d\\u0a8f-\\u0a91\\u0a93-\\u0aa8\\u0aaa-\\u0ab0\\u0ab2\\u0ab3\\u0ab5-\\u0ab9\\u0abd\\u0ad0\\u0ae0\\u0ae1\\u0b05-\\u0b0c\\u0b0f\\u0b10\\u0b13-\\u0b28\\u0b2a-\\u0b30\\u0b32\\u0b33\\u0b35-\\u0b39\\u0b3d\\u0b5c\\u0b5d\\u0b5f-\\u0b61\\u0b71\\u0b83\\u0b85-\\u0b8a\\u0b8e-\\u0b90\\u0b92-\\u0b95\\u0b99\\u0b9a\\u0b9c\\u0b9e\\u0b9f\\u0ba3\\u0ba4\\u0ba8-\\u0baa\\u0bae-\\u0bb9\\u0bd0\\u0c05-\\u0c0c\\u0c0e-\\u0c10\\u0c12-\\u0c28\\u0c2a-\\u0c33\\u0c35-\\u0c39\\u0c3d\\u0c58\\u0c59\\u0c60\\u0c61\\u0c85-\\u0c8c\\u0c8e-\\u0c90\\u0c92-\\u0ca8\\u0caa-\\u0cb3\\u0cb5-\\u0cb9\\u0cbd\\u0cde\\u0ce0\\u0ce1\\u0cf1\\u0cf2\\u0d05-\\u0d0c\\u0d0e-\\u0d10\\u0d12-\\u0d3a\\u0d3d\\u0d4e\\u0d60\\u0d61\\u0d7a-\\u0d7f\\u0d85-\\u0d96\\u0d9a-\\u0db1\\u0db3-\\u0dbb\\u0dbd\\u0dc0-\\u0dc6\\u0e01-\\u0e30\\u0e32\\u0e33\\u0e40-\\u0e46\\u0e81\\u0e82\\u0e84\\u0e87\\u0e88\\u0e8a\\u0e8d\\u0e94-\\u0e97\\u0e99-\\u0e9f\\u0ea1-\\u0ea3\\u0ea5\\u0ea7\\u0eaa\\u0eab\\u0ead-\\u0eb0\\u0eb2\\u0eb3\\u0ebd\\u0ec0-\\u0ec4\\u0ec6\\u0edc-\\u0edf\\u0f00\\u0f40-\\u0f47\\u0f49-\\u0f6c\\u0f88-\\u0f8c\\u1000-\\u102a\\u103f\\u1050-\\u1055\\u105a-\\u105d\\u1061\\u1065\\u1066\\u106e-\\u1070\\u1075-\\u1081\\u108e\\u10a0-\\u10c5\\u10c7\\u10cd\\u10d0-\\u10fa\\u10fc-\\u1248\\u124a-\\u124d\\u1250-\\u1256\\u1258\\u125a-\\u125d\\u1260-\\u1288\\u128a-\\u128d\\u1290-\\u12b0\\u12b2-\\u12b5\\u12b8-\\u12be\\u12c0\\u12c2-\\u12c5\\u12c8-\\u12d6\\u12d8-\\u1310\\u1312-\\u1315\\u1318-\\u135a\\u1380-\\u138f\\u13a0-\\u13f4\\u1401-\\u166c\\u166f-\\u167f\\u1681-\\u169a\\u16a0-\\u16ea\\u16ee-\\u16f0\\u1700-\\u170c\\u170e-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176c\\u176e-\\u1770\\u1780-\\u17b3\\u17d7\\u17dc\\u1820-\\u1877\\u1880-\\u18a8\\u18aa\\u18b0-\\u18f5\\u1900-\\u191c\\u1950-\\u196d\\u1970-\\u1974\\u1980-\\u19ab\\u19c1-\\u19c7\\u1a00-\\u1a16\\u1a20-\\u1a54\\u1aa7\\u1b05-\\u1b33\\u1b45-\\u1b4b\\u1b83-\\u1ba0\\u1bae\\u1baf\\u1bba-\\u1be5\\u1c00-\\u1c23\\u1c4d-\\u1c4f\\u1c5a-\\u1c7d\\u1ce9-\\u1cec\\u1cee-\\u1cf1\\u1cf5\\u1cf6\\u1d00-\\u1dbf\\u1e00-\\u1f15\\u1f18-\\u1f1d\\u1f20-\\u1f45\\u1f48-\\u1f4d\\u1f50-\\u1f57\\u1f59\\u1f5b\\u1f5d\\u1f5f-\\u1f7d\\u1f80-\\u1fb4\\u1fb6-\\u1fbc\\u1fbe\\u1fc2-\\u1fc4\\u1fc6-\\u1fcc\\u1fd0-\\u1fd3\\u1fd6-\\u1fdb\\u1fe0-\\u1fec\\u1ff2-\\u1ff4\\u1ff6-\\u1ffc\\u2071\\u207f\\u2090-\\u209c\\u2102\\u2107\\u210a-\\u2113\\u2115\\u2119-\\u211d\\u2124\\u2126\\u2128\\u212a-\\u212d\\u212f-\\u2139\\u213c-\\u213f\\u2145-\\u2149\\u214e\\u2160-\\u2188\\u2c00-\\u2c2e\\u2c30-\\u2c5e\\u2c60-\\u2ce4\\u2ceb-\\u2cee\\u2cf2\\u2cf3\\u2d00-\\u2d25\\u2d27\\u2d2d\\u2d30-\\u2d67\\u2d6f\\u2d80-\\u2d96\\u2da0-\\u2da6\\u2da8-\\u2dae\\u2db0-\\u2db6\\u2db8-\\u2dbe\\u2dc0-\\u2dc6\\u2dc8-\\u2dce\\u2dd0-\\u2dd6\\u2dd8-\\u2dde\\u2e2f\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303c\\u3041-\\u3096\\u309d-\\u309f\\u30a1-\\u30fa\\u30fc-\\u30ff\\u3105-\\u312d\\u3131-\\u318e\\u31a0-\\u31ba\\u31f0-\\u31ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\ua000-\\ua48c\\ua4d0-\\ua4fd\\ua500-\\ua60c\\ua610-\\ua61f\\ua62a\\ua62b\\ua640-\\ua66e\\ua67f-\\ua697\\ua6a0-\\ua6ef\\ua717-\\ua71f\\ua722-\\ua788\\ua78b-\\ua78e\\ua790-\\ua793\\ua7a0-\\ua7aa\\ua7f8-\\ua801\\ua803-\\ua805\\ua807-\\ua80a\\ua80c-\\ua822\\ua840-\\ua873\\ua882-\\ua8b3\\ua8f2-\\ua8f7\\ua8fb\\ua90a-\\ua925\\ua930-\\ua946\\ua960-\\ua97c\\ua984-\\ua9b2\\ua9cf\\uaa00-\\uaa28\\uaa40-\\uaa42\\uaa44-\\uaa4b\\uaa60-\\uaa76\\uaa7a\\uaa80-\\uaaaf\\uaab1\\uaab5\\uaab6\\uaab9-\\uaabd\\uaac0\\uaac2\\uaadb-\\uaadd\\uaae0-\\uaaea\\uaaf2-\\uaaf4\\uab01-\\uab06\\uab09-\\uab0e\\uab11-\\uab16\\uab20-\\uab26\\uab28-\\uab2e\\uabc0-\\uabe2\\uac00-\\ud7a3\\ud7b0-\\ud7c6\\ud7cb-\\ud7fb\\uf900-\\ufa6d\\ufa70-\\ufad9\\ufb00-\\ufb06\\ufb13-\\ufb17\\ufb1d\\ufb1f-\\ufb28\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40\\ufb41\\ufb43\\ufb44\\ufb46-\\ufbb1\\ufbd3-\\ufd3d\\ufd50-\\ufd8f\\ufd92-\\ufdc7\\ufdf0-\\ufdfb\\ufe70-\\ufe74\\ufe76-\\ufefc\\uff21-\\uff3a\\uff41-\\uff5a\\uff66-\\uffbe\\uffc2-\\uffc7\\uffca-\\uffcf\\uffd2-\\uffd7\\uffda-\\uffdc\\u0300-\\u036f\\u0483-\\u0487\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u0620-\\u0649\\u0672-\\u06d3\\u06e7-\\u06e8\\u06fb-\\u06fc\\u0730-\\u074a\\u0800-\\u0814\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0840-\\u0857\\u08e4-\\u08fe\\u0900-\\u0903\\u093a-\\u093c\\u093e-\\u094f\\u0951-\\u0957\\u0962-\\u0963\\u0966-\\u096f\\u0981-\\u0983\\u09bc\\u09be-\\u09c4\\u09c7\\u09c8\\u09d7\\u09df-\\u09e0\\u0a01-\\u0a03\\u0a3c\\u0a3e-\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a66-\\u0a71\\u0a75\\u0a81-\\u0a83\\u0abc\\u0abe-\\u0ac5\\u0ac7-\\u0ac9\\u0acb-\\u0acd\\u0ae2-\\u0ae3\\u0ae6-\\u0aef\\u0b01-\\u0b03\\u0b3c\\u0b3e-\\u0b44\\u0b47\\u0b48\\u0b4b-\\u0b4d\\u0b56\\u0b57\\u0b5f-\\u0b60\\u0b66-\\u0b6f\\u0b82\\u0bbe-\\u0bc2\\u0bc6-\\u0bc8\\u0bca-\\u0bcd\\u0bd7\\u0be6-\\u0bef\\u0c01-\\u0c03\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62-\\u0c63\\u0c66-\\u0c6f\\u0c82\\u0c83\\u0cbc\\u0cbe-\\u0cc4\\u0cc6-\\u0cc8\\u0cca-\\u0ccd\\u0cd5\\u0cd6\\u0ce2-\\u0ce3\\u0ce6-\\u0cef\\u0d02\\u0d03\\u0d46-\\u0d48\\u0d57\\u0d62-\\u0d63\\u0d66-\\u0d6f\\u0d82\\u0d83\\u0dca\\u0dcf-\\u0dd4\\u0dd6\\u0dd8-\\u0ddf\\u0df2\\u0df3\\u0e34-\\u0e3a\\u0e40-\\u0e45\\u0e50-\\u0e59\\u0eb4-\\u0eb9\\u0ec8-\\u0ecd\\u0ed0-\\u0ed9\\u0f18\\u0f19\\u0f20-\\u0f29\\u0f35\\u0f37\\u0f39\\u0f41-\\u0f47\\u0f71-\\u0f84\\u0f86-\\u0f87\\u0f8d-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u1000-\\u1029\\u1040-\\u1049\\u1067-\\u106d\\u1071-\\u1074\\u1082-\\u108d\\u108f-\\u109d\\u135d-\\u135f\\u170e-\\u1710\\u1720-\\u1730\\u1740-\\u1750\\u1772\\u1773\\u1780-\\u17b2\\u17dd\\u17e0-\\u17e9\\u180b-\\u180d\\u1810-\\u1819\\u1920-\\u192b\\u1930-\\u193b\\u1951-\\u196d\\u19b0-\\u19c0\\u19c8-\\u19c9\\u19d0-\\u19d9\\u1a00-\\u1a15\\u1a20-\\u1a53\\u1a60-\\u1a7c\\u1a7f-\\u1a89\\u1a90-\\u1a99\\u1b46-\\u1b4b\\u1b50-\\u1b59\\u1b6b-\\u1b73\\u1bb0-\\u1bb9\\u1be6-\\u1bf3\\u1c00-\\u1c22\\u1c40-\\u1c49\\u1c5b-\\u1c7d\\u1cd0-\\u1cd2\\u1d00-\\u1dbe\\u1e01-\\u1f15\\u200c\\u200d\\u203f\\u2040\\u2054\\u20d0-\\u20dc\\u20e1\\u20e5-\\u20f0\\u2d81-\\u2d96\\u2de0-\\u2dff\\u3021-\\u3028\\u3099\\u309a\\ua640-\\ua66d\\ua674-\\ua67d\\ua69f\\ua6f0-\\ua6f1\\ua7f8-\\ua800\\ua806\\ua80b\\ua823-\\ua827\\ua880-\\ua881\\ua8b4-\\ua8c4\\ua8d0-\\ua8d9\\ua8f3-\\ua8f7\\ua900-\\ua909\\ua926-\\ua92d\\ua930-\\ua945\\ua980-\\ua983\\ua9b3-\\ua9c0\\uaa00-\\uaa27\\uaa40-\\uaa41\\uaa4c-\\uaa4d\\uaa50-\\uaa59\\uaa7b\\uaae0-\\uaae9\\uaaf2-\\uaaf3\\uabc0-\\uabe1\\uabec\\uabed\\uabf0-\\uabf9\\ufb20-\\ufb28\\ufe00-\\ufe0f\\ufe20-\\ufe26\\ufe33\\ufe34\\ufe4d-\\ufe4f\\uff10-\\uff19\\uff3f])*","g"),y.identifierStart=new RegExp(S),y.identifierMatch=new RegExp("(?:\\\\u[0-9a-fA-F]{4}|["+x+_+w+"])+"),y.newline=/[\n\r\u2028\u2029]/,y.lineBreak=new RegExp("\r\n|"+y.newline.source),y.allLineBreaks=new RegExp(y.lineBreak.source,"g");var k={},A={};function E(e,t){this.raw_options=L(e,t),this.disabled=this._get_boolean("disabled"),this.eol=this._get_characters("eol","auto"),this.end_with_newline=this._get_boolean("end_with_newline"),this.indent_size=this._get_number("indent_size",4),this.indent_char=this._get_characters("indent_char"," "),this.indent_level=this._get_number("indent_level"),this.preserve_newlines=this._get_boolean("preserve_newlines",!0),this.max_preserve_newlines=this._get_number("max_preserve_newlines",32786),this.preserve_newlines||(this.max_preserve_newlines=0),this.indent_with_tabs=this._get_boolean("indent_with_tabs","\t"===this.indent_char),this.indent_with_tabs&&(this.indent_char="\t",1===this.indent_size&&(this.indent_size=4)),this.wrap_line_length=this._get_number("wrap_line_length",this._get_number("max_char")),this.indent_empty_lines=this._get_boolean("indent_empty_lines"),this.templating=this._get_selection_list("templating",["auto","none","django","erb","handlebars","php","smarty"],["auto"])}function L(e,t){var i,n={};for(i in e=q(e))i!==t&&(n[i]=e[i]);if(t&&e[t])for(i in e[t])n[i]=e[t][i];return n}function q(e){var t,i={};for(t in e){i[t.replace(/-/g,"_")]=e[t]}return i}E.prototype._get_array=function(e,t){var i=this.raw_options[e],n=t||[];return"object"==typeof i?null!==i&&"function"==typeof i.concat&&(n=i.concat()):"string"==typeof i&&(n=i.split(/[^a-zA-Z0-9_\/\-]+/)),n},E.prototype._get_boolean=function(e,t){var i=this.raw_options[e];return void 0===i?!!t:!!i},E.prototype._get_characters=function(e,t){var i=this.raw_options[e],n=t||"";return"string"==typeof i&&(n=i.replace(/\\r/,"\r").replace(/\\n/,"\n").replace(/\\t/,"\t")),n},E.prototype._get_number=function(e,t){var i=this.raw_options[e];t=parseInt(t,10),isNaN(t)&&(t=0);var n=parseInt(i,10);return isNaN(n)&&(n=t),n},E.prototype._get_selection=function(e,t,i){var n=this._get_selection_list(e,t,i);if(1!==n.length)throw new Error("Invalid Option Value: The option '"+e+"' can only be one of the following values:\n"+t+"\nYou passed in: '"+this.raw_options[e]+"'");return n[0]},E.prototype._get_selection_list=function(e,t,i){if(!t||0===t.length)throw new Error("Selection list cannot be empty.");if(i=i||[t[0]],!this._is_valid_selection(i,t))throw new Error("Invalid Default Value!");var n=this._get_array(e,i);if(!this._is_valid_selection(n,t))throw new Error("Invalid Option Value: The option '"+e+"' can contain only the following values:\n"+t+"\nYou passed in: '"+this.raw_options[e]+"'");return n},E.prototype._is_valid_selection=function(e,t){return e.length&&t.length&&!e.some((function(e){return-1===t.indexOf(e)}))},A.Options=E,A.normalizeOpts=q,A.mergeOpts=L;var T=A.Options,M=["before-newline","after-newline","preserve-newline"];function O(e){T.call(this,e,"js");var t=this.raw_options.brace_style||null;"expand-strict"===t?this.raw_options.brace_style="expand":"collapse-preserve-inline"===t?this.raw_options.brace_style="collapse,preserve-inline":void 0!==this.raw_options.braces_on_own_line&&(this.raw_options.brace_style=this.raw_options.braces_on_own_line?"expand":"collapse");var i=this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]);this.brace_preserve_inline=!1,this.brace_style="collapse";for(var n=0;n<i.length;n++)"preserve-inline"===i[n]?this.brace_preserve_inline=!0:this.brace_style=i[n];this.unindent_chained_methods=this._get_boolean("unindent_chained_methods"),this.break_chained_methods=this._get_boolean("break_chained_methods"),this.space_in_paren=this._get_boolean("space_in_paren"),this.space_in_empty_paren=this._get_boolean("space_in_empty_paren"),this.jslint_happy=this._get_boolean("jslint_happy"),this.space_after_anon_function=this._get_boolean("space_after_anon_function"),this.space_after_named_function=this._get_boolean("space_after_named_function"),this.keep_array_indentation=this._get_boolean("keep_array_indentation"),this.space_before_conditional=this._get_boolean("space_before_conditional",!0),this.unescape_strings=this._get_boolean("unescape_strings"),this.e4x=this._get_boolean("e4x"),this.comma_first=this._get_boolean("comma_first"),this.operator_position=this._get_selection("operator_position",M),this.test_output_raw=this._get_boolean("test_output_raw"),this.jslint_happy&&(this.space_after_anon_function=!0)}O.prototype=new T,k.Options=O;var R={},I={},B=RegExp.prototype.hasOwnProperty("sticky");function N(e){this.__input=e||"",this.__input_length=this.__input.length,this.__position=0}N.prototype.restart=function(){this.__position=0},N.prototype.back=function(){this.__position>0&&(this.__position-=1)},N.prototype.hasNext=function(){return this.__position<this.__input_length},N.prototype.next=function(){var e=null;return this.hasNext()&&(e=this.__input.charAt(this.__position),this.__position+=1),e},N.prototype.peek=function(e){var t=null;return e=e||0,(e+=this.__position)>=0&&e<this.__input_length&&(t=this.__input.charAt(e)),t},N.prototype.__match=function(e,t){e.lastIndex=t;var i=e.exec(this.__input);return!i||B&&e.sticky||i.index!==t&&(i=null),i},N.prototype.test=function(e,t){return t=t||0,(t+=this.__position)>=0&&t<this.__input_length&&!!this.__match(e,t)},N.prototype.testChar=function(e,t){var i=this.peek(t);return e.lastIndex=0,null!==i&&e.test(i)},N.prototype.match=function(e){var t=this.__match(e,this.__position);return t?this.__position+=t[0].length:t=null,t},N.prototype.read=function(e,t,i){var n,s="";return e&&(n=this.match(e))&&(s+=n[0]),!t||!n&&e||(s+=this.readUntil(t,i)),s},N.prototype.readUntil=function(e,t){var i,n=this.__position;e.lastIndex=this.__position;var s=e.exec(this.__input);return s?(n=s.index,t&&(n+=s[0].length)):n=this.__input_length,i=this.__input.substring(this.__position,n),this.__position=n,i},N.prototype.readUntilAfter=function(e){return this.readUntil(e,!0)},N.prototype.get_regexp=function(e,t){var i=null,n="g";return t&&B&&(n="y"),"string"==typeof e&&""!==e?i=new RegExp(e,n):e&&(i=new RegExp(e.source,n)),i},N.prototype.get_literal_regexp=function(e){return RegExp(e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"))},N.prototype.peekUntilAfter=function(e){var t=this.__position,i=this.readUntilAfter(e);return this.__position=t,i},N.prototype.lookBack=function(e){var t=this.__position-1;return t>=e.length&&this.__input.substring(t-e.length,t).toLowerCase()===e},I.InputScanner=N;var $={},z={};function P(e){this.__tokens=[],this.__tokens_length=this.__tokens.length,this.__position=0,this.__parent_token=e}P.prototype.restart=function(){this.__position=0},P.prototype.isEmpty=function(){return 0===this.__tokens_length},P.prototype.hasNext=function(){return this.__position<this.__tokens_length},P.prototype.next=function(){var e=null;return this.hasNext()&&(e=this.__tokens[this.__position],this.__position+=1),e},P.prototype.peek=function(e){var t=null;return e=e||0,(e+=this.__position)>=0&&e<this.__tokens_length&&(t=this.__tokens[e]),t},P.prototype.add=function(e){this.__parent_token&&(e.parent=this.__parent_token),this.__tokens.push(e),this.__tokens_length+=1},z.TokenStream=P;var H={},D={};function j(e,t){this._input=e,this._starting_pattern=null,this._match_pattern=null,this._until_pattern=null,this._until_after=!1,t&&(this._starting_pattern=this._input.get_regexp(t._starting_pattern,!0),this._match_pattern=this._input.get_regexp(t._match_pattern,!0),this._until_pattern=this._input.get_regexp(t._until_pattern),this._until_after=t._until_after)}j.prototype.read=function(){var e=this._input.read(this._starting_pattern);return this._starting_pattern&&!e||(e+=this._input.read(this._match_pattern,this._until_pattern,this._until_after)),e},j.prototype.read_match=function(){return this._input.match(this._match_pattern)},j.prototype.until_after=function(e){var t=this._create();return t._until_after=!0,t._until_pattern=this._input.get_regexp(e),t._update(),t},j.prototype.until=function(e){var t=this._create();return t._until_after=!1,t._until_pattern=this._input.get_regexp(e),t._update(),t},j.prototype.starting_with=function(e){var t=this._create();return t._starting_pattern=this._input.get_regexp(e,!0),t._update(),t},j.prototype.matching=function(e){var t=this._create();return t._match_pattern=this._input.get_regexp(e,!0),t._update(),t},j.prototype._create=function(){return new j(this._input,this)},j.prototype._update=function(){},D.Pattern=j;var U=D.Pattern;function F(e,t){U.call(this,e,t),t?this._line_regexp=this._input.get_regexp(t._line_regexp):this.__set_whitespace_patterns("",""),this.newline_count=0,this.whitespace_before_token=""}F.prototype=new U,F.prototype.__set_whitespace_patterns=function(e,t){e+="\\t ",t+="\\n\\r",this._match_pattern=this._input.get_regexp("["+e+t+"]+",!0),this._newline_regexp=this._input.get_regexp("\\r\\n|["+t+"]")},F.prototype.read=function(){this.newline_count=0,this.whitespace_before_token="";var e=this._input.read(this._match_pattern);if(" "===e)this.whitespace_before_token=" ";else if(e){var t=this.__split(this._newline_regexp,e);this.newline_count=t.length-1,this.whitespace_before_token=t[this.newline_count]}return e},F.prototype.matching=function(e,t){var i=this._create();return i.__set_whitespace_patterns(e,t),i._update(),i},F.prototype._create=function(){return new F(this._input,this)},F.prototype.__split=function(e,t){e.lastIndex=0;for(var i=0,n=[],s=e.exec(t);s;)n.push(t.substring(i,s.index)),i=s.index+s[0].length,s=e.exec(t);return i<t.length?n.push(t.substring(i,t.length)):n.push(""),n},H.WhitespacePattern=F;var W=I.InputScanner,Y=v.Token,X=z.TokenStream,G=H.WhitespacePattern,V={START:"TK_START",RAW:"TK_RAW",EOF:"TK_EOF"},K=function(e,t){this._input=new W(e),this._options=t||{},this.__tokens=null,this._patterns={},this._patterns.whitespace=new G(this._input)};K.prototype.tokenize=function(){var e;this._input.restart(),this.__tokens=new X,this._reset();for(var t=new Y(V.START,""),i=null,n=[],s=new X;t.type!==V.EOF;){for(e=this._get_next_token(t,i);this._is_comment(e);)s.add(e),e=this._get_next_token(t,i);s.isEmpty()||(e.comments_before=s,s=new X),e.parent=i,this._is_opening(e)?(n.push(i),i=e):i&&this._is_closing(e,i)&&(e.opened=i,i.closed=e,i=n.pop(),e.parent=i),e.previous=t,t.next=e,this.__tokens.add(e),t=e}return this.__tokens},K.prototype._is_first_token=function(){return this.__tokens.isEmpty()},K.prototype._reset=function(){},K.prototype._get_next_token=function(e,t){this._readWhitespace();var i=this._input.read(/.+/g);return i?this._create_token(V.RAW,i):this._create_token(V.EOF,"")},K.prototype._is_comment=function(e){return!1},K.prototype._is_opening=function(e){return!1},K.prototype._is_closing=function(e,t){return!1},K.prototype._create_token=function(e,t){return new Y(e,t,this._patterns.whitespace.newline_count,this._patterns.whitespace.whitespace_before_token)},K.prototype._readWhitespace=function(){return this._patterns.whitespace.read()},$.Tokenizer=K,$.TOKEN=V;var Z={};function Q(e,t){e="string"==typeof e?e:e.source,t="string"==typeof t?t:t.source,this.__directives_block_pattern=new RegExp(e+/ beautify( \w+[:]\w+)+ /.source+t,"g"),this.__directive_pattern=/ (\w+)[:](\w+)/g,this.__directives_end_ignore_pattern=new RegExp(e+/\sbeautify\signore:end\s/.source+t,"g")}Q.prototype.get_directives=function(e){if(!e.match(this.__directives_block_pattern))return null;var t={};this.__directive_pattern.lastIndex=0;for(var i=this.__directive_pattern.exec(e);i;)t[i[1]]=i[2],i=this.__directive_pattern.exec(e);return t},Q.prototype.readIgnored=function(e){return e.readUntilAfter(this.__directives_end_ignore_pattern)},Z.Directives=Q;var J={},ee=D.Pattern,te={django:!1,erb:!1,handlebars:!1,php:!1,smarty:!1};function ie(e,t){ee.call(this,e,t),this.__template_pattern=null,this._disabled=Object.assign({},te),this._excluded=Object.assign({},te),t&&(this.__template_pattern=this._input.get_regexp(t.__template_pattern),this._excluded=Object.assign(this._excluded,t._excluded),this._disabled=Object.assign(this._disabled,t._disabled));var i=new ee(e);this.__patterns={handlebars_comment:i.starting_with(/{{!--/).until_after(/--}}/),handlebars_unescaped:i.starting_with(/{{{/).until_after(/}}}/),handlebars:i.starting_with(/{{/).until_after(/}}/),php:i.starting_with(/<\?(?:[= ]|php)/).until_after(/\?>/),erb:i.starting_with(/<%[^%]/).until_after(/[^%]%>/),django:i.starting_with(/{%/).until_after(/%}/),django_value:i.starting_with(/{{/).until_after(/}}/),django_comment:i.starting_with(/{#/).until_after(/#}/),smarty:i.starting_with(/{(?=[^}{\s\n])/).until_after(/[^\s\n]}/),smarty_comment:i.starting_with(/{\*/).until_after(/\*}/),smarty_literal:i.starting_with(/{literal}/).until_after(/{\/literal}/)}}ie.prototype=new ee,ie.prototype._create=function(){return new ie(this._input,this)},ie.prototype._update=function(){this.__set_templated_pattern()},ie.prototype.disable=function(e){var t=this._create();return t._disabled[e]=!0,t._update(),t},ie.prototype.read_options=function(e){var t=this._create();for(var i in te)t._disabled[i]=-1===e.templating.indexOf(i);return t._update(),t},ie.prototype.exclude=function(e){var t=this._create();return t._excluded[e]=!0,t._update(),t},ie.prototype.read=function(){var e="";e=this._match_pattern?this._input.read(this._starting_pattern):this._input.read(this._starting_pattern,this.__template_pattern);for(var t=this._read_template();t;)this._match_pattern?t+=this._input.read(this._match_pattern):t+=this._input.readUntil(this.__template_pattern),e+=t,t=this._read_template();return this._until_after&&(e+=this._input.readUntilAfter(this._until_pattern)),e},ie.prototype.__set_templated_pattern=function(){var e=[];this._disabled.php||e.push(this.__patterns.php._starting_pattern.source),this._disabled.handlebars||e.push(this.__patterns.handlebars._starting_pattern.source),this._disabled.erb||e.push(this.__patterns.erb._starting_pattern.source),this._disabled.django||(e.push(this.__patterns.django._starting_pattern.source),e.push(this.__patterns.django_value._starting_pattern.source),e.push(this.__patterns.django_comment._starting_pattern.source)),this._disabled.smarty||e.push(this.__patterns.smarty._starting_pattern.source),this._until_pattern&&e.push(this._until_pattern.source),this.__template_pattern=this._input.get_regexp("(?:"+e.join("|")+")")},ie.prototype._read_template=function(){var e="",t=this._input.peek();if("<"===t){var i=this._input.peek(1);this._disabled.php||this._excluded.php||"?"!==i||(e=e||this.__patterns.php.read()),this._disabled.erb||this._excluded.erb||"%"!==i||(e=e||this.__patterns.erb.read())}else"{"===t&&(this._disabled.handlebars||this._excluded.handlebars||(e=(e=(e=e||this.__patterns.handlebars_comment.read())||this.__patterns.handlebars_unescaped.read())||this.__patterns.handlebars.read()),this._disabled.django||(this._excluded.django||this._excluded.handlebars||(e=e||this.__patterns.django_value.read()),this._excluded.django||(e=(e=e||this.__patterns.django_comment.read())||this.__patterns.django.read())),this._disabled.smarty||this._disabled.django&&this._disabled.handlebars&&(e=(e=(e=e||this.__patterns.smarty_comment.read())||this.__patterns.smarty_literal.read())||this.__patterns.smarty.read()));return e},J.TemplatablePattern=ie;var ne=I.InputScanner,se=$.Tokenizer,oe=$.TOKEN,ae=Z.Directives,le=C,re=D.Pattern,de=J.TemplatablePattern;function ce(e,t){return-1!==t.indexOf(e)}var ue={START_EXPR:"TK_START_EXPR",END_EXPR:"TK_END_EXPR",START_BLOCK:"TK_START_BLOCK",END_BLOCK:"TK_END_BLOCK",WORD:"TK_WORD",RESERVED:"TK_RESERVED",SEMICOLON:"TK_SEMICOLON",STRING:"TK_STRING",EQUALS:"TK_EQUALS",OPERATOR:"TK_OPERATOR",COMMA:"TK_COMMA",BLOCK_COMMENT:"TK_BLOCK_COMMENT",COMMENT:"TK_COMMENT",DOT:"TK_DOT",UNKNOWN:"TK_UNKNOWN",START:oe.START,RAW:oe.RAW,EOF:oe.EOF},pe=new ae(/\/\*/,/\*\//),he=/0[xX][0123456789abcdefABCDEF_]*n?|0[oO][01234567_]*n?|0[bB][01_]*n?|\d[\d_]*n|(?:\.\d[\d_]*|\d[\d_]*\.?[\d_]*)(?:[eE][+-]?[\d_]+)?/,me=/[0-9]/,ge=/[^\d\.]/,be=">>> === !== &&= ??= ||= << && >= ** != == <= >> || ?? |> < / - + > : & % ? ^ | *".split(" "),fe=">>>= ... >>= <<= === >>> !== **= &&= ??= ||= => ^= :: /= << <= == && -= >= >> != -- += ** || ?? ++ %= &= *= |= |> = ! ? > < : / ^ - + * & % ~ |";fe=(fe="\\?\\.(?!\\d) "+(fe=fe.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&"))).replace(/ /g,"|");var ve,ye=new RegExp(fe),xe="continue,try,throw,return,var,let,const,if,switch,case,default,for,while,break,function,import,export".split(","),_e=xe.concat(["do","in","of","else","get","set","new","catch","finally","typeof","yield","async","await","from","as"]),we=new RegExp("^(?:"+_e.join("|")+")$"),Se=function(e,t){se.call(this,e,t),this._patterns.whitespace=this._patterns.whitespace.matching(/\u00A0\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff/.source,/\u2028\u2029/.source);var i=new re(this._input),n=new de(this._input).read_options(this._options);this.__patterns={template:n,identifier:n.starting_with(le.identifier).matching(le.identifierMatch),number:i.matching(he),punct:i.matching(ye),comment:i.starting_with(/\/\//).until(/[\n\r\u2028\u2029]/),block_comment:i.starting_with(/\/\*/).until_after(/\*\//),html_comment_start:i.matching(/<!--/),html_comment_end:i.matching(/-->/),include:i.starting_with(/#include/).until_after(le.lineBreak),shebang:i.starting_with(/#!/).until_after(le.lineBreak),xml:i.matching(/[\s\S]*?<(\/?)([-a-zA-Z:0-9_.]+|{[^}]+?}|!\[CDATA\[[^\]]*?\]\]|)(\s*{[^}]+?}|\s+[-a-zA-Z:0-9_.]+|\s+[-a-zA-Z:0-9_.]+\s*=\s*('[^']*'|"[^"]*"|{([^{}]|{[^}]+?})+?}))*\s*(\/?)\s*>/),single_quote:n.until(/['\\\n\r\u2028\u2029]/),double_quote:n.until(/["\\\n\r\u2028\u2029]/),template_text:n.until(/[`\\$]/),template_expression:n.until(/[`}\\]/)}};(Se.prototype=new se)._is_comment=function(e){return e.type===ue.COMMENT||e.type===ue.BLOCK_COMMENT||e.type===ue.UNKNOWN},Se.prototype._is_opening=function(e){return e.type===ue.START_BLOCK||e.type===ue.START_EXPR},Se.prototype._is_closing=function(e,t){return(e.type===ue.END_BLOCK||e.type===ue.END_EXPR)&&t&&("]"===e.text&&"["===t.text||")"===e.text&&"("===t.text||"}"===e.text&&"{"===t.text)},Se.prototype._reset=function(){ve=!1},Se.prototype._get_next_token=function(e,t){var i=null;this._readWhitespace();var n=this._input.peek();return null===n?this._create_token(ue.EOF,""):i=(i=(i=(i=(i=(i=(i=(i=(i=i||this._read_non_javascript(n))||this._read_string(n))||this._read_word(e))||this._read_singles(n))||this._read_comment(n))||this._read_regexp(n,e))||this._read_xml(n,e))||this._read_punctuation())||this._create_token(ue.UNKNOWN,this._input.next())},Se.prototype._read_word=function(e){var t;return""!==(t=this.__patterns.identifier.read())?(t=t.replace(le.allLineBreaks,"\n"),e.type!==ue.DOT&&(e.type!==ue.RESERVED||"set"!==e.text&&"get"!==e.text)&&we.test(t)?"in"===t||"of"===t?this._create_token(ue.OPERATOR,t):this._create_token(ue.RESERVED,t):this._create_token(ue.WORD,t)):""!==(t=this.__patterns.number.read())?this._create_token(ue.WORD,t):void 0},Se.prototype._read_singles=function(e){var t=null;return"("===e||"["===e?t=this._create_token(ue.START_EXPR,e):")"===e||"]"===e?t=this._create_token(ue.END_EXPR,e):"{"===e?t=this._create_token(ue.START_BLOCK,e):"}"===e?t=this._create_token(ue.END_BLOCK,e):";"===e?t=this._create_token(ue.SEMICOLON,e):"."===e&&ge.test(this._input.peek(1))?t=this._create_token(ue.DOT,e):","===e&&(t=this._create_token(ue.COMMA,e)),t&&this._input.next(),t},Se.prototype._read_punctuation=function(){var e=this.__patterns.punct.read();if(""!==e)return"="===e?this._create_token(ue.EQUALS,e):"?."===e?this._create_token(ue.DOT,e):this._create_token(ue.OPERATOR,e)},Se.prototype._read_non_javascript=function(e){var t="";if("#"===e){if(this._is_first_token()&&(t=this.__patterns.shebang.read()))return this._create_token(ue.UNKNOWN,t.trim()+"\n");if(t=this.__patterns.include.read())return this._create_token(ue.UNKNOWN,t.trim()+"\n");e=this._input.next();var i="#";if(this._input.hasNext()&&this._input.testChar(me)){do{i+=e=this._input.next()}while(this._input.hasNext()&&"#"!==e&&"="!==e);return"#"===e||("["===this._input.peek()&&"]"===this._input.peek(1)?(i+="[]",this._input.next(),this._input.next()):"{"===this._input.peek()&&"}"===this._input.peek(1)&&(i+="{}",this._input.next(),this._input.next())),this._create_token(ue.WORD,i)}this._input.back()}else if("<"===e&&this._is_first_token()){if(t=this.__patterns.html_comment_start.read()){for(;this._input.hasNext()&&!this._input.testChar(le.newline);)t+=this._input.next();return ve=!0,this._create_token(ue.COMMENT,t)}}else if(ve&&"-"===e&&(t=this.__patterns.html_comment_end.read()))return ve=!1,this._create_token(ue.COMMENT,t);return null},Se.prototype._read_comment=function(e){var t=null;if("/"===e){var i="";if("*"===this._input.peek(1)){i=this.__patterns.block_comment.read();var n=pe.get_directives(i);n&&"start"===n.ignore&&(i+=pe.readIgnored(this._input)),i=i.replace(le.allLineBreaks,"\n"),(t=this._create_token(ue.BLOCK_COMMENT,i)).directives=n}else"/"===this._input.peek(1)&&(i=this.__patterns.comment.read(),t=this._create_token(ue.COMMENT,i))}return t},Se.prototype._read_string=function(e){if("`"===e||"'"===e||'"'===e){var t=this._input.next();return this.has_char_escapes=!1,t+="`"===e?this._read_string_recursive("`",!0,"${"):this._read_string_recursive(e),this.has_char_escapes&&this._options.unescape_strings&&(t=function(e){var t="",i=0,n=new ne(e),s=null;for(;n.hasNext();)if((s=n.match(/([\s]|[^\\]|\\\\)+/g))&&(t+=s[0]),"\\"===n.peek()){if(n.next(),"x"===n.peek())s=n.match(/x([0-9A-Fa-f]{2})/g);else{if("u"!==n.peek()){t+="\\",n.hasNext()&&(t+=n.next());continue}s=n.match(/u([0-9A-Fa-f]{4})/g)}if(!s)return e;if((i=parseInt(s[1],16))>126&&i<=255&&0===s[0].indexOf("x"))return e;if(i>=0&&i<32){t+="\\"+s[0];continue}t+=34===i||39===i||92===i?"\\"+String.fromCharCode(i):String.fromCharCode(i)}return t}(t)),this._input.peek()===e&&(t+=this._input.next()),t=t.replace(le.allLineBreaks,"\n"),this._create_token(ue.STRING,t)}return null},Se.prototype._allow_regexp_or_xml=function(e){return e.type===ue.RESERVED&&ce(e.text,["return","case","throw","else","do","typeof","yield"])||e.type===ue.END_EXPR&&")"===e.text&&e.opened.previous.type===ue.RESERVED&&ce(e.opened.previous.text,["if","while","for"])||ce(e.type,[ue.COMMENT,ue.START_EXPR,ue.START_BLOCK,ue.START,ue.END_BLOCK,ue.OPERATOR,ue.EQUALS,ue.EOF,ue.SEMICOLON,ue.COMMA])},Se.prototype._read_regexp=function(e,t){if("/"===e&&this._allow_regexp_or_xml(t)){for(var i=this._input.next(),n=!1,s=!1;this._input.hasNext()&&(n||s||this._input.peek()!==e)&&!this._input.testChar(le.newline);)i+=this._input.peek(),n?n=!1:(n="\\"===this._input.peek(),"["===this._input.peek()?s=!0:"]"===this._input.peek()&&(s=!1)),this._input.next();return this._input.peek()===e&&(i+=this._input.next(),i+=this._input.read(le.identifier)),this._create_token(ue.STRING,i)}return null},Se.prototype._read_xml=function(e,t){if(this._options.e4x&&"<"===e&&this._allow_regexp_or_xml(t)){var i="",n=this.__patterns.xml.read_match();if(n){for(var s=n[2].replace(/^{\s+/,"{").replace(/\s+}$/,"}"),o=0===s.indexOf("{"),a=0;n;){var l=!!n[1],r=n[2];if(!(!!n[n.length-1]||"![CDATA["===r.slice(0,8))&&(r===s||o&&r.replace(/^{\s+/,"{").replace(/\s+}$/,"}"))&&(l?--a:++a),i+=n[0],a<=0)break;n=this.__patterns.xml.read_match()}return n||(i+=this._input.match(/[\s\S]*/g)[0]),i=i.replace(le.allLineBreaks,"\n"),this._create_token(ue.STRING,i)}}return null},Se.prototype._read_string_recursive=function(e,t,i){var n,s;"'"===e?s=this.__patterns.single_quote:'"'===e?s=this.__patterns.double_quote:"`"===e?s=this.__patterns.template_text:"}"===e&&(s=this.__patterns.template_expression);for(var o=s.read(),a="";this._input.hasNext();){if((a=this._input.next())===e||!t&&le.newline.test(a)){this._input.back();break}"\\"===a&&this._input.hasNext()?("x"===(n=this._input.peek())||"u"===n?this.has_char_escapes=!0:"\r"===n&&"\n"===this._input.peek(1)&&this._input.next(),a+=this._input.next()):i&&("${"===i&&"$"===a&&"{"===this._input.peek()&&(a+=this._input.next()),i===a&&(a+="`"===e?this._read_string_recursive("}",t,"`"):this._read_string_recursive("`",t,"${"),this._input.hasNext()&&(a+=this._input.next()))),o+=a+=s.read()}return o},R.Tokenizer=Se,R.TOKEN=ue,R.positionable_operators=be.slice(),R.line_starters=xe.slice();var Ce=m.Output,ke=v.Token,Ae=C,Ee=k.Options,Le=R.Tokenizer,qe=R.line_starters,Te=R.positionable_operators,Me=R.TOKEN;function Oe(e,t){return-1!==t.indexOf(e)}function Re(e,t){return e&&e.type===Me.RESERVED&&e.text===t}function Ie(e,t){return e&&e.type===Me.RESERVED&&Oe(e.text,t)}var Be=["case","return","do","if","throw","else","await","break","continue","async"],Ne=function(e){for(var t={},i=0;i<e.length;i++)t[e[i].replace(/-/g,"_")]=e[i];return t}(["before-newline","after-newline","preserve-newline"]),$e=[Ne.before_newline,Ne.preserve_newline],ze="BlockStatement",Pe="Statement",He="ObjectLiteral",De="ArrayLiteral",je="ForInitializer",Ue="Conditional",Fe="Expression";function We(e,t){t.multiline_frame||t.mode===je||t.mode===Ue||e.remove_indent(t.start_line_index)}function Ye(e){return e===De}function Xe(e){return Oe(e,[Fe,je,Ue])}function Ge(e,t){t=t||{},this._source_text=e||"",this._output=null,this._tokens=null,this._last_last_text=null,this._flags=null,this._previous_flags=null,this._flag_store=null,this._options=new Ee(t)}Ge.prototype.create_flags=function(e,t){var i=0;return e&&(i=e.indentation_level,!this._output.just_added_newline()&&e.line_indent_level>i&&(i=e.line_indent_level)),{mode:t,parent:e,last_token:e?e.last_token:new ke(Me.START_BLOCK,""),last_word:e?e.last_word:"",declaration_statement:!1,declaration_assignment:!1,multiline_frame:!1,inline_frame:!1,if_block:!1,else_block:!1,do_block:!1,do_while:!1,import_block:!1,in_case_statement:!1,in_case:!1,case_body:!1,case_block:!1,indentation_level:i,alignment:0,line_indent_level:e?e.line_indent_level:i,start_line_index:this._output.get_line_number(),ternary_depth:0}},Ge.prototype._reset=function(e){var t=e.match(/^[\t ]*/)[0];this._last_last_text="",this._output=new Ce(this._options,t),this._output.raw=this._options.test_output_raw,this._flag_store=[],this.set_mode(ze);var i=new Le(e,this._options);return this._tokens=i.tokenize(),e},Ge.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var e=this._reset(this._source_text),t=this._options.eol;"auto"===this._options.eol&&(t="\n",e&&Ae.lineBreak.test(e||"")&&(t=e.match(Ae.lineBreak)[0]));for(var i=this._tokens.next();i;)this.handle_token(i),this._last_last_text=this._flags.last_token.text,this._flags.last_token=i,i=this._tokens.next();return this._output.get_code(t)},Ge.prototype.handle_token=function(e,t){e.type===Me.START_EXPR?this.handle_start_expr(e):e.type===Me.END_EXPR?this.handle_end_expr(e):e.type===Me.START_BLOCK?this.handle_start_block(e):e.type===Me.END_BLOCK?this.handle_end_block(e):e.type===Me.WORD||e.type===Me.RESERVED?this.handle_word(e):e.type===Me.SEMICOLON?this.handle_semicolon(e):e.type===Me.STRING?this.handle_string(e):e.type===Me.EQUALS?this.handle_equals(e):e.type===Me.OPERATOR?this.handle_operator(e):e.type===Me.COMMA?this.handle_comma(e):e.type===Me.BLOCK_COMMENT?this.handle_block_comment(e,t):e.type===Me.COMMENT?this.handle_comment(e,t):e.type===Me.DOT?this.handle_dot(e):e.type===Me.EOF?this.handle_eof(e):(e.type,Me.UNKNOWN,this.handle_unknown(e,t))},Ge.prototype.handle_whitespace_and_comments=function(e,t){var i=e.newlines,n=this._options.keep_array_indentation&&Ye(this._flags.mode);if(e.comments_before)for(var s=e.comments_before.next();s;)this.handle_whitespace_and_comments(s,t),this.handle_token(s,t),s=e.comments_before.next();if(n)for(var o=0;o<i;o+=1)this.print_newline(o>0,t);else if(this._options.max_preserve_newlines&&i>this._options.max_preserve_newlines&&(i=this._options.max_preserve_newlines),this._options.preserve_newlines&&i>1){this.print_newline(!1,t);for(var a=1;a<i;a+=1)this.print_newline(!0,t)}};var Ve=["async","break","continue","return","throw","yield"];Ge.prototype.allow_wrap_or_preserved_newline=function(e,t){if(t=void 0!==t&&t,!this._output.just_added_newline()){var i=this._options.preserve_newlines&&e.newlines||t;if(Oe(this._flags.last_token.text,Te)||Oe(e.text,Te)){var n=Oe(this._flags.last_token.text,Te)&&Oe(this._options.operator_position,$e)||Oe(e.text,Te);i=i&&n}if(i)this.print_newline(!1,!0);else if(this._options.wrap_line_length){if(Ie(this._flags.last_token,Ve))return;this._output.set_wrap_point()}}},Ge.prototype.print_newline=function(e,t){if(!t&&";"!==this._flags.last_token.text&&","!==this._flags.last_token.text&&"="!==this._flags.last_token.text&&(this._flags.last_token.type!==Me.OPERATOR||"--"===this._flags.last_token.text||"++"===this._flags.last_token.text))for(var i=this._tokens.peek();!(this._flags.mode!==Pe||this._flags.if_block&&Re(i,"else")||this._flags.do_block);)this.restore_mode();this._output.add_new_line(e)&&(this._flags.multiline_frame=!0)},Ge.prototype.print_token_line_indentation=function(e){this._output.just_added_newline()&&(this._options.keep_array_indentation&&e.newlines&&("["===e.text||Ye(this._flags.mode))?(this._output.current_line.set_indent(-1),this._output.current_line.push(e.whitespace_before),this._output.space_before_token=!1):this._output.set_indent(this._flags.indentation_level,this._flags.alignment)&&(this._flags.line_indent_level=this._flags.indentation_level))},Ge.prototype.print_token=function(e){if(this._output.raw)this._output.add_raw_token(e);else{if(this._options.comma_first&&e.previous&&e.previous.type===Me.COMMA&&this._output.just_added_newline()&&","===this._output.previous_line.last()){var t=this._output.previous_line.pop();this._output.previous_line.is_empty()&&(this._output.previous_line.push(t),this._output.trim(!0),this._output.current_line.pop(),this._output.trim()),this.print_token_line_indentation(e),this._output.add_token(","),this._output.space_before_token=!0}this.print_token_line_indentation(e),this._output.non_breaking_space=!0,this._output.add_token(e.text),this._output.previous_token_wrapped&&(this._flags.multiline_frame=!0)}},Ge.prototype.indent=function(){this._flags.indentation_level+=1,this._output.set_indent(this._flags.indentation_level,this._flags.alignment)},Ge.prototype.deindent=function(){this._flags.indentation_level>0&&(!this._flags.parent||this._flags.indentation_level>this._flags.parent.indentation_level)&&(this._flags.indentation_level-=1,this._output.set_indent(this._flags.indentation_level,this._flags.alignment))},Ge.prototype.set_mode=function(e){this._flags?(this._flag_store.push(this._flags),this._previous_flags=this._flags):this._previous_flags=this.create_flags(null,e),this._flags=this.create_flags(this._previous_flags,e),this._output.set_indent(this._flags.indentation_level,this._flags.alignment)},Ge.prototype.restore_mode=function(){this._flag_store.length>0&&(this._previous_flags=this._flags,this._flags=this._flag_store.pop(),this._previous_flags.mode===Pe&&We(this._output,this._previous_flags),this._output.set_indent(this._flags.indentation_level,this._flags.alignment))},Ge.prototype.start_of_object_property=function(){return this._flags.parent.mode===He&&this._flags.mode===Pe&&(":"===this._flags.last_token.text&&0===this._flags.ternary_depth||Ie(this._flags.last_token,["get","set"]))},Ge.prototype.start_of_statement=function(e){var t=!1;return!!(t=(t=(t=(t=(t=(t=(t=t||Ie(this._flags.last_token,["var","let","const"])&&e.type===Me.WORD)||Re(this._flags.last_token,"do"))||!(this._flags.parent.mode===He&&this._flags.mode===Pe)&&Ie(this._flags.last_token,Ve)&&!e.newlines)||Re(this._flags.last_token,"else")&&!(Re(e,"if")&&!e.comments_before))||this._flags.last_token.type===Me.END_EXPR&&(this._previous_flags.mode===je||this._previous_flags.mode===Ue))||this._flags.last_token.type===Me.WORD&&this._flags.mode===ze&&!this._flags.in_case&&!("--"===e.text||"++"===e.text)&&"function"!==this._last_last_text&&e.type!==Me.WORD&&e.type!==Me.RESERVED)||this._flags.mode===He&&(":"===this._flags.last_token.text&&0===this._flags.ternary_depth||Ie(this._flags.last_token,["get","set"])))&&(this.set_mode(Pe),this.indent(),this.handle_whitespace_and_comments(e,!0),this.start_of_object_property()||this.allow_wrap_or_preserved_newline(e,Ie(e,["do","for","if","while"])),!0)},Ge.prototype.handle_start_expr=function(e){this.start_of_statement(e)||this.handle_whitespace_and_comments(e);var t=Fe;if("["===e.text){if(this._flags.last_token.type===Me.WORD||")"===this._flags.last_token.text)return Ie(this._flags.last_token,qe)&&(this._output.space_before_token=!0),this.print_token(e),this.set_mode(t),this.indent(),void(this._options.space_in_paren&&(this._output.space_before_token=!0));t=De,Ye(this._flags.mode)&&("["!==this._flags.last_token.text&&(","!==this._flags.last_token.text||"]"!==this._last_last_text&&"}"!==this._last_last_text)||this._options.keep_array_indentation||this.print_newline()),Oe(this._flags.last_token.type,[Me.START_EXPR,Me.END_EXPR,Me.WORD,Me.OPERATOR,Me.DOT])||(this._output.space_before_token=!0)}else{if(this._flags.last_token.type===Me.RESERVED)"for"===this._flags.last_token.text?(this._output.space_before_token=this._options.space_before_conditional,t=je):Oe(this._flags.last_token.text,["if","while","switch"])?(this._output.space_before_token=this._options.space_before_conditional,t=Ue):Oe(this._flags.last_word,["await","async"])?this._output.space_before_token=!0:"import"===this._flags.last_token.text&&""===e.whitespace_before?this._output.space_before_token=!1:(Oe(this._flags.last_token.text,qe)||"catch"===this._flags.last_token.text)&&(this._output.space_before_token=!0);else if(this._flags.last_token.type===Me.EQUALS||this._flags.last_token.type===Me.OPERATOR)this.start_of_object_property()||this.allow_wrap_or_preserved_newline(e);else if(this._flags.last_token.type===Me.WORD){this._output.space_before_token=!1;var i=this._tokens.peek(-3);if(this._options.space_after_named_function&&i){var n=this._tokens.peek(-4);Ie(i,["async","function"])||"*"===i.text&&Ie(n,["async","function"])?this._output.space_before_token=!0:this._flags.mode===He&&("{"!==i.text&&","!==i.text&&("*"!==i.text||"{"!==n.text&&","!==n.text)||(this._output.space_before_token=!0))}}else this.allow_wrap_or_preserved_newline(e);(this._flags.last_token.type===Me.RESERVED&&("function"===this._flags.last_word||"typeof"===this._flags.last_word)||"*"===this._flags.last_token.text&&(Oe(this._last_last_text,["function","yield"])||this._flags.mode===He&&Oe(this._last_last_text,["{",","])))&&(this._output.space_before_token=this._options.space_after_anon_function)}";"===this._flags.last_token.text||this._flags.last_token.type===Me.START_BLOCK?this.print_newline():this._flags.last_token.type!==Me.END_EXPR&&this._flags.last_token.type!==Me.START_EXPR&&this._flags.last_token.type!==Me.END_BLOCK&&"."!==this._flags.last_token.text&&this._flags.last_token.type!==Me.COMMA||this.allow_wrap_or_preserved_newline(e,e.newlines),this.print_token(e),this.set_mode(t),this._options.space_in_paren&&(this._output.space_before_token=!0),this.indent()},Ge.prototype.handle_end_expr=function(e){for(;this._flags.mode===Pe;)this.restore_mode();this.handle_whitespace_and_comments(e),this._flags.multiline_frame&&this.allow_wrap_or_preserved_newline(e,"]"===e.text&&Ye(this._flags.mode)&&!this._options.keep_array_indentation),this._options.space_in_paren&&(this._flags.last_token.type!==Me.START_EXPR||this._options.space_in_empty_paren?this._output.space_before_token=!0:(this._output.trim(),this._output.space_before_token=!1)),this.deindent(),this.print_token(e),this.restore_mode(),We(this._output,this._previous_flags),this._flags.do_while&&this._previous_flags.mode===Ue&&(this._previous_flags.mode=Fe,this._flags.do_block=!1,this._flags.do_while=!1)},Ge.prototype.handle_start_block=function(e){this.handle_whitespace_and_comments(e);var t=this._tokens.peek(),i=this._tokens.peek(1);"switch"===this._flags.last_word&&this._flags.last_token.type===Me.END_EXPR?(this.set_mode(ze),this._flags.in_case_statement=!0):this._flags.case_body?this.set_mode(ze):i&&(Oe(i.text,[":",","])&&Oe(t.type,[Me.STRING,Me.WORD,Me.RESERVED])||Oe(t.text,["get","set","..."])&&Oe(i.type,[Me.WORD,Me.RESERVED]))?Oe(this._last_last_text,["class","interface"])&&!Oe(i.text,[":",","])?this.set_mode(ze):this.set_mode(He):this._flags.last_token.type===Me.OPERATOR&&"=>"===this._flags.last_token.text?this.set_mode(ze):Oe(this._flags.last_token.type,[Me.EQUALS,Me.START_EXPR,Me.COMMA,Me.OPERATOR])||Ie(this._flags.last_token,["return","throw","import","default"])?this.set_mode(He):this.set_mode(ze);var n=!t.comments_before&&"}"===t.text,s=n&&"function"===this._flags.last_word&&this._flags.last_token.type===Me.END_EXPR;if(this._options.brace_preserve_inline){var o=0,a=null;this._flags.inline_frame=!0;do{if(o+=1,(a=this._tokens.peek(o-1)).newlines){this._flags.inline_frame=!1;break}}while(a.type!==Me.EOF&&(a.type!==Me.END_BLOCK||a.opened!==e))}("expand"===this._options.brace_style||"none"===this._options.brace_style&&e.newlines)&&!this._flags.inline_frame?this._flags.last_token.type!==Me.OPERATOR&&(s||this._flags.last_token.type===Me.EQUALS||Ie(this._flags.last_token,Be)&&"else"!==this._flags.last_token.text)?this._output.space_before_token=!0:this.print_newline(!1,!0):(!Ye(this._previous_flags.mode)||this._flags.last_token.type!==Me.START_EXPR&&this._flags.last_token.type!==Me.COMMA||((this._flags.last_token.type===Me.COMMA||this._options.space_in_paren)&&(this._output.space_before_token=!0),(this._flags.last_token.type===Me.COMMA||this._flags.last_token.type===Me.START_EXPR&&this._flags.inline_frame)&&(this.allow_wrap_or_preserved_newline(e),this._previous_flags.multiline_frame=this._previous_flags.multiline_frame||this._flags.multiline_frame,this._flags.multiline_frame=!1)),this._flags.last_token.type!==Me.OPERATOR&&this._flags.last_token.type!==Me.START_EXPR&&(this._flags.last_token.type!==Me.START_BLOCK||this._flags.inline_frame?this._output.space_before_token=!0:this.print_newline())),this.print_token(e),this.indent(),n||this._options.brace_preserve_inline&&this._flags.inline_frame||this.print_newline()},Ge.prototype.handle_end_block=function(e){for(this.handle_whitespace_and_comments(e);this._flags.mode===Pe;)this.restore_mode();var t=this._flags.last_token.type===Me.START_BLOCK;this._flags.inline_frame&&!t?this._output.space_before_token=!0:"expand"===this._options.brace_style?t||this.print_newline():t||(Ye(this._flags.mode)&&this._options.keep_array_indentation?(this._options.keep_array_indentation=!1,this.print_newline(),this._options.keep_array_indentation=!0):this.print_newline()),this.restore_mode(),this.print_token(e)},Ge.prototype.handle_word=function(e){if(e.type===Me.RESERVED)if(Oe(e.text,["set","get"])&&this._flags.mode!==He)e.type=Me.WORD;else if("import"===e.text&&Oe(this._tokens.peek().text,["(","."]))e.type=Me.WORD;else if(Oe(e.text,["as","from"])&&!this._flags.import_block)e.type=Me.WORD;else if(this._flags.mode===He){":"===this._tokens.peek().text&&(e.type=Me.WORD)}if(this.start_of_statement(e)?Ie(this._flags.last_token,["var","let","const"])&&e.type===Me.WORD&&(this._flags.declaration_statement=!0):!e.newlines||Xe(this._flags.mode)||this._flags.last_token.type===Me.OPERATOR&&"--"!==this._flags.last_token.text&&"++"!==this._flags.last_token.text||this._flags.last_token.type===Me.EQUALS||!this._options.preserve_newlines&&Ie(this._flags.last_token,["var","let","const","set","get"])?this.handle_whitespace_and_comments(e):(this.handle_whitespace_and_comments(e),this.print_newline()),this._flags.do_block&&!this._flags.do_while){if(Re(e,"while"))return this._output.space_before_token=!0,this.print_token(e),this._output.space_before_token=!0,void(this._flags.do_while=!0);this.print_newline(),this._flags.do_block=!1}if(this._flags.if_block)if(!this._flags.else_block&&Re(e,"else"))this._flags.else_block=!0;else{for(;this._flags.mode===Pe;)this.restore_mode();this._flags.if_block=!1,this._flags.else_block=!1}if(this._flags.in_case_statement&&Ie(e,["case","default"]))return this.print_newline(),this._flags.case_block||!this._flags.case_body&&!this._options.jslint_happy||this.deindent(),this._flags.case_body=!1,this.print_token(e),void(this._flags.in_case=!0);if(this._flags.last_token.type!==Me.COMMA&&this._flags.last_token.type!==Me.START_EXPR&&this._flags.last_token.type!==Me.EQUALS&&this._flags.last_token.type!==Me.OPERATOR||this.start_of_object_property()||this.allow_wrap_or_preserved_newline(e),Re(e,"function"))return(Oe(this._flags.last_token.text,["}",";"])||this._output.just_added_newline()&&!Oe(this._flags.last_token.text,["(","[","{",":","=",","])&&this._flags.last_token.type!==Me.OPERATOR)&&(this._output.just_added_blankline()||e.comments_before||(this.print_newline(),this.print_newline(!0))),this._flags.last_token.type===Me.RESERVED||this._flags.last_token.type===Me.WORD?Ie(this._flags.last_token,["get","set","new","export"])||Ie(this._flags.last_token,Ve)||Re(this._flags.last_token,"default")&&"export"===this._last_last_text||"declare"===this._flags.last_token.text?this._output.space_before_token=!0:this.print_newline():this._flags.last_token.type===Me.OPERATOR||"="===this._flags.last_token.text?this._output.space_before_token=!0:(this._flags.multiline_frame||!Xe(this._flags.mode)&&!Ye(this._flags.mode))&&this.print_newline(),this.print_token(e),void(this._flags.last_word=e.text);var t="NONE";(this._flags.last_token.type===Me.END_BLOCK?this._previous_flags.inline_frame?t="SPACE":Ie(e,["else","catch","finally","from"])?"expand"===this._options.brace_style||"end-expand"===this._options.brace_style||"none"===this._options.brace_style&&e.newlines?t="NEWLINE":(t="SPACE",this._output.space_before_token=!0):t="NEWLINE":this._flags.last_token.type===Me.SEMICOLON&&this._flags.mode===ze?t="NEWLINE":this._flags.last_token.type===Me.SEMICOLON&&Xe(this._flags.mode)?t="SPACE":this._flags.last_token.type===Me.STRING?t="NEWLINE":this._flags.last_token.type===Me.RESERVED||this._flags.last_token.type===Me.WORD||"*"===this._flags.last_token.text&&(Oe(this._last_last_text,["function","yield"])||this._flags.mode===He&&Oe(this._last_last_text,["{",","]))?t="SPACE":this._flags.last_token.type===Me.START_BLOCK?t=this._flags.inline_frame?"SPACE":"NEWLINE":this._flags.last_token.type===Me.END_EXPR&&(this._output.space_before_token=!0,t="NEWLINE"),Ie(e,qe)&&")"!==this._flags.last_token.text&&(t=this._flags.inline_frame||"else"===this._flags.last_token.text||"export"===this._flags.last_token.text?"SPACE":"NEWLINE"),Ie(e,["else","catch","finally"]))?(this._flags.last_token.type!==Me.END_BLOCK||this._previous_flags.mode!==ze||"expand"===this._options.brace_style||"end-expand"===this._options.brace_style||"none"===this._options.brace_style&&e.newlines)&&!this._flags.inline_frame?this.print_newline():(this._output.trim(!0),"}"!==this._output.current_line.last()&&this.print_newline(),this._output.space_before_token=!0):"NEWLINE"===t?Ie(this._flags.last_token,Be)||"declare"===this._flags.last_token.text&&Ie(e,["var","let","const"])?this._output.space_before_token=!0:this._flags.last_token.type!==Me.END_EXPR?this._flags.last_token.type===Me.START_EXPR&&Ie(e,["var","let","const"])||":"===this._flags.last_token.text||(Re(e,"if")&&Re(e.previous,"else")?this._output.space_before_token=!0:this.print_newline()):Ie(e,qe)&&")"!==this._flags.last_token.text&&this.print_newline():this._flags.multiline_frame&&Ye(this._flags.mode)&&","===this._flags.last_token.text&&"}"===this._last_last_text?this.print_newline():"SPACE"===t&&(this._output.space_before_token=!0);!e.previous||e.previous.type!==Me.WORD&&e.previous.type!==Me.RESERVED||(this._output.space_before_token=!0),this.print_token(e),this._flags.last_word=e.text,e.type===Me.RESERVED&&("do"===e.text?this._flags.do_block=!0:"if"===e.text?this._flags.if_block=!0:"import"===e.text?this._flags.import_block=!0:this._flags.import_block&&Re(e,"from")&&(this._flags.import_block=!1))},Ge.prototype.handle_semicolon=function(e){this.start_of_statement(e)?this._output.space_before_token=!1:this.handle_whitespace_and_comments(e);for(var t=this._tokens.peek();!(this._flags.mode!==Pe||this._flags.if_block&&Re(t,"else")||this._flags.do_block);)this.restore_mode();this._flags.import_block&&(this._flags.import_block=!1),this.print_token(e)},Ge.prototype.handle_string=function(e){(!e.text.startsWith("`")||0!==e.newlines||""!==e.whitespace_before||")"!==e.previous.text&&this._flags.last_token.type!==Me.WORD)&&(this.start_of_statement(e)?this._output.space_before_token=!0:(this.handle_whitespace_and_comments(e),this._flags.last_token.type===Me.RESERVED||this._flags.last_token.type===Me.WORD||this._flags.inline_frame?this._output.space_before_token=!0:this._flags.last_token.type===Me.COMMA||this._flags.last_token.type===Me.START_EXPR||this._flags.last_token.type===Me.EQUALS||this._flags.last_token.type===Me.OPERATOR?this.start_of_object_property()||this.allow_wrap_or_preserved_newline(e):!e.text.startsWith("`")||this._flags.last_token.type!==Me.END_EXPR||"]"!==e.previous.text&&")"!==e.previous.text||0!==e.newlines?this.print_newline():this._output.space_before_token=!0)),this.print_token(e)},Ge.prototype.handle_equals=function(e){this.start_of_statement(e)||this.handle_whitespace_and_comments(e),this._flags.declaration_statement&&(this._flags.declaration_assignment=!0),this._output.space_before_token=!0,this.print_token(e),this._output.space_before_token=!0},Ge.prototype.handle_comma=function(e){this.handle_whitespace_and_comments(e,!0),this.print_token(e),this._output.space_before_token=!0,this._flags.declaration_statement?(Xe(this._flags.parent.mode)&&(this._flags.declaration_assignment=!1),this._flags.declaration_assignment?(this._flags.declaration_assignment=!1,this.print_newline(!1,!0)):this._options.comma_first&&this.allow_wrap_or_preserved_newline(e)):this._flags.mode===He||this._flags.mode===Pe&&this._flags.parent.mode===He?(this._flags.mode===Pe&&this.restore_mode(),this._flags.inline_frame||this.print_newline()):this._options.comma_first&&this.allow_wrap_or_preserved_newline(e)},Ge.prototype.handle_operator=function(e){var t="*"===e.text&&(Ie(this._flags.last_token,["function","yield"])||Oe(this._flags.last_token.type,[Me.START_BLOCK,Me.COMMA,Me.END_BLOCK,Me.SEMICOLON])),i=Oe(e.text,["-","+"])&&(Oe(this._flags.last_token.type,[Me.START_BLOCK,Me.START_EXPR,Me.EQUALS,Me.OPERATOR])||Oe(this._flags.last_token.text,qe)||","===this._flags.last_token.text);if(this.start_of_statement(e));else{var n=!t;this.handle_whitespace_and_comments(e,n)}if(Ie(this._flags.last_token,Be))return this._output.space_before_token=!0,void this.print_token(e);if("*"!==e.text||this._flags.last_token.type!==Me.DOT)if("::"!==e.text){if(this._flags.last_token.type===Me.OPERATOR&&Oe(this._options.operator_position,$e)&&this.allow_wrap_or_preserved_newline(e),":"===e.text&&this._flags.in_case)return this.print_token(e),this._flags.in_case=!1,this._flags.case_body=!0,void(this._tokens.peek().type!==Me.START_BLOCK?(this.indent(),this.print_newline(),this._flags.case_block=!1):(this._flags.case_block=!0,this._output.space_before_token=!0));var s=!0,o=!0,a=!1;if(":"===e.text?0===this._flags.ternary_depth?s=!1:(this._flags.ternary_depth-=1,a=!0):"?"===e.text&&(this._flags.ternary_depth+=1),!i&&!t&&this._options.preserve_newlines&&Oe(e.text,Te)){var l=":"===e.text,r=l&&a,d=l&&!a;switch(this._options.operator_position){case Ne.before_newline:return this._output.space_before_token=!d,this.print_token(e),l&&!r||this.allow_wrap_or_preserved_newline(e),void(this._output.space_before_token=!0);case Ne.after_newline:return this._output.space_before_token=!0,!l||r?this._tokens.peek().newlines?this.print_newline(!1,!0):this.allow_wrap_or_preserved_newline(e):this._output.space_before_token=!1,this.print_token(e),void(this._output.space_before_token=!0);case Ne.preserve_newline:return d||this.allow_wrap_or_preserved_newline(e),s=!(this._output.just_added_newline()||d),this._output.space_before_token=s,this.print_token(e),void(this._output.space_before_token=!0)}}if(t){this.allow_wrap_or_preserved_newline(e),s=!1;var c=this._tokens.peek();o=c&&Oe(c.type,[Me.WORD,Me.RESERVED])}else"..."===e.text?(this.allow_wrap_or_preserved_newline(e),s=this._flags.last_token.type===Me.START_BLOCK,o=!1):(Oe(e.text,["--","++","!","~"])||i)&&(this._flags.last_token.type!==Me.COMMA&&this._flags.last_token.type!==Me.START_EXPR||this.allow_wrap_or_preserved_newline(e),s=!1,o=!1,!e.newlines||"--"!==e.text&&"++"!==e.text&&"~"!==e.text||this.print_newline(!1,!0),";"===this._flags.last_token.text&&Xe(this._flags.mode)&&(s=!0),this._flags.last_token.type===Me.RESERVED?s=!0:this._flags.last_token.type===Me.END_EXPR?s=!("]"===this._flags.last_token.text&&("--"===e.text||"++"===e.text)):this._flags.last_token.type===Me.OPERATOR&&(s=Oe(e.text,["--","-","++","+"])&&Oe(this._flags.last_token.text,["--","-","++","+"]),Oe(e.text,["+","-"])&&Oe(this._flags.last_token.text,["--","++"])&&(o=!0)),(this._flags.mode!==ze||this._flags.inline_frame)&&this._flags.mode!==Pe||"{"!==this._flags.last_token.text&&";"!==this._flags.last_token.text||this.print_newline());this._output.space_before_token=this._output.space_before_token||s,this.print_token(e),this._output.space_before_token=o}else this.print_token(e);else this.print_token(e)},Ge.prototype.handle_block_comment=function(e,t){return this._output.raw?(this._output.add_raw_token(e),void(e.directives&&"end"===e.directives.preserve&&(this._output.raw=this._options.test_output_raw))):e.directives?(this.print_newline(!1,t),this.print_token(e),"start"===e.directives.preserve&&(this._output.raw=!0),void this.print_newline(!1,!0)):Ae.newline.test(e.text)||e.newlines?void this.print_block_commment(e,t):(this._output.space_before_token=!0,this.print_token(e),void(this._output.space_before_token=!0))},Ge.prototype.print_block_commment=function(e,t){var i,n=function(e){for(var t=[],i=(e=e.replace(Ae.allLineBreaks,"\n")).indexOf("\n");-1!==i;)t.push(e.substring(0,i)),i=(e=e.substring(i+1)).indexOf("\n");return e.length&&t.push(e),t}(e.text),s=!1,o=!1,a=e.whitespace_before,l=a.length;if(this.print_newline(!1,t),this.print_token_line_indentation(e),this._output.add_token(n[0]),this.print_newline(!1,t),n.length>1){for(s=function(e,t){for(var i=0;i<e.length;i++)if(e[i].trim().charAt(0)!==t)return!1;return!0}(n=n.slice(1),"*"),o=function(e,t){for(var i,n=0,s=e.length;n<s;n++)if((i=e[n])&&0!==i.indexOf(t))return!1;return!0}(n,a),s&&(this._flags.alignment=1),i=0;i<n.length;i++)s?(this.print_token_line_indentation(e),this._output.add_token(n[i].replace(/^\s+/g,""))):o&&n[i]?(this.print_token_line_indentation(e),this._output.add_token(n[i].substring(l))):(this._output.current_line.set_indent(-1),this._output.add_token(n[i])),this.print_newline(!1,t);this._flags.alignment=0}},Ge.prototype.handle_comment=function(e,t){e.newlines?this.print_newline(!1,t):this._output.trim(!0),this._output.space_before_token=!0,this.print_token(e),this.print_newline(!1,t)},Ge.prototype.handle_dot=function(e){this.start_of_statement(e)||this.handle_whitespace_and_comments(e,!0),Ie(this._flags.last_token,Be)?this._output.space_before_token=!1:this.allow_wrap_or_preserved_newline(e,")"===this._flags.last_token.text&&this._options.break_chained_methods),this._options.unindent_chained_methods&&this._output.just_added_newline()&&this.deindent(),this.print_token(e)},Ge.prototype.handle_unknown=function(e,t){this.print_token(e),"\n"===e.text[e.text.length-1]&&this.print_newline(!1,t)},Ge.prototype.handle_eof=function(e){for(;this._flags.mode===Pe;)this.restore_mode();this.handle_whitespace_and_comments(e)},h.Beautifier=Ge;var Ke=h.Beautifier,Ze=k.Options;p.exports=function(e,t){return new Ke(e,t).beautify()},p.exports.defaultOptions=function(){return new Ze};var Qe={exports:{}},Je={},et={},tt=A.Options;function it(e){tt.call(this,e,"css"),this.selector_separator_newline=this._get_boolean("selector_separator_newline",!0),this.newline_between_rules=this._get_boolean("newline_between_rules",!0);var t=this._get_boolean("space_around_selector_separator");this.space_around_combinator=this._get_boolean("space_around_combinator")||t;var i=this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]);this.brace_style="collapse";for(var n=0;n<i.length;n++)"expand"!==i[n]?this.brace_style="collapse":this.brace_style=i[n]}it.prototype=new tt,et.Options=it;var nt=et.Options,st=m.Output,ot=I.InputScanner,at=new(0,Z.Directives)(/\/\*/,/\*\//),lt=/\r\n|[\r\n]/,rt=/\r\n|[\r\n]/g,dt=/\s/,ct=/(?:\s|\n)+/g,ut=/\/\*(?:[\s\S]*?)((?:\*\/)|$)/g,pt=/\/\/(?:[^\n\r\u2028\u2029]*)/g;function ht(e,t){this._source_text=e||"",this._options=new nt(t),this._ch=null,this._input=null,this.NESTED_AT_RULE={"@page":!0,"@font-face":!0,"@keyframes":!0,"@media":!0,"@supports":!0,"@document":!0},this.CONDITIONAL_GROUP_RULE={"@media":!0,"@supports":!0,"@document":!0},this.NON_SEMICOLON_NEWLINE_PROPERTY=["grid-template"]}ht.prototype.eatString=function(e){var t="";for(this._ch=this._input.next();this._ch;){if(t+=this._ch,"\\"===this._ch)t+=this._input.next();else if(-1!==e.indexOf(this._ch)||"\n"===this._ch)break;this._ch=this._input.next()}return t},ht.prototype.eatWhitespace=function(e){for(var t=dt.test(this._input.peek()),i=0;dt.test(this._input.peek());)this._ch=this._input.next(),e&&"\n"===this._ch&&(0===i||i<this._options.max_preserve_newlines)&&(i++,this._output.add_new_line(!0));return t},ht.prototype.foundNestedPseudoClass=function(){for(var e=0,t=1,i=this._input.peek(t);i;){if("{"===i)return!0;if("("===i)e+=1;else if(")"===i){if(0===e)return!1;e-=1}else if(";"===i||"}"===i)return!1;t++,i=this._input.peek(t)}return!1},ht.prototype.print_string=function(e){this._output.set_indent(this._indentLevel),this._output.non_breaking_space=!0,this._output.add_token(e)},ht.prototype.preserveSingleSpace=function(e){e&&(this._output.space_before_token=!0)},ht.prototype.indent=function(){this._indentLevel++},ht.prototype.outdent=function(){this._indentLevel>0&&this._indentLevel--},ht.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var e=this._source_text,t=this._options.eol;"auto"===t&&(t="\n",e&&lt.test(e||"")&&(t=e.match(lt)[0]));var i=(e=e.replace(rt,"\n")).match(/^[\t ]*/)[0];this._output=new st(this._options,i),this._input=new ot(e),this._indentLevel=0,this._nestedLevel=0,this._ch=null;for(var n,s,o=0,a=!1,l=!1,r=!1,d=!1,c=!1,u=!1,p=this._ch,h=!1;n=""!==this._input.read(ct),s=p,this._ch=this._input.next(),"\\"===this._ch&&this._input.hasNext()&&(this._ch+=this._input.next()),p=this._ch,this._ch;)if("/"===this._ch&&"*"===this._input.peek()){this._output.add_new_line(),this._input.back();var m=this._input.read(ut),g=at.get_directives(m);g&&"start"===g.ignore&&(m+=at.readIgnored(this._input)),this.print_string(m),this.eatWhitespace(!0),this._output.add_new_line()}else if("/"===this._ch&&"/"===this._input.peek())this._output.space_before_token=!0,this._input.back(),this.print_string(this._input.read(pt)),this.eatWhitespace(!0);else if("@"===this._ch||"$"===this._ch)if(this.preserveSingleSpace(n),"{"===this._input.peek())this.print_string(this._ch+this.eatString("}"));else{this.print_string(this._ch);var b=this._input.peekUntilAfter(/[: ,;{}()[\]\/='"]/g);b.match(/[ :]$/)&&(b=this.eatString(": ").replace(/\s$/,""),this.print_string(b),this._output.space_before_token=!0),"extend"===(b=b.replace(/\s$/,""))?d=!0:"import"===b&&(c=!0),b in this.NESTED_AT_RULE?(this._nestedLevel+=1,b in this.CONDITIONAL_GROUP_RULE&&(r=!0)):a||0!==o||-1===b.indexOf(":")||(l=!0,this.indent())}else if("#"===this._ch&&"{"===this._input.peek())this.preserveSingleSpace(n),this.print_string(this._ch+this.eatString("}"));else if("{"===this._ch)l&&(l=!1,this.outdent()),r?(r=!1,a=this._indentLevel>=this._nestedLevel):a=this._indentLevel>=this._nestedLevel-1,this._options.newline_between_rules&&a&&this._output.previous_line&&"{"!==this._output.previous_line.item(-1)&&this._output.ensure_empty_line_above("/",","),this._output.space_before_token=!0,"expand"===this._options.brace_style?(this._output.add_new_line(),this.print_string(this._ch),this.indent(),this._output.set_indent(this._indentLevel)):("("===s?this._output.space_before_token=!1:","!==s&&this.indent(),this.print_string(this._ch)),this.eatWhitespace(!0),this._output.add_new_line();else if("}"===this._ch)this.outdent(),this._output.add_new_line(),"{"===s&&this._output.trim(!0),c=!1,d=!1,l&&(this.outdent(),l=!1),this.print_string(this._ch),a=!1,this._nestedLevel&&this._nestedLevel--,this.eatWhitespace(!0),this._output.add_new_line(),this._options.newline_between_rules&&!this._output.just_added_blankline()&&"}"!==this._input.peek()&&this._output.add_new_line(!0),")"===this._input.peek()&&(this._output.trim(!0),"expand"===this._options.brace_style&&this._output.add_new_line(!0));else if(":"===this._ch){for(var f=0;f<this.NON_SEMICOLON_NEWLINE_PROPERTY.length;f++)if(this._input.lookBack(this.NON_SEMICOLON_NEWLINE_PROPERTY[f])){h=!0;break}!a&&!r||this._input.lookBack("&")||this.foundNestedPseudoClass()||this._input.lookBack("(")||d||0!==o?(this._input.lookBack(" ")&&(this._output.space_before_token=!0),":"===this._input.peek()?(this._ch=this._input.next(),this.print_string("::")):this.print_string(":")):(this.print_string(":"),l||(l=!0,this._output.space_before_token=!0,this.eatWhitespace(!0),this.indent()))}else if('"'===this._ch||"'"===this._ch)this.preserveSingleSpace(n),this.print_string(this._ch+this.eatString(this._ch)),this.eatWhitespace(!0);else if(";"===this._ch)h=!1,0===o?(l&&(this.outdent(),l=!1),d=!1,c=!1,this.print_string(this._ch),this.eatWhitespace(!0),"/"!==this._input.peek()&&this._output.add_new_line()):(this.print_string(this._ch),this.eatWhitespace(!0),this._output.space_before_token=!0);else if("("===this._ch)this._input.lookBack("url")?(this.print_string(this._ch),this.eatWhitespace(),o++,this.indent(),this._ch=this._input.next(),")"===this._ch||'"'===this._ch||"'"===this._ch?this._input.back():this._ch&&(this.print_string(this._ch+this.eatString(")")),o&&(o--,this.outdent()))):(this.preserveSingleSpace(n),this.print_string(this._ch),l&&"$"===s&&this._options.selector_separator_newline?(this._output.add_new_line(),u=!0):(this.eatWhitespace(),o++,this.indent()));else if(")"===this._ch)o&&(o--,this.outdent()),u&&";"===this._input.peek()&&this._options.selector_separator_newline&&(u=!1,this.outdent(),this._output.add_new_line()),this.print_string(this._ch);else if(","===this._ch)this.print_string(this._ch),this.eatWhitespace(!0),!this._options.selector_separator_newline||l&&!u||0!==o||c||d?this._output.space_before_token=!0:this._output.add_new_line();else if(">"!==this._ch&&"+"!==this._ch&&"~"!==this._ch||l||0!==o)if("]"===this._ch)this.print_string(this._ch);else if("["===this._ch)this.preserveSingleSpace(n),this.print_string(this._ch);else if("="===this._ch)this.eatWhitespace(),this.print_string("="),dt.test(this._ch)&&(this._ch="");else if("!"!==this._ch||this._input.lookBack("\\")){var v='"'===s||"'"===s;this.preserveSingleSpace(v||n),this.print_string(this._ch),!this._output.just_added_newline()&&"\n"===this._input.peek()&&h&&this._output.add_new_line()}else this.print_string(" "),this.print_string(this._ch);else this._options.space_around_combinator?(this._output.space_before_token=!0,this.print_string(this._ch),this._output.space_before_token=!0):(this.print_string(this._ch),this.eatWhitespace(),this._ch&&dt.test(this._ch)&&(this._ch=""));return this._output.get_code(t)},Je.Beautifier=ht;var mt=Je.Beautifier,gt=et.Options;Qe.exports=function(e,t){return new mt(e,t).beautify()},Qe.exports.defaultOptions=function(){return new gt};var bt={exports:{}},ft={},vt={},yt=A.Options;function xt(e){yt.call(this,e,"html"),1===this.templating.length&&"auto"===this.templating[0]&&(this.templating=["django","erb","handlebars","php"]),this.indent_inner_html=this._get_boolean("indent_inner_html"),this.indent_body_inner_html=this._get_boolean("indent_body_inner_html",!0),this.indent_head_inner_html=this._get_boolean("indent_head_inner_html",!0),this.indent_handlebars=this._get_boolean("indent_handlebars",!0),this.wrap_attributes=this._get_selection("wrap_attributes",["auto","force","force-aligned","force-expand-multiline","aligned-multiple","preserve","preserve-aligned"]),this.wrap_attributes_indent_size=this._get_number("wrap_attributes_indent_size",this.indent_size),this.extra_liners=this._get_array("extra_liners",["head","body","/html"]),this.inline=this._get_array("inline",["a","abbr","area","audio","b","bdi","bdo","br","button","canvas","cite","code","data","datalist","del","dfn","em","embed","i","iframe","img","input","ins","kbd","keygen","label","map","mark","math","meter","noscript","object","output","progress","q","ruby","s","samp","select","small","span","strong","sub","sup","svg","template","textarea","time","u","var","video","wbr","text","acronym","big","strike","tt"]),this.void_elements=this._get_array("void_elements",["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr","!doctype","?xml","basefont","isindex"]),this.unformatted=this._get_array("unformatted",[]),this.content_unformatted=this._get_array("content_unformatted",["pre","textarea"]),this.unformatted_content_delimiter=this._get_characters("unformatted_content_delimiter"),this.indent_scripts=this._get_selection("indent_scripts",["normal","keep","separate"])}xt.prototype=new yt,vt.Options=xt;var _t={},wt=$.Tokenizer,St=$.TOKEN,Ct=Z.Directives,kt=J.TemplatablePattern,At=D.Pattern,Et={TAG_OPEN:"TK_TAG_OPEN",TAG_CLOSE:"TK_TAG_CLOSE",ATTRIBUTE:"TK_ATTRIBUTE",EQUALS:"TK_EQUALS",VALUE:"TK_VALUE",COMMENT:"TK_COMMENT",TEXT:"TK_TEXT",UNKNOWN:"TK_UNKNOWN",START:St.START,RAW:St.RAW,EOF:St.EOF},Lt=new Ct(/<\!--/,/-->/),qt=function(e,t){wt.call(this,e,t),this._current_tag_name="";var i=new kt(this._input).read_options(this._options),n=new At(this._input);if(this.__patterns={word:i.until(/[\n\r\t <]/),single_quote:i.until_after(/'/),double_quote:i.until_after(/"/),attribute:i.until(/[\n\r\t =>]|\/>/),element_name:i.until(/[\n\r\t >\/]/),handlebars_comment:n.starting_with(/{{!--/).until_after(/--}}/),handlebars:n.starting_with(/{{/).until_after(/}}/),handlebars_open:n.until(/[\n\r\t }]/),handlebars_raw_close:n.until(/}}/),comment:n.starting_with(/<!--/).until_after(/-->/),cdata:n.starting_with(/<!\[CDATA\[/).until_after(/]]>/),conditional_comment:n.starting_with(/<!\[/).until_after(/]>/),processing:n.starting_with(/<\?/).until_after(/\?>/)},this._options.indent_handlebars&&(this.__patterns.word=this.__patterns.word.exclude("handlebars")),this._unformatted_content_delimiter=null,this._options.unformatted_content_delimiter){var s=this._input.get_literal_regexp(this._options.unformatted_content_delimiter);this.__patterns.unformatted_content_delimiter=n.matching(s).until_after(s)}};(qt.prototype=new wt)._is_comment=function(e){return!1},qt.prototype._is_opening=function(e){return e.type===Et.TAG_OPEN},qt.prototype._is_closing=function(e,t){return e.type===Et.TAG_CLOSE&&t&&((">"===e.text||"/>"===e.text)&&"<"===t.text[0]||"}}"===e.text&&"{"===t.text[0]&&"{"===t.text[1])},qt.prototype._reset=function(){this._current_tag_name=""},qt.prototype._get_next_token=function(e,t){var i=null;this._readWhitespace();var n=this._input.peek();return null===n?this._create_token(Et.EOF,""):i=(i=(i=(i=(i=(i=(i=(i=(i=i||this._read_open_handlebars(n,t))||this._read_attribute(n,e,t))||this._read_close(n,t))||this._read_raw_content(n,e,t))||this._read_content_word(n))||this._read_comment_or_cdata(n))||this._read_processing(n))||this._read_open(n,t))||this._create_token(Et.UNKNOWN,this._input.next())},qt.prototype._read_comment_or_cdata=function(e){var t=null,i=null,n=null;"<"===e&&("!"===this._input.peek(1)&&((i=this.__patterns.comment.read())?(n=Lt.get_directives(i))&&"start"===n.ignore&&(i+=Lt.readIgnored(this._input)):i=this.__patterns.cdata.read()),i&&((t=this._create_token(Et.COMMENT,i)).directives=n));return t},qt.prototype._read_processing=function(e){var t=null,i=null;if("<"===e){var n=this._input.peek(1);"!"!==n&&"?"!==n||(i=(i=this.__patterns.conditional_comment.read())||this.__patterns.processing.read()),i&&((t=this._create_token(Et.COMMENT,i)).directives=null)}return t},qt.prototype._read_open=function(e,t){var i=null,n=null;return t||"<"===e&&(i=this._input.next(),"/"===this._input.peek()&&(i+=this._input.next()),i+=this.__patterns.element_name.read(),n=this._create_token(Et.TAG_OPEN,i)),n},qt.prototype._read_open_handlebars=function(e,t){var i=null,n=null;return t||this._options.indent_handlebars&&"{"===e&&"{"===this._input.peek(1)&&("!"===this._input.peek(2)?(i=(i=this.__patterns.handlebars_comment.read())||this.__patterns.handlebars.read(),n=this._create_token(Et.COMMENT,i)):(i=this.__patterns.handlebars_open.read(),n=this._create_token(Et.TAG_OPEN,i))),n},qt.prototype._read_close=function(e,t){var i=null,n=null;return t&&("<"===t.text[0]&&(">"===e||"/"===e&&">"===this._input.peek(1))?(i=this._input.next(),"/"===e&&(i+=this._input.next()),n=this._create_token(Et.TAG_CLOSE,i)):"{"===t.text[0]&&"}"===e&&"}"===this._input.peek(1)&&(this._input.next(),this._input.next(),n=this._create_token(Et.TAG_CLOSE,"}}"))),n},qt.prototype._read_attribute=function(e,t,i){var n=null,s="";if(i&&"<"===i.text[0])if("="===e)n=this._create_token(Et.EQUALS,this._input.next());else if('"'===e||"'"===e){var o=this._input.next();o+='"'===e?this.__patterns.double_quote.read():this.__patterns.single_quote.read(),n=this._create_token(Et.VALUE,o)}else(s=this.__patterns.attribute.read())&&(n=t.type===Et.EQUALS?this._create_token(Et.VALUE,s):this._create_token(Et.ATTRIBUTE,s));return n},qt.prototype._is_content_unformatted=function(e){return-1===this._options.void_elements.indexOf(e)&&(-1!==this._options.content_unformatted.indexOf(e)||-1!==this._options.unformatted.indexOf(e))},qt.prototype._read_raw_content=function(e,t,i){var n="";if(i&&"{"===i.text[0])n=this.__patterns.handlebars_raw_close.read();else if(t.type===Et.TAG_CLOSE&&"<"===t.opened.text[0]&&"/"!==t.text[0]){var s=t.opened.text.substr(1).toLowerCase();if("script"===s||"style"===s){var o=this._read_comment_or_cdata(e);if(o)return o.type=Et.TEXT,o;n=this._input.readUntil(new RegExp("</"+s+"[\\n\\r\\t ]*?>","ig"))}else this._is_content_unformatted(s)&&(n=this._input.readUntil(new RegExp("</"+s+"[\\n\\r\\t ]*?>","ig")))}return n?this._create_token(Et.TEXT,n):null},qt.prototype._read_content_word=function(e){var t="";if(this._options.unformatted_content_delimiter&&e===this._options.unformatted_content_delimiter[0]&&(t=this.__patterns.unformatted_content_delimiter.read()),t||(t=this.__patterns.word.read()),t)return this._create_token(Et.TEXT,t)},_t.Tokenizer=qt,_t.TOKEN=Et;var Tt=vt.Options,Mt=m.Output,Ot=_t.Tokenizer,Rt=_t.TOKEN,It=/\r\n|[\r\n]/,Bt=/\r\n|[\r\n]/g,Nt=function(e,t){this.indent_level=0,this.alignment_size=0,this.max_preserve_newlines=e.max_preserve_newlines,this.preserve_newlines=e.preserve_newlines,this._output=new Mt(e,t)};Nt.prototype.current_line_has_match=function(e){return this._output.current_line.has_match(e)},Nt.prototype.set_space_before_token=function(e,t){this._output.space_before_token=e,this._output.non_breaking_space=t},Nt.prototype.set_wrap_point=function(){this._output.set_indent(this.indent_level,this.alignment_size),this._output.set_wrap_point()},Nt.prototype.add_raw_token=function(e){this._output.add_raw_token(e)},Nt.prototype.print_preserved_newlines=function(e){var t=0;e.type!==Rt.TEXT&&e.previous.type!==Rt.TEXT&&(t=e.newlines?1:0),this.preserve_newlines&&(t=e.newlines<this.max_preserve_newlines+1?e.newlines:this.max_preserve_newlines+1);for(var i=0;i<t;i++)this.print_newline(i>0);return 0!==t},Nt.prototype.traverse_whitespace=function(e){return!(!e.whitespace_before&&!e.newlines)&&(this.print_preserved_newlines(e)||(this._output.space_before_token=!0),!0)},Nt.prototype.previous_token_wrapped=function(){return this._output.previous_token_wrapped},Nt.prototype.print_newline=function(e){this._output.add_new_line(e)},Nt.prototype.print_token=function(e){e.text&&(this._output.set_indent(this.indent_level,this.alignment_size),this._output.add_token(e.text))},Nt.prototype.indent=function(){this.indent_level++},Nt.prototype.get_full_indent=function(e){return(e=this.indent_level+(e||0))<1?"":this._output.get_indent_string(e)};var $t=function(e,t){var i=null,n=null;return t.closed?("script"===e?i="text/javascript":"style"===e&&(i="text/css"),i=function(e){for(var t=null,i=e.next;i.type!==Rt.EOF&&e.closed!==i;){if(i.type===Rt.ATTRIBUTE&&"type"===i.text){i.next&&i.next.type===Rt.EQUALS&&i.next.next&&i.next.next.type===Rt.VALUE&&(t=i.next.next.text);break}i=i.next}return t}(t)||i,i.search("text/css")>-1?n="css":i.search(/module|((text|application|dojo)\/(x-)?(javascript|ecmascript|jscript|livescript|(ld\+)?json|method|aspect))/)>-1?n="javascript":i.search(/(text|application|dojo)\/(x-)?(html)/)>-1?n="html":i.search(/test\/null/)>-1&&(n="null"),n):null};function zt(e,t){return-1!==t.indexOf(e)}function Pt(e,t,i){this.parent=e||null,this.tag=t?t.tag_name:"",this.indent_level=i||0,this.parser_token=t||null}function Ht(e){this._printer=e,this._current_frame=null}function Dt(e,t,i,n){this._source_text=e||"",t=t||{},this._js_beautify=i,this._css_beautify=n,this._tag_stack=null;var s=new Tt(t,"html");this._options=s,this._is_wrap_attributes_force="force"===this._options.wrap_attributes.substr(0,"force".length),this._is_wrap_attributes_force_expand_multiline="force-expand-multiline"===this._options.wrap_attributes,this._is_wrap_attributes_force_aligned="force-aligned"===this._options.wrap_attributes,this._is_wrap_attributes_aligned_multiple="aligned-multiple"===this._options.wrap_attributes,this._is_wrap_attributes_preserve="preserve"===this._options.wrap_attributes.substr(0,"preserve".length),this._is_wrap_attributes_preserve_aligned="preserve-aligned"===this._options.wrap_attributes}Ht.prototype.get_parser_token=function(){return this._current_frame?this._current_frame.parser_token:null},Ht.prototype.record_tag=function(e){var t=new Pt(this._current_frame,e,this._printer.indent_level);this._current_frame=t},Ht.prototype._try_pop_frame=function(e){var t=null;return e&&(t=e.parser_token,this._printer.indent_level=e.indent_level,this._current_frame=e.parent),t},Ht.prototype._get_frame=function(e,t){for(var i=this._current_frame;i&&-1===e.indexOf(i.tag);){if(t&&-1!==t.indexOf(i.tag)){i=null;break}i=i.parent}return i},Ht.prototype.try_pop=function(e,t){var i=this._get_frame([e],t);return this._try_pop_frame(i)},Ht.prototype.indent_to_tag=function(e){var t=this._get_frame(e);t&&(this._printer.indent_level=t.indent_level)},Dt.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var e=this._source_text,t=this._options.eol;"auto"===this._options.eol&&(t="\n",e&&It.test(e)&&(t=e.match(It)[0]));var i=(e=e.replace(Bt,"\n")).match(/^[\t ]*/)[0],n={text:"",type:""},s=new jt,o=new Nt(this._options,i),a=new Ot(e,this._options).tokenize();this._tag_stack=new Ht(o);for(var l=null,r=a.next();r.type!==Rt.EOF;)r.type===Rt.TAG_OPEN||r.type===Rt.COMMENT?s=l=this._handle_tag_open(o,r,s,n):r.type===Rt.ATTRIBUTE||r.type===Rt.EQUALS||r.type===Rt.VALUE||r.type===Rt.TEXT&&!s.tag_complete?l=this._handle_inside_tag(o,r,s,a):r.type===Rt.TAG_CLOSE?l=this._handle_tag_close(o,r,s):r.type===Rt.TEXT?l=this._handle_text(o,r,s):o.add_raw_token(r),n=l,r=a.next();return o._output.get_code(t)},Dt.prototype._handle_tag_close=function(e,t,i){var n={text:t.text,type:t.type};return e.alignment_size=0,i.tag_complete=!0,e.set_space_before_token(t.newlines||""!==t.whitespace_before,!0),i.is_unformatted?e.add_raw_token(t):("<"===i.tag_start_char&&(e.set_space_before_token("/"===t.text[0],!0),this._is_wrap_attributes_force_expand_multiline&&i.has_wrapped_attrs&&e.print_newline(!1)),e.print_token(t)),!i.indent_content||i.is_unformatted||i.is_content_unformatted||(e.indent(),i.indent_content=!1),i.is_inline_element||i.is_unformatted||i.is_content_unformatted||e.set_wrap_point(),n},Dt.prototype._handle_inside_tag=function(e,t,i,n){var s=i.has_wrapped_attrs,o={text:t.text,type:t.type};if(e.set_space_before_token(t.newlines||""!==t.whitespace_before,!0),i.is_unformatted)e.add_raw_token(t);else if("{"===i.tag_start_char&&t.type===Rt.TEXT)e.print_preserved_newlines(t)?(t.newlines=0,e.add_raw_token(t)):e.print_token(t);else{if(t.type===Rt.ATTRIBUTE?(e.set_space_before_token(!0),i.attr_count+=1):(t.type===Rt.EQUALS||t.type===Rt.VALUE&&t.previous.type===Rt.EQUALS)&&e.set_space_before_token(!1),t.type===Rt.ATTRIBUTE&&"<"===i.tag_start_char&&((this._is_wrap_attributes_preserve||this._is_wrap_attributes_preserve_aligned)&&(e.traverse_whitespace(t),s=s||0!==t.newlines),this._is_wrap_attributes_force)){var a=i.attr_count>1;if(this._is_wrap_attributes_force_expand_multiline&&1===i.attr_count){var l,r=!0,d=0;do{if((l=n.peek(d)).type===Rt.ATTRIBUTE){r=!1;break}d+=1}while(d<4&&l.type!==Rt.EOF&&l.type!==Rt.TAG_CLOSE);a=!r}a&&(e.print_newline(!1),s=!0)}e.print_token(t),s=s||e.previous_token_wrapped(),i.has_wrapped_attrs=s}return o},Dt.prototype._handle_text=function(e,t,i){var n={text:t.text,type:"TK_CONTENT"};return i.custom_beautifier_name?this._print_custom_beatifier_text(e,t,i):i.is_unformatted||i.is_content_unformatted?e.add_raw_token(t):(e.traverse_whitespace(t),e.print_token(t)),n},Dt.prototype._print_custom_beatifier_text=function(e,t,i){var n=this;if(""!==t.text){var s,o=t.text,a=1,l="",r="";"javascript"===i.custom_beautifier_name&&"function"==typeof this._js_beautify?s=this._js_beautify:"css"===i.custom_beautifier_name&&"function"==typeof this._css_beautify?s=this._css_beautify:"html"===i.custom_beautifier_name&&(s=function(e,t){return new Dt(e,t,n._js_beautify,n._css_beautify).beautify()}),"keep"===this._options.indent_scripts?a=0:"separate"===this._options.indent_scripts&&(a=-e.indent_level);var d=e.get_full_indent(a);if(o=o.replace(/\n[ \t]*$/,""),"html"!==i.custom_beautifier_name&&"<"===o[0]&&o.match(/^(<!--|<!\[CDATA\[)/)){var c=/^(<!--[^\n]*|<!\[CDATA\[)(\n?)([ \t\n]*)([\s\S]*)(-->|]]>)$/.exec(o);if(!c)return void e.add_raw_token(t);l=d+c[1]+"\n",o=c[4],c[5]&&(r=d+c[5]),o=o.replace(/\n[ \t]*$/,""),(c[2]||-1!==c[3].indexOf("\n"))&&(c=c[3].match(/[ \t]+$/))&&(t.whitespace_before=c[0])}if(o)if(s){var u=function(){this.eol="\n"};u.prototype=this._options.raw_options,o=s(d+o,new u)}else{var p=t.whitespace_before;p&&(o=o.replace(new RegExp("\n("+p+")?","g"),"\n")),o=d+o.replace(/\n/g,"\n"+d)}l&&(o=o?l+o+"\n"+r:l+r),e.print_newline(!1),o&&(t.text=o,t.whitespace_before="",t.newlines=0,e.add_raw_token(t),e.print_newline(!0))}},Dt.prototype._handle_tag_open=function(e,t,i,n){var s=this._get_tag_open_token(t);return!i.is_unformatted&&!i.is_content_unformatted||i.is_empty_element||t.type!==Rt.TAG_OPEN||0!==t.text.indexOf("</")?(e.traverse_whitespace(t),this._set_tag_position(e,t,s,i,n),s.is_inline_element||e.set_wrap_point(),e.print_token(t)):(e.add_raw_token(t),s.start_tag_token=this._tag_stack.try_pop(s.tag_name)),(this._is_wrap_attributes_force_aligned||this._is_wrap_attributes_aligned_multiple||this._is_wrap_attributes_preserve_aligned)&&(s.alignment_size=t.text.length+1),s.tag_complete||s.is_unformatted||(e.alignment_size=s.alignment_size),s};var jt=function(e,t){var i;(this.parent=e||null,this.text="",this.type="TK_TAG_OPEN",this.tag_name="",this.is_inline_element=!1,this.is_unformatted=!1,this.is_content_unformatted=!1,this.is_empty_element=!1,this.is_start_tag=!1,this.is_end_tag=!1,this.indent_content=!1,this.multiline_content=!1,this.custom_beautifier_name=null,this.start_tag_token=null,this.attr_count=0,this.has_wrapped_attrs=!1,this.alignment_size=0,this.tag_complete=!1,this.tag_start_char="",this.tag_check="",t)?(this.tag_start_char=t.text[0],this.text=t.text,"<"===this.tag_start_char?(i=t.text.match(/^<([^\s>]*)/),this.tag_check=i?i[1]:""):(i=t.text.match(/^{{(?:[\^]|#\*?)?([^\s}]+)/),this.tag_check=i?i[1]:"","{{#>"===t.text&&">"===this.tag_check&&null!==t.next&&(this.tag_check=t.next.text.split(" ")[0])),this.tag_check=this.tag_check.toLowerCase(),t.type===Rt.COMMENT&&(this.tag_complete=!0),this.is_start_tag="/"!==this.tag_check.charAt(0),this.tag_name=this.is_start_tag?this.tag_check:this.tag_check.substr(1),this.is_end_tag=!this.is_start_tag||t.closed&&"/>"===t.closed.text,this.is_end_tag=this.is_end_tag||"{"===this.tag_start_char&&(this.text.length<3||/[^#\^]/.test(this.text.charAt(2)))):this.tag_complete=!0};Dt.prototype._get_tag_open_token=function(e){var t=new jt(this._tag_stack.get_parser_token(),e);return t.alignment_size=this._options.wrap_attributes_indent_size,t.is_end_tag=t.is_end_tag||zt(t.tag_check,this._options.void_elements),t.is_empty_element=t.tag_complete||t.is_start_tag&&t.is_end_tag,t.is_unformatted=!t.tag_complete&&zt(t.tag_check,this._options.unformatted),t.is_content_unformatted=!t.is_empty_element&&zt(t.tag_check,this._options.content_unformatted),t.is_inline_element=zt(t.tag_name,this._options.inline)||"{"===t.tag_start_char,t},Dt.prototype._set_tag_position=function(e,t,i,n,s){if(i.is_empty_element||(i.is_end_tag?i.start_tag_token=this._tag_stack.try_pop(i.tag_name):(this._do_optional_end_element(i)&&(i.is_inline_element||e.print_newline(!1)),this._tag_stack.record_tag(i),"script"!==i.tag_name&&"style"!==i.tag_name||i.is_unformatted||i.is_content_unformatted||(i.custom_beautifier_name=$t(i.tag_check,t)))),zt(i.tag_check,this._options.extra_liners)&&(e.print_newline(!1),e._output.just_added_blankline()||e.print_newline(!0)),i.is_empty_element){if("{"===i.tag_start_char&&"else"===i.tag_check)this._tag_stack.indent_to_tag(["if","unless","each"]),i.indent_content=!0,e.current_line_has_match(/{{#if/)||e.print_newline(!1);"!--"===i.tag_name&&s.type===Rt.TAG_CLOSE&&n.is_end_tag&&-1===i.text.indexOf("\n")||(i.is_inline_element||i.is_unformatted||e.print_newline(!1),this._calcluate_parent_multiline(e,i))}else if(i.is_end_tag){var o=!1;o=(o=i.start_tag_token&&i.start_tag_token.multiline_content)||!i.is_inline_element&&!(n.is_inline_element||n.is_unformatted)&&!(s.type===Rt.TAG_CLOSE&&i.start_tag_token===n)&&"TK_CONTENT"!==s.type,(i.is_content_unformatted||i.is_unformatted)&&(o=!1),o&&e.print_newline(!1)}else i.indent_content=!i.custom_beautifier_name,"<"===i.tag_start_char&&("html"===i.tag_name?i.indent_content=this._options.indent_inner_html:"head"===i.tag_name?i.indent_content=this._options.indent_head_inner_html:"body"===i.tag_name&&(i.indent_content=this._options.indent_body_inner_html)),i.is_inline_element||i.is_unformatted||"TK_CONTENT"===s.type&&!i.is_content_unformatted||e.print_newline(!1),this._calcluate_parent_multiline(e,i)},Dt.prototype._calcluate_parent_multiline=function(e,t){!t.parent||!e._output.just_added_newline()||(t.is_inline_element||t.is_unformatted)&&t.parent.is_inline_element||(t.parent.multiline_content=!0)};var Ut=["address","article","aside","blockquote","details","div","dl","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hr","main","nav","ol","p","pre","section","table","ul"],Ft=["a","audio","del","ins","map","noscript","video"];Dt.prototype._do_optional_end_element=function(e){var t=null;if(!e.is_empty_element&&e.is_start_tag&&e.parent){if("body"===e.tag_name)t=t||this._tag_stack.try_pop("head");else if("li"===e.tag_name)t=t||this._tag_stack.try_pop("li",["ol","ul"]);else if("dd"===e.tag_name||"dt"===e.tag_name)t=(t=t||this._tag_stack.try_pop("dt",["dl"]))||this._tag_stack.try_pop("dd",["dl"]);else if("p"===e.parent.tag_name&&-1!==Ut.indexOf(e.tag_name)){var i=e.parent.parent;i&&-1!==Ft.indexOf(i.tag_name)||(t=t||this._tag_stack.try_pop("p"))}else"rp"===e.tag_name||"rt"===e.tag_name?t=(t=t||this._tag_stack.try_pop("rt",["ruby","rtc"]))||this._tag_stack.try_pop("rp",["ruby","rtc"]):"optgroup"===e.tag_name?t=t||this._tag_stack.try_pop("optgroup",["select"]):"option"===e.tag_name?t=t||this._tag_stack.try_pop("option",["select","datalist","optgroup"]):"colgroup"===e.tag_name?t=t||this._tag_stack.try_pop("caption",["table"]):"thead"===e.tag_name?t=(t=t||this._tag_stack.try_pop("caption",["table"]))||this._tag_stack.try_pop("colgroup",["table"]):"tbody"===e.tag_name||"tfoot"===e.tag_name?t=(t=(t=(t=t||this._tag_stack.try_pop("caption",["table"]))||this._tag_stack.try_pop("colgroup",["table"]))||this._tag_stack.try_pop("thead",["table"]))||this._tag_stack.try_pop("tbody",["table"]):"tr"===e.tag_name?t=(t=(t=t||this._tag_stack.try_pop("caption",["table"]))||this._tag_stack.try_pop("colgroup",["table"]))||this._tag_stack.try_pop("tr",["table","thead","tbody","tfoot"]):"th"!==e.tag_name&&"td"!==e.tag_name||(t=(t=t||this._tag_stack.try_pop("td",["table","thead","tbody","tfoot","tr"]))||this._tag_stack.try_pop("th",["table","thead","tbody","tfoot","tr"]));return e.parent=this._tag_stack.get_parser_token(),t}},ft.Beautifier=Dt;var Wt=ft.Beautifier,Yt=vt.Options;bt.exports=function(e,t,i,n){return new Wt(e,t,i,n).beautify()},bt.exports.defaultOptions=function(){return new Yt};var Xt=p.exports,Gt=Qe.exports,Vt=bt.exports;function Kt(e,t,i,n){return Vt(e,t,i=i||Xt,n=n||Gt)}Kt.defaultOptions=Vt.defaultOptions,u.js=Xt,u.css=Gt,u.html=Kt,function(e){var t=u;t.js_beautify=t.js,t.css_beautify=t.css,t.html_beautify=t.html,e.exports=function(e,t,i){var n=function(t,i){return e.js_beautify(t,i)};return n.js=e.js_beautify,n.css=t.css_beautify,n.html=i.html_beautify,n.js_beautify=e.js_beautify,n.css_beautify=t.css_beautify,n.html_beautify=i.html_beautify,n}(t,t,t)}(c);var Zt=c.exports;const Qt=new e;class Jt{constructor(e){this.builder=e,this.builderStuff=this.builder.builderStuff;const t=this.builderStuff;let n="";n+=`\n        <form class="is-cover-upload-central" data-tooltip-top title="${i("Change Background")}" data-title="${i("Change Background")}" style="opacity:1;position:absolute;width:40px;height:40px;" target="target-upload-cover" method="post" action="${this.builder.coverImageHandler}" enctype="multipart/form-data" style="position:relative;width:40px;height:40px;display:inline-block;float:left;background: rgb(90, 156, 38);">\n            <input type="file" tabindex="-1" class="input-file-cover-central" name="fileCover" accept="image/*" style="position:absolute;top:-30px;left:0;width:100%;height:80px;opacity: 0;cursor: pointer;"/>\n            <input tabindex="-1" class="input-custom-value-central" name="hidcustomval" type="hidden" value="${this.builder.customval}" />\n        </form>\n        `,n+='<iframe id="target-upload-cover" name="target-upload-cover" src="about:blank" style="width:0.1px;height:0.1px;position:absolute;top:0;right:0px;opacity:0.0001"></iframe>',n+='<div class="is-modal editcustomcode" tabindex="-1" role="dialog" aria-modal="true" aria-hidden="true"><div style="max-width:900px;height:570px;padding:0;box-sizing:border-box;position:relative;"><div class="is-modal-bar is-draggable" style="position: absolute;top: 0;left: 0;width: 100%;z-index:1;">'+i("Custom Code (Javascript Allowed)")+'</div><textarea id="txtBoxCustomCode" class="inptxt" style="background: #fff;position: absolute;top: 0;left: 0;width:100%;height:100%;border:none;border-bottom:60px solid transparent;border-top:40px solid transparent;box-sizing:border-box;"></textarea><input id="hidBoxCustomCode" type="hidden" /><button class="input-ok classic" style="height:60px;position:absolute;left:0;bottom:0;">'+i("Ok")+"</button></div></div>"+`\n            <div class="is-modal is-modal-content editbox" tabindex="-1" role="dialog" aria-modal="true" aria-hidden="true">\n                <div class="is-modal-bar is-draggable" draggable=""> \n                    ${i("Box Settings")}\n                    <button class="is-modal-close" tabindex="-1" title="${i("Close")}">\n                    <svg class="is-icon-flex" style="width:23px;height:23px;"><use xlink:href="#ion-ios-close-empty"></use></svg>\n                    </button>\n                </div>\n                <div style="padding:0;width:100%;">\n            \n            <div style="padding:0;width:100%;"><div class="is-tabs clearfix" style="padding-top:37px;" data-group="boxsettings"><a id="tabBoxGeneral" href="" data-content="divBoxGeneral" class="active">`+i("General")+'</a><a id="tabBoxContentContainer" href="" data-content="divBoxContentContainer">'+i("Content")+'</a><a id="tabBoxContentText" href="" data-content="divBoxContentText">'+i("Text")+'</a><a id="tabBoxImage" href="" data-content="divBoxImage">'+i("Image")+'</a><a id="tabBoxAnimate" href="" data-content="divBoxAnimate">'+i("Animation")+'</a><a id="tabBoxClick" href="" data-content="divBoxClick">'+i("On Click")+'</a></div><div id="divBoxGeneral" class="is-tab-content active" data-group="boxsettings" style="display:flex;padding-top:0"><div style="display:flex"><div id="divBoxSize" style="margin-right: 50px;"><div style="padding-top:20px;padding-bottom: 3px;">'+i("Box Size")+':</div><div style="display:flex"><button title="'+i("Decrease")+'" class="cmd-box-smaller" style="width:40px;">-</button><button title="'+i("Increase")+'" class="cmd-box-larger" style="width:40px;border-left:none">+</button><br style="clear:both"></div></div><div id="divBoxMove"><div style="padding-top:20px;padding-bottom: 3px;">'+i("Move")+':</div><div style="display:flex"><button title="'+i("Left")+'" class="cmd-box-left" style="width:40px;">←</button><button title="'+i("Right")+'" class="cmd-box-right" style="width:40px;border-left:none">→</button><br style="clear:both"></div></div></div>',n+='<div id="divContentSize"><div style="padding-top:20px;padding-bottom: 3px;">'+i("Content Size")+': &nbsp;<span class="val-box-size" style="font-size:12px"></span></div><div style="display: flex;flex-direction: row;flex-wrap: wrap;"><input class="inp-box-size" type="text" style="display:none;width:80px;height:35px;text-align:center;font-size:12px;" /><button class="cmd-box-size" data-value="500" style="width:40px;border-left:none">500</button><button class="cmd-box-size" data-value="600" style="width:40px;border-left:none">600</button><button class="cmd-box-size" data-value="700" style="width:40px;border-left:none">700</button><button class="cmd-box-size" data-value="800" style="width:40px;border-top:none">800</button><button class="cmd-box-size" data-value="900" style="width:40px;border-top:none">900</button><button class="cmd-box-size" data-value="1000" style="width:40px;border-top:none;border-left:none">1000</button><button class="cmd-box-size" data-value="1100" style="width:40px;border-top:none;border-left:none">1100</button><button class="cmd-box-size" data-value="1200" style="width:40px;border-top:none;border-left:none">1200</button><button class="cmd-box-size" data-value="1300" style="width:40px;border-top:none;border-left:none">1300</button><button class="cmd-box-size" data-value="1400" style="width:40px;border-top:none;border-left:none">1400</button><button class="cmd-box-size" data-value="1500" style="width:40px;border-top:none;border-left:none">1500</button><button class="cmd-box-size" data-value="1600" style="width:40px;border-top:none;border-left:none">1600</button><button class="cmd-box-size" data-value="1800" style="width:40px;border-top:none;border-left:none">1800</button><button title="'+i("Clear")+'" class="cmd-box-size" data-value=""><svg class="is-icon-flex" style="width:10px;height:10px;"><use xlink:href="#icon-clean"></use></svg></button><button title="'+i("Decrease")+'" class="cmd-box-size" data-value="-" style="width:40px;border-top:none;border-left:none">-</button><button title="'+i("Increase")+'"class="cmd-box-size" data-value="+" style="width:40px;border-top:none;border-left:none">+</button><br style="clear:both"></div></div>',n+='<div id="divBoxBackgroundColor"><div style="padding-top:20px;padding-bottom: 3px;">'+i("Background Color")+':</div><div style="display:flex;"><button title="'+i("Background Color")+'" class="input-box-bgcolor is-btn-color" style="margin-right:15px"></button><button title="'+i("Gradient")+'" class="input-box-gradient classic" data-value="+">'+i("Gradient")+'</button></div></div><div id="divBoxBackgroundImage" style="padding-bottom:10px;"><div style="padding-top:20px;padding-bottom: 3px;">'+i("Background Image")+':</div><div style="height:auto"><div style="display:flex;align-items:flex-end;"><div class="box-bgimage-preview"></div><label class="label-box-bgimage-grayscale label-checkbox" for="chkBoxBgImageGrayscale" style="margin:0;margin-left:8px;margin-bottom:5px;"><input id="chkBoxBgImageGrayscale" class="chk-box-bgimage-grayscale" type="checkbox" /> '+i("Grayscale")+'</label></div><div style="display:flex;align-items: flex-end;"><button title="'+i("Image")+'" class="input-box-bgimage"><svg class="is-icon-flex"><use xlink:href="#ion-image"></use></svg><span>'+i("Image")+'</span></button><button title="'+i("Select")+'" class="input-select">'+this.builder.selectIcon+'</button><button title="'+i("Remove")+'" class="input-box-bgremove"><svg class="is-icon-flex" style="width:11px;height:11px;"><use xlink:href="#icon-clean"></use></svg></button><button title="'+i("Adjust")+'" class="input-box-bgimageadjust"><svg class="is-icon-flex"><use xlink:href="#ion-wrench"></use></svg></button></div></div></div><div id="divBoxPickPhoto" class="is-settings" style="padding-top:10px"><button class="cmd-box-pickphoto" data-value="" style="width:100%"><svg class="is-icon-flex" style=""><use xlink:href="#ion-image"></use></svg></button></div><div id="divBoxStackBg" style="display:flex;padding-top:10px;"><div style="display:flex;align-items: center;margin-right:30px"><label for="chkStackBg" style="margin:0;display:flex;align-items: center;"><input id="chkStackBg" type="checkbox" /> <span style="margin-left:3px">'+i("Stack Background on Mobile")+'</span></label></div></div><div style="display:flex;padding-top:5px;"><div style="display:flex;align-items: center;margin-right:30px"><label for="chkAutofitContent" style="margin:0;display:flex;align-items: center;"><input id="chkAutofitContent" type="checkbox" /> <span style="margin-left:3px">'+i("Autofit on Mobile")+'</span></label></div><div style="display:flex;align-items: center;"><label for="inpBoxMinHeight" style="margin:0 4px 0 0;">'+i("Min Height")+':</label><select id="inpBoxMinHeight"><option value="">'+i("Not Set")+'</option><option value="20">20%</option><option value="25">25%</option><option value="30">30%</option><option value="40">40%</option><option value="50">50%</option><option value="60">60%</option><option value="70">70%</option><option value="75">75%</option><option value="80">80%</option><option value="90">90%</option><option value="100">100%</option></select></div></div><div style="display:flex;justify-content:flex-end;"><button title="'+i("Add Text")+'" class="cmd-box-addtext" style="display:none;margin-top:20px;"><svg class="is-icon-flex" style="width:11px;height:11px;"><use xlink:href="#ion-android-add"></use></svg> <span>'+i("Add Text")+'</span></button><button title="'+i("Remove Text")+'" class="cmd-box-removetext" style="display:none;margin-top:20px;"><svg class="is-icon-flex" style="width:9px;height:9px;"><use xlink:href="#icon-clean"></use></svg> <span>'+i("Remove Text")+'</span></button><button title="'+i("Add Code")+'" class="cmd-box-addcode" style="display:none;margin-top:20px;"><svg class="is-icon-flex" style="width:11px;height:11px;"><use xlink:href="#ion-android-add"></use></svg> <span>'+i("Add Code")+'</span></button><button title="'+i("Remove Code")+'" class="cmd-box-removecode" style="display:none;margin-top:20px;"><svg class="is-icon-flex" style="width:9px;height:9px;"><use xlink:href="#icon-clean"></use></svg> <span>'+i("Remove Code")+'</span></button></div><p id="divNoBoxSettings" style="text-align: center;display:none;">'+i("This box has no available settings.")+"</p></div>",n+='<div id="divBoxClick" class="is-tab-content" data-group="boxsettings" style="padding-top:0"><label for="inpBoxLinkSource" style="display:block;padding-top:20px;">'+i("Open")+':</label><div class="image-src" style="display:flex"><input id="inpBoxLinkSource" class="input-src" type="text" style="height:38px"><button title="'+i("Select")+'" class="input-select" style="flex:none;width:40px;height:38px;background:transparent;">'+this.builder.selectIcon+"</button>"+`<button title="${i(this.builder.otherSelectCaption)}" class="input-select-other" style="display:none;flex:none;width:40px;height:38px;background:transparent;">\n                            ${this.builder.otherSelectIcon}\n                        </button><div class="image-larger5" style="position: relative; flex: 0 0 auto; width: 40px; height: 38px; box-shadow: rgba(0, 0, 0, 0.32) 0px 3px 6px -6px;"><form class="form-upload-larger" target="frameTargetBoxLinkUpload" method="post" action="`+this.builder.largerImageHandler+'" enctype="multipart/form-data" style="position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;"><input id="hidRefId5_box" name="hidRefId" type="hidden" value=""><svg class="is-icon-flex" style="width:18px;height:18px;"><use xlink:href="#ion-ios-cloud-upload-outline"></use></svg><input onclick="blur()" title="'+i("Select")+'" id="fileImage5" name="fileImage" type="file" accept="image/*,video/mp4" style="position:absolute;top:-30px;left:0;width:100%;height:80px;opacity: 0;cursor: pointer;"></form><iframe id="frameTargetBoxLinkUpload" tabindex="-1" name="frameTargetBoxLinkUpload" src="about:blank" style="width:1px;height:1px;position:absolute;top:0;right:-100000px"></iframe></div></div><div style="padding-top:20px"><button class="cmd-box-testclick">'+i("Test")+"</button></div></div>",n+='<div id="divBoxContentText" class="is-tab-content" data-group="boxsettings" style="padding-top:0"><div style="display:flex;flex-direction: column;"><div style="padding-top:20px;padding-bottom: 3px;">'+i("Text Style")+':</div><div style="display:flex"><button title="'+i("Light")+'" class="cmd-box-textcolor" data-value="light">'+i("Light")+'</button><button title="'+i("Dark")+'" class="cmd-box-textcolor" data-value="dark" style="border-left:none;">'+i("Dark")+'</button><button title="'+i("Not Set")+'" class="cmd-box-textcolor" data-value="" style="border-left:none;">'+i("Not Set")+"</button></div></div>",n+='<div id="divContainerTransparency" style="display:flex;flex-direction: column;"><div style="padding-top:20px;padding-bottom: 3px;">'+i("Transparency")+':</div><div style="display:flex"><button title="'+i("Increase")+'" class="cmd-box-textopacity" data-value="+" style="width:40px"> + </button><button title="'+i("Decrease")+'" class="cmd-box-textopacity" data-value="-" style="width:40px;border-left:none;"> - </button><button title="'+i("Not Set")+'" class="cmd-box-textopacity" data-value="" style="border-left:none;">'+i("Not Set")+'</button></div></div><div style="padding-top:27px;">'+i("Default Text Formatting")+':</div><div id="divContainerTextAlign" style="display:flex;flex-direction: column;"><div style="padding-top:15px;padding-bottom: 3px;">'+i("Alignment")+':</div><div style="display:flex"><button title="'+i("Align Left")+'" class="cmd-box-textalign" data-value="left" style="width:40px"><svg class="is-icon-flex" style="fill:rgba(0, 0, 0, 0.8);width:13px;height:13px;"><use xlink:href="#icon-align-left"></use></svg></button><button title="'+i("Align Center")+'" class="cmd-box-textalign" data-value="center" style="width:40px;border-left:none;"><svg class="is-icon-flex" style="fill:rgba(0, 0, 0, 0.8);width:13px;height:13px;"><use xlink:href="#icon-align-center"></use></svg></button><button title="'+i("Align Right")+'" class="cmd-box-textalign" data-value="right" style="width:40px;border-left:none;"><svg class="is-icon-flex" style="fill:rgba(0, 0, 0, 0.8);width:13px;height:13px;"><use xlink:href="#icon-align-right"></use></svg></button><button title="'+i("Align Full")+'" class="cmd-box-textalign" data-value="justify" style="width:40px;border-left:none;"><svg class="is-icon-flex" style="fill:rgba(0, 0, 0, 0.8);width:13px;height:13px;"><use xlink:href="#icon-align-full"></use></svg></button><button title="'+i("Not Set")+'" class="cmd-box-textalign" data-value="" style="border-left:none;">'+i("Not Set")+'</button></div></div><div id="divContainerParagraphSize" style="display:flex;flex-direction: column;"><div style="padding-top:15px;padding-bottom: 3px;">Paragraph Size:</div><div style="display:flex"><button title="'+i("16")+'" class="cmd-box-parasize" data-value="16" style="width:40px">16</button><button title="'+i("17")+'" class="cmd-box-parasize" data-value="17" style="width:40px">17</button><button title="'+i("18")+'" class="cmd-box-parasize" data-value="18" style="width:40px">18</button><button title="'+i("19")+'" class="cmd-box-parasize" data-value="19" style="width:40px">19</button><button title="'+i("20")+'" class="cmd-box-parasize" data-value="20" style="width:40px">20</button><button title="'+i("21")+'" class="cmd-box-parasize" data-value="21" style="width:40px">21</button><button title="'+i("Not Set")+'" class="cmd-box-parasize" data-value="" style="">'+i("Not Set")+'</button></div></div><div style="padding-top:20px;"><label for="chkOptimizeTextSize" style="margin:0;"><input id="chkOptimizeTextSize" type="checkbox" /> '+i("Auto adjust text size on large screen.")+'</label></div><div id="divContainerLineHeight" style="display:flex;flex-direction: column;"><div style="padding-top:15px;padding-bottom: 3px;">Line Height:</div><div style="display:flex;flex-flow: wrap;width: 290px;"><button title="'+i("1")+'" class="cmd-box-lineheight" data-value="1" style="width:40px">1</button><button title="'+i("1.1")+'" class="cmd-box-lineheight" data-value="1.1" style="width:40px">1.1</button><button title="'+i("1.2")+'" class="cmd-box-lineheight" data-value="1.2" style="width:40px">1.2</button><button title="'+i("1.3")+'" class="cmd-box-lineheight" data-value="1.3" style="width:40px">1.3</button><button title="'+i("1.4")+'" class="cmd-box-lineheight" data-value="1.4" style="width:40px">1.4</button><button title="'+i("1.5")+'" class="cmd-box-lineheight" data-value="1.5" style="width:40px">1.5</button><button title="'+i("1.6")+'" class="cmd-box-lineheight" data-value="1.6" style="width:40px">1.6</button><button title="'+i("1.7")+'" class="cmd-box-lineheight" data-value="1.7" style="width:40px">1.7</button><button title="'+i("1.8")+'" class="cmd-box-lineheight" data-value="1.8" style="width:40px">1.8</button><button title="'+i("1.9")+'" class="cmd-box-lineheight" data-value="1.9" style="width:40px">1.9</button><button title="'+i("2")+'" class="cmd-box-lineheight" data-value="2" style="width:40px">2</button><button title="'+i("Not Set")+'" class="cmd-box-lineheight" data-value="" style="">'+i("Not Set")+'</button><br style="clear:both"></div></div>',n+=(this.builder.settings.enableContentStyle?'<div style="padding-top:10px;display:flex;flex-direction: column;"><div style="display:none"><button title="'+i("Typography Style")+'" class="cmd-box-typography" data-value="+"> '+i("Typography Style")+' </button><br style="clear:both"></div></div>':"")+'</div><div id="divBoxContentContainer" class="is-tab-content" data-group="boxsettings" style="padding-top:0"><div style="padding-top:10px;"><label for="chkParallaxContent" style="margin:0;"><input id="chkParallaxContent" type="checkbox" /> '+i("Parallax")+'</label></div><div style="padding-top:10px;"><label for="chkFadeContent" style="margin:0;"><input id="chkFadeContent" type="checkbox" /> '+i("Fade")+"</label></div>",n+='<div style="display:flex;flex-direction: row;"><div style="display:flex;flex-direction: column;margin-right:20px;"><div style="padding-top:13px;padding-bottom: 3px;">'+i("Position")+':</div><div style="display:flex"><button title="'+i("Top Left")+'" class="cmd-box-content-pos" data-value="topleft" style="width:40px;">&#8598;</button><button title="'+i("Top Center")+'" class="cmd-box-content-pos" data-value="topcenter" style="width:40px;border-left:none;">&#8593;</button><button title="'+i("Top Right")+'" class="cmd-box-content-pos" data-value="topright" style="width:40px;border-left:none;">&#8599;</button></div><div style="display:flex"><button title="'+i("Middle Left")+'" class="cmd-box-content-pos" data-value="middleleft" style="width:40px;border-top:none;">&#8592;</button><button title="'+i("Middle Center")+'" class="cmd-box-content-pos" data-value="middlecenter" style="width:40px;border-left:none;border-top:none;">&#9737;</button><button title="'+i("Middle Right")+'" class="cmd-box-content-pos" data-value="middleright" style="width:40px;border-left:none;border-top:none;">&#8594;</button></div><div style="display:flex"><button title="'+i("Bottom Left")+'" class="cmd-box-content-pos" data-value="bottomleft" style="width:40px;border-top:none;">&#8601;</button><button title="'+i("Bottom Center")+'" class="cmd-box-content-pos" data-value="bottomcenter" style="width:40px;border-left:none;border-top:none;">&#8595;</button><button title="'+i("Bottom Right")+'" class="cmd-box-content-pos" data-value="bottomright" style="width:40px;border-left:none;border-top:none;">&#8600;</button></div></div><div style="display:flex;flex-direction: column;"><div style="padding-top:20px;padding-bottom: 1px;">'+i("Height")+':</div><div style="display: flex;flex-direction: row;flex-wrap: wrap;"><button title="'+i("Auto")+'" class="cmd-content-height" data-value="" style="width:60px">Auto</button><button title="'+i("Full")+'" class="cmd-content-height" data-value="100" style="width:40px">Full</button></div><div class="div-content-justify"><div style="padding-top:10px;padding-bottom: 1px;">'+i("Justify")+':</div><div style="display: flex;flex-direction: row;flex-wrap: wrap;"><button title="'+i("Top")+'" class="cmd-content-justify" data-value="flex-start" style="width:40px"><svg class="is-icon-flex" style="width:14px;height:14px;"><use xlink:href="#icon-arrow-bar-to-up"></use></svg></button><button title="'+i("Bottom")+'" class="cmd-content-justify" data-value="flex-end" style="width:40px"><svg class="is-icon-flex" style="width:14px;height:14px;"><use xlink:href="#icon-arrow-bar-to-down"></use></svg></button><button title="'+i("Space Between")+'" class="cmd-content-justify" data-value="space-between" style="width:40px"><svg class="is-icon-flex" style="width:14px;height:14px;"><use xlink:href="#icon-space-between"></use></svg></button></div></div></div></div>',n+='<div style="display:flex;flex-direction: row;"><div style="display:flex;flex-direction: column;margin-right:25px"><div style="padding-top:20px;padding-bottom: 3px;">'+i("Vertical Adjustment")+':</div><div style="display:flex"><button title="'+i("Decrease")+'" class="cmd-box-content-edge-y" data-value="-" style="width:40px;">-</button><button title="'+i("Increase")+'" class="cmd-box-content-edge-y" data-value="+" style="width:40px;border-left:none;">+</button><button title="'+i("Not Set")+'" class="cmd-box-content-edge-y" data-value="" style="display:none;width:40px;border-left:none;min-width:100px;">'+i("Not Set")+'</button></div></div><div style="display:flex;flex-direction: column;"><div style="padding-top:20px;padding-bottom: 3px;">'+i("Horizontal Adjustment")+':</div><div style="display:flex"><button title="'+i("Decrease")+'" class="cmd-box-content-edge-x" data-value="-" style="width:40px;">-</button><button title="'+i("Increase")+'" class="cmd-box-content-edge-x" data-value="+" style="width:40px;border-left:none;">+</button><button title="'+i("Not Set")+'" class="cmd-box-content-edge-x" data-value="" style="display:none;width:40px;border-left:none;min-width:100px;">'+i("Not Set")+'</button></div></div></div><div style="display:none;flex-direction: column;"><div style="padding-top:20px;padding-bottom: 3px;">'+i("Content Spacing")+':</div><div style="display:flex"><button title="0" class="cmd-box-content-spacing on" data-value="0" style="width:40px;">0</button><button title="10" class="cmd-box-content-spacing" data-value="10" style="width:40px;border-left:none;">10</button><button title="20" class="cmd-box-content-spacing" data-value="20" style="width:40px;border-left:none;">20</button><button title="30" class="cmd-box-content-spacing" data-value="30" style="width:40px;border-left:none;">30</button><button title="40" class="cmd-box-content-spacing" data-value="40" style="width:40px;border-left:none;">40</button><button title="50" class="cmd-box-content-spacing" data-value="50" style="width:40px;border-left:none;">50</button><button title="60" class="cmd-box-content-spacing" data-value="60" style="width:40px;border-left:none;">60</button><button title="80" class="cmd-box-content-spacing" data-value="80" style="width:40px;border-left:none;">80</button><button title="'+i("Not Set")+'" class="cmd-box-content-spacing" data-value="">'+i("Not Set")+'</button></div></div><div style="padding-top:20px;padding-bottom:0;">'+i("Content Spacing")+':</div><div style="display:flex;flex-direction: column;"><div style="padding-top:10px;padding-bottom: 3px;">'+i("Top")+':</div><div style="display:flex"><button title="0" class="cmd-box-content-topspacing on" data-value="0" style="width:40px">0</button><button title="10" class="cmd-box-content-topspacing" data-value="10" style="width:40px">10</button><button title="20" class="cmd-box-content-topspacing" data-value="20" style="width:40px">20</button><button title="30" class="cmd-box-content-topspacing" data-value="30" style="width:40px">30</button><button title="40" class="cmd-box-content-topspacing" data-value="40" style="width:40px">40</button><button title="50" class="cmd-box-content-topspacing" data-value="50" style="width:40px">50</button><button title="60" class="cmd-box-content-topspacing" data-value="60" style="width:40px">60</button><button title="'+i("Not Set")+'" class="cmd-box-content-topspacing" data-value="" style="width:40px"><svg class="is-icon-flex" style="width:10px;height:10px;"><use xlink:href="#icon-clean"></use></svg></button></div></div><div style="display:flex;flex-direction: column;"><div style="padding-top:10px;padding-bottom: 3px;">'+i("Bottom")+':</div><div style="display:flex"><button title="0" class="cmd-box-content-bottomspacing on" data-value="0" style="width:40px;">0</button><button title="10" class="cmd-box-content-bottomspacing" data-value="10" style="width:40px">10</button><button title="20" class="cmd-box-content-bottomspacing" data-value="20" style="width:40px">20</button><button title="30" class="cmd-box-content-bottomspacing" data-value="30" style="width:40px">30</button><button title="40" class="cmd-box-content-bottomspacing" data-value="40" style="width:40px">40</button><button title="50" class="cmd-box-content-bottomspacing" data-value="50" style="width:40px">50</button><button title="60" class="cmd-box-content-bottomspacing" data-value="60" style="width:40px">60</button><button title="'+i("Not Set")+'" class="cmd-box-content-bottomspacing" data-value="" style="width:40px"><svg class="is-icon-flex" style="width:10px;height:10px;"><use xlink:href="#icon-clean"></use></svg></button></div></div></div>',n+='<div id="divBoxImage" class="is-tab-content" data-group="boxsettings" style="padding-top:0"><div style="padding-top:20px;"><label for="chkAnimateBg" style="margin:0;"><input id="chkAnimateBg" type="checkbox" /> '+i("Ken Burns Effect")+'</label></div><div style="padding-top:10px;"><label for="chkParallaxBg" style="margin:0;"><input id="chkParallaxBg" type="checkbox" /> '+i("Parallax")+" & "+i("Scale")+'</label></div><div style="padding-top:10px;"><label for="chkParallaxBg2" style="margin:0;"><input id="chkParallaxBg2" type="checkbox" /> '+i("Parallax")+" "+i("(visible on preview)")+'</label></div><div style="padding-top:10px;"><label for="chkZoomOnHover" style="margin:0;"><input id="chkZoomOnHover" type="checkbox" /> '+i("Zoom on Hover")+"</label></div>",n+='<div style="padding-top:20px;padding-bottom: 3px;">'+i("Overlay Color")+':</div><div style="display:flex;"><button title="'+i("Overlay Color")+'" class="input-box-overlaycolor is-btn-color" style="margin-right:15px"></button></div><div style="display:flex;flex-direction: column;"><div style="padding-top:20px;padding-bottom: 3px;">'+i("Overlay Transparency")+':</div><div style="display:flex"><button title="'+i("Decrease")+'" class="cmd-box-overlayopacity" data-value="-" style="width:40px;border-left:none;">-</button><button title="'+i("Increase")+'" class="cmd-box-overlayopacity" data-value="+" style="width:40px;">+</button><button title="'+i("None")+'" class="cmd-box-overlayopacity" data-value="0" style="border-left:none;min-width:100px;">'+i("None")+'</button></div></div></div><div id="divBoxAnimate" class="is-tab-content" data-group="boxsettings" style="padding-top:0"><div style="display:flex;flex-direction: column;"><select class="cmd-box-animate"><option value="">'+i("None")+'</option><option value="is-pulse">pulse</option><option value="is-bounceIn">bounceIn</option><option value="is-fadeIn">fadeIn</option><option value="is-fadeInDown">fadeInDown</option><option value="is-fadeInLeft">fadeInLeft</option><option value="is-fadeInRight">fadeInRight</option><option value="is-fadeInUp">fadeInUp</option><option value="is-flipInX">flipInX</option><option value="is-flipInY">flipInY</option><option value="is-slideInUp">slideInUp</option><option value="is-slideInDown">slideInDown</option><option value="is-slideInLeft">slideInLeft</option><option value="is-slideInRight">slideInRight</option><option value="is-zoomIn">zoomIn</option></select><label for="chkAnimOnce" style="margin:10px 0 0;"><input id="chkAnimOnce" type="checkbox" /> '+i("Once")+"</label></div>",n+='<div><label style="padding-top:20px;">'+i("Delay")+': <select class="cmd-box-animatedelay" style="margin-top:3px;"><option value="">'+i("None")+'</option><option value="delay-0ms">0s</option><option value="delay-100ms">100ms</option><option value="delay-200ms">200ms</option><option value="delay-300ms">300ms</option><option value="delay-400ms">400ms</option><option value="delay-500ms">500ms</option><option value="delay-600ms">600ms</option><option value="delay-700ms">700ms</option><option value="delay-800ms">800ms</option><option value="delay-900ms">900ms</option><option value="delay-1000ms">1000ms</option><option value="delay-1100ms">1100ms</option><option value="delay-1200ms">1200ms</option><option value="delay-1300ms">1300ms</option><option value="delay-1400ms">1400ms</option><option value="delay-1500ms">1500ms</option><option value="delay-1600ms">1600ms</option><option value="delay-1700ms">1700ms</option><option value="delay-1800ms">1800ms</option><option value="delay-1900ms">1900ms</option><option value="delay-2000ms">2000ms</option><option value="delay-2100ms">2100ms</option><option value="delay-2200ms">2200ms</option><option value="delay-2300ms">2300ms</option><option value="delay-2400ms">2400ms</option><option value="delay-2500ms">2500ms</option><option value="delay-2600ms">2600ms</option><option value="delay-2700ms">2700ms</option><option value="delay-2800ms">2800ms</option><option value="delay-2900ms">2900ms</option><option value="delay-3000ms">3000ms</option></select></label></div><div style="padding-top:20px"><button class="cmd-box-animate-test" style="width:100%">'+i("Test")+'</button></div></div></div></div><div class="is-modal pickphoto" tabindex="-1" role="dialog" aria-modal="true" aria-hidden="true"><div style="max-width:1000px;height:570px;padding:0;box-sizing:border-box;position:relative;"><div class="is-modal-bar is-draggable" style="position: absolute;top: 0;left: 0;width: 100%;z-index:1;">'+i("Photos")+'</div><iframe style="position: absolute;top: 0;left: 0;width:100%;height:100%;border:none;border-top:40px solid transparent;margin:0;box-sizing:border-box;" src="about:blank"></iframe></div></div>',Qt.appendHtml(t,n);const s=t.querySelector(".is-modal.editbox");this.modalEditBox=s;const o=t.querySelector(".is-modal.editcustomcode"),l=t.querySelector(".is-modal.editmodule"),r=s.querySelector("#divBoxClick");this.divBoxClick=r;const d=s.querySelector("#divBoxGeneral");this.divBoxGeneral=d;const c=s.querySelector(".is-modal-close");c&&c.addEventListener("click",(()=>{this.close()}));let u=t.querySelector(".input-file-cover-central");this.builder.iframe&&(u=this.builder.contentStuff.querySelector(".input-file-cover-central"));let p=t.querySelector(".is-cover-upload-central");p&&p.addEventListener("mouseleave",(()=>{p.style.left=0})),p.setAttribute("data-title",p.getAttribute("title")),this.builder.iframe?this.builder.editor.tooltip.set(p,5,3,!0):this.builder.editor.tooltip.set(p,5,3),u&&u.addEventListener("click",(()=>{this.targetBox=this.builder.activeBox})),u&&u.addEventListener("change",(e=>{if(""===u.value)return;this.builder.editor.saveForUndo();const t=this.builderStuff;Qt.appendHtml(t,`<div class="waiting-indicator-overlay"></div>\n            <div class="waiting-indicator">\n                <div>${i("Uploading..")}</div>\n            </div>\n            `);const n=t.querySelector(".waiting-indicator");let s,o,a=this.targetBox;this.builder.iframe?(n.style.top="0",n.style.left="calc(50% - 68px)"):(s=a.getBoundingClientRect().top+window.pageYOffset,o=a.getBoundingClientRect().left+window.pageXOffset,n.style.top=s+"px",n.style.left=o+"px"),this.builder.settings.onUploadCoverImage?this.builder.settings.onUploadCoverImage(e):this.builder.iframe?this.builder.contentStuff.querySelector(".is-cover-upload-central").submit():t.querySelector(".is-cover-upload-central").submit(),u.value="",e.preventDefault(),e.stopImmediatePropagation()})),new a(s);Qt.appendHtml(s,'<div class="feature-master-style"></div>');const h=s.querySelector(".feature-master-style");if("none"===window.getComputedStyle(h,null).getPropertyValue("display"));else{const e=s.querySelector("#divContainerParagraphSize"),t=s.querySelector("#divContainerLineHeight");e.style.display="none",t.style.display="none"}h.parentNode.removeChild(h);const m=s.querySelectorAll(".is-tabs a");m.forEach((e=>{e.addEventListener("click",(t=>{if(t.preventDefault(),Qt.hasClass(e,"active"))return;m.forEach((e=>{Qt.removeClass(e,"active")})),Qt.addClass(e,"active");let i=e.getAttribute("data-content");s.querySelectorAll(".is-tab-content").forEach((e=>{e.style.display="none"})),s.querySelector("#"+i).style.display="block"}))})),s.querySelector("#tabBoxGeneral").click();s.querySelector(".cmd-box-smaller").addEventListener("click",(()=>{this.builder.editor.saveForUndo();const e=this.builder.activeSection;e.classList.add("transition-edit"),setTimeout((()=>{this.boxWidthSmaller(),setTimeout((()=>{e.classList.remove("transition-edit")}),200)}),10),this.builder.settings.onChange()}));s.querySelector(".cmd-box-larger").addEventListener("click",(()=>{this.builder.editor.saveForUndo();const e=this.builder.activeSection;e.classList.add("transition-edit"),setTimeout((()=>{this.boxWidthLarger(),setTimeout((()=>{e.classList.remove("transition-edit")}),200)}),10),this.builder.settings.onChange()}));s.querySelector(".cmd-box-left").addEventListener("click",(()=>{this.builder.editor.saveForUndo();let e=this.builder.activeBox,t=e.previousElementSibling;if(t)for(;!Qt.hasClass(t,"is-box")&&t.previousElementSibling;)t=t.previousElementSibling;t&&(e.parentNode.insertBefore(e,t),this.builder.settings.onChange())}));s.querySelector(".cmd-box-right").addEventListener("click",(()=>{this.builder.editor.saveForUndo();let e=this.builder.activeBox,t=e.nextElementSibling;if(t)for(;!Qt.hasClass(t,"is-box")&&t.nextElementSibling;)t=t.previousElementSibling;t&&(e.parentNode.insertBefore(t,e),this.builder.settings.onChange())}));s.querySelectorAll(".cmd-box-textcolor").forEach((e=>{e.addEventListener("click",(()=>{this.builder.editor.saveForUndo();let t=e.getAttribute("data-value");this.boxTextColor(t);s.querySelectorAll(".cmd-box-textcolor").forEach((e=>{Qt.removeClass(e,"on")})),""!==t&&Qt.addClass(e,"on"),this.builder.settings.onChange()}))}));s.querySelectorAll(".cmd-box-textalign").forEach((e=>{e.addEventListener("click",(()=>{this.builder.editor.saveForUndo();let t=e.getAttribute("data-value");this.boxTextAlign(t);s.querySelectorAll(".cmd-box-textalign").forEach((e=>{Qt.removeClass(e,"on")})),""!==t&&Qt.addClass(e,"on"),this.builder.settings.onChange()}))}));s.querySelectorAll(".cmd-box-parasize").forEach((e=>{e.addEventListener("click",(()=>{this.builder.editor.saveForUndo();let t=this.builder.activeBox.querySelector(".is-builder");Qt.removeClass(t,"size-16"),Qt.removeClass(t,"size-17"),Qt.removeClass(t,"size-18"),Qt.removeClass(t,"size-19"),Qt.removeClass(t,"size-20"),Qt.removeClass(t,"size-21");let i=e.getAttribute("data-value");"16"===i&&Qt.addClass(t,"size-16"),"17"===i&&Qt.addClass(t,"size-17"),"18"===i&&Qt.addClass(t,"size-18"),"19"===i&&Qt.addClass(t,"size-19"),"20"===i&&Qt.addClass(t,"size-20"),"21"===i&&Qt.addClass(t,"size-21");t.querySelectorAll("p,li,td,label").forEach((e=>{"16"===i&&Qt.hasClass(e,"size-16")&&Qt.removeClass(e,"size-16"),"17"===i&&Qt.hasClass(e,"size-17")&&Qt.removeClass(e,"size-17"),"18"===i&&Qt.hasClass(e,"size-18")&&Qt.removeClass(e,"size-18"),"19"===i&&Qt.hasClass(e,"size-19")&&Qt.removeClass(e,"size-19"),"20"===i&&Qt.hasClass(e,"size-20")&&Qt.removeClass(e,"size-20"),"21"===i&&Qt.hasClass(e,"size-21")&&Qt.removeClass(e,"size-21")}));s.querySelectorAll(".cmd-box-parasize").forEach((e=>{Qt.removeClass(e,"on")})),""!==i&&Qt.addClass(e,"on"),this.builder.settings.onChange()}))}));s.querySelectorAll(".cmd-box-lineheight").forEach((e=>{e.addEventListener("click",(()=>{this.builder.editor.saveForUndo();let t=this.builder.activeBox.querySelector(".is-builder");Qt.removeClass(t,"leading-none"),Qt.removeClass(t,"leading-11"),Qt.removeClass(t,"leading-12"),Qt.removeClass(t,"leading-13"),Qt.removeClass(t,"leading-14"),Qt.removeClass(t,"leading-15"),Qt.removeClass(t,"leading-16"),Qt.removeClass(t,"leading-17"),Qt.removeClass(t,"leading-18"),Qt.removeClass(t,"leading-19"),Qt.removeClass(t,"leading-20");let i=e.getAttribute("data-value");"1"===i&&Qt.addClass(t,"leading-none"),"1.1"===i&&Qt.addClass(t,"leading-11"),"1.2"===i&&Qt.addClass(t,"leading-12"),"1.3"===i&&Qt.addClass(t,"leading-13"),"1.4"===i&&Qt.addClass(t,"leading-14"),"1.5"===i&&Qt.addClass(t,"leading-15"),"1.6"===i&&Qt.addClass(t,"leading-16"),"1.7"===i&&Qt.addClass(t,"leading-17"),"1.8"===i&&Qt.addClass(t,"leading-18"),"1.9"===i&&Qt.addClass(t,"leading-19"),"2"===i&&Qt.addClass(t,"leading-20");t.querySelectorAll("p,li,td,label").forEach((e=>{"1"===i&&Qt.hasClass(e,"leading-none")&&Qt.removeClass(e,"leading-none"),"1.1"===i&&Qt.hasClass(e,"leading-11")&&Qt.removeClass(e,"leading-11"),"1.2"===i&&Qt.hasClass(e,"leading-12")&&Qt.removeClass(e,"leading-12"),"1.3"===i&&Qt.hasClass(e,"leading-13")&&Qt.removeClass(e,"leading-13"),"1.4"===i&&Qt.hasClass(e,"leading-14")&&Qt.removeClass(e,"leading-14"),"1.5"===i&&Qt.hasClass(e,"leading-15")&&Qt.removeClass(e,"leading-15"),"1.6"===i&&Qt.hasClass(e,"leading-16")&&Qt.removeClass(e,"leading-16"),"1.7"===i&&Qt.hasClass(e,"leading-17")&&Qt.removeClass(e,"leading-17"),"1.8"===i&&Qt.hasClass(e,"leading-18")&&Qt.removeClass(e,"leading-18"),"1.9"===i&&Qt.hasClass(e,"leading-19")&&Qt.removeClass(e,"leading-19"),"2"===i&&Qt.hasClass(e,"leading-20")&&Qt.removeClass(e,"leading-20")}));s.querySelectorAll(".cmd-box-lineheight").forEach((e=>{Qt.removeClass(e,"on")})),""!==i&&Qt.addClass(e,"on"),this.builder.settings.onChange()}))}));s.querySelectorAll(".cmd-box-textopacity").forEach((e=>{e.addEventListener("click",(()=>{this.builder.editor.saveForUndo();let t=e.getAttribute("data-value");this.boxTextOpacity(t),this.builder.settings.onChange()}))}));s.querySelectorAll(".cmd-box-typography").forEach((e=>{e.addEventListener("click",(()=>{setTimeout((()=>{this.builder.hideModal(s),t.querySelector('.is-sidebar > button[data-command="typography"]').click();Qt.appendHtml(t,'<div class="is-sidebar-overlay" style="position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(255,255,255,0.000001);z-index: 1000;"></div>');const e=t.querySelector(".is-sidebar-overlay");e&&e.addEventListener("click",(()=>{const e=document.querySelector(".is-sidebar-overlay");e&&(e.remove(),document.body.style.overflowY=""),document.querySelectorAll(".is-sidebar-button.active").forEach((e=>{Qt.removeClass(e,"active")})),document.querySelectorAll(".is-sidebar-content.active").forEach((e=>{Qt.removeClass(e,"active")}))})),t.querySelector('.is-sidebar > button[data-command="typography"]').setAttribute("data-applyto","box"),t.querySelector(".typo-target-default").style.display="none",t.querySelector(".typo-target-box").style.display="flex"}),10)}))}));s.querySelectorAll(".cmd-box-size").forEach((e=>{e.addEventListener("click",(()=>{this.builder.editor.saveForUndo();const t=this.builder.activeBox.querySelector(".is-container"),i=this.builder.contentSizes;let n,o=e.getAttribute("data-value");if(""===o)return t.style.maxWidth="",t.classList.forEach((e=>{-1!==e.indexOf("is-content-")&&"is-content-left"!==e&&"is-content-right"!==e&&Qt.removeClass(t,e)})),Qt.addClass(t,"is-content-none"),s.querySelector(".inp-box-size").value="",s.querySelector(".val-box-size").innerHTML="",void this.builder.settings.onChange();if("+"===o||"-"===o){for(let e=0;e<i.length;e++)if(Qt.hasClass(t,`is-content-${i[e]}`)){if("+"===o){n=e+1>=i.length?i[e]:i[e+1];break}if("-"===o){n=e-1<0?i[e]:i[e-1];break}}if(!n){const e=t.offsetWidth;for(let t=0;t<i.length;t++){if(i[t]<=e&&e<i[t+1]&&"+"===o){n=i[t+1];break}if(i[t]<e&&e<=i[t+1]&&"-"===o){n=i[t];break}}}}else n=o;n||(n=800),t.style.maxWidth="",t.classList.forEach((e=>{-1!==e.indexOf("is-content-")&&"is-content-left"!==e&&"is-content-right"!==e&&Qt.removeClass(t,e)})),Qt.addClass(t,"is-content-"+n),s.querySelector(".inp-box-size").value=n,s.querySelector(".val-box-size").innerHTML=n,this.builder.settings.onChange()}))}));const g=s.querySelector(".inp-box-size");g.addEventListener("input",(()=>{this.builder.editor.saveForUndo();const e=[];let t=300;for(;t<=2700;)e.push(t),t+=20;let i=this.builder.activeBox.querySelector(".is-container");i.classList.forEach((e=>{-1!==e.indexOf("is-content-")&&"is-content-left"!==e&&"is-content-right"!==e&&Qt.removeClass(i,e)}));let n=g.value;if(!isNaN(n)&&n>=300&&n<=2700){i.style.maxWidth=n+"px";let t=parseInt(window.getComputedStyle(i,null).getPropertyValue("max-width"));for(let i=0;i<=121;i++){let n=e[i];if(n>t){t=n;break}}n=t,n<=300&&(n=300),n>=2700&&(n=2700),Qt.addClass(i,"is-content-"+n)}this.builder.settings.onChange()}));s.querySelectorAll(".cmd-content-justify").forEach((e=>{e.addEventListener("click",(()=>{this.builder.editor.saveForUndo();let t=e.getAttribute("data-value"),i=this.builder.activeBox.querySelector(".is-container");i.style.justifyContent="",Qt.removeClass(i,"justify-start"),Qt.removeClass(i,"justify-end"),Qt.removeClass(i,"justify-between"),"flex-start"===t?Qt.addClass(i,"justify-start"):"flex-end"===t?Qt.addClass(i,"justify-end"):"space-between"===t&&Qt.addClass(i,"justify-between"),s.querySelectorAll(".cmd-content-justify").forEach((e=>{Qt.removeClass(e,"on")})),Qt.addClass(e,"on"),this.builder.settings.onChange()}))}));const b=s.querySelectorAll(".cmd-content-height"),f=s.querySelector(".div-content-justify");b.forEach((e=>{e.addEventListener("click",(()=>{this.builder.editor.saveForUndo();let t=e.getAttribute("data-value"),i=this.builder.activeBox.querySelector(".is-container");if(""===t&&(i.style.height="",Qt.removeClass(i,"h-full"),Qt.removeClass(i,"flex"),Qt.removeClass(i,"flex-col"),Qt.removeClass(i,"justify-start"),Qt.removeClass(i,"justify-end"),Qt.removeClass(i,"justify-between"),f.style.display="none"),"100"===t){Qt.addClass(i,"h-full"),Qt.addClass(i,"flex"),Qt.addClass(i,"flex-col"),Qt.removeClass(i,"justify-start"),Qt.removeClass(i,"justify-end"),Qt.addClass(i,"justify-between"),f.style.display="block",s.querySelectorAll(".cmd-content-justify").forEach((e=>{Qt.removeClass(e,"on")})),Qt.addClass(s.querySelector('.cmd-content-justify[data-value="space-between"]'),"on")}s.querySelectorAll(".cmd-content-height").forEach((e=>{Qt.removeClass(e,"on")})),Qt.addClass(e,"on"),this.builder.settings.onChange()}))}));s.querySelectorAll(".cmd-box-content-spacing").forEach((e=>{e.addEventListener("click",(()=>{this.builder.editor.saveForUndo();let t=e.getAttribute("data-value"),i=this.builder.activeBox.querySelector(".is-container");i.classList.remove("content-py-0"),i.classList.remove("content-py-10"),i.classList.remove("content-py-20"),i.classList.remove("content-py-30"),i.classList.remove("content-py-40"),i.classList.remove("content-py-50"),i.classList.remove("content-py-60"),i.classList.remove("content-py-70"),i.classList.remove("content-py-80"),""!==t&&i.classList.add(`content-py-${t}`),s.querySelectorAll(".cmd-box-content-spacing").forEach((e=>{Qt.removeClass(e,"on")})),Qt.addClass(e,"on"),this.builder.settings.onChange()}))}));s.querySelectorAll(".cmd-box-content-topspacing").forEach((e=>{e.addEventListener("click",(()=>{this.builder.editor.saveForUndo();let t=e.getAttribute("data-value"),i=this.builder.activeBox.querySelector(".is-container");i.classList.remove("content-py-0"),i.classList.remove("content-py-10"),i.classList.remove("content-py-20"),i.classList.remove("content-py-30"),i.classList.remove("content-py-40"),i.classList.remove("content-py-50"),i.classList.remove("content-py-60"),i.classList.remove("content-py-70"),i.classList.remove("content-py-80"),i.classList.remove("content-pt-0"),i.classList.remove("content-pt-10"),i.classList.remove("content-pt-20"),i.classList.remove("content-pt-30"),i.classList.remove("content-pt-40"),i.classList.remove("content-pt-50"),i.classList.remove("content-pt-60"),i.classList.remove("content-pt-70"),i.classList.remove("content-pt-80"),""!==t&&i.classList.add(`content-pt-${t}`),s.querySelectorAll(".cmd-box-content-topspacing").forEach((e=>{Qt.removeClass(e,"on")})),Qt.addClass(e,"on"),this.builder.settings.onChange()}))}));s.querySelectorAll(".cmd-box-content-bottomspacing").forEach((e=>{e.addEventListener("click",(()=>{this.builder.editor.saveForUndo();let t=e.getAttribute("data-value"),i=this.builder.activeBox.querySelector(".is-container");i.classList.remove("content-py-0"),i.classList.remove("content-py-10"),i.classList.remove("content-py-20"),i.classList.remove("content-py-30"),i.classList.remove("content-py-40"),i.classList.remove("content-py-50"),i.classList.remove("content-py-60"),i.classList.remove("content-py-70"),i.classList.remove("content-py-80"),i.classList.remove("content-pb-0"),i.classList.remove("content-pb-10"),i.classList.remove("content-pb-20"),i.classList.remove("content-pb-30"),i.classList.remove("content-pb-40"),i.classList.remove("content-pb-50"),i.classList.remove("content-pb-60"),i.classList.remove("content-pb-70"),i.classList.remove("content-pb-80"),""!==t&&i.classList.add(`content-pb-${t}`),s.querySelectorAll(".cmd-box-content-bottomspacing").forEach((e=>{Qt.removeClass(e,"on")})),Qt.addClass(e,"on"),this.builder.settings.onChange()}))}));s.querySelectorAll(".cmd-box-content-pos").forEach((e=>{e.addEventListener("click",(()=>{let t=this.builder.activeBox,i=t.querySelector(".is-box-centered");i||(i=t);let n=t.querySelector(".is-container");this.builder.editor.saveForUndo(),Qt.removeClass(t.querySelector(".edge-y--5"),"edge-y--5"),Qt.removeClass(t.querySelector(".edge-y--4"),"edge-y--4"),Qt.removeClass(t.querySelector(".edge-y--3"),"edge-y--3"),Qt.removeClass(t.querySelector(".edge-y--2"),"edge-y--2"),Qt.removeClass(t.querySelector(".edge-y--1"),"edge-y--1"),Qt.removeClass(t.querySelector(".edge-y-0"),"edge-y-0"),Qt.removeClass(t.querySelector(".edge-y-0-25"),"edge-y-0-25"),Qt.removeClass(t.querySelector(".edge-y-0-5"),"edge-y-0-5"),Qt.removeClass(t.querySelector(".edge-y-0-75"),"edge-y-0-75"),Qt.removeClass(t.querySelector(".edge-y-1"),"edge-y-1"),Qt.removeClass(t.querySelector(".edge-y-2"),"edge-y-2"),Qt.removeClass(t.querySelector(".edge-y-3"),"edge-y-3"),Qt.removeClass(t.querySelector(".edge-y-4"),"edge-y-4"),Qt.removeClass(t.querySelector(".edge-y-5"),"edge-y-5"),Qt.removeClass(t.querySelector(".edge-y-6"),"edge-y-6"),Qt.removeClass(t.querySelector(".edge-y-7"),"edge-y-7"),Qt.removeClass(t.querySelector(".edge-y-8"),"edge-y-8"),Qt.removeClass(t,"edge-y--5"),Qt.removeClass(t,"edge-y--4"),Qt.removeClass(t,"edge-y--3"),Qt.removeClass(t,"edge-y--2"),Qt.removeClass(t,"edge-y--1"),Qt.removeClass(t,"edge-y-0"),Qt.removeClass(t,"edge-y-0-25"),Qt.removeClass(t,"edge-y-0-5"),Qt.removeClass(t,"edge-y-0-75"),Qt.removeClass(t,"edge-y-1"),Qt.removeClass(t,"edge-y-2"),Qt.removeClass(t,"edge-y-3"),Qt.removeClass(t,"edge-y-4"),Qt.removeClass(t,"edge-y-5"),Qt.removeClass(t,"edge-y-6"),Qt.removeClass(t,"edge-y-7"),Qt.removeClass(t,"edge-y-8"),Qt.removeClass(t.querySelector(".edge-x--1"),"edge-x--1"),Qt.removeClass(t.querySelector(".edge-x--0-75"),"edge-x--0-75"),Qt.removeClass(t.querySelector(".edge-x--0-5"),"edge-x--0-5"),Qt.removeClass(t.querySelector(".edge-x--0-25"),"edge-x--0-25"),Qt.removeClass(t.querySelector(".edge-x-0"),"edge-x-0"),Qt.removeClass(t.querySelector(".edge-x-0-25"),"edge-x-0-25"),Qt.removeClass(t.querySelector(".edge-x-0-5"),"edge-x-0-5"),Qt.removeClass(t.querySelector(".edge-x-0-75"),"edge-x-0-75"),Qt.removeClass(t.querySelector(".edge-x-1"),"edge-x-1"),Qt.removeClass(t.querySelector(".edge-x-2"),"edge-x-2"),Qt.removeClass(t.querySelector(".edge-x-3"),"edge-x-3"),Qt.removeClass(t.querySelector(".edge-x-4"),"edge-x-4"),Qt.removeClass(t.querySelector(".edge-x-5"),"edge-x-5"),Qt.removeClass(t.querySelector(".edge-x-6"),"edge-x-6"),Qt.removeClass(t.querySelector(".is-box-centered"),"is-content-top"),Qt.removeClass(t.querySelector(".is-box-centered"),"is-content-bottom"),Qt.removeClass(t,"is-content-top"),Qt.removeClass(t,"is-content-bottom"),Qt.removeClass(t.querySelector(".is-container"),"is-content-left"),Qt.removeClass(t.querySelector(".is-container"),"is-content-right");let o=e.getAttribute("data-value");"topleft"===o&&(Qt.addClass(t.querySelector(".is-box-centered"),"is-content-top"),Qt.addClass(t,"is-content-top"),Qt.addClass(t.querySelector(".is-container"),"is-content-left"),Qt.addClass(i,"edge-y-2"),Qt.addClass(n,"edge-x-2")),"topcenter"===o&&(Qt.addClass(t.querySelector(".is-box-centered"),"is-content-top"),Qt.addClass(t,"is-content-top"),Qt.removeClass(t.querySelector(".is-container"),"is-content-left"),Qt.addClass(i,"edge-y-2")),"topright"===o&&(Qt.addClass(t.querySelector(".is-box-centered"),"is-content-top"),Qt.addClass(t,"is-content-top"),Qt.addClass(t.querySelector(".is-container"),"is-content-right"),Qt.addClass(i,"edge-y-2"),Qt.addClass(n,"edge-x-2")),"middleleft"===o&&(Qt.addClass(t.querySelector(".is-container"),"is-content-left"),Qt.addClass(n,"edge-x-2")),"middleright"===o&&(Qt.addClass(t.querySelector(".is-container"),"is-content-right"),Qt.addClass(n,"edge-x-2")),"bottomleft"===o&&(Qt.addClass(t.querySelector(".is-box-centered"),"is-content-bottom"),Qt.addClass(t,"is-content-bottom"),Qt.addClass(t.querySelector(".is-container"),"is-content-left"),Qt.addClass(i,"edge-y-2"),Qt.addClass(n,"edge-x-2")),"bottomcenter"===o&&(Qt.addClass(t.querySelector(".is-box-centered"),"is-content-bottom"),Qt.addClass(t,"is-content-bottom"),Qt.addClass(i,"edge-y-2")),"bottomright"===o&&(Qt.addClass(t.querySelector(".is-box-centered"),"is-content-bottom"),Qt.addClass(t,"is-content-bottom"),Qt.addClass(t.querySelector(".is-container"),"is-content-right"),Qt.addClass(i,"edge-y-2"),Qt.addClass(n,"edge-x-2")),s.querySelectorAll(".cmd-box-content-pos").forEach((e=>{Qt.removeClass(e,"on")})),Qt.addClass(e,"on"),this.builder.settings.onChange()}))}));s.querySelectorAll(".cmd-box-content-edge-x").forEach((e=>{e.addEventListener("click",(()=>{let t=this.builder.activeBox.querySelector(".is-container");this.builder.editor.saveForUndo();let i=e.getAttribute("data-value");if("-"===i){if(Qt.hasClass(t,"edge-x--1"))return!1;Qt.hasClass(t,"edge-x--0-75")?(Qt.removeClass(t,"edge-x--0-75"),Qt.addClass(t,"edge-x--1")):Qt.hasClass(t,"edge-x--0-5")?(Qt.removeClass(t,"edge-x--0-5"),Qt.addClass(t,"edge-x--0-75")):Qt.hasClass(t,"edge-x--0-25")?(Qt.removeClass(t,"edge-x--0-25"),Qt.addClass(t,"edge-x--0-5")):Qt.hasClass(t,"edge-x-0")?(Qt.removeClass(t,"edge-x-0"),Qt.addClass(t,"edge-x--0-25")):Qt.hasClass(t,"edge-x-0-25")?(Qt.removeClass(t,"edge-x-0-25"),Qt.addClass(t,"edge-x-0")):Qt.hasClass(t,"edge-x-0-5")?(Qt.removeClass(t,"edge-x-0-5"),Qt.addClass(t,"edge-x-0-25")):Qt.hasClass(t,"edge-x-0-75")?(Qt.removeClass(t,"edge-x-0-75"),Qt.addClass(t,"edge-x-0-5")):Qt.hasClass(t,"edge-x-1")?(Qt.removeClass(t,"edge-x-1"),Qt.addClass(t,"edge-x-0-75")):Qt.hasClass(t,"edge-x-2")?(Qt.removeClass(t,"edge-x-2"),Qt.addClass(t,"edge-x-1")):Qt.hasClass(t,"edge-x-3")?(Qt.removeClass(t,"edge-x-3"),Qt.addClass(t,"edge-x-2")):Qt.hasClass(t,"edge-x-4")?(Qt.removeClass(t,"edge-x-4"),Qt.addClass(t,"edge-x-3")):Qt.hasClass(t,"edge-x-5")?(Qt.removeClass(t,"edge-x-5"),Qt.addClass(t,"edge-x-4")):Qt.hasClass(t,"edge-x-6")?(Qt.removeClass(t,"edge-x-6"),Qt.addClass(t,"edge-x-5")):Qt.addClass(t,"edge-x-0")}if("+"===i)if(Qt.hasClass(t,"edge-x--1"))Qt.removeClass(t,"edge-x--1"),Qt.addClass(t,"edge-x--0-75");else if(Qt.hasClass(t,"edge-x--0-75"))Qt.removeClass(t,"edge-x--0-75"),Qt.addClass(t,"edge-x--0-5");else if(Qt.hasClass(t,"edge-x--0-5"))Qt.removeClass(t,"edge-x--0-5"),Qt.addClass(t,"edge-x--0-25");else if(Qt.hasClass(t,"edge-x--0-25"))Qt.removeClass(t,"edge-x--0-25"),Qt.addClass(t,"edge-x-0");else if(Qt.hasClass(t,"edge-x-0"))Qt.removeClass(t,"edge-x-0"),Qt.addClass(t,"edge-x-0-25");else if(Qt.hasClass(t,"edge-x-0-25"))Qt.removeClass(t,"edge-x-0-25"),Qt.addClass(t,"edge-x-0-5");else if(Qt.hasClass(t,"edge-x-0-5"))Qt.removeClass(t,"edge-x-0-5"),Qt.addClass(t,"edge-x-0-75");else if(Qt.hasClass(t,"edge-x-0-75"))Qt.removeClass(t,"edge-x-0-75"),Qt.addClass(t,"edge-x-1");else if(Qt.hasClass(t,"edge-x-1"))Qt.removeClass(t,"edge-x-1"),Qt.addClass(t,"edge-x-2");else if(Qt.hasClass(t,"edge-x-2"))Qt.removeClass(t,"edge-x-2"),Qt.addClass(t,"edge-x-3");else if(Qt.hasClass(t,"edge-x-3"))Qt.removeClass(t,"edge-x-3"),Qt.addClass(t,"edge-x-4");else if(Qt.hasClass(t,"edge-x-4"))Qt.removeClass(t,"edge-x-4"),Qt.addClass(t,"edge-x-5");else if(Qt.hasClass(t,"edge-x-5"))Qt.removeClass(t,"edge-x-5"),Qt.addClass(t,"edge-x-6");else{if(Qt.hasClass(t,"edge-x-6"))return!1;Qt.addClass(t,"edge-x-0")}""===i&&(Qt.removeClass(t,"edge-x--1"),Qt.removeClass(t,"edge-x--0-75"),Qt.removeClass(t,"edge-x--0-5"),Qt.removeClass(t,"edge-x--0-25"),Qt.removeClass(t,"edge-x-0"),Qt.removeClass(t,"edge-x-0-25"),Qt.removeClass(t,"edge-x-0-5"),Qt.removeClass(t,"edge-x-0-75"),Qt.removeClass(t,"edge-x-1"),Qt.removeClass(t,"edge-x-2"),Qt.removeClass(t,"edge-x-3"),Qt.removeClass(t,"edge-x-4"),Qt.removeClass(t,"edge-x-5"),Qt.removeClass(t,"edge-x-6")),this.builder.settings.onChange()}))}));s.querySelectorAll(".cmd-box-content-edge-y").forEach((e=>{e.addEventListener("click",(()=>{let t=this.builder.activeBox,i=t.querySelector(".is-box-centered");i||(i=t),this.builder.editor.saveForUndo();let n=e.getAttribute("data-value");if("-"===n){if(Qt.hasClass(i,"edge-y--5"))return!1;Qt.hasClass(i,"edge-y--4")?(Qt.removeClass(i,"edge-y--4"),Qt.addClass(i,"edge-y--5")):Qt.hasClass(i,"edge-y--3")?(Qt.removeClass(i,"edge-y--3"),Qt.addClass(i,"edge-y--4")):Qt.hasClass(i,"edge-y--2")?(Qt.removeClass(i,"edge-y--2"),Qt.addClass(i,"edge-y--3")):Qt.hasClass(i,"edge-y--1")?(Qt.removeClass(i,"edge-y--1"),Qt.addClass(i,"edge-y--2")):Qt.hasClass(i,"edge-y-0")?(Qt.removeClass(i,"edge-y-0"),Qt.addClass(i,"edge-y--1")):Qt.hasClass(i,"edge-y-0-25")?(Qt.removeClass(i,"edge-y-0-25"),Qt.addClass(i,"edge-y-0")):Qt.hasClass(i,"edge-y-0-5")?(Qt.removeClass(i,"edge-y-0-5"),Qt.addClass(i,"edge-y-0-25")):Qt.hasClass(i,"edge-y-0-75")?(Qt.removeClass(i,"edge-y-0-75"),Qt.addClass(i,"edge-y-0-5")):Qt.hasClass(i,"edge-y-1")?(Qt.removeClass(i,"edge-y-1"),Qt.addClass(i,"edge-y-0-75")):Qt.hasClass(i,"edge-y-2")?(Qt.removeClass(i,"edge-y-2"),Qt.addClass(i,"edge-y-1")):Qt.hasClass(i,"edge-y-3")?(Qt.removeClass(i,"edge-y-3"),Qt.addClass(i,"edge-y-2")):Qt.hasClass(i,"edge-y-4")?(Qt.removeClass(i,"edge-y-4"),Qt.addClass(i,"edge-y-3")):Qt.hasClass(i,"edge-y-5")?(Qt.removeClass(i,"edge-y-5"),Qt.addClass(i,"edge-y-4")):Qt.hasClass(i,"edge-y-6")?(Qt.removeClass(i,"edge-y-6"),Qt.addClass(i,"edge-y-5")):Qt.hasClass(i,"edge-y-7")?(Qt.removeClass(i,"edge-y-7"),Qt.addClass(i,"edge-y-6")):Qt.hasClass(i,"edge-y-8")?(Qt.removeClass(i,"edge-y-8"),Qt.addClass(i,"edge-y-7")):Qt.addClass(i,"edge-y-0")}if("+"==n)if(Qt.hasClass(i,"edge-y--5"))Qt.removeClass(i,"edge-y--5"),Qt.addClass(i,"edge-y--4");else if(Qt.hasClass(i,"edge-y--4"))Qt.removeClass(i,"edge-y--4"),Qt.addClass(i,"edge-y--3");else if(Qt.hasClass(i,"edge-y--3"))Qt.removeClass(i,"edge-y--3"),Qt.addClass(i,"edge-y--2");else if(Qt.hasClass(i,"edge-y--2"))Qt.removeClass(i,"edge-y--2"),Qt.addClass(i,"edge-y--1");else if(Qt.hasClass(i,"edge-y--1"))Qt.removeClass(i,"edge-y--1"),Qt.addClass(i,"edge-y-0");else if(Qt.hasClass(i,"edge-y-0"))Qt.removeClass(i,"edge-y-0"),Qt.addClass(i,"edge-y-0-25");else if(Qt.hasClass(i,"edge-y-0-25"))Qt.removeClass(i,"edge-y-0-25"),Qt.addClass(i,"edge-y-0-5");else if(Qt.hasClass(i,"edge-y-0-5"))Qt.removeClass(i,"edge-y-0-5"),Qt.addClass(i,"edge-y-0-75");else if(Qt.hasClass(i,"edge-y-0-75"))Qt.removeClass(i,"edge-y-0-75"),Qt.addClass(i,"edge-y-1");else if(Qt.hasClass(i,"edge-y-1"))Qt.removeClass(i,"edge-y-1"),Qt.addClass(i,"edge-y-2");else if(Qt.hasClass(i,"edge-y-2"))Qt.removeClass(i,"edge-y-2"),Qt.addClass(i,"edge-y-3");else if(Qt.hasClass(i,"edge-y-3"))Qt.removeClass(i,"edge-y-3"),Qt.addClass(i,"edge-y-4");else if(Qt.hasClass(i,"edge-y-4"))Qt.removeClass(i,"edge-y-4"),Qt.addClass(i,"edge-y-5");else if(Qt.hasClass(i,"edge-y-5"))Qt.removeClass(i,"edge-y-5"),Qt.addClass(i,"edge-y-6");else if(Qt.hasClass(i,"edge-y-6"))Qt.removeClass(i,"edge-y-6"),Qt.addClass(i,"edge-y-7");else if(Qt.hasClass(i,"edge-y-7"))Qt.removeClass(i,"edge-y-7"),Qt.addClass(i,"edge-y-8");else{if(Qt.hasClass(i,"edge-y-8"))return!1;Qt.addClass(i,"edge-y-0")}""==n&&(Qt.removeClass(i,"edge-y--5"),Qt.removeClass(i,"edge-y--4"),Qt.removeClass(i,"edge-y--3"),Qt.removeClass(i,"edge-y--2"),Qt.removeClass(i,"edge-y--1"),Qt.removeClass(i,"edge-y-0"),Qt.removeClass(i,"edge-y-0-25"),Qt.removeClass(i,"edge-y-0-5"),Qt.removeClass(i,"edge-y-0-75"),Qt.removeClass(i,"edge-y-1"),Qt.removeClass(i,"edge-y-2"),Qt.removeClass(i,"edge-y-3"),Qt.removeClass(i,"edge-y-4"),Qt.removeClass(i,"edge-y-5"),Qt.removeClass(i,"edge-y-6"),Qt.removeClass(i,"edge-y-7"),Qt.removeClass(i,"edge-y-8")),this.builder.settings.onChange()}))}));s.querySelector("#chkOptimizeTextSize").addEventListener("click",(()=>{this.builder.editor.saveForUndo(),this.boxOptimizeTextSize(),this.builder.settings.onChange()}));s.querySelector("#chkParallaxContent").addEventListener("click",(()=>{this.builder.editor.saveForUndo(),this.boxContainerAnim(),this.builder.settings.onChange()}));s.querySelector("#chkFadeContent").addEventListener("click",(()=>{this.builder.editor.saveForUndo(),this.boxContainerAnim(),this.builder.settings.onChange()}));s.querySelector("#chkAutofitContent").addEventListener("click",(()=>{this.builder.editor.saveForUndo(),this.boxContentAutofit(),this.builder.settings.onChange()}));const v=s.querySelector("#inpBoxMinHeight");v.addEventListener("change",(()=>{this.builder.editor.saveForUndo();let e=this.builder.activeBox,t=v.value;e.classList.remove("min-height-20"),e.classList.remove("min-height-25"),e.classList.remove("min-height-30"),e.classList.remove("min-height-40"),e.classList.remove("min-height-50"),e.classList.remove("min-height-60"),e.classList.remove("min-height-70"),e.classList.remove("min-height-75"),e.classList.remove("min-height-80"),e.classList.remove("min-height-90"),e.classList.remove("min-height-100"),""!==t&&e.classList.add(`min-height-${t}`),this.builder.settings.onChange()}));s.querySelector(".cmd-box-pickphoto").addEventListener("click",(()=>{const e=s.querySelector(".is-modal.pickphoto");this.builder.showModal(e);const t=this.builder.settings.photoselect;e.querySelector("iframe").setAttribute("src",t)}));s.querySelector("#chkAnimateBg").addEventListener("click",(()=>{this.builder.editor.saveForUndo(),this.boxAnimateBg(),this.builder.settings.onChange()}));s.querySelector("#chkParallaxBg").addEventListener("click",(()=>{this.builder.editor.saveForUndo(),this.boxParallaxBg(),this.builder.settings.onChange()}));s.querySelector("#chkParallaxBg2").addEventListener("click",(()=>{this.builder.editor.saveForUndo(),this.boxParallaxBg2(),this.builder.settings.onChange()}));const y=s.querySelector("#chkZoomOnHover");y.addEventListener("click",(()=>{this.builder.editor.saveForUndo();let e=this.builder.activeBox;y.checked?e.classList.add("hover-zoom"):e.classList.remove("hover-zoom"),this.builder.settings.onChange()}));s.querySelectorAll(".cmd-box-overlayopacity").forEach((e=>{e.addEventListener("click",(()=>{this.builder.editor.saveForUndo();let t=e.getAttribute("data-value");this.boxOverlayOpacity(t),this.builder.settings.onChange()}))}));const x=s.querySelector(".cmd-box-animate");x.addEventListener("change",(()=>{const e=this.builder.activeBox;this.builder.editor.saveForUndo(),Qt.removeClass(e,"is-animated"),Qt.removeClass(e,"is-pulse"),Qt.removeClass(e,"is-bounceIn"),Qt.removeClass(e,"is-fadeIn"),Qt.removeClass(e,"is-fadeInDown"),Qt.removeClass(e,"is-fadeInLeft"),Qt.removeClass(e,"is-fadeInRight"),Qt.removeClass(e,"is-fadeInUp"),Qt.removeClass(e,"is-flipInX"),Qt.removeClass(e,"is-flipInY"),Qt.removeClass(e,"is-slideInUp"),Qt.removeClass(e,"is-slideInDown"),Qt.removeClass(e,"is-slideInLeft"),Qt.removeClass(e,"is-slideInRight"),Qt.removeClass(e,"is-zoomIn"),Qt.removeClass(e,"animated"),Qt.removeClass(e,"pulse"),Qt.removeClass(e,"bounceIn"),Qt.removeClass(e,"fadeIn"),Qt.removeClass(e,"fadeInDown"),Qt.removeClass(e,"fadeInLeft"),Qt.removeClass(e,"fadeInRight"),Qt.removeClass(e,"fadeInUp"),Qt.removeClass(e,"flipInX"),Qt.removeClass(e,"flipInY"),Qt.removeClass(e,"slideInUp"),Qt.removeClass(e,"slideInDown"),Qt.removeClass(e,"slideInLeft"),Qt.removeClass(e,"slideInRight"),Qt.removeClass(e,"zoomIn"),e.removeAttribute("data-scroll"),Qt.removeClass(e,"is-inview"),""!==x.value?(Qt.addClass(e,"is-animated"),Qt.addClass(e,x.value),e.style.transition="none",e.style.opacity=0,setTimeout((()=>{e.style.transition="",e.style.opacity="",e.setAttribute("data-scroll",""),this.builder.settings.onChange(),this.builder.settings.onRender()}),30)):(this.builder.settings.onChange(),this.builder.settings.onRender())}));s.querySelector(".cmd-box-animate-test").addEventListener("click",(()=>{const e=this.builder.activeBox;Qt.removeClass(e,"animated"),Qt.removeClass(e,"pulse"),Qt.removeClass(e,"bounceIn"),Qt.removeClass(e,"fadeIn"),Qt.removeClass(e,"fadeInDown"),Qt.removeClass(e,"fadeInLeft"),Qt.removeClass(e,"fadeInRight"),Qt.removeClass(e,"fadeInUp"),Qt.removeClass(e,"flipInX"),Qt.removeClass(e,"flipInY"),Qt.removeClass(e,"slideInUp"),Qt.removeClass(e,"slideInDown"),Qt.removeClass(e,"slideInLeft"),Qt.removeClass(e,"slideInRight"),Qt.removeClass(e,"zoomIn"),e.removeAttribute("data-scroll"),Qt.removeClass(e,"is-inview"),""!==x.value?(Qt.addClass(e,"is-animated"),Qt.addClass(e,x.value),e.style.transition="none",e.style.opacity=0,setTimeout((()=>{e.style.transition="",e.style.opacity="",e.setAttribute("data-scroll",""),this.builder.settings.onChange(),this.builder.settings.onRender()}),30)):(this.builder.settings.onChange(),this.builder.settings.onRender())}));const _=s.querySelector("#chkAnimOnce");_.addEventListener("click",(()=>{const e=this.builder.activeBox;this.builder.editor.saveForUndo(),_.checked?Qt.addClass(e,"once"):Qt.removeClass(e,"once"),this.builder.settings.onChange(),this.builder.settings.onRender()}));const w=s.querySelector(".cmd-box-animatedelay");w.addEventListener("change",(()=>{const e=this.builder.activeBox;this.builder.editor.saveForUndo(),Qt.removeClass(e,"delay-0ms"),Qt.removeClass(e,"delay-100ms"),Qt.removeClass(e,"delay-200ms"),Qt.removeClass(e,"delay-300ms"),Qt.removeClass(e,"delay-400ms"),Qt.removeClass(e,"delay-500ms"),Qt.removeClass(e,"delay-600ms"),Qt.removeClass(e,"delay-700ms"),Qt.removeClass(e,"delay-800ms"),Qt.removeClass(e,"delay-900ms"),Qt.removeClass(e,"delay-1000ms"),Qt.removeClass(e,"delay-1100ms"),Qt.removeClass(e,"delay-1200ms"),Qt.removeClass(e,"delay-1300ms"),Qt.removeClass(e,"delay-1400ms"),Qt.removeClass(e,"delay-1500ms"),Qt.removeClass(e,"delay-1600ms"),Qt.removeClass(e,"delay-1700ms"),Qt.removeClass(e,"delay-1800ms"),Qt.removeClass(e,"delay-1900ms"),Qt.removeClass(e,"delay-2000ms"),Qt.removeClass(e,"delay-2100ms"),Qt.removeClass(e,"delay-2200ms"),Qt.removeClass(e,"delay-2300ms"),Qt.removeClass(e,"delay-2400ms"),Qt.removeClass(e,"delay-2500ms"),Qt.removeClass(e,"delay-2600ms"),Qt.removeClass(e,"delay-2700ms"),Qt.removeClass(e,"delay-2800ms"),Qt.removeClass(e,"delay-2900ms"),Qt.removeClass(e,"delay-3000ms"),""!==w.value&&Qt.addClass(e,w.value),this.builder.settings.onChange()}));const S=s.querySelector(".input-box-bgimage");S&&S.addEventListener("click",(()=>{const e=this.builder.activeBox.querySelector(".is-overlay-bg");let t="";e&&e.style.backgroundImage&&-1!==e.style.backgroundImage.indexOf("url(")&&(t=e.style.backgroundImage.slice(4,-1).replace(/["']/g,"")),this.builder.editor.openImagePicker(t,(e=>{this.boxImage(e);const t=this.builder.activeBox,i=t.querySelector(".is-overlay"),n=t.querySelector(".is-overlay-bg");n.style.filter="",i.style.filter="";s.querySelector(".chk-box-bgimage-grayscale").checked=!1,n.style.backgroundPosition="50% 60%",n.removeAttribute("data-scale"),n.removeAttribute("data-x"),n.removeAttribute("data-y"),n.style.top="",n.style.bottom="",n.style.left="",n.style.right="",n.style.width="",n.style.height="",n.removeAttribute("data-bg-xs"),n.removeAttribute("data-bg-sm"),n.removeAttribute("data-bg-md")}),S)}));const C=s.querySelector(".input-box-bgimageadjust");C&&C.addEventListener("click",(()=>{const e=this.builder.activeBox.querySelector(".is-overlay-bg");this.builder.editor.openImageAdjust(e,C,!0)}));const k=s.querySelector(".chk-box-bgimage-grayscale");k.addEventListener("click",(()=>{const e=this.builder.activeBox,t=e.querySelector(".is-overlay"),i=e.querySelector(".is-overlay-bg");k.checked?(i.style.filter="grayscale(1)",t.style.filter="grayscale(1)"):(i.style.filter&&(i.style.filter=i.style.filter.replace("grayscale(1)","")),t.style.filter&&(t.style.filter=t.style.filter.replace("grayscale(1)",""))),this.builder.onChange()}));const A=s.querySelector("#chkStackBg");A.addEventListener("change",(()=>{const e=this.builder.activeBox;A.checked?(e.classList.add("m-overlay-stack"),e.classList.add("m-dark-text")):(e.classList.remove("m-overlay-stack"),e.classList.remove("m-dark-text")),this.builder.onChange()}));s.querySelector(".cmd-box-addcode").addEventListener("click",(()=>{const e=this.builder.activeBox;this.addCode(e,"code"),this.builder.onChange(),this.edit();let t=e.querySelector(".is-box-tool");t&&(e.querySelector(".is-cover-upload").style.display="block",e.querySelector(".is-box-edit").style.display="inline-block",e.querySelector(".is-module-edit").style.display="inline-block",t.style.width="120px",t.style.left="calc(50% - 60px)")}));s.querySelector(".cmd-box-addtext").addEventListener("click",(()=>{this.addContent(),this.builder.onChange(),this.edit()}));s.querySelector(".cmd-box-removetext").addEventListener("click",(()=>{this.builder.editor.util.confirm(i("Are you sure you want to remove all text/content in this box?"),(e=>{e&&(this.removeContent(),this.edit())}))}));s.querySelector(".cmd-box-removecode").addEventListener("click",(()=>{this.builder.editor.util.confirm(i("Are you sure you want to remove custom code in this box?"),(e=>{if(e){const e=this.builder.activeBox;this.removeCode(),this.edit();let t=e.querySelector(".is-box-tool");t&&(e.querySelector(".is-cover-upload").style.display="block",e.querySelector(".is-box-edit").style.display="inline-block",e.querySelector(".is-module-edit").style.display="none",t.style.width="80px",t.style.left="calc(50% - 40px)")}}))}));const E=s.querySelector(".input-box-bgremove");E&&E.addEventListener("click",(()=>{this.boxImage("")}));const L=this.builder.editor.colorpicker(),q=s.querySelector(".input-box-bgcolor");q.addEventListener("click",(()=>{this.builder.editor.saveForUndo(!0);const e=this.builder.activeBox;let t=q.style.backgroundColor,i=e.querySelector(".is-overlay");L.open((e=>{i.style.backgroundColor=e,i.style.backgroundImage="",q.style.backgroundColor=e,this.builder.onChange()}),t)})),s.querySelector(".input-box-gradient").addEventListener("click",(()=>{const e=this.builder.activeBox;this.builder.editor.saveForUndo(!0);let t=e.querySelector(".is-overlay");this.builder.editor.gradientpicker().open(t,(()=>{this.builder.onChange()}))}));const T=s.querySelector(".input-box-overlaycolor");T.addEventListener("click",(()=>{this.builder.editor.saveForUndo(!0);const e=this.builder.activeBox;let t=e.querySelector(".is-overlay");t||(e.insertAdjacentHTML("afterbegin",'<div class="is-overlay"></div>'),t=e.querySelector(".is-overlay"));let i=t.querySelector(".is-overlay-bg");i||(t.insertAdjacentHTML("beforeend",'<div class="is-overlay-bg"></div>'),i=t.querySelector(".is-overlay-bg"));let n=i.querySelector(".is-overlay-color");n||(i.insertAdjacentHTML("beforeend",`<div class="is-overlay-color ${this.builder.cssClasses.opacity.opacity_5}"></div>`),n=i.querySelector(".is-overlay-color"));let s=n.style.backgroundColor;L.open((e=>{if("none"!==n.style.display&&0!==n.style.opacity||(n.style.display="block",n.style.opacity=.1),""===e){let e=i.querySelector(".is-overlay-color");e&&e.parentNode.removeChild(e)}else{let t=i.querySelector(".is-overlay-color");t||(i.insertAdjacentHTML("beforeend",`<div class="is-overlay-color ${this.builder.cssClasses.opacity.opacity_5}"></div>`),t=i.querySelector(".is-overlay-color")),t.style.backgroundColor=e}return T.style.backgroundColor=e,this.builder.onChange(),!1}),s)}));let M=this.builder.settings.largerImageHandler,O=this.builder.settings.onLargerImageUpload,R=this.builder.settings.onImageSelectClick,I=this.builder.settings.imageselect,B=this.builder.settings.onFileSelectClick,N=this.builder.settings.fileselect;""!==M||O||(s.querySelector(".image-larger5").style.display="none"),R||""!==I||(this.divBoxClick.querySelector(".input-select").style.display="none"),R||""!==I||(this.divBoxGeneral.querySelector(".input-select").style.display="none");const $=s.querySelector(".input-src");try{this.builder.editor.dom.observeElement($,"value",(()=>{this.applyClick()}))}catch(e){}if(this.builder.onOtherSelectClick||""!==this.builder.otherSelect){this.divBoxClick.querySelector(".input-select-other").style.display="flex";let e=this.divBoxClick.querySelector(".input-select-other");e.addEventListener("click",(()=>{this.builder.editor.openOther(this.divBoxClick.querySelector(".input-src"),"all",e)}))}if(R||I||B||N){const e=this.divBoxClick.querySelector(".input-select");e&&e.addEventListener("click",(()=>{this.builder.editor.openAsset(s.querySelector(".input-src"),"media",e)}))}if(R||I){const e=this.divBoxGeneral.querySelector(".input-select");this.builder.editor.renderSelectAsset(e,"image",(e=>{this.boxImage(e);const t=this.builder.activeBox,i=t.querySelector(".is-overlay"),n=t.querySelector(".is-overlay-bg");n.style.filter="",i.style.filter="";s.querySelector(".chk-box-bgimage-grayscale").checked=!1,n.style.backgroundPosition="50% 60%",n.removeAttribute("data-scale"),n.removeAttribute("data-x"),n.removeAttribute("data-y"),n.style.top="",n.style.bottom="",n.style.left="",n.style.right="",n.style.width="",n.style.height="",n.removeAttribute("data-bg-xs"),n.removeAttribute("data-bg-sm"),n.removeAttribute("data-bg-md")}))}let z=s.querySelector("#fileImage5");z.addEventListener("change",(e=>{let t=z;for(;"form"!==t.nodeName.toLowerCase();)t=t.parentNode;let i=t;this.builder.editor.dom.addClass(i,"please-wait"),s.querySelector("#hidRefId5_box").value=this.builder.settings.customval,O?O(e):i.submit(),z.value=""})),$.addEventListener("focus",(()=>{this.builder.editor.saveForUndo(!0)})),$.addEventListener("keyup",(()=>{const e=this.builder.activeBox;""===$.value?(this.builder.editor.dom.removeClass(e,"block-click"),e.removeAttribute("data-modal-url")):(this.builder.editor.dom.addClass(e,"block-click"),e.setAttribute("data-modal-url",$.value)),this.builder.onChange()})),s.querySelector(".cmd-box-testclick").addEventListener("click",(()=>{const e=this.builder.activeBox;this.builder.editor.openMedia(e)}));o.querySelector(".input-ok").addEventListener("click",(()=>{let e=this.builder.activeBox.querySelector(".is-overlay-content[data-module]");this.builder.editor.saveForUndo();const i=t.querySelector("#hidBoxCustomCode"),n=t.querySelector("#txtBoxCustomCode");i.value=n.value,e.setAttribute("data-html",encodeURIComponent(i.value));let s=i.value;s=s.replace(/{id}/g,Qt.uniqueId());let a=document.createRange();e.innerHTML="",e.appendChild(a.createContextualFragment(s)),this.builder.settings.onRender(),this.builder.settings.onChange(),this.builder.hideModal(o)}));l.querySelector(".input-ok").addEventListener("click",(()=>{let e=this.builder.doc.querySelector('[data-module-active="1"]');this.builder.editor.saveForUndo();let i=l.querySelector("iframe");i.contentWindow.construct&&i.contentWindow.construct(),this.builder.editor.saveForUndo();const n=t.querySelector("#hidModuleCode"),s=t.querySelector("#hidModuleSettings");e.setAttribute("data-html",encodeURIComponent(n.value)),e.setAttribute("data-settings",encodeURIComponent(s.value));let o=n.value;o=o.replace(/{id}/g,Qt.uniqueId());let a=document.createRange();e.innerHTML="",e.appendChild(a.createContextualFragment(o)),this.builder.settings.onRender(),this.builder.settings.onChange(),this.builder.hideModal(l)}))}applyClick(){const e=this.builder.activeBox,t=this.divBoxClick.querySelector(".input-src");let i=e.getAttribute("data-modal-url");i||(i=""),i!==t.value&&(this.builder.editor.saveForUndo(),this.builder.editor.dom.addClass(e,"block-click"),e.setAttribute("data-modal-url",t.value),this.builder.onChange())}read(){const e=this.builderStuff.querySelector(".is-modal.editbox"),t=this.builder.activeBox;let i=t.querySelector(".is-overlay");const n=t.querySelector(".is-overlay-bg"),s=t.querySelector(".is-video-bg"),o=t.querySelector(".is-overlay-content"),a=t.querySelector(".is-builder");let l=!1;if(n){this.builder.editor.dom.elementChildren(n).forEach((e=>{Qt.hasClass(e,"is-overlay-color")||(l=!0)}))}if(n?(""==this.builder.settings.photoselect?e.querySelector("#divBoxPickPhoto").style.display="none":e.querySelector("#divBoxPickPhoto").style.display="block",l?(e.querySelector("#chkAnimateBg").parentNode.parentNode.style.display="none",e.querySelector("#chkParallaxBg").parentNode.parentNode.style.display="none"):e.querySelector("#chkAnimateBg").parentNode.parentNode.style.display=""):e.querySelector("#divBoxPickPhoto").style.display="none",this.builder.settings.enableAnimation?e.querySelector("#tabBoxAnimate").style.display="":e.querySelector("#tabBoxAnimate").style.display="none",t.querySelector(".is-container")){t.querySelector(".is-container .is-module")?e.querySelector("#tabBoxContentText").style.display="none":e.querySelector("#tabBoxContentText").style.display="";let i=window.getComputedStyle(t,null).getPropertyValue("display");"table"===i||"table-cell"===i||"flex"===i?(e.querySelector("#tabBoxContentContainer").style.display="",e.querySelector("#divContentSize").style.display=""):(e.querySelector("#tabBoxContentContainer").style.display="none",e.querySelector("#divContentSize").style.display="none")}else e.querySelector("#tabBoxContentText").style.display="none",e.querySelector("#tabBoxContentContainer").style.display="none",e.querySelector("#divContentSize").style.display="none";let r="middle";(Qt.hasClass(t,"is-content-top")||t.querySelector(".is-content-top"))&&(r="top"),(Qt.hasClass(t,"is-content-bottom")||t.querySelector(".is-content-bottom"))&&(r="bottom");let d="center";if(a&&(Qt.hasClass(a,"is-content-left")&&(d="left"),Qt.hasClass(a,"is-content-right")&&(d="right")),e.querySelectorAll(".cmd-box-content-pos").forEach((e=>{Qt.removeClass(e,"on")})),"top"===r&&"left"===d&&Qt.addClass(e.querySelector('.cmd-box-content-pos[data-value="topleft"]'),"on"),"top"===r&&"center"===d&&Qt.addClass(e.querySelector('.cmd-box-content-pos[data-value="topcenter"]'),"on"),"top"===r&&"right"===d&&Qt.addClass(e.querySelector('.cmd-box-content-pos[data-value="topright"]'),"on"),"middle"===r&&"left"===d&&Qt.addClass(e.querySelector('.cmd-box-content-pos[data-value="middleleft"]'),"on"),"middle"===r&&"center"===d&&Qt.addClass(e.querySelector('.cmd-box-content-pos[data-value="middlecenter"]'),"on"),"middle"===r&&"right"===d&&Qt.addClass(e.querySelector('.cmd-box-content-pos[data-value="middleright"]'),"on"),"bottom"===r&&"left"===d&&Qt.addClass(e.querySelector('.cmd-box-content-pos[data-value="bottomleft"]'),"on"),"bottom"===r&&"center"===d&&Qt.addClass(e.querySelector('.cmd-box-content-pos[data-value="bottomcenter"]'),"on"),"bottom"===r&&"right"===d&&Qt.addClass(e.querySelector('.cmd-box-content-pos[data-value="bottomright"]'),"on"),e.querySelector("#divContainerTransparency").style.display="",e.querySelector("#divContainerTextAlign").style.display="",o&&(e.querySelector("#tabBoxContentText").style.display="",t.querySelector(".is-container")||(e.querySelector("#divContainerTransparency").style.display="none",e.querySelector("#divContainerTextAlign").style.display="none")),s?e.querySelector("#divBoxBackgroundImage").style.display="none":(e.querySelector("#divBoxBackgroundImage").style.display="",l&&(e.querySelector("#divBoxBackgroundImage").style.display="none")),n&&(Qt.hasClass(n,"is-scale-animated")?e.querySelector("#chkAnimateBg").checked=!0:e.querySelector("#chkAnimateBg").checked=!1,n.getAttribute("data-top-bottom")||n.getAttribute("data-bottom-top")?e.querySelector("#chkParallaxBg").checked=!0:e.querySelector("#chkParallaxBg").checked=!1,"fixed"===n.style.backgroundAttachment?e.querySelector("#chkParallaxBg2").checked=!0:e.querySelector("#chkParallaxBg2").checked=!1,t.classList.contains("hover-zoom")?e.querySelector("#chkZoomOnHover").checked=!0:e.querySelector("#chkZoomOnHover").checked=!1),Qt.hasClass(t,"is-section")?(e.querySelector("#divBoxSize").style.display="none",e.querySelector("#divBoxMove").style.display="none"):(e.querySelector("#divBoxSize").style.display="block",e.querySelector("#divBoxMove").style.display="block"),e.querySelector("#chkParallaxContent").checked=!1,e.querySelector("#chkFadeContent").checked=!1,a){let t=a.getAttribute("data-bottom-top");t&&(-1!==t.indexOf("translateY")&&(e.querySelector("#chkParallaxContent").checked=!0),-1!==t.indexOf("opacity")&&(e.querySelector("#chkFadeContent").checked=!0))}let c=e.querySelectorAll(".cmd-box-textcolor");if(c.forEach((e=>{Qt.removeClass(e,"on")})),Qt.hasClass(t,"is-dark-text")){const t=e.querySelector('.cmd-box-textcolor[data-value="dark"]');Qt.addClass(t,"on")}else if(Qt.hasClass(t,"is-light-text")){const t=e.querySelector('.cmd-box-textcolor[data-value="light"]');Qt.addClass(t,"on")}if(c=e.querySelectorAll(".cmd-box-textalign"),c.forEach((e=>{Qt.removeClass(e,"on")})),Qt.hasClass(t,"is-align-left")){const t=e.querySelector('.cmd-box-textalign[data-value="left"]');Qt.addClass(t,"on")}else if(Qt.hasClass(t,"is-align-center")){const t=e.querySelector('.cmd-box-textalign[data-value="center"]');Qt.addClass(t,"on")}else if(Qt.hasClass(t,"is-align-right")){const t=e.querySelector('.cmd-box-textalign[data-value="right"]');Qt.addClass(t,"on")}else if(Qt.hasClass(t,"is-align-justify")){const t=e.querySelector('.cmd-box-textalign[data-value="justify"]');Qt.addClass(t,"on")}if(a){if(c=e.querySelectorAll(".cmd-box-parasize"),c.forEach((e=>{Qt.removeClass(e,"on")})),Qt.hasClass(a,"size-16")){const t=e.querySelector('.cmd-box-parasize[data-value="16"]');Qt.addClass(t,"on")}else if(Qt.hasClass(a,"size-17")){const t=e.querySelector('.cmd-box-parasize[data-value="17"]');Qt.addClass(t,"on")}else if(Qt.hasClass(a,"size-18")){const t=e.querySelector('.cmd-box-parasize[data-value="18"]');Qt.addClass(t,"on")}else if(Qt.hasClass(a,"size-19")){const t=e.querySelector('.cmd-box-parasize[data-value="19"]');Qt.addClass(t,"on")}else if(Qt.hasClass(a,"size-20")){const t=e.querySelector('.cmd-box-parasize[data-value="20"]');Qt.addClass(t,"on")}else if(Qt.hasClass(a,"size-21")){const t=e.querySelector('.cmd-box-parasize[data-value="21"]');Qt.addClass(t,"on")}if(c=e.querySelectorAll(".cmd-box-lineheight"),c.forEach((e=>{Qt.removeClass(e,"on")})),Qt.hasClass(a,"leading-none")){const t=e.querySelector('.cmd-box-lineheight[data-value="1"]');Qt.addClass(t,"on")}else if(Qt.hasClass(a,"leading-11")){const t=e.querySelector('.cmd-box-lineheight[data-value="1.1"]');Qt.addClass(t,"on")}else if(Qt.hasClass(a,"leading-12")){const t=e.querySelector('.cmd-box-lineheight[data-value="1.2"]');Qt.addClass(t,"on")}else if(Qt.hasClass(a,"leading-13")){const t=e.querySelector('.cmd-box-lineheight[data-value="1.3"]');Qt.addClass(t,"on")}else if(Qt.hasClass(a,"leading-14")){const t=e.querySelector('.cmd-box-lineheight[data-value="1.4"]');Qt.addClass(t,"on")}else if(Qt.hasClass(a,"leading-15")){const t=e.querySelector('.cmd-box-lineheight[data-value="1.5"]');Qt.addClass(t,"on")}else if(Qt.hasClass(a,"leading-16")){const t=e.querySelector('.cmd-box-lineheight[data-value="1.6"]');Qt.addClass(t,"on")}else if(Qt.hasClass(a,"leading-17")){const t=e.querySelector('.cmd-box-lineheight[data-value="1.7"]');Qt.addClass(t,"on")}else if(Qt.hasClass(a,"leading-18")){const t=e.querySelector('.cmd-box-lineheight[data-value="1.8"]');Qt.addClass(t,"on")}else if(Qt.hasClass(a,"leading-19")){const t=e.querySelector('.cmd-box-lineheight[data-value="1.9"]');Qt.addClass(t,"on")}else if(Qt.hasClass(a,"leading-20")){const t=e.querySelector('.cmd-box-lineheight[data-value="2"]');Qt.addClass(t,"on")}}e.querySelector("#chkOptimizeTextSize").checked=!1,a&&Qt.hasClass(a,"v2")&&(e.querySelector("#chkOptimizeTextSize").checked=!0),e.querySelector("#chkAutofitContent").checked=!1,Qt.hasClass(t,"box-autofit")&&(e.querySelector("#chkAutofitContent").checked=!0);const u=e.querySelector("#inpBoxMinHeight");u.value="",Qt.hasClass(t,"min-height-20")&&(u.value=20),Qt.hasClass(t,"min-height-25")&&(u.value=25),Qt.hasClass(t,"min-height-30")&&(u.value=30),Qt.hasClass(t,"min-height-40")&&(u.value=40),Qt.hasClass(t,"min-height-50")&&(u.value=50),Qt.hasClass(t,"min-height-60")&&(u.value=60),Qt.hasClass(t,"min-height-70")&&(u.value=70),Qt.hasClass(t,"min-height-75")&&(u.value=75),Qt.hasClass(t,"min-height-80")&&(u.value=80),Qt.hasClass(t,"min-height-90")&&(u.value=90),Qt.hasClass(t,"min-height-100")&&(u.value=100),a&&(e.querySelector(".val-box-size").innerHTML="",a.classList.forEach((t=>{if(-1!==t.indexOf("is-content-")&&"is-content-left"!==t&&"is-content-right"!==t){let i=t.replace("is-content-","");e.querySelector(".val-box-size").innerHTML=i}})));const p=e.querySelector(".cmd-box-animate");p.value="",Qt.hasClass(t,"is-pulse")&&(p.value="is-pulse"),Qt.hasClass(t,"is-bounceIn")&&(p.value="is-bounceIn"),Qt.hasClass(t,"is-fadeIn")&&(p.value="is-fadeIn"),Qt.hasClass(t,"is-fadeInDown")&&(p.value="is-fadeInDown"),Qt.hasClass(t,"is-fadeInLeft")&&(p.value="is-fadeInLeft"),Qt.hasClass(t,"is-fadeInRight")&&(p.value="is-fadeInRight"),Qt.hasClass(t,"is-fadeInUp")&&(p.value="is-fadeInUp"),Qt.hasClass(t,"is-flipInX")&&(p.value="is-flipInX"),Qt.hasClass(t,"is-flipInY")&&(p.value="is-flipInY"),Qt.hasClass(t,"is-slideInUp")&&(p.value="is-slideInUp"),Qt.hasClass(t,"is-slideInDown")&&(p.value="is-slideInDown"),Qt.hasClass(t,"is-slideInLeft")&&(p.value="is-slideInLeft"),Qt.hasClass(t,"is-slideInRight")&&(p.value="is-slideInRight"),Qt.hasClass(t,"is-zoomIn")&&(p.value="is-zoomIn");const h=e.querySelector("#chkAnimOnce");Qt.hasClass(t,"once")?h.checked=!0:h.checked=!1;const m=e.querySelector(".cmd-box-animatedelay");Qt.hasClass(t,"delay-0ms")&&(m.value="delay-0ms"),Qt.hasClass(t,"delay-100ms")&&(m.value="delay-100ms"),Qt.hasClass(t,"delay-200ms")&&(m.value="delay-20ms"),Qt.hasClass(t,"delay-300ms")&&(m.value="delay-300ms"),Qt.hasClass(t,"delay-400ms")&&(m.value="delay-400ms"),Qt.hasClass(t,"delay-500ms")&&(m.value="delay-500ms"),Qt.hasClass(t,"delay-600ms")&&(m.value="delay-600ms"),Qt.hasClass(t,"delay-700ms")&&(m.value="delay-700ms"),Qt.hasClass(t,"delay-800ms")&&(m.value="delay-800ms"),Qt.hasClass(t,"delay-900ms")&&(m.value="delay-900ms"),Qt.hasClass(t,"delay-1000ms")&&(m.value="delay-1000ms"),Qt.hasClass(t,"delay-1100ms")&&(m.value="delay-1100ms"),Qt.hasClass(t,"delay-1200ms")&&(m.value="delay-1200ms"),Qt.hasClass(t,"delay-1300ms")&&(m.value="delay-1300ms"),Qt.hasClass(t,"delay-1400ms")&&(m.value="delay-1400ms"),Qt.hasClass(t,"delay-1500ms")&&(m.value="delay-1500ms"),Qt.hasClass(t,"delay-1600ms")&&(m.value="delay-1600ms"),Qt.hasClass(t,"delay-1700ms")&&(m.value="delay-1700ms"),Qt.hasClass(t,"delay-1800ms")&&(m.value="delay-1800ms"),Qt.hasClass(t,"delay-1900ms")&&(m.value="delay-1900ms"),Qt.hasClass(t,"delay-2000ms")&&(m.value="delay-2000ms"),Qt.hasClass(t,"delay-2100ms")&&(m.value="delay-2100ms"),Qt.hasClass(t,"delay-2200ms")&&(m.value="delay-2200ms"),Qt.hasClass(t,"delay-2300ms")&&(m.value="delay-2300ms"),Qt.hasClass(t,"delay-2400ms")&&(m.value="delay-2400ms"),Qt.hasClass(t,"delay-2500ms")&&(m.value="delay-2500ms"),Qt.hasClass(t,"delay-2600ms")&&(m.value="delay-2600ms"),Qt.hasClass(t,"delay-2700ms")&&(m.value="delay-2700ms"),Qt.hasClass(t,"delay-2800ms")&&(m.value="delay-2800ms"),Qt.hasClass(t,"delay-2900ms")&&(m.value="delay-2900ms"),Qt.hasClass(t,"delay-3000ms")&&(m.value="delay-3000ms"),e.querySelector("#tabBoxImage").style.display="none";let g="";n&&n.style.backgroundImage&&-1!==n.style.backgroundImage.indexOf("url(")&&(g=n.style.backgroundImage.slice(4,-1).replace(/["']/g,""),e.querySelector("#tabBoxImage").style.display="inline-block");const b=e.querySelector(".box-bgimage-preview"),f=e.querySelector(".input-box-bgimageadjust"),v=e.querySelector(".label-box-bgimage-grayscale"),y=e.querySelector(".chk-box-bgimage-grayscale"),x=e.querySelector("#divBoxStackBg");f.style.display="none",v.style.display="none";const _=e.querySelector(".input-box-bgremove");if(_.style.display="none",y.checked=!1,x.style.display="none",""!==g){b.innerHTML=`<img src="${g}">`,i&&i.style.filter&&-1!==i.style.filter.indexOf("grayscale")&&(y.checked=!0),n&&n.style.filter&&-1!==n.style.filter.indexOf("grayscale")&&(y.checked=!0,i.style.filter="grayscale(1)",n.style.filter=n.style.filter.replace("grayscale(1)","")),f.style.display="flex",_.style.display="flex",v.style.display="flex",x.style.display="flex";const s=e.querySelector("#chkStackBg");t.classList.contains("m-overlay-stack")?s.checked=!0:s.checked=!1}else b.innerHTML="";const w=t.querySelector(".is-overlay-color"),S=e.querySelector(".input-box-overlaycolor");S.style.backgroundColor=w?w.style.backgroundColor:"transparent";const C=e.querySelector(".input-src");g=t.getAttribute("data-modal-url"),C.value=""!==g?g:"","none"===e.querySelector("#divBoxSize").style.display&&"none"===e.querySelector("#divBoxBackgroundColor").style.display&&"none"===e.querySelector("#divBoxBackgroundImage").style.display&&"none"===e.querySelector("#tabBoxContentText").style.display&&"none"===e.querySelector("#tabBoxContentContainer").style.display&&"none"===e.querySelector("#tabBoxImage").style.display&&"none"===e.querySelector("#tabBoxAnimate").style.display&&"none"===e.querySelector("#tabBoxCustomHtml").style.display?e.querySelector("#divNoBoxSettings").style.display="block":e.querySelector("#divNoBoxSettings").style.display="none",i||(t.insertAdjacentHTML("afterbegin",'<div class="is-overlay"></div>'),i=t.querySelector(".is-overlay")),Qt.hasClass(t,"is-bg-light")&&(Qt.removeClass(t,"is-bg-light"),i.style.backgroundColor||(i.style.backgroundColor="rgb(255, 255, 255)")),Qt.hasClass(t,"is-bg-dark")&&(Qt.removeClass(t,"is-bg-dark"),i.style.backgroundColor||(i.style.backgroundColor="rgb(17, 17, 17)")),Qt.hasClass(t,"is-bg-grey")&&(Qt.removeClass(t,"is-bg-grey"),i.style.backgroundColor||(i.style.backgroundColor="rgb(238, 239, 240)"));let k=e.querySelector(".input-box-bgcolor"),A=i.style.backgroundColor;A?k.style.backgroundColor=A:t.style.backgroundColor?(A=window.getComputedStyle(t,null).getPropertyValue("background-color"),"rgba(0, 0, 0, 0)"===A&&(A=""),k.style.backgroundColor=A):k.style.backgroundColor="";const E=e.querySelector(".cmd-box-addtext"),L=e.querySelector(".cmd-box-removetext");a?(E.style.display="none",L.style.display="flex"):(E.style.display="flex",L.style.display="none");const q=e.querySelector(".cmd-box-addcode"),T=e.querySelector(".cmd-box-removecode");t.querySelector(".is-overlay-content[data-module]")?(q.style.display="none",T.style.display="flex"):(q.style.display="flex",T.style.display="none");let M=this.builder.activeSection;Qt.hasClass(M,"noedit")&&(E.style.display="none");let O=e.querySelectorAll(".cmd-content-height"),R=e.querySelector(".div-content-justify");O.forEach((e=>{Qt.removeClass(e,"on")})),e.querySelectorAll(".cmd-content-justify").forEach((e=>{Qt.removeClass(e,"on")})),a&&("100%"===a.style.height||Qt.hasClass(a,"h-full")?(Qt.addClass(e.querySelector('.cmd-content-height[data-value="100"]'),"on"),R.style.display="block",("flex-start"===a.style.justifyContent||Qt.hasClass(a,"justify-start"))&&Qt.addClass(e.querySelector('.cmd-content-justify[data-value="flex-start"]'),"on"),("flex-end"===a.style.justifyContent||Qt.hasClass(a,"justify-end"))&&Qt.addClass(e.querySelector('.cmd-content-justify[data-value="flex-end"]'),"on"),("space-between"===a.style.justifyContent||Qt.hasClass(a,"justify-between"))&&Qt.addClass(e.querySelector('.cmd-content-justify[data-value="space-between"]'),"on")):(Qt.addClass(e.querySelector('.cmd-content-height[data-value=""]'),"on"),R.style.display="none"));e.querySelectorAll(".cmd-box-content-spacing").forEach((e=>{Qt.removeClass(e,"on")})),a&&(a.classList.contains("content-py-0")&&Qt.addClass(e.querySelector('.cmd-box-content-spacing[data-value="0"]'),"on"),a.classList.contains("content-py-10")&&Qt.addClass(e.querySelector('.cmd-box-content-spacing[data-value="10"]'),"on"),a.classList.contains("content-py-20")&&Qt.addClass(e.querySelector('.cmd-box-content-spacing[data-value="20"]'),"on"),a.classList.contains("content-py-30")&&Qt.addClass(e.querySelector('.cmd-box-content-spacing[data-value="30"]'),"on"),a.classList.contains("content-py-40")&&Qt.addClass(e.querySelector('.cmd-box-content-spacing[data-value="40"]'),"on"),a.classList.contains("content-py-50")&&Qt.addClass(e.querySelector('.cmd-box-content-spacing[data-value="50"]'),"on"),a.classList.contains("content-py-60")&&Qt.addClass(e.querySelector('.cmd-box-content-spacing[data-value="60"]'),"on"),a.classList.contains("content-py-70")&&Qt.addClass(e.querySelector('.cmd-box-content-spacing[data-value="70"]'),"on"),a.classList.contains("content-py-80")&&Qt.addClass(e.querySelector('.cmd-box-content-spacing[data-value="80"]'),"on"));e.querySelectorAll(".cmd-box-content-topspacing").forEach((e=>{Qt.removeClass(e,"on")})),a&&(a.classList.contains("content-pt-0")&&Qt.addClass(e.querySelector('.cmd-box-content-topspacing[data-value="0"]'),"on"),a.classList.contains("content-pt-10")&&Qt.addClass(e.querySelector('.cmd-box-content-topspacing[data-value="10"]'),"on"),a.classList.contains("content-pt-20")&&Qt.addClass(e.querySelector('.cmd-box-content-topspacing[data-value="20"]'),"on"),a.classList.contains("content-pt-30")&&Qt.addClass(e.querySelector('.cmd-box-content-topspacing[data-value="30"]'),"on"),a.classList.contains("content-pt-40")&&Qt.addClass(e.querySelector('.cmd-box-content-topspacing[data-value="40"]'),"on"),a.classList.contains("content-pt-50")&&Qt.addClass(e.querySelector('.cmd-box-content-topspacing[data-value="50"]'),"on"),a.classList.contains("content-pt-60")&&Qt.addClass(e.querySelector('.cmd-box-content-topspacing[data-value="60"]'),"on"),a.classList.contains("content-pt-70")&&Qt.addClass(e.querySelector('.cmd-box-content-topspacing[data-value="70"]'),"on"),a.classList.contains("content-pt-80")&&Qt.addClass(e.querySelector('.cmd-box-content-topspacing[data-value="80"]'),"on"));e.querySelectorAll(".cmd-box-content-bottomspacing").forEach((e=>{Qt.removeClass(e,"on")})),a&&(a.classList.contains("content-pb-0")&&Qt.addClass(e.querySelector('.cmd-box-content-bottomspacing[data-value="0"]'),"on"),a.classList.contains("content-pb-10")&&Qt.addClass(e.querySelector('.cmd-box-content-bottomspacing[data-value="10"]'),"on"),a.classList.contains("content-pb-20")&&Qt.addClass(e.querySelector('.cmd-box-content-bottomspacing[data-value="20"]'),"on"),a.classList.contains("content-pb-30")&&Qt.addClass(e.querySelector('.cmd-box-content-bottomspacing[data-value="30"]'),"on"),a.classList.contains("content-pb-40")&&Qt.addClass(e.querySelector('.cmd-box-content-bottomspacing[data-value="40"]'),"on"),a.classList.contains("content-pb-50")&&Qt.addClass(e.querySelector('.cmd-box-content-bottomspacing[data-value="50"]'),"on"),a.classList.contains("content-pb-60")&&Qt.addClass(e.querySelector('.cmd-box-content-bottomspacing[data-value="60"]'),"on"),a.classList.contains("content-pb-70")&&Qt.addClass(e.querySelector('.cmd-box-content-bottomspacing[data-value="70"]'),"on"),a.classList.contains("content-pb-80")&&Qt.addClass(e.querySelector('.cmd-box-content-bottomspacing[data-value="80"]'),"on")),"flex"===e.querySelector("#divBoxImage").style.display&&"none"===e.querySelector("#tabBoxImage").style.display&&e.querySelector("#tabBoxGeneral").click(),"flex"===e.querySelector("#divBoxContentText").style.display&&"none"===e.querySelector("#tabBoxContentText").style.display&&e.querySelector("#tabBoxGeneral").click(),"flex"===e.querySelector("#divBoxContentContainer").style.display&&"none"===e.querySelector("#tabBoxContentContainer").style.display&&e.querySelector("#tabBoxGeneral").click()}removeCode(){const e=this.builder.activeBox.querySelector(".is-overlay-content");e&&e.parentNode.removeChild(e)}addCode(e,t){if(!e)return;let i=e.querySelector(".is-overlay");i||(e.insertAdjacentHTML("afterbegin",'<div class="is-overlay"></div>'),i=e.querySelector(".is-overlay"));const n=e.querySelector(".is-overlay-content");n&&n.parentNode.removeChild(n);const s=e.querySelector(".is-overlay-bg");let o,a;if(s&&s.parentNode.removeChild(s),"code"===t)a="\n                <style>\n                </style>\n                <script id=\"script-{id}\">\n                    var docReady = function(fn) {\n                        var stateCheck = setInterval(function() {\n                            if (document.readyState !== \"complete\") return;\n                            // if (typeof skrollrr === 'undefined') return; // To check if needed library is loaded (you can change it to other library)\n                            // if (typeof skrollrr.lax === 'undefined') return; // To check if certain object is ready (in case needed)\n                            clearInterval(stateCheck);\n                            try {\n                                fn()\n                            } catch (e) {}\n                        }, 1);\n                    };\n                    docReady(function() {\n                        \n                        // Your code here\n                        let section = document.querySelector('#script-{id}').closest('.is-section'); // Get the current section\n                        let box = document.querySelector('#script-{id}').closest('.is-box'); // Get the current box\n                        let container = box.querySelector('.is-container'); // Get the current container\n                        // console.log(section);\n\n                    });\n                <\/script>\n            ",o=`\n            <div class="is-overlay-content" data-module="code" data-module-desc="Custom HTML or Javascript " data-html="${encodeURIComponent(a)}" style="z-index: 1;">\n            </div>\n            `;else if("video"===t){let e=(e=>{let t,i=this.builder.media.videos;if(e)do{t=Math.floor(Math.random()*i.length)}while(i[t]===e);else t=Math.floor(Math.random()*i.length);return this.builder.mediaPath+i[t]})();a=`\n            <video id="{id}" class="is-video-bg" muted loop playsinline autoplay>\n                <source src="${this.builder.mediaPath+this.builder.media.blank_video}" data-default="${e}">\n            </video>\n            <div class="is-overlay-video" style="opacity:0.05"></div>\n            <script>\n            var docReady = function(fn) {\n                var stateCheck = setInterval(function() {\n                    if (document.readyState === "interactive" || document.readyState === "complete") {\n                        clearInterval(stateCheck);\n                        try {\n                            fn()\n                        } catch (e) {}\n                    } \n                }, 1);\n            };\n\n            docReady(function() {\n                \n                let video = document.querySelector('#{id}');\n\n                const changeVideo = (video) => {\n                    if(!video) return;\n                    let currentlyPlaying;\n                    if (video.paused) {\n                        currentlyPlaying = false;\n                    } else {\n                        currentlyPlaying = true;\n                    }\n                    let changed=false;\n                    let source = video.querySelector('source');\n                    let vidDefault = source.getAttribute('data-default');\n                    let vid240 = source.getAttribute('data-240');\n                    let vid360 = source.getAttribute('data-360');\n                    let vid480 = source.getAttribute('data-480');\n                    let vid540 = source.getAttribute('data-540');\n                    let vid720 = source.getAttribute('data-720');\n                    let vid1080 = source.getAttribute('data-1080');\n                    let vid1440 = source.getAttribute('data-1440');\n                    let vid2160 = source.getAttribute('data-2160');\n                    let vW = window.innerWidth;\n                    if(vW<=426) {\n                        if(vid240) {\n                            if(source.getAttribute('src')!==vid240) {\n                                source.setAttribute('src', vid240);changed=true;\n                            } else return;\n                        }\n                        else if(vid360) {\n                            if(source.getAttribute('src')!==vid360) {\n                                source.setAttribute('src', vid360);changed=true;\n                            } else return;\n                        }\n                        else if(vid480) {\n                            if(source.getAttribute('src')!==vid480) {\n                                source.setAttribute('src', vid480);changed=true;\n                            } else return;\n                        }\n                        else if(vid540) {\n                            if(source.getAttribute('src')!==vid540) {\n                                source.setAttribute('src', vid540);changed=true;\n                            } else return;\n                        }\n                        else if(vid720) {\n                            if(source.getAttribute('src')!==vid720) {\n                                source.setAttribute('src', vid720);changed=true;\n                            } else return;\n                        }\n                    } else if (426<vW && vW<=640) {\n                        if(vid360) {\n                            if(source.getAttribute('src')!==vid360) {\n                                source.setAttribute('src', vid360);changed=true;\n                            } else return;\n                        }\n                        else if(vid480) {\n                            if(source.getAttribute('src')!==vid480) {\n                                source.setAttribute('src', vid480);changed=true;\n                            } else return;\n                        }\n                        else if(vid540) {\n                            if(source.getAttribute('src')!==vid540) {\n                                source.setAttribute('src', vid540);changed=true;\n                            } else return;\n                        }\n                        else if(vid720) {\n                            if(source.getAttribute('src')!==vid720) {\n                                source.setAttribute('src', vid720);changed=true;\n                            } else return;\n                        }\n                    } else if (640<vW && vW<=854) {\n                        if(vid480) {\n                            if(source.getAttribute('src')!==vid480) {\n                                source.setAttribute('src', vid480);changed=true;\n                            } else return;\n                        }\n                        else if(vid540) {\n                            if(source.getAttribute('src')!==vid540) {\n                                source.setAttribute('src', vid540);changed=true;\n                            } else return;\n                        }\n                        else if(vid720) {\n                            if(source.getAttribute('src')!==vid720) {\n                                source.setAttribute('src', vid720);changed=true;\n                            } else return;\n                        }\n                    } else if (854<vW && vW<=960) {\n                        if(vid540) {\n                            if(source.getAttribute('src')!==vid540) {\n                                source.setAttribute('src', vid540);changed=true;\n                            } else return;\n                        }\n                        else if(vid720) {\n                            if(source.getAttribute('src')!==vid720) {\n                                source.setAttribute('src', vid720);changed=true;\n                            } else return;\n                        }\n                    } else if (vW>960 && vW<=1280) {\n                        if(vid720) {\n                            if(source.getAttribute('src')!==vid720) {\n                                source.setAttribute('src', vid720);changed=true;\n                            } else return;\n                        }\n                    } else if (1280<vW && vW<=1920) {\n                        if(vid1080) {\n                            if(source.getAttribute('src')!==vid1080) {\n                                source.setAttribute('src', vid1080);changed=true;\n                            } else return;\n                        }\n                    } else if (1920<vW && vW<=2560) {\n                        if(vid1440) {\n                            if(source.getAttribute('src')!==vid1440) {\n                                source.setAttribute('src', vid1440);changed=true;\n                            } else return;\n                        }\n                    } else if (2560<vW) {\n                        if(vid2160) {\n                            if(source.getAttribute('src')!==vid2160) {\n                                source.setAttribute('src', vid2160);changed=true;\n                            } else return;\n                        }\n                        else if(vid1440) {\n                            if(source.getAttribute('src')!==vid1440) {\n                                source.setAttribute('src', vid1440);changed=true;\n                            } else return;\n                        }\n                    }\n                    \n                    let videoLoad = false;\n                    if(changed) {\n                        video.pause();\n                        video.currentTime = 0;\n                        video.load();\n                        videoLoad = true;\n                    } else {\n                        if(source.getAttribute('src')!==vidDefault) {\n                            video.pause();\n                            video.currentTime = 0;\n                            source.setAttribute('src', vidDefault);\n                            video.load();\n                            videoLoad = true;\n                        } \n                    }\n\n                    if(!video) return;\n\n                    if(videoLoad) if(video.autoplay) {\n                        video.pause();\n                        video.currentTime = 0;\n                        // video.play();\n                        let overlay = video.closest('.is-box');\n                        let btnPlay = overlay.querySelector('.video-bg-play');\n                        btnPlay.innerHTML = '<svg class="is-icon-flex"><use xlink:href="#__icon-pause"></use></svg>';\n                        let btnAudio = overlay.querySelector('.video-audio-play');\n                        btnAudio.innerHTML = '<svg class="is-icon-flex"><use xlink:href="#__icon-volume-off"></use></svg>';\n                    }\n\n                    if(videoLoad) if(currentlyPlaying) {\n                        video.play();\n                    }\n                };\n                \n                changeVideo(video);\n\n                let debounce = (func) => {\n                    var timer;\n                    return function(event){\n                        if(timer) clearTimeout(timer);\n                        timer = setTimeout(func,100,event);\n                    };\n                }\n                let viewportWidth = window.innerWidth;\n                window.addEventListener('resize',debounce(function(e){\n                    if (window.innerWidth != viewportWidth) {\n\n                        viewportWidth = window.innerWidth;\n\n                        if(video) changeVideo(video);\n                    }\n                }));\n\n                let overlay = video.closest('.is-box');\n                let btnPlay = overlay.querySelector('.video-bg-play');\n                btnPlay.addEventListener('click', (e)=>{\n                    if (video.paused) {\n                        video.play();\n                        btnPlay.innerHTML = '<svg class="is-icon-flex"><use xlink:href="#__icon-pause"></use></svg>';\n                    } else {\n                        video.pause();\n                        btnPlay.innerHTML = '<svg class="is-icon-flex"><use xlink:href="#__icon-play"></use></svg>';\n                    }\n                    e.preventDefault();\n                    e.stopImmediatePropagation();\n                });\n                let btnAudio = overlay.querySelector('.video-audio-play');\n                btnAudio.addEventListener('click', (e)=>{\n                    if (video.muted) {\n                        video.muted = false;\n                        btnAudio.innerHTML = '<svg class="is-icon-flex"><use xlink:href="#__icon-volume"></use></svg>';\n                    } else {\n                        video.muted = true;\n                        btnAudio.innerHTML = '<svg class="is-icon-flex"><use xlink:href="#__icon-volume-off"></use></svg>';\n                    }\n                    e.preventDefault();\n                    e.stopImmediatePropagation();\n                });\n            });\n            <\/script>\n        \n            `;let t=a.replace(/{id}/g,this.builder.editor.util.makeId());o=`\n            <div class="is-overlay-content content-selectable" data-module="video-bg" data-module-desc="Video Background" data-dialog-width="600px" data-dialog-height="600px" data-html="${encodeURIComponent(a)}" data-settings="${encodeURIComponent(`\n                    [{ "mp4": "${e}", "poster": "", "overlay": 0.05}]\n                    `)}">\n                ${t}\n            </div>\n            `}else if("slider"===t){let e=this.builder.media.slider;a=`\n                <div id="{id}" class="glide cover" style="display:none">\n                    <div data-glide-el="track" class="glide__track">\n                        <ul class="glide__slides">\n                            <li class="glide__slide">\n                                <div><img src="${this.builder.mediaPath+e[0]}" alt=""></div>\n                            </li>\n                            <li class="glide__slide">\n                                <div><img src="${this.builder.mediaPath+e[1]}" alt=""></div>\n                            </li>\n                        </ul>\n                    </div>\n                    <div class="glide__arrows" data-glide-el="controls">\n                        <button class="glide__arrow glide__arrow--left" data-glide-dir="<">\n                            <svg style="width:4.3vw;height:4.3vw;" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg">\n                                <path d="M352 115.4L331.3 96 160 256l171.3 160 20.7-19.3L201.5 256z"></path>\n                            </svg>\n                        </button>\n                        <button class="glide__arrow glide__arrow--right" data-glide-dir=">">\n                            <svg style="width:4.3vw;height:4.3vw;" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg">\n                                <path d="M160 115.4L180.7 96 352 256 180.7 416 160 396.7 310.5 256z"></path>\n                            </svg>\n                        </button>\n                    </div>\n                </div>\n                <script>\n                    var svgDef = '<svg width="0" height="0" style="position:absolute;display:none;">' +\n                        '<defs>' +\n                            '<symbol viewBox="0 0 512 512" id="ion-ios-arrow-left">' +\n                                '<path d="M352 115.4L331.3 96 160 256l171.3 160 20.7-19.3L201.5 256z"></path>' +\n                            '</symbol>' +\n                            '<symbol viewBox="0 0 512 512" id="ion-ios-arrow-right">' +\n                                '<path d="M160 115.4L180.7 96 352 256 180.7 416 160 396.7 310.5 256z"></path>' +\n                            '</symbol>' +\n                        '</defs>' +\n                    '</svg>';\n                    var pre = document.querySelector('#ion-ios-arrow-left');\n                    if(!pre) {\n                        document.body.insertAdjacentHTML('beforeend', svgDef);\n                    }\n                    \n                    var docReady = function(fn) {\n                        var stateCheck = setInterval(function() {\n                            //if (typeof Glide === 'undefined') return;\n                            var waitSlider = false;\n                            if(typeof Glide !== 'undefined') {\n                                if((new Glide).mount) {\n                                    // Do Nothing \n                                }  else {\n                                    waitSlider = true;\n                                }\n                            } else {\n                                waitSlider = true;\n                            }\n                            if(waitSlider) return;\n                            if (typeof skrollrr === 'undefined') return;\n                            if (typeof skrollrr.lax === 'undefined') return;\n\n                            clearInterval(stateCheck);\n                            try {\n                                fn();\n                            } catch (e) {}\n                        }, 1);\n                    };\n                    docReady(function() {\n                        const glideSlide = document.querySelector("#{id}");\n                        if(!glideSlide) return;\n                        glideSlide.style.display="";\n\n                        var _{id} = new Glide("#{id}", {\n                            type: "carousel",\n                            autoplay: 3000,\n                            animationDuration: 1000,\n                            gap: 0,\n                            perView: 1,\n                            hoverpause: false,\n                            arrow: true,\n                            dots: false,\n                            breakpoints: {\n                                970: {\n                                    perView: 1,\n                                    gap: 0\n                                }\n                            },\n                        }).mount();\n                    });\n                <\/script>\n            `;let t=a.replace(/{id}/g,this.builder.editor.util.makeId());o=`\n            <div class="is-overlay-content content-selectable" data-dialog-width="1200px" data-dialog-height="900px" data-module="slider-box" data-module-desc="Slider" data-html="${encodeURIComponent(a)}" data-settings="${encodeURIComponent(`\n                {\n                    "type": "carousel",\n                    "autoplay": 3000,\n                    "animationDuration":1000,\n                    "gap":0,\n                    "perView":1,\n                    "hoverpause": false,\n                    "arrow":true,\n                    "dots":false,\n                    "fit":"cover",\n                    "images":\n                        [\n                            {\n                                "src": "${this.builder.mediaPath+e[0]}", \n                                "caption": "", "style": ""\n                            },\n                            {\n                                "src": "${this.builder.mediaPath+e[1]}", \n                                "caption": "", "style": ""\n                            }\n                        ]\n                }\n            `)}">\n            ${t}\n            </div>\n            `}if(o=o.replace(/\\[%IMAGE_PATH%\\]/g,this.builder.designPath),o=o.replace(/%5B%25IMAGE_PATH%25%5D/g,this.builder.designPath),""!==o){let e=document.createRange();if(i.innerHTML="",i.appendChild(e.createContextualFragment(o)),"video"===t){let e=i.querySelector("video");setTimeout((()=>{e.play()}),300)}}}addContent(){if(this.builder.isNewV2()){const e=this.builder.activeBox;if(!e.querySelector(".is-container")){let t="";const i=e.parentNode.querySelector(".is-container");i&&i.classList.forEach((e=>{-1!==e.indexOf("leading-")&&(t+=" "+e),-1!==e.indexOf("size-")&&(t+=" "+e)})),""==t&&(t=" leading-14 size-18");let n=`\n                    <div class="is-container is-content-1000 v2${t}">\n                        \n                    </div>\n                `;e.insertAdjacentHTML("beforeend",n);let s=e.querySelector(".is-container");this.builder.editor.applyBehaviorOn(s)}}else{const e=this.builder.activeBox,t=e.querySelector(".is-overlay"),i=e.querySelector(".is-boxes");i&&i.querySelector(".is-overlay")&&(e.prepend(t),i.parentNode.removeChild(i));let n="";const s=e.parentNode.querySelector(".is-container");s&&s.classList.forEach((e=>{-1!==e.indexOf("leading-")&&(n+=" "+e),-1!==e.indexOf("size-")&&(n+=" "+e)}));let o=`\n                <div class="is-boxes">\n                    <div class="is-box-centered">\n                        <div class="is-container is-content-700 v2${n}">\n                            \n                        </div>\n                    </div>\n                </div>\n            `;Qt.appendHtml(t,o,"afterend");let a=e.querySelector(".is-container");this.builder.editor.applyBehaviorOn(a)}}removeContent(){const e=this.builder.activeBox,t=e.querySelector(".is-container");t&&t.parentNode.removeChild(t);const i=e.querySelector(".is-boxes");i&&i.parentNode.removeChild(i)}close(){this.modalEditBox.style.display=""}edit(){this.builder.wrapperEl.classList.add("hard-select"),this.builder.activeBox&&this.builder.activeBox.classList.add("box-select"),this.builder.activeSection&&this.builder.activeSection.classList.add("section-select");const e=this.modalEditBox;this.targetBox=null,this.builder.sidebar.closeSidebar(),this.read();const t=this.builder.activeBox;t.classList.add("box-active"),setTimeout((()=>{t.classList.remove("box-active")}),1e3),e.style.display="flex",document.body.classList.add("box-modal-open"),e.focus()}async editModule(){const e=this.builder.builderStuff;let t=this.builder.activeBox.querySelector(".is-overlay-content[data-module]");this.builder.wrapperEl.querySelectorAll("[data-module-active]").forEach((e=>{e.removeAttribute("data-module-active")})),t.setAttribute("data-module-active","1");let n=t.getAttribute("data-module");if("code"===n)if(this.builder.settings.htmlSyntaxHighlighting){let i=decodeURIComponent(t.getAttribute("data-html"));i=(0,Zt.html)(i),e.querySelector("#txtBoxCustomCode").value=i;let n=e.querySelectorAll("[data-source-active]");n.forEach((e=>{e.removeAttribute("data-source-active")})),n=e.querySelectorAll("[data-source-ok]"),n.forEach((e=>{e.removeAttribute("data-source-ok")})),n=e.querySelectorAll("[data-source-cancel]"),n.forEach((e=>{e.removeAttribute("data-source-cancel")}));let s=e.querySelector("#txtBoxCustomCode");s.setAttribute("data-source-active","1"),s.setAttribute("data-source-ok",".editcustomcode .input-ok"),s.setAttribute("data-source-cancel",".editcustomcode"),this.builder.editor.viewHtmlNormal()}else{const i=e.querySelector(".is-modal.editcustomcode");this.builder.showModal(i);let n=decodeURIComponent(t.getAttribute("data-html"));n=(0,Zt.html)(n);let s=e.querySelector("#txtBoxCustomCode");s.value=n,s.focus()}else{const e=document.querySelector(".is-modal.editmodule"),s=e.querySelector("iframe");s.style.opacity=0,s.style.transition="opacity 0.1s ease";let o=await fetch(this.builder.settings.modulePath+n+".html");o=await o.text(),o=o.replace(/{assetpath}/g,this.builder.assetPath);let a=s.contentWindow.document;a.open(),a.write(o),a.close(),this.builder.showModal(e,!0),setTimeout((()=>{s.style.opacity=1}),200);let l=t.getAttribute("data-module-desc");const r=e.querySelector(".is-modal-bar");r.querySelector("span").innerHTML=i(l||"Module Settings");let d=t.getAttribute("data-dialog-width");d&&""!=d||(d="900px");let c=t.getAttribute("data-dialog-height");c&&""!=c||(c="570px"),e.childNodes.forEach((e=>{Qt.hasClass(e,"is-modal-overlay")||("slider-box"===n&&(e.style.width="1600px",d="90vw",c="80vh"),"navbar-builder"===n&&(d="700px",c="780px"),"video-bg"===n&&(d="600px",c="635px"),e.style.maxWidth=d,e.style.height=c)}))}}refreshModule(){const e=document.querySelector(".is-modal.editmodule"),t=this.builderStuff;let i=this.builder.doc.querySelector('[data-module-active="1"]'),n=e.querySelector("iframe");n.contentWindow.construct&&n.contentWindow.construct();const s=t.querySelector("#hidModuleCode"),o=t.querySelector("#hidModuleSettings");i.setAttribute("data-html",encodeURIComponent(s.value)),i.setAttribute("data-settings",encodeURIComponent(o.value));let a=document.createRange();i.innerHTML="",i.appendChild(a.createContextualFragment(s.value)),this.builder.settings.onRender(),this.builder.settings.onChange()}boxWidthSmaller(){let e,t;if(e=this.builder.activeBox,e.nextElementSibling){if(Qt.hasClass(e,"is-box-1"))return;if(t=e.nextElementSibling,Qt.hasClass(t,"is-box-12"))return;return this.boxMinus(e),this.boxPlus(t),!1}if(e.previousElementSibling){if(Qt.hasClass(e,"is-box-1"))return;if(t=e.previousElementSibling,Qt.hasClass(t,"is-box-12"))return;return this.boxMinus(e),this.boxPlus(t),!1}}boxWidthLarger(){let e,t;if(e=this.builder.activeBox,e.nextElementSibling){if(t=e.nextElementSibling,Qt.hasClass(t,"is-box-1"))return;if(Qt.hasClass(e,"is-box-12"))return;return this.boxPlus(e),this.boxMinus(t),!1}if(e.previousElementSibling){if(t=e.previousElementSibling,Qt.hasClass(t,"is-box-1"))return;if(Qt.hasClass(e,"is-box-12"))return;return this.boxPlus(e),this.boxMinus(t),!1}}boxPlus(e){for(let t=1;t<12;t++)if(Qt.hasClass(e,"is-box-"+t))return Qt.removeClass(e,"is-box-"+t),void Qt.addClass(e,"is-box-"+(t+1))}boxMinus(e){for(let t=12;t>1;t--)if(Qt.hasClass(e,"is-box-"+t))return Qt.removeClass(e,"is-box-"+t),void Qt.addClass(e,"is-box-"+(t-1))}boxTextColor(e){let t=this.builder.activeBox;"light"==e&&(Qt.removeClass(t,"is-dark-text"),Qt.addClass(t,"is-light-text")),"dark"==e&&(Qt.removeClass(t,"is-light-text"),Qt.addClass(t,"is-dark-text")),""==e&&(Qt.removeClass(t,"is-dark-text"),Qt.removeClass(t,"is-light-text"))}boxTextAlign(e){let t=this.builder.activeBox,i=t.querySelector(".center");Qt.removeClass(i,"center"),t.querySelectorAll(".is-builder > div > div, .is-builder > div > div > *").forEach((e=>{e.closest(".is-section-tool")||e.closest(".is-box-tool")||e.closest(".is-tool")||e.closest(".is-rowadd-tool")||(e.style.textAlign="",Qt.removeClass(e,"left"),Qt.removeClass(e,"right"),Qt.removeClass(e,"center"),Qt.removeClass(e,this.builder.cssClasses.textAlign.left),Qt.removeClass(e,this.builder.cssClasses.textAlign.center),Qt.removeClass(e,this.builder.cssClasses.textAlign.right),Qt.removeClass(e,this.builder.cssClasses.textAlign.justify),this.builder.editor.dom.doFunction(e,(e=>{e.closest(".is-section-tool")||e.closest(".is-box-tool")||e.closest(".is-tool")||e.closest(".is-rowadd-tool")||(e.style.textAlign="",Qt.removeClass(e,"left"),Qt.removeClass(e,"right"),Qt.removeClass(e,"center"),Qt.removeClass(e,this.builder.cssClasses.textAlign.left),Qt.removeClass(e,this.builder.cssClasses.textAlign.center),Qt.removeClass(e,this.builder.cssClasses.textAlign.right),Qt.removeClass(e,this.builder.cssClasses.textAlign.justify))}),!0))})),"right"==e?(Qt.removeClass(t,"is-align-left"),Qt.removeClass(t,"is-align-center"),Qt.removeClass(t,"is-align-justify"),Qt.addClass(t,"is-align-right")):"center"==e?(Qt.removeClass(t,"is-align-left"),Qt.removeClass(t,"is-align-right"),Qt.removeClass(t,"is-align-justify"),Qt.addClass(t,"is-align-center")):"left"==e?(Qt.removeClass(t,"is-align-right"),Qt.removeClass(t,"is-align-center"),Qt.removeClass(t,"is-align-justify"),Qt.addClass(t,"is-align-left")):"justify"==e?(Qt.removeClass(t,"is-align-left"),Qt.removeClass(t,"is-align-right"),Qt.removeClass(t,"is-align-center"),Qt.addClass(t,"is-align-justify")):""==e&&(Qt.removeClass(t,"is-align-left"),Qt.removeClass(t,"is-align-right"),Qt.removeClass(t,"is-align-center"),Qt.removeClass(t,"is-align-justify"))}boxTextOpacity(e){let t=this.builder.activeBox,i=t.querySelector(".is-box-centered");if(i||(i=t),"+"!==e)if("-"!==e)Qt.removeClass(i,"is-opacity-20"),Qt.removeClass(i,"is-opacity-25"),Qt.removeClass(i,"is-opacity-30"),Qt.removeClass(i,"is-opacity-35"),Qt.removeClass(i,"is-opacity-40"),Qt.removeClass(i,"is-opacity-45"),Qt.removeClass(i,"is-opacity-50"),Qt.removeClass(i,"is-opacity-55"),Qt.removeClass(i,"is-opacity-60"),Qt.removeClass(i,"is-opacity-65"),Qt.removeClass(i,"is-opacity-70"),Qt.removeClass(i,"is-opacity-75"),Qt.removeClass(i,"is-opacity-80"),Qt.removeClass(i,"is-opacity-85"),Qt.removeClass(i,"is-opacity-90"),Qt.removeClass(i,"is-opacity-95"),"0.7"==e&&Qt.addClass(i,"is-opacity-70"),"0.75"==e&&Qt.addClass(i,"is-opacity-75"),"0.8"==e&&Qt.addClass(i,"is-opacity-80"),"0.85"==e&&Qt.addClass(i,"is-opacity-85"),"0.90"==e&&Qt.addClass(i,"is-opacity-90"),"0.95"==e&&Qt.addClass(i,"is-opacity-95");else{if(Qt.hasClass(i,"is-opacity-20"))return;Qt.hasClass(i,"is-opacity-25")?(Qt.removeClass(i,"is-opacity-25"),Qt.addClass(i,"is-opacity-20")):Qt.hasClass(i,"is-opacity-30")?(Qt.removeClass(i,"is-opacity-30"),Qt.addClass(i,"is-opacity-25")):Qt.hasClass(i,"is-opacity-35")?(Qt.removeClass(i,"is-opacity-35"),Qt.addClass(i,"is-opacity-30")):Qt.hasClass(i,"is-opacity-40")?(Qt.removeClass(i,"is-opacity-40"),Qt.addClass(i,"is-opacity-35")):Qt.hasClass(i,"is-opacity-45")?(Qt.removeClass(i,"is-opacity-45"),Qt.addClass(i,"is-opacity-40")):Qt.hasClass(i,"is-opacity-50")?(Qt.removeClass(i,"is-opacity-50"),Qt.addClass(i,"is-opacity-45")):Qt.hasClass(i,"is-opacity-55")?(Qt.removeClass(i,"is-opacity-55"),Qt.addClass(i,"is-opacity-50")):Qt.hasClass(i,"is-opacity-60")?(Qt.removeClass(i,"is-opacity-60"),Qt.addClass(i,"is-opacity-55")):Qt.hasClass(i,"is-opacity-65")?(Qt.removeClass(i,"is-opacity-65"),Qt.addClass(i,"is-opacity-60")):Qt.hasClass(i,"is-opacity-70")?(Qt.removeClass(i,"is-opacity-70"),Qt.addClass(i,"is-opacity-65")):Qt.hasClass(i,"is-opacity-75")?(Qt.removeClass(i,"is-opacity-75"),Qt.addClass(i,"is-opacity-70")):Qt.hasClass(i,"is-opacity-80")?(Qt.removeClass(i,"is-opacity-80"),Qt.addClass(i,"is-opacity-75")):Qt.hasClass(i,"is-opacity-85")?(Qt.removeClass(i,"is-opacity-85"),Qt.addClass(i,"is-opacity-80")):Qt.hasClass(i,"is-opacity-90")?(Qt.removeClass(i,"is-opacity-90"),Qt.addClass(i,"is-opacity-85")):Qt.hasClass(i,"is-opacity-95")?(Qt.removeClass(i,"is-opacity-95"),Qt.addClass(i,"is-opacity-90")):Qt.addClass(i,"is-opacity-95")}else Qt.hasClass(i,"is-opacity-20")?(Qt.removeClass(i,"is-opacity-20"),Qt.addClass(i,"is-opacity-25")):Qt.hasClass(i,"is-opacity-25")?(Qt.removeClass(i,"is-opacity-25"),Qt.addClass(i,"is-opacity-30")):Qt.hasClass(i,"is-opacity-30")?(Qt.removeClass(i,"is-opacity-30"),Qt.addClass(i,"is-opacity-35")):Qt.hasClass(i,"is-opacity-35")?(Qt.removeClass(i,"is-opacity-35"),Qt.addClass(i,"is-opacity-40")):Qt.hasClass(i,"is-opacity-40")?(Qt.removeClass(i,"is-opacity-40"),Qt.addClass(i,"is-opacity-45")):Qt.hasClass(i,"is-opacity-45")?(Qt.removeClass(i,"is-opacity-45"),Qt.addClass(i,"is-opacity-50")):Qt.hasClass(i,"is-opacity-50")?(Qt.removeClass(i,"is-opacity-50"),Qt.addClass(i,"is-opacity-55")):Qt.hasClass(i,"is-opacity-55")?(Qt.removeClass(i,"is-opacity-55"),Qt.addClass(i,"is-opacity-60")):Qt.hasClass(i,"is-opacity-60")?(Qt.removeClass(i,"is-opacity-60"),Qt.addClass(i,"is-opacity-65")):Qt.hasClass(i,"is-opacity-65")?(Qt.removeClass(i,"is-opacity-65"),Qt.addClass(i,"is-opacity-70")):Qt.hasClass(i,"is-opacity-70")?(Qt.removeClass(i,"is-opacity-70"),Qt.addClass(i,"is-opacity-75")):Qt.hasClass(i,"is-opacity-75")?(Qt.removeClass(i,"is-opacity-75"),Qt.addClass(i,"is-opacity-80")):Qt.hasClass(i,"is-opacity-80")?(Qt.removeClass(i,"is-opacity-80"),Qt.addClass(i,"is-opacity-85")):Qt.hasClass(i,"is-opacity-85")?(Qt.removeClass(i,"is-opacity-85"),Qt.addClass(i,"is-opacity-90")):Qt.hasClass(i,"is-opacity-90")?(Qt.removeClass(i,"is-opacity-90"),Qt.addClass(i,"is-opacity-95")):Qt.hasClass(i,"is-opacity-95")&&Qt.removeClass(i,"is-opacity-95")}boxAnimateBg(){let e=this.builder.activeBox.querySelector(".is-overlay");if(!e)return;let t=e.querySelector(".is-overlay-bg");t&&(this.modalEditBox.querySelector("#chkAnimateBg").checked?(Qt.addClass(t,"is-scale-animated"),Qt.addClass(t,"is-appeared")):(Qt.removeClass(t,"is-scale-animated"),Qt.removeClass(t,"is-appeared")))}boxParallaxBg(){let e=this.builder.activeBox.querySelector(".is-overlay");if(!e)return;let t=e.querySelector(".is-overlay-bg");if(t)if(this.modalEditBox.querySelector("#chkParallaxBg").checked)t.setAttribute("data-bottom-top","transform:translateY(-70px) scale(1);"),t.setAttribute("data-top-bottom","transform:translateY(50px) scale(1.1)"),this.builder.settings.onRender();else{Qt.removeClass(t,"skrollable"),Qt.removeClass(t,"skrollable-between"),t.removeAttribute("data-bottom-top"),t.removeAttribute("data-top-bottom"),t.style.transform="translateY(0) scale(1)",t.style.transform="",t.style.transition="";let i=t.outerHTML;t.parentNode.removeChild(t),Qt.appendHtml(e,i)}}boxParallaxBg2(){let e=this.builder.activeBox.querySelector(".is-overlay");if(!e)return;let t=e.querySelector(".is-overlay-bg");t&&(this.modalEditBox.querySelector("#chkParallaxBg2").checked?t.style.backgroundAttachment="fixed":t.style.backgroundAttachment="")}boxOptimizeTextSize(){let e=this.builder.activeBox.querySelector(".is-builder");this.modalEditBox.querySelector("#chkOptimizeTextSize").checked?Qt.addClass(e,"v2"):Qt.removeClass(e,"v2")}boxContentAutofit(){let e=this.builder.activeBox;this.modalEditBox.querySelector("#chkAutofitContent").checked?Qt.addClass(e,"box-autofit"):Qt.removeClass(e,"box-autofit")}boxContainerAnim(){let e=this.builder.activeBox,t=this.builder.activeSection,i=e.querySelector(".is-builder"),n="20%",s=parseInt(window.getComputedStyle(t,null).getPropertyValue("min-height"));parseInt(s)<=50&&(n="10%");let o=this.modalEditBox.querySelector("#chkParallaxContent").checked,a=this.modalEditBox.querySelector("#chkFadeContent").checked;i.removeAttribute("data-100-bottom"),i.removeAttribute("data-center"),o&&!a?(i.setAttribute("data-bottom-top",`transform:translateY(-${n})`),i.removeAttribute("data-100-bottom"),i.setAttribute("data-top-bottom",`transform:translateY(${n})`)):a&&!o?(i.setAttribute("data-bottom-top","opacity:0"),i.setAttribute("data-100-bottom","opacity:1"),i.removeAttribute("data-top-bottom")):a&&o?(i.setAttribute("data-bottom-top",`transform:translateY(-${n});opacity:0;`),i.setAttribute("data-100-bottom","opacity:1"),i.setAttribute("data-top-bottom",`transform:translateY(${n})`)):(Qt.removeClass(i,"skrollable"),Qt.removeClass(i,"skrollable-between"),i.removeAttribute("data-bottom-top"),i.removeAttribute("data-100-bottom"),i.removeAttribute("data-top-bottom"),i.style.transform=""),this.builder.settings.onRender()}setElementClass(e,t,i,n){let s;for(let n=0;n<Object.keys(i).length;n++){let o=Object.values(i)[n];if(Qt.hasClass(e,o)){if("+"===t){if(n+1===Object.keys(i).length)return;s=Object.values(i)[n+1];break}if("-"===t){if(n-1<0)return;s=Object.values(i)[n-1];break}}}if(s){for(let t=0;t<Object.keys(i).length;t++){let n=Object.values(i)[t];Qt.removeClass(e,n)}Qt.addClass(e,s)}else Qt.addClass(e,n)}removeElementClass(e,t){for(let i=0;i<Object.keys(t).length;i++){let n=Object.values(t)[i];Qt.removeClass(e,n)}}boxOverlayOpacity(e){let t=this.builder.activeBox.querySelector(".is-overlay");if(!t)return;let i=t.querySelector(".is-overlay-color");if(!i){t.querySelector(".is-overlay-bg").insertAdjacentHTML("afterbegin",`<div class="is-overlay-color ${this.builder.cssClasses.opacity.opacity_5}"></div>`),i=t.querySelector(".is-overlay-color")}if(this.builder.useCssClasses){const t=this.builder.cssClasses.opacity;"0"===e?(this.removeElementClass(i,t),Qt.addClass(i,t.opacity_0)):this.setElementClass(i,e,t,t.opacity_10),i.style.opacity="",i.style.display=""}else{if("+"===e){let e=i.style.opacity;i.style.opacity=e?"0.01"===e?.025:"0.025"===e?.04:"0.04"===e?.055:"0.055"===e?.07:"0.07"===e?.085:"0.085"===e?.1:"0.1"===e?.125:"0.125"===e?.15:"0.15"===e?.2:"0.2"===e?.25:"0.25"===e?.3:"0.3"===e?.35:"0.35"===e?.4:"0.4"===e?.45:"0.45"===e?.5:"0.5"===e?.55:"0.55"===e||"0.6"===e?.6:.15:.1}if("-"===e){let e=i.style.opacity;i.style.opacity=e?"0.01"===e||"0.025"===e?.01:"0.04"===e?.025:"0.055"===e?.04:"0.07"===e?.055:"0.085"===e?.07:"0.1"===e?.085:"0.125"===e?.1:"0.15"===e?.125:"0.2"===e?.15:"0.25"===e?.2:"0.3"===e?.25:"0.35"===e?.3:"0.4"===e?.35:"0.45"===e?.4:"0.5"===e?.45:"0.55"===e?.5:"0.6"===e?.55:.15:.085}"0"===e&&(i.style.opacity="0")}return!1}boxImage(e,t){const i=this.builderStuff,n=i.querySelector(".waiting-indicator"),s=i.querySelector(".waiting-indicator-overlay");if(n&&n.parentNode.removeChild(n),s&&s.parentNode.removeChild(s),t)return void alert(t);let o;this.targetBox?(o=this.targetBox,this.targetBox=null):o=this.builder.activeBox;const a=this.modalEditBox;this.builder.editor.saveForUndo();let l=o.querySelector(".is-overlay");l||(o.insertAdjacentHTML("afterbegin",'<div class="is-overlay"></div>'),l=o.querySelector(".is-overlay")),o.classList.contains("is-section")&&(o.classList.contains("min-height-20")||o.classList.contains("min-height-25")||o.classList.contains("min-height-30")||o.classList.contains("min-height-40")||o.classList.contains("min-height-50")||o.classList.contains("min-height-60")||o.classList.contains("min-height-70")||o.classList.contains("min-height-75")||o.classList.contains("min-height-80")||o.classList.contains("min-height-90")||o.classList.contains("min-height-100")||o.classList.add("min-height-60"));const r=a.querySelector(".box-bgimage-preview"),d=a.querySelector(".input-box-bgimageadjust");d.style.display="none";const c=a.querySelector(".label-box-bgimage-grayscale");c.style.display="none";const u=a.querySelector(".input-box-bgremove");u.style.display="none";const p=a.querySelector("#divBoxStackBg");if(p.style.display="none",""!==e){let t=l.querySelector(".is-overlay-bg");t||(l.insertAdjacentHTML("beforeend",'<div class="is-overlay-bg"></div>'),t=l.querySelector(".is-overlay-bg")),t.style.backgroundImage="url('"+e+"')",t.style.backgroundPosition="50% 60%",r.innerHTML=`<img src="${e}">`,d.style.display="flex",u.style.display="flex",c.style.display="flex",p.style.display="flex",t.style.filter="",l.style.filter="";a.querySelector(".chk-box-bgimage-grayscale").checked=!1,t.style.backgroundSize="",t.style.backgroundPosition="50% 60%",t.removeAttribute("data-scale"),t.removeAttribute("data-x"),t.removeAttribute("data-y"),t.style.top="",t.style.bottom="",t.style.left="",t.style.right="",t.style.width="",t.style.height="",t.removeAttribute("data-bg-xs"),t.removeAttribute("data-bg-sm"),t.removeAttribute("data-bg-md"),a.querySelector("#tabBoxImage").style.display="inline-block"}else{let e=l.querySelector(".is-overlay-bg");e&&e.parentNode.removeChild(e);let t=l.querySelector(".is-overlay-color");t&&t.parentNode.removeChild(t);let i=l.querySelector(".is-overlay-content");i&&""===i.innerHTML&&i.parentNode.removeChild(i),r.innerHTML="",o.classList.remove("m-overlay-stack"),o.classList.remove("m-dark-text");a.querySelector(".input-box-overlaycolor").style.backgroundColor="",a.querySelector("#tabBoxImage").style.display="none"}this.builder.onRender(),this.builder.onChange()}}var ei="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ti={exports:{}};!function(e,t){e.exports=function(){var e="object",t="function",i="undefined",n=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],s=["setStart","setStartBefore","setStartAfter","setEnd","setEndBefore","setEndAfter","collapse","selectNode","selectNodeContents","compareBoundaryPoints","deleteContents","extractContents","cloneContents","insertNode","surroundContents","cloneRange","toString","detach"],o=["boundingHeight","boundingLeft","boundingTop","boundingWidth","htmlText","text"],a=["collapse","compareEndPoints","duplicate","moveToElementText","parentElement","select","setEndPoint","getBoundingClientRect"];function l(i,n){var s=typeof i[n];return s==t||!(s!=e||!i[n])||"unknown"==s}function r(t,i){return!(typeof t[i]!=e||!t[i])}function d(e,t){return typeof e[t]!=i}function c(e){return function(t,i){for(var n=i.length;n--;)if(!e(t,i[n]))return!1;return!0}}var u=c(l),p=c(r),h=c(d);function m(e){return e&&u(e,a)&&h(e,o)}function g(e){return r(e,"body")?e.body:e.getElementsByTagName("body")[0]}var b,f,v={},y=typeof window!=i&&typeof document!=i,x={isHostMethod:l,isHostObject:r,isHostProperty:d,areHostMethods:u,areHostObjects:p,areHostProperties:h,isTextRange:m,getBody:g,forEach:[].forEach?function(e,t){e.forEach(t)}:function(e,t){for(var i=0,n=e.length;i<n;++i)t(e[i],i)}},_={version:"1.3.1",initialized:!1,isBrowser:y,supported:!0,util:x,features:{},modules:v,config:{alertOnFail:!1,alertOnWarn:!1,preferTextRange:!1,autoInitialize:typeof rangyAutoInitialize==i||rangyAutoInitialize}};function w(e){typeof console!=i&&l(console,"log")&&console.log(e)}function S(e,t){y&&t?alert(e):w(e)}function C(e){_.initialized=!0,_.supported=!1,S("Rangy is not supported in this environment. Reason: "+e,_.config.alertOnFail)}function k(e){S("Rangy warning: "+e,_.config.alertOnWarn)}_.fail=C,_.warn=k,{}.hasOwnProperty?(x.extend=b=function(e,t,i){var n,s;for(var o in t)t.hasOwnProperty(o)&&(n=e[o],s=t[o],i&&null!==n&&"object"==typeof n&&null!==s&&"object"==typeof s&&b(n,s,!0),e[o]=s);return t.hasOwnProperty("toString")&&(e.toString=t.toString),e},x.createOptions=function(e,t){var i={};return b(i,t),e&&b(i,e),i}):C("hasOwnProperty not supported"),y||C("Rangy can only run in a browser"),function(){var e;if(y){var t=document.createElement("div");t.appendChild(document.createElement("span"));var i=[].slice;try{1==i.call(t.childNodes,0)[0].nodeType&&(e=function(e){return i.call(e,0)})}catch(e){}}e||(e=function(e){for(var t=[],i=0,n=e.length;i<n;++i)t[i]=e[i];return t}),x.toArray=e}(),y&&(l(document,"addEventListener")?f=function(e,t,i){e.addEventListener(t,i,!1)}:l(document,"attachEvent")?f=function(e,t,i){e.attachEvent("on"+t,i)}:C("Document does not have required addEventListener or attachEvent method"),x.addListener=f);var A=[];function E(e){return e.message||e.description||String(e)}function L(){if(y&&!_.initialized){var e,t=!1,i=!1;l(document,"createRange")&&(e=document.createRange(),u(e,s)&&h(e,n)&&(t=!0));var o=g(document);if(o&&"body"==o.nodeName.toLowerCase())if(o&&l(o,"createTextRange")&&m(e=o.createTextRange())&&(i=!0),t||i){var a;for(var r in _.initialized=!0,_.features={implementsDomRange:t,implementsTextRange:i},v)(a=v[r])instanceof R&&a.init(a,_);for(var d=0,c=A.length;d<c;++d)try{A[d](_)}catch(e){w("Rangy init listener threw an exception. Continuing. Detail: "+E(e))}}else C("Neither Range nor TextRange are available");else C("No body element found")}}function q(e,t,i){i&&(e+=" in module "+i.name),_.warn("DEPRECATED: "+e+" is deprecated. Please use "+t+" instead.")}function T(e,t,i,n){e[t]=function(){return q(t,i,n),e[i].apply(e,x.toArray(arguments))}}x.deprecationNotice=q,x.createAliasForDeprecatedMethod=T,_.init=L,_.addInitListener=function(e){_.initialized?e(_):A.push(e)};var M=[];function O(e){e=e||window,L();for(var t=0,i=M.length;t<i;++t)M[t](e)}function R(e,t,i){this.name=e,this.dependencies=t,this.initialized=!1,this.supported=!1,this.initializer=i}function I(e,t,i){var n=new R(e,t,(function(t){if(!t.initialized){t.initialized=!0;try{i(_,t),t.supported=!0}catch(t){w("Module '"+e+"' failed to load: "+E(t)),t.stack&&w(t.stack)}}}));return v[e]=n,n}function B(){}function N(){}_.addShimListener=function(e){M.push(e)},y&&(_.shim=_.createMissingNativeApi=O,T(_,"createMissingNativeApi","shim")),R.prototype={init:function(){for(var e,t,i=this.dependencies||[],n=0,s=i.length;n<s;++n){if(t=i[n],!((e=v[t])&&e instanceof R))throw new Error("required module '"+t+"' not found");if(e.init(),!e.supported)throw new Error("required module '"+t+"' not supported")}this.initializer(this)},fail:function(e){throw this.initialized=!0,this.supported=!1,new Error(e)},warn:function(e){_.warn("Module "+this.name+": "+e)},deprecationNotice:function(e,t){_.warn("DEPRECATED: "+e+" in module "+this.name+" is deprecated. Please use "+t+" instead")},createError:function(e){return new Error("Error in Rangy "+this.name+" module: "+e)}},_.createModule=function(e){var t,i;2==arguments.length?(t=arguments[1],i=[]):(t=arguments[2],i=arguments[1]);var n=I(e,i,t);_.initialized&&_.supported&&n.init()},_.createCoreModule=function(e,t,i){I(e,t,i)},_.RangePrototype=B,_.rangePrototype=new B,_.selectionPrototype=new N,_.createCoreModule("DomUtil",[],(function(e,t){var i="undefined",n=e.util,s=n.getBody;n.areHostMethods(document,["createDocumentFragment","createElement","createTextNode"])||t.fail("document missing a Node creation method"),n.isHostMethod(document,"getElementsByTagName")||t.fail("document missing getElementsByTagName method");var o=document.createElement("div");n.areHostMethods(o,["insertBefore","appendChild","cloneNode"]||!n.areHostObjects(o,["previousSibling","nextSibling","childNodes","parentNode"]))||t.fail("Incomplete Element implementation"),n.isHostProperty(o,"innerHTML")||t.fail("Element is missing innerHTML property");var a=document.createTextNode("test");n.areHostMethods(a,["splitText","deleteData","insertData","appendData","cloneNode"]||!n.areHostObjects(o,["previousSibling","nextSibling","childNodes","parentNode"])||!n.areHostProperties(a,["data"]))||t.fail("Incomplete Text Node implementation");var l=function(e,t){for(var i=e.length;i--;)if(e[i]===t)return!0;return!1};function r(e){var t;return typeof e.namespaceURI==i||null===(t=e.namespaceURI)||"http://www.w3.org/1999/xhtml"==t}function d(e){var t=e.parentNode;return 1==t.nodeType?t:null}function c(e){for(var t=0;e=e.previousSibling;)++t;return t}function u(e){switch(e.nodeType){case 7:case 10:return 0;case 3:case 8:return e.length;default:return e.childNodes.length}}function p(e,t){var i,n=[];for(i=e;i;i=i.parentNode)n.push(i);for(i=t;i;i=i.parentNode)if(l(n,i))return i;return null}function h(e,t,i){for(var n=i?t:t.parentNode;n;){if(n===e)return!0;n=n.parentNode}return!1}function m(e,t){return h(e,t,!0)}function g(e,t,i){for(var n,s=i?e:e.parentNode;s;){if((n=s.parentNode)===t)return s;s=n}return null}function b(e){var t=e.nodeType;return 3==t||4==t||8==t}function f(e){if(!e)return!1;var t=e.nodeType;return 3==t||8==t}function v(e,t){var i=t.nextSibling,n=t.parentNode;return i?n.insertBefore(e,i):n.appendChild(e),e}function y(e,t,i){var n=e.cloneNode(!1);if(n.deleteData(0,t),e.deleteData(t,e.length-t),v(n,e),i)for(var s,o=0;s=i[o++];)s.node==e&&s.offset>t?(s.node=n,s.offset-=t):s.node==e.parentNode&&s.offset>c(e)&&++s.offset;return n}function x(e){if(9==e.nodeType)return e;if(typeof e.ownerDocument!=i)return e.ownerDocument;if(typeof e.document!=i)return e.document;if(e.parentNode)return x(e.parentNode);throw t.createError("getDocument: no document found for node")}function _(e){var n=x(e);if(typeof n.defaultView!=i)return n.defaultView;if(typeof n.parentWindow!=i)return n.parentWindow;throw t.createError("Cannot get a window object for node")}function w(e){if(typeof e.contentDocument!=i)return e.contentDocument;if(typeof e.contentWindow!=i)return e.contentWindow.document;throw t.createError("getIframeDocument: No Document object found for iframe element")}function S(e){if(typeof e.contentWindow!=i)return e.contentWindow;if(typeof e.contentDocument!=i)return e.contentDocument.defaultView;throw t.createError("getIframeWindow: No Window object found for iframe element")}function C(e){return e&&n.isHostMethod(e,"setTimeout")&&n.isHostObject(e,"document")}function k(e,t,i){var s;if(e?n.isHostProperty(e,"nodeType")?s=1==e.nodeType&&"iframe"==e.tagName.toLowerCase()?w(e):x(e):C(e)&&(s=e.document):s=document,!s)throw t.createError(i+"(): Parameter must be a Window object or DOM node");return s}function A(e){for(var t;t=e.parentNode;)e=t;return e}function E(e,i,n,s){var o,a,l,r,d;if(e==n)return i===s?0:i<s?-1:1;if(o=g(n,e,!0))return i<=c(o)?-1:1;if(o=g(e,n,!0))return c(o)<s?-1:1;if(!(a=p(e,n)))throw new Error("comparePoints error: nodes have no common ancestor");if((l=e===a?a:g(e,a,!0))===(r=n===a?a:g(n,a,!0)))throw t.createError("comparePoints got to case 4 and childA and childB are the same!");for(d=a.firstChild;d;){if(d===l)return-1;if(d===r)return 1;d=d.nextSibling}}var L,q=!1;function T(e){try{return e.parentNode,!1}catch(e){return!0}}function M(e){if(!e)return"[No node]";if(q&&T(e))return"[Broken node]";if(b(e))return'"'+e.data+'"';if(1==e.nodeType){var t=e.id?' id="'+e.id+'"':"";return"<"+e.nodeName+t+">[index:"+c(e)+",length:"+e.childNodes.length+"]["+(e.innerHTML||"[innerHTML not supported]").slice(0,25)+"]"}return e.nodeName}function O(e){for(var t,i=x(e).createDocumentFragment();t=e.firstChild;)i.appendChild(t);return i}function R(e,t,i){var n=s(e),o=e.createElement("div");o.contentEditable=""+!!i,t&&(o.innerHTML=t);var a=n.firstChild;return a?n.insertBefore(o,a):n.appendChild(o),o}function I(e){return e.parentNode.removeChild(e)}function B(e){this.root=e,this._next=e}function N(e){return new B(e)}function $(e,t){this.node=e,this.offset=t}function z(e){this.code=this[e],this.codeName=e,this.message="DOMException: "+this.codeName}!function(){var t=document.createElement("b");t.innerHTML="1";var i=t.firstChild;t.innerHTML="<br />",q=T(i),e.features.crashyTextNodes=q}(),typeof window.getComputedStyle!=i?L=function(e,t){return _(e).getComputedStyle(e,null)[t]}:typeof document.documentElement.currentStyle!=i?L=function(e,t){return e.currentStyle?e.currentStyle[t]:""}:t.fail("No means of obtaining computed style properties found"),B.prototype={_current:null,hasNext:function(){return!!this._next},next:function(){var e,t,i=this._current=this._next;if(this._current)if(e=i.firstChild)this._next=e;else{for(t=null;i!==this.root&&!(t=i.nextSibling);)i=i.parentNode;this._next=t}return this._current},detach:function(){this._current=this._next=this.root=null}},$.prototype={equals:function(e){return!!e&&this.node===e.node&&this.offset==e.offset},inspect:function(){return"[DomPosition("+M(this.node)+":"+this.offset+")]"},toString:function(){return this.inspect()}},z.prototype={INDEX_SIZE_ERR:1,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INVALID_STATE_ERR:11,INVALID_NODE_TYPE_ERR:24},z.prototype.toString=function(){return this.message},e.dom={arrayContains:l,isHtmlNamespace:r,parentElement:d,getNodeIndex:c,getNodeLength:u,getCommonAncestor:p,isAncestorOf:h,isOrIsAncestorOf:m,getClosestAncestorIn:g,isCharacterDataNode:b,isTextOrCommentNode:f,insertAfter:v,splitDataNode:y,getDocument:x,getWindow:_,getIframeWindow:S,getIframeDocument:w,getBody:s,isWindow:C,getContentDocument:k,getRootContainer:A,comparePoints:E,isBrokenNode:T,inspectNode:M,getComputedStyleProperty:L,createTestElement:R,removeNode:I,fragmentFromNodeChildren:O,createIterator:N,DomPosition:$},e.DOMException=z})),_.createCoreModule("DomRange",["DomUtil"],(function(e,t){var i=e.dom,n=e.util,s=i.DomPosition,o=e.DOMException,a=i.isCharacterDataNode,l=i.getNodeIndex,r=i.isOrIsAncestorOf,d=i.getDocument,c=i.comparePoints,u=i.splitDataNode,p=i.getClosestAncestorIn,h=i.getNodeLength,m=i.arrayContains,g=i.getRootContainer,b=e.features.crashyTextNodes,f=i.removeNode;function v(e,t){return 3!=e.nodeType&&(r(e,t.startContainer)||r(e,t.endContainer))}function y(e){return e.document||d(e.startContainer)}function x(e){return g(e.startContainer)}function _(e){return new s(e.parentNode,l(e))}function w(e){return new s(e.parentNode,l(e)+1)}function S(e,t,n){var s=11==e.nodeType?e.firstChild:e;return a(t)?n==t.length?i.insertAfter(e,t):t.parentNode.insertBefore(e,0==n?t:u(t,n)):n>=t.childNodes.length?t.appendChild(e):t.insertBefore(e,t.childNodes[n]),s}function C(e,t,i){if(K(e),K(t),y(t)!=y(e))throw new o("WRONG_DOCUMENT_ERR");var n=c(e.startContainer,e.startOffset,t.endContainer,t.endOffset),s=c(e.endContainer,e.endOffset,t.startContainer,t.startOffset);return i?n<=0&&s>=0:n<0&&s>0}function k(e){for(var t,i,n,s=y(e.range).createDocumentFragment();i=e.next();){if(t=e.isPartiallySelectedSubtree(),i=i.cloneNode(!t),t&&(n=e.getSubtreeIterator(),i.appendChild(k(n)),n.detach()),10==i.nodeType)throw new o("HIERARCHY_REQUEST_ERR");s.appendChild(i)}return s}function A(e,t,n){var s,o,a,l;for(n=n||{stop:!1};a=e.next();)if(e.isPartiallySelectedSubtree()){if(!1===t(a))return void(n.stop=!0);if(A(l=e.getSubtreeIterator(),t,n),l.detach(),n.stop)return}else for(s=i.createIterator(a);o=s.next();)if(!1===t(o))return void(n.stop=!0)}function E(e){for(var t;e.next();)e.isPartiallySelectedSubtree()?(E(t=e.getSubtreeIterator()),t.detach()):e.remove()}function L(e){for(var t,i,n=y(e.range).createDocumentFragment();t=e.next();){if(e.isPartiallySelectedSubtree()?(t=t.cloneNode(!1),i=e.getSubtreeIterator(),t.appendChild(L(i)),i.detach()):e.remove(),10==t.nodeType)throw new o("HIERARCHY_REQUEST_ERR");n.appendChild(t)}return n}function q(e,t,i){var n,s=!(!t||!t.length),o=!!i;s&&(n=new RegExp("^("+t.join("|")+")$"));var l=[];return A(new M(e,!1),(function(t){if((!s||n.test(t.nodeType))&&(!o||i(t))){var r=e.startContainer;if(t!=r||!a(r)||e.startOffset!=r.length){var d=e.endContainer;t==d&&a(d)&&0==e.endOffset||l.push(t)}}})),l}function T(e){return"["+(void 0===e.getName?"Range":e.getName())+"("+i.inspectNode(e.startContainer)+":"+e.startOffset+", "+i.inspectNode(e.endContainer)+":"+e.endOffset+")]"}function M(e,t){if(this.range=e,this.clonePartiallySelectedTextNodes=t,!e.collapsed){this.sc=e.startContainer,this.so=e.startOffset,this.ec=e.endContainer,this.eo=e.endOffset;var i=e.commonAncestorContainer;this.sc===this.ec&&a(this.sc)?(this.isSingleCharacterDataNode=!0,this._first=this._last=this._next=this.sc):(this._first=this._next=this.sc!==i||a(this.sc)?p(this.sc,i,!0):this.sc.childNodes[this.so],this._last=this.ec!==i||a(this.ec)?p(this.ec,i,!0):this.ec.childNodes[this.eo-1])}}M.prototype={_current:null,_next:null,_first:null,_last:null,isSingleCharacterDataNode:!1,reset:function(){this._current=null,this._next=this._first},hasNext:function(){return!!this._next},next:function(){var e=this._current=this._next;return e&&(this._next=e!==this._last?e.nextSibling:null,a(e)&&this.clonePartiallySelectedTextNodes&&(e===this.ec&&(e=e.cloneNode(!0)).deleteData(this.eo,e.length-this.eo),this._current===this.sc&&(e=e.cloneNode(!0)).deleteData(0,this.so))),e},remove:function(){var e,t,i=this._current;!a(i)||i!==this.sc&&i!==this.ec?i.parentNode&&f(i):(e=i===this.sc?this.so:0)!=(t=i===this.ec?this.eo:i.length)&&i.deleteData(e,t-e)},isPartiallySelectedSubtree:function(){return v(this._current,this.range)},getSubtreeIterator:function(){var e;if(this.isSingleCharacterDataNode)(e=this.range.cloneRange()).collapse(!1);else{e=new fe(y(this.range));var t=this._current,i=t,n=0,s=t,o=h(t);r(t,this.sc)&&(i=this.sc,n=this.so),r(t,this.ec)&&(s=this.ec,o=this.eo),be(e,i,n,s,o)}return new M(e,this.clonePartiallySelectedTextNodes)},detach:function(){this.range=this._current=this._next=this._first=this._last=this.sc=this.so=this.ec=this.eo=null}};var O=[1,3,4,5,7,8,10],R=[2,9,11],I=[5,6,10,12],B=[1,3,4,5,7,8,10,11],N=[1,3,4,5,7,8];function $(e){return function(t,i){for(var n,s=i?t:t.parentNode;s;){if(n=s.nodeType,m(e,n))return s;s=s.parentNode}return null}}var z=$([9,11]),P=$(I),H=$([6,10,12]),D=$([1]);function j(e,t){if(H(e,t))throw new o("INVALID_NODE_TYPE_ERR")}function U(e,t){if(!m(t,e.nodeType))throw new o("INVALID_NODE_TYPE_ERR")}function F(e,t){if(t<0||t>(a(e)?e.length:e.childNodes.length))throw new o("INDEX_SIZE_ERR")}function W(e,t){if(z(e,!0)!==z(t,!0))throw new o("WRONG_DOCUMENT_ERR")}function Y(e){if(P(e,!0))throw new o("NO_MODIFICATION_ALLOWED_ERR")}function X(e,t){if(!e)throw new o(t)}function G(e,t){return t<=(a(e)?e.length:e.childNodes.length)}function V(e){return!!e.startContainer&&!!e.endContainer&&!(b&&(i.isBrokenNode(e.startContainer)||i.isBrokenNode(e.endContainer)))&&g(e.startContainer)==g(e.endContainer)&&G(e.startContainer,e.startOffset)&&G(e.endContainer,e.endOffset)}function K(e){if(!V(e))throw new Error("Range error: Range is not valid. This usually happens after DOM mutation. Range: ("+e.inspect()+")")}var Z=document.createElement("style"),Q=!1;try{Z.innerHTML="<b>x</b>",Q=3==Z.firstChild.nodeType}catch(e){}e.features.htmlParsingConforms=Q;var J=Q?function(e){var t=this.startContainer,n=d(t);if(!t)throw new o("INVALID_STATE_ERR");var s=null;return 1==t.nodeType?s=t:a(t)&&(s=i.parentElement(t)),(s=null===s||"HTML"==s.nodeName&&i.isHtmlNamespace(d(s).documentElement)&&i.isHtmlNamespace(s)?n.createElement("body"):s.cloneNode(!1)).innerHTML=e,i.fragmentFromNodeChildren(s)}:function(e){var t=y(this).createElement("body");return t.innerHTML=e,i.fragmentFromNodeChildren(t)};function ee(e,t){K(e);var i=e.startContainer,n=e.startOffset,s=e.endContainer,o=e.endOffset,r=i===s;a(s)&&o>0&&o<s.length&&u(s,o,t),a(i)&&n>0&&n<i.length&&(i=u(i,n,t),r?(o-=n,s=i):s==i.parentNode&&o>=l(i)&&o++,n=0),e.setStartAndEnd(i,n,s,o)}function te(e){K(e);var t=e.commonAncestorContainer.parentNode.cloneNode(!1);return t.appendChild(e.cloneContents()),t.innerHTML}var ie=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],ne=0,se=1,oe=2,ae=3,le=0,re=1,de=2,ce=3;function ue(e){e.START_TO_START=ne,e.START_TO_END=se,e.END_TO_END=oe,e.END_TO_START=ae,e.NODE_BEFORE=le,e.NODE_AFTER=re,e.NODE_BEFORE_AND_AFTER=de,e.NODE_INSIDE=ce}function pe(e){ue(e),ue(e.prototype)}function he(e,t){return function(){K(this);var i,n=this.startContainer,s=this.startOffset,o=this.commonAncestorContainer,a=new M(this,!0);n!==o&&(n=(i=w(p(n,o,!0))).node,s=i.offset),A(a,Y),a.reset();var l=e(a);return a.detach(),t(this,n,s,n,s),l}}function me(t,i){function s(e,t){return function(i){U(i,O),U(g(i),R);var n=(e?_:w)(i);(t?o:r)(this,n.node,n.offset)}}function o(e,t,n){var s=e.endContainer,o=e.endOffset;t===e.startContainer&&n===e.startOffset||(g(t)==g(s)&&1!=c(t,n,s,o)||(s=t,o=n),i(e,t,n,s,o))}function r(e,t,n){var s=e.startContainer,o=e.startOffset;t===e.endContainer&&n===e.endOffset||(g(t)==g(s)&&-1!=c(t,n,s,o)||(s=t,o=n),i(e,s,o,t,n))}var d=function(){};d.prototype=e.rangePrototype,t.prototype=new d,n.extend(t.prototype,{setStart:function(e,t){j(e,!0),F(e,t),o(this,e,t)},setEnd:function(e,t){j(e,!0),F(e,t),r(this,e,t)},setStartAndEnd:function(){var e=arguments,t=e[0],n=e[1],s=t,o=n;switch(e.length){case 3:o=e[2];break;case 4:s=e[2],o=e[3]}j(t,!0),F(t,n),j(s,!0),F(s,o),i(this,t,n,s,o)},setBoundary:function(e,t,i){this["set"+(i?"Start":"End")](e,t)},setStartBefore:s(!0,!0),setStartAfter:s(!1,!0),setEndBefore:s(!0,!1),setEndAfter:s(!1,!1),collapse:function(e){K(this),e?i(this,this.startContainer,this.startOffset,this.startContainer,this.startOffset):i(this,this.endContainer,this.endOffset,this.endContainer,this.endOffset)},selectNodeContents:function(e){j(e,!0),i(this,e,0,e,h(e))},selectNode:function(e){j(e,!1),U(e,O);var t=_(e),n=w(e);i(this,t.node,t.offset,n.node,n.offset)},extractContents:he(L,i),deleteContents:he(E,i),canSurroundContents:function(){K(this),Y(this.startContainer),Y(this.endContainer);var e=new M(this,!0),t=e._first&&v(e._first,this)||e._last&&v(e._last,this);return e.detach(),!t},splitBoundaries:function(){ee(this)},splitBoundariesPreservingPositions:function(e){ee(this,e)},normalizeBoundaries:function(){K(this);var e,t=this.startContainer,n=this.startOffset,s=this.endContainer,o=this.endOffset,r=function(e){var t=e.nextSibling;t&&t.nodeType==e.nodeType&&(s=e,o=e.length,e.appendData(t.data),f(t))},d=function(e){var i=e.previousSibling;if(i&&i.nodeType==e.nodeType){t=e;var a=e.length;if(n=i.length,e.insertData(0,i.data),f(i),t==s)o+=n,s=t;else if(s==e.parentNode){var r=l(e);o==r?(s=e,o=a):o>r&&o--}}},c=!0;if(a(s))o==s.length?r(s):0==o&&(e=s.previousSibling)&&e.nodeType==s.nodeType&&(o=e.length,t==s&&(c=!1),e.appendData(s.data),f(s),s=e);else{if(o>0){var u=s.childNodes[o-1];u&&a(u)&&r(u)}c=!this.collapsed}if(c){if(a(t))0==n?d(t):n==t.length&&(e=t.nextSibling)&&e.nodeType==t.nodeType&&(s==e&&(s=t,o+=t.length),t.appendData(e.data),f(e));else if(n<t.childNodes.length){var p=t.childNodes[n];p&&a(p)&&d(p)}}else t=s,n=o;i(this,t,n,s,o)},collapseToPoint:function(e,t){j(e,!0),F(e,t),this.setStartAndEnd(e,t)},parentElement:function(){return K(this),this.commonAncestorContainer?D(this.commonAncestorContainer,!0):null}}),pe(t)}function ge(e){e.collapsed=e.startContainer===e.endContainer&&e.startOffset===e.endOffset,e.commonAncestorContainer=e.collapsed?e.startContainer:i.getCommonAncestor(e.startContainer,e.endContainer)}function be(e,t,n,s,o){e.startContainer=t,e.startOffset=n,e.endContainer=s,e.endOffset=o,e.document=i.getDocument(t),ge(e)}function fe(e){be(this,e,0,e,0)}n.extend(e.rangePrototype,{compareBoundaryPoints:function(e,t){var i,n,s,o;K(this),W(this.startContainer,t.startContainer);var a=e==ae||e==ne?"start":"end",l=e==se||e==ne?"start":"end";return i=this[a+"Container"],n=this[a+"Offset"],s=t[l+"Container"],o=t[l+"Offset"],c(i,n,s,o)},insertNode:function(e){if(K(this),U(e,B),Y(this.startContainer),r(e,this.startContainer))throw new o("HIERARCHY_REQUEST_ERR");var t=S(e,this.startContainer,this.startOffset);this.setStartBefore(t)},cloneContents:function(){var e,t;if(K(this),this.collapsed)return y(this).createDocumentFragment();if(this.startContainer===this.endContainer&&a(this.startContainer))return(e=this.startContainer.cloneNode(!0)).data=e.data.slice(this.startOffset,this.endOffset),(t=y(this).createDocumentFragment()).appendChild(e),t;var i=new M(this,!0);return e=k(i),i.detach(),e},canSurroundContents:function(){K(this),Y(this.startContainer),Y(this.endContainer);var e=new M(this,!0),t=e._first&&v(e._first,this)||e._last&&v(e._last,this);return e.detach(),!t},surroundContents:function(e){if(U(e,N),!this.canSurroundContents())throw new o("INVALID_STATE_ERR");var t=this.extractContents();if(e.hasChildNodes())for(;e.lastChild;)e.removeChild(e.lastChild);S(e,this.startContainer,this.startOffset),e.appendChild(t),this.selectNode(e)},cloneRange:function(){K(this);for(var e,t=new fe(y(this)),i=ie.length;i--;)t[e=ie[i]]=this[e];return t},toString:function(){K(this);var e=this.startContainer;if(e===this.endContainer&&a(e))return 3==e.nodeType||4==e.nodeType?e.data.slice(this.startOffset,this.endOffset):"";var t=[],i=new M(this,!0);return A(i,(function(e){3!=e.nodeType&&4!=e.nodeType||t.push(e.data)})),i.detach(),t.join("")},compareNode:function(e){K(this);var t=e.parentNode,i=l(e);if(!t)throw new o("NOT_FOUND_ERR");var n=this.comparePoint(t,i),s=this.comparePoint(t,i+1);return n<0?s>0?de:le:s>0?re:ce},comparePoint:function(e,t){return K(this),X(e,"HIERARCHY_REQUEST_ERR"),W(e,this.startContainer),c(e,t,this.startContainer,this.startOffset)<0?-1:c(e,t,this.endContainer,this.endOffset)>0?1:0},createContextualFragment:J,toHtml:function(){return te(this)},intersectsNode:function(e,t){if(K(this),g(e)!=x(this))return!1;var i=e.parentNode,n=l(e);if(!i)return!0;var s=c(i,n,this.endContainer,this.endOffset),o=c(i,n+1,this.startContainer,this.startOffset);return t?s<=0&&o>=0:s<0&&o>0},isPointInRange:function(e,t){return K(this),X(e,"HIERARCHY_REQUEST_ERR"),W(e,this.startContainer),c(e,t,this.startContainer,this.startOffset)>=0&&c(e,t,this.endContainer,this.endOffset)<=0},intersectsRange:function(e){return C(this,e,!1)},intersectsOrTouchesRange:function(e){return C(this,e,!0)},intersection:function(e){if(this.intersectsRange(e)){var t=c(this.startContainer,this.startOffset,e.startContainer,e.startOffset),i=c(this.endContainer,this.endOffset,e.endContainer,e.endOffset),n=this.cloneRange();return-1==t&&n.setStart(e.startContainer,e.startOffset),1==i&&n.setEnd(e.endContainer,e.endOffset),n}return null},union:function(e){if(this.intersectsOrTouchesRange(e)){var t=this.cloneRange();return-1==c(e.startContainer,e.startOffset,this.startContainer,this.startOffset)&&t.setStart(e.startContainer,e.startOffset),1==c(e.endContainer,e.endOffset,this.endContainer,this.endOffset)&&t.setEnd(e.endContainer,e.endOffset),t}throw new o("Ranges do not intersect")},containsNode:function(e,t){return t?this.intersectsNode(e,!1):this.compareNode(e)==ce},containsNodeContents:function(e){return this.comparePoint(e,0)>=0&&this.comparePoint(e,h(e))<=0},containsRange:function(e){var t=this.intersection(e);return null!==t&&e.equals(t)},containsNodeText:function(e){var t=this.cloneRange();t.selectNode(e);var i=t.getNodes([3]);if(i.length>0){t.setStart(i[0],0);var n=i.pop();return t.setEnd(n,n.length),this.containsRange(t)}return this.containsNodeContents(e)},getNodes:function(e,t){return K(this),q(this,e,t)},getDocument:function(){return y(this)},collapseBefore:function(e){this.setEndBefore(e),this.collapse(!1)},collapseAfter:function(e){this.setStartAfter(e),this.collapse(!0)},getBookmark:function(t){var n=y(this),s=e.createRange(n);t=t||i.getBody(n),s.selectNodeContents(t);var o=this.intersection(s),a=0,l=0;return o&&(s.setEnd(o.startContainer,o.startOffset),l=(a=s.toString().length)+o.toString().length),{start:a,end:l,containerNode:t}},moveToBookmark:function(e){var t=e.containerNode,i=0;this.setStart(t,0),this.collapse(!0);for(var n,s,o,a,l=[t],r=!1,d=!1;!d&&(n=l.pop());)if(3==n.nodeType)s=i+n.length,!r&&e.start>=i&&e.start<=s&&(this.setStart(n,e.start-i),r=!0),r&&e.end>=i&&e.end<=s&&(this.setEnd(n,e.end-i),d=!0),i=s;else for(o=(a=n.childNodes).length;o--;)l.push(a[o])},getName:function(){return"DomRange"},equals:function(e){return fe.rangesEqual(this,e)},isValid:function(){return V(this)},inspect:function(){return T(this)},detach:function(){}}),me(fe,be),n.extend(fe,{rangeProperties:ie,RangeIterator:M,copyComparisonConstants:pe,createPrototypeRange:me,inspect:T,toHtml:te,getRangeDocument:y,rangesEqual:function(e,t){return e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset}}),e.DomRange=fe})),_.createCoreModule("WrappedRange",["DomRange"],(function(e,t){var i,n,s=e.dom,o=e.util,a=s.DomPosition,l=e.DomRange,r=s.getBody,d=s.getContentDocument,c=s.isCharacterDataNode;if(e.features.implementsDomRange&&function(){var n,a,c=l.rangeProperties;function u(e){for(var t,i=c.length;i--;)e[t=c[i]]=e.nativeRange[t];e.collapsed=e.startContainer===e.endContainer&&e.startOffset===e.endOffset}function p(e,t,i,n,s){var o=e.startContainer!==t||e.startOffset!=i,a=e.endContainer!==n||e.endOffset!=s,l=!e.equals(e.nativeRange);(o||a||l)&&(e.setEnd(n,s),e.setStart(t,i))}i=function(e){if(!e)throw t.createError("WrappedRange: Range must be specified");this.nativeRange=e,u(this)},l.createPrototypeRange(i,p),(n=i.prototype).selectNode=function(e){this.nativeRange.selectNode(e),u(this)},n.cloneContents=function(){return this.nativeRange.cloneContents()},n.surroundContents=function(e){this.nativeRange.surroundContents(e),u(this)},n.collapse=function(e){this.nativeRange.collapse(e),u(this)},n.cloneRange=function(){return new i(this.nativeRange.cloneRange())},n.refresh=function(){u(this)},n.toString=function(){return this.nativeRange.toString()};var h=document.createTextNode("test");r(document).appendChild(h);var m=document.createRange();m.setStart(h,0),m.setEnd(h,0);try{m.setStart(h,1),n.setStart=function(e,t){this.nativeRange.setStart(e,t),u(this)},n.setEnd=function(e,t){this.nativeRange.setEnd(e,t),u(this)},a=function(e){return function(t){this.nativeRange[e](t),u(this)}}}catch(e){n.setStart=function(e,t){try{this.nativeRange.setStart(e,t)}catch(i){this.nativeRange.setEnd(e,t),this.nativeRange.setStart(e,t)}u(this)},n.setEnd=function(e,t){try{this.nativeRange.setEnd(e,t)}catch(i){this.nativeRange.setStart(e,t),this.nativeRange.setEnd(e,t)}u(this)},a=function(e,t){return function(i){try{this.nativeRange[e](i)}catch(n){this.nativeRange[t](i),this.nativeRange[e](i)}u(this)}}}n.setStartBefore=a("setStartBefore","setEndBefore"),n.setStartAfter=a("setStartAfter","setEndAfter"),n.setEndBefore=a("setEndBefore","setStartBefore"),n.setEndAfter=a("setEndAfter","setStartAfter"),n.selectNodeContents=function(e){this.setStartAndEnd(e,0,s.getNodeLength(e))},m.selectNodeContents(h),m.setEnd(h,3);var g=document.createRange();g.selectNodeContents(h),g.setEnd(h,4),g.setStart(h,2),-1==m.compareBoundaryPoints(m.START_TO_END,g)&&1==m.compareBoundaryPoints(m.END_TO_START,g)?n.compareBoundaryPoints=function(e,t){return e==(t=t.nativeRange||t).START_TO_END?e=t.END_TO_START:e==t.END_TO_START&&(e=t.START_TO_END),this.nativeRange.compareBoundaryPoints(e,t)}:n.compareBoundaryPoints=function(e,t){return this.nativeRange.compareBoundaryPoints(e,t.nativeRange||t)};var b=document.createElement("div");b.innerHTML="123";var f=b.firstChild,v=r(document);v.appendChild(b),m.setStart(f,1),m.setEnd(f,2),m.deleteContents(),"13"==f.data&&(n.deleteContents=function(){this.nativeRange.deleteContents(),u(this)},n.extractContents=function(){var e=this.nativeRange.extractContents();return u(this),e}),v.removeChild(b),v=null,o.isHostMethod(m,"createContextualFragment")&&(n.createContextualFragment=function(e){return this.nativeRange.createContextualFragment(e)}),r(document).removeChild(h),n.getName=function(){return"WrappedRange"},e.WrappedRange=i,e.createNativeRange=function(e){return(e=d(e,t,"createNativeRange")).createRange()}}(),e.features.implementsTextRange){var u=function(e){var t=e.parentElement(),i=e.duplicate();i.collapse(!0);var n=i.parentElement();(i=e.duplicate()).collapse(!1);var o=i.parentElement(),a=n==o?n:s.getCommonAncestor(n,o);return a==t?a:s.getCommonAncestor(t,a)},p=function(e){return 0==e.compareEndPoints("StartToEnd",e)},h=function(e,t,i,n,o){var l=e.duplicate();l.collapse(i);var r=l.parentElement();if(s.isOrIsAncestorOf(t,r)||(r=t),!r.canHaveHTML){var d=new a(r.parentNode,s.getNodeIndex(r));return{boundaryPosition:d,nodeInfo:{nodeIndex:d.offset,containerElement:d.node}}}var u=s.getDocument(r).createElement("span");u.parentNode&&s.removeNode(u);for(var p,h,m,g,b,f=i?"StartToStart":"StartToEnd",v=o&&o.containerElement==r?o.nodeIndex:0,y=r.childNodes.length,x=y,_=x;_==y?r.appendChild(u):r.insertBefore(u,r.childNodes[_]),l.moveToElementText(u),0!=(p=l.compareEndPoints(f,e))&&v!=x;){if(-1==p){if(x==v+1)break;v=_}else x=x==v+1?v:_;_=Math.floor((v+x)/2),r.removeChild(u)}if(b=u.nextSibling,-1==p&&b&&c(b)){var w;if(l.setEndPoint(i?"EndToStart":"EndToEnd",e),/[\r\n]/.test(b.data)){var S=l.duplicate(),C=S.text.replace(/\r\n/g,"\r").length;for(w=S.moveStart("character",C);-1==(p=S.compareEndPoints("StartToEnd",S));)w++,S.moveStart("character",1)}else w=l.text.length;g=new a(b,w)}else h=(n||!i)&&u.previousSibling,g=(m=(n||i)&&u.nextSibling)&&c(m)?new a(m,0):h&&c(h)?new a(h,h.data.length):new a(r,s.getNodeIndex(u));return s.removeNode(u),{boundaryPosition:g,nodeInfo:{nodeIndex:_,containerElement:r}}},m=function(e,t){var i,n,o,a,l=e.offset,d=s.getDocument(e.node),u=r(d).createTextRange(),p=c(e.node);return p?n=(i=e.node).parentNode:(i=l<(a=e.node.childNodes).length?a[l]:null,n=e.node),(o=d.createElement("span")).innerHTML="&#feff;",i?n.insertBefore(o,i):n.appendChild(o),u.moveToElementText(o),u.collapse(!t),n.removeChild(o),p&&u[t?"moveStart":"moveEnd"]("character",l),u};(n=function(e){this.textRange=e,this.refresh()}).prototype=new l(document),n.prototype.refresh=function(){var e,t,i,n=u(this.textRange);p(this.textRange)?t=e=h(this.textRange,n,!0,!0).boundaryPosition:(e=(i=h(this.textRange,n,!0,!1)).boundaryPosition,t=h(this.textRange,n,!1,!1,i.nodeInfo).boundaryPosition),this.setStart(e.node,e.offset),this.setEnd(t.node,t.offset)},n.prototype.getName=function(){return"WrappedTextRange"},l.copyComparisonConstants(n);var g=function(e){if(e.collapsed)return m(new a(e.startContainer,e.startOffset),!0);var t=m(new a(e.startContainer,e.startOffset),!0),i=m(new a(e.endContainer,e.endOffset),!1),n=r(l.getRangeDocument(e)).createTextRange();return n.setEndPoint("StartToStart",t),n.setEndPoint("EndToEnd",i),n};if(n.rangeToTextRange=g,n.prototype.toTextRange=function(){return g(this)},e.WrappedTextRange=n,!e.features.implementsDomRange||e.config.preferTextRange){var b=Function("return this;")();void 0===b.Range&&(b.Range=n),e.createNativeRange=function(e){return e=d(e,t,"createNativeRange"),r(e).createTextRange()},e.WrappedRange=n}}e.createRange=function(i){return i=d(i,t,"createRange"),new e.WrappedRange(e.createNativeRange(i))},e.createRangyRange=function(e){return e=d(e,t,"createRangyRange"),new l(e)},o.createAliasForDeprecatedMethod(e,"createIframeRange","createRange"),o.createAliasForDeprecatedMethod(e,"createIframeRangyRange","createRangyRange"),e.addShimListener((function(t){var i=t.document;void 0===i.createRange&&(i.createRange=function(){return e.createRange(i)}),i=t=null}))})),_.createCoreModule("WrappedSelection",["DomRange","WrappedRange"],(function(e,t){e.config.checkSelectionRanges=!0;var i,n,s="boolean",o="number",a=e.dom,l=e.util,r=l.isHostMethod,d=e.DomRange,c=e.WrappedRange,u=e.DOMException,p=a.DomPosition,h=e.features,m="Control",g=a.getDocument,b=a.getBody,f=d.rangesEqual;function v(e){return"string"==typeof e?/^backward(s)?$/i.test(e):!!e}function y(e,i){if(e){if(a.isWindow(e))return e;if(e instanceof K)return e.win;var n=a.getContentDocument(e,t,i);return a.getWindow(n)}return window}function x(e){return y(e,"getWinSelection").getSelection()}function _(e){return y(e,"getDocSelection").document.selection}function w(e){var t=!1;return e.anchorNode&&(t=1==a.comparePoints(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset)),t}var S=r(window,"getSelection"),C=l.isHostObject(document,"selection");h.implementsWinGetSelection=S,h.implementsDocSelection=C;var k=C&&(!S||e.config.preferTextRange);if(k)i=_,e.isSelectionValid=function(e){var t=y(e,"isSelectionValid").document,i=t.selection;return"None"!=i.type||g(i.createRange().parentElement())==t};else{if(!S)return t.fail("Neither document.selection or window.getSelection() detected."),!1;i=x,e.isSelectionValid=function(){return!0}}e.getNativeSelection=i;var A=i();if(!A)return t.fail("Native selection was null (possibly issue 138?)"),!1;var E=e.createNativeRange(document),L=b(document),q=l.areHostProperties(A,["anchorNode","focusNode","anchorOffset","focusOffset"]);h.selectionHasAnchorAndFocus=q;var T=r(A,"extend");h.selectionHasExtend=T;var M=r(A,"setBaseAndExtent");h.selectionHasSetBaseAndExtent=M;var O=typeof A.rangeCount==o;h.selectionHasRangeCount=O;var R=!1,I=!0,B=T?function(t,i){var n=d.getRangeDocument(i),s=e.createRange(n);s.collapseToPoint(i.endContainer,i.endOffset),t.addRange(U(s)),t.extend(i.startContainer,i.startOffset)}:null;l.areHostMethods(A,["addRange","getRangeAt","removeAllRanges"])&&typeof A.rangeCount==o&&h.implementsDomRange&&function(){var t=window.getSelection();if(t){for(var i=t.rangeCount,n=i>1,s=[],o=w(t),l=0;l<i;++l)s[l]=t.getRangeAt(l);var r=a.createTestElement(document,"",!1),d=r.appendChild(document.createTextNode("   ")),c=document.createRange();if(c.setStart(d,1),c.collapse(!0),t.removeAllRanges(),t.addRange(c),I=1==t.rangeCount,t.removeAllRanges(),!n){var u=window.navigator.appVersion.match(/Chrome\/(.*?) /);if(u&&parseInt(u[1])>=36)R=!1;else{var p=c.cloneRange();c.setStart(d,0),p.setEnd(d,3),p.setStart(d,2),t.addRange(c),t.addRange(p),R=2==t.rangeCount}}for(a.removeNode(r),t.removeAllRanges(),l=0;l<i;++l)0==l&&o?B?B(t,s[l]):(e.warn("Rangy initialization: original selection was backwards but selection has been restored forwards because the browser does not support Selection.extend"),t.addRange(s[l])):t.addRange(s[l])}}(),h.selectionSupportsMultipleRanges=R,h.collapsedNonEditableSelectionsSupported=I;var N,$,z=!1;function P(e,t,i){var n=i?"end":"start",s=i?"start":"end";e.anchorNode=t[n+"Container"],e.anchorOffset=t[n+"Offset"],e.focusNode=t[s+"Container"],e.focusOffset=t[s+"Offset"]}function H(e){var t=e.nativeSelection;e.anchorNode=t.anchorNode,e.anchorOffset=t.anchorOffset,e.focusNode=t.focusNode,e.focusOffset=t.focusOffset}function D(e){e.anchorNode=e.focusNode=null,e.anchorOffset=e.focusOffset=0,e.rangeCount=0,e.isCollapsed=!0,e._ranges.length=0,j(e)}function j(e){e.type=0==e.rangeCount?"None":n(e)?"Caret":"Range"}function U(t){var i;return t instanceof d?((i=e.createNativeRange(t.getDocument())).setEnd(t.endContainer,t.endOffset),i.setStart(t.startContainer,t.startOffset)):t instanceof c?i=t.nativeRange:h.implementsDomRange&&t instanceof a.getWindow(t.startContainer).Range&&(i=t),i}function F(e){if(!e.length||1!=e[0].nodeType)return!1;for(var t=1,i=e.length;t<i;++t)if(!a.isAncestorOf(e[0],e[t]))return!1;return!0}function W(e){var i=e.getNodes();if(!F(i))throw t.createError("getSingleElementFromRange: range "+e.inspect()+" did not consist of a single element");return i[0]}function Y(e){return!!e&&void 0!==e.text}function X(e,t){var i=new c(t);e._ranges=[i],P(e,i,!1),e.rangeCount=1,e.isCollapsed=i.collapsed,j(e)}function G(t){if(t._ranges.length=0,"None"==t.docSelection.type)D(t);else{var i=t.docSelection.createRange();if(Y(i))X(t,i);else{t.rangeCount=i.length;for(var n,s=g(i.item(0)),o=0;o<t.rangeCount;++o)(n=e.createRange(s)).selectNode(i.item(o)),t._ranges.push(n);t.isCollapsed=1==t.rangeCount&&t._ranges[0].collapsed,P(t,t._ranges[t.rangeCount-1],!1),j(t)}}}function V(e,i){for(var n=e.docSelection.createRange(),s=W(i),o=g(n.item(0)),a=b(o).createControlRange(),l=0,r=n.length;l<r;++l)a.add(n.item(l));try{a.add(s)}catch(e){throw t.createError("addRange(): Element within the specified Range could not be added to control selection (does it have layout?)")}a.select(),G(e)}function K(e,t,i){this.nativeSelection=e,this.docSelection=t,this._ranges=[],this.win=i,this.refresh()}function Z(e){e.win=e.anchorNode=e.focusNode=e._ranges=null,e.rangeCount=e.anchorOffset=e.focusOffset=0,e.detached=!0,j(e)}L&&r(L,"createControlRange")&&(N=L.createControlRange(),l.areHostProperties(N,["item","add"])&&(z=!0)),h.implementsControlRange=z,n=q?function(e){return e.anchorNode===e.focusNode&&e.anchorOffset===e.focusOffset}:function(e){return!!e.rangeCount&&e.getRangeAt(e.rangeCount-1).collapsed},r(A,"getRangeAt")?$=function(e,t){try{return e.getRangeAt(t)}catch(e){return null}}:q&&($=function(t){var i=g(t.anchorNode),n=e.createRange(i);return n.setStartAndEnd(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset),n.collapsed!==this.isCollapsed&&n.setStartAndEnd(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset),n}),K.prototype=e.selectionPrototype;var Q=[];function J(e,t){for(var i,n,s=Q.length;s--;)if(n=(i=Q[s]).selection,"deleteAll"==t)Z(n);else if(i.win==e)return"delete"==t?(Q.splice(s,1),!0):n;return"deleteAll"==t&&(Q.length=0),null}var ee=function(e){if(e&&e instanceof K)return e.refresh(),e;var t=J(e=y(e,"getNativeSelection")),n=i(e),s=C?_(e):null;return t?(t.nativeSelection=n,t.docSelection=s,t.refresh()):(t=new K(n,s,e),Q.push({win:e,selection:t})),t};e.getSelection=ee,l.createAliasForDeprecatedMethod(e,"getIframeSelection","getSelection");var te,ie=K.prototype;function ne(e,i){for(var n,s=g(i[0].startContainer),o=b(s).createControlRange(),a=0,l=i.length;a<l;++a){n=W(i[a]);try{o.add(n)}catch(e){throw t.createError("setRanges(): Element within one of the specified Ranges could not be added to control selection (does it have layout?)")}}o.select(),G(e)}if(!k&&q&&l.areHostMethods(A,["removeAllRanges","addRange"])){ie.removeAllRanges=function(){this.nativeSelection.removeAllRanges(),D(this)};var se=function(e,t){B(e.nativeSelection,t),e.refresh()};ie.addRange=O?function(t,i){if(z&&C&&this.docSelection.type==m)V(this,t);else if(v(i)&&T)se(this,t);else{var s;R?s=this.rangeCount:(this.removeAllRanges(),s=0);var o=U(t).cloneRange();try{this.nativeSelection.addRange(o)}catch(e){}if(this.rangeCount=this.nativeSelection.rangeCount,this.rangeCount==s+1){if(e.config.checkSelectionRanges){var a=$(this.nativeSelection,this.rangeCount-1);a&&!f(a,t)&&(t=new c(a))}this._ranges[this.rangeCount-1]=t,P(this,t,oe(this.nativeSelection)),this.isCollapsed=n(this),j(this)}else this.refresh()}}:function(e,t){v(t)&&T?se(this,e):(this.nativeSelection.addRange(U(e)),this.refresh())},ie.setRanges=function(e){if(z&&C&&e.length>1)ne(this,e);else{this.removeAllRanges();for(var t=0,i=e.length;t<i;++t)this.addRange(e[t])}}}else{if(!(r(A,"empty")&&r(E,"select")&&z&&k))return t.fail("No means of selecting a Range or TextRange was found"),!1;ie.removeAllRanges=function(){try{if(this.docSelection.empty(),"None"!=this.docSelection.type){var e;if(this.anchorNode)e=g(this.anchorNode);else if(this.docSelection.type==m){var t=this.docSelection.createRange();t.length&&(e=g(t.item(0)))}e&&(b(e).createTextRange().select(),this.docSelection.empty())}}catch(e){}D(this)},ie.addRange=function(t){this.docSelection.type==m?V(this,t):(e.WrappedTextRange.rangeToTextRange(t).select(),this._ranges[0]=t,this.rangeCount=1,this.isCollapsed=this._ranges[0].collapsed,P(this,t,!1),j(this))},ie.setRanges=function(e){this.removeAllRanges();var t=e.length;t>1?ne(this,e):t&&this.addRange(e[0])}}if(ie.getRangeAt=function(e){if(e<0||e>=this.rangeCount)throw new u("INDEX_SIZE_ERR");return this._ranges[e].cloneRange()},k)te=function(t){var i;e.isSelectionValid(t.win)?i=t.docSelection.createRange():(i=b(t.win.document).createTextRange()).collapse(!0),t.docSelection.type==m?G(t):Y(i)?X(t,i):D(t)};else if(r(A,"getRangeAt")&&typeof A.rangeCount==o)te=function(t){if(z&&C&&t.docSelection.type==m)G(t);else if(t._ranges.length=t.rangeCount=t.nativeSelection.rangeCount,t.rangeCount){for(var i=0,s=t.rangeCount;i<s;++i)t._ranges[i]=new e.WrappedRange(t.nativeSelection.getRangeAt(i));P(t,t._ranges[t.rangeCount-1],oe(t.nativeSelection)),t.isCollapsed=n(t),j(t)}else D(t)};else{if(!q||typeof A.isCollapsed!=s||typeof E.collapsed!=s||!h.implementsDomRange)return t.fail("No means of obtaining a Range or TextRange from the user's selection was found"),!1;te=function(e){var t,i=e.nativeSelection;i.anchorNode?(t=$(i,0),e._ranges=[t],e.rangeCount=1,H(e),e.isCollapsed=n(e),j(e)):D(e)}}ie.refresh=function(e){var t=e?this._ranges.slice(0):null,i=this.anchorNode,n=this.anchorOffset;if(te(this),e){var s=t.length;if(s!=this._ranges.length)return!0;if(this.anchorNode!=i||this.anchorOffset!=n)return!0;for(;s--;)if(!f(t[s],this._ranges[s]))return!0;return!1}};var oe,ae=function(e,t){var i=e.getAllRanges();e.removeAllRanges();for(var n=0,s=i.length;n<s;++n)f(t,i[n])||e.addRange(i[n]);e.rangeCount||D(e)};function le(e,t){if(e.win.document!=g(t))throw new u("WRONG_DOCUMENT_ERR")}function re(e,t){if(t<0||t>(a.isCharacterDataNode(e)?e.length:e.childNodes.length))throw new u("INDEX_SIZE_ERR")}function de(t){return function(i,n){var s;this.rangeCount?(s=this.getRangeAt(0))["set"+(t?"Start":"End")](i,n):(s=e.createRange(this.win.document)).setStartAndEnd(i,n),this.setSingleRange(s,this.isBackward())}}function ce(e){var t=[],i=new p(e.anchorNode,e.anchorOffset),n=new p(e.focusNode,e.focusOffset),s="function"==typeof e.getName?e.getName():"Selection";if(void 0!==e.rangeCount)for(var o=0,a=e.rangeCount;o<a;++o)t[o]=d.inspect(e.getRangeAt(o));return"["+s+"(Ranges: "+t.join(", ")+")(anchor: "+i.inspect()+", focus: "+n.inspect()+"]"}ie.removeRange=z&&C?function(e){if(this.docSelection.type==m){for(var t=this.docSelection.createRange(),i=W(e),n=g(t.item(0)),s=b(n).createControlRange(),o=!1,a=0,l=t.length;a<l;++a)t.item(a)!==i||o?s.add(t.item(a)):o=!0;s.select(),G(this)}else ae(this,e)}:function(e){ae(this,e)},!k&&q&&h.implementsDomRange?(oe=w,ie.isBackward=function(){return oe(this)}):oe=ie.isBackward=function(){return!1},ie.isBackwards=ie.isBackward,ie.toString=function(){for(var e=[],t=0,i=this.rangeCount;t<i;++t)e[t]=""+this._ranges[t];return e.join("")},ie.collapse=function(t,i){le(this,t);var n=e.createRange(t);n.collapseToPoint(t,i),this.setSingleRange(n),this.isCollapsed=!0},ie.collapseToStart=function(){if(!this.rangeCount)throw new u("INVALID_STATE_ERR");var e=this._ranges[0];this.collapse(e.startContainer,e.startOffset)},ie.collapseToEnd=function(){if(!this.rangeCount)throw new u("INVALID_STATE_ERR");var e=this._ranges[this.rangeCount-1];this.collapse(e.endContainer,e.endOffset)},ie.selectAllChildren=function(t){le(this,t);var i=e.createRange(t);i.selectNodeContents(t),this.setSingleRange(i)},M?ie.setBaseAndExtent=function(e,t,i,n){this.nativeSelection.setBaseAndExtent(e,t,i,n),this.refresh()}:T&&(ie.setBaseAndExtent=function(t,i,n,s){re(t,i),re(n,s),le(this,t),le(this,n);var o=e.createRange(node),l=-1==a.comparePoints(t,i,n,s);l?o.setStartAndEnd(n,s,t,i):o.setStartAndEnd(t,i,n,s),this.setSingleRange(o,l)}),ie.deleteFromDocument=function(){if(z&&C&&this.docSelection.type==m){for(var e,t=this.docSelection.createRange();t.length;)e=t.item(0),t.remove(e),a.removeNode(e);this.refresh()}else if(this.rangeCount){var i=this.getAllRanges();if(i.length){this.removeAllRanges();for(var n=0,s=i.length;n<s;++n)i[n].deleteContents();this.addRange(i[s-1])}}},ie.eachRange=function(e,t){for(var i=0,n=this._ranges.length;i<n;++i)if(e(this.getRangeAt(i)))return t},ie.getAllRanges=function(){var e=[];return this.eachRange((function(t){e.push(t)})),e},ie.setSingleRange=function(e,t){this.removeAllRanges(),this.addRange(e,t)},ie.callMethodOnEachRange=function(e,t){var i=[];return this.eachRange((function(n){i.push(n[e].apply(n,t||[]))})),i},ie.setStart=de(!0),ie.setEnd=de(!1),e.rangePrototype.select=function(e){ee(this.getDocument()).setSingleRange(this,e)},ie.changeEachRange=function(e){var t=[],i=this.isBackward();this.eachRange((function(i){e(i),t.push(i)})),this.removeAllRanges(),i&&1==t.length?this.addRange(t[0],"backward"):this.setRanges(t)},ie.containsNode=function(e,t){return this.eachRange((function(i){return i.containsNode(e,t)}),!0)||!1},ie.getBookmark=function(e){return{backward:this.isBackward(),rangeBookmarks:this.callMethodOnEachRange("getBookmark",[e])}},ie.moveToBookmark=function(t){for(var i,n,s=[],o=0;i=t.rangeBookmarks[o++];)(n=e.createRange(this.win)).moveToBookmark(i),s.push(n);t.backward?this.setSingleRange(s[0],"backward"):this.setRanges(s)},ie.saveRanges=function(){return{backward:this.isBackward(),ranges:this.callMethodOnEachRange("cloneRange")}},ie.restoreRanges=function(e){this.removeAllRanges();for(var t,i=0;t=e.ranges[i];++i)this.addRange(t,e.backward&&0==i)},ie.toHtml=function(){var e=[];return this.eachRange((function(t){e.push(d.toHtml(t))})),e.join("")},h.implementsTextRange&&(ie.getNativeTextRange=function(){var i;if(i=this.docSelection){var n=i.createRange();if(Y(n))return n;throw t.createError("getNativeTextRange: selection is a control selection")}if(this.rangeCount>0)return e.WrappedTextRange.rangeToTextRange(this.getRangeAt(0));throw t.createError("getNativeTextRange: selection contains no range")}),ie.getName=function(){return"WrappedSelection"},ie.inspect=function(){return ce(this)},ie.detach=function(){J(this.win,"delete"),Z(this)},K.detachAll=function(){J(null,"deleteAll")},K.inspect=ce,K.isDirectionBackward=v,e.Selection=K,e.selectionPrototype=ie,e.addShimListener((function(e){void 0===e.getSelection&&(e.getSelection=function(){return ee(e)}),e=null}))}));var $=!1,z=function(e){$||($=!0,!_.initialized&&_.config.autoInitialize&&L())};return y&&("complete"==document.readyState?z():(l(document,"addEventListener")&&document.addEventListener("DOMContentLoaded",z,!1),f(window,"load",z))),_}()}(ti);var ii=ti.exports;class ni{constructor(e){this.builder=e,this.dom=this.builder.dom}cellSelected(){return this.builder.doc.querySelector(".cell-active")}rowSelected(){return this.builder.doc.querySelector(".row-active")}builderStuff(){return document.querySelector("#_cbhtml")}cellNext(e){const t=this.dom;let i=e.nextElementSibling;return i?t.hasClass(i,"is-row-tool")||t.hasClass(i,"is-col-tool")||t.hasClass(i,"is-rowadd-tool")||t.hasClass(i,"is-row-overlay")?null:i:null}out(e){if(this.builder){let t=this.builder.opts.lang[e];return t||(this.builder.checkLang&&console.log(e),e)}return e}showMessage(e,t,i){const n=this.dom;let s="";s=`<div class="is-modal modalmessage" tabindex="-1" role="dialog" aria-modal="true" aria-hidden="true">\n            <div class="is-modal-content" style="padding-top: 15px;padding-bottom: 20px;max-width: 450px;">\n                <div style="margin: 20px 0 30px;font-size: 17px;">${e}</div>\n                <button title="${this.out("Ok")}" class="input-ok classic">${this.out("Ok")}</button>\n            </div>\n        </div>`;const o=this.builder.builderStuff;let a=o.querySelector(".modalmessage");a||(n.appendHtml(o,s),a=o.querySelector(".modalmessage")),this.showModal(a,!1,(()=>{a.parentNode.removeChild(a),i&&i()}));let l=a.querySelector(".modalmessage .input-ok");n.addEventListener(l,"click",(()=>{this.hideModal(a),a.parentNode&&a.parentNode.removeChild(a),i&&i()})),l.focus(),t&&l.classList.add("focus-outline")}showChoice(e,t,i){const n=this.dom;let s="";s=`<div class="is-modal modalmessage" tabindex="-1" role="dialog" aria-modal="true" aria-hidden="true">\n            <div class="is-modal-content" style="padding-top: 15px;padding-bottom: 20px;max-width: 450px;">\n                <div style="margin: 20px 0 30px;font-size: 17px;">${e}</div>\n\n                <div style="display:flex;">\n                    <button title="${this.out("Cancel")}" class="input-cancel classic-secondary" style="width:100%;margin-right:4px;">${this.out("Cancel")}</button>\n                    <button title="${t}" class="input-ok classic-primary" style="width:100%">${t}</button>\n                </div>\n            </div>\n        </div>`;const o=this.builder.builderStuff;let a=o.querySelector(".modalmessage");a||(n.appendHtml(o,s),a=o.querySelector(".modalmessage")),this.showModal(a,!1,(()=>{a.parentNode.removeChild(a),i(!1)}));let l=a.querySelector(".modalmessage .input-cancel");n.addEventListener(l,"click",(()=>{this.hideModal(a),a.parentNode.removeChild(a),i(!1)})),l.focus();let r=a.querySelector(".modalmessage .input-ok");n.addEventListener(r,"click",(()=>{this.hideModal(a),a.parentNode.removeChild(a),i(!0)}))}confirm(e,t,i,n){if(!this.builder.deleteConfirm)return void t(!0);const s=this.dom;let o="";o=`<div class="is-modal is-confirm" tabindex="-1" role="dialog" aria-modal="true" aria-hidden="true">\n            <div class="is-modal-content" style="padding-bottom:20px;">\n                <div style="margin: 20px 0 30px;font-size: 14px;">${e}</div>\n                <button title="${this.out("Delete")}" class="input-ok classic focus-warning">${this.out("Delete")}</button>\n            </div>\n        </div>`,i&&(o=`<div class="is-modal is-confirm" tabindex="-1" role="dialog" aria-modal="true" aria-hidden="true">\n                <div class="is-modal-content" style="padding-bottom:20px;">\n                    <div style="margin: 20px 0 30px;font-size: 14px;">${e}</div>\n                    <button title="${this.out("Cancel")}" class="input-cancel classic-secondary">${this.out("Cancel")}</button>\n                    <button title="${n}" class="input-ok classic-primary">${n}</button>\n                </div>\n            </div>`);const a=this.builder.builderStuff;let l=a.querySelector(".is-confirm");l||(s.appendHtml(a,o),l=a.querySelector(".is-confirm")),this.showModal(l,!1,(()=>{l.parentNode.removeChild(l),t(!1)}),!0);let r=l.querySelector(".is-confirm .input-ok");s.addEventListener(r,"click",(()=>{this.hideModal(l),l.parentNode.removeChild(l),t(!0)}));let d=l.querySelector(".is-confirm .input-cancel");s.addEventListener(d,"click",(e=>{this.hideModal(l),l.parentNode.removeChild(l),t(!1),e.preventDefault(),e.stopImmediatePropagation()}))}showRtePop(e,t,i){const n=this.dom;e.style.display="flex",t&&t(),n.removeClass(e,"deactive"),n.addClass(e,"active");const s=t=>{e.contains(t.target)||i.contains(t.target)||t.target.closest(".pickcolormore")||(this.hideRtePop(e),e.removeEventListener("keydown",o),document.removeEventListener("click",s),this.builder.iframeDocument&&this.builder.doc.removeEventListener("click",s))},o=t=>{27===t.keyCode&&(this.hideRtePop(e),e.removeEventListener("keydown",o),document.removeEventListener("click",s),this.builder.iframeDocument&&this.builder.doc.removeEventListener("click",s))};e.addEventListener("keydown",o),document.addEventListener("click",s),this.builder.iframeDocument&&this.builder.doc.addEventListener("click",s)}hideRtePop(e){const t=this.dom;e.style.display="",t.removeClass(e,"active"),t.addClass(e,"deactive")}clearAllEventListener(e){for(let t=0;t<10;t++)e.removeEventListener("keydown",this.handlePopKeyDown),document.removeEventListener("click",this.handlePopClickOut),this.builder.iframeDocument&&this.builder.doc.removeEventListener("click",this.handlePopClickOut)}showPop(e,t,i){const n=this.dom;let s=document.querySelectorAll(".is-pop.active");Array.prototype.forEach.call(s,(t=>{t!==e&&(t.style.display="",n.removeClass(t,"active"),t.setAttribute("aria-hidden",!0))})),this.clearAllEventListener(e),e.style.display="flex",n.addClass(e,"active"),e.setAttribute("aria-hidden",!1),this.setupTabKeys(e),e.focus({preventScroll:!0}),this.handlePopClickOut=n=>{e.contains(n.target)||i.contains(n.target)||(this.hidePop(e),t&&t())},this.handlePopKeyDown=i=>{27===i.keyCode&&(this.hidePop(e),t&&t())},e.addEventListener("keydown",this.handlePopKeyDown),document.addEventListener("click",this.handlePopClickOut),this.builder.iframeDocument&&this.builder.doc.addEventListener("click",this.handlePopClickOut)}hidePop(e){const t=this.dom;e.style.display="",t.removeClass(e,"active"),e.setAttribute("aria-hidden",!0),this.clearAllEventListener(e)}setupTabKeys(e){let t=e.querySelectorAll('a[href], input:not([disabled]):not([type="hidden"]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]):not([tabindex="-1"]), iframe, object, embed, *[tabindex]:not([tabindex="-1"])');if(0===t.length)return;let i=t[0],n=t[t.length-1];n.addEventListener("keydown",(n=>{9!==n.which||n.shiftKey||(n.preventDefault(),t=e.querySelectorAll('a[href], input:not([disabled]):not([type="hidden"]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]):not([tabindex="-1"]), iframe, object, embed, *[tabindex]:not([tabindex="-1"])'),i=t[0],i.focus())})),i.addEventListener("keydown",(e=>{9===e.which&&e.shiftKey&&(e.preventDefault(),n.focus())}));e.querySelectorAll("iframe").forEach((e=>{e.addEventListener("focus",(()=>{const t=e.contentWindow.document.querySelectorAll('a[href], input:not([disabled]):not([type="hidden"]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]):not([tabindex="-1"]), iframe, object, embed, *[tabindex]:not([tabindex="-1"])');if(0===t.length)return;let i=t[0];i&&i.focus()}))}))}showModal(e,t,i,n,s){const o=this.dom;o.addClass(e,"active"),e.setAttribute("aria-hidden",!1),s&&(document.body.style.overflow="hidden");const a=t=>{if(27===t.keyCode){s&&(document.body.style.overflow=""),o.hasClass(e,"active")&&this.hideModal(e),e.removeEventListener("keydown",a);const t=e.querySelector(".is-modal-close");t&&t.removeEventListener("click",c),i&&i()}};e.addEventListener("keydown",a);let l=e.querySelector(".is-tab-content.active");l?(l.focus(),this.builder.tabs.setupTabKey(l)):(this.setupTabKeys(e),e.focus());let r=!1;if(this.builder?this.builder.opts.animateModal&&(r=!0,n||(r=!1)):n&&(r=!0),r&&this.builder){const e=this.builder.doc.querySelectorAll(this.builder.opts.container);Array.prototype.forEach.call(e,(e=>{e.style.transform=`scale(${this.builder.opts.zoom-.02})`,e.style.WebkitTransform=`scale(${this.builder.opts.zoom-.02})`,e.style.MozTransform=`scale(${this.builder.opts.zoom-.02})`,e.setAttribute("scaled-down","1")}))}const d=e.querySelector(".is-modal-overlay");if(d&&d.parentNode.removeChild(d),!e.querySelector(".is-modal-overlay")){let n;if(n=t?'<div class="is-modal-overlay overlay-stay"></div>':'<div class="is-modal-overlay"></div>',e.insertAdjacentHTML("afterbegin",n),!t){let t=e.querySelector(".is-modal-overlay");o.addEventListener(t,"click",(()=>{s&&(document.body.style.overflow=""),this.hideModal(e),e.removeEventListener("keydown",a);const t=e.querySelector(".is-modal-close");t&&t.removeEventListener("click",c),i&&i()}))}}const c=()=>{s&&(document.body.style.overflow=""),o.hasClass(e,"active")&&this.hideModal(e),e.removeEventListener("keydown",a);const t=e.querySelector(".is-modal-close");t&&t.removeEventListener("click",c),i&&i()},u=e.querySelector(".is-modal-close");u&&o.addEventListener(u,"click",c)}_hideModal(e){let t=e.querySelector(".is-modal-overlay");t?t.classList.contains("overlay-stay")?(this.hideModal(e),e.dispatchEvent(new KeyboardEvent("keydown",{key:"e",keyCode:27,code:"KeyE",which:27,shiftKey:!1,ctrlKey:!1,metaKey:!1}))):t.click():(this.hideModal(e),e.dispatchEvent(new KeyboardEvent("keydown",{key:"e",keyCode:27,code:"KeyE",which:27,shiftKey:!1,ctrlKey:!1,metaKey:!1})))}hideModal(e){if(e.setAttribute("aria-hidden",!0),this.builder){const e=this.builder.doc.querySelectorAll(this.builder.opts.container);Array.prototype.forEach.call(e,(e=>{e.getAttribute("scaled-down")&&(e.style.transform=`scale(${this.builder.opts.zoom})`,e.style.WebkitTransform=`scale(${this.builder.opts.zoom})`,e.style.MozTransform=`scale(${this.builder.opts.zoom})`,e.removeAttribute("scaled-down"))}))}this.dom.removeClass(e,"active")}refreshModuleLayout(e){let t=decodeURIComponent(e.getAttribute("data-html"));t=t.replace(/{id}/g,this.builder.util.makeId()),e.innerHTML="";let i=document.createRange();i.setStart(e,0),e.appendChild(i.createContextualFragment(t));let n=e.querySelectorAll("[data-subblock]");var s=1;Array.prototype.forEach.call(n,(t=>{e.getAttribute("data-html-"+s)&&(t.innerHTML=decodeURIComponent(e.getAttribute("data-html-"+s)),t.contentEditable=!0),s++}))}removeColClasses(e){e.classList.remove("full"),e.classList.remove("two-third"),e.classList.remove("two-fourth"),e.classList.remove("two-fifth"),e.classList.remove("two-sixth"),e.classList.remove("half"),e.classList.remove("third"),e.classList.remove("fourth"),e.classList.remove("fifth"),e.classList.remove("sixth"),e.classList.remove("seventh"),e.classList.remove("eighth"),e.classList.remove("ninth"),e.classList.remove("tenth"),e.classList.remove("eleventh"),e.classList.remove("twelfth")}getAllColumns(e){let t=[];const i=this.dom;return i.elementChildren(e).forEach((e=>{i.hasClass(e,"is-row-tool")||i.hasClass(e,"is-col-tool")||i.hasClass(e,"is-rowadd-tool")||i.hasClass(e,"is-row-overlay")||t.push(e)})),t}fixLayout(e){const t=this.dom;let i=!1,n=!1;if(Array.from(e.children).map((t=>{t.classList.contains("is-row-tool")||t.classList.contains("is-col-tool")||t.classList.contains("is-rowadd-tool")||(t.getAttribute("data-html")?(t.style.width||(t.style.width="50%",t.style.flex="0 0 auto"),1===this.getAllColumns(e).length&&(t.style.width="",t.style.flex="")):(t.style.width="",t.style.flex=""),t.classList.contains("sm-hidden")&&(i=!0),t.classList.contains("md-hidden")&&(n=!0))})),i?e.classList.add("sm-autofit"):e.classList.remove("sm-autofit"),n?e.classList.add("md-autofit"):e.classList.remove("md-autofit"),this.builder.useDefaultGrid){return t.elementChildren(e).forEach((e=>{t.hasClass(e,"is-row-tool")||t.hasClass(e,"is-col-tool")||t.hasClass(e,"is-rowadd-tool")||t.hasClass(e,"is-row-overlay")||this.removeColClasses(e)})),void Array.from(e.children).map((e=>{e.classList.contains("is-row-tool")||e.classList.contains("is-rowadd-tool")||e.classList.contains("is-col-tool")||e.getAttribute("data-module")&&this.refreshModuleLayout(e)}))}let s=3;e.querySelector(".is-row-overlay")&&(s=4);const o=e.childElementCount-s,a=this.builder.opts.row;let l=this.builder.opts.cols;const r=this.builder.opts.colequal;if(r.length>0){return t.elementChildren(e).forEach((e=>{if(!(t.hasClass(e,"is-row-tool")||t.hasClass(e,"is-col-tool")||t.hasClass(e,"is-rowadd-tool")||t.hasClass(e,"is-row-overlay"))){for(let i=0;i<=l.length-1;i++)t.removeClass(e,l[i]);for(let i=0;i<=r.length-1;i++)if(r[i].length===o){t.addClass(e,r[i][0]);break}1===o&&t.addClass(e,l[l.length-1])}})),void Array.from(e.children).map((e=>{e.classList.contains("is-row-tool")||e.classList.contains("is-rowadd-tool")||e.classList.contains("is-col-tool")||e.getAttribute("data-module")&&this.refreshModuleLayout(e)}))}if(""!==a&&l.length>0){let i=0;t.elementChildren(e).forEach((e=>{if(!(t.hasClass(e,"is-row-tool")||t.hasClass(e,"is-col-tool")||t.hasClass(e,"is-rowadd-tool")||t.hasClass(e,"is-row-overlay"))){-1!==e.className.indexOf("col-md-")||(-1!==e.className.indexOf("col-sm-")?l=["col-sm-1","col-sm-2","col-sm-3","col-sm-4","col-sm-5","col-sm-6","col-sm-7","col-sm-8","col-sm-9","col-sm-10","col-sm-11","col-sm-12"]:-1!==e.className.indexOf("col-xs-")?l=["col-xs-1","col-xs-2","col-xs-3","col-xs-4","col-xs-5","col-xs-6","col-xs-7","col-xs-8","col-xs-9","col-xs-10","col-xs-11","col-xs-12"]:-1!==e.className.indexOf("col-lg-")?l=["col-lg-1","col-lg-2","col-lg-3","col-lg-4","col-lg-5","col-lg-6","col-lg-7","col-lg-8","col-lg-9","col-lg-10","col-lg-11","col-lg-12"]:-1!==e.className.indexOf("col-xl-")?l=["col-xl-1","col-xl-2","col-xl-3","col-xl-4","col-xl-5","col-xl-6","col-xl-7","col-xl-8","col-xl-9","col-xl-10","col-xl-11","col-xl-12"]:-1!==e.className.indexOf("col-xxl-")&&(l=["col-xxl-1","col-xxl-2","col-xxl-3","col-xxl-4","col-xxl-5","col-xxl-6","col-xxl-7","col-xxl-8","col-xxl-9","col-xxl-10","col-xxl-11","col-xxl-12"])),i++;for(var n=0;n<=l.length-1;n++)t.removeClass(e,l[n]);1===o&&t.addClass(e,l[11]),2===o&&t.addClass(e,l[5]),3===o&&t.addClass(e,l[3]),4===o&&t.addClass(e,l[2]),5===o&&(5===i?t.addClass(e,l[3]):t.addClass(e,l[1])),6===o&&t.addClass(e,l[1]),7===o&&(i>=6?t.addClass(e,l[0]):t.addClass(e,l[1])),8===o&&(i>=5?t.addClass(e,l[0]):t.addClass(e,l[1])),9===o&&(i>=4?t.addClass(e,l[0]):t.addClass(e,l[1])),10===o&&(i>=3?t.addClass(e,l[0]):t.addClass(e,l[1])),11===o&&(i>=2?t.addClass(e,l[0]):t.addClass(e,l[1])),12===o&&t.addClass(e,l[0])}}))}Array.from(e.children).map((e=>{e.classList.contains("is-row-tool")||e.classList.contains("is-rowadd-tool")||e.classList.contains("is-col-tool")||e.getAttribute("data-module")&&this.refreshModuleLayout(e)}))}addContent(e,t,i){const n=this.dom;this.builder.opts.onAdd&&(e=this.builder.opts.onAdd(e));const s=this.cellSelected();let o;if(s)o=s.parentNode;else{if(o=this.builder.doc.querySelector(".row-active"),!o)return;t="row"}if("cell"===t||"cell-left"===t||"cell-right"===t){let a=4;this.builder.maxColumns&&(a=this.builder.maxColumns);let l,r=3;if(o.querySelector(".is-row-overlay")&&(r=4),o.childElementCount>=a+r)return alert(this.out("You have reached the maximum number of columns")),!1;if(this.builder.uo.saveForUndo(),""===this.builder.opts.row){let t=this.builder.opts.cellFormat,i=t.indexOf("</");e=t.substring(0,i)+e+t.substring(i),l=this.createElementFromHTML(e)}else{l=s.cloneNode(!0),l.removeAttribute("data-noedit"),l.removeAttribute("data-protected"),l.removeAttribute("data-module"),l.removeAttribute("data-module-desc"),l.removeAttribute("data-dialog-width"),l.removeAttribute("data-html"),l.removeAttribute("data-settings");for(let e=1;e<=20;e++)l.removeAttribute("data-html-"+e);l.removeAttribute("data-noedit"),n.removeClass(l,"cell-active"),n.removeClass(l,"is-light-text"),n.removeClass(l,"is-dark-text"),n.removeClass(l,"padding-0"),n.removeClass(l,"p-0"),l.removeAttribute("data-click"),l.removeAttribute("style"),i&&l.setAttribute(i,""),l.innerHTML=e}o.insertBefore(l,s),"cell"!==t&&"cell-right"!==t||n.moveAfter(l,s);let d=this.builder.doc.querySelector(".builder-active");d&&this.builder.applyBehaviorOn(d),this.fixLayout(o),l.click()}if("row"===t){let t,s;if(this.builder.uo.saveForUndo(),""===this.builder.opts.row){t=this.htmlToElement(this.builder.opts.rowFormat);let o=this.builder.opts.cellFormat,a=o.indexOf("</");e=o.substring(0,a)+e+o.substring(a);let l=n.elementChildren(t);for(;l.length>0&&(l=l[0],n.elementChildren(l).length>0);)l=n.elementChildren(l);l.innerHTML=e,s=l.firstChild,i&&s.setAttribute(i,"")}else s=n.createElement("div"),n.addClass(s,this.builder.opts.cols[this.builder.opts.cols.length-1]),s.innerHTML=e,i&&s.setAttribute(i,""),t=n.createElement("div"),n.addClass(t,this.builder.opts.row),n.appendChild(t,s);o.parentNode.insertBefore(t,o),n.moveAfter(t,o);let a=this.builder.doc.querySelector(".builder-active");a&&this.builder.applyBehaviorOn(a),s.click()}if("elm"===t){let t=this.builder.activeElement;if(!t)return;this.builder.uo.saveForUndo();let i=t;i.insertAdjacentHTML("afterend",e);let n=this.builder.doc.querySelector(".builder-active");n&&this.builder.applyBehaviorOn(n);let s=i.nextElementSibling;if("img"===s.tagName.toLowerCase()){let e=setInterval((()=>{s.complete&&(s.click(),clearInterval(e))}),30)}else s.click();let o=this.builder.builderStuff.querySelector(".quickadd");this.hidePop(o)}if(this.builder.useCssClasses){let e=this.builder.doc.querySelector(".builder-active");e&&n.contentReformat(e,this.builder.cssClasses)}this.builder.opts.onChange(),this.builder.opts.onRender()}htmlToElement(e){var t=document.createElement("template");return e=e.trim(),t.innerHTML=e,t.content.firstChild}addSnippet(e,t,i){this.builder.uo.saveForUndo();const n=this.dom;let s,o,a,l=!1;const r=this.builder.builderStuff.querySelector(".quickadd").getAttribute("data-mode");if(!t||"cell"!==r&&"cell-left"!==r&&"cell-right"!==r){if(t&&"row"===r){let t;if(a=document.createElement("div"),a.className=this.builder.opts.cols[this.builder.opts.cols.length-1],a.innerHTML=e,i&&a.setAttribute("data-noedit",""),s=document.createElement("div"),s.className=this.builder.opts.row,s.appendChild(a),o=this.builder.cellSelected(),o?t=o.parentNode:(t=this.builder.doc.querySelector(".row-active"),t||(l=!0)),l){const e=this.builder.doc.querySelectorAll(".is-builder"),i=e[e.length-1],s=n.elementChildren(i);t=s[s.length-1]}t.parentNode.insertBefore(s,t),n.moveAfter(s,t);let r=this.builder.doc.querySelector(".builder-active");r||(r=this.builder.doc.querySelector(".is-builder")),this.builder.applyBehaviorOn(r),a.click(),s.className=s.className.replace("row-outline",""),this.builder.util.hideColumnTool()}else{if(t)return void(i?this.addContent(e,r,"data-noedit"):this.addContent(e,r));{var d=document.createElement("div");d.innerHTML=e;var c=d.querySelectorAll("[data-html]");if(Array.prototype.forEach.call(c,(t=>{e=(e=(e=decodeURIComponent(t.getAttribute("data-html"))).replace(/{id}/g,this.makeId())).replace(/<script>/g,""+(this.builder.nonce?`<script nonce="${this.builder.nonce}">`:"<script>"));for(var i=1;i<=20;i++)e=e.replace("[%HTML"+i+"%]",void 0===t.getAttribute("data-html-"+i)?"":decodeURIComponent(t.getAttribute("data-html-"+i)));t.innerHTML=e})),1===d.childNodes.length&&1===d.childNodes[0].childNodes.length&&("cell"===r||"cell-left"===r||"cell-right"===r)){const e=this.cellSelected();let t=e.parentNode,i=4;if(this.builder.maxColumns&&(i=this.builder.maxColumns),t.querySelector(".is-row-overlay")){if(t.childElementCount>=i+4)return alert(this.out("You have reached the maximum number of columns")),!1}else if(t.childElementCount>=i+3)return alert(this.out("You have reached the maximum number of columns")),!1;this.builder.uo.saveForUndo();let n=d.childNodes[0].childNodes[0];var u=document.createRange();e.parentNode.insertBefore(u.createContextualFragment(n.outerHTML),e),"cell"!==r&&"cell-right"!==r||(e.parentNode.insertBefore(e.previousElementSibling,e),e.parentNode.insertBefore(e,e.previousElementSibling));let s=this.builder.doc.querySelector(".builder-active");return s||(s=this.builder.doc.querySelector(".is-builder")),this.builder.applyBehaviorOn(s),this.fixLayout(t),"cell"===r||"cell-right"===r?e.nextElementSibling.click():e.previousElementSibling.click(),this.builder.opts.onChange(),void this.builder.opts.onRender()}let t;if(o=this.builder.activeCol,o?t=o.parentNode:(t=this.builder.doc.querySelector(".row-active"),t||(l=!0)),l){const e=this.builder.doc.querySelectorAll(".is-builder"),i=e[e.length-1],s=n.elementChildren(i);t=s[s.length-1]}u=document.createRange(),t.parentNode.insertBefore(u.createContextualFragment(d.innerHTML),t.nextSibling),s=d.childNodes[0],s=t.nextElementSibling;let i=this.builder.doc.querySelector(".builder-active");i||(i=this.builder.doc.querySelector(".is-builder")),this.builder.applyBehaviorOn(i),a=s.querySelector("div"),a&&a.click(),s.className=s.className.replace("row-outline",""),this.builder.util.hideColumnTool()}}if(this.builder.useCssClasses){let e=this.builder.doc.querySelector(".builder-active");e&&n.contentReformat(e,this.builder.cssClasses)}this.builder.opts.onChange(),this.builder.opts.onRender()}else i?this.addContent(e,r,"data-noedit"):this.addContent(e,r)}clearActiveCell(){const e=this.builder.builderStuff;if(!e)return;if(e.getAttribute("preventDevault"))return void setTimeout((()=>{e.removeAttribute("preventDevault")}),30);let t=this.builder.doc.getElementsByClassName("cell-active");for(;t.length;)t[0].classList.remove("cell-active");for(t=this.builder.doc.getElementsByClassName("row-outline");t.length;)t[0].classList.remove("row-outline");for(t=this.builder.doc.getElementsByClassName("row-active");t.length;)t[0].classList.remove("row-active");for(t=this.builder.doc.getElementsByClassName("builder-active");t.length;)t[0].classList.remove("builder-active");this.builder.activeCol=null,this.builder.dom.removeClass(this.builder.doc.body,"content-edit")}clearAfterUndoRedo(){const e=this.dom,t=this.builder.builderStuff;let i=t.querySelectorAll(".is-tool");Array.prototype.forEach.call(i,(t=>{t.style.display="",e.removeClass(t,"active")})),this.builder.iframe&&(i=this.builder.contentStuff.querySelectorAll(".is-tool"),Array.prototype.forEach.call(i,(t=>{t.style.display="",e.removeClass(t,"active")}))),this.builder.moveable.updateRect(),document.querySelector(".moveable-control-box").style.display="none",this.builder.activeSpacer=null,this.builder.activeCodeBlock=null,this.builder.activeLink=null,this.builder.activeLinkButton=null,this.builder.activeButton=null,this.builder.activeIframe=null,this.builder.activeTd=null,this.builder.activeTable=null,this.builder.activeModule=null;const n=this.builder.doc.querySelectorAll(".icon-active");Array.prototype.forEach.call(n,(t=>{e.removeClass(t,"icon-active")})),this.builder.activeIcon=null;let s=t.querySelector(".is-rte-tool").querySelectorAll("button");Array.prototype.forEach.call(s,(t=>{e.removeClass(t,"on")})),s=t.querySelector(".is-elementrte-tool").querySelectorAll("button"),Array.prototype.forEach.call(s,(t=>{e.removeClass(t,"on")}));let o=t.querySelectorAll(".is-pop");Array.prototype.forEach.call(o,(e=>{e.style.display=""}))}hidePops(){const e=this.dom,t=this.builder.builderStuff;let i=t.querySelectorAll(".is-tool");Array.prototype.forEach.call(i,(t=>{t.style.display="",e.removeClass(t,"active")}));let n=t.querySelectorAll(".is-pop.active");Array.prototype.forEach.call(n,(t=>{t.style.transition="all 200ms ease",setTimeout((()=>{t.style.opacity="0"}),10),setTimeout((()=>{t.style.display="",e.removeClass(t,"active"),t.style.opacity="",t.style.transition=""}),200)})),this.builder.moveable.updateRect(),document.querySelector(".moveable-control-box").style.display="none"}hideControls(){const e=this.dom;let t=this.builder.builderStuff.querySelectorAll(".is-tool");Array.prototype.forEach.call(t,(t=>{t.style.display="",e.removeClass(t,"active")})),this.builder.iframe&&(t=this.builder.contentStuff.querySelectorAll(".is-tool"),Array.prototype.forEach.call(t,(t=>{t.style.display="",e.removeClass(t,"active")}))),this.builder.moveable.updateRect(),document.querySelector(".moveable-control-box").style.display="none"}clearActiveElement(e){const t=this.dom,i=this.builder.builderStuff,n=this.builder.doc.querySelectorAll(".icon-active");Array.prototype.forEach.call(n,(e=>{t.removeClass(e,"icon-active")}));let s=this.builder.doc.querySelectorAll(".elm-inspected");if(Array.prototype.forEach.call(s,(e=>{t.removeClass(e,"elm-inspected")})),s=this.builder.doc.querySelectorAll(".elm-active"),Array.prototype.forEach.call(s,(e=>{t.removeClass(e,"elm-active")})),i.querySelector(".is-element-tool").style.display="",i.querySelector("#divLinkTool").style.display="",e){this.builder.activeIcon=null,this.builder.inspectedElement=null,this.builder.activeElement=null;let e=i.querySelector(".is-rte-tool");e&&(e.style.display="none");let t=i.querySelector(".is-elementrte-tool");t&&(t.style.display="flex");let n=i.querySelector(".rte-more-options");n&&(n.style.display="");let s=i.querySelector(".elementrte-more-options");s&&(s.style.display="");let o=t.querySelectorAll("button[data-align]");Array.prototype.forEach.call(o,(e=>{e.style.display="none"})),this.builder.rte.positionToolbar()}}clearControls(){const e=this.dom,t=this.builder.builderStuff;if(!t)return;if(t.getAttribute("preventDevault"))return void setTimeout((()=>{t.removeAttribute("preventDevault")}),30);let i=t.querySelectorAll(".is-tool");Array.prototype.forEach.call(i,(t=>{t.style.display="",e.removeClass(t,"active")})),this.builder.iframe&&(i=this.builder.contentStuff.querySelectorAll(".is-tool"),Array.prototype.forEach.call(i,(t=>{t.style.display="",e.removeClass(t,"active")}))),this.builder.moveable.updateRect(),document.querySelector(".moveable-control-box").style.display="none",this.builder.activeSpacer=null,this.builder.activeCodeBlock=null,this.builder.activeLink=null,this.builder.activeLinkButton=null,this.builder.activeButton=null,this.builder.activeIframe=null,this.builder.activeTd=null,this.builder.activeTable=null,this.builder.activeModule=null,this.builder.activeImage=null;const n=this.builder.doc.querySelectorAll(".icon-active");Array.prototype.forEach.call(n,(t=>{e.removeClass(t,"icon-active")})),this.builder.activeIcon=null;let s=this.builder.doc.querySelectorAll(".ovl");Array.prototype.forEach.call(s,(e=>{e.style.display="block"}));var o=t.querySelectorAll(".is-side.elementstyles");Array.prototype.forEach.call(o,(t=>{e.removeClass(t,"active")}));let a=this.builder.doc.querySelectorAll("[data-saveforundo]");if(Array.prototype.forEach.call(a,(e=>{e.removeAttribute("data-saveforundo")})),a=this.builder.doc.querySelectorAll(".elm-inspected"),Array.prototype.forEach.call(a,(t=>{e.removeClass(t,"elm-inspected")})),"auto"===this.builder.toolbarDisplay){let e=t.querySelector(".is-rte-tool");e&&(e.style.display="none");let i=t.querySelector(".is-elementrte-tool");i&&(i.style.display="none");let n=t.querySelector(".rte-more-options");n&&(n.style.display="");let s=t.querySelector(".elementrte-more-options");s&&(s.style.display="")}a=this.builder.doc.querySelectorAll(".elm-active"),Array.prototype.forEach.call(a,(t=>{e.removeClass(t,"elm-active")}));let l=t.querySelectorAll(".is-rte-pop");Array.prototype.forEach.call(l,(t=>{t.style.display="",e.removeClass(t,"active"),e.removeClass(t,"deactive")}));let r=t.querySelectorAll(".is-pop");Array.prototype.forEach.call(r,(t=>{t.style.display="",e.removeClass(t,"active"),t.setAttribute("aria-hidden",!0)})),this.builder.colTool.lockIndicator.style.display="",this.builder.resize&&this.builder.resize.destroy()}makeId(){let e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(let i=0;i<2;i++)e+=t.charAt(Math.floor(Math.random()*t.length));let i="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let e=0;e<5;e++)i+=n.charAt(Math.floor(Math.random()*n.length));return e+i}getSelection(){const e=this.dom.getSelection();if(!e)return;const t=e.anchorNode;if(t){const o=t.nodeType!==Node.TEXT_NODE&&t.nodeType!==Node.COMMENT_NODE?t:t.parentElement,a=o&&o.innerText===e.toString();let l=!1;for(var i=[],n=ii.getSelection(),s=0;s<n.rangeCount;++s)i=i.concat(n.getRangeAt(s).getNodes());const r=["p","h1","h2","h3","h4","h5","h6","div","pre"];if(i.forEach((e=>{if(e.tagName){const t=e.tagName.toLowerCase();-1!==r.indexOf(t)&&(l=!0)}})),this.builder.selectionMulti=!!l,a||""===e.toString().trim()){this.builder.selectionElm=o;let e=o.nodeName.toLowerCase();this.builder.activeLink="a"===e?o:null}else this.builder.selectionText=e,this.builder.activeLink=null}}saveSelection(){if(this.builder.win.getSelection){let e=this.builder.win.getSelection();if(e.getRangeAt&&e.rangeCount){let t=[];for(let i=0,n=e.rangeCount;i<n;++i)t.push(e.getRangeAt(i));return this.builder.selection=t,t}}else if(this.builder.doc.selection&&this.builder.doc.selection.createRange)return this.builder.selection=this.builder.doc.selection.createRange(),this.builder.doc.selection.createRange();return this.builder.selection=null,null}restoreSelection(){let e=this.builder.selection;if(e)if(this.builder.win.getSelection){let s=this.builder.win.getSelection();if(this.builder.doc.body.createTextRange){var t=this.builder.doc.body.createTextRange();t.collapse(),t.select()}else this.builder.win.getSelection?this.builder.win.getSelection().empty?this.builder.win.getSelection().empty():this.builder.win.getSelection().removeAllRanges&&this.builder.win.getSelection().removeAllRanges():this.builder.doc.selection&&this.builder.doc.selection.empty();for(var i=0,n=e.length;i<n;++i)s.addRange(e[i])}else this.builder.doc.selection&&e.select&&e.select()}cleanHTML(e,t){let i,n=e.replace(/(\n|\r| class=(")?Mso[a-zA-Z]+(")?)/g," "),s=new RegExp("\x3c!--(.*?)--\x3e","g");n=n.replace(s,""),i=t?new RegExp("<(/)*(meta|link|span|\\?xml:|st1:|o:|font)(.*?)>","gi"):new RegExp("<(/)*(meta|link|\\?xml:|st1:|o:|font)(.*?)>","gi"),n=n.replace(i,"");let o,a=["style","script","applet","embed","noframes","noscript"];for(let e=0;e<a.length;e++)i=new RegExp("<"+a[e]+".*?"+a[e]+"(.*?)>","gi"),n=n.replace(i,"");o=t?["style","start"]:["start"];for(let e=0;e<o.length;e++){let t=new RegExp(" "+o[e]+'="(.*?)"',"gi");n=n.replace(t,"")}return n=n.replace(/<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|img|meta|link|style|\w:\w+)(?=[\s/>]))[^>]*>/gi,""),n=n.replace(/<(\/?)s>/gi,"<$1strike>"),n=n.replace(/&nbsp;/gi," "),n=n.replace(/background-color: rgba\(200, 200, 201, 0.11\);/gi,""),n=n.replace(/background-color: rgba\(200, 200, 201, 0.11\)/gi,""),n}checkEmpty(){const e=this.builder.doc.querySelectorAll(this.builder.opts.container);Array.prototype.forEach.call(e,(e=>{this.checkEmptyOn(e)}))}checkEmptyOn(e){const t=this.dom,i=t.elementChildren(e);let n=!0;if(i.forEach((e=>{t.hasClass(e,"row-add-initial")||t.hasClass(e,"dummy-space")||(n=!1)})),n){let i=e.querySelector(".row-add-initial");i||(e.innerHTML=`<button type="button" class="row-add-initial">${this.out("Empty")}<br><span class="block">${this.out("+ Click to add content")}</span></div>`,i=e.querySelector(".row-add-initial")),i.addEventListener("click",(()=>{this.clearActiveCell();const n=this.builder.doc.querySelectorAll(this.builder.opts.container);Array.prototype.forEach.call(n,(e=>{t.removeClass(e,"builder-active")})),t.addClass(e,"builder-active"),t.addClass(i,"row-active");let s=this.builder.builderStuff.querySelector(".quickadd");s.querySelector(".is-pop-tabs").style.display="none";const o=window.innerHeight;let a,l;if(this.builder.iframe){let e=this.builder.iframe.getBoundingClientRect().top,t=this.builder.iframe.getBoundingClientRect().left;a=i.getBoundingClientRect().top+e,l=i.getBoundingClientRect().left+(i.offsetWidth*this.builder.opts.zoom/2-11)+t}else a=i.getBoundingClientRect().top,l=i.getBoundingClientRect().left+i.offsetWidth*this.builder.opts.zoom/2-11;s.style.display="flex",this.showPop(s,!1,i);const r=s.offsetWidth,d=s.offsetHeight;o-a>d?(a=a+i.offsetHeight*this.builder.opts.zoom-19,s.style.top=a+window.pageYOffset+27+"px",s.style.left=l-r/2+7+"px",t.removeClass(s,"arrow-bottom"),t.removeClass(s,"arrow-right"),t.removeClass(s,"arrow-left"),t.removeClass(s,"center"),t.addClass(s,"arrow-top"),t.addClass(s,"center")):(s.style.top=a+window.pageYOffset-d-8+"px",s.style.left=l-r/2+7+"px",t.removeClass(s,"arrow-top"),t.removeClass(s,"arrow-right"),t.removeClass(s,"arrow-left"),t.removeClass(s,"center"),t.addClass(s,"arrow-bottom"),t.addClass(s,"center")),s.setAttribute("data-mode","row")}))}else{let t=e.querySelector(".row-add-initial");t&&t.parentNode.removeChild(t)}}clearPreferences(){localStorage.removeItem("_theme"),localStorage.removeItem("_zoom"),localStorage.removeItem("_buildermode"),localStorage.removeItem("_editingtoolbar"),localStorage.removeItem("_editingtoolbardisplay"),localStorage.removeItem("_hidecelltool"),localStorage.removeItem("_rowtool"),localStorage.removeItem("_hideelementtool"),localStorage.removeItem("_hidesnippetaddtool"),localStorage.removeItem("_outlinemode"),localStorage.removeItem("_hiderowcoloutline"),localStorage.removeItem("_outlinestyle"),localStorage.removeItem("_hideelementhighlight"),localStorage.removeItem("_opensnippets"),localStorage.removeItem("_toolstyle"),localStorage.removeItem("_snippetssidebardisplay"),localStorage.removeItem("_htmlview"),localStorage.removeItem("_pasteresult"),localStorage.removeItem("_livepreview"),localStorage.removeItem("_dictation"),localStorage.removeItem("_mic"),localStorage.removeItem("_autosendcommand"),localStorage.removeItem("_disclaimershown"),localStorage.removeItem("_temp"),localStorage.removeItem("_top_p"),localStorage.removeItem("_autosend_delay"),localStorage.removeItem("_auto_editblock"),localStorage.removeItem("_command_lang"),localStorage.removeItem("_ai_panel_open"),localStorage.removeItem("_scrollableeditor"),localStorage.removeItem("_animatedsorting"),localStorage.removeItem("_addbuttonplace"),localStorage.removeItem("_hiderowtool"),localStorage.removeItem("_dragwithouthandle"),localStorage.removeItem("_advancedhtmleditor"),localStorage.removeItem("_hidecolhtmleditor"),localStorage.removeItem("_hiderowhtmleditor"),localStorage.removeItem("_sampleshown")}pasteHtmlAtCaret(e,t){var i,n;if(this.restoreSelection(),this.builder.win.getSelection){if(!this.builder.activeCol)return;if((i=this.builder.win.getSelection()).getRangeAt&&i.rangeCount){(n=i.getRangeAt(0)).deleteContents();var s=this.builder.doc.createElement("div");s.innerHTML=e;for(var o,a,l=this.builder.doc.createDocumentFragment();o=s.firstChild;)a=l.appendChild(o);var r=l.firstChild;n.insertNode(l),a&&((n=n.cloneRange()).setStartAfter(a),t?n.setStartBefore(r):n.collapse(!0),i.removeAllRanges(),this.builder.isTouchSupport||i.addRange(n))}}else if((i=this.builder.doc.selection)&&"Control"!==i.type){if(!this.builder.activeCol)return;var d=i.createRange();d.collapse(!0),i.createRange().pasteHTML(e),t&&((n=i.createRange()).setEndPoint("StartToStart",d),this.builder.isTouchSupport||n.select())}}refreshModule(){let e=this.builder.activeModule;if(!e)return;let t=1,i=e.querySelectorAll("[data-subblock]");Array.prototype.forEach.call(i,(i=>{let n=i.innerHTML;e.setAttribute("data-html-"+t,encodeURIComponent(n)),t++}));let n=decodeURIComponent(e.getAttribute("data-html"));n=n.replace(/{id}/g,this.makeId()),e.innerHTML="";var s=document.createRange();s.setStart(e,0),e.appendChild(s.createContextualFragment(n)),i=e.querySelectorAll("[data-subblock]");var o=1;Array.prototype.forEach.call(i,(t=>{e.getAttribute("data-html-"+o)&&(t.innerHTML=decodeURIComponent(e.getAttribute("data-html-"+o))),o++})),this.repositionColumnTool(!0),this.builder.onRefreshTool&&this.builder.onRefreshTool()}repositionColumnTool(){let e=this.builder.activeCol;if(!e)return;let t=e.parentNode;if(e.parentNode||(t=this.rowSelected()),this.colTool=t.querySelector(".is-col-tool"),!this.colTool)return;e.parentNode||(this.colTool.style.display="none"),this.colTool.style.left=e.offsetLeft+"px";const i=this.builder.builderStuff.querySelector(".columnmore.active");if(i){const e=this.colTool.querySelector(".cell-more");i.classList.add("transition1"),setTimeout((()=>{let t,n;if(this.builder.iframe){let i=this.builder.iframe.getBoundingClientRect().top+window.pageYOffset,s=this.builder.iframe.getBoundingClientRect().left+window.pageXOffset;t=e.getBoundingClientRect().top+i,n=e.getBoundingClientRect().left+s}else t=e.getBoundingClientRect().top+window.pageYOffset,n=e.getBoundingClientRect().left+window.pageXOffset;i.style.top=t+35+"px",i.style.left=n-7+"px",setTimeout((()=>{i.classList.remove("transition1")}),300)}),30)}}hideColumnTool(){this.builder.doc.querySelectorAll(".is-col-tool").forEach((e=>{e.style.display="none"}))}isTouchSupport(){return!!window.matchMedia("(pointer: coarse)").matches}detectIE(){return!!document.documentMode}LightenDarkenColor(e,t){var i=!1;"#"===e[0]&&(e=e.slice(1),i=!0);var n=parseInt(e,16),s=(n>>16)+t;s>255?s=255:s<0&&(s=0);var o=(n>>8&255)+t;o>255?o=255:o<0&&(o=0);var a=(255&n)+t;return a>255?a=255:a<0&&(a=0),(i?"#":"")+String("000000"+(a|o<<8|s<<16).toString(16)).slice(-6)}getUIStyles(){this.dom.appendHtml(this.builder.builderStuff,'\n        <input type="text" class="style-helper-input" style="display:none;">\n        <label class="style-helper-label" style="display:none;"></label>\n        <button class="style-helper-button-classic classic" style="display:none;"><svg><use xlink:href="#ion-code-working"></use></svg></button>\n        <select class="style-helper-select" style="display:none;"><option value=""></option></select>\n\n        <div class="style-helper modal-color"></div>\n        <div class="style-helper modal-background"></div>\n        <div class="style-helper button-pickcolor-border"></div>\n        <div class="style-helper button-pickcolor-background"></div>\n\n        <button class="style-helper base"><svg><use xlink:href="#ion-code-working"></use></svg></button>\n        <div class="style-helper base on"></div>\n        <div class="style-helper base hover"></div>\n\n        <div class="style-helper snippet-color"></div>\n        <div class="style-helper snippet-background"></div>\n        <div class="style-helper snippet-tabs-background"></div>\n        <div class="style-helper snippet-tab-item-background"></div>\n        <div class="style-helper snippet-tab-item-background-active"></div>\n        <div class="style-helper snippet-tab-item-background-hover"></div>\n        <div class="style-helper snippet-tab-item-color"></div>\n\n        <div class="style-helper snippet-more-item-background"></div>\n        <div class="style-helper snippet-more-item-background-active"></div>\n        <div class="style-helper snippet-more-item-background-hover"></div>\n        <div class="style-helper snippet-more-item-color"></div>\n\n        <div class="style-helper tabs-background"></div>\n        <div class="style-helper tab-item-active-border-bottom"></div>\n        <div class="style-helper tab-item-color"></div>\n        <div class="style-helper tabs-more-background"></div>\n        <div class="style-helper tabs-more-border"></div>\n        <div class="style-helper tabs-more-item-color"></div>\n        <div class="style-helper tabs-more-item-background-hover"></div>\n        <div class="style-helper separator-color"></div>\n        <div class="style-helper outline-color"></div>\n        ');const e=(e,t)=>{const i=this.builder.builderStuff.querySelector(".style-helper"+e);return window.getComputedStyle(i,null).getPropertyValue(t)},t=this.builder.builderStuff.querySelector(".style-helper-input"),i=this.builder.builderStuff.querySelector(".style-helper-label"),n=this.builder.builderStuff.querySelector(".style-helper-select"),s=this.builder.builderStuff.querySelector(".style-helper-button-classic");this.builder.styleModalColor=e(".modal-color","background-color"),this.builder.styleModalBackground=e(".modal-background","background-color"),this.builder.styleButtonPickColorBorder=e(".button-pickcolor-border","border"),this.builder.styleButtonPickColorBackground=e(".button-pickcolor-background","background-color"),this.builder.styleToolBackground=e(".base","background-color"),this.builder.styleButtonColor=e(".base","color"),this.builder.styleButtonSvgFill=(()=>{const e=this.builder.builderStuff.querySelector(".style-helper.base");return window.getComputedStyle(e.querySelector("svg"),null).getPropertyValue("fill")})(),this.builder.styleButtonBackgroundHover=e(".base.hover","background-color"),this.builder.styleSnippetColor=e(".snippet-color","background-color"),this.builder.styleSnippetBackground=e(".snippet-background","background-color"),this.builder.styleSnippetTabsBackground=e(".snippet-tabs-background","background-color"),this.builder.styleSnippetTabItemBackground=e(".snippet-tab-item-background","background-color"),this.builder.styleSnippetTabItemBackgroundActive=e(".snippet-tab-item-background-active","background-color"),this.builder.styleSnippetTabItemBackgroundHover=e(".snippet-tab-item-background-hover","background-color"),this.builder.styleSnippetTabItemColor=e(".snippet-tab-item-color","background-color"),this.builder.styleSnippetMoreItemBackground=e(".snippet-more-item-background","background-color"),this.builder.styleSnippetMoreItemBackgroundActive=e(".snippet-more-item-background-active","background-color"),this.builder.styleSnippetMoreItemBackgroundHover=e(".snippet-more-item-background-hover","background-color"),this.builder.styleSnippetMoreItemColor=e(".snippet-more-item-color","background-color"),this.builder.styleTabsBackground=e(".tabs-background","background-color"),this.builder.styleTabItemBorderBottomActive=e(".tab-item-active-border-bottom","border"),this.builder.styleTabItemColor=e(".tab-item-color","background-color"),this.builder.styleTabsMoreBackground=e(".tabs-more-background","background-color"),this.builder.styleTabsMoreBorder=e(".tabs-more-border","border"),this.builder.styleTabsMoreItemColor=e(".tabs-more-item-color","background-color"),this.builder.styleTabsMoreBackgroundHover=e(".tabs-more-item-background-hover","background-color"),this.builder.styleSeparatorColor=e(".separator-color","background-color"),this.builder.styleOutlineColor=e(".outline-color","background-color"),this.builder.styleSelectBackground=window.getComputedStyle(n,null).getPropertyValue("background-color"),this.builder.styleSelectColor=window.getComputedStyle(n,null).getPropertyValue("color"),this.builder.styleSelectOptionBackground=window.getComputedStyle(n.querySelector("option"),null).getPropertyValue("background-color"),this.builder.styleInputBackground=window.getComputedStyle(t,null).getPropertyValue("background-color"),this.builder.styleInputBorderBottom=window.getComputedStyle(t,null).getPropertyValue("border-bottom"),this.builder.styleInputColor=window.getComputedStyle(t,null).getPropertyValue("color"),this.builder.styleLabelColor=window.getComputedStyle(i,null).getPropertyValue("color"),this.builder.styleButtonClassicBackground=window.getComputedStyle(s,null).getPropertyValue("background-color"),this.builder.styleButtonClassicColor=window.getComputedStyle(s,null).getPropertyValue("color"),this.builder.styleButtonClassicBackgroundHover=this.getUIStyleValue(s,"hover","background-color"),this.builder.styleDark=!1,this.builder.styleColored=!1,this.builder.styleColoredDark=!1,this.builder.styleLight=!1,document.body.getAttribute("class")&&(-1!==document.body.getAttribute("class").indexOf("colored-dark")?this.builder.styleColoredDark=!0:-1!==document.body.getAttribute("class").indexOf("dark")?this.builder.styleDark=!0:-1!==document.body.getAttribute("class").indexOf("colored")?this.builder.styleColored=!0:-1!==document.body.getAttribute("class").indexOf("light")&&(this.builder.styleLight=!0))}getUIStyles_OLD(){this.dom.appendHtml(this.builder.builderStuff,'<button class="style-helper"><svg><use xlink:href="#ion-code-working"></use></svg></button>\n        <input type="text" class="style-helper-input" style="display:none;">\n        <label class="style-helper-label" style="display:none;"></label>\n        <input class="style-helper-checkbox" type="checkbox" style="display:none;">\n        <button class="style-helper-button-classic classic" style="display:none;"><svg><use xlink:href="#ion-code-working"></use></svg></button>\n        <select class="style-helper-select" style="display:none;"><option value=""></option></select>\n        ');const e=this.builder.builderStuff.querySelector(".style-helper"),t=this.builder.builderStuff.querySelector(".style-helper-input"),i=this.builder.builderStuff.querySelector(".style-helper-label"),n=this.builder.builderStuff.querySelector(".style-helper-select"),s=this.builder.builderStuff.querySelector(".style-helper-button-classic");this.builder.styleModalColor=this.getUIStyleValue(e,"modal-color","background-color"),this.builder.styleModalBackground=this.getUIStyleValue(e,"modal-background","background-color"),this.builder.styleButtonPickColorBorder=this.getUIStyleValue(e,"button-pickcolor-border","border"),this.builder.styleButtonPickColorBackground=this.getUIStyleValue(e,"button-pickcolor-background","background-color"),this.builder.styleToolBackground=window.getComputedStyle(e,null).getPropertyValue("background-color"),this.builder.styleButtonColor=window.getComputedStyle(e,null).getPropertyValue("color"),this.builder.styleButtonSvgFill=window.getComputedStyle(e.querySelector("svg"),null).getPropertyValue("fill"),this.builder.styleButtonBackgroundHover=this.getUIStyleValue(e,"hover","background-color"),this.builder.styleSnippetColor=this.getUIStyleValue(e,"snippet-color","background-color"),this.builder.styleSnippetBackground=this.getUIStyleValue(e,"snippet-background","background-color"),this.builder.styleSnippetTabsBackground=this.getUIStyleValue(e,"snippet-tabs-background","background-color"),this.builder.styleSnippetTabItemBackground=this.getUIStyleValue(e,"snippet-tab-item-background","background-color"),this.builder.styleSnippetTabItemBackgroundActive=this.getUIStyleValue(e,"snippet-tab-item-background-active","background-color"),this.builder.styleSnippetTabItemBackgroundHover=this.getUIStyleValue(e,"snippet-tab-item-background-hover","background-color"),this.builder.styleSnippetTabItemColor=this.getUIStyleValue(e,"snippet-tab-item-color","background-color"),this.builder.styleSnippetMoreItemBackground=this.getUIStyleValue(e,"snippet-more-item-background","background-color"),this.builder.styleSnippetMoreItemBackgroundActive=this.getUIStyleValue(e,"snippet-more-item-background-active","background-color"),this.builder.styleSnippetMoreItemBackgroundHover=this.getUIStyleValue(e,"snippet-more-item-background-hover","background-color"),this.builder.styleSnippetMoreItemColor=this.getUIStyleValue(e,"snippet-more-item-color","background-color"),this.builder.styleTabsBackground=this.getUIStyleValue(e,"tabs-background","background-color"),this.builder.styleTabItemBorderBottomActive=this.getUIStyleValue(e,"tab-item-active-border-bottom","border"),this.builder.styleTabItemColor=this.getUIStyleValue(e,"tab-item-color","background-color"),this.builder.styleTabsMoreBackground=this.getUIStyleValue(e,"tabs-more-background","background-color"),this.builder.styleTabsMoreBorder=this.getUIStyleValue(e,"tabs-more-border","border"),this.builder.styleTabsMoreItemColor=this.getUIStyleValue(e,"tabs-more-item-color","background-color"),this.builder.styleTabsMoreBackgroundHover=this.getUIStyleValue(e,"tabs-more-item-background-hover","background-color"),this.builder.styleSeparatorColor=this.getUIStyleValue(e,"separator-color","background-color"),this.builder.styleSelectBackground=window.getComputedStyle(n,null).getPropertyValue("background-color"),this.builder.styleSelectColor=window.getComputedStyle(n,null).getPropertyValue("color"),this.builder.styleSelectOptionBackground=window.getComputedStyle(n.querySelector("option"),null).getPropertyValue("background-color"),this.builder.styleInputBackground=window.getComputedStyle(t,null).getPropertyValue("background-color"),this.builder.styleInputBorderBottom=window.getComputedStyle(t,null).getPropertyValue("border-bottom"),this.builder.styleInputColor=window.getComputedStyle(t,null).getPropertyValue("color"),this.builder.styleLabelColor=window.getComputedStyle(i,null).getPropertyValue("color"),this.builder.styleButtonClassicBackground=window.getComputedStyle(s,null).getPropertyValue("background-color"),this.builder.styleButtonClassicColor=window.getComputedStyle(s,null).getPropertyValue("color"),this.builder.styleButtonClassicBackgroundHover=this.getUIStyleValue(s,"hover","background-color"),this.builder.styleOutlineColor=this.getUIStyleValue(e,"outline-color","background-color"),this.builder.styleDark=!1,this.builder.styleColored=!1,this.builder.styleColoredDark=!1,this.builder.styleLight=!1,document.body.getAttribute("class")&&(-1!==document.body.getAttribute("class").indexOf("colored-dark")?this.builder.styleColoredDark=!0:-1!==document.body.getAttribute("class").indexOf("dark")?this.builder.styleDark=!0:-1!==document.body.getAttribute("class").indexOf("colored")?this.builder.styleColored=!0:-1!==document.body.getAttribute("class").indexOf("light")&&(this.builder.styleLight=!0))}getUIStyleValue(e,t,i){const n=this.dom;n.addClass(e,t);let s=window.getComputedStyle(e,null).getPropertyValue(i);return n.removeClass(e,t),s}getFontFamilyStyle(e){return`\n        html, body {height:100%}\n        body {overflow:hidden;margin:0;\n            font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;\n            font-size:100%; \n            line-height:1.7;\n        }\n        #divFontList {margin:0;padding:0 0 9px 9px;height:100%;overflow-y:scroll !important;box-sizing:border-box;\n            list-style: none;\n            padding: 0;\n            margin: 0;\n        }\n        #divFontList > li {width:100%;cursor:pointer;overflow:hidden;text-align:center;position:relative;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            text-overflow: ellipsis;\n            white-space: nowrap;\n            outline:none;\n        }\n        #divFontList > li img {margin:7px 5px 7px 5px;max-width: 230px;max-height: 27px;pointer-events: none;}\n        #divFontList > li div {position:absolute;top:0;left:0;width:100%;height:100%;}\n\n        #divFontList > li > div {\n            position:absolute;left:0px;top:0px;width:100%;height:100%;\n            // z-index: 1;\n            pointer-events: none;}\n\n        #divFontList > li {\n            color: ${e?this.builder.styleModalColor:this.builder.styleButtonColor};\n            background: ${e?this.builder.styleModalBackground:this.builder.styleToolBackground};\n        }\n        #divFontList > li > div:after {\n            // background: rgba(0, 0, 0, 0.04); \n            background: ${e?this.builder.styleButtonClassicBackgroundHover:this.builder.styleButtonBackgroundHover};\n            position: absolute;\n            content: "";\n            display: block;\n            top: 0;\n            left: 0;\n            right: 0;\n            bottom: 0;\n            opacity: 0;\n        }\n        #divFontList > li:hover > div:after,\n        #divFontList > li:focus > div:after {\n            opacity: 1;\n        }\n        #divFontList > li.on > div:after {\n            opacity: 1;\n        }\n\n        ${this.builder.styleDark||this.builder.styleColoredDark||this.builder.styleColore?"":"\n        #divFontList > li img {\n            mix-blend-mode: multiply;\n        }\n        "}\n\n        .dark #divFontList > li img {\n            ${e?"":"mix-blend-mode: screen;"};\n            filter: invert(1);\n        }\n        .dark #divFontList > li {\n            color: ${e?this.builder.styleModalColor:this.builder.styleButtonColor};\n            background: ${e?this.builder.styleModalBackground:this.builder.styleToolBackground};\n        }\n        .dark #divFontList > li > div:after {\n            background: ${e?this.builder.styleButtonClassicBackgroundHover:this.builder.styleButtonBackgroundHover};\n        }\n        \n        .colored-dark #divFontList > li img {\n            ${e?"":"mix-blend-mode: screen;"};\n            ${e?"":"filter: invert(1);"};\n        }\n        .colored-dark #divFontList > li {\n            color: ${e?this.builder.styleModalColor:this.builder.styleButtonColor};\n            background: ${e?this.builder.styleModalBackground:this.builder.styleToolBackground};\n        }\n        .colored-dark #divFontList > li > div:after {\n            background: ${e?this.builder.styleButtonClassicBackgroundHover:this.builder.styleButtonBackgroundHover};\n        }\n\n\n        .colored #divFontList > li img {\n            ${e?"":"mix-blend-mode: screen;"};\n            ${e?"":"filter: invert(1);"};\n        }\n        .colored #divFontList > li {\n            color: ${e?this.builder.styleModalColor:this.builder.styleButtonColor};\n            background: ${e?this.builder.styleModalBackground:this.builder.styleToolBackground};\n        }\n        .colored #divFontList > li > div:after {\n            background: ${e?this.builder.styleButtonClassicBackgroundHover:this.builder.styleButtonBackgroundHover};\n        }\n\n\n        /* Scrollbar for toolbar/RTE and modal */\n\n        .dark * {\n            scrollbar-width: thin;\n            scrollbar-color: rgba(255, 255, 255, 0.3) auto;\n        }\n        .dark *::-webkit-scrollbar {\n            width: 12px;\n        }\n        .dark *::-webkit-scrollbar-track {\n            background: transparent;\n        }\n        .dark *::-webkit-scrollbar-thumb {\n            background-color:rgba(255, 255, 255, 0.3);\n        } \n\n        .colored-dark * {\n            scrollbar-width: thin;\n            scrollbar-color: rgb(100, 100, 100) auto;\n        }\n        .colored-dark *::-webkit-scrollbar {\n            width: 12px;\n        }\n        .colored-dark *::-webkit-scrollbar-track {\n            background: transparent;\n        }\n        .colored-dark *::-webkit-scrollbar-thumb {\n            background-color:rgb(100, 100, 100);\n        } \n\n        .colored * {\n            scrollbar-width: thin;\n            scrollbar-color: rgba(0, 0, 0, 0.4) auto;\n        }\n        .colored *::-webkit-scrollbar {\n            width: 12px;\n        }\n        .colored *::-webkit-scrollbar-track {\n            background: transparent;\n        }\n        .colored *::-webkit-scrollbar-thumb {\n            background-color: rgba(0, 0, 0, 0.4);\n        } \n\n        .light * {\n            scrollbar-width: thin;\n            scrollbar-color: rgba(0, 0, 0, 0.4) auto;\n        }\n        .light *::-webkit-scrollbar {\n            width: 12px;\n        }\n        .light *::-webkit-scrollbar-track {\n            background: transparent;\n        }\n        .light *::-webkit-scrollbar-thumb {\n            background-color: rgba(0, 0, 0, 0.4);\n        } \n        `}refreshFontFamilyStyle1(){let e=this.builder.rte.rteFontFamilyOptions.querySelector("iframe").contentWindow.document;e.querySelector("#mainstyle").innerHTML=this.getFontFamilyStyle(),this.builder.styleDark?e.body.setAttribute("class","dark"):this.builder.styleColored?e.body.className="colored":this.builder.styleColoredDark?e.body.className="colored-dark":this.builder.styleLight?e.body.className="light":e.body.className=""}refreshFontFamilyStyle2(){let e=this.builder.builderStuff.querySelector(".is-modal.pickfontfamily").querySelector("iframe").contentWindow.document;e.querySelector("#mainstyle").innerHTML=this.getFontFamilyStyle(!0),this.builder.styleDark?e.body.setAttribute("class","dark"):this.builder.styleColored?e.body.className="colored":this.builder.styleColoredDark?e.body.className="colored-dark":this.builder.styleLight?e.body.className="light":e.body.className=""}getFontPreview(){let e=this.builder.fontAssetPath,t="";return t=`\n        <li role="option" tabindex="0" data-provider="" data-font-family="" style="font-size:12px;padding:10px 7px;box-sizing:border-box;"><div></div>\n            <span style="z-index:1;position: relative;pointer-events: none;">${this.out("None")}</span>\n        </li>\n        <li role="option" tabindex="0" data-provider="" data-font-family="Arial, sans-serif"><div></div><img src="${e}arial.png"></li>\n        <li role="option" tabindex="0" data-provider="" data-font-family="courier"><div></div><img src="${e}courier.png"></li>\n        <li role="option" tabindex="0" data-provider="" data-font-family="Georgia, serif"><div></div><img src="${e}georgia.png"></li>\n        <li role="option" tabindex="0" data-provider="" data-font-family="monospace"><div></div><img src="${e}monospace.png"></li>\n        <li role="option" tabindex="0" data-provider="" data-font-family="sans-serif"><div></div><img src="${e}sans_serif.png"></li>\n        <li role="option" tabindex="0" data-provider="" data-font-family="serif"><div></div><img src="${e}serif.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Abel, sans-serif"><div></div><img src="${e}abel.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Abril Fatface"><div></div><img src="${e}abril_fatface.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Advent Pro, sans-serif" data-font-style="wght@100;200;300;400;500;600;700"><div></div><img src="${e}advent_pro.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Aladin, cursive"><div></div><img src="${e}aladin.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Alegreya, serif" data-font-style="ital,wght@0,400;0,500;0,600;0,700;0,800;0,900;1,400;1,500;1,600;1,700;1,800;1,900"><div></div><img src="${e}alegreya.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Alegreya Sans SC, sans-serif" data-font-style="ital,wght@0,100;0,300;0,400;0,500;0,700;0,800;0,900;1,100;1,300;1,400;1,500;1,700;1,800;1,900"><div></div><img src="${e}alegreya_sans_sc.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Alegreya SC, serif" data-font-style="ital,wght@0,400;0,500;0,700;0,800;0,900;1,400;1,500;1,700;1,800;1,900"><div></div><img src="${e}alegreya_sc.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Alice, serif"><div></div><img src="${e}alice.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Allerta Stencil, sans-serif"><div></div><img src="${e}allerta_stencil.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Allura, cursive"><div></div><img src="${e}allura.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Almendra Display, cursive"><div></div><img src="${e}almendra_display.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Amatic SC, cursive" data-font-style="wght@400;700"><div></div><img src="${e}amatic_sc.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Andika, sans-serif" data-font-style="ital,wght@0,400;0,700;1,400;1,700"><div></div><img src="${e}andika.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Anonymous Pro, monospace" data-font-style="ital,wght@0,400;0,700;1,400;1,700"><div></div><img src="${e}anonymous_pro.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Architects Daughter, cursive"><div></div><img style="transform:scale(1.1);" src="${e}architects_daughter.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Arimo, sans-serif" data-font-style="ital,wght@0,400;0,500;0,600;0,700;1,400;1,500;1,600;1,700"><div></div><img src="${e}arimo.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Arsenal, sans-serif" data-font-style="ital,wght@0,400;0,700;1,400;1,700"><div></div><img src="${e}arsenal.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Assistant" data-font-style="wght@200;300;400;500;600;700;800"><div></div><img src="${e}assistant.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Aubrey, cursive"><div></div><img src="${e}aubrey.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Anton, sans-serif"><div></div><img src="${e}anton.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Archivo Narrow, sans-serif" data-font-style="ital,wght@0,400;0,500;0,600;0,700;1,400;1,500;1,600;1,700"><div></div><img src="${e}archivo_narrow.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Bad Script, cursive"><div></div><img src="${e}bad_script.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="BenchNine, sans-serif" data-font-style="wght@300;400;700"><div></div><img src="${e}benchNine.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Bevan, cursive"><div></div><img src="${e}bevan.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Bigelow Rules, cursive"><div></div><img src="${e}bigelow_rules.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Bilbo, cursive"><div></div><img src="${e}bilbo.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Bonbon, cursive"><div></div><img src="${e}bonbon.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Bowlby One SC, cursive"><div></div><img src="${e}bowlby_one_sc.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Cabin Condensed, sans-serif" data-font-style="wght@400;500;600;700"><div></div><img src="${e}cabin_condensed.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Carrois Gothic SC, sans-serif"><div></div><img src="${e}carrois_gothic_sc.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Caveat, cursive" data-font-style="wght@400;500;600;700"><div></div><img src="${e}caveat.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Chewy, cursive"><div></div><img src="${e}chewy.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Cinzel, serif" data-font-style="wght@400;500;600;700;800;900"><div></div><img src="${e}cinzel.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Comfortaa, cursive" data-font-style="wght@300;400;500;600;700"><div></div><img src="${e}comfortaa.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Concert One, cursive"><div></div><img src="${e}concert_one.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Cormorant, serif" data-font-style="ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600;1,700"><div></div><img src="${e}cormorant.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Cormorant Garamond, serif" data-font-style="ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600;1,700"><div></div><img src="${e}cormorant_garamond.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Cormorant Infant, serif" data-font-style="ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600;1,700"><div></div><img src="${e}cormorant_infant.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Cormorant SC, serif" data-font-style="wght@300;400;500;600;700"><div></div><img src="${e}cormorant_sc.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Cormorant Unicase, serif" data-font-style="wght@300;400;500;600;700"><div></div><img src="${e}cormorant_unicase.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Cousine" data-font-style="ital,wght@0,400;0,700;1,400;1,700"><div></div><img src="${e}cousine.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Crafty Girls, cursive"><div></div><img src="${e}crafty_girls.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Cuprum, sans-serif" data-font-style="ital,wght@0,400;0,500;0,600;0,700;1,400;1,500;1,600;1,700"><div></div><img src="${e}cuprum.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Cutive Mono, monospace"><div></div><img src="${e}cutive_mono.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Devonshire, cursive"><div></div><img src="${e}devonshire.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Didact Gothic, sans-serif"><div></div><img src="${e}didact_gothic.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Diplomata SC, cursive"><div></div><img src="${e}diplomata_sc.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Dosis, sans-serif" data-font-style="wght@200;300;400;500;600;700;800"><div></div><img src="${e}dosis.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="EB Garamond, serif" data-font-style="ital,wght@0,400;0,500;0,600;0,700;0,800;1,400;1,500;1,600;1,700;1,800"><div></div><img src="${e}eb_garamond.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="El Messiri, sans-serif" data-font-style="wght@400;500;600;700"><div></div><img src="${e}el_messiri.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Elsie, cursive" data-font-style="wght@400;900"><div></div><img src="${e}elsie.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Encode Sans, sans-serif" data-font-style="wght@100;200;300;400;500;600;700;800;900"><div></div><img src="${e}encode_sans.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Exo, sans-serif" data-font-style="ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900"><div></div><img src="${e}exo.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="'Exo 2', sans-serif" data-font-style="ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900" data-font-display="swap"><div></div><img src="${e}exo_2.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Felipa, cursive"><div></div><img src="${e}felipa.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Fira Code, monospace" data-font-style="wght@300;400;500;600;700"><div></div><img src="${e}fira_code.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Fira Mono, monospace" data-font-style="wght@400;500;700"><div></div><img src="${e}fira_mono.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Fira Sans, sans-serif" data-font-style="ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900"><div></div><img src="${e}fira_sans.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Fira Sans Condensed, sans-serif" data-font-style="ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900"><div></div><img src="${e}fira_sans_condensed.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Fira Sans Extra Condensed, sans-serif" data-font-style="ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900"><div></div><img src="${e}fira_sans_extra_condensed.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Fjalla One, sans-serif"><div></div><img src="${e}fjalla_one.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Forum, cursive"><div></div><img src="${e}forum.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Frank Ruhl Libre" data-font-style="wght@300;400;500;700;900"><div></div><img src="${e}frank_ruhl_libre.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Fredericka the Great, cursive"><div></div><img src="${e}fredericka_the_great.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Gabriela, serif"><div></div><img src="${e}gabriela.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Gilda Display, serif"><div></div><img src="${e}gilda_display.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Give You Glory, cursive"><div></div><img style="transform:scale(1.3);" src="${e}give_you_glory.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Gruppo, cursive"><div></div><img src="${e}gruppo.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Handlee, cursive"><div></div><img src="${e}handlee.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Happy Monkey, cursive"><div></div><img src="${e}happy_monkey.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Hind" data-font-style="wght@300;400;500;600;700"><div></div><img src="${e}hind.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="IBM Plex Mono, monospace" data-font-style="ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;1,100;1,200;1,300;1,400;1,500;1,600;1,700"><div></div><img src="${e}ibm_plex_mono.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="IBM Plex Sans, sans-serif" data-font-style="ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;1,100;1,200;1,300;1,400;1,500;1,600;1,700"><div></div><img src="${e}ibm_plex_sans.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="IBM Plex Serif, serif" data-font-style="ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;1,100;1,200;1,300;1,400;1,500;1,600;1,700"><div></div><img src="${e}ibm_plex_serif.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Iceland, cursive"><div></div><img src="${e}iceland.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Inconsolata, monospace" data-font-style="wght@200;300;400;500;600;700;800;900"><div></div><img src="${e}inconsolata.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Josefin Sans, sans-serif" data-font-style="ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;1,100;1,200;1,300;1,400;1,500;1,600;1,700"><div></div><img src="${e}josefin_sans.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Istok Web, sans-serif" data-font-style="ital,wght@0,400;0,700;1,400;1,700"><div></div><img src="${e}istok_web.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Julee, cursive"><div></div><img src="${e}julee.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Julius Sans One, sans-serif"><div></div><img src="${e}julius_sans_one.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Junge, serif"><div></div><img src="${e}junge.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Jura, sans-serif" data-font-style="wght@300;400;500;600;700"><div></div><img src="${e}jura.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Just Me Again Down Here, cursive"><div></div><img style="transform:scale(1.1);" src="${e}just_me_again_down_here.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Kaushan Script, cursive"><div></div><img src="${e}kaushan_script.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Kelly Slab, cursive"><div></div><img src="${e}kelly_slab.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Kite One, sans-serif"><div></div><img src="${e}kite_one.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Kosugi, sans-serif"><div></div><img src="${e}kosugi.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Kosugi Maru, sans-serif"><div></div><img src="${e}kosugi_maru.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Kurale, serif"><div></div><img src="${e}kurale.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Lato, sans-serif" data-font-style="ital,wght@0,100;0,300;0,400;0,700;0,900;1,100;1,300;1,400;1,700;1,900"><div></div><img src="${e}lato.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Ledger, serif" data-font-display="swap"><div></div><img src="${e}ledger.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Lekton, sans-serif" data-font-style="ital,wght@0,400;0,700;1,400"><div></div><img src="${e}lekton.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Life Savers, cursive" data-font-style="wght@400;700;800"><div></div><img src="${e}life_savers.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Literata, serif" data-font-style="ital,wght@0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900"><div></div><img src="${e}literata.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Lobster, cursive"><div></div><img src="${e}lobster.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Lobster Two, cursive" data-font-style="ital,wght@0,400;0,700;1,400;1,700"><div></div><img src="${e}lobster_two.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Londrina Shadow, cursive"><div></div><img src="${e}londrina_shadow.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Lora, serif" data-font-style="ital,wght@0,400;0,500;0,600;0,700;1,400;1,500;1,600;1,700"><div></div><img src="${e}lora.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Lovers Quarrel, cursive"><div></div><img style="transform:scale(1.1);" src="${e}lovers_quarrel.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="'M PLUS 1p', sans-serif" data-font-style="wght@100;300;400;500;700;800;900" data-font-display="swap"><div></div><img src="${e}m_plus_1p.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="'M PLUS Rounded 1c', sans-serif" data-font-style="wght@100;300;400;500;700;800;900" data-font-display="swap"><div></div><img src="${e}m_plus_rounded_1c.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Macondo, cursive"><div></div><img src="${e}macondo.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Marcellus SC, serif"><div></div><img src="${e}marcellus_sc.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Marck Script, cursive"><div></div><img src="${e}marck_script.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Martel, serif" data-font-style="wght@200;300;400;600;700;800;900"><div></div><img src="${e}martel.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Maven Pro, sans-serif"><div></div><img src="${e}maven_pro.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Merriweather, serif" data-font-style="ital,wght@0,300;0,400;0,700;0,900;1,300;1,400;1,700;1,900"><div></div><img src="${e}merriweather.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Merriweather Sans" data-font-style="ital,wght@0,300;0,400;0,500;0,600;0,700;0,800;1,300;1,400;1,500;1,600;1,700;1,800"><div></div><img src="${e}merriweather_sans.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Mogra, cursive"><div></div><img src="${e}mogra.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Monoton, cursive"><div></div><img src="${e}monoton.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Montez, cursive"><div></div><img src="${e}montez.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Montserrat, sans-serif" data-font-style="ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900"><div></div><img src="${e}montserrat.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Montserrat Alternates, sans-serif" data-font-style="ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900"><div></div><img src="${e}montserrat_alternates.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Montserrat Subrayada, sans-serif" data-font-style="wght@400;700"><div></div><img src="${e}montserrat_subrayada.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Neucha, cursive"><div></div><img src="${e}neucha.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Neuton, serif" data-font-style="ital,wght@0,200;0,300;0,400;0,700;0,800;1,400"><div></div><img src="${e}neuton.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Nixie One, cursive"><div></div><img src="${e}nixie_one.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Nothing You Could Do, cursive"><div></div><img style="transform:scale(1.1);" src="${e}nothing_you_could_do.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Noto Sans, sans-serif" data-font-style="ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900"><div></div><img src="${e}noto_sans.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Noto Sans SC, sans-serif" data-font-style="wght@100;300;400;500;700;900"><div></div><img src="${e}noto_sans_sc.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Noto Serif, serif" data-font-style="ital,wght@0,400;0,700;1,400;1,700"><div></div><img src="${e}noto_serif.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Noto Serif TC, serif" data-font-style="wght@200;300;400;500;600;700;900"><div></div><img src="${e}noto_serif_tc.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Nunito, sans-serif" data-font-style="ital,wght@0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;0,1000;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900;1,1000"><div></div><img src="${e}nunito.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Old Standard TT, serif" data-font-style="ital,wght@0,400;0,700;1,400"><div></div><img src="${e}old_standard_tt.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Open Sans, sans-serif" data-font-style="ital,wght@0,300;0,400;0,500;0,600;0,700;0,800;1,300;1,400;1,500;1,600;1,700;1,800"><div></div><img src="${e}open_sans.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Oranienbaum, serif"><div></div><img src="${e}oranienbaum.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Oswald, sans-serif" data-font-style="wght@200;300;400;500;600;700"><div></div><img src="${e}oswald.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Oxygen, sans-serif" data-font-style="wght@300;400;700"><div></div><img src="${e}oxygen.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Pacifico, cursive"><div></div><img src="${e}pacifico.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Pangolin, cursive"><div></div><img src="${e}pangolin.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Passion One, cursive" data-font-style="wght@400;700;900"><div></div><img src="${e}passion_one.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Pathway Gothic One, sans-serif"><div></div><img src="${e}pathway_gothic_one.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Pattaya, sans-serif"><div></div><img src="${e}pattaya.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Petit Formal Script, cursive"><div></div><img style="transform:scale(1.1);" src="${e}petit_formal_script.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Philosopher, sans-serif" data-font-style="ital,wght@0,400;0,700;1,400;1,700"><div></div><img src="${e}philosopher.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Play, sans-serif" data-font-style="wght@400;700"><div></div><img src="${e}play.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Playfair Display, serif" data-font-style="ital,wght@0,400;0,500;0,600;0,700;0,800;0,900;1,400;1,500;1,600;1,700;1,800;1,900"><div></div><img src="${e}playfair_display.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Playfair Display SC, serif" data-font-style="ital,wght@0,400;0,700;0,900;1,400;1,700;1,900"><div></div><img src="${e}playfair_display_sc.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Podkova, serif" data-font-style="wght@400;500;600;700;800"><div></div><img src="${e}podkova.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Poiret One, cursive"><div></div><img src="${e}poiret_one.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Pompiere, cursive"><div></div><img style="transform:scale(1.1);" src="${e}pompiere.png"></li>\n        `,t+=`<li role="option" tabindex="0" data-provider="google" data-font-family="Poppins, sans-serif" data-font-style="ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900"><div></div><img src="${e}poppins.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Prata, serif"><div></div><img src="${e}prata.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="'Press Start 2P', cursive"><div></div><img src="${e}press_start_2p.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Prosto One, cursive"><div></div><img src="${e}prosto_one.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="PT Mono, monospace"><div></div><img src="${e}pt_mono.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="PT Sans, sans-serif" data-font-style="ital,wght@0,400;0,700;1,400;1,700"><div></div><img src="${e}pt_sans.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="PT Sans Caption, sans-serif" data-font-style="wght@400;700"><div></div><img src="${e}pt_sans_caption.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="PT Sans Narrow, sans-serif" data-font-style="wght@400;700"><div></div><img src="${e}pt_sans_narrow.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="PT Serif, serif" data-font-style="ital,wght@0,400;0,700;1,400;1,700"><div></div><img src="${e}pt_serif.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="PT Serif Caption, serif" data-font-style="ital@0;1"><div></div><img src="${e}pt_serif_caption.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Quattrocento Sans, sans-serif" data-font-style="ital,wght@0,400;0,700;1,400;1,700"><div></div><img src="${e}quattrocento_sans.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Quattrocento, serif" data-font-style="wght@400;700"><div></div><img src="${e}quattrocento.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Quicksand, sans-serif" data-font-style="wght@300;400;500;600;700"><div></div><img src="${e}quicksand.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Qwigley, cursive"><div></div><img src="${e}qwigley.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Raleway, sans-serif" data-font-style="ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900"><div></div><img src="${e}raleway.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Raleway Dots, sans-serif"><div></div><img src="${e}raleway_dots.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Redressed, cursive"><div></div><img src="${e}redressed.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Ribeye Marrow, cursive"><div></div><img src="${e}ribeye_marrow.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Righteous, cursive"><div></div><img src="${e}righteous.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Roboto, sans-serif" data-font-style="ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900"><div></div><img src="${e}roboto.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Roboto Condensed, sans-serif" data-font-style="ital,wght@0,300;0,400;0,700;1,300;1,400;1,700"><div></div><img src="${e}roboto_condensed.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Roboto Mono, monospace" data-font-style="ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;1,100;1,200;1,300;1,400;1,500;1,600;1,700"><div></div><img src="${e}roboto_mono.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Roboto Slab, serif" data-font-style="wght@100;200;300;400;500;600;700;800;900"><div></div><img src="${e}roboto_slab.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Rochester, cursive"><div></div><img src="${e}rochester.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Rouge Script, cursive"><div></div><img src="${e}rouge_script.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Rubik, sans-serif" data-font-style="ital,wght@0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,300;1,400;1,500;1,600;1,700;1,800;1,900"><div></div><img src="${e}rubik.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Rubik Mono One, sans-serif"><div></div><img src="${e}rubik_mono_one.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Ruslan Display, cursive"><div></div><img src="${e}ruslan_display.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Russo One, sans-serif"><div></div><img src="${e}russo_one.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Sacramento, cursive"><div></div><img src="${e}sacramento.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Sanchez, serif" data-font-style="ital@0;1"><div></div><img src="${e}sanchez.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Satisfy, cursive"><div></div><img src="${e}satisfy.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Sawarabi Gothic, sans-serif"><div></div><img src="${e}sawarabi_gothic.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Scada, sans-serif" data-font-style="ital,wght@0,400;0,700;1,400;1,700"><div></div><img src="${e}scada.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Seaweed Script, cursive"><div></div><img src="${e}seaweed_script.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Seymour One, sans-serif"><div></div><img src="${e}seymour_one.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Shadows Into Light Two, cursive"><div></div><img src="${e}shadows_into_light_two.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Six Caps, sans-serif"><div></div><img src="${e}six_caps.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Snowburst One, cursive"><div></div><img src="${e}snowburst_one.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Source Code Pro, monospace" data-font-style="ital,wght@0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900"><div></div><img src="${e}source_code_pro.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Source Sans Pro, sans-serif" data-font-style="ital,wght@0,200;0,300;0,400;0,600;0,700;0,900;1,200;1,300;1,400;1,600;1,700;1,900"><div></div><img src="${e}source_sans_pro.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Special Elite, cursive"><div></div><img src="${e}special_elite.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Spectral, serif" data-font-style="ital,wght@0,200;0,300;0,400;0,500;0,600;0,700;0,800;1,200;1,300;1,400;1,500;1,600;1,700;1,800"><div></div><img src="${e}spectral.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Spectral SC, serif" data-font-style="ital,wght@0,200;0,300;0,400;0,500;0,600;0,700;0,800;1,200;1,300;1,400;1,500;1,600;1,700;1,800"><div></div><img src="${e}spectral_sc.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Squada One, cursive"><div></div><img src="${e}squada_one.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Stalinist One, cursive"><div></div><img src="${e}stalinist_one.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Stint Ultra Expanded, cursive"><div></div><img src="${e}stint_ultra_expanded.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Syncopate, sans-serif" data-font-style="wght@400;700"><div></div><img src="${e}syncopate.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Tangerine, cursive" data-font-style="wght@400;700"><div></div><img src="${e}tangerine.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Tenor Sans, sans-serif"><div></div><img src="${e}tenor_sans.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Tinos, serif" data-font-style="ital,wght@0,400;0,700;1,400;1,700"><div></div><img src="${e}tinos.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Ubuntu, sans-serif" data-font-style="ital,wght@0,300;0,400;0,500;0,700;1,300;1,400;1,500;1,700"><div></div><img src="${e}ubuntu.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Ubuntu Condensed, sans-serif"><div></div><img src="${e}ubuntu_condensed.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Ubuntu Mono, monospace" data-font-style="ital,wght@0,400;0,700;1,400;1,700"><div></div><img src="${e}ubuntu_mono.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Underdog, cursive"><div></div><img src="${e}underdog.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="UnifrakturMaguntia, cursive"><div></div><img src="${e}unifrakturmaguntia.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Vast Shadow, cursive"><div></div><img src="${e}vast_shadow.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Viga, sans-serif"><div></div><img src="${e}viga.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Vollkorn, serif" data-font-style="ital,wght@0,400;0,500;0,600;0,700;0,800;0,900;1,400;1,500;1,600;1,700;1,800;1,900"><div></div><img src="${e}vollkorn.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Vollkorn SC, serif" data-font-style="wght@400;600;700;900"><div></div><img src="${e}vollkorn_sc.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Voltaire, sans-serif"><div></div><img src="${e}voltaire.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Wire One, sans-serif"><div></div><img src="${e}wire_one.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Yanone Kaffeesatz, sans-serif" data-font-style="wght@200;300;400;500;600;700"><div></div><img src="${e}yanone_kaffeesatz.png"></li>\n        <li role="option" tabindex="0" data-provider="google" data-font-family="Yeseva One, cursive"><div></div><img src="${e}yeseva_one.png"></li>\n        `,t}getFontFamilyHTML(e){return`\n        <!DOCTYPE HTML>\n        <html>\n        <head>\n            <meta charset="utf-8">\n            <title>Fonts</title>\n            <meta name="viewport" content="width=device-width, initial-scale=1">\n            <meta name="description" content="">  \n            <style id="mainstyle">\n                html, body {height:100%}\n                body {overflow:hidden;margin:0;\n                    font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;\n                    font-size:100%; \n                    line-height:1.7;\n                }\n                #divFontList {margin:0;padding:0 0 9px 9px;height:100%;overflow-y:scroll !important;box-sizing:border-box;\n                    list-style: none;\n                    padding: 0;\n                    margin: 0;\n                }\n                #divFontList > li {width:100%;cursor:pointer;overflow:hidden;text-align:center;position:relative;\n                    display: flex;\n                    align-items: center;\n                    justify-content: center;\n                    text-overflow: ellipsis;\n                    white-space: nowrap;\n                    outline:none;\n                }\n                #divFontList > li img {margin:7px 5px 7px 5px;max-width: 230px;max-height: 27px;pointer-events: none;}\n                #divFontList > li div {position:absolute;top:0;left:0;width:100%;height:100%;}\n\n                #divFontList > li > div {\n                    position:absolute;left:0px;top:0px;width:100%;height:100%;\n                    // z-index: 1;\n                    pointer-events: none;}\n\n                #divFontList > li {\n                    color: ${e?this.builder.styleModalColor:this.builder.styleButtonColor};\n                    background: ${e?this.builder.styleModalBackground:this.builder.styleToolBackground};\n                }\n                #divFontList > li > div:after {\n                    // background: rgba(0, 0, 0, 0.04); \n                    background: ${e?this.builder.styleButtonClassicBackgroundHover:this.builder.styleButtonBackgroundHover};\n                    position: absolute;\n                    content: "";\n                    display: block;\n                    top: 0;\n                    left: 0;\n                    right: 0;\n                    bottom: 0;\n                    opacity: 0;\n                }\n                #divFontList > li:hover > div:after,\n                #divFontList > li:focus > div:after {\n                    opacity: 1;\n                }\n                #divFontList > li.on > div:after {\n                    opacity: 1;\n                }\n\n                ${this.builder.styleDark||this.builder.styleColoredDark||this.builder.styleColore?"":"\n                #divFontList > li img {\n                    mix-blend-mode: multiply;\n                }\n                "}\n\n                .dark #divFontList > li img {\n                    ${e?"":"mix-blend-mode: screen;"};\n                    filter: invert(1);\n                }\n                .dark #divFontList > li {\n                    color: ${e?this.builder.styleModalColor:this.builder.styleButtonColor};\n                    background: ${e?this.builder.styleModalBackground:this.builder.styleToolBackground};\n                }\n                .dark #divFontList > li > div:after {\n                    background: ${e?this.builder.styleButtonClassicBackgroundHover:this.builder.styleButtonBackgroundHover};\n                }\n                \n                .colored-dark #divFontList > li img {\n                    ${e?"":"mix-blend-mode: screen;"};\n                    ${e?"":"filter: invert(1);"};\n                }\n                .colored-dark #divFontList > li {\n                    color: ${e?this.builder.styleModalColor:this.builder.styleButtonColor};\n                    background: ${e?this.builder.styleModalBackground:this.builder.styleToolBackground};\n                }\n                .colored-dark #divFontList > li > div:after {\n                    background: ${e?this.builder.styleButtonClassicBackgroundHover:this.builder.styleButtonBackgroundHover};\n                }\n\n\n                .colored #divFontList > li img {\n                    ${e?"":"mix-blend-mode: screen;"};\n                    ${e?"":"filter: invert(1);"};\n                }\n                .colored #divFontList > li {\n                    color: ${e?this.builder.styleModalColor:this.builder.styleButtonColor};\n                    background: ${e?this.builder.styleModalBackground:this.builder.styleToolBackground};\n                }\n                .colored #divFontList > li > div:after {\n                    background: ${e?this.builder.styleButtonClassicBackgroundHover:this.builder.styleButtonBackgroundHover};\n                }\n\n\n                /* Scrollbar for toolbar/RTE and modal */\n\n                .dark * {\n                    scrollbar-width: thin;\n                    scrollbar-color: rgba(255, 255, 255, 0.3) auto;\n                }\n                .dark *::-webkit-scrollbar {\n                    width: 12px;\n                }\n                .dark *::-webkit-scrollbar-track {\n                    background: transparent;\n                }\n                .dark *::-webkit-scrollbar-thumb {\n                    background-color:rgba(255, 255, 255, 0.3);\n                } \n\n                .colored-dark * {\n                    scrollbar-width: thin;\n                    scrollbar-color: rgb(100, 100, 100) auto;\n                }\n                .colored-dark *::-webkit-scrollbar {\n                    width: 12px;\n                }\n                .colored-dark *::-webkit-scrollbar-track {\n                    background: transparent;\n                }\n                .colored-dark *::-webkit-scrollbar-thumb {\n                    background-color:rgb(100, 100, 100);\n                } \n\n                .colored * {\n                    scrollbar-width: thin;\n                    scrollbar-color: rgba(0, 0, 0, 0.4) auto;\n                }\n                .colored *::-webkit-scrollbar {\n                    width: 12px;\n                }\n                .colored *::-webkit-scrollbar-track {\n                    background: transparent;\n                }\n                .colored *::-webkit-scrollbar-thumb {\n                    background-color: rgba(0, 0, 0, 0.4);\n                } \n\n                .light * {\n                    scrollbar-width: thin;\n                    scrollbar-color: rgba(0, 0, 0, 0.4) auto;\n                }\n                .light *::-webkit-scrollbar {\n                    width: 12px;\n                }\n                .light *::-webkit-scrollbar-track {\n                    background: transparent;\n                }\n                .light *::-webkit-scrollbar-thumb {\n                    background-color: rgba(0, 0, 0, 0.4);\n                } \n            </style>\n\n        </head>\n        <body${this.builder.styleDark?' class="dark"':""}${this.builder.styleColored?' class="colored"':""}${this.builder.styleColoredDark?' class="colored-dark"':""}${this.builder.styleLight?' class="light"':""}>\n\n        <ul id="divFontList">\n        ${this.getFontPreview()}\n        </ul>\n\n        <script${this.builder.nonce?` nonce="${this.builder.nonce}"`:""}>\n\n            const close = () => {\n                parent.focus();\n\n                let pop = parent.document.querySelector('.rte-fontfamily-options.active, .pickfontfamily.active');\n                if(pop)  {\n                    pop.classList.remove('active');\n                    pop.classList.add('deactive');\n                }\n            }\n\n            const setValue = (item) => {\n                let provider = item.getAttribute('data-provider');\n                let fontfamily = item.getAttribute('data-font-family');\n                let fontstyle = item.getAttribute('data-font-style');\n                let fontdisplay = item.getAttribute('data-font-display');\n                parent._cb.setFont(fontfamily, fontstyle, fontdisplay, provider);\n\n                let elms = document.querySelectorAll('#divFontList > li');\n                elms.forEach(elm=>{\n                    elm.classList.remove('on');\n                });\n                item.classList.add('on');\n            }\n\n            const handleItemClick = (e) => {\n                e.preventDefault();\n\n                let item = e.target;\n                setValue(item);\n            }\n\n            const handleItemKeyDown = (e) => {\n                e.preventDefault();\n\n                if(e.keyCode === 38 && e.target.previousElementSibling) { // up\n                    e.target.previousElementSibling.focus();\n                } else if(e.keyCode === 40 && e.target.nextElementSibling) { // down\n                    e.target.nextElementSibling.focus();\n                } else if(e.keyCode === 27) { // escape key\n                    close();\n                } else if(e.keyCode === 13 || e.keyCode === 32) { // enter or spacebar key\n                    setValue(e.target);\n                }\n            }\n            \n            let elms = document.querySelectorAll('#divFontList > li');\n            elms.forEach(elm=>{\n                elm.addEventListener('keydown', handleItemKeyDown);\n                elm.addEventListener('click', handleItemClick);\n            });\n        <\/script>\n        \n        </body>\n        </html>\n                \n        \n        `}getFontFamilyEmail(e){let t=this.builder.fontAssetPath;return`\n        <!DOCTYPE HTML>\n        <html>\n        <head>\n            <meta charset="utf-8">\n            <title>Fonts</title>\n            <meta name="viewport" content="width=device-width, initial-scale=1">\n            <meta name="description" content="">  \n            <style>\n                html, body {height:100%}\n                body {overflow:hidden;margin:0;\n                    font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;\n                    font-size:100%; \n                    line-height:1.7;\n                }\n                #divFontList {margin:0;padding:0 0 9px 9px;height:100%;overflow-y:scroll !important;box-sizing:border-box;\n                    list-style: none;\n                    padding: 0;\n                    margin: 0;\n                }\n                #divFontList > li {width:100%;cursor:pointer;overflow:hidden;text-align:center;position:relative;\n                    display: flex;\n                    align-items: center;\n                    justify-content: center;\n                    text-overflow: ellipsis;\n                    white-space: nowrap;\n                    outline:none;\n                }\n                #divFontList > li img {margin:7px 5px 7px 5px;max-width: 230px;max-height: 27px;pointer-events: none;}\n                #divFontList > li div {position:absolute;top:0;left:0;width:100%;height:100%;}\n\n                #divFontList > li > div {\n                    position:absolute;left:0px;top:0px;width:100%;height:100%;\n                    // z-index: 1;\n                    pointer-events: none;}\n\n                #divFontList > li {\n                    color: ${e?this.builder.styleModalColor:this.builder.styleButtonColor};\n                    background: ${e?this.builder.styleModalBackground:this.builder.styleToolBackground};\n                }\n                #divFontList > li > div:after {\n                    // background: rgba(0, 0, 0, 0.04); \n                    background: ${e?this.builder.styleButtonClassicBackgroundHover:this.builder.styleButtonBackgroundHover};\n                    position: absolute;\n                    content: "";\n                    display: block;\n                    top: 0;\n                    left: 0;\n                    right: 0;\n                    bottom: 0;\n                    opacity: 0;\n                }\n                #divFontList > li:hover > div:after,\n                #divFontList > li:focus > div:after {\n                    opacity: 1;\n                }\n                #divFontList > li.on > div:after {\n                    opacity: 1;\n                }\n\n                ${this.builder.styleDark||this.builder.styleColoredDark||this.builder.styleColore?"":"\n                #divFontList > li img {\n                    mix-blend-mode: multiply;\n                }\n                "}\n\n                .dark #divFontList > li img {\n                    ${e?"":"mix-blend-mode: screen;"};\n                    filter: invert(1);\n                }\n                .dark #divFontList > li {\n                    color: ${e?this.builder.styleModalColor:this.builder.styleButtonColor};\n                    background: ${e?this.builder.styleModalBackground:this.builder.styleToolBackground};\n                }\n                .dark #divFontList > li > div:after {\n                    background: ${e?this.builder.styleButtonClassicBackgroundHover:this.builder.styleButtonBackgroundHover};\n                }\n                \n                .colored-dark #divFontList > li img {\n                    ${e?"":"mix-blend-mode: screen;"};\n                    ${e?"":"filter: invert(1);"};\n                }\n                .colored-dark #divFontList > li {\n                    color: ${e?this.builder.styleModalColor:this.builder.styleButtonColor};\n                    background: ${e?this.builder.styleModalBackground:this.builder.styleToolBackground};\n                }\n                .colored-dark #divFontList > li > div:after {\n                    background: ${e?this.builder.styleButtonClassicBackgroundHover:this.builder.styleButtonBackgroundHover};\n                }\n\n\n                .colored #divFontList > li img {\n                    ${e?"":"mix-blend-mode: screen;"};\n                    ${e?"":"filter: invert(1);"};\n                }\n                .colored #divFontList > li {\n                    color: ${e?this.builder.styleModalColor:this.builder.styleButtonColor};\n                    background: ${e?this.builder.styleModalBackground:this.builder.styleToolBackground};\n                }\n                .colored #divFontList > li > div:after {\n                    background: ${e?this.builder.styleButtonClassicBackgroundHover:this.builder.styleButtonBackgroundHover};\n                }\n\n\n                /* Scrollbar for toolbar/RTE and modal */\n\n                .dark * {\n                    scrollbar-width: thin;\n                    scrollbar-color: rgba(255, 255, 255, 0.3) auto;\n                }\n                .dark *::-webkit-scrollbar {\n                    width: 12px;\n                }\n                .dark *::-webkit-scrollbar-track {\n                    background: transparent;\n                }\n                .dark *::-webkit-scrollbar-thumb {\n                    background-color:rgba(255, 255, 255, 0.3);\n                } \n\n                .colored-dark * {\n                    scrollbar-width: thin;\n                    scrollbar-color: rgb(100, 100, 100) auto;\n                }\n                .colored-dark *::-webkit-scrollbar {\n                    width: 12px;\n                }\n                .colored-dark *::-webkit-scrollbar-track {\n                    background: transparent;\n                }\n                .colored-dark *::-webkit-scrollbar-thumb {\n                    background-color:rgb(100, 100, 100);\n                } \n\n                .colored * {\n                    scrollbar-width: thin;\n                    scrollbar-color: rgba(0, 0, 0, 0.4) auto;\n                }\n                .colored *::-webkit-scrollbar {\n                    width: 12px;\n                }\n                .colored *::-webkit-scrollbar-track {\n                    background: transparent;\n                }\n                .colored *::-webkit-scrollbar-thumb {\n                    background-color: rgba(0, 0, 0, 0.4);\n                } \n\n                .light * {\n                    scrollbar-width: thin;\n                    scrollbar-color: rgba(0, 0, 0, 0.4) auto;\n                }\n                .light *::-webkit-scrollbar {\n                    width: 12px;\n                }\n                .light *::-webkit-scrollbar-track {\n                    background: transparent;\n                }\n                .light *::-webkit-scrollbar-thumb {\n                    background-color: rgba(0, 0, 0, 0.4);\n                } \n            </style>\n\n        </head>\n        <body${this.builder.styleDark?' class="dark"':""}${this.builder.styleColored?' class="colored"':""}${this.builder.styleColoredDark?' class="colored-dark"':""}${this.builder.styleLight?' class="light"':""}>\n\n        <ul id="divFontList">\n            <li role="option" tabindex="0" data-provider="" data-font-family="" style="font-size:12px;padding:10px 7px;box-sizing:border-box;"><div></div>\n                <span style="z-index:1;position: relative;pointer-events: none;">${this.out("None")}</span>\n            </li>\n            <li role="option" tabindex="0" data-provider="" data-font-family="Arial, sans-serif"><div></div><img src="${t}arial.png"></li>\n            <li role="option" tabindex="0" data-provider="" data-font-family="courier"><div></div><img src="${t}courier.png"></li>\n            <li role="option" tabindex="0" data-provider="" data-font-family="Georgia, serif"><div></div><img src="${t}georgia.png"></li>\n            <li role="option" tabindex="0" data-provider="" data-font-family="monospace"><div></div><img src="${t}monospace.png"></li>\n            <li role="option" tabindex="0" data-provider="" data-font-family="sans-serif"><div></div><img src="${t}sans_serif.png"></li>\n            <li role="option" tabindex="0" data-provider="" data-font-family="serif"><div></div><img src="${t}serif.png"></li>\n        </ul>\n\n        <script>\n\n            const close = () => {\n                parent.focus();\n\n                let pop = parent.document.querySelector('.is-rte-pop.active');\n                if(pop)  {\n                    pop.classList.remove('active');\n                    pop.classList.add('deactive');\n                }\n            }\n\n            const setValue = (item) => {\n                let provider = item.getAttribute('data-provider');\n                let fontfamily = item.getAttribute('data-font-family');\n                let fontstyle = item.getAttribute('data-font-style');\n                let fontdisplay = item.getAttribute('data-font-display');\n                parent._cb.setFont(fontfamily, fontstyle, fontdisplay, provider);\n\n                let elms = document.querySelectorAll('#divFontList > li');\n                elms.forEach(elm=>{\n                    elm.classList.remove('on');\n                });\n                item.classList.add('on');\n            }\n\n            const handleItemClick = (e) => {\n                e.preventDefault();\n\n                let item = e.target;\n                setValue(item);\n            }\n\n            const handleItemKeyDown = (e) => {\n                e.preventDefault();\n\n                if(e.keyCode === 38 && e.target.previousElementSibling) { // up\n                    e.target.previousElementSibling.focus();\n                } else if(e.keyCode === 40 && e.target.nextElementSibling) { // down\n                    e.target.nextElementSibling.focus();\n                } else if(e.keyCode === 27) { // escape key\n                    close();\n                } else if(e.keyCode === 13 || e.keyCode === 32) { // enter or spacebar key\n                    setValue(e.target);\n                }\n            }\n            \n            let elms = document.querySelectorAll('#divFontList > li');\n            elms.forEach(elm=>{\n                elm.addEventListener('keydown', handleItemKeyDown);\n                elm.addEventListener('click', handleItemClick);\n            });\n        <\/script>\n        \n        </body>\n        </html>\n                \n        \n        `}getPageTemplate(e){let t="";return t=""===e?'\n            <!DOCTYPE html>\n            <html lang="en">\n            <head>\n                <meta charset="utf-8">\n                <title>Page</title>\n                <meta name="viewport" content="width=device-width, initial-scale=1">\n                <meta name="description" content="">\n                <link rel="shortcut icon" href="#">\n                \n                <link href="[%PATH%]/assets/minimalist-blocks/content.css" rel="stylesheet">\n                \n                <link href="[%PATH%]/assets/scripts/glide/css/glide.core.css" rel="stylesheet">\n                <link href="[%PATH%]/assets/scripts/glide/css/glide.theme.css" rel="stylesheet">\n                <script src="[%PATH%]/assets/scripts/glide/glide.js"><\/script>\n                \n                <style>\n                    .container {\n                        margin: 150px auto 0;\n                        max-width: 800px;\n                        width: 100%;\n                        padding: 0 20px;\n                        box-sizing: border-box;\n                    }\n                </style>\n            </head>\n            <body>\n            \n            <div class="container">\n            [%CONTENT%]\n            </div>\n            \n            </body>\n            </html>\n            ':"tailwind"===e?'\n            <!DOCTYPE html>\n            <html lang="en">\n            <head>\n                <meta charset="utf-8">\n                <title>Page</title>\n                <meta name="viewport" content="width=device-width, initial-scale=1">\n                <meta name="description" content="">\n                <link rel="shortcut icon" href="#">\n                \n                <link href="[%PATH%]/assets/minimalist-blocks/content-tailwind.css" rel="stylesheet">\n                \n                <link href="[%PATH%]/assets/scripts/glide/css/glide.core.css" rel="stylesheet">\n                <link href="[%PATH%]/assets/scripts/glide/css/glide.theme.css" rel="stylesheet">\n                <script src="[%PATH%]/assets/scripts/glide/glide.js"><\/script>\n                \n                <link rel="stylesheet" href="[%PATH%]/assets/frameworks/tailwindcss/styles.css">\n                \x3c!-- To build your own, please see: https://tailwindcss.com/docs/installation --\x3e\n                \n                <style>\n                    .container {\n                        margin: 150px auto 0;\n                        max-width: 800px;\n                        width: 100%;\n                        padding: 0 20px;\n                        box-sizing: border-box;\n                    }\n                </style>\n            </head>\n            <body>\n            \n            <div class="container">\n            [%CONTENT%]\n            </div>\n            \n            </body>\n            </html>\n            ':"bootstrap"===e?'\n            <!DOCTYPE html>\n            <html lang="en">\n            <head>\n                <meta charset="utf-8">\n                <title>Page</title>\n                <meta name="viewport" content="width=device-width, initial-scale=1">\n                <meta name="description" content="">\n                <link rel="shortcut icon" href="#">\n\n                <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">\n    \n                <link href="[%PATH%]/assets/minimalist-blocks/content.css" rel="stylesheet">\n                \n                <link href="[%PATH%]/assets/scripts/glide/css/glide.core.css" rel="stylesheet">\n                <link href="[%PATH%]/assets/scripts/glide/css/glide.theme.css" rel="stylesheet">\n                <script src="[%PATH%]/assets/scripts/glide/glide.js"><\/script>\n                \n                <style>\n                    .container {margin: 140px auto; max-width: 800px; width:100%; padding:0 35px; box-sizing: border-box;}\n                    /* Bootstrap css adjustment to enable column drag to resize */\n                    .row > *,\n                    .column {\n                        max-width: unset !important;\n                    }\n                </style>\n            </head>\n            <body>\n            \n            <div class="container">\n            [%CONTENT%]\n            </div>\n            \n            </body>\n            </html>\n            ':"foundation"===e?'\n            <!DOCTYPE html>\n            <html lang="en">\n            <head>\n                <meta charset="utf-8">\n                <title>Page</title>\n                <meta name="viewport" content="width=device-width, initial-scale=1">\n                <meta name="description" content="">\n                <link rel="shortcut icon" href="#">\n\n                <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/foundation/6.5.3/css/foundation.min.css">\n                <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/foundation/6.5.3/css/foundation-float.min.css">\n            \n                <link href="[%PATH%]/assets/minimalist-blocks/content.css" rel="stylesheet">\n                \n                <link href="[%PATH%]/assets/scripts/glide/css/glide.core.css" rel="stylesheet">\n                <link href="[%PATH%]/assets/scripts/glide/css/glide.theme.css" rel="stylesheet">\n                <script src="[%PATH%]/assets/scripts/glide/glide.js"><\/script>\n                \n                <style>\n                    .container {\n                        margin: 150px auto 0;\n                        max-width: 800px;\n                        width: 100%;\n                        padding: 0 20px;\n                        box-sizing: border-box;\n                    }\n                </style>\n            </head>\n            <body>\n            \n            <div class="container">\n            [%CONTENT%]\n            </div>\n            \n            </body>\n            </html>\n            ':"[%CONTENT%]",t}}class si{constructor(e){this.builder=e}getScale(e){let t=window.getComputedStyle(e).transform.split("(")[1];t=t.split(")")[0],t=t.split(",");let i=t[0],n=t[1];return Math.sqrt(i*i+n*n)}createElement(e){return document.createElement(e)}appendChild(e,t){e&&e.appendChild(t)}appendHtml(e,t){e&&e.insertAdjacentHTML("beforeend",t)}addEventListener(e,t,i){e&&e.addEventListener(t,i)}addClass(e,t){e&&(this.hasClass(e,t)||(0===e.classList.length?e.className=t:e.className=e.className+" "+t,e.className=e.className.replace(/  +/g," ")))}removeClass(e,t){if(e&&e.classList.length>0){let i,n,s,o,a=t.split(" ");for(i=0,s=a.length;i<s;++i){if(!a[i])continue;let t=a[i],s="",l=e.className.split(" ");for(n=0,o=l.length;n<o;++n)l[n]&&l[n]!==t&&(s+=l[n]+" ");e.className=s.trim()}""===e.className&&e.removeAttribute("class")}}removeClassesByPrefix(e,t){e.classList&&e.classList.forEach((i=>{0===i.indexOf(t)&&this.removeClass(e,i)}))}hasClass(e,t){return!!e&&(!!e.className&&(" "+e.className+" ").indexOf(" "+t+" ")>-1)}moveAfter(e,t){t.parentNode.insertBefore(e,t),t.parentNode.insertBefore(t,t.previousElementSibling)}elementChildren(e){const t=e.childNodes;let i=[],n=t.length;for(;n--;)1===t[n].nodeType&&i.unshift(t[n]);return i}getElementOffset(e){const t=e.getBoundingClientRect();return{top:t.top+window.pageYOffset,left:t.left+window.pageXOffset,width:t.width,height:t.height}}parentsHasClass(e,t){for(;e;){if(!e.tagName)return!1;if("BODY"===e.tagName||"HTML"===e.tagName)return!1;if(this.hasClass(e,t))return!0;e=e.parentNode}}parentsHasId(e,t){for(;e;){if(!e.tagName)return!1;if("BODY"===e.tagName||"HTML"===e.tagName)return!1;if(e.id===t)return!0;e=e.parentNode}}parentsHasTag(e,t){for(;e;){if(!e.tagName)return!1;if("BODY"===e.tagName||"HTML"===e.tagName)return!1;if(e.tagName.toLowerCase()===t.toLowerCase())return!0;e=e.parentNode}}parentsHasAttribute(e,t){for(;e;){if(!e.tagName)return!1;if("BODY"===e.tagName||"HTML"===e.tagName)return!1;try{if(e.hasAttribute(t))return!0}catch(e){}e=e.parentNode}}getParentByTag(e,t){for(;e;){if(!e.tagName)return!1;if("BODY"===e.tagName||"HTML"===e.tagName)return!1;if(e.tagName.toLowerCase()===t.toLowerCase())return e;e=e.parentNode}}getParentByAttribute(e,t){for(;e;){if(!e.tagName)return!1;if("BODY"===e.tagName||"HTML"===e.tagName)return!1;try{if(e.hasAttribute(t))return e}catch(e){}e=e.parentNode}}parentsHasElement(e,t){for(;e;){if(!e.tagName)return!1;if("BODY"===e.tagName||"HTML"===e.tagName)return!1;if(!(e=e.parentNode))return!1;if(!e.tagName)return!1;if(e.tagName.toLowerCase()===t)return!0}}getParentElement(e,t){for(;e;){if(!e.tagName)return!1;if("BODY"===e.tagName||"HTML"===e.tagName)return!1;if(!(e=e.parentNode))return!1;if(!e.tagName)return!1;if(e.tagName.toLowerCase()===t)return e}}removeClasses(e,t){for(let i=0;i<e.length;i++)e[i].classList.remove(t)}removeAttributes(e,t){for(let i=0;i<e.length;i++)e[i].removeAttribute(t)}removeElements(e){Array.prototype.forEach.call(e,(e=>{e.parentNode.removeChild(e)}))}moveCursorToElement(e){var t,i;window.getSelection&&this.builder.doc.createRange?((i=this.builder.doc.createRange()).selectNodeContents(e),i.collapse(!1),(t=window.getSelection()).removeAllRanges(),t.addRange(i)):this.builder.doc.body.createTextRange&&((i=this.builder.doc.body.createTextRange()).moveToElementText(e),i.collapse(!1),i.select())}selectElementContents(e){var t=this.builder.doc.createRange();t.selectNodeContents(e);var i=this.builder.win.getSelection();i.removeAllRanges(),i.addRange(t)}getSelected(){if(this.builder.win.getSelection)return this.builder.win.getSelection().toString();if(this.builder.doc.getSelection)return this.builder.doc.getSelection().toString();var e=this.builder.doc.selection&&this.builder.doc.selection.createRange();return!!e.text&&e.text}checkEditable(){try{var e,t;return this.builder.win.getSelection?e=3===(t=this.builder.win.getSelection().getRangeAt(0).commonAncestorContainer).nodeType?t.parentNode:t:this.builder.doc.selection&&(t=this.builder.doc.selection.createRange(),e=this.builder.doc.selection.createRange().parentElement()),!!this.parentsHasAttribute(e,"contenteditable")}catch(e){return!1}}textSelection(){const e=this.getSelection().anchorNode;if(!e)return!1;return e.nodeType!==Node.TEXT_NODE&&e.nodeType!==Node.COMMENT_NODE?e:e.parentElement}getStyle(e,t){return window.getComputedStyle?window.getComputedStyle(e,null).getPropertyValue(t):e.style[t.replace(/-([a-z])/g,(function(e){return e[1].toUpperCase()}))]}observeElement(e,t,i,n=0){let s=Object.getPrototypeOf(e);if(Object.prototype.hasOwnProperty.call(s,t)){let o=Object.getOwnPropertyDescriptor(s,t);Object.defineProperty(e,t,{get:function(){return o.get.apply(this,arguments)},set:function(){let e=this[t];o.set.apply(this,arguments);let s=this[t];"function"==typeof i&&setTimeout(i.bind(this,e,s),n)}})}}baseName(e){if("string"==typeof e){var t=e.split(".");return t.splice(0,t.length-1).join(".")}}doFunction(e,t,i){if(t(e),i){let i=Array.prototype.slice.call(e.getElementsByTagName("*"));for(var n=0;n<i.length;n++)t(i[n])}}execCommand(e,t,i){const n=this.getSelection();if(!n)return;const s=n.anchorNode;if(s){const r=s.nodeType!==Node.TEXT_NODE&&s.nodeType!==Node.COMMENT_NODE?s:s.parentElement,d=r&&r.innerText===n.toString();let c,u=!1;for(var o=[],a=ii.getSelection(),l=0;l<a.rangeCount;++l)o=o.concat(a.getRangeAt(l).getNodes());const p=["p","h1","h2","h3","h4","h5","h6","div","pre","li"];if(o.forEach((e=>{if(e.tagName){const t=e.tagName.toLowerCase();-1!==p.indexOf(t)&&(u=!0,i(!0,e))}})),u)return;c=d||""===n.toString().trim()?this.updateSelection(e,t,r):this.replaceSelection(e,t,n,r),i&&i(!0,c)}else i&&i(!1)}updateSelection(e,t,i){return i.style[e]=this.getStyleValue(i,e,t),this.checkStyleIfSameAsParent(i,e),this.cleanChildren(e,i),this.cleanUnusedSpan(i),i}replaceSelection(e,t,i,n){const s=i.getRangeAt(0),o=s.extractContents(),a=this.createSpan(n,e,t);return a.appendChild(o),this.cleanChildren(e,a),this.cleanUnusedSpan(a),s.insertNode(a),i.selectAllChildren(a),this.checkStyleIfSameAsParent(a,e),a}checkStyleIfSameAsParent(e,t){if(e.parentNode&&(e.parentNode.style[t]===e.style[t]||window.getComputedStyle(e.parentNode,null).getPropertyValue(t)===e.style[t])){e.style[t]="",""!==e.getAttribute("style")&&null!==e.style||e.removeAttribute("style");let i=0===e.attributes.length||1===e.attributes.length&&e.hasAttribute("data-keep");if("span"===e.nodeName.toLowerCase()&&i){const t=document.createTextNode(e.textContent);e.parentElement.replaceChild(t,e)}}}createSpan(e,t,i){const n=document.createElement("span");return n.style[t]=this.getStyleValue(e,t,i),n}findParentStyle(e,t){if("HTML"===e.nodeName.toUpperCase()||"BODY"===e.nodeName.toUpperCase())return null;if(!e.parentNode)return null;if(null!==e.style[t]&&void 0!==e.style[t]&&""!==e.style[t])return e;this.findParentStyle(e.parentNode,t)}getStyleValue(e,t,i){if("font-weight"===t||"font-style"===t||"text-decoration"===t||"text-transform"===t){let n,s=this.findParentStyle(e,t);if(s&&(n=s.style[t]),i===n){e.style[t]="";let s=window.getComputedStyle(e,null).getPropertyValue(t);e.style[t]=n,i=s}}return i}getParentBlock(e){for(;e;){if(!e.tagName)return!1;if("BODY"===e.tagName||"HTML"===e.tagName)return!1;if("inline"!==this.getStyle(e,"display"))return e;e=e.parentNode}}execCommandClass(e,t,i=!0,n){const s=this.getSelection();if(!s)return;const o=s.anchorNode;if(o){let d=o.nodeType!==Node.TEXT_NODE&&o.nodeType!==Node.COMMENT_NODE?o:o.parentElement;const c=d&&d.innerText===s.toString();let u=!1;for(var a=[],l=ii.getSelection(),r=0;r<l.rangeCount;++r)a=a.concat(l.getRangeAt(r).getNodes());const p=["p","h1","h2","h3","h4","h5","h6","div","pre"];if(a.forEach((i=>{if(i.tagName){const n=i.tagName.toLowerCase();if(-1!==p.indexOf(n)){u=!0;for(let e=0;e<Object.keys(t).length;e++){let n=Object.values(t)[e];this.removeClass(i,n)}""!==e&&this.addClass(i,e),this.cleanChildrenClass(i,t),this.cleanUnusedSpan(i)}}})),u)return;(i||c||""===s.toString().trim())&&("block"===n&&"inline"===this.getStyle(d,"display")&&(d=this.getParentBlock(d)),this.updateSelectionClass(e,t,d))}}updateSelectionClass(e,t,i){for(let e=0;e<Object.keys(t).length;e++){let n=Object.values(t)[e];this.removeClass(i,n)}return""!==e&&this.addClass(i,e),this.cleanChildrenClass(i,t),this.cleanUnusedSpan(i),i}cleanChildrenClass(e,t){if(!e.hasChildNodes())return;Array.from(e.children).map((e=>{for(let i=0;i<Object.keys(t).length;i++){let n=Object.values(t)[i];this.removeClass(e,n)}}));const i=Array.from(e.children).map((e=>this.cleanChildrenClass(e,t)));i&&i.length}execCommandToggle(e,t,i){const n=this.getSelection();if(!n)return;const s=n.anchorNode;if(s){const r=s.nodeType!==Node.TEXT_NODE&&s.nodeType!==Node.COMMENT_NODE?s:s.parentElement,d=r&&r.innerText===n.toString();let c=!1;for(var o=[],a=ii.getSelection(),l=0;l<a.rangeCount;++l)o=o.concat(a.getRangeAt(l).getNodes());const u=["p","h1","h2","h3","h4","h5","h6","div","pre"];if(o.forEach((n=>{if(n.tagName){const s=n.tagName.toLowerCase();if(-1!==u.indexOf(s)){if(c=!0,"fontWeight"===e){let e=!1;this.hasClass(n,i.fontWeight.defaultBold)&&(e=!0),this.removeClass(n,i.fontWeight.thin),this.removeClass(n,i.fontWeight.extralight),this.removeClass(n,i.fontWeight.light),this.removeClass(n,i.fontWeight.normal),this.removeClass(n,i.fontWeight.medium),this.removeClass(n,i.fontWeight.semibold),this.removeClass(n,i.fontWeight.bold),this.removeClass(n,i.fontWeight.extrabold),this.removeClass(n,i.fontWeight.black),e||this.addClass(n,i.fontWeight.defaultBold)}if("fontStyle"===e){let e=!1;this.hasClass(n,i.fontStyle.italic)&&(e=!0),this.removeClass(n,i.fontStyle.italic),this.removeClass(n,i.fontStyle.normal),e||this.addClass(n,i.fontStyle.italic)}if("textUnderline"===e){let e=!1;this.hasClass(n,i.textDecoration.underline)&&(e=!0),this.removeClass(n,i.textDecoration.linethrough),this.removeClass(n,i.textDecoration.underline),this.removeClass(n,i.textDecoration.normal),e||this.addClass(n,i.textDecoration.underline)}if("textLinethrough"===e){let e=!1;this.hasClass(n,i.textDecoration.linethrough)&&(e=!0),this.removeClass(n,i.textDecoration.underline),this.removeClass(n,i.textDecoration.linethrough),this.removeClass(n,i.textDecoration.normal),e||this.addClass(n,i.textDecoration.linethrough)}if("textTransform"===e){let e="";this.hasClass(n,i.textTransform.uppercase)?e="uppercase":this.hasClass(n,i.textTransform.lowercase)?e="lowercase":this.hasClass(n,i.textTransform.capitalize)?e="capitalize":this.hasClass(n,i.textTransform.normal)&&(e="normal"),this.removeClass(n,i.textTransform.uppercase),this.removeClass(n,i.textTransform.lowercase),this.removeClass(n,i.textTransform.capitalize),this.removeClass(n,i.textTransform.normal),""===e?this.addClass(n,i.textTransform.uppercase):"uppercase"===e?this.addClass(n,i.textTransform.lowercase):"lowercase"===e?this.addClass(n,i.textTransform.capitalize):"capitalize"===e||"normal"===e&&this.addClass(n,i.textTransform.uppercase)}if("clean"===e&&(n.className="",n.style.cssText=""),"extend"===e){let e=!1;this.hasClass(n,i.extend[t])&&(e=!0),e?this.removeClass(n,i.extend[t]):this.addClass(n,i.extend[t])}this.cleanChildrenToggle(e,t,n,i),this.cleanUnusedSpan(n)}}})),c)return;d||""===n.toString().trim()?this.updateSelectionToggle(e,t,i,r):this.replaceSelectionToggle(e,t,i,n,r)}}updateSelectionToggle(e,t,i,n){if("fontWeight"===e){let e=!1;this.hasClass(n,i.fontWeight.defaultBold)&&(e=!0);parseInt(window.getComputedStyle(n,null).getPropertyValue("font-weight"))>=500&&(e=!0),this.removeClass(n,i.fontWeight.thin),this.removeClass(n,i.fontWeight.extralight),this.removeClass(n,i.fontWeight.light),this.removeClass(n,i.fontWeight.normal),this.removeClass(n,i.fontWeight.medium),this.removeClass(n,i.fontWeight.semibold),this.removeClass(n,i.fontWeight.bold),this.removeClass(n,i.fontWeight.extrabold),this.removeClass(n,i.fontWeight.black),e?this.addClass(n,i.fontWeight.defaultNormal):this.addClass(n,i.fontWeight.defaultBold)}if("fontStyle"===e){let e=!1;this.hasClass(n,i.fontStyle.italic)&&(e=!0),this.removeClass(n,i.fontStyle.italic),this.removeClass(n,i.fontStyle.normal),e?this.addClass(n,i.fontStyle.normal):this.addClass(n,i.fontStyle.italic)}if("textUnderline"===e){let e=!1;this.hasClass(n,i.textDecoration.underline)&&(e=!0),this.removeClass(n,i.textDecoration.underline),this.removeClass(n,i.textDecoration.linethrough),this.removeClass(n,i.textDecoration.normal),e?this.addClass(n,i.textDecoration.normal):this.addClass(n,i.textDecoration.underline)}if("textLinethrough"===e){let e=!1;this.hasClass(n,i.textDecoration.linethrough)&&(e=!0),this.removeClass(n,i.textDecoration.underline),this.removeClass(n,i.textDecoration.linethrough),this.removeClass(n,i.textDecoration.normal),e?this.addClass(n,i.textDecoration.normal):this.addClass(n,i.textDecoration.linethrough)}if("textTransform"===e){let e="";this.hasClass(n,i.textTransform.uppercase)?e="uppercase":this.hasClass(n,i.textTransform.lowercase)?e="lowercase":this.hasClass(n,i.textTransform.capitalize)?e="capitalize":this.hasClass(n,i.textTransform.normal)&&(e="normal"),this.removeClass(n,i.textTransform.uppercase),this.removeClass(n,i.textTransform.lowercase),this.removeClass(n,i.textTransform.capitalize),this.removeClass(n,i.textTransform.normal),""===e?this.addClass(n,i.textTransform.uppercase):"uppercase"===e?this.addClass(n,i.textTransform.lowercase):"lowercase"===e?this.addClass(n,i.textTransform.capitalize):"capitalize"===e?this.addClass(n,i.textTransform.normal):"normal"===e&&this.addClass(n,i.textTransform.uppercase)}if("clean"===e&&(n.className="",n.style.cssText=""),"extend"===e){let e=!1;this.hasClass(n,i.extend[t])&&(e=!0),e?this.removeClass(n,i.extend[t]):this.addClass(n,i.extend[t])}return this.cleanChildrenToggle(e,t,n,i),this.cleanUnusedSpan(n),n}replaceSelectionToggle(e,t,i,n,s){const o=n.getRangeAt(0),a=o.extractContents(),l=document.createElement("span");if("fontWeight"===e){let e=!1;s.closest(`.${i.fontWeight.defaultBold}`)&&(e=!0,this.hasClass(s,i.fontWeight.defaultNormal)&&(e=!1));parseInt(window.getComputedStyle(s,null).getPropertyValue("font-weight"))>=500&&(e=!0),e?this.addClass(l,i.fontWeight.defaultNormal):this.addClass(l,i.fontWeight.defaultBold)}if("fontStyle"===e){let e=!1;s.closest(`.${i.fontStyle.italic}`)&&(e=!0,this.hasClass(s,i.fontStyle.normal)&&(e=!1)),e?this.addClass(l,i.fontStyle.normal):this.addClass(l,i.fontStyle.italic)}if("textUnderline"===e){let e=!1;s.closest(`.${i.textDecoration.underline}`)&&(e=!0),e||this.addClass(l,i.textDecoration.underline)}if("textLinethrough"===e){let e=!1;s.closest(`.${i.textDecoration.linethrough}`)&&(e=!0),e||this.addClass(l,i.textDecoration.linethrough)}if("textTransform"===e){let e="";s.closest(`.${i.textTransform.uppercase}`)?e="uppercase":s.closest(`.${i.textTransform.lowercase}`)?e="lowercase":s.closest(`.${i.textTransform.capitalize}`)?e="capitalize":s.closest(`.${i.textTransform.normal}`)&&(e="normal"),""===e?this.addClass(l,i.textTransform.uppercase):"uppercase"===e?this.addClass(l,i.textTransform.lowercase):"lowercase"===e?this.addClass(l,i.textTransform.capitalize):"capitalize"===e?this.addClass(l,i.textTransform.normal):"normal"===e&&this.addClass(l,i.textTransform.uppercase)}if("extend"===e){let e=!1;s.closest(`.${i.extend[t]}`)&&(e=!0),e||this.addClass(l,i.extend[t])}return l.appendChild(a),this.cleanChildrenToggle(e,t,l,i),this.cleanUnusedSpan(l),o.insertNode(l),n.selectAllChildren(l),l}cleanChildrenToggle(e,t,i,n){if(!i.hasChildNodes())return;"fontWeight"===e&&Array.from(i.children).map((e=>{this.removeClass(e,n.fontWeight.thin),this.removeClass(e,n.fontWeight.extralight),this.removeClass(e,n.fontWeight.light),this.removeClass(e,n.fontWeight.normal),this.removeClass(e,n.fontWeight.medium),this.removeClass(e,n.fontWeight.semibold),this.removeClass(e,n.fontWeight.bold),this.removeClass(e,n.fontWeight.extrabold),this.removeClass(e,n.fontWeight.black)})),"fontStyle"===e&&Array.from(i.children).map((e=>{this.removeClass(e,n.fontStyle.italic),this.removeClass(e,n.fontStyle.normal)})),"textUnderline"===e&&Array.from(i.children).map((e=>{this.removeClass(e,n.textDecoration.underline),this.removeClass(e,n.textDecoration.linethrough),this.removeClass(e,n.textDecoration.normal)})),"textLinethrough"===e&&Array.from(i.children).map((e=>{this.removeClass(e,n.textDecoration.underline),this.removeClass(e,n.textDecoration.linethrough),this.removeClass(e,n.textDecoration.normal)})),"textTransform"===e&&Array.from(i.children).map((e=>{this.removeClass(e,n.textTransform.uppercase),this.removeClass(e,n.textTransform.lowercase),this.removeClass(e,n.textTransform.capitalize),this.removeClass(e,n.textTransform.normal)})),"clean"===e&&Array.from(i.children).map((e=>{e.className="",e.style.cssText=""})),"extend"===e&&Array.from(i.children).map((e=>{this.removeClass(e,n.extend[t])}));const s=Array.from(i.children).map((i=>this.cleanChildrenToggle(e,t,i,n)));s&&s.length}getSelection(){return this.builder.win&&this.builder.win.getSelection?this.builder.win.getSelection():this.builder.doc&&this.builder.doc.getSelection?this.builder.doc.getSelection():this.builder.doc&&this.builder.doc.selection?this.builder.doc.selection.createRange().text:null}cleanChildren(e,t){if(!t.hasChildNodes())return;const i=Array.from(t.children).filter((t=>void 0!==t.style[e]&&""!==t.style[e.style]));i&&i.length>0&&i.forEach((t=>{t.style[e]="",""!==t.getAttribute("style")&&null!==t.style||t.removeAttribute("style")}));const n=Array.from(t.children).map((t=>this.cleanChildren(e,t)));n&&n.length}addCssClass(e,t,i){this.removeCssClasses(e,i),this.addClass(e,t)}removeCssClasses(e,t){for(let i=0;i<Object.keys(t).length;i++){const n=Object.values(t)[i];this.removeClass(e,n)}}removeEmptyStyle(e){if(!e.hasChildNodes())return;const t=Array.from(e.children).filter((e=>e.getAttribute("style")));t&&t.length>0&&t.forEach((e=>{""!==e.getAttribute("style").trim()&&null!==e.style||e.removeAttribute("style")}));const i=Array.from(e.children).map((e=>this.removeEmptyStyle(e)));i&&i.length}cleanClassSize(e,t){if(!e.hasChildNodes())return;const i=Array.from(e.children).filter((e=>this.hasClass(e,t)));i&&i.length>0&&i.forEach((e=>{this.removeClass(e,t)}));const n=Array.from(e.children).map((e=>this.cleanClassSize(e,t)));n&&n.length}removeFormat(){const e=this.getSelection();if(!e)return;const t=e.anchorNode;if(!t)return;const i=t.nodeType!==Node.TEXT_NODE&&t.nodeType!==Node.COMMENT_NODE?t:t.parentElement;i&&i.innerText===e.toString()||""===e.toString().trim()?this.cleanElement(i):this.cleanSelection(e)}cleanElement(e){e.style.fontWeight="",e.style.fontStyle="",e.style.textDecoration="",e.style.textTransform="",e.style.fontFamily="",e.style.fontSize="",e.style.color="",e.style.backgroundColor="",e.classList.forEach((t=>{-1!==t.indexOf("size-")&&this.removeClass(e,t)})),e.querySelectorAll("*").forEach((e=>{e.style.fontWeight="",e.style.fontStyle="",e.style.textDecoration="",e.style.textTransform="",e.style.fontFamily="",e.style.fontSize="",e.style.color="",e.style.backgroundColor="",e.classList.forEach((t=>{-1!==t.indexOf("size-")&&this.removeClass(e,t)}))})),this.cleanUnusedSpan(e)}cleanSelection(e){const t=e.getRangeAt(0),i=t.extractContents(),n=document.createElement("span");n.appendChild(i),t.insertNode(n),e.selectAllChildren(n),this.cleanElement(n)}cleanUnusedSpan(e){let t=e.querySelectorAll("span");const i=Array.prototype.filter;let n=i.call(t,(e=>0===e.attributes.length));n&&n.length>0&&n.forEach((e=>{e.outerHTML=e.innerHTML})),t=e.querySelectorAll("span"),i.call(t,(e=>{""===e.innerHTML&&e.parentNode.removeChild(e)})),t=e.querySelectorAll("span"),n=i.call(t,(e=>0===e.attributes.length)),n&&n.length>0&&this.cleanUnusedSpan(e)}contentReformat(e,t){this.replaceTag(e,"b",t.fontWeight.defaultBold),this.replaceTag(e,"i",t.fontStyle.italic),this.replaceTag(e,"u",t.textDecoration.underline),this.replaceTag(e,"strike",t.textDecoration.linethrough),this.replaceInline(e,"font-weight","normal",t.fontWeight.defaultBold),this.replaceInline(e,"font-weight","bold",t.fontWeight.defaultBold),this.replaceInline(e,"font-weight","600",t.fontWeight.semibold),this.replaceInline(e,"text-align","left",t.textAlign.left),this.replaceInline(e,"text-align","right",t.textAlign.right),this.replaceInline(e,"text-align","center",t.textAlign.center),this.replaceInline(e,"text-align","justify",t.textAlign.justify),this.replaceInline(e,"display","flex",t.display.flex),this.replaceInline(e,"justiify-content","flex-start",t.justifyContent.start),this.replaceInline(e,"justiify-content","flex-end",t.justifyContent.end),this.replaceInline(e,"justiify-content","center",t.justifyContent.center),this.replaceInline(e,"justiify-content","space-between",t.justifyContent.between),this.replaceInline(e,"flex-direction","column",t.flexDirection.column),this.replaceInline(e,"flex-direction","row",t.flexDirection.row),this.replaceInline(e,"align-items","flex-start",t.alignItems.start),this.replaceInline(e,"align-items","flex-end",t.alignItems.end),this.replaceInline(e,"align-items","center",t.alignItems.center),this.replaceInline(e,"text-transform","uppercase",t.textTransform.uppercase),this.replaceInline(e,"text-transform","lowercase",t.textTransform.lowercase),this.replaceInline(e,"text-transform","none",t.textTransform.normal),this.replaceInline(e,"line-height","1",t.leading.leading_10),this.replaceInline(e,"line-height","1.1",t.leading.leading_11),this.replaceInline(e,"line-height","1.2",t.leading.leading_12),this.replaceInline(e,"line-height","1.25",t.leading.leading_125),this.replaceInline(e,"line-height","1.3",t.leading.leading_13),this.replaceInline(e,"line-height","1.375",t.leading.leading_1375),this.replaceInline(e,"line-height","1.4",t.leading.leading_14),this.replaceInline(e,"line-height","1.5",t.leading.leading_15),this.replaceInline(e,"line-height","1.6",t.leading.leading_16),this.replaceInline(e,"line-height","1.625",t.leading.leading_1625),this.replaceInline(e,"line-height","1.7",t.leading.leading_17),this.replaceInline(e,"line-height","1.8",t.leading.leading_18),this.replaceInline(e,"line-height","1.9",t.leading.leading_19),this.replaceInline(e,"line-height","2",t.leading.leading_20),this.replaceInline(e,"line-height","2.1",t.leading.leading_21),this.replaceInline(e,"line-height","2.2",t.leading.leading_22)}replaceTag(e,t,i){let n=e.querySelectorAll(t);let s=Array.prototype.filter.call(n,(e=>0===e.attributes.length));s&&s.length>0&&s.forEach((e=>{const t=document.createElement("span");t.setAttribute("class",i),t.innerHTML=e.innerHTML,e.outerHTML=t.outerHTML}))}replaceInline(e,t,i,n){e.querySelectorAll("*").forEach((e=>{"justiify-content"===t?e.style.justifyContent===`${i}`&&(this.addClass(e,n),e.style.justifyContent=""):e.style[t]===`${i}`&&(this.addClass(e,n),e.style[t]="")}))}}var oi={exports:{}},ai={},li={exports:{}},ri={},di={};function ci(e){this.__parent=e,this.__character_count=0,this.__indent_count=-1,this.__alignment_count=0,this.__wrap_point_index=0,this.__wrap_point_character_count=0,this.__wrap_point_indent_count=-1,this.__wrap_point_alignment_count=0,this.__items=[]}function ui(e,t){this.__cache=[""],this.__indent_size=e.indent_size,this.__indent_string=e.indent_char,e.indent_with_tabs||(this.__indent_string=new Array(e.indent_size+1).join(e.indent_char)),t=t||"",e.indent_level>0&&(t=new Array(e.indent_level+1).join(this.__indent_string)),this.__base_string=t,this.__base_string_length=t.length}function pi(e,t){this.__indent_cache=new ui(e,t),this.raw=!1,this._end_with_newline=e.end_with_newline,this.indent_size=e.indent_size,this.wrap_line_length=e.wrap_line_length,this.indent_empty_lines=e.indent_empty_lines,this.__lines=[],this.previous_line=null,this.current_line=null,this.next_line=new ci(this),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1,this.__add_outputline()}ci.prototype.clone_empty=function(){var e=new ci(this.__parent);return e.set_indent(this.__indent_count,this.__alignment_count),e},ci.prototype.item=function(e){return e<0?this.__items[this.__items.length+e]:this.__items[e]},ci.prototype.has_match=function(e){for(var t=this.__items.length-1;t>=0;t--)if(this.__items[t].match(e))return!0;return!1},ci.prototype.set_indent=function(e,t){this.is_empty()&&(this.__indent_count=e||0,this.__alignment_count=t||0,this.__character_count=this.__parent.get_indent_size(this.__indent_count,this.__alignment_count))},ci.prototype._set_wrap_point=function(){this.__parent.wrap_line_length&&(this.__wrap_point_index=this.__items.length,this.__wrap_point_character_count=this.__character_count,this.__wrap_point_indent_count=this.__parent.next_line.__indent_count,this.__wrap_point_alignment_count=this.__parent.next_line.__alignment_count)},ci.prototype._should_wrap=function(){return this.__wrap_point_index&&this.__character_count>this.__parent.wrap_line_length&&this.__wrap_point_character_count>this.__parent.next_line.__character_count},ci.prototype._allow_wrap=function(){if(this._should_wrap()){this.__parent.add_new_line();var e=this.__parent.current_line;return e.set_indent(this.__wrap_point_indent_count,this.__wrap_point_alignment_count),e.__items=this.__items.slice(this.__wrap_point_index),this.__items=this.__items.slice(0,this.__wrap_point_index),e.__character_count+=this.__character_count-this.__wrap_point_character_count,this.__character_count=this.__wrap_point_character_count," "===e.__items[0]&&(e.__items.splice(0,1),e.__character_count-=1),!0}return!1},ci.prototype.is_empty=function(){return 0===this.__items.length},ci.prototype.last=function(){return this.is_empty()?null:this.__items[this.__items.length-1]},ci.prototype.push=function(e){this.__items.push(e);var t=e.lastIndexOf("\n");-1!==t?this.__character_count=e.length-t:this.__character_count+=e.length},ci.prototype.pop=function(){var e=null;return this.is_empty()||(e=this.__items.pop(),this.__character_count-=e.length),e},ci.prototype._remove_indent=function(){this.__indent_count>0&&(this.__indent_count-=1,this.__character_count-=this.__parent.indent_size)},ci.prototype._remove_wrap_indent=function(){this.__wrap_point_indent_count>0&&(this.__wrap_point_indent_count-=1)},ci.prototype.trim=function(){for(;" "===this.last();)this.__items.pop(),this.__character_count-=1},ci.prototype.toString=function(){var e="";return this.is_empty()?this.__parent.indent_empty_lines&&(e=this.__parent.get_indent_string(this.__indent_count)):(e=this.__parent.get_indent_string(this.__indent_count,this.__alignment_count),e+=this.__items.join("")),e},ui.prototype.get_indent_size=function(e,t){var i=this.__base_string_length;return t=t||0,e<0&&(i=0),i+=e*this.__indent_size,i+=t},ui.prototype.get_indent_string=function(e,t){var i=this.__base_string;return t=t||0,e<0&&(e=0,i=""),t+=e*this.__indent_size,this.__ensure_cache(t),i+=this.__cache[t]},ui.prototype.__ensure_cache=function(e){for(;e>=this.__cache.length;)this.__add_column()},ui.prototype.__add_column=function(){var e=this.__cache.length,t=0,i="";this.__indent_size&&e>=this.__indent_size&&(e-=(t=Math.floor(e/this.__indent_size))*this.__indent_size,i=new Array(t+1).join(this.__indent_string)),e&&(i+=new Array(e+1).join(" ")),this.__cache.push(i)},pi.prototype.__add_outputline=function(){this.previous_line=this.current_line,this.current_line=this.next_line.clone_empty(),this.__lines.push(this.current_line)},pi.prototype.get_line_number=function(){return this.__lines.length},pi.prototype.get_indent_string=function(e,t){return this.__indent_cache.get_indent_string(e,t)},pi.prototype.get_indent_size=function(e,t){return this.__indent_cache.get_indent_size(e,t)},pi.prototype.is_empty=function(){return!this.previous_line&&this.current_line.is_empty()},pi.prototype.add_new_line=function(e){return!(this.is_empty()||!e&&this.just_added_newline())&&(this.raw||this.__add_outputline(),!0)},pi.prototype.get_code=function(e){this.trim(!0);var t=this.current_line.pop();t&&("\n"===t[t.length-1]&&(t=t.replace(/\n+$/g,"")),this.current_line.push(t)),this._end_with_newline&&this.__add_outputline();var i=this.__lines.join("\n");return"\n"!==e&&(i=i.replace(/[\n]/g,e)),i},pi.prototype.set_wrap_point=function(){this.current_line._set_wrap_point()},pi.prototype.set_indent=function(e,t){return e=e||0,t=t||0,this.next_line.set_indent(e,t),this.__lines.length>1?(this.current_line.set_indent(e,t),!0):(this.current_line.set_indent(),!1)},pi.prototype.add_raw_token=function(e){for(var t=0;t<e.newlines;t++)this.__add_outputline();this.current_line.set_indent(-1),this.current_line.push(e.whitespace_before),this.current_line.push(e.text),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1},pi.prototype.add_token=function(e){this.__add_space_before_token(),this.current_line.push(e),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=this.current_line._allow_wrap()},pi.prototype.__add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&(this.non_breaking_space||this.set_wrap_point(),this.current_line.push(" "))},pi.prototype.remove_indent=function(e){for(var t=this.__lines.length;e<t;)this.__lines[e]._remove_indent(),e++;this.current_line._remove_wrap_indent()},pi.prototype.trim=function(e){for(e=void 0!==e&&e,this.current_line.trim();e&&this.__lines.length>1&&this.current_line.is_empty();)this.__lines.pop(),this.current_line=this.__lines[this.__lines.length-1],this.current_line.trim();this.previous_line=this.__lines.length>1?this.__lines[this.__lines.length-2]:null},pi.prototype.just_added_newline=function(){return this.current_line.is_empty()},pi.prototype.just_added_blankline=function(){return this.is_empty()||this.current_line.is_empty()&&this.previous_line.is_empty()},pi.prototype.ensure_empty_line_above=function(e,t){for(var i=this.__lines.length-2;i>=0;){var n=this.__lines[i];if(n.is_empty())break;if(0!==n.item(0).indexOf(e)&&n.item(-1)!==t){this.__lines.splice(i+1,0,new ci(this)),this.previous_line=this.__lines[this.__lines.length-2];break}i--}},di.Output=pi;var hi={};hi.Token=function(e,t,i,n){this.type=e,this.text=t,this.comments_before=null,this.newlines=i||0,this.whitespace_before=n||"",this.parent=null,this.next=null,this.previous=null,this.opened=null,this.closed=null,this.directives=null};var mi={};!function(e){var t="\\x24\\x30-\\x39\\x41-\\x5a\\x5f\\x61-\\x7a",i="\\xaa\\xb5\\xba\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02c1\\u02c6-\\u02d1\\u02e0-\\u02e4\\u02ec\\u02ee\\u0370-\\u0374\\u0376\\u0377\\u037a-\\u037d\\u0386\\u0388-\\u038a\\u038c\\u038e-\\u03a1\\u03a3-\\u03f5\\u03f7-\\u0481\\u048a-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05d0-\\u05ea\\u05f0-\\u05f2\\u0620-\\u064a\\u066e\\u066f\\u0671-\\u06d3\\u06d5\\u06e5\\u06e6\\u06ee\\u06ef\\u06fa-\\u06fc\\u06ff\\u0710\\u0712-\\u072f\\u074d-\\u07a5\\u07b1\\u07ca-\\u07ea\\u07f4\\u07f5\\u07fa\\u0800-\\u0815\\u081a\\u0824\\u0828\\u0840-\\u0858\\u08a0\\u08a2-\\u08ac\\u0904-\\u0939\\u093d\\u0950\\u0958-\\u0961\\u0971-\\u0977\\u0979-\\u097f\\u0985-\\u098c\\u098f\\u0990\\u0993-\\u09a8\\u09aa-\\u09b0\\u09b2\\u09b6-\\u09b9\\u09bd\\u09ce\\u09dc\\u09dd\\u09df-\\u09e1\\u09f0\\u09f1\\u0a05-\\u0a0a\\u0a0f\\u0a10\\u0a13-\\u0a28\\u0a2a-\\u0a30\\u0a32\\u0a33\\u0a35\\u0a36\\u0a38\\u0a39\\u0a59-\\u0a5c\\u0a5e\\u0a72-\\u0a74\\u0a85-\\u0a8d\\u0a8f-\\u0a91\\u0a93-\\u0aa8\\u0aaa-\\u0ab0\\u0ab2\\u0ab3\\u0ab5-\\u0ab9\\u0abd\\u0ad0\\u0ae0\\u0ae1\\u0b05-\\u0b0c\\u0b0f\\u0b10\\u0b13-\\u0b28\\u0b2a-\\u0b30\\u0b32\\u0b33\\u0b35-\\u0b39\\u0b3d\\u0b5c\\u0b5d\\u0b5f-\\u0b61\\u0b71\\u0b83\\u0b85-\\u0b8a\\u0b8e-\\u0b90\\u0b92-\\u0b95\\u0b99\\u0b9a\\u0b9c\\u0b9e\\u0b9f\\u0ba3\\u0ba4\\u0ba8-\\u0baa\\u0bae-\\u0bb9\\u0bd0\\u0c05-\\u0c0c\\u0c0e-\\u0c10\\u0c12-\\u0c28\\u0c2a-\\u0c33\\u0c35-\\u0c39\\u0c3d\\u0c58\\u0c59\\u0c60\\u0c61\\u0c85-\\u0c8c\\u0c8e-\\u0c90\\u0c92-\\u0ca8\\u0caa-\\u0cb3\\u0cb5-\\u0cb9\\u0cbd\\u0cde\\u0ce0\\u0ce1\\u0cf1\\u0cf2\\u0d05-\\u0d0c\\u0d0e-\\u0d10\\u0d12-\\u0d3a\\u0d3d\\u0d4e\\u0d60\\u0d61\\u0d7a-\\u0d7f\\u0d85-\\u0d96\\u0d9a-\\u0db1\\u0db3-\\u0dbb\\u0dbd\\u0dc0-\\u0dc6\\u0e01-\\u0e30\\u0e32\\u0e33\\u0e40-\\u0e46\\u0e81\\u0e82\\u0e84\\u0e87\\u0e88\\u0e8a\\u0e8d\\u0e94-\\u0e97\\u0e99-\\u0e9f\\u0ea1-\\u0ea3\\u0ea5\\u0ea7\\u0eaa\\u0eab\\u0ead-\\u0eb0\\u0eb2\\u0eb3\\u0ebd\\u0ec0-\\u0ec4\\u0ec6\\u0edc-\\u0edf\\u0f00\\u0f40-\\u0f47\\u0f49-\\u0f6c\\u0f88-\\u0f8c\\u1000-\\u102a\\u103f\\u1050-\\u1055\\u105a-\\u105d\\u1061\\u1065\\u1066\\u106e-\\u1070\\u1075-\\u1081\\u108e\\u10a0-\\u10c5\\u10c7\\u10cd\\u10d0-\\u10fa\\u10fc-\\u1248\\u124a-\\u124d\\u1250-\\u1256\\u1258\\u125a-\\u125d\\u1260-\\u1288\\u128a-\\u128d\\u1290-\\u12b0\\u12b2-\\u12b5\\u12b8-\\u12be\\u12c0\\u12c2-\\u12c5\\u12c8-\\u12d6\\u12d8-\\u1310\\u1312-\\u1315\\u1318-\\u135a\\u1380-\\u138f\\u13a0-\\u13f4\\u1401-\\u166c\\u166f-\\u167f\\u1681-\\u169a\\u16a0-\\u16ea\\u16ee-\\u16f0\\u1700-\\u170c\\u170e-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176c\\u176e-\\u1770\\u1780-\\u17b3\\u17d7\\u17dc\\u1820-\\u1877\\u1880-\\u18a8\\u18aa\\u18b0-\\u18f5\\u1900-\\u191c\\u1950-\\u196d\\u1970-\\u1974\\u1980-\\u19ab\\u19c1-\\u19c7\\u1a00-\\u1a16\\u1a20-\\u1a54\\u1aa7\\u1b05-\\u1b33\\u1b45-\\u1b4b\\u1b83-\\u1ba0\\u1bae\\u1baf\\u1bba-\\u1be5\\u1c00-\\u1c23\\u1c4d-\\u1c4f\\u1c5a-\\u1c7d\\u1ce9-\\u1cec\\u1cee-\\u1cf1\\u1cf5\\u1cf6\\u1d00-\\u1dbf\\u1e00-\\u1f15\\u1f18-\\u1f1d\\u1f20-\\u1f45\\u1f48-\\u1f4d\\u1f50-\\u1f57\\u1f59\\u1f5b\\u1f5d\\u1f5f-\\u1f7d\\u1f80-\\u1fb4\\u1fb6-\\u1fbc\\u1fbe\\u1fc2-\\u1fc4\\u1fc6-\\u1fcc\\u1fd0-\\u1fd3\\u1fd6-\\u1fdb\\u1fe0-\\u1fec\\u1ff2-\\u1ff4\\u1ff6-\\u1ffc\\u2071\\u207f\\u2090-\\u209c\\u2102\\u2107\\u210a-\\u2113\\u2115\\u2119-\\u211d\\u2124\\u2126\\u2128\\u212a-\\u212d\\u212f-\\u2139\\u213c-\\u213f\\u2145-\\u2149\\u214e\\u2160-\\u2188\\u2c00-\\u2c2e\\u2c30-\\u2c5e\\u2c60-\\u2ce4\\u2ceb-\\u2cee\\u2cf2\\u2cf3\\u2d00-\\u2d25\\u2d27\\u2d2d\\u2d30-\\u2d67\\u2d6f\\u2d80-\\u2d96\\u2da0-\\u2da6\\u2da8-\\u2dae\\u2db0-\\u2db6\\u2db8-\\u2dbe\\u2dc0-\\u2dc6\\u2dc8-\\u2dce\\u2dd0-\\u2dd6\\u2dd8-\\u2dde\\u2e2f\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303c\\u3041-\\u3096\\u309d-\\u309f\\u30a1-\\u30fa\\u30fc-\\u30ff\\u3105-\\u312d\\u3131-\\u318e\\u31a0-\\u31ba\\u31f0-\\u31ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\ua000-\\ua48c\\ua4d0-\\ua4fd\\ua500-\\ua60c\\ua610-\\ua61f\\ua62a\\ua62b\\ua640-\\ua66e\\ua67f-\\ua697\\ua6a0-\\ua6ef\\ua717-\\ua71f\\ua722-\\ua788\\ua78b-\\ua78e\\ua790-\\ua793\\ua7a0-\\ua7aa\\ua7f8-\\ua801\\ua803-\\ua805\\ua807-\\ua80a\\ua80c-\\ua822\\ua840-\\ua873\\ua882-\\ua8b3\\ua8f2-\\ua8f7\\ua8fb\\ua90a-\\ua925\\ua930-\\ua946\\ua960-\\ua97c\\ua984-\\ua9b2\\ua9cf\\uaa00-\\uaa28\\uaa40-\\uaa42\\uaa44-\\uaa4b\\uaa60-\\uaa76\\uaa7a\\uaa80-\\uaaaf\\uaab1\\uaab5\\uaab6\\uaab9-\\uaabd\\uaac0\\uaac2\\uaadb-\\uaadd\\uaae0-\\uaaea\\uaaf2-\\uaaf4\\uab01-\\uab06\\uab09-\\uab0e\\uab11-\\uab16\\uab20-\\uab26\\uab28-\\uab2e\\uabc0-\\uabe2\\uac00-\\ud7a3\\ud7b0-\\ud7c6\\ud7cb-\\ud7fb\\uf900-\\ufa6d\\ufa70-\\ufad9\\ufb00-\\ufb06\\ufb13-\\ufb17\\ufb1d\\ufb1f-\\ufb28\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40\\ufb41\\ufb43\\ufb44\\ufb46-\\ufbb1\\ufbd3-\\ufd3d\\ufd50-\\ufd8f\\ufd92-\\ufdc7\\ufdf0-\\ufdfb\\ufe70-\\ufe74\\ufe76-\\ufefc\\uff21-\\uff3a\\uff41-\\uff5a\\uff66-\\uffbe\\uffc2-\\uffc7\\uffca-\\uffcf\\uffd2-\\uffd7\\uffda-\\uffdc",n="\\u0300-\\u036f\\u0483-\\u0487\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u0620-\\u0649\\u0672-\\u06d3\\u06e7-\\u06e8\\u06fb-\\u06fc\\u0730-\\u074a\\u0800-\\u0814\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0840-\\u0857\\u08e4-\\u08fe\\u0900-\\u0903\\u093a-\\u093c\\u093e-\\u094f\\u0951-\\u0957\\u0962-\\u0963\\u0966-\\u096f\\u0981-\\u0983\\u09bc\\u09be-\\u09c4\\u09c7\\u09c8\\u09d7\\u09df-\\u09e0\\u0a01-\\u0a03\\u0a3c\\u0a3e-\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a66-\\u0a71\\u0a75\\u0a81-\\u0a83\\u0abc\\u0abe-\\u0ac5\\u0ac7-\\u0ac9\\u0acb-\\u0acd\\u0ae2-\\u0ae3\\u0ae6-\\u0aef\\u0b01-\\u0b03\\u0b3c\\u0b3e-\\u0b44\\u0b47\\u0b48\\u0b4b-\\u0b4d\\u0b56\\u0b57\\u0b5f-\\u0b60\\u0b66-\\u0b6f\\u0b82\\u0bbe-\\u0bc2\\u0bc6-\\u0bc8\\u0bca-\\u0bcd\\u0bd7\\u0be6-\\u0bef\\u0c01-\\u0c03\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62-\\u0c63\\u0c66-\\u0c6f\\u0c82\\u0c83\\u0cbc\\u0cbe-\\u0cc4\\u0cc6-\\u0cc8\\u0cca-\\u0ccd\\u0cd5\\u0cd6\\u0ce2-\\u0ce3\\u0ce6-\\u0cef\\u0d02\\u0d03\\u0d46-\\u0d48\\u0d57\\u0d62-\\u0d63\\u0d66-\\u0d6f\\u0d82\\u0d83\\u0dca\\u0dcf-\\u0dd4\\u0dd6\\u0dd8-\\u0ddf\\u0df2\\u0df3\\u0e34-\\u0e3a\\u0e40-\\u0e45\\u0e50-\\u0e59\\u0eb4-\\u0eb9\\u0ec8-\\u0ecd\\u0ed0-\\u0ed9\\u0f18\\u0f19\\u0f20-\\u0f29\\u0f35\\u0f37\\u0f39\\u0f41-\\u0f47\\u0f71-\\u0f84\\u0f86-\\u0f87\\u0f8d-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u1000-\\u1029\\u1040-\\u1049\\u1067-\\u106d\\u1071-\\u1074\\u1082-\\u108d\\u108f-\\u109d\\u135d-\\u135f\\u170e-\\u1710\\u1720-\\u1730\\u1740-\\u1750\\u1772\\u1773\\u1780-\\u17b2\\u17dd\\u17e0-\\u17e9\\u180b-\\u180d\\u1810-\\u1819\\u1920-\\u192b\\u1930-\\u193b\\u1951-\\u196d\\u19b0-\\u19c0\\u19c8-\\u19c9\\u19d0-\\u19d9\\u1a00-\\u1a15\\u1a20-\\u1a53\\u1a60-\\u1a7c\\u1a7f-\\u1a89\\u1a90-\\u1a99\\u1b46-\\u1b4b\\u1b50-\\u1b59\\u1b6b-\\u1b73\\u1bb0-\\u1bb9\\u1be6-\\u1bf3\\u1c00-\\u1c22\\u1c40-\\u1c49\\u1c5b-\\u1c7d\\u1cd0-\\u1cd2\\u1d00-\\u1dbe\\u1e01-\\u1f15\\u200c\\u200d\\u203f\\u2040\\u2054\\u20d0-\\u20dc\\u20e1\\u20e5-\\u20f0\\u2d81-\\u2d96\\u2de0-\\u2dff\\u3021-\\u3028\\u3099\\u309a\\ua640-\\ua66d\\ua674-\\ua67d\\ua69f\\ua6f0-\\ua6f1\\ua7f8-\\ua800\\ua806\\ua80b\\ua823-\\ua827\\ua880-\\ua881\\ua8b4-\\ua8c4\\ua8d0-\\ua8d9\\ua8f3-\\ua8f7\\ua900-\\ua909\\ua926-\\ua92d\\ua930-\\ua945\\ua980-\\ua983\\ua9b3-\\ua9c0\\uaa00-\\uaa27\\uaa40-\\uaa41\\uaa4c-\\uaa4d\\uaa50-\\uaa59\\uaa7b\\uaae0-\\uaae9\\uaaf2-\\uaaf3\\uabc0-\\uabe1\\uabec\\uabed\\uabf0-\\uabf9\\ufb20-\\ufb28\\ufe00-\\ufe0f\\ufe20-\\ufe26\\ufe33\\ufe34\\ufe4d-\\ufe4f\\uff10-\\uff19\\uff3f",s="(?:\\\\u[0-9a-fA-F]{4}|[\\x23\\x24\\x40\\x41-\\x5a\\x5f\\x61-\\x7a"+i+"])";e.identifier=new RegExp(s+"(?:\\\\u[0-9a-fA-F]{4}|[\\x24\\x30-\\x39\\x41-\\x5a\\x5f\\x61-\\x7a\\xaa\\xb5\\xba\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02c1\\u02c6-\\u02d1\\u02e0-\\u02e4\\u02ec\\u02ee\\u0370-\\u0374\\u0376\\u0377\\u037a-\\u037d\\u0386\\u0388-\\u038a\\u038c\\u038e-\\u03a1\\u03a3-\\u03f5\\u03f7-\\u0481\\u048a-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05d0-\\u05ea\\u05f0-\\u05f2\\u0620-\\u064a\\u066e\\u066f\\u0671-\\u06d3\\u06d5\\u06e5\\u06e6\\u06ee\\u06ef\\u06fa-\\u06fc\\u06ff\\u0710\\u0712-\\u072f\\u074d-\\u07a5\\u07b1\\u07ca-\\u07ea\\u07f4\\u07f5\\u07fa\\u0800-\\u0815\\u081a\\u0824\\u0828\\u0840-\\u0858\\u08a0\\u08a2-\\u08ac\\u0904-\\u0939\\u093d\\u0950\\u0958-\\u0961\\u0971-\\u0977\\u0979-\\u097f\\u0985-\\u098c\\u098f\\u0990\\u0993-\\u09a8\\u09aa-\\u09b0\\u09b2\\u09b6-\\u09b9\\u09bd\\u09ce\\u09dc\\u09dd\\u09df-\\u09e1\\u09f0\\u09f1\\u0a05-\\u0a0a\\u0a0f\\u0a10\\u0a13-\\u0a28\\u0a2a-\\u0a30\\u0a32\\u0a33\\u0a35\\u0a36\\u0a38\\u0a39\\u0a59-\\u0a5c\\u0a5e\\u0a72-\\u0a74\\u0a85-\\u0a8d\\u0a8f-\\u0a91\\u0a93-\\u0aa8\\u0aaa-\\u0ab0\\u0ab2\\u0ab3\\u0ab5-\\u0ab9\\u0abd\\u0ad0\\u0ae0\\u0ae1\\u0b05-\\u0b0c\\u0b0f\\u0b10\\u0b13-\\u0b28\\u0b2a-\\u0b30\\u0b32\\u0b33\\u0b35-\\u0b39\\u0b3d\\u0b5c\\u0b5d\\u0b5f-\\u0b61\\u0b71\\u0b83\\u0b85-\\u0b8a\\u0b8e-\\u0b90\\u0b92-\\u0b95\\u0b99\\u0b9a\\u0b9c\\u0b9e\\u0b9f\\u0ba3\\u0ba4\\u0ba8-\\u0baa\\u0bae-\\u0bb9\\u0bd0\\u0c05-\\u0c0c\\u0c0e-\\u0c10\\u0c12-\\u0c28\\u0c2a-\\u0c33\\u0c35-\\u0c39\\u0c3d\\u0c58\\u0c59\\u0c60\\u0c61\\u0c85-\\u0c8c\\u0c8e-\\u0c90\\u0c92-\\u0ca8\\u0caa-\\u0cb3\\u0cb5-\\u0cb9\\u0cbd\\u0cde\\u0ce0\\u0ce1\\u0cf1\\u0cf2\\u0d05-\\u0d0c\\u0d0e-\\u0d10\\u0d12-\\u0d3a\\u0d3d\\u0d4e\\u0d60\\u0d61\\u0d7a-\\u0d7f\\u0d85-\\u0d96\\u0d9a-\\u0db1\\u0db3-\\u0dbb\\u0dbd\\u0dc0-\\u0dc6\\u0e01-\\u0e30\\u0e32\\u0e33\\u0e40-\\u0e46\\u0e81\\u0e82\\u0e84\\u0e87\\u0e88\\u0e8a\\u0e8d\\u0e94-\\u0e97\\u0e99-\\u0e9f\\u0ea1-\\u0ea3\\u0ea5\\u0ea7\\u0eaa\\u0eab\\u0ead-\\u0eb0\\u0eb2\\u0eb3\\u0ebd\\u0ec0-\\u0ec4\\u0ec6\\u0edc-\\u0edf\\u0f00\\u0f40-\\u0f47\\u0f49-\\u0f6c\\u0f88-\\u0f8c\\u1000-\\u102a\\u103f\\u1050-\\u1055\\u105a-\\u105d\\u1061\\u1065\\u1066\\u106e-\\u1070\\u1075-\\u1081\\u108e\\u10a0-\\u10c5\\u10c7\\u10cd\\u10d0-\\u10fa\\u10fc-\\u1248\\u124a-\\u124d\\u1250-\\u1256\\u1258\\u125a-\\u125d\\u1260-\\u1288\\u128a-\\u128d\\u1290-\\u12b0\\u12b2-\\u12b5\\u12b8-\\u12be\\u12c0\\u12c2-\\u12c5\\u12c8-\\u12d6\\u12d8-\\u1310\\u1312-\\u1315\\u1318-\\u135a\\u1380-\\u138f\\u13a0-\\u13f4\\u1401-\\u166c\\u166f-\\u167f\\u1681-\\u169a\\u16a0-\\u16ea\\u16ee-\\u16f0\\u1700-\\u170c\\u170e-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176c\\u176e-\\u1770\\u1780-\\u17b3\\u17d7\\u17dc\\u1820-\\u1877\\u1880-\\u18a8\\u18aa\\u18b0-\\u18f5\\u1900-\\u191c\\u1950-\\u196d\\u1970-\\u1974\\u1980-\\u19ab\\u19c1-\\u19c7\\u1a00-\\u1a16\\u1a20-\\u1a54\\u1aa7\\u1b05-\\u1b33\\u1b45-\\u1b4b\\u1b83-\\u1ba0\\u1bae\\u1baf\\u1bba-\\u1be5\\u1c00-\\u1c23\\u1c4d-\\u1c4f\\u1c5a-\\u1c7d\\u1ce9-\\u1cec\\u1cee-\\u1cf1\\u1cf5\\u1cf6\\u1d00-\\u1dbf\\u1e00-\\u1f15\\u1f18-\\u1f1d\\u1f20-\\u1f45\\u1f48-\\u1f4d\\u1f50-\\u1f57\\u1f59\\u1f5b\\u1f5d\\u1f5f-\\u1f7d\\u1f80-\\u1fb4\\u1fb6-\\u1fbc\\u1fbe\\u1fc2-\\u1fc4\\u1fc6-\\u1fcc\\u1fd0-\\u1fd3\\u1fd6-\\u1fdb\\u1fe0-\\u1fec\\u1ff2-\\u1ff4\\u1ff6-\\u1ffc\\u2071\\u207f\\u2090-\\u209c\\u2102\\u2107\\u210a-\\u2113\\u2115\\u2119-\\u211d\\u2124\\u2126\\u2128\\u212a-\\u212d\\u212f-\\u2139\\u213c-\\u213f\\u2145-\\u2149\\u214e\\u2160-\\u2188\\u2c00-\\u2c2e\\u2c30-\\u2c5e\\u2c60-\\u2ce4\\u2ceb-\\u2cee\\u2cf2\\u2cf3\\u2d00-\\u2d25\\u2d27\\u2d2d\\u2d30-\\u2d67\\u2d6f\\u2d80-\\u2d96\\u2da0-\\u2da6\\u2da8-\\u2dae\\u2db0-\\u2db6\\u2db8-\\u2dbe\\u2dc0-\\u2dc6\\u2dc8-\\u2dce\\u2dd0-\\u2dd6\\u2dd8-\\u2dde\\u2e2f\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303c\\u3041-\\u3096\\u309d-\\u309f\\u30a1-\\u30fa\\u30fc-\\u30ff\\u3105-\\u312d\\u3131-\\u318e\\u31a0-\\u31ba\\u31f0-\\u31ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\ua000-\\ua48c\\ua4d0-\\ua4fd\\ua500-\\ua60c\\ua610-\\ua61f\\ua62a\\ua62b\\ua640-\\ua66e\\ua67f-\\ua697\\ua6a0-\\ua6ef\\ua717-\\ua71f\\ua722-\\ua788\\ua78b-\\ua78e\\ua790-\\ua793\\ua7a0-\\ua7aa\\ua7f8-\\ua801\\ua803-\\ua805\\ua807-\\ua80a\\ua80c-\\ua822\\ua840-\\ua873\\ua882-\\ua8b3\\ua8f2-\\ua8f7\\ua8fb\\ua90a-\\ua925\\ua930-\\ua946\\ua960-\\ua97c\\ua984-\\ua9b2\\ua9cf\\uaa00-\\uaa28\\uaa40-\\uaa42\\uaa44-\\uaa4b\\uaa60-\\uaa76\\uaa7a\\uaa80-\\uaaaf\\uaab1\\uaab5\\uaab6\\uaab9-\\uaabd\\uaac0\\uaac2\\uaadb-\\uaadd\\uaae0-\\uaaea\\uaaf2-\\uaaf4\\uab01-\\uab06\\uab09-\\uab0e\\uab11-\\uab16\\uab20-\\uab26\\uab28-\\uab2e\\uabc0-\\uabe2\\uac00-\\ud7a3\\ud7b0-\\ud7c6\\ud7cb-\\ud7fb\\uf900-\\ufa6d\\ufa70-\\ufad9\\ufb00-\\ufb06\\ufb13-\\ufb17\\ufb1d\\ufb1f-\\ufb28\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40\\ufb41\\ufb43\\ufb44\\ufb46-\\ufbb1\\ufbd3-\\ufd3d\\ufd50-\\ufd8f\\ufd92-\\ufdc7\\ufdf0-\\ufdfb\\ufe70-\\ufe74\\ufe76-\\ufefc\\uff21-\\uff3a\\uff41-\\uff5a\\uff66-\\uffbe\\uffc2-\\uffc7\\uffca-\\uffcf\\uffd2-\\uffd7\\uffda-\\uffdc\\u0300-\\u036f\\u0483-\\u0487\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u0620-\\u0649\\u0672-\\u06d3\\u06e7-\\u06e8\\u06fb-\\u06fc\\u0730-\\u074a\\u0800-\\u0814\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0840-\\u0857\\u08e4-\\u08fe\\u0900-\\u0903\\u093a-\\u093c\\u093e-\\u094f\\u0951-\\u0957\\u0962-\\u0963\\u0966-\\u096f\\u0981-\\u0983\\u09bc\\u09be-\\u09c4\\u09c7\\u09c8\\u09d7\\u09df-\\u09e0\\u0a01-\\u0a03\\u0a3c\\u0a3e-\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a66-\\u0a71\\u0a75\\u0a81-\\u0a83\\u0abc\\u0abe-\\u0ac5\\u0ac7-\\u0ac9\\u0acb-\\u0acd\\u0ae2-\\u0ae3\\u0ae6-\\u0aef\\u0b01-\\u0b03\\u0b3c\\u0b3e-\\u0b44\\u0b47\\u0b48\\u0b4b-\\u0b4d\\u0b56\\u0b57\\u0b5f-\\u0b60\\u0b66-\\u0b6f\\u0b82\\u0bbe-\\u0bc2\\u0bc6-\\u0bc8\\u0bca-\\u0bcd\\u0bd7\\u0be6-\\u0bef\\u0c01-\\u0c03\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62-\\u0c63\\u0c66-\\u0c6f\\u0c82\\u0c83\\u0cbc\\u0cbe-\\u0cc4\\u0cc6-\\u0cc8\\u0cca-\\u0ccd\\u0cd5\\u0cd6\\u0ce2-\\u0ce3\\u0ce6-\\u0cef\\u0d02\\u0d03\\u0d46-\\u0d48\\u0d57\\u0d62-\\u0d63\\u0d66-\\u0d6f\\u0d82\\u0d83\\u0dca\\u0dcf-\\u0dd4\\u0dd6\\u0dd8-\\u0ddf\\u0df2\\u0df3\\u0e34-\\u0e3a\\u0e40-\\u0e45\\u0e50-\\u0e59\\u0eb4-\\u0eb9\\u0ec8-\\u0ecd\\u0ed0-\\u0ed9\\u0f18\\u0f19\\u0f20-\\u0f29\\u0f35\\u0f37\\u0f39\\u0f41-\\u0f47\\u0f71-\\u0f84\\u0f86-\\u0f87\\u0f8d-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u1000-\\u1029\\u1040-\\u1049\\u1067-\\u106d\\u1071-\\u1074\\u1082-\\u108d\\u108f-\\u109d\\u135d-\\u135f\\u170e-\\u1710\\u1720-\\u1730\\u1740-\\u1750\\u1772\\u1773\\u1780-\\u17b2\\u17dd\\u17e0-\\u17e9\\u180b-\\u180d\\u1810-\\u1819\\u1920-\\u192b\\u1930-\\u193b\\u1951-\\u196d\\u19b0-\\u19c0\\u19c8-\\u19c9\\u19d0-\\u19d9\\u1a00-\\u1a15\\u1a20-\\u1a53\\u1a60-\\u1a7c\\u1a7f-\\u1a89\\u1a90-\\u1a99\\u1b46-\\u1b4b\\u1b50-\\u1b59\\u1b6b-\\u1b73\\u1bb0-\\u1bb9\\u1be6-\\u1bf3\\u1c00-\\u1c22\\u1c40-\\u1c49\\u1c5b-\\u1c7d\\u1cd0-\\u1cd2\\u1d00-\\u1dbe\\u1e01-\\u1f15\\u200c\\u200d\\u203f\\u2040\\u2054\\u20d0-\\u20dc\\u20e1\\u20e5-\\u20f0\\u2d81-\\u2d96\\u2de0-\\u2dff\\u3021-\\u3028\\u3099\\u309a\\ua640-\\ua66d\\ua674-\\ua67d\\ua69f\\ua6f0-\\ua6f1\\ua7f8-\\ua800\\ua806\\ua80b\\ua823-\\ua827\\ua880-\\ua881\\ua8b4-\\ua8c4\\ua8d0-\\ua8d9\\ua8f3-\\ua8f7\\ua900-\\ua909\\ua926-\\ua92d\\ua930-\\ua945\\ua980-\\ua983\\ua9b3-\\ua9c0\\uaa00-\\uaa27\\uaa40-\\uaa41\\uaa4c-\\uaa4d\\uaa50-\\uaa59\\uaa7b\\uaae0-\\uaae9\\uaaf2-\\uaaf3\\uabc0-\\uabe1\\uabec\\uabed\\uabf0-\\uabf9\\ufb20-\\ufb28\\ufe00-\\ufe0f\\ufe20-\\ufe26\\ufe33\\ufe34\\ufe4d-\\ufe4f\\uff10-\\uff19\\uff3f])*","g"),e.identifierStart=new RegExp(s),e.identifierMatch=new RegExp("(?:\\\\u[0-9a-fA-F]{4}|["+t+i+n+"])+"),e.newline=/[\n\r\u2028\u2029]/,e.lineBreak=new RegExp("\r\n|"+e.newline.source),e.allLineBreaks=new RegExp(e.lineBreak.source,"g")}(mi);var gi={},bi={};function fi(e,t){this.raw_options=vi(e,t),this.disabled=this._get_boolean("disabled"),this.eol=this._get_characters("eol","auto"),this.end_with_newline=this._get_boolean("end_with_newline"),this.indent_size=this._get_number("indent_size",4),this.indent_char=this._get_characters("indent_char"," "),this.indent_level=this._get_number("indent_level"),this.preserve_newlines=this._get_boolean("preserve_newlines",!0),this.max_preserve_newlines=this._get_number("max_preserve_newlines",32786),this.preserve_newlines||(this.max_preserve_newlines=0),this.indent_with_tabs=this._get_boolean("indent_with_tabs","\t"===this.indent_char),this.indent_with_tabs&&(this.indent_char="\t",1===this.indent_size&&(this.indent_size=4)),this.wrap_line_length=this._get_number("wrap_line_length",this._get_number("max_char")),this.indent_empty_lines=this._get_boolean("indent_empty_lines"),this.templating=this._get_selection_list("templating",["auto","none","django","erb","handlebars","php","smarty"],["auto"])}function vi(e,t){var i,n={};for(i in e=yi(e))i!==t&&(n[i]=e[i]);if(t&&e[t])for(i in e[t])n[i]=e[t][i];return n}function yi(e){var t,i={};for(t in e){i[t.replace(/-/g,"_")]=e[t]}return i}fi.prototype._get_array=function(e,t){var i=this.raw_options[e],n=t||[];return"object"==typeof i?null!==i&&"function"==typeof i.concat&&(n=i.concat()):"string"==typeof i&&(n=i.split(/[^a-zA-Z0-9_\/\-]+/)),n},fi.prototype._get_boolean=function(e,t){var i=this.raw_options[e];return void 0===i?!!t:!!i},fi.prototype._get_characters=function(e,t){var i=this.raw_options[e],n=t||"";return"string"==typeof i&&(n=i.replace(/\\r/,"\r").replace(/\\n/,"\n").replace(/\\t/,"\t")),n},fi.prototype._get_number=function(e,t){var i=this.raw_options[e];t=parseInt(t,10),isNaN(t)&&(t=0);var n=parseInt(i,10);return isNaN(n)&&(n=t),n},fi.prototype._get_selection=function(e,t,i){var n=this._get_selection_list(e,t,i);if(1!==n.length)throw new Error("Invalid Option Value: The option '"+e+"' can only be one of the following values:\n"+t+"\nYou passed in: '"+this.raw_options[e]+"'");return n[0]},fi.prototype._get_selection_list=function(e,t,i){if(!t||0===t.length)throw new Error("Selection list cannot be empty.");if(i=i||[t[0]],!this._is_valid_selection(i,t))throw new Error("Invalid Default Value!");var n=this._get_array(e,i);if(!this._is_valid_selection(n,t))throw new Error("Invalid Option Value: The option '"+e+"' can contain only the following values:\n"+t+"\nYou passed in: '"+this.raw_options[e]+"'");return n},fi.prototype._is_valid_selection=function(e,t){return e.length&&t.length&&!e.some((function(e){return-1===t.indexOf(e)}))},bi.Options=fi,bi.normalizeOpts=yi,bi.mergeOpts=vi;var xi=bi.Options,_i=["before-newline","after-newline","preserve-newline"];function wi(e){xi.call(this,e,"js");var t=this.raw_options.brace_style||null;"expand-strict"===t?this.raw_options.brace_style="expand":"collapse-preserve-inline"===t?this.raw_options.brace_style="collapse,preserve-inline":void 0!==this.raw_options.braces_on_own_line&&(this.raw_options.brace_style=this.raw_options.braces_on_own_line?"expand":"collapse");var i=this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]);this.brace_preserve_inline=!1,this.brace_style="collapse";for(var n=0;n<i.length;n++)"preserve-inline"===i[n]?this.brace_preserve_inline=!0:this.brace_style=i[n];this.unindent_chained_methods=this._get_boolean("unindent_chained_methods"),this.break_chained_methods=this._get_boolean("break_chained_methods"),this.space_in_paren=this._get_boolean("space_in_paren"),this.space_in_empty_paren=this._get_boolean("space_in_empty_paren"),this.jslint_happy=this._get_boolean("jslint_happy"),this.space_after_anon_function=this._get_boolean("space_after_anon_function"),this.space_after_named_function=this._get_boolean("space_after_named_function"),this.keep_array_indentation=this._get_boolean("keep_array_indentation"),this.space_before_conditional=this._get_boolean("space_before_conditional",!0),this.unescape_strings=this._get_boolean("unescape_strings"),this.e4x=this._get_boolean("e4x"),this.comma_first=this._get_boolean("comma_first"),this.operator_position=this._get_selection("operator_position",_i),this.test_output_raw=this._get_boolean("test_output_raw"),this.jslint_happy&&(this.space_after_anon_function=!0)}wi.prototype=new xi,gi.Options=wi;var Si={},Ci={},ki=RegExp.prototype.hasOwnProperty("sticky");function Ai(e){this.__input=e||"",this.__input_length=this.__input.length,this.__position=0}Ai.prototype.restart=function(){this.__position=0},Ai.prototype.back=function(){this.__position>0&&(this.__position-=1)},Ai.prototype.hasNext=function(){return this.__position<this.__input_length},Ai.prototype.next=function(){var e=null;return this.hasNext()&&(e=this.__input.charAt(this.__position),this.__position+=1),e},Ai.prototype.peek=function(e){var t=null;return e=e||0,(e+=this.__position)>=0&&e<this.__input_length&&(t=this.__input.charAt(e)),t},Ai.prototype.__match=function(e,t){e.lastIndex=t;var i=e.exec(this.__input);return!i||ki&&e.sticky||i.index!==t&&(i=null),i},Ai.prototype.test=function(e,t){return t=t||0,(t+=this.__position)>=0&&t<this.__input_length&&!!this.__match(e,t)},Ai.prototype.testChar=function(e,t){var i=this.peek(t);return e.lastIndex=0,null!==i&&e.test(i)},Ai.prototype.match=function(e){var t=this.__match(e,this.__position);return t?this.__position+=t[0].length:t=null,t},Ai.prototype.read=function(e,t,i){var n,s="";return e&&(n=this.match(e))&&(s+=n[0]),!t||!n&&e||(s+=this.readUntil(t,i)),s},Ai.prototype.readUntil=function(e,t){var i,n=this.__position;e.lastIndex=this.__position;var s=e.exec(this.__input);return s?(n=s.index,t&&(n+=s[0].length)):n=this.__input_length,i=this.__input.substring(this.__position,n),this.__position=n,i},Ai.prototype.readUntilAfter=function(e){return this.readUntil(e,!0)},Ai.prototype.get_regexp=function(e,t){var i=null,n="g";return t&&ki&&(n="y"),"string"==typeof e&&""!==e?i=new RegExp(e,n):e&&(i=new RegExp(e.source,n)),i},Ai.prototype.get_literal_regexp=function(e){return RegExp(e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"))},Ai.prototype.peekUntilAfter=function(e){var t=this.__position,i=this.readUntilAfter(e);return this.__position=t,i},Ai.prototype.lookBack=function(e){var t=this.__position-1;return t>=e.length&&this.__input.substring(t-e.length,t).toLowerCase()===e},Ci.InputScanner=Ai;var Ei={},Li={};function qi(e){this.__tokens=[],this.__tokens_length=this.__tokens.length,this.__position=0,this.__parent_token=e}qi.prototype.restart=function(){this.__position=0},qi.prototype.isEmpty=function(){return 0===this.__tokens_length},qi.prototype.hasNext=function(){return this.__position<this.__tokens_length},qi.prototype.next=function(){var e=null;return this.hasNext()&&(e=this.__tokens[this.__position],this.__position+=1),e},qi.prototype.peek=function(e){var t=null;return e=e||0,(e+=this.__position)>=0&&e<this.__tokens_length&&(t=this.__tokens[e]),t},qi.prototype.add=function(e){this.__parent_token&&(e.parent=this.__parent_token),this.__tokens.push(e),this.__tokens_length+=1},Li.TokenStream=qi;var Ti={},Mi={};function Oi(e,t){this._input=e,this._starting_pattern=null,this._match_pattern=null,this._until_pattern=null,this._until_after=!1,t&&(this._starting_pattern=this._input.get_regexp(t._starting_pattern,!0),this._match_pattern=this._input.get_regexp(t._match_pattern,!0),this._until_pattern=this._input.get_regexp(t._until_pattern),this._until_after=t._until_after)}Oi.prototype.read=function(){var e=this._input.read(this._starting_pattern);return this._starting_pattern&&!e||(e+=this._input.read(this._match_pattern,this._until_pattern,this._until_after)),e},Oi.prototype.read_match=function(){return this._input.match(this._match_pattern)},Oi.prototype.until_after=function(e){var t=this._create();return t._until_after=!0,t._until_pattern=this._input.get_regexp(e),t._update(),t},Oi.prototype.until=function(e){var t=this._create();return t._until_after=!1,t._until_pattern=this._input.get_regexp(e),t._update(),t},Oi.prototype.starting_with=function(e){var t=this._create();return t._starting_pattern=this._input.get_regexp(e,!0),t._update(),t},Oi.prototype.matching=function(e){var t=this._create();return t._match_pattern=this._input.get_regexp(e,!0),t._update(),t},Oi.prototype._create=function(){return new Oi(this._input,this)},Oi.prototype._update=function(){},Mi.Pattern=Oi;var Ri=Mi.Pattern;function Ii(e,t){Ri.call(this,e,t),t?this._line_regexp=this._input.get_regexp(t._line_regexp):this.__set_whitespace_patterns("",""),this.newline_count=0,this.whitespace_before_token=""}Ii.prototype=new Ri,Ii.prototype.__set_whitespace_patterns=function(e,t){e+="\\t ",t+="\\n\\r",this._match_pattern=this._input.get_regexp("["+e+t+"]+",!0),this._newline_regexp=this._input.get_regexp("\\r\\n|["+t+"]")},Ii.prototype.read=function(){this.newline_count=0,this.whitespace_before_token="";var e=this._input.read(this._match_pattern);if(" "===e)this.whitespace_before_token=" ";else if(e){var t=this.__split(this._newline_regexp,e);this.newline_count=t.length-1,this.whitespace_before_token=t[this.newline_count]}return e},Ii.prototype.matching=function(e,t){var i=this._create();return i.__set_whitespace_patterns(e,t),i._update(),i},Ii.prototype._create=function(){return new Ii(this._input,this)},Ii.prototype.__split=function(e,t){e.lastIndex=0;for(var i=0,n=[],s=e.exec(t);s;)n.push(t.substring(i,s.index)),i=s.index+s[0].length,s=e.exec(t);return i<t.length?n.push(t.substring(i,t.length)):n.push(""),n},Ti.WhitespacePattern=Ii;var Bi=Ci.InputScanner,Ni=hi.Token,$i=Li.TokenStream,zi=Ti.WhitespacePattern,Pi={START:"TK_START",RAW:"TK_RAW",EOF:"TK_EOF"},Hi=function(e,t){this._input=new Bi(e),this._options=t||{},this.__tokens=null,this._patterns={},this._patterns.whitespace=new zi(this._input)};Hi.prototype.tokenize=function(){var e;this._input.restart(),this.__tokens=new $i,this._reset();for(var t=new Ni(Pi.START,""),i=null,n=[],s=new $i;t.type!==Pi.EOF;){for(e=this._get_next_token(t,i);this._is_comment(e);)s.add(e),e=this._get_next_token(t,i);s.isEmpty()||(e.comments_before=s,s=new $i),e.parent=i,this._is_opening(e)?(n.push(i),i=e):i&&this._is_closing(e,i)&&(e.opened=i,i.closed=e,i=n.pop(),e.parent=i),e.previous=t,t.next=e,this.__tokens.add(e),t=e}return this.__tokens},Hi.prototype._is_first_token=function(){return this.__tokens.isEmpty()},Hi.prototype._reset=function(){},Hi.prototype._get_next_token=function(e,t){this._readWhitespace();var i=this._input.read(/.+/g);return i?this._create_token(Pi.RAW,i):this._create_token(Pi.EOF,"")},Hi.prototype._is_comment=function(e){return!1},Hi.prototype._is_opening=function(e){return!1},Hi.prototype._is_closing=function(e,t){return!1},Hi.prototype._create_token=function(e,t){return new Ni(e,t,this._patterns.whitespace.newline_count,this._patterns.whitespace.whitespace_before_token)},Hi.prototype._readWhitespace=function(){return this._patterns.whitespace.read()},Ei.Tokenizer=Hi,Ei.TOKEN=Pi;var Di={};function ji(e,t){e="string"==typeof e?e:e.source,t="string"==typeof t?t:t.source,this.__directives_block_pattern=new RegExp(e+/ beautify( \w+[:]\w+)+ /.source+t,"g"),this.__directive_pattern=/ (\w+)[:](\w+)/g,this.__directives_end_ignore_pattern=new RegExp(e+/\sbeautify\signore:end\s/.source+t,"g")}ji.prototype.get_directives=function(e){if(!e.match(this.__directives_block_pattern))return null;var t={};this.__directive_pattern.lastIndex=0;for(var i=this.__directive_pattern.exec(e);i;)t[i[1]]=i[2],i=this.__directive_pattern.exec(e);return t},ji.prototype.readIgnored=function(e){return e.readUntilAfter(this.__directives_end_ignore_pattern)},Di.Directives=ji;var Ui={},Fi=Mi.Pattern,Wi={django:!1,erb:!1,handlebars:!1,php:!1,smarty:!1};function Yi(e,t){Fi.call(this,e,t),this.__template_pattern=null,this._disabled=Object.assign({},Wi),this._excluded=Object.assign({},Wi),t&&(this.__template_pattern=this._input.get_regexp(t.__template_pattern),this._excluded=Object.assign(this._excluded,t._excluded),this._disabled=Object.assign(this._disabled,t._disabled));var i=new Fi(e);this.__patterns={handlebars_comment:i.starting_with(/{{!--/).until_after(/--}}/),handlebars_unescaped:i.starting_with(/{{{/).until_after(/}}}/),handlebars:i.starting_with(/{{/).until_after(/}}/),php:i.starting_with(/<\?(?:[= ]|php)/).until_after(/\?>/),erb:i.starting_with(/<%[^%]/).until_after(/[^%]%>/),django:i.starting_with(/{%/).until_after(/%}/),django_value:i.starting_with(/{{/).until_after(/}}/),django_comment:i.starting_with(/{#/).until_after(/#}/),smarty:i.starting_with(/{(?=[^}{\s\n])/).until_after(/[^\s\n]}/),smarty_comment:i.starting_with(/{\*/).until_after(/\*}/),smarty_literal:i.starting_with(/{literal}/).until_after(/{\/literal}/)}}Yi.prototype=new Fi,Yi.prototype._create=function(){return new Yi(this._input,this)},Yi.prototype._update=function(){this.__set_templated_pattern()},Yi.prototype.disable=function(e){var t=this._create();return t._disabled[e]=!0,t._update(),t},Yi.prototype.read_options=function(e){var t=this._create();for(var i in Wi)t._disabled[i]=-1===e.templating.indexOf(i);return t._update(),t},Yi.prototype.exclude=function(e){var t=this._create();return t._excluded[e]=!0,t._update(),t},Yi.prototype.read=function(){var e="";e=this._match_pattern?this._input.read(this._starting_pattern):this._input.read(this._starting_pattern,this.__template_pattern);for(var t=this._read_template();t;)this._match_pattern?t+=this._input.read(this._match_pattern):t+=this._input.readUntil(this.__template_pattern),e+=t,t=this._read_template();return this._until_after&&(e+=this._input.readUntilAfter(this._until_pattern)),e},Yi.prototype.__set_templated_pattern=function(){var e=[];this._disabled.php||e.push(this.__patterns.php._starting_pattern.source),this._disabled.handlebars||e.push(this.__patterns.handlebars._starting_pattern.source),this._disabled.erb||e.push(this.__patterns.erb._starting_pattern.source),this._disabled.django||(e.push(this.__patterns.django._starting_pattern.source),e.push(this.__patterns.django_value._starting_pattern.source),e.push(this.__patterns.django_comment._starting_pattern.source)),this._disabled.smarty||e.push(this.__patterns.smarty._starting_pattern.source),this._until_pattern&&e.push(this._until_pattern.source),this.__template_pattern=this._input.get_regexp("(?:"+e.join("|")+")")},Yi.prototype._read_template=function(){var e="",t=this._input.peek();if("<"===t){var i=this._input.peek(1);this._disabled.php||this._excluded.php||"?"!==i||(e=e||this.__patterns.php.read()),this._disabled.erb||this._excluded.erb||"%"!==i||(e=e||this.__patterns.erb.read())}else"{"===t&&(this._disabled.handlebars||this._excluded.handlebars||(e=(e=(e=e||this.__patterns.handlebars_comment.read())||this.__patterns.handlebars_unescaped.read())||this.__patterns.handlebars.read()),this._disabled.django||(this._excluded.django||this._excluded.handlebars||(e=e||this.__patterns.django_value.read()),this._excluded.django||(e=(e=e||this.__patterns.django_comment.read())||this.__patterns.django.read())),this._disabled.smarty||this._disabled.django&&this._disabled.handlebars&&(e=(e=(e=e||this.__patterns.smarty_comment.read())||this.__patterns.smarty_literal.read())||this.__patterns.smarty.read()));return e},Ui.TemplatablePattern=Yi;var Xi=Ci.InputScanner,Gi=Ei.Tokenizer,Vi=Ei.TOKEN,Ki=Di.Directives,Zi=mi,Qi=Mi.Pattern,Ji=Ui.TemplatablePattern;function en(e,t){return-1!==t.indexOf(e)}var tn={START_EXPR:"TK_START_EXPR",END_EXPR:"TK_END_EXPR",START_BLOCK:"TK_START_BLOCK",END_BLOCK:"TK_END_BLOCK",WORD:"TK_WORD",RESERVED:"TK_RESERVED",SEMICOLON:"TK_SEMICOLON",STRING:"TK_STRING",EQUALS:"TK_EQUALS",OPERATOR:"TK_OPERATOR",COMMA:"TK_COMMA",BLOCK_COMMENT:"TK_BLOCK_COMMENT",COMMENT:"TK_COMMENT",DOT:"TK_DOT",UNKNOWN:"TK_UNKNOWN",START:Vi.START,RAW:Vi.RAW,EOF:Vi.EOF},nn=new Ki(/\/\*/,/\*\//),sn=/0[xX][0123456789abcdefABCDEF_]*n?|0[oO][01234567_]*n?|0[bB][01_]*n?|\d[\d_]*n|(?:\.\d[\d_]*|\d[\d_]*\.?[\d_]*)(?:[eE][+-]?[\d_]+)?/,on=/[0-9]/,an=/[^\d\.]/,ln=">>> === !== << && >= ** != == <= >> || ?? |> < / - + > : & % ? ^ | *".split(" "),rn=">>>= ... >>= <<= === >>> !== **= => ^= :: /= << <= == && -= >= >> != -- += ** || ?? ++ %= &= *= |= |> = ! ? > < : / ^ - + * & % ~ |";rn=(rn="\\?\\.(?!\\d) "+(rn=rn.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&"))).replace(/ /g,"|");var dn,cn=new RegExp(rn),un="continue,try,throw,return,var,let,const,if,switch,case,default,for,while,break,function,import,export".split(","),pn=un.concat(["do","in","of","else","get","set","new","catch","finally","typeof","yield","async","await","from","as"]),hn=new RegExp("^(?:"+pn.join("|")+")$"),mn=function(e,t){Gi.call(this,e,t),this._patterns.whitespace=this._patterns.whitespace.matching(/\u00A0\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff/.source,/\u2028\u2029/.source);var i=new Qi(this._input),n=new Ji(this._input).read_options(this._options);this.__patterns={template:n,identifier:n.starting_with(Zi.identifier).matching(Zi.identifierMatch),number:i.matching(sn),punct:i.matching(cn),comment:i.starting_with(/\/\//).until(/[\n\r\u2028\u2029]/),block_comment:i.starting_with(/\/\*/).until_after(/\*\//),html_comment_start:i.matching(/<!--/),html_comment_end:i.matching(/-->/),include:i.starting_with(/#include/).until_after(Zi.lineBreak),shebang:i.starting_with(/#!/).until_after(Zi.lineBreak),xml:i.matching(/[\s\S]*?<(\/?)([-a-zA-Z:0-9_.]+|{[\s\S]+?}|!\[CDATA\[[\s\S]*?\]\]|)(\s+{[\s\S]+?}|\s+[-a-zA-Z:0-9_.]+|\s+[-a-zA-Z:0-9_.]+\s*=\s*('[^']*'|"[^"]*"|{[\s\S]+?}))*\s*(\/?)\s*>/),single_quote:n.until(/['\\\n\r\u2028\u2029]/),double_quote:n.until(/["\\\n\r\u2028\u2029]/),template_text:n.until(/[`\\$]/),template_expression:n.until(/[`}\\]/)}};(mn.prototype=new Gi)._is_comment=function(e){return e.type===tn.COMMENT||e.type===tn.BLOCK_COMMENT||e.type===tn.UNKNOWN},mn.prototype._is_opening=function(e){return e.type===tn.START_BLOCK||e.type===tn.START_EXPR},mn.prototype._is_closing=function(e,t){return(e.type===tn.END_BLOCK||e.type===tn.END_EXPR)&&t&&("]"===e.text&&"["===t.text||")"===e.text&&"("===t.text||"}"===e.text&&"{"===t.text)},mn.prototype._reset=function(){dn=!1},mn.prototype._get_next_token=function(e,t){var i=null;this._readWhitespace();var n=this._input.peek();return null===n?this._create_token(tn.EOF,""):i=(i=(i=(i=(i=(i=(i=(i=(i=i||this._read_non_javascript(n))||this._read_string(n))||this._read_word(e))||this._read_singles(n))||this._read_comment(n))||this._read_regexp(n,e))||this._read_xml(n,e))||this._read_punctuation())||this._create_token(tn.UNKNOWN,this._input.next())},mn.prototype._read_word=function(e){var t;return""!==(t=this.__patterns.identifier.read())?(t=t.replace(Zi.allLineBreaks,"\n"),e.type!==tn.DOT&&(e.type!==tn.RESERVED||"set"!==e.text&&"get"!==e.text)&&hn.test(t)?"in"===t||"of"===t?this._create_token(tn.OPERATOR,t):this._create_token(tn.RESERVED,t):this._create_token(tn.WORD,t)):""!==(t=this.__patterns.number.read())?this._create_token(tn.WORD,t):void 0},mn.prototype._read_singles=function(e){var t=null;return"("===e||"["===e?t=this._create_token(tn.START_EXPR,e):")"===e||"]"===e?t=this._create_token(tn.END_EXPR,e):"{"===e?t=this._create_token(tn.START_BLOCK,e):"}"===e?t=this._create_token(tn.END_BLOCK,e):";"===e?t=this._create_token(tn.SEMICOLON,e):"."===e&&an.test(this._input.peek(1))?t=this._create_token(tn.DOT,e):","===e&&(t=this._create_token(tn.COMMA,e)),t&&this._input.next(),t},mn.prototype._read_punctuation=function(){var e=this.__patterns.punct.read();if(""!==e)return"="===e?this._create_token(tn.EQUALS,e):"?."===e?this._create_token(tn.DOT,e):this._create_token(tn.OPERATOR,e)},mn.prototype._read_non_javascript=function(e){var t="";if("#"===e){if(this._is_first_token()&&(t=this.__patterns.shebang.read()))return this._create_token(tn.UNKNOWN,t.trim()+"\n");if(t=this.__patterns.include.read())return this._create_token(tn.UNKNOWN,t.trim()+"\n");e=this._input.next();var i="#";if(this._input.hasNext()&&this._input.testChar(on)){do{i+=e=this._input.next()}while(this._input.hasNext()&&"#"!==e&&"="!==e);return"#"===e||("["===this._input.peek()&&"]"===this._input.peek(1)?(i+="[]",this._input.next(),this._input.next()):"{"===this._input.peek()&&"}"===this._input.peek(1)&&(i+="{}",this._input.next(),this._input.next())),this._create_token(tn.WORD,i)}this._input.back()}else if("<"===e&&this._is_first_token()){if(t=this.__patterns.html_comment_start.read()){for(;this._input.hasNext()&&!this._input.testChar(Zi.newline);)t+=this._input.next();return dn=!0,this._create_token(tn.COMMENT,t)}}else if(dn&&"-"===e&&(t=this.__patterns.html_comment_end.read()))return dn=!1,this._create_token(tn.COMMENT,t);return null},mn.prototype._read_comment=function(e){var t=null;if("/"===e){var i="";if("*"===this._input.peek(1)){i=this.__patterns.block_comment.read();var n=nn.get_directives(i);n&&"start"===n.ignore&&(i+=nn.readIgnored(this._input)),i=i.replace(Zi.allLineBreaks,"\n"),(t=this._create_token(tn.BLOCK_COMMENT,i)).directives=n}else"/"===this._input.peek(1)&&(i=this.__patterns.comment.read(),t=this._create_token(tn.COMMENT,i))}return t},mn.prototype._read_string=function(e){if("`"===e||"'"===e||'"'===e){var t=this._input.next();return this.has_char_escapes=!1,t+="`"===e?this._read_string_recursive("`",!0,"${"):this._read_string_recursive(e),this.has_char_escapes&&this._options.unescape_strings&&(t=function(e){var t="",i=0,n=new Xi(e),s=null;for(;n.hasNext();)if((s=n.match(/([\s]|[^\\]|\\\\)+/g))&&(t+=s[0]),"\\"===n.peek()){if(n.next(),"x"===n.peek())s=n.match(/x([0-9A-Fa-f]{2})/g);else{if("u"!==n.peek()){t+="\\",n.hasNext()&&(t+=n.next());continue}s=n.match(/u([0-9A-Fa-f]{4})/g)}if(!s)return e;if((i=parseInt(s[1],16))>126&&i<=255&&0===s[0].indexOf("x"))return e;if(i>=0&&i<32){t+="\\"+s[0];continue}t+=34===i||39===i||92===i?"\\"+String.fromCharCode(i):String.fromCharCode(i)}return t}(t)),this._input.peek()===e&&(t+=this._input.next()),t=t.replace(Zi.allLineBreaks,"\n"),this._create_token(tn.STRING,t)}return null},mn.prototype._allow_regexp_or_xml=function(e){return e.type===tn.RESERVED&&en(e.text,["return","case","throw","else","do","typeof","yield"])||e.type===tn.END_EXPR&&")"===e.text&&e.opened.previous.type===tn.RESERVED&&en(e.opened.previous.text,["if","while","for"])||en(e.type,[tn.COMMENT,tn.START_EXPR,tn.START_BLOCK,tn.START,tn.END_BLOCK,tn.OPERATOR,tn.EQUALS,tn.EOF,tn.SEMICOLON,tn.COMMA])},mn.prototype._read_regexp=function(e,t){if("/"===e&&this._allow_regexp_or_xml(t)){for(var i=this._input.next(),n=!1,s=!1;this._input.hasNext()&&(n||s||this._input.peek()!==e)&&!this._input.testChar(Zi.newline);)i+=this._input.peek(),n?n=!1:(n="\\"===this._input.peek(),"["===this._input.peek()?s=!0:"]"===this._input.peek()&&(s=!1)),this._input.next();return this._input.peek()===e&&(i+=this._input.next(),i+=this._input.read(Zi.identifier)),this._create_token(tn.STRING,i)}return null},mn.prototype._read_xml=function(e,t){if(this._options.e4x&&"<"===e&&this._allow_regexp_or_xml(t)){var i="",n=this.__patterns.xml.read_match();if(n){for(var s=n[2].replace(/^{\s+/,"{").replace(/\s+}$/,"}"),o=0===s.indexOf("{"),a=0;n;){var l=!!n[1],r=n[2];if(!(!!n[n.length-1]||"![CDATA["===r.slice(0,8))&&(r===s||o&&r.replace(/^{\s+/,"{").replace(/\s+}$/,"}"))&&(l?--a:++a),i+=n[0],a<=0)break;n=this.__patterns.xml.read_match()}return n||(i+=this._input.match(/[\s\S]*/g)[0]),i=i.replace(Zi.allLineBreaks,"\n"),this._create_token(tn.STRING,i)}}return null},mn.prototype._read_string_recursive=function(e,t,i){var n,s;"'"===e?s=this.__patterns.single_quote:'"'===e?s=this.__patterns.double_quote:"`"===e?s=this.__patterns.template_text:"}"===e&&(s=this.__patterns.template_expression);for(var o=s.read(),a="";this._input.hasNext();){if((a=this._input.next())===e||!t&&Zi.newline.test(a)){this._input.back();break}"\\"===a&&this._input.hasNext()?("x"===(n=this._input.peek())||"u"===n?this.has_char_escapes=!0:"\r"===n&&"\n"===this._input.peek(1)&&this._input.next(),a+=this._input.next()):i&&("${"===i&&"$"===a&&"{"===this._input.peek()&&(a+=this._input.next()),i===a&&(a+="`"===e?this._read_string_recursive("}",t,"`"):this._read_string_recursive("`",t,"${"),this._input.hasNext()&&(a+=this._input.next()))),o+=a+=s.read()}return o},Si.Tokenizer=mn,Si.TOKEN=tn,Si.positionable_operators=ln.slice(),Si.line_starters=un.slice();var gn=di.Output,bn=hi.Token,fn=mi,vn=gi.Options,yn=Si.Tokenizer,xn=Si.line_starters,_n=Si.positionable_operators,wn=Si.TOKEN;function Sn(e,t){return-1!==t.indexOf(e)}function Cn(e,t){return e&&e.type===wn.RESERVED&&e.text===t}function kn(e,t){return e&&e.type===wn.RESERVED&&Sn(e.text,t)}var An=["case","return","do","if","throw","else","await","break","continue","async"],En=function(e){for(var t={},i=0;i<e.length;i++)t[e[i].replace(/-/g,"_")]=e[i];return t}(["before-newline","after-newline","preserve-newline"]),Ln=[En.before_newline,En.preserve_newline],qn="BlockStatement",Tn="Statement",Mn="ObjectLiteral",On="ArrayLiteral",Rn="ForInitializer",In="Conditional",Bn="Expression";function Nn(e,t){t.multiline_frame||t.mode===Rn||t.mode===In||e.remove_indent(t.start_line_index)}function $n(e){return e===On}function zn(e){return Sn(e,[Bn,Rn,In])}function Pn(e,t){t=t||{},this._source_text=e||"",this._output=null,this._tokens=null,this._last_last_text=null,this._flags=null,this._previous_flags=null,this._flag_store=null,this._options=new vn(t)}Pn.prototype.create_flags=function(e,t){var i=0;return e&&(i=e.indentation_level,!this._output.just_added_newline()&&e.line_indent_level>i&&(i=e.line_indent_level)),{mode:t,parent:e,last_token:e?e.last_token:new bn(wn.START_BLOCK,""),last_word:e?e.last_word:"",declaration_statement:!1,declaration_assignment:!1,multiline_frame:!1,inline_frame:!1,if_block:!1,else_block:!1,do_block:!1,do_while:!1,import_block:!1,in_case_statement:!1,in_case:!1,case_body:!1,indentation_level:i,alignment:0,line_indent_level:e?e.line_indent_level:i,start_line_index:this._output.get_line_number(),ternary_depth:0}},Pn.prototype._reset=function(e){var t=e.match(/^[\t ]*/)[0];this._last_last_text="",this._output=new gn(this._options,t),this._output.raw=this._options.test_output_raw,this._flag_store=[],this.set_mode(qn);var i=new yn(e,this._options);return this._tokens=i.tokenize(),e},Pn.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var e=this._reset(this._source_text),t=this._options.eol;"auto"===this._options.eol&&(t="\n",e&&fn.lineBreak.test(e||"")&&(t=e.match(fn.lineBreak)[0]));for(var i=this._tokens.next();i;)this.handle_token(i),this._last_last_text=this._flags.last_token.text,this._flags.last_token=i,i=this._tokens.next();return this._output.get_code(t)},Pn.prototype.handle_token=function(e,t){e.type===wn.START_EXPR?this.handle_start_expr(e):e.type===wn.END_EXPR?this.handle_end_expr(e):e.type===wn.START_BLOCK?this.handle_start_block(e):e.type===wn.END_BLOCK?this.handle_end_block(e):e.type===wn.WORD||e.type===wn.RESERVED?this.handle_word(e):e.type===wn.SEMICOLON?this.handle_semicolon(e):e.type===wn.STRING?this.handle_string(e):e.type===wn.EQUALS?this.handle_equals(e):e.type===wn.OPERATOR?this.handle_operator(e):e.type===wn.COMMA?this.handle_comma(e):e.type===wn.BLOCK_COMMENT?this.handle_block_comment(e,t):e.type===wn.COMMENT?this.handle_comment(e,t):e.type===wn.DOT?this.handle_dot(e):e.type===wn.EOF?this.handle_eof(e):(e.type,wn.UNKNOWN,this.handle_unknown(e,t))},Pn.prototype.handle_whitespace_and_comments=function(e,t){var i=e.newlines,n=this._options.keep_array_indentation&&$n(this._flags.mode);if(e.comments_before)for(var s=e.comments_before.next();s;)this.handle_whitespace_and_comments(s,t),this.handle_token(s,t),s=e.comments_before.next();if(n)for(var o=0;o<i;o+=1)this.print_newline(o>0,t);else if(this._options.max_preserve_newlines&&i>this._options.max_preserve_newlines&&(i=this._options.max_preserve_newlines),this._options.preserve_newlines&&i>1){this.print_newline(!1,t);for(var a=1;a<i;a+=1)this.print_newline(!0,t)}};var Hn=["async","break","continue","return","throw","yield"];Pn.prototype.allow_wrap_or_preserved_newline=function(e,t){if(t=void 0!==t&&t,!this._output.just_added_newline()){var i=this._options.preserve_newlines&&e.newlines||t;if(Sn(this._flags.last_token.text,_n)||Sn(e.text,_n)){var n=Sn(this._flags.last_token.text,_n)&&Sn(this._options.operator_position,Ln)||Sn(e.text,_n);i=i&&n}if(i)this.print_newline(!1,!0);else if(this._options.wrap_line_length){if(kn(this._flags.last_token,Hn))return;this._output.set_wrap_point()}}},Pn.prototype.print_newline=function(e,t){if(!t&&";"!==this._flags.last_token.text&&","!==this._flags.last_token.text&&"="!==this._flags.last_token.text&&(this._flags.last_token.type!==wn.OPERATOR||"--"===this._flags.last_token.text||"++"===this._flags.last_token.text))for(var i=this._tokens.peek();!(this._flags.mode!==Tn||this._flags.if_block&&Cn(i,"else")||this._flags.do_block);)this.restore_mode();this._output.add_new_line(e)&&(this._flags.multiline_frame=!0)},Pn.prototype.print_token_line_indentation=function(e){this._output.just_added_newline()&&(this._options.keep_array_indentation&&e.newlines&&("["===e.text||$n(this._flags.mode))?(this._output.current_line.set_indent(-1),this._output.current_line.push(e.whitespace_before),this._output.space_before_token=!1):this._output.set_indent(this._flags.indentation_level,this._flags.alignment)&&(this._flags.line_indent_level=this._flags.indentation_level))},Pn.prototype.print_token=function(e){if(this._output.raw)this._output.add_raw_token(e);else{if(this._options.comma_first&&e.previous&&e.previous.type===wn.COMMA&&this._output.just_added_newline()&&","===this._output.previous_line.last()){var t=this._output.previous_line.pop();this._output.previous_line.is_empty()&&(this._output.previous_line.push(t),this._output.trim(!0),this._output.current_line.pop(),this._output.trim()),this.print_token_line_indentation(e),this._output.add_token(","),this._output.space_before_token=!0}this.print_token_line_indentation(e),this._output.non_breaking_space=!0,this._output.add_token(e.text),this._output.previous_token_wrapped&&(this._flags.multiline_frame=!0)}},Pn.prototype.indent=function(){this._flags.indentation_level+=1,this._output.set_indent(this._flags.indentation_level,this._flags.alignment)},Pn.prototype.deindent=function(){this._flags.indentation_level>0&&(!this._flags.parent||this._flags.indentation_level>this._flags.parent.indentation_level)&&(this._flags.indentation_level-=1,this._output.set_indent(this._flags.indentation_level,this._flags.alignment))},Pn.prototype.set_mode=function(e){this._flags?(this._flag_store.push(this._flags),this._previous_flags=this._flags):this._previous_flags=this.create_flags(null,e),this._flags=this.create_flags(this._previous_flags,e),this._output.set_indent(this._flags.indentation_level,this._flags.alignment)},Pn.prototype.restore_mode=function(){this._flag_store.length>0&&(this._previous_flags=this._flags,this._flags=this._flag_store.pop(),this._previous_flags.mode===Tn&&Nn(this._output,this._previous_flags),this._output.set_indent(this._flags.indentation_level,this._flags.alignment))},Pn.prototype.start_of_object_property=function(){return this._flags.parent.mode===Mn&&this._flags.mode===Tn&&(":"===this._flags.last_token.text&&0===this._flags.ternary_depth||kn(this._flags.last_token,["get","set"]))},Pn.prototype.start_of_statement=function(e){var t=!1;return!!(t=(t=(t=(t=(t=(t=(t=t||kn(this._flags.last_token,["var","let","const"])&&e.type===wn.WORD)||Cn(this._flags.last_token,"do"))||!(this._flags.parent.mode===Mn&&this._flags.mode===Tn)&&kn(this._flags.last_token,Hn)&&!e.newlines)||Cn(this._flags.last_token,"else")&&!(Cn(e,"if")&&!e.comments_before))||this._flags.last_token.type===wn.END_EXPR&&(this._previous_flags.mode===Rn||this._previous_flags.mode===In))||this._flags.last_token.type===wn.WORD&&this._flags.mode===qn&&!this._flags.in_case&&!("--"===e.text||"++"===e.text)&&"function"!==this._last_last_text&&e.type!==wn.WORD&&e.type!==wn.RESERVED)||this._flags.mode===Mn&&(":"===this._flags.last_token.text&&0===this._flags.ternary_depth||kn(this._flags.last_token,["get","set"])))&&(this.set_mode(Tn),this.indent(),this.handle_whitespace_and_comments(e,!0),this.start_of_object_property()||this.allow_wrap_or_preserved_newline(e,kn(e,["do","for","if","while"])),!0)},Pn.prototype.handle_start_expr=function(e){this.start_of_statement(e)||this.handle_whitespace_and_comments(e);var t=Bn;if("["===e.text){if(this._flags.last_token.type===wn.WORD||")"===this._flags.last_token.text)return kn(this._flags.last_token,xn)&&(this._output.space_before_token=!0),this.print_token(e),this.set_mode(t),this.indent(),void(this._options.space_in_paren&&(this._output.space_before_token=!0));t=On,$n(this._flags.mode)&&("["!==this._flags.last_token.text&&(","!==this._flags.last_token.text||"]"!==this._last_last_text&&"}"!==this._last_last_text)||this._options.keep_array_indentation||this.print_newline()),Sn(this._flags.last_token.type,[wn.START_EXPR,wn.END_EXPR,wn.WORD,wn.OPERATOR,wn.DOT])||(this._output.space_before_token=!0)}else{if(this._flags.last_token.type===wn.RESERVED)"for"===this._flags.last_token.text?(this._output.space_before_token=this._options.space_before_conditional,t=Rn):Sn(this._flags.last_token.text,["if","while","switch"])?(this._output.space_before_token=this._options.space_before_conditional,t=In):Sn(this._flags.last_word,["await","async"])?this._output.space_before_token=!0:"import"===this._flags.last_token.text&&""===e.whitespace_before?this._output.space_before_token=!1:(Sn(this._flags.last_token.text,xn)||"catch"===this._flags.last_token.text)&&(this._output.space_before_token=!0);else if(this._flags.last_token.type===wn.EQUALS||this._flags.last_token.type===wn.OPERATOR)this.start_of_object_property()||this.allow_wrap_or_preserved_newline(e);else if(this._flags.last_token.type===wn.WORD){this._output.space_before_token=!1;var i=this._tokens.peek(-3);if(this._options.space_after_named_function&&i){var n=this._tokens.peek(-4);kn(i,["async","function"])||"*"===i.text&&kn(n,["async","function"])?this._output.space_before_token=!0:this._flags.mode===Mn&&("{"!==i.text&&","!==i.text&&("*"!==i.text||"{"!==n.text&&","!==n.text)||(this._output.space_before_token=!0))}}else this.allow_wrap_or_preserved_newline(e);(this._flags.last_token.type===wn.RESERVED&&("function"===this._flags.last_word||"typeof"===this._flags.last_word)||"*"===this._flags.last_token.text&&(Sn(this._last_last_text,["function","yield"])||this._flags.mode===Mn&&Sn(this._last_last_text,["{",","])))&&(this._output.space_before_token=this._options.space_after_anon_function)}";"===this._flags.last_token.text||this._flags.last_token.type===wn.START_BLOCK?this.print_newline():this._flags.last_token.type!==wn.END_EXPR&&this._flags.last_token.type!==wn.START_EXPR&&this._flags.last_token.type!==wn.END_BLOCK&&"."!==this._flags.last_token.text&&this._flags.last_token.type!==wn.COMMA||this.allow_wrap_or_preserved_newline(e,e.newlines),this.print_token(e),this.set_mode(t),this._options.space_in_paren&&(this._output.space_before_token=!0),this.indent()},Pn.prototype.handle_end_expr=function(e){for(;this._flags.mode===Tn;)this.restore_mode();this.handle_whitespace_and_comments(e),this._flags.multiline_frame&&this.allow_wrap_or_preserved_newline(e,"]"===e.text&&$n(this._flags.mode)&&!this._options.keep_array_indentation),this._options.space_in_paren&&(this._flags.last_token.type!==wn.START_EXPR||this._options.space_in_empty_paren?this._output.space_before_token=!0:(this._output.trim(),this._output.space_before_token=!1)),this.deindent(),this.print_token(e),this.restore_mode(),Nn(this._output,this._previous_flags),this._flags.do_while&&this._previous_flags.mode===In&&(this._previous_flags.mode=Bn,this._flags.do_block=!1,this._flags.do_while=!1)},Pn.prototype.handle_start_block=function(e){this.handle_whitespace_and_comments(e);var t=this._tokens.peek(),i=this._tokens.peek(1);"switch"===this._flags.last_word&&this._flags.last_token.type===wn.END_EXPR?(this.set_mode(qn),this._flags.in_case_statement=!0):this._flags.case_body?this.set_mode(qn):i&&(Sn(i.text,[":",","])&&Sn(t.type,[wn.STRING,wn.WORD,wn.RESERVED])||Sn(t.text,["get","set","..."])&&Sn(i.type,[wn.WORD,wn.RESERVED]))?Sn(this._last_last_text,["class","interface"])?this.set_mode(qn):this.set_mode(Mn):this._flags.last_token.type===wn.OPERATOR&&"=>"===this._flags.last_token.text?this.set_mode(qn):Sn(this._flags.last_token.type,[wn.EQUALS,wn.START_EXPR,wn.COMMA,wn.OPERATOR])||kn(this._flags.last_token,["return","throw","import","default"])?this.set_mode(Mn):this.set_mode(qn);var n=!t.comments_before&&"}"===t.text,s=n&&"function"===this._flags.last_word&&this._flags.last_token.type===wn.END_EXPR;if(this._options.brace_preserve_inline){var o=0,a=null;this._flags.inline_frame=!0;do{if(o+=1,(a=this._tokens.peek(o-1)).newlines){this._flags.inline_frame=!1;break}}while(a.type!==wn.EOF&&(a.type!==wn.END_BLOCK||a.opened!==e))}("expand"===this._options.brace_style||"none"===this._options.brace_style&&e.newlines)&&!this._flags.inline_frame?this._flags.last_token.type!==wn.OPERATOR&&(s||this._flags.last_token.type===wn.EQUALS||kn(this._flags.last_token,An)&&"else"!==this._flags.last_token.text)?this._output.space_before_token=!0:this.print_newline(!1,!0):(!$n(this._previous_flags.mode)||this._flags.last_token.type!==wn.START_EXPR&&this._flags.last_token.type!==wn.COMMA||((this._flags.last_token.type===wn.COMMA||this._options.space_in_paren)&&(this._output.space_before_token=!0),(this._flags.last_token.type===wn.COMMA||this._flags.last_token.type===wn.START_EXPR&&this._flags.inline_frame)&&(this.allow_wrap_or_preserved_newline(e),this._previous_flags.multiline_frame=this._previous_flags.multiline_frame||this._flags.multiline_frame,this._flags.multiline_frame=!1)),this._flags.last_token.type!==wn.OPERATOR&&this._flags.last_token.type!==wn.START_EXPR&&(this._flags.last_token.type!==wn.START_BLOCK||this._flags.inline_frame?this._output.space_before_token=!0:this.print_newline())),this.print_token(e),this.indent(),n||this._options.brace_preserve_inline&&this._flags.inline_frame||this.print_newline()},Pn.prototype.handle_end_block=function(e){for(this.handle_whitespace_and_comments(e);this._flags.mode===Tn;)this.restore_mode();var t=this._flags.last_token.type===wn.START_BLOCK;this._flags.inline_frame&&!t?this._output.space_before_token=!0:"expand"===this._options.brace_style?t||this.print_newline():t||($n(this._flags.mode)&&this._options.keep_array_indentation?(this._options.keep_array_indentation=!1,this.print_newline(),this._options.keep_array_indentation=!0):this.print_newline()),this.restore_mode(),this.print_token(e)},Pn.prototype.handle_word=function(e){if(e.type===wn.RESERVED)if(Sn(e.text,["set","get"])&&this._flags.mode!==Mn)e.type=wn.WORD;else if("import"===e.text&&"("===this._tokens.peek().text)e.type=wn.WORD;else if(Sn(e.text,["as","from"])&&!this._flags.import_block)e.type=wn.WORD;else if(this._flags.mode===Mn){":"===this._tokens.peek().text&&(e.type=wn.WORD)}if(this.start_of_statement(e)?kn(this._flags.last_token,["var","let","const"])&&e.type===wn.WORD&&(this._flags.declaration_statement=!0):!e.newlines||zn(this._flags.mode)||this._flags.last_token.type===wn.OPERATOR&&"--"!==this._flags.last_token.text&&"++"!==this._flags.last_token.text||this._flags.last_token.type===wn.EQUALS||!this._options.preserve_newlines&&kn(this._flags.last_token,["var","let","const","set","get"])?this.handle_whitespace_and_comments(e):(this.handle_whitespace_and_comments(e),this.print_newline()),this._flags.do_block&&!this._flags.do_while){if(Cn(e,"while"))return this._output.space_before_token=!0,this.print_token(e),this._output.space_before_token=!0,void(this._flags.do_while=!0);this.print_newline(),this._flags.do_block=!1}if(this._flags.if_block)if(!this._flags.else_block&&Cn(e,"else"))this._flags.else_block=!0;else{for(;this._flags.mode===Tn;)this.restore_mode();this._flags.if_block=!1,this._flags.else_block=!1}if(this._flags.in_case_statement&&kn(e,["case","default"]))return this.print_newline(),this._flags.last_token.type!==wn.END_BLOCK&&(this._flags.case_body||this._options.jslint_happy)&&this.deindent(),this._flags.case_body=!1,this.print_token(e),void(this._flags.in_case=!0);if(this._flags.last_token.type!==wn.COMMA&&this._flags.last_token.type!==wn.START_EXPR&&this._flags.last_token.type!==wn.EQUALS&&this._flags.last_token.type!==wn.OPERATOR||this.start_of_object_property()||this.allow_wrap_or_preserved_newline(e),Cn(e,"function"))return(Sn(this._flags.last_token.text,["}",";"])||this._output.just_added_newline()&&!Sn(this._flags.last_token.text,["(","[","{",":","=",","])&&this._flags.last_token.type!==wn.OPERATOR)&&(this._output.just_added_blankline()||e.comments_before||(this.print_newline(),this.print_newline(!0))),this._flags.last_token.type===wn.RESERVED||this._flags.last_token.type===wn.WORD?kn(this._flags.last_token,["get","set","new","export"])||kn(this._flags.last_token,Hn)||Cn(this._flags.last_token,"default")&&"export"===this._last_last_text||"declare"===this._flags.last_token.text?this._output.space_before_token=!0:this.print_newline():this._flags.last_token.type===wn.OPERATOR||"="===this._flags.last_token.text?this._output.space_before_token=!0:(this._flags.multiline_frame||!zn(this._flags.mode)&&!$n(this._flags.mode))&&this.print_newline(),this.print_token(e),void(this._flags.last_word=e.text);var t="NONE";(this._flags.last_token.type===wn.END_BLOCK?this._previous_flags.inline_frame?t="SPACE":kn(e,["else","catch","finally","from"])?"expand"===this._options.brace_style||"end-expand"===this._options.brace_style||"none"===this._options.brace_style&&e.newlines?t="NEWLINE":(t="SPACE",this._output.space_before_token=!0):t="NEWLINE":this._flags.last_token.type===wn.SEMICOLON&&this._flags.mode===qn?t="NEWLINE":this._flags.last_token.type===wn.SEMICOLON&&zn(this._flags.mode)?t="SPACE":this._flags.last_token.type===wn.STRING?t="NEWLINE":this._flags.last_token.type===wn.RESERVED||this._flags.last_token.type===wn.WORD||"*"===this._flags.last_token.text&&(Sn(this._last_last_text,["function","yield"])||this._flags.mode===Mn&&Sn(this._last_last_text,["{",","]))?t="SPACE":this._flags.last_token.type===wn.START_BLOCK?t=this._flags.inline_frame?"SPACE":"NEWLINE":this._flags.last_token.type===wn.END_EXPR&&(this._output.space_before_token=!0,t="NEWLINE"),kn(e,xn)&&")"!==this._flags.last_token.text&&(t=this._flags.inline_frame||"else"===this._flags.last_token.text||"export"===this._flags.last_token.text?"SPACE":"NEWLINE"),kn(e,["else","catch","finally"]))?(this._flags.last_token.type!==wn.END_BLOCK||this._previous_flags.mode!==qn||"expand"===this._options.brace_style||"end-expand"===this._options.brace_style||"none"===this._options.brace_style&&e.newlines)&&!this._flags.inline_frame?this.print_newline():(this._output.trim(!0),"}"!==this._output.current_line.last()&&this.print_newline(),this._output.space_before_token=!0):"NEWLINE"===t?kn(this._flags.last_token,An)||"declare"===this._flags.last_token.text&&kn(e,["var","let","const"])?this._output.space_before_token=!0:this._flags.last_token.type!==wn.END_EXPR?this._flags.last_token.type===wn.START_EXPR&&kn(e,["var","let","const"])||":"===this._flags.last_token.text||(Cn(e,"if")&&Cn(e.previous,"else")?this._output.space_before_token=!0:this.print_newline()):kn(e,xn)&&")"!==this._flags.last_token.text&&this.print_newline():this._flags.multiline_frame&&$n(this._flags.mode)&&","===this._flags.last_token.text&&"}"===this._last_last_text?this.print_newline():"SPACE"===t&&(this._output.space_before_token=!0);!e.previous||e.previous.type!==wn.WORD&&e.previous.type!==wn.RESERVED||(this._output.space_before_token=!0),this.print_token(e),this._flags.last_word=e.text,e.type===wn.RESERVED&&("do"===e.text?this._flags.do_block=!0:"if"===e.text?this._flags.if_block=!0:"import"===e.text?this._flags.import_block=!0:this._flags.import_block&&Cn(e,"from")&&(this._flags.import_block=!1))},Pn.prototype.handle_semicolon=function(e){this.start_of_statement(e)?this._output.space_before_token=!1:this.handle_whitespace_and_comments(e);for(var t=this._tokens.peek();!(this._flags.mode!==Tn||this._flags.if_block&&Cn(t,"else")||this._flags.do_block);)this.restore_mode();this._flags.import_block&&(this._flags.import_block=!1),this.print_token(e)},Pn.prototype.handle_string=function(e){(!e.text.startsWith("`")||0!==e.newlines||""!==e.whitespace_before||")"!==e.previous.text&&this._flags.last_token.type!==wn.WORD)&&(this.start_of_statement(e)?this._output.space_before_token=!0:(this.handle_whitespace_and_comments(e),this._flags.last_token.type===wn.RESERVED||this._flags.last_token.type===wn.WORD||this._flags.inline_frame?this._output.space_before_token=!0:this._flags.last_token.type===wn.COMMA||this._flags.last_token.type===wn.START_EXPR||this._flags.last_token.type===wn.EQUALS||this._flags.last_token.type===wn.OPERATOR?this.start_of_object_property()||this.allow_wrap_or_preserved_newline(e):!e.text.startsWith("`")||this._flags.last_token.type!==wn.END_EXPR||"]"!==e.previous.text&&")"!==e.previous.text||0!==e.newlines?this.print_newline():this._output.space_before_token=!0)),this.print_token(e)},Pn.prototype.handle_equals=function(e){this.start_of_statement(e)||this.handle_whitespace_and_comments(e),this._flags.declaration_statement&&(this._flags.declaration_assignment=!0),this._output.space_before_token=!0,this.print_token(e),this._output.space_before_token=!0},Pn.prototype.handle_comma=function(e){this.handle_whitespace_and_comments(e,!0),this.print_token(e),this._output.space_before_token=!0,this._flags.declaration_statement?(zn(this._flags.parent.mode)&&(this._flags.declaration_assignment=!1),this._flags.declaration_assignment?(this._flags.declaration_assignment=!1,this.print_newline(!1,!0)):this._options.comma_first&&this.allow_wrap_or_preserved_newline(e)):this._flags.mode===Mn||this._flags.mode===Tn&&this._flags.parent.mode===Mn?(this._flags.mode===Tn&&this.restore_mode(),this._flags.inline_frame||this.print_newline()):this._options.comma_first&&this.allow_wrap_or_preserved_newline(e)},Pn.prototype.handle_operator=function(e){var t="*"===e.text&&(kn(this._flags.last_token,["function","yield"])||Sn(this._flags.last_token.type,[wn.START_BLOCK,wn.COMMA,wn.END_BLOCK,wn.SEMICOLON])),i=Sn(e.text,["-","+"])&&(Sn(this._flags.last_token.type,[wn.START_BLOCK,wn.START_EXPR,wn.EQUALS,wn.OPERATOR])||Sn(this._flags.last_token.text,xn)||","===this._flags.last_token.text);if(this.start_of_statement(e));else{var n=!t;this.handle_whitespace_and_comments(e,n)}if(kn(this._flags.last_token,An))return this._output.space_before_token=!0,void this.print_token(e);if("*"!==e.text||this._flags.last_token.type!==wn.DOT)if("::"!==e.text){if(this._flags.last_token.type===wn.OPERATOR&&Sn(this._options.operator_position,Ln)&&this.allow_wrap_or_preserved_newline(e),":"===e.text&&this._flags.in_case)return this.print_token(e),this._flags.in_case=!1,this._flags.case_body=!0,void(this._tokens.peek().type!==wn.START_BLOCK?(this.indent(),this.print_newline()):this._output.space_before_token=!0);var s=!0,o=!0,a=!1;if(":"===e.text?0===this._flags.ternary_depth?s=!1:(this._flags.ternary_depth-=1,a=!0):"?"===e.text&&(this._flags.ternary_depth+=1),!i&&!t&&this._options.preserve_newlines&&Sn(e.text,_n)){var l=":"===e.text,r=l&&a,d=l&&!a;switch(this._options.operator_position){case En.before_newline:return this._output.space_before_token=!d,this.print_token(e),l&&!r||this.allow_wrap_or_preserved_newline(e),void(this._output.space_before_token=!0);case En.after_newline:return this._output.space_before_token=!0,!l||r?this._tokens.peek().newlines?this.print_newline(!1,!0):this.allow_wrap_or_preserved_newline(e):this._output.space_before_token=!1,this.print_token(e),void(this._output.space_before_token=!0);case En.preserve_newline:return d||this.allow_wrap_or_preserved_newline(e),s=!(this._output.just_added_newline()||d),this._output.space_before_token=s,this.print_token(e),void(this._output.space_before_token=!0)}}if(t){this.allow_wrap_or_preserved_newline(e),s=!1;var c=this._tokens.peek();o=c&&Sn(c.type,[wn.WORD,wn.RESERVED])}else"..."===e.text?(this.allow_wrap_or_preserved_newline(e),s=this._flags.last_token.type===wn.START_BLOCK,o=!1):(Sn(e.text,["--","++","!","~"])||i)&&(this._flags.last_token.type!==wn.COMMA&&this._flags.last_token.type!==wn.START_EXPR||this.allow_wrap_or_preserved_newline(e),s=!1,o=!1,!e.newlines||"--"!==e.text&&"++"!==e.text||this.print_newline(!1,!0),";"===this._flags.last_token.text&&zn(this._flags.mode)&&(s=!0),this._flags.last_token.type===wn.RESERVED?s=!0:this._flags.last_token.type===wn.END_EXPR?s=!("]"===this._flags.last_token.text&&("--"===e.text||"++"===e.text)):this._flags.last_token.type===wn.OPERATOR&&(s=Sn(e.text,["--","-","++","+"])&&Sn(this._flags.last_token.text,["--","-","++","+"]),Sn(e.text,["+","-"])&&Sn(this._flags.last_token.text,["--","++"])&&(o=!0)),(this._flags.mode!==qn||this._flags.inline_frame)&&this._flags.mode!==Tn||"{"!==this._flags.last_token.text&&";"!==this._flags.last_token.text||this.print_newline());this._output.space_before_token=this._output.space_before_token||s,this.print_token(e),this._output.space_before_token=o}else this.print_token(e);else this.print_token(e)},Pn.prototype.handle_block_comment=function(e,t){return this._output.raw?(this._output.add_raw_token(e),void(e.directives&&"end"===e.directives.preserve&&(this._output.raw=this._options.test_output_raw))):e.directives?(this.print_newline(!1,t),this.print_token(e),"start"===e.directives.preserve&&(this._output.raw=!0),void this.print_newline(!1,!0)):fn.newline.test(e.text)||e.newlines?void this.print_block_commment(e,t):(this._output.space_before_token=!0,this.print_token(e),void(this._output.space_before_token=!0))},Pn.prototype.print_block_commment=function(e,t){var i,n=function(e){for(var t=[],i=(e=e.replace(fn.allLineBreaks,"\n")).indexOf("\n");-1!==i;)t.push(e.substring(0,i)),i=(e=e.substring(i+1)).indexOf("\n");return e.length&&t.push(e),t}(e.text),s=!1,o=!1,a=e.whitespace_before,l=a.length;if(this.print_newline(!1,t),this.print_token_line_indentation(e),this._output.add_token(n[0]),this.print_newline(!1,t),n.length>1){for(s=function(e,t){for(var i=0;i<e.length;i++)if(e[i].trim().charAt(0)!==t)return!1;return!0}(n=n.slice(1),"*"),o=function(e,t){for(var i,n=0,s=e.length;n<s;n++)if((i=e[n])&&0!==i.indexOf(t))return!1;return!0}(n,a),s&&(this._flags.alignment=1),i=0;i<n.length;i++)s?(this.print_token_line_indentation(e),this._output.add_token(n[i].replace(/^\s+/g,""))):o&&n[i]?(this.print_token_line_indentation(e),this._output.add_token(n[i].substring(l))):(this._output.current_line.set_indent(-1),this._output.add_token(n[i])),this.print_newline(!1,t);this._flags.alignment=0}},Pn.prototype.handle_comment=function(e,t){e.newlines?this.print_newline(!1,t):this._output.trim(!0),this._output.space_before_token=!0,this.print_token(e),this.print_newline(!1,t)},Pn.prototype.handle_dot=function(e){this.start_of_statement(e)||this.handle_whitespace_and_comments(e,!0),kn(this._flags.last_token,An)?this._output.space_before_token=!1:this.allow_wrap_or_preserved_newline(e,")"===this._flags.last_token.text&&this._options.break_chained_methods),this._options.unindent_chained_methods&&this._output.just_added_newline()&&this.deindent(),this.print_token(e)},Pn.prototype.handle_unknown=function(e,t){this.print_token(e),"\n"===e.text[e.text.length-1]&&this.print_newline(!1,t)},Pn.prototype.handle_eof=function(e){for(;this._flags.mode===Tn;)this.restore_mode();this.handle_whitespace_and_comments(e)},ri.Beautifier=Pn;var Dn=ri.Beautifier,jn=gi.Options;li.exports=function(e,t){return new Dn(e,t).beautify()},li.exports.defaultOptions=function(){return new jn};var Un={exports:{}},Fn={},Wn={},Yn=bi.Options;function Xn(e){Yn.call(this,e,"css"),this.selector_separator_newline=this._get_boolean("selector_separator_newline",!0),this.newline_between_rules=this._get_boolean("newline_between_rules",!0);var t=this._get_boolean("space_around_selector_separator");this.space_around_combinator=this._get_boolean("space_around_combinator")||t;var i=this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]);this.brace_style="collapse";for(var n=0;n<i.length;n++)"expand"!==i[n]?this.brace_style="collapse":this.brace_style=i[n]}Xn.prototype=new Yn,Wn.Options=Xn;var Gn=Wn.Options,Vn=di.Output,Kn=Ci.InputScanner,Zn=new(0,Di.Directives)(/\/\*/,/\*\//),Qn=/\r\n|[\r\n]/,Jn=/\r\n|[\r\n]/g,es=/\s/,ts=/(?:\s|\n)+/g,is=/\/\*(?:[\s\S]*?)((?:\*\/)|$)/g,ns=/\/\/(?:[^\n\r\u2028\u2029]*)/g;function ss(e,t){this._source_text=e||"",this._options=new Gn(t),this._ch=null,this._input=null,this.NESTED_AT_RULE={"@page":!0,"@font-face":!0,"@keyframes":!0,"@media":!0,"@supports":!0,"@document":!0},this.CONDITIONAL_GROUP_RULE={"@media":!0,"@supports":!0,"@document":!0}}ss.prototype.eatString=function(e){var t="";for(this._ch=this._input.next();this._ch;){if(t+=this._ch,"\\"===this._ch)t+=this._input.next();else if(-1!==e.indexOf(this._ch)||"\n"===this._ch)break;this._ch=this._input.next()}return t},ss.prototype.eatWhitespace=function(e){for(var t=es.test(this._input.peek()),i=0;es.test(this._input.peek());)this._ch=this._input.next(),e&&"\n"===this._ch&&(0===i||i<this._options.max_preserve_newlines)&&(i++,this._output.add_new_line(!0));return t},ss.prototype.foundNestedPseudoClass=function(){for(var e=0,t=1,i=this._input.peek(t);i;){if("{"===i)return!0;if("("===i)e+=1;else if(")"===i){if(0===e)return!1;e-=1}else if(";"===i||"}"===i)return!1;t++,i=this._input.peek(t)}return!1},ss.prototype.print_string=function(e){this._output.set_indent(this._indentLevel),this._output.non_breaking_space=!0,this._output.add_token(e)},ss.prototype.preserveSingleSpace=function(e){e&&(this._output.space_before_token=!0)},ss.prototype.indent=function(){this._indentLevel++},ss.prototype.outdent=function(){this._indentLevel>0&&this._indentLevel--},ss.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var e=this._source_text,t=this._options.eol;"auto"===t&&(t="\n",e&&Qn.test(e||"")&&(t=e.match(Qn)[0]));var i=(e=e.replace(Jn,"\n")).match(/^[\t ]*/)[0];this._output=new Vn(this._options,i),this._input=new Kn(e),this._indentLevel=0,this._nestedLevel=0,this._ch=null;for(var n,s,o=0,a=!1,l=!1,r=!1,d=!1,c=!1,u=this._ch;n=""!==this._input.read(ts),s=u,this._ch=this._input.next(),"\\"===this._ch&&this._input.hasNext()&&(this._ch+=this._input.next()),u=this._ch,this._ch;)if("/"===this._ch&&"*"===this._input.peek()){this._output.add_new_line(),this._input.back();var p=this._input.read(is),h=Zn.get_directives(p);h&&"start"===h.ignore&&(p+=Zn.readIgnored(this._input)),this.print_string(p),this.eatWhitespace(!0),this._output.add_new_line()}else if("/"===this._ch&&"/"===this._input.peek())this._output.space_before_token=!0,this._input.back(),this.print_string(this._input.read(ns)),this.eatWhitespace(!0);else if("@"===this._ch)if(this.preserveSingleSpace(n),"{"===this._input.peek())this.print_string(this._ch+this.eatString("}"));else{this.print_string(this._ch);var m=this._input.peekUntilAfter(/[: ,;{}()[\]\/='"]/g);m.match(/[ :]$/)&&(m=this.eatString(": ").replace(/\s$/,""),this.print_string(m),this._output.space_before_token=!0),"extend"===(m=m.replace(/\s$/,""))?d=!0:"import"===m&&(c=!0),m in this.NESTED_AT_RULE?(this._nestedLevel+=1,m in this.CONDITIONAL_GROUP_RULE&&(r=!0)):a||0!==o||-1===m.indexOf(":")||(l=!0,this.indent())}else"#"===this._ch&&"{"===this._input.peek()?(this.preserveSingleSpace(n),this.print_string(this._ch+this.eatString("}"))):"{"===this._ch?(l&&(l=!1,this.outdent()),r?(r=!1,a=this._indentLevel>=this._nestedLevel):a=this._indentLevel>=this._nestedLevel-1,this._options.newline_between_rules&&a&&this._output.previous_line&&"{"!==this._output.previous_line.item(-1)&&this._output.ensure_empty_line_above("/",","),this._output.space_before_token=!0,"expand"===this._options.brace_style?(this._output.add_new_line(),this.print_string(this._ch),this.indent(),this._output.set_indent(this._indentLevel)):(this.indent(),this.print_string(this._ch)),this.eatWhitespace(!0),this._output.add_new_line()):"}"===this._ch?(this.outdent(),this._output.add_new_line(),"{"===s&&this._output.trim(!0),c=!1,d=!1,l&&(this.outdent(),l=!1),this.print_string(this._ch),a=!1,this._nestedLevel&&this._nestedLevel--,this.eatWhitespace(!0),this._output.add_new_line(),this._options.newline_between_rules&&!this._output.just_added_blankline()&&"}"!==this._input.peek()&&this._output.add_new_line(!0)):":"===this._ch?!a&&!r||this._input.lookBack("&")||this.foundNestedPseudoClass()||this._input.lookBack("(")||d||0!==o?(this._input.lookBack(" ")&&(this._output.space_before_token=!0),":"===this._input.peek()?(this._ch=this._input.next(),this.print_string("::")):this.print_string(":")):(this.print_string(":"),l||(l=!0,this._output.space_before_token=!0,this.eatWhitespace(!0),this.indent())):'"'===this._ch||"'"===this._ch?(this.preserveSingleSpace(n),this.print_string(this._ch+this.eatString(this._ch)),this.eatWhitespace(!0)):";"===this._ch?0===o?(l&&(this.outdent(),l=!1),d=!1,c=!1,this.print_string(this._ch),this.eatWhitespace(!0),"/"!==this._input.peek()&&this._output.add_new_line()):(this.print_string(this._ch),this.eatWhitespace(!0),this._output.space_before_token=!0):"("===this._ch?this._input.lookBack("url")?(this.print_string(this._ch),this.eatWhitespace(),o++,this.indent(),this._ch=this._input.next(),")"===this._ch||'"'===this._ch||"'"===this._ch?this._input.back():this._ch&&(this.print_string(this._ch+this.eatString(")")),o&&(o--,this.outdent()))):(this.preserveSingleSpace(n),this.print_string(this._ch),this.eatWhitespace(),o++,this.indent()):")"===this._ch?(o&&(o--,this.outdent()),this.print_string(this._ch)):","===this._ch?(this.print_string(this._ch),this.eatWhitespace(!0),!this._options.selector_separator_newline||l||0!==o||c||d?this._output.space_before_token=!0:this._output.add_new_line()):">"!==this._ch&&"+"!==this._ch&&"~"!==this._ch||l||0!==o?"]"===this._ch?this.print_string(this._ch):"["===this._ch?(this.preserveSingleSpace(n),this.print_string(this._ch)):"="===this._ch?(this.eatWhitespace(),this.print_string("="),es.test(this._ch)&&(this._ch="")):"!"!==this._ch||this._input.lookBack("\\")?(this.preserveSingleSpace(n),this.print_string(this._ch)):(this.print_string(" "),this.print_string(this._ch)):this._options.space_around_combinator?(this._output.space_before_token=!0,this.print_string(this._ch),this._output.space_before_token=!0):(this.print_string(this._ch),this.eatWhitespace(),this._ch&&es.test(this._ch)&&(this._ch=""));return this._output.get_code(t)},Fn.Beautifier=ss;var os=Fn.Beautifier,as=Wn.Options;Un.exports=function(e,t){return new os(e,t).beautify()},Un.exports.defaultOptions=function(){return new as};var ls={exports:{}},rs={},ds={},cs=bi.Options;function us(e){cs.call(this,e,"html"),1===this.templating.length&&"auto"===this.templating[0]&&(this.templating=["django","erb","handlebars","php"]),this.indent_inner_html=this._get_boolean("indent_inner_html"),this.indent_body_inner_html=this._get_boolean("indent_body_inner_html",!0),this.indent_head_inner_html=this._get_boolean("indent_head_inner_html",!0),this.indent_handlebars=this._get_boolean("indent_handlebars",!0),this.wrap_attributes=this._get_selection("wrap_attributes",["auto","force","force-aligned","force-expand-multiline","aligned-multiple","preserve","preserve-aligned"]),this.wrap_attributes_indent_size=this._get_number("wrap_attributes_indent_size",this.indent_size),this.extra_liners=this._get_array("extra_liners",["head","body","/html"]),this.inline=this._get_array("inline",["a","abbr","area","audio","b","bdi","bdo","br","button","canvas","cite","code","data","datalist","del","dfn","em","embed","i","iframe","img","input","ins","kbd","keygen","label","map","mark","math","meter","noscript","object","output","progress","q","ruby","s","samp","select","small","span","strong","sub","sup","svg","template","textarea","time","u","var","video","wbr","text","acronym","big","strike","tt"]),this.void_elements=this._get_array("void_elements",["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr","!doctype","?xml","basefont","isindex"]),this.unformatted=this._get_array("unformatted",[]),this.content_unformatted=this._get_array("content_unformatted",["pre","textarea"]),this.unformatted_content_delimiter=this._get_characters("unformatted_content_delimiter"),this.indent_scripts=this._get_selection("indent_scripts",["normal","keep","separate"])}us.prototype=new cs,ds.Options=us;var ps={},hs=Ei.Tokenizer,ms=Ei.TOKEN,gs=Di.Directives,bs=Ui.TemplatablePattern,fs=Mi.Pattern,vs={TAG_OPEN:"TK_TAG_OPEN",TAG_CLOSE:"TK_TAG_CLOSE",ATTRIBUTE:"TK_ATTRIBUTE",EQUALS:"TK_EQUALS",VALUE:"TK_VALUE",COMMENT:"TK_COMMENT",TEXT:"TK_TEXT",UNKNOWN:"TK_UNKNOWN",START:ms.START,RAW:ms.RAW,EOF:ms.EOF},ys=new gs(/<\!--/,/-->/),xs=function(e,t){hs.call(this,e,t),this._current_tag_name="";var i=new bs(this._input).read_options(this._options),n=new fs(this._input);if(this.__patterns={word:i.until(/[\n\r\t <]/),single_quote:i.until_after(/'/),double_quote:i.until_after(/"/),attribute:i.until(/[\n\r\t =>]|\/>/),element_name:i.until(/[\n\r\t >\/]/),handlebars_comment:n.starting_with(/{{!--/).until_after(/--}}/),handlebars:n.starting_with(/{{/).until_after(/}}/),handlebars_open:n.until(/[\n\r\t }]/),handlebars_raw_close:n.until(/}}/),comment:n.starting_with(/<!--/).until_after(/-->/),cdata:n.starting_with(/<!\[CDATA\[/).until_after(/]]>/),conditional_comment:n.starting_with(/<!\[/).until_after(/]>/),processing:n.starting_with(/<\?/).until_after(/\?>/)},this._options.indent_handlebars&&(this.__patterns.word=this.__patterns.word.exclude("handlebars")),this._unformatted_content_delimiter=null,this._options.unformatted_content_delimiter){var s=this._input.get_literal_regexp(this._options.unformatted_content_delimiter);this.__patterns.unformatted_content_delimiter=n.matching(s).until_after(s)}};(xs.prototype=new hs)._is_comment=function(e){return!1},xs.prototype._is_opening=function(e){return e.type===vs.TAG_OPEN},xs.prototype._is_closing=function(e,t){return e.type===vs.TAG_CLOSE&&t&&((">"===e.text||"/>"===e.text)&&"<"===t.text[0]||"}}"===e.text&&"{"===t.text[0]&&"{"===t.text[1])},xs.prototype._reset=function(){this._current_tag_name=""},xs.prototype._get_next_token=function(e,t){var i=null;this._readWhitespace();var n=this._input.peek();return null===n?this._create_token(vs.EOF,""):i=(i=(i=(i=(i=(i=(i=(i=(i=i||this._read_open_handlebars(n,t))||this._read_attribute(n,e,t))||this._read_close(n,t))||this._read_raw_content(n,e,t))||this._read_content_word(n))||this._read_comment_or_cdata(n))||this._read_processing(n))||this._read_open(n,t))||this._create_token(vs.UNKNOWN,this._input.next())},xs.prototype._read_comment_or_cdata=function(e){var t=null,i=null,n=null;"<"===e&&("!"===this._input.peek(1)&&((i=this.__patterns.comment.read())?(n=ys.get_directives(i))&&"start"===n.ignore&&(i+=ys.readIgnored(this._input)):i=this.__patterns.cdata.read()),i&&((t=this._create_token(vs.COMMENT,i)).directives=n));return t},xs.prototype._read_processing=function(e){var t=null,i=null;if("<"===e){var n=this._input.peek(1);"!"!==n&&"?"!==n||(i=(i=this.__patterns.conditional_comment.read())||this.__patterns.processing.read()),i&&((t=this._create_token(vs.COMMENT,i)).directives=null)}return t},xs.prototype._read_open=function(e,t){var i=null,n=null;return t||"<"===e&&(i=this._input.next(),"/"===this._input.peek()&&(i+=this._input.next()),i+=this.__patterns.element_name.read(),n=this._create_token(vs.TAG_OPEN,i)),n},xs.prototype._read_open_handlebars=function(e,t){var i=null,n=null;return t||this._options.indent_handlebars&&"{"===e&&"{"===this._input.peek(1)&&("!"===this._input.peek(2)?(i=(i=this.__patterns.handlebars_comment.read())||this.__patterns.handlebars.read(),n=this._create_token(vs.COMMENT,i)):(i=this.__patterns.handlebars_open.read(),n=this._create_token(vs.TAG_OPEN,i))),n},xs.prototype._read_close=function(e,t){var i=null,n=null;return t&&("<"===t.text[0]&&(">"===e||"/"===e&&">"===this._input.peek(1))?(i=this._input.next(),"/"===e&&(i+=this._input.next()),n=this._create_token(vs.TAG_CLOSE,i)):"{"===t.text[0]&&"}"===e&&"}"===this._input.peek(1)&&(this._input.next(),this._input.next(),n=this._create_token(vs.TAG_CLOSE,"}}"))),n},xs.prototype._read_attribute=function(e,t,i){var n=null,s="";if(i&&"<"===i.text[0])if("="===e)n=this._create_token(vs.EQUALS,this._input.next());else if('"'===e||"'"===e){var o=this._input.next();o+='"'===e?this.__patterns.double_quote.read():this.__patterns.single_quote.read(),n=this._create_token(vs.VALUE,o)}else(s=this.__patterns.attribute.read())&&(n=t.type===vs.EQUALS?this._create_token(vs.VALUE,s):this._create_token(vs.ATTRIBUTE,s));return n},xs.prototype._is_content_unformatted=function(e){return-1===this._options.void_elements.indexOf(e)&&(-1!==this._options.content_unformatted.indexOf(e)||-1!==this._options.unformatted.indexOf(e))},xs.prototype._read_raw_content=function(e,t,i){var n="";if(i&&"{"===i.text[0])n=this.__patterns.handlebars_raw_close.read();else if(t.type===vs.TAG_CLOSE&&"<"===t.opened.text[0]&&"/"!==t.text[0]){var s=t.opened.text.substr(1).toLowerCase();if("script"===s||"style"===s){var o=this._read_comment_or_cdata(e);if(o)return o.type=vs.TEXT,o;n=this._input.readUntil(new RegExp("</"+s+"[\\n\\r\\t ]*?>","ig"))}else this._is_content_unformatted(s)&&(n=this._input.readUntil(new RegExp("</"+s+"[\\n\\r\\t ]*?>","ig")))}return n?this._create_token(vs.TEXT,n):null},xs.prototype._read_content_word=function(e){var t="";if(this._options.unformatted_content_delimiter&&e===this._options.unformatted_content_delimiter[0]&&(t=this.__patterns.unformatted_content_delimiter.read()),t||(t=this.__patterns.word.read()),t)return this._create_token(vs.TEXT,t)},ps.Tokenizer=xs,ps.TOKEN=vs;var _s=ds.Options,ws=di.Output,Ss=ps.Tokenizer,Cs=ps.TOKEN,ks=/\r\n|[\r\n]/,As=/\r\n|[\r\n]/g,Es=function(e,t){this.indent_level=0,this.alignment_size=0,this.max_preserve_newlines=e.max_preserve_newlines,this.preserve_newlines=e.preserve_newlines,this._output=new ws(e,t)};Es.prototype.current_line_has_match=function(e){return this._output.current_line.has_match(e)},Es.prototype.set_space_before_token=function(e,t){this._output.space_before_token=e,this._output.non_breaking_space=t},Es.prototype.set_wrap_point=function(){this._output.set_indent(this.indent_level,this.alignment_size),this._output.set_wrap_point()},Es.prototype.add_raw_token=function(e){this._output.add_raw_token(e)},Es.prototype.print_preserved_newlines=function(e){var t=0;e.type!==Cs.TEXT&&e.previous.type!==Cs.TEXT&&(t=e.newlines?1:0),this.preserve_newlines&&(t=e.newlines<this.max_preserve_newlines+1?e.newlines:this.max_preserve_newlines+1);for(var i=0;i<t;i++)this.print_newline(i>0);return 0!==t},Es.prototype.traverse_whitespace=function(e){return!(!e.whitespace_before&&!e.newlines)&&(this.print_preserved_newlines(e)||(this._output.space_before_token=!0),!0)},Es.prototype.previous_token_wrapped=function(){return this._output.previous_token_wrapped},Es.prototype.print_newline=function(e){this._output.add_new_line(e)},Es.prototype.print_token=function(e){e.text&&(this._output.set_indent(this.indent_level,this.alignment_size),this._output.add_token(e.text))},Es.prototype.indent=function(){this.indent_level++},Es.prototype.get_full_indent=function(e){return(e=this.indent_level+(e||0))<1?"":this._output.get_indent_string(e)};var Ls=function(e,t){var i=null,n=null;return t.closed?("script"===e?i="text/javascript":"style"===e&&(i="text/css"),i=function(e){for(var t=null,i=e.next;i.type!==Cs.EOF&&e.closed!==i;){if(i.type===Cs.ATTRIBUTE&&"type"===i.text){i.next&&i.next.type===Cs.EQUALS&&i.next.next&&i.next.next.type===Cs.VALUE&&(t=i.next.next.text);break}i=i.next}return t}(t)||i,i.search("text/css")>-1?n="css":i.search(/module|((text|application|dojo)\/(x-)?(javascript|ecmascript|jscript|livescript|(ld\+)?json|method|aspect))/)>-1?n="javascript":i.search(/(text|application|dojo)\/(x-)?(html)/)>-1?n="html":i.search(/test\/null/)>-1&&(n="null"),n):null};function qs(e,t){return-1!==t.indexOf(e)}function Ts(e,t,i){this.parent=e||null,this.tag=t?t.tag_name:"",this.indent_level=i||0,this.parser_token=t||null}function Ms(e){this._printer=e,this._current_frame=null}function Os(e,t,i,n){this._source_text=e||"",t=t||{},this._js_beautify=i,this._css_beautify=n,this._tag_stack=null;var s=new _s(t,"html");this._options=s,this._is_wrap_attributes_force="force"===this._options.wrap_attributes.substr(0,"force".length),this._is_wrap_attributes_force_expand_multiline="force-expand-multiline"===this._options.wrap_attributes,this._is_wrap_attributes_force_aligned="force-aligned"===this._options.wrap_attributes,this._is_wrap_attributes_aligned_multiple="aligned-multiple"===this._options.wrap_attributes,this._is_wrap_attributes_preserve="preserve"===this._options.wrap_attributes.substr(0,"preserve".length),this._is_wrap_attributes_preserve_aligned="preserve-aligned"===this._options.wrap_attributes}Ms.prototype.get_parser_token=function(){return this._current_frame?this._current_frame.parser_token:null},Ms.prototype.record_tag=function(e){var t=new Ts(this._current_frame,e,this._printer.indent_level);this._current_frame=t},Ms.prototype._try_pop_frame=function(e){var t=null;return e&&(t=e.parser_token,this._printer.indent_level=e.indent_level,this._current_frame=e.parent),t},Ms.prototype._get_frame=function(e,t){for(var i=this._current_frame;i&&-1===e.indexOf(i.tag);){if(t&&-1!==t.indexOf(i.tag)){i=null;break}i=i.parent}return i},Ms.prototype.try_pop=function(e,t){var i=this._get_frame([e],t);return this._try_pop_frame(i)},Ms.prototype.indent_to_tag=function(e){var t=this._get_frame(e);t&&(this._printer.indent_level=t.indent_level)},Os.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var e=this._source_text,t=this._options.eol;"auto"===this._options.eol&&(t="\n",e&&ks.test(e)&&(t=e.match(ks)[0]));var i=(e=e.replace(As,"\n")).match(/^[\t ]*/)[0],n={text:"",type:""},s=new Rs,o=new Es(this._options,i),a=new Ss(e,this._options).tokenize();this._tag_stack=new Ms(o);for(var l=null,r=a.next();r.type!==Cs.EOF;)r.type===Cs.TAG_OPEN||r.type===Cs.COMMENT?s=l=this._handle_tag_open(o,r,s,n):r.type===Cs.ATTRIBUTE||r.type===Cs.EQUALS||r.type===Cs.VALUE||r.type===Cs.TEXT&&!s.tag_complete?l=this._handle_inside_tag(o,r,s,a):r.type===Cs.TAG_CLOSE?l=this._handle_tag_close(o,r,s):r.type===Cs.TEXT?l=this._handle_text(o,r,s):o.add_raw_token(r),n=l,r=a.next();return o._output.get_code(t)},Os.prototype._handle_tag_close=function(e,t,i){var n={text:t.text,type:t.type};return e.alignment_size=0,i.tag_complete=!0,e.set_space_before_token(t.newlines||""!==t.whitespace_before,!0),i.is_unformatted?e.add_raw_token(t):("<"===i.tag_start_char&&(e.set_space_before_token("/"===t.text[0],!0),this._is_wrap_attributes_force_expand_multiline&&i.has_wrapped_attrs&&e.print_newline(!1)),e.print_token(t)),!i.indent_content||i.is_unformatted||i.is_content_unformatted||(e.indent(),i.indent_content=!1),i.is_inline_element||i.is_unformatted||i.is_content_unformatted||e.set_wrap_point(),n},Os.prototype._handle_inside_tag=function(e,t,i,n){var s=i.has_wrapped_attrs,o={text:t.text,type:t.type};if(e.set_space_before_token(t.newlines||""!==t.whitespace_before,!0),i.is_unformatted)e.add_raw_token(t);else if("{"===i.tag_start_char&&t.type===Cs.TEXT)e.print_preserved_newlines(t)?(t.newlines=0,e.add_raw_token(t)):e.print_token(t);else{if(t.type===Cs.ATTRIBUTE?(e.set_space_before_token(!0),i.attr_count+=1):(t.type===Cs.EQUALS||t.type===Cs.VALUE&&t.previous.type===Cs.EQUALS)&&e.set_space_before_token(!1),t.type===Cs.ATTRIBUTE&&"<"===i.tag_start_char&&((this._is_wrap_attributes_preserve||this._is_wrap_attributes_preserve_aligned)&&(e.traverse_whitespace(t),s=s||0!==t.newlines),this._is_wrap_attributes_force)){var a=i.attr_count>1;if(this._is_wrap_attributes_force_expand_multiline&&1===i.attr_count){var l,r=!0,d=0;do{if((l=n.peek(d)).type===Cs.ATTRIBUTE){r=!1;break}d+=1}while(d<4&&l.type!==Cs.EOF&&l.type!==Cs.TAG_CLOSE);a=!r}a&&(e.print_newline(!1),s=!0)}e.print_token(t),s=s||e.previous_token_wrapped(),i.has_wrapped_attrs=s}return o},Os.prototype._handle_text=function(e,t,i){var n={text:t.text,type:"TK_CONTENT"};return i.custom_beautifier_name?this._print_custom_beatifier_text(e,t,i):i.is_unformatted||i.is_content_unformatted?e.add_raw_token(t):(e.traverse_whitespace(t),e.print_token(t)),n},Os.prototype._print_custom_beatifier_text=function(e,t,i){var n=this;if(""!==t.text){var s,o=t.text,a=1,l="",r="";"javascript"===i.custom_beautifier_name&&"function"==typeof this._js_beautify?s=this._js_beautify:"css"===i.custom_beautifier_name&&"function"==typeof this._css_beautify?s=this._css_beautify:"html"===i.custom_beautifier_name&&(s=function(e,t){return new Os(e,t,n._js_beautify,n._css_beautify).beautify()}),"keep"===this._options.indent_scripts?a=0:"separate"===this._options.indent_scripts&&(a=-e.indent_level);var d=e.get_full_indent(a);if(o=o.replace(/\n[ \t]*$/,""),"html"!==i.custom_beautifier_name&&"<"===o[0]&&o.match(/^(<!--|<!\[CDATA\[)/)){var c=/^(<!--[^\n]*|<!\[CDATA\[)(\n?)([ \t\n]*)([\s\S]*)(-->|]]>)$/.exec(o);if(!c)return void e.add_raw_token(t);l=d+c[1]+"\n",o=c[4],c[5]&&(r=d+c[5]),o=o.replace(/\n[ \t]*$/,""),(c[2]||-1!==c[3].indexOf("\n"))&&(c=c[3].match(/[ \t]+$/))&&(t.whitespace_before=c[0])}if(o)if(s){var u=function(){this.eol="\n"};u.prototype=this._options.raw_options,o=s(d+o,new u)}else{var p=t.whitespace_before;p&&(o=o.replace(new RegExp("\n("+p+")?","g"),"\n")),o=d+o.replace(/\n/g,"\n"+d)}l&&(o=o?l+o+"\n"+r:l+r),e.print_newline(!1),o&&(t.text=o,t.whitespace_before="",t.newlines=0,e.add_raw_token(t),e.print_newline(!0))}},Os.prototype._handle_tag_open=function(e,t,i,n){var s=this._get_tag_open_token(t);return!i.is_unformatted&&!i.is_content_unformatted||i.is_empty_element||t.type!==Cs.TAG_OPEN||0!==t.text.indexOf("</")?(e.traverse_whitespace(t),this._set_tag_position(e,t,s,i,n),s.is_inline_element||e.set_wrap_point(),e.print_token(t)):(e.add_raw_token(t),s.start_tag_token=this._tag_stack.try_pop(s.tag_name)),(this._is_wrap_attributes_force_aligned||this._is_wrap_attributes_aligned_multiple||this._is_wrap_attributes_preserve_aligned)&&(s.alignment_size=t.text.length+1),s.tag_complete||s.is_unformatted||(e.alignment_size=s.alignment_size),s};var Rs=function(e,t){var i;(this.parent=e||null,this.text="",this.type="TK_TAG_OPEN",this.tag_name="",this.is_inline_element=!1,this.is_unformatted=!1,this.is_content_unformatted=!1,this.is_empty_element=!1,this.is_start_tag=!1,this.is_end_tag=!1,this.indent_content=!1,this.multiline_content=!1,this.custom_beautifier_name=null,this.start_tag_token=null,this.attr_count=0,this.has_wrapped_attrs=!1,this.alignment_size=0,this.tag_complete=!1,this.tag_start_char="",this.tag_check="",t)?(this.tag_start_char=t.text[0],this.text=t.text,"<"===this.tag_start_char?(i=t.text.match(/^<([^\s>]*)/),this.tag_check=i?i[1]:""):(i=t.text.match(/^{{(?:[\^]|#\*?)?([^\s}]+)/),this.tag_check=i?i[1]:"","{{#>"===t.text&&">"===this.tag_check&&null!==t.next&&(this.tag_check=t.next.text)),this.tag_check=this.tag_check.toLowerCase(),t.type===Cs.COMMENT&&(this.tag_complete=!0),this.is_start_tag="/"!==this.tag_check.charAt(0),this.tag_name=this.is_start_tag?this.tag_check:this.tag_check.substr(1),this.is_end_tag=!this.is_start_tag||t.closed&&"/>"===t.closed.text,this.is_end_tag=this.is_end_tag||"{"===this.tag_start_char&&(this.text.length<3||/[^#\^]/.test(this.text.charAt(2)))):this.tag_complete=!0};Os.prototype._get_tag_open_token=function(e){var t=new Rs(this._tag_stack.get_parser_token(),e);return t.alignment_size=this._options.wrap_attributes_indent_size,t.is_end_tag=t.is_end_tag||qs(t.tag_check,this._options.void_elements),t.is_empty_element=t.tag_complete||t.is_start_tag&&t.is_end_tag,t.is_unformatted=!t.tag_complete&&qs(t.tag_check,this._options.unformatted),t.is_content_unformatted=!t.is_empty_element&&qs(t.tag_check,this._options.content_unformatted),t.is_inline_element=qs(t.tag_name,this._options.inline)||"{"===t.tag_start_char,t},Os.prototype._set_tag_position=function(e,t,i,n,s){if(i.is_empty_element||(i.is_end_tag?i.start_tag_token=this._tag_stack.try_pop(i.tag_name):(this._do_optional_end_element(i)&&(i.is_inline_element||e.print_newline(!1)),this._tag_stack.record_tag(i),"script"!==i.tag_name&&"style"!==i.tag_name||i.is_unformatted||i.is_content_unformatted||(i.custom_beautifier_name=Ls(i.tag_check,t)))),qs(i.tag_check,this._options.extra_liners)&&(e.print_newline(!1),e._output.just_added_blankline()||e.print_newline(!0)),i.is_empty_element){if("{"===i.tag_start_char&&"else"===i.tag_check)this._tag_stack.indent_to_tag(["if","unless","each"]),i.indent_content=!0,e.current_line_has_match(/{{#if/)||e.print_newline(!1);"!--"===i.tag_name&&s.type===Cs.TAG_CLOSE&&n.is_end_tag&&-1===i.text.indexOf("\n")||(i.is_inline_element||i.is_unformatted||e.print_newline(!1),this._calcluate_parent_multiline(e,i))}else if(i.is_end_tag){var o=!1;o=(o=i.start_tag_token&&i.start_tag_token.multiline_content)||!i.is_inline_element&&!(n.is_inline_element||n.is_unformatted)&&!(s.type===Cs.TAG_CLOSE&&i.start_tag_token===n)&&"TK_CONTENT"!==s.type,(i.is_content_unformatted||i.is_unformatted)&&(o=!1),o&&e.print_newline(!1)}else i.indent_content=!i.custom_beautifier_name,"<"===i.tag_start_char&&("html"===i.tag_name?i.indent_content=this._options.indent_inner_html:"head"===i.tag_name?i.indent_content=this._options.indent_head_inner_html:"body"===i.tag_name&&(i.indent_content=this._options.indent_body_inner_html)),i.is_inline_element||i.is_unformatted||"TK_CONTENT"===s.type&&!i.is_content_unformatted||e.print_newline(!1),this._calcluate_parent_multiline(e,i)},Os.prototype._calcluate_parent_multiline=function(e,t){!t.parent||!e._output.just_added_newline()||(t.is_inline_element||t.is_unformatted)&&t.parent.is_inline_element||(t.parent.multiline_content=!0)};var Is=["address","article","aside","blockquote","details","div","dl","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hr","main","nav","ol","p","pre","section","table","ul"],Bs=["a","audio","del","ins","map","noscript","video"];Os.prototype._do_optional_end_element=function(e){var t=null;if(!e.is_empty_element&&e.is_start_tag&&e.parent){if("body"===e.tag_name)t=t||this._tag_stack.try_pop("head");else if("li"===e.tag_name)t=t||this._tag_stack.try_pop("li",["ol","ul"]);else if("dd"===e.tag_name||"dt"===e.tag_name)t=(t=t||this._tag_stack.try_pop("dt",["dl"]))||this._tag_stack.try_pop("dd",["dl"]);else if("p"===e.parent.tag_name&&-1!==Is.indexOf(e.tag_name)){var i=e.parent.parent;i&&-1!==Bs.indexOf(i.tag_name)||(t=t||this._tag_stack.try_pop("p"))}else"rp"===e.tag_name||"rt"===e.tag_name?t=(t=t||this._tag_stack.try_pop("rt",["ruby","rtc"]))||this._tag_stack.try_pop("rp",["ruby","rtc"]):"optgroup"===e.tag_name?t=t||this._tag_stack.try_pop("optgroup",["select"]):"option"===e.tag_name?t=t||this._tag_stack.try_pop("option",["select","datalist","optgroup"]):"colgroup"===e.tag_name?t=t||this._tag_stack.try_pop("caption",["table"]):"thead"===e.tag_name?t=(t=t||this._tag_stack.try_pop("caption",["table"]))||this._tag_stack.try_pop("colgroup",["table"]):"tbody"===e.tag_name||"tfoot"===e.tag_name?t=(t=(t=(t=t||this._tag_stack.try_pop("caption",["table"]))||this._tag_stack.try_pop("colgroup",["table"]))||this._tag_stack.try_pop("thead",["table"]))||this._tag_stack.try_pop("tbody",["table"]):"tr"===e.tag_name?t=(t=(t=t||this._tag_stack.try_pop("caption",["table"]))||this._tag_stack.try_pop("colgroup",["table"]))||this._tag_stack.try_pop("tr",["table","thead","tbody","tfoot"]):"th"!==e.tag_name&&"td"!==e.tag_name||(t=(t=t||this._tag_stack.try_pop("td",["table","thead","tbody","tfoot","tr"]))||this._tag_stack.try_pop("th",["table","thead","tbody","tfoot","tr"]));return e.parent=this._tag_stack.get_parser_token(),t}},rs.Beautifier=Os;var Ns=rs.Beautifier,$s=ds.Options;ls.exports=function(e,t,i,n){return new Ns(e,t,i,n).beautify()},ls.exports.defaultOptions=function(){return new $s};var zs=li.exports,Ps=Un.exports,Hs=ls.exports;function Ds(e,t,i,n){return Hs(e,t,i=i||zs,n=n||Ps)}Ds.defaultOptions=Hs.defaultOptions,ai.js=zs,ai.css=Ps,ai.html=Ds,function(e){!function(e){var t=ai;t.js_beautify=t.js,t.css_beautify=t.css,t.html_beautify=t.html,e.exports=function(e,t,i){var n=function(t,i){return e.js_beautify(t,i)};return n.js=e.js_beautify,n.css=t.css_beautify,n.html=i.html_beautify,n.js_beautify=e.js_beautify,n.css_beautify=t.css_beautify,n.html_beautify=i.html_beautify,n}(t,t,t)}(e)}(oi);var js=oi.exports;function Us(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Fs(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function Ws(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Fs(Object(i),!0).forEach((function(t){Us(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Fs(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function Ys(e,t){if(null==e)return{};var i,n,s=function(e,t){if(null==e)return{};var i,n,s={},o=Object.keys(e);for(n=0;n<o.length;n++)i=o[n],t.indexOf(i)>=0||(s[i]=e[i]);return s}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)i=o[n],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(s[i]=e[i])}return s}function Xs(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function Gs(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Vs(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function Ks(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Vs(Object(i),!0).forEach((function(t){Gs(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Vs(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function Zs(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return function(e){return t.reduceRight((function(e,t){return t(e)}),e)}}function Qs(e){return function t(){for(var i=this,n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return s.length>=e.length?e.apply(this,s):function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return t.apply(i,[].concat(s,n))}}}function Js(e){return{}.toString.call(e).includes("Object")}function eo(e){return"function"==typeof e}var to=Qs((function(e,t){throw new Error(e[t]||e.default)}))({initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"}),io={changes:function(e,t){return Js(t)||to("changeType"),Object.keys(t).some((function(t){return i=e,n=t,!Object.prototype.hasOwnProperty.call(i,n);var i,n}))&&to("changeField"),t},selector:function(e){eo(e)||to("selectorType")},handler:function(e){eo(e)||Js(e)||to("handlerType"),Js(e)&&Object.values(e).some((function(e){return!eo(e)}))&&to("handlersType")},initial:function(e){var t;e||to("initialIsRequired"),Js(e)||to("initialType"),t=e,Object.keys(t).length||to("initialContent")}};function no(e,t){return eo(t)?t(e.current):t}function so(e,t){return e.current=Ks(Ks({},e.current),t),t}function oo(e,t,i){return eo(t)?t(e.current):Object.keys(i).forEach((function(i){var n;return null===(n=t[i])||void 0===n?void 0:n.call(t,e.current[i])})),i}var ao={create:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};io.initial(e),io.handler(t);var i={current:e},n=Qs(oo)(i,t),s=Qs(so)(i),o=Qs(io.changes)(e),a=Qs(no)(i);function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e};return io.selector(e),e(i.current)}function r(e){Zs(n,s,o,a)(e)}return[l,r]}};var lo,ro={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:"Deprecation warning!\n    You are using deprecated way of configuration.\n\n    Instead of using\n      monaco.config({ urls: { monacoBase: '...' } })\n    use\n      monaco.config({ paths: { vs: '...' } })\n\n    For more please check the link https://github.com/suren-atoyan/monaco-loader#config\n  "},co=(lo=function(e,t){throw new Error(e[t]||e.default)},function e(){for(var t=this,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return n.length>=lo.length?lo.apply(this,n):function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return e.apply(t,[].concat(n,s))}})(ro),uo={config:function(e){var t;return e||co("configIsRequired"),t=e,{}.toString.call(t).includes("Object")||co("configType"),e.urls?(console.warn(ro.deprecation),{paths:{vs:e.urls.monacoBase}}):e}};function po(e,t){return Object.keys(t).forEach((function(i){t[i]instanceof Object&&e[i]&&Object.assign(t[i],po(e[i],t[i]))})),Ws(Ws({},e),t)}var ho={type:"cancelation",msg:"operation is manually canceled"};function mo(e){var t=!1,i=new Promise((function(i,n){e.then((function(e){return t?n(ho):i(e)})),e.catch(n)}));return i.cancel=function(){return t=!0},i}var go,bo,fo=ao.create({config:{paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.33.0/min/vs"}},isInitialized:!1,resolve:null,reject:null,monaco:null}),vo=(bo=2,function(e){if(Array.isArray(e))return e}(go=fo)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var i=[],n=!0,s=!1,o=void 0;try{for(var a,l=e[Symbol.iterator]();!(n=(a=l.next()).done)&&(i.push(a.value),!t||i.length!==t);n=!0);}catch(e){s=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(s)throw o}}return i}}(go,bo)||function(e,t){if(e){if("string"==typeof e)return Xs(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Xs(e,t):void 0}}(go,bo)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),yo=vo[0],xo=vo[1];function _o(e){return document.body.appendChild(e)}function wo(e){var t=yo((function(e){return{config:e.config,reject:e.reject}})),i=function(e){var t=document.createElement("script");return e&&(t.src=e),t}("".concat(t.config.paths.vs,"/loader.js"));return i.onload=function(){return e()},i.onerror=t.reject,i}function So(){var e=yo((function(e){return{config:e.config,resolve:e.resolve,reject:e.reject}})),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],(function(t){Co(t),e.resolve(t)}),(function(t){e.reject(t)}))}function Co(e){yo().monaco||xo({monaco:e})}var ko=new Promise((function(e,t){return xo({resolve:e,reject:t})})),Ao={config:function(e){var t=uo.config(e),i=t.monaco,n=Ys(t,["monaco"]);xo((function(e){return{config:po(e.config,n),monaco:i}}))},init:function(){var e=yo((function(e){return{monaco:e.monaco,isInitialized:e.isInitialized,resolve:e.resolve}}));if(!e.isInitialized){if(xo({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),mo(ko);if(window.monaco&&window.monaco.editor)return Co(window.monaco),e.resolve(window.monaco),mo(ko);!function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return function(e){return t.reduceRight((function(e,t){return t(e)}),e)}}(_o,wo)(So)}return mo(ko)},__getMonacoInstance:function(){return yo((function(e){return e.monaco}))}};const Eo=new si;let Lo={};class qo{constructor(e){this.builder=e;const t=this.builder.util,i=this.builder.builderStuff;let n=i.querySelector(".viewhtml");if(!n){const e=`<div class="is-modal viewhtml" tabindex="-1" role="dialog" aria-modal="true" aria-hidden="true">\n                <div class="is-modal-content">\n                    <textarea class="tabSupport" style="width:100%;height:calc(100% - 50px);border:none;margin:0;box-sizing:border-box;"></textarea>\n                    <div class="is-modal-footer" style="border-top:1px solid ${this.builder.styleSeparatorColor};width:100%;height:50px;position:absolute;left:0;bottom:0;overflow:hidden;text-align:right">\n                        <button title="${t.out("Cancel")}" class="input-cancel classic-secondary">${t.out("Cancel")}</button>\n                        <button title="${t.out("Ok")}" class="input-ok classic-primary">${t.out("Ok")}</button>\n                    </div>\n                </div>\n            </div>\n\n            <div class="is-modal viewhtmlmonaco" tabindex="-1" role="dialog" aria-modal="true" aria-hidden="true">\n                <div class="is-modal-content" style="width:${this.builder.blockCodeEditorWidth};max-width:${this.builder.blockCodeEditorMaxWidth};padding:0">\n                    <textarea style="position:absolute;display:none;"></textarea>\n                    <div class="input-code-editor" style="width:100%;height:${this.builder.blockCodeEditorHeight};"></div>\n                    <div class="is-modal-footer" style="display:flex;justify-content:flex-end;border-top:1px solid ${this.builder.styleSeparatorColor};">\n                        <button title="${t.out("Cancel")}" class="input-cancel classic-secondary">${t.out("Cancel")}</button>\n                        <button title="${t.out("Ok")}" class="input-ok classic-primary">${t.out("Ok")}</button>\n                    </div>\n                </div>\n            </div>\n\n            <div class="is-modal viewhtmlexternal" tabindex="-1" role="dialog" aria-modal="true" aria-hidden="true">\n                <div class="is-modal-content" style="width:${this.builder.codeEditorWidth};max-width:${this.builder.codeEditorMaxWidth};padding:0">\n                    <div class="input-code-editor" style="width:100%;height:${this.builder.codeEditorHeight};"></div>\n                    <div class="is-modal-footer" style="display:flex;justify-content:flex-end;border-top:1px solid ${this.builder.styleSeparatorColor};">\n                        <button title="${t.out("Cancel")}" class="input-cancel classic-secondary">${t.out("Cancel")}</button>\n                        <button title="${t.out("Ok")}" class="input-ok classic-primary">${t.out("Ok")}</button>\n                    </div>\n                </div>\n            </div>\n            \n            `;Eo.appendHtml(i,e),n=i.querySelector(".viewhtml");let s=i.querySelector(".viewhtmlmonaco"),o=i.querySelector(".viewhtmlexternal"),a=n.querySelector(".input-ok");Eo.addEventListener(a,"click",(()=>{this.applyHtml(n)})),a=n.querySelector(".input-cancel"),Eo.addEventListener(a,"click",(()=>{this.builder.hideModal(n)})),a=s.querySelector(".input-ok"),Eo.addEventListener(a,"click",(()=>{this.applyHtml(s)})),a=s.querySelector(".input-cancel"),Eo.addEventListener(a,"click",(()=>{this.builder.hideModal(s)})),a=o.querySelector(".input-ok"),Eo.addEventListener(a,"click",(()=>{const e=document.querySelector("textarea[data-source-active]"),t=e.getAttribute("data-source-ok");e.removeAttribute("data-source-active"),e.removeAttribute("data-source-ok"),e.removeAttribute("data-source-cancel"),document.querySelector(t).click(),this.builder.hideModal(o)})),a=o.querySelector(".input-cancel"),Eo.addEventListener(a,"click",(()=>{const e=document.querySelector("textarea[data-source-active]"),t=e.getAttribute("data-source-cancel");e.removeAttribute("data-source-active"),e.removeAttribute("data-source-ok"),e.removeAttribute("data-source-cancel"),document.querySelector(t).click(),this.builder.hideModal(o)}))}}applyHtml(e){const t=this.builder.util;let i=this.builder.codeEditorMode,n=this.builder.codeEditorArea;this.builder.uo.saveForUndo();let s=e.querySelector("textarea").value;if("code"===i){let i=this.builder.activeCodeBlock;i.setAttribute("data-html",encodeURIComponent(s)),s=s.replace(/{id}/g,t.makeId());for(let e=1;e<=20;e++)s=s.replace("[%HTML"+e+"%]",void 0===i.getAttribute("data-html-"+e)?"":decodeURIComponent(i.getAttribute("data-html-"+e)));i.innerHTML="";let n=document.createRange();n.setStart(i,0),i.appendChild(n.createContextualFragment(s));let o=this.builder.doc.querySelector(".builder-active");return o&&this.builder.applyBehaviorOn(o),this.builder.opts.onChange(),this.builder.opts.onRender(),this.builder.hideModal(e),void t.hideControls()}if(s=this.fromViewToActual(s),"cell"===i){t.cellSelected().innerHTML=s;let e=this.builder.doc.querySelector(".builder-active");e&&this.builder.applyBehaviorOn(e),this.builder.opts.onChange(),this.builder.opts.onRender()}if("row"===i){let e,i=t.cellSelected();if(e=i?i.parentNode:t.rowSelected(),!e)return;e.innerHTML=s;let n=this.builder.doc.querySelector(".builder-active");n&&this.builder.applyBehaviorOn(n),this.builder.opts.onChange(),this.builder.opts.onRender()}if("full"===i){n.innerHTML="";let e=document.createRange();e.setStart(n,0),n.appendChild(e.createContextualFragment(s)),this.builder.applyBehaviorOn(n),this.builder.opts.onChange(),this.builder.opts.onRender(),t.clearActiveCell()}t.clearControls(),this.builder.hideModal(e)}viewHtmlExternal(){const e=this.builder.util,t=this.builder.builderStuff.querySelector(".viewhtmlexternal");document.activeElement&&(this.elmFocus=document.activeElement),e.showModal(t,!0,(()=>{this.elmFocus&&this.elmFocus.focus()}),!1),t.querySelector(".input-code-editor").style.opacity=.01,this._viewHtmlExternal()}_viewHtmlExternal(){const e=document.querySelector("textarea[data-source-active]");let t=this.builder.builderStuff.querySelector(".viewhtmlexternal").querySelector(".input-code-editor");if(!t.querySelector(".monaco-editor"))return Ao.init().then((e=>{this.builder.monaco=e,t.getAttribute("data-mode-id")||(this.builder.codeEditorExternal=e.editor.create(t,{value:"",minimap:{enabled:!1},automaticLayout:!0,contextmenu:!1,fontSize:13,wordWrap:!0,scrollbar:{useShadows:!1,vertical:"visible",horizontal:"visible",horizontalScrollbarSize:12,verticalScrollbarSize:12},language:"html",theme:this.builder.styleDark||this.builder.styleColoredDark?"vs-dark":""})),this.builder.codeEditorExternal.onKeyUp((()=>{document.querySelector("textarea[data-source-active]").value=this.builder.codeEditorExternal.getModel().getValue()}))})),void setTimeout((()=>{this._viewHtmlExternal()}),100);const i=this.builder.monaco.editor.createModel(e.value,"html");this.builder.codeEditorExternal.setModel(i),t.style.opacity=""}view(e,t,i){const n=this.builder.util,s=this.builder.builderStuff;let o;o=this.builder.opts.htmlSyntaxHighlighting?s.querySelector(".viewhtmlmonaco"):s.querySelector(".viewhtml"),n.showModal(o,!0,(()=>{i&&(i.removeAttribute("data-focus"),i.focus())})),i&&i.setAttribute("data-focus",!0),o.querySelector(".input-code-editor").style.opacity=.01,this._view(e,t)}_view(e,t){const i=this.builder.util,n=this.builder.builderStuff;let s;if(this.builder.opts.htmlSyntaxHighlighting){s=n.querySelector(".viewhtmlmonaco");let i=s.querySelector(".input-code-editor");if(!i.querySelector(".monaco-editor"))return Ao.init().then((e=>{this.builder.monaco=e,i.getAttribute("data-mode-id")||(this.builder.codeEditor=e.editor.create(i,{value:"",minimap:{enabled:!1},automaticLayout:!0,contextmenu:!1,fontSize:13,wordWrap:!0,scrollbar:{useShadows:!1,vertical:"visible",horizontal:"visible",horizontalScrollbarSize:12,verticalScrollbarSize:12},language:"html",theme:this.builder.styleDark||this.builder.styleColoredDark?"vs-dark":""}));let t=s.querySelector("textarea");this.builder.codeEditor.onKeyUp((()=>{t.value=this.builder.codeEditor.getModel().getValue()}))})),void setTimeout((()=>{this._view(e,t)}),100)}else s=n.querySelector(".viewhtml");let o=s.querySelector("textarea");if("cell"===e){const e=i.cellSelected();if(!e)return;let t=s.querySelector("textarea");this.builder.cleanHtmlFormatting=!0,t.value=this.readHtml(e,!0),this.builder.cleanHtmlFormatting=!1}if("row"===e){let e,t=i.cellSelected();if(e=t?t.parentNode:i.rowSelected(),!e)return;let n=s.querySelector("textarea");this.builder.cleanHtmlFormatting=!0,n.value=this.readHtml(e,!0),this.builder.cleanHtmlFormatting=!1,Eo.removeClass(e,"row-outline")}if("full"===e){if(t);else{const e=this.builder.doc.querySelectorAll(this.builder.opts.container);if(e.length>1){const n=i.cellSelected();t=n?n.parentNode.parentNode:e[0]}else t=e[0];if(""!==this.builder.opts.page){const e=this.builder.doc.querySelector(this.builder.opts.page);e&&(t=e)}}let e=s.querySelector("textarea");this.builder.cleanHtmlFormatting=!0,this.builder.shortenHTML?e.value=this.readHtml(t,!0):e.value=this.readHtml(t,!1),this.builder.cleanHtmlFormatting=!1}if(this.builder.opts.htmlSyntaxHighlighting){const e=this.builder.monaco.editor.createModel(o.value,"html");this.builder.codeEditor.setModel(e)}let a=n.querySelector(".is-pop.columnmore");a&&(a.style.display="");let l=n.querySelector(".is-pop.rowmore");l&&(l.style.display=""),this.builder.codeEditorMode=e,this.builder.codeEditorArea=t;let r=s.querySelector(".input-code-editor");r.style.opacity="";let d=s.querySelector(".is-modal-content");"full"===e?(d.style.width=this.builder.codeEditorWidth,d.style.maxWidth=this.builder.codeEditorMaxWidth,r.style.height=this.builder.codeEditorHeight):(d.style.width=this.builder.blockCodeEditorWidth,d.style.maxWidth=this.builder.blockCodeEditorMaxWidth,r.style.height=this.builder.blockCodeEditorHeight)}fromViewToActual(e){for(var t in Lo)e=e.replace(t,Lo[t]);return e}readHtml(e,t,i,n){if(this.builder.opts.absolutePath){let t=e.querySelectorAll("a");Array.prototype.forEach.call(t,(e=>{let t=e.href;e.setAttribute("href",t)}));let i=e.querySelectorAll("img");Array.prototype.forEach.call(i,(e=>{let t=e.src;e.setAttribute("src",t)}))}this.builder.cleanHtmlFormatting;const s=this.builder.util;let o,a=document.createElement("div");a.innerHTML=e.innerHTML;let l=a.querySelectorAll("[data-html]");if(Array.prototype.forEach.call(l,(e=>{let t=1,i=e.querySelectorAll("[data-subblock]");Array.prototype.forEach.call(i,(i=>{if(i.closest(".glide__slide--clone"))return;let n=i.innerHTML;e.setAttribute("data-html-"+t,encodeURIComponent(n)),t++}))})),l=a.querySelectorAll("[data-html]"),Array.prototype.forEach.call(l,(e=>{let t=decodeURIComponent(e.getAttribute("data-html"));t=t.replace(/{id}/g,s.makeId()),e.innerHTML=t;let i=e.querySelectorAll("[data-subblock]");var n=1;Array.prototype.forEach.call(i,(t=>{t.innerHTML=void 0===e.getAttribute("data-html-"+n)?"":decodeURIComponent(e.getAttribute("data-html-"+n)),n++}))})),t&&(Lo={},l=a.querySelectorAll("[data-html]"),Array.prototype.forEach.call(l,(e=>{let t=s.makeId();Lo[t]=e.getAttribute("data-html"),e.setAttribute("data-html",t);for(let i=1;i<=20;i++)void 0!==e.getAttribute("data-html-"+i)&&(t=s.makeId(),Lo[t]=e.getAttribute("data-html-"+i),e.getAttribute("data-html-"+i,t));void 0!==e.getAttribute("data-settings")&&(t=s.makeId(),Lo[t]=e.getAttribute("data-settings"),e.getAttribute("data-settings",t))}))),this.builder.makeAbsolute){const e=e=>{let t=document.createElement("img");return t.src=e,t.setAttribute("data-absoluteurl",t.src),e=t.getAttribute("data-absoluteurl")},t=e=>{let t=document.createElement("img");t.src=e,t.setAttribute("data-absoluteurl",t.src),e=t.getAttribute("data-absoluteurl");let i=location.href.substring(0,location.href.lastIndexOf("/"));return e.replace(i,"[%PATH%]")},i=(t,i)=>{if(t.hasAttribute(i)){if("video"!==t.parentNode.tagName.toLowerCase()&&"audio"!==t.parentNode.tagName.toLowerCase())return;let n=t.getAttribute(i);n=e(n),t.setAttribute(i,`${n}`)}};let n=a.querySelectorAll("img");Array.prototype.forEach.call(n,(e=>{let t=e.src;e.setAttribute("src",t)})),a.querySelectorAll("*").forEach((n=>{if(n.style.backgroundImage){let e=n.style.backgroundImage;if(-1!==e.indexOf("url(")){let i=e.slice(4,-1).replace(/["']/g,"");i=t(i),n.style.backgroundImage=`url(${i})`}}if(i(n,"src"),i(n,"data-default"),i(n,"data-240"),i(n,"data-360"),i(n,"data-480"),i(n,"data-540"),i(n,"data-720"),i(n,"data-1080"),i(n,"data-1440"),i(n,"data-2160"),n.hasAttribute("href")&&"link"===n.tagName.toLowerCase()){let t=n.getAttribute("href");t=e(t),n.setAttribute("href",`${t}`)}}))}let r=a.querySelectorAll(".is-builder");Array.prototype.forEach.call(r,(e=>{e.style.transform="",e.style.WebkitTransform="",e.style.MozTransform="",e.removeAttribute("data-sort"),Eo.removeClass(e,"builder-active");Eo.elementChildren(e).forEach((e=>{Eo.elementChildren(e).forEach((e=>{e.style.cursor=""}))}))}));Eo.elementChildren(a).forEach((e=>{e.style.cursor="";Eo.elementChildren(e).forEach((e=>{e.style.cursor=""}))}));let d=a.querySelectorAll(".sortable-chosen");Eo.removeClasses(d,"sortable-chosen"),d=a.querySelectorAll(".sortable-ghost"),Eo.removeClasses(d,"sortable-ghost"),d=a.querySelectorAll(".elm-active"),Eo.removeClasses(d,"elm-active"),d=a.querySelectorAll(".elm-inspected"),Eo.removeClasses(d,"elm-inspected"),d=a.querySelectorAll(".cell-active"),Eo.removeClasses(d,"cell-active"),d=a.querySelectorAll(".row-active"),Eo.removeClasses(d,"row-active"),d=a.querySelectorAll(".row-outline"),Eo.removeClasses(d,"row-outline"),d=a.querySelectorAll(".is-builder"),Eo.removeClasses(d,"is-builder"),d=a.querySelectorAll(".row-outline"),Eo.removeClasses(d,"row-outline"),d=a.querySelectorAll("[data-click]"),Eo.removeAttributes(d,"data-click"),d=a.querySelectorAll("[contenteditable]"),Eo.removeAttributes(d,"contenteditable"),d=a.querySelectorAll("[draggridoutline]"),Eo.removeAttributes(d,"draggridoutline"),d=a.querySelectorAll("[between-blocks-left]"),Eo.removeAttributes(d,"between-blocks-left"),d=a.querySelectorAll("[between-blocks-center]"),Eo.removeAttributes(d,"between-blocks-center"),d=a.querySelectorAll("[hideelementhighlight]"),Eo.removeAttributes(d,"hideelementhighlight"),d=a.querySelectorAll("[data-module-active]"),Eo.removeAttributes(d,"data-module-active"),d=a.querySelectorAll("[draggable]"),Eo.removeAttributes(d,"draggable"),d=a.querySelectorAll("[data-animated]"),Eo.removeAttributes(d,"data-animated"),d=a.querySelectorAll("[data-saveforundo]"),Eo.removeAttributes(d,"data-saveforundo"),d=a.querySelectorAll("[hidesnippetaddtool]"),Eo.removeAttributes(d,"hidesnippetaddtool"),d=a.querySelectorAll("[gray]"),Eo.removeAttributes(d,"gray"),d=a.querySelectorAll("[rowoutline]"),Eo.removeAttributes(d,"rowoutline"),d=a.querySelectorAll("[hidecolumntool]"),Eo.removeAttributes(d,"hidecolumntool"),d=a.querySelectorAll("[grayoutline]"),Eo.removeAttributes(d,"grayoutline"),d=a.querySelectorAll("[hideoutline]"),Eo.removeAttributes(d,"hideoutline"),d=a.querySelectorAll("[leftrowtool]"),Eo.removeAttributes(d,"leftrowtool"),d=a.querySelectorAll("[minimal]"),Eo.removeAttributes(d,"minimal"),d=a.querySelectorAll("[clean]"),Eo.removeAttributes(d,"clean"),d=a.querySelectorAll("[grideditor]"),Eo.removeAttributes(d,"grideditor"),d=a.querySelectorAll("[gridoutline]"),Eo.removeAttributes(d,"gridoutline"),Eo.removeElements(a.querySelectorAll(".is-row-tool")),Eo.removeElements(a.querySelectorAll(".is-col-tool")),Eo.removeElements(a.querySelectorAll(".is-rowadd-tool")),Eo.removeElements(a.querySelectorAll(".ovl")),Eo.removeElements(a.querySelectorAll(".row-add-initial")),d=a.querySelectorAll(".aos-init"),Eo.removeClasses(d,"aos-init"),d=a.querySelectorAll(".aos-animate"),Eo.removeClasses(d,"aos-animate"),d=a.querySelectorAll(".skrollable"),Eo.removeClasses(d,"skrollable"),d=a.querySelectorAll(".skrollable-after"),Eo.removeClasses(d,"skrollable-after"),d=a.querySelectorAll(".skrollable-before"),Eo.removeClasses(d,"skrollable-before"),d=a.querySelectorAll(".skrollable-between"),Eo.removeClasses(d,"skrollable-between"),d=a.querySelectorAll(".is-inview"),Eo.removeClasses(d,"is-inview");let c=a.querySelectorAll('[class=""]');Array.prototype.forEach.call(c,(e=>{e.removeAttribute("class")}));let u=a.querySelectorAll(".is-row-overlay");Array.prototype.forEach.call(u,(e=>{e.hasAttribute("style")||e.parentNode.removeChild(e)})),Eo.removeEmptyStyle(a),d=a.querySelectorAll("[data-keep]"),Eo.removeAttributes(d,"data-keep");let p=a.querySelectorAll("a");if(Array.prototype.forEach.call(p,(e=>{"inline-block"===e.style.display&&1===e.parentNode.childElementCount&&"span"===e.parentNode.tagName.toLowerCase()&&(e.parentNode.outerHTML=e.parentNode.innerHTML)})),n){a.querySelectorAll("[data-html]").forEach((e=>{e.innerHTML=""}))}if(o="",i){let e=a.querySelectorAll(".is-dummy");Eo.removeElements(e),e=a.querySelectorAll("[data-scroll]"),Eo.removeAttributes(e,"data-scroll"),e=a.querySelectorAll("[data-scroll-once]"),Eo.removeAttributes(e,"data-scroll-once"),this.builder.shortenOutput&&(e=a.querySelectorAll("[data-noedit]"),Eo.removeAttributes(e,"data-noedit"),e=a.querySelectorAll("[data-module]"),Eo.removeAttributes(e,"data-module"),e=a.querySelectorAll("[data-module-desc]"),Eo.removeAttributes(e,"data-module-desc"),e=a.querySelectorAll("[data-dialog-width]"),Eo.removeAttributes(e,"data-dialog-width"),e=a.querySelectorAll("[data-dialog-height]"),Eo.removeAttributes(e,"data-dialog-height"),e=a.querySelectorAll("[data-html]"),Eo.removeAttributes(e,"data-html"),e=a.querySelectorAll("[data-settings]"),Eo.removeAttributes(e,"data-settings"),e=a.querySelectorAll("[data-html-1]"),Eo.removeAttributes(e,"data-html-1"),e=a.querySelectorAll("[data-html-2]"),Eo.removeAttributes(e,"data-html-2"),e=a.querySelectorAll("[data-html-3]"),Eo.removeAttributes(e,"data-html-3"),e=a.querySelectorAll("[data-html-4]"),Eo.removeAttributes(e,"data-html-4"),e=a.querySelectorAll("[data-html-5]"),Eo.removeAttributes(e,"data-html-5"),e=a.querySelectorAll("[data-html-6]"),Eo.removeAttributes(e,"data-html-6"),e=a.querySelectorAll("[data-html-7]"),Eo.removeAttributes(e,"data-html-7"),e=a.querySelectorAll("[data-html-8]"),Eo.removeAttributes(e,"data-html-8"),e=a.querySelectorAll("[data-html-9]"),Eo.removeAttributes(e,"data-html-9"),e=a.querySelectorAll("[data-html-10]"),Eo.removeAttributes(e,"data-html-10"),e=a.querySelectorAll("[data-html-12]"),Eo.removeAttributes(e,"data-html-12"),e=a.querySelectorAll("[data-html-13]"),Eo.removeAttributes(e,"data-html-13"),e=a.querySelectorAll("[data-html-14]"),Eo.removeAttributes(e,"data-html-14"),e=a.querySelectorAll("[data-html-15]"),Eo.removeAttributes(e,"data-html-15"),e=a.querySelectorAll("[data-html-16]"),Eo.removeAttributes(e,"data-html-16"),e=a.querySelectorAll("[data-html-17]"),Eo.removeAttributes(e,"data-html-17"),e=a.querySelectorAll("[data-html-18]"),Eo.removeAttributes(e,"data-html-18"),e=a.querySelectorAll("[data-html-19]"),Eo.removeAttributes(e,"data-html-19"),e=a.querySelectorAll("[data-html-20]"),Eo.removeAttributes(e,"data-html-20"),e=a.querySelectorAll("[data-html-21]"),Eo.removeAttributes(e,"data-html-21"),e=a.querySelectorAll("[data-html-21]"),Eo.removeAttributes(e,"data-html-21"),e=a.querySelectorAll("[data-html-22]"),Eo.removeAttributes(e,"data-html-22"),e=a.querySelectorAll("[data-html-23]"),Eo.removeAttributes(e,"data-html-23"),e=a.querySelectorAll("[data-html-24]"),Eo.removeAttributes(e,"data-html-24"),e=a.querySelectorAll("[data-html-25]"),Eo.removeAttributes(e,"data-html-25")),e=a.querySelectorAll("[data-bottom-top],[data-center],[data-center-bottom],[data-100-top],[data-50-top],[data-top],[data-top-bottom],[data-center-top],[data--300-bottom],[data--150-bottom],[data--50-bottom],[data-bottom],[data-100-bottom],[data-150-bottom],[data-400-bottom],[data--400-bottom],[data--200-bottom],[data--100-bottom],[data-50-bottom],[data-200-bottom],[data-300-bottom],[data-in],[data-in-150],[data-in-300],[data-cen--150],[data-cen],[data-cen-150],[data-out--300],[data-out--150],[data-out][data-t],[data-t-100],[data-t-200],[data-t-300],[data-t-400],[data-t-500],[data-t-600],[data-t-700],[data-t-800],[data-t-900],[data-t-1000],[data-t-1100],[data-t-1200],[data-t-1300],[data-t-1400],[data-t-1500],[data-t-1600],[data-t-1700],[data-t-1800],[data-t-1900],[data-t-2000],[data-t-2100],[data-t-2200],[data-t-2300],[data-t-2400],[data-t-2500],[data-t-2600],[data-t-2700],[data-t-2800]"),Array.prototype.forEach.call(e,(e=>{e.style.transition="",e.style.transform="",e.style.opacity=""})),e=a.querySelectorAll(".is-animated"),Array.prototype.forEach.call(e,(e=>{Eo.removeClass(e,"animated"),Eo.removeClass(e,"pulse"),Eo.removeClass(e,"bounceIn"),Eo.removeClass(e,"fadeIn"),Eo.removeClass(e,"fadeOut"),Eo.removeClass(e,"fadeInDown"),Eo.removeClass(e,"fadeInLeft"),Eo.removeClass(e,"fadeInRight"),Eo.removeClass(e,"fadeInUp"),Eo.removeClass(e,"flipInX"),Eo.removeClass(e,"flipInY"),Eo.removeClass(e,"slideInUp"),Eo.removeClass(e,"slideInDown"),Eo.removeClass(e,"slideInLeft"),Eo.removeClass(e,"slideInRight"),Eo.removeClass(e,"zoomIn"),e.style.animationDelay="",e.style.transitionDelay="",e.style.transitionDuration="",e.style.transitionTimingFunction="",e.style.transitionProperty=""}));let t=a.querySelectorAll('[style=""]');Array.prototype.forEach.call(t,(e=>{e.removeAttribute("style")})),e=a.querySelectorAll(".is-appeared"),Array.prototype.forEach.call(e,(e=>{Eo.removeClass(e,"is-appeared")})),e=a.querySelectorAll(".box-active"),Array.prototype.forEach.call(e,(e=>{Eo.removeClass(e,"box-active")})),e=a.querySelectorAll(".section-active"),Array.prototype.forEach.call(e,(e=>{Eo.removeClass(e,"section-active")})),e=a.querySelectorAll(".section-select"),Array.prototype.forEach.call(e,(e=>{Eo.removeClass(e,"section-select")})),e=a.querySelectorAll(".box-select"),Array.prototype.forEach.call(e,(e=>{Eo.removeClass(e,"box-select")})),e=a.querySelectorAll(".is-section-tool"),Eo.removeElements(e),e=a.querySelectorAll(".is-box-tool"),Eo.removeElements(e),e=a.querySelectorAll(".is-box-info"),Eo.removeElements(e),e=a.querySelectorAll(".is-section-info"),Eo.removeElements(e);var h="",m="",g="";Eo.elementChildren(a).forEach((e=>{let t=e;if(Eo.hasClass(t,"is-section")){var i="";t.getAttribute("class")&&(i=' class="'+t.getAttribute("class")+'"');var n=t.cloneNode(!0),s=n.outerHTML;o+=s,-1===i.indexOf("is-static")?h+=s+"\n\n":m+=s+"\n\n"}else s=(n=t.cloneNode(!0)).outerHTML,o+=s,g+=s}));let i=document.querySelector("[data-contentbox]"),n=!1;i&&(n=i.settings.disableStaticSection),n||(o=h+m+g)}else{let e=a.querySelectorAll('[style=""]');Array.prototype.forEach.call(e,(e=>{e.removeAttribute("style")})),this.builder.shortenOutput&&(d=a.querySelectorAll("[data-noedit]"),Eo.removeAttributes(d,"data-noedit"),d=a.querySelectorAll("[data-module]"),Eo.removeAttributes(d,"data-module"),d=a.querySelectorAll("[data-module-desc]"),Eo.removeAttributes(d,"data-module-desc"),d=a.querySelectorAll("[data-dialog-width]"),Eo.removeAttributes(d,"data-dialog-width"),d=a.querySelectorAll("[data-dialog-height]"),Eo.removeAttributes(d,"data-dialog-height"),d=a.querySelectorAll("[data-html]"),Eo.removeAttributes(d,"data-html"),d=a.querySelectorAll("[data-settings]"),Eo.removeAttributes(d,"data-settings"),d=a.querySelectorAll("[data-html-1]"),Eo.removeAttributes(d,"data-html-1"),d=a.querySelectorAll("[data-html-2]"),Eo.removeAttributes(d,"data-html-2"),d=a.querySelectorAll("[data-html-3]"),Eo.removeAttributes(d,"data-html-3"),d=a.querySelectorAll("[data-html-4]"),Eo.removeAttributes(d,"data-html-4"),d=a.querySelectorAll("[data-html-5]"),Eo.removeAttributes(d,"data-html-5"),d=a.querySelectorAll("[data-html-6]"),Eo.removeAttributes(d,"data-html-6"),d=a.querySelectorAll("[data-html-7]"),Eo.removeAttributes(d,"data-html-7"),d=a.querySelectorAll("[data-html-8]"),Eo.removeAttributes(d,"data-html-8"),d=a.querySelectorAll("[data-html-9]"),Eo.removeAttributes(d,"data-html-9"),d=a.querySelectorAll("[data-html-10]"),Eo.removeAttributes(d,"data-html-10"),d=a.querySelectorAll("[data-html-12]"),Eo.removeAttributes(d,"data-html-12"),d=a.querySelectorAll("[data-html-13]"),Eo.removeAttributes(d,"data-html-13"),d=a.querySelectorAll("[data-html-14]"),Eo.removeAttributes(d,"data-html-14"),d=a.querySelectorAll("[data-html-15]"),Eo.removeAttributes(d,"data-html-15"),d=a.querySelectorAll("[data-html-16]"),Eo.removeAttributes(d,"data-html-16"),d=a.querySelectorAll("[data-html-17]"),Eo.removeAttributes(d,"data-html-17"),d=a.querySelectorAll("[data-html-18]"),Eo.removeAttributes(d,"data-html-18"),d=a.querySelectorAll("[data-html-19]"),Eo.removeAttributes(d,"data-html-19"),d=a.querySelectorAll("[data-html-20]"),Eo.removeAttributes(d,"data-html-20"),d=a.querySelectorAll("[data-html-21]"),Eo.removeAttributes(d,"data-html-21"),d=a.querySelectorAll("[data-html-21]"),Eo.removeAttributes(d,"data-html-21"),d=a.querySelectorAll("[data-html-22]"),Eo.removeAttributes(d,"data-html-22"),d=a.querySelectorAll("[data-html-23]"),Eo.removeAttributes(d,"data-html-23"),d=a.querySelectorAll("[data-html-24]"),Eo.removeAttributes(d,"data-html-24"),d=a.querySelectorAll("[data-html-25]"),Eo.removeAttributes(d,"data-html-25")),o=a.innerHTML.trim(),o=o.replace(/<font/g,"<span").replace(/<\/font/g,"</span")}let b=js.html;return o=b(o),o=o.replace(/(\r\n|\r|\n){3,}/g,"$1\n"),o}beautify(e){return e=(e=(0,js.html)(e)).replace(/(\r\n|\r|\n){3,}/g,"$1\n")}}class To{constructor(e){this.builder=e;const t=this.builder.dom;this.dom=t,this.undoList=[]}readStyles(){if(this.builder.opts.undoContainerOnly)return"";let e,t,i="",n=this.builder.doc.getElementsByTagName("link");for(e=0;e<n.length;e++)t=n[e].href.toLowerCase(),-1!==t.indexOf("basetype-")&&(i+=n[e].outerHTML);for(n=this.builder.doc.getElementsByTagName("link"),e=0;e<n.length;e++)t=n[e].href.toLowerCase(),-1!==t.indexOf("basetype-")||-1!==t.indexOf("type-")&&(i+=n[e].outerHTML);return i}writeStyles(e){const t=this.dom;if(this.builder.opts.undoContainerOnly)return;let i,n,s=this.builder.doc.getElementsByTagName("link");for(i=0;i<s.length;i++)n=s[i].href.toLowerCase(),(-1!==n.indexOf("basetype-")||-1!==n.indexOf("type-"))&&s[i].parentNode.removeChild(s[i]);let o=this.builder.doc.getElementsByTagName("head")[0];t.appendHtml(o,e)}readHtml(){if(""===this.builder.opts.page||this.builder.opts.undoContainerOnly){const e=this.builder.doc.querySelectorAll(this.builder.opts.container);let t="";return Array.prototype.forEach.call(e,(e=>{t+=e.innerHTML+"####|####"})),t=t.substr(0,t.length-9),t}return this.builder.doc.querySelector(this.builder.opts.page).innerHTML}cleaning(e){const t=this.dom;let i=e.querySelectorAll(".is-builder");Array.prototype.forEach.call(i,(e=>{e.removeAttribute("data-sort")}));let n=e.querySelectorAll("[data-click]");t.removeAttributes(n,"data-click"),t.removeElements(e.querySelectorAll(".is-row-tool")),t.removeElements(e.querySelectorAll(".is-rowadd-tool")),t.removeElements(e.querySelectorAll(".is-col-tool")),t.removeElements(e.querySelectorAll(".ovl")),t.removeElements(e.querySelectorAll(".row-add-initial")),n=e.querySelectorAll(".is-section-tool"),t.removeElements(n)}writeHtml(e){if(""===this.builder.opts.page||this.builder.opts.undoContainerOnly){const t=this.builder.doc.querySelectorAll(this.builder.opts.container);let i=0;Array.prototype.forEach.call(t,(t=>{var n=document.createRange();t.innerHTML="",t.appendChild(n.createContextualFragment(e.split("####|####")[i])),this.cleaning(t),this.builder.applyBehaviorOn(t),i++}))}else{let i=this.builder.doc.querySelector(this.builder.opts.page);var t=document.createRange();i.innerHTML="",i.appendChild(t.createContextualFragment(e)),this.cleaning(i)}this.builder.opts.onRender()}saveForUndo(e){if(this.builder.undoRedoStyles){if(this.undoList[120]){let t=this.undoList[120][0].split("###$###")[1];if(this.builder.saveForUndoCheck&&t===this.readHtml())return void(this.builder.saveForUndoCheck=!0===e)}}else if(this.undoList[120]){let t=this.undoList[120][0];if(this.builder.saveForUndoCheck&&t===this.readHtml())return void(this.builder.saveForUndoCheck=!0===e)}if(this.builder.saveForUndoCheck=!0===e,this.undoList[140]=this.undoList[139],this.undoList[139]=this.undoList[138],this.undoList[138]=this.undoList[137],this.undoList[137]=this.undoList[136],this.undoList[136]=this.undoList[135],this.undoList[135]=this.undoList[134],this.undoList[134]=this.undoList[133],this.undoList[133]=this.undoList[132],this.undoList[132]=this.undoList[131],this.undoList[131]=this.undoList[130],this.undoList[130]=this.undoList[129],this.undoList[129]=this.undoList[128],this.undoList[128]=this.undoList[127],this.undoList[127]=this.undoList[126],this.undoList[126]=this.undoList[125],this.undoList[125]=this.undoList[124],this.undoList[124]=this.undoList[123],this.undoList[123]=this.undoList[122],this.undoList[122]=this.undoList[121],this.undoList[121]=this.undoList[120],this.builder.undoRedoStyles){let e=" "+this.readStyles()+"###$###"+this.readHtml();this.undoList[120]=[e,null]}else this.undoList[120]=[this.readHtml(),null]}doUndo(){const e=this.dom;if(!this.undoList[120])return;if(!0===this.builder.undoRedoInProcess)return;if(this.builder.undoRedoInProcess=!0,this.undoList[99]=this.undoList[100],this.undoList[100]=this.undoList[101],this.undoList[101]=this.undoList[102],this.undoList[102]=this.undoList[103],this.undoList[103]=this.undoList[104],this.undoList[104]=this.undoList[105],this.undoList[105]=this.undoList[106],this.undoList[106]=this.undoList[107],this.undoList[107]=this.undoList[108],this.undoList[108]=this.undoList[109],this.undoList[109]=this.undoList[110],this.undoList[110]=this.undoList[111],this.undoList[111]=this.undoList[112],this.undoList[112]=this.undoList[113],this.undoList[113]=this.undoList[114],this.undoList[114]=this.undoList[115],this.undoList[115]=this.undoList[116],this.undoList[116]=this.undoList[117],this.undoList[117]=this.undoList[118],this.undoList[118]=this.undoList[119],this.builder.undoRedoStyles){let e=this.readStyles(),t=this.readHtml(),i=" "+e+"###$###"+t;this.undoList[119]=[i,null],i=this.undoList[120][0],e=i.split("###$###")[0].trim(),t=i.split("###$###")[1],this.writeStyles(e),this.writeHtml(t)}else{this.undoList[119]=[this.readHtml(),null];let e=this.undoList[120][0];this.writeHtml(e)}this.builder.applyBehavior(),this.builder.opts.onChange(),this.undoList[120]=this.undoList[121],this.undoList[121]=this.undoList[122],this.undoList[122]=this.undoList[123],this.undoList[123]=this.undoList[124],this.undoList[124]=this.undoList[125],this.undoList[125]=this.undoList[126],this.undoList[126]=this.undoList[127],this.undoList[127]=this.undoList[128],this.undoList[128]=this.undoList[129],this.undoList[129]=this.undoList[130],this.undoList[130]=this.undoList[131],this.undoList[131]=this.undoList[132],this.undoList[132]=this.undoList[133],this.undoList[133]=this.undoList[134],this.undoList[134]=this.undoList[135],this.undoList[135]=this.undoList[136],this.undoList[136]=this.undoList[137],this.undoList[137]=this.undoList[138],this.undoList[138]=this.undoList[139],this.undoList[139]=this.undoList[140],this.undoList[140]=this.undoList[141];const t=new ni(this.builder);t.clearActiveCell(),t.clearAfterUndoRedo();let i=this.builder.doc.querySelector("[data-saveforundo]");if(i){let t=document.querySelector(".is-side.elementstyles");e.addClass(t,"active"),setTimeout((()=>{i.click()}),700)}else{let t=document.querySelector(".is-side.elementstyles");e.removeClass(t,"active")}this.builder.opts.onUndo&&this.builder.opts.onUndo(),this.builder.undoRedoInProcess=!1}doRedo(){const e=this.dom;if(!this.undoList[119])return;if(!0===this.builder.undoRedoInProcess)return;if(this.builder.undoRedoInProcess=!0,this.undoList[141]=this.undoList[140],this.undoList[140]=this.undoList[139],this.undoList[139]=this.undoList[138],this.undoList[138]=this.undoList[137],this.undoList[137]=this.undoList[136],this.undoList[136]=this.undoList[135],this.undoList[135]=this.undoList[134],this.undoList[134]=this.undoList[133],this.undoList[133]=this.undoList[132],this.undoList[132]=this.undoList[131],this.undoList[131]=this.undoList[130],this.undoList[130]=this.undoList[129],this.undoList[129]=this.undoList[128],this.undoList[128]=this.undoList[127],this.undoList[127]=this.undoList[126],this.undoList[126]=this.undoList[125],this.undoList[125]=this.undoList[124],this.undoList[124]=this.undoList[123],this.undoList[123]=this.undoList[122],this.undoList[122]=this.undoList[121],this.undoList[121]=this.undoList[120],this.builder.undoRedoStyles){let e=this.readStyles(),t=this.readHtml(),i=" "+e+"###$###"+t;this.undoList[120]=[i,null],i=this.undoList[119][0],e=i.split("###$###")[0].trim(),t=i.split("###$###")[1],this.writeStyles(e),this.writeHtml(t)}else{this.undoList[120]=[this.readHtml(),null];let e=this.undoList[119][0];this.writeHtml(e)}this.builder.applyBehavior(),this.builder.opts.onChange(),this.undoList[119]=this.undoList[118],this.undoList[118]=this.undoList[117],this.undoList[117]=this.undoList[116],this.undoList[116]=this.undoList[115],this.undoList[115]=this.undoList[114],this.undoList[114]=this.undoList[113],this.undoList[113]=this.undoList[112],this.undoList[112]=this.undoList[111],this.undoList[111]=this.undoList[110],this.undoList[110]=this.undoList[109],this.undoList[109]=this.undoList[108],this.undoList[108]=this.undoList[107],this.undoList[107]=this.undoList[106],this.undoList[106]=this.undoList[105],this.undoList[105]=this.undoList[104],this.undoList[104]=this.undoList[103],this.undoList[103]=this.undoList[102],this.undoList[102]=this.undoList[101],this.undoList[101]=this.undoList[100],this.undoList[100]=this.undoList[99],this.undoList[99]=null;const t=new ni(this.builder);t.clearActiveCell(),t.clearAfterUndoRedo();let i=this.builder.doc.querySelector("[data-saveforundo]");if(i){let t=document.querySelector(".is-side.elementstyles");e.addClass(t,"active"),setTimeout((()=>{i.click()}),700)}else{let t=document.querySelector(".is-side.elementstyles");e.removeClass(t,"active")}this.builder.opts.onRedo&&this.builder.opts.onRedo(),this.builder.undoRedoInProcess=!1}}
/*!
    Ionicons
    License: MIT
    Copyright (c) 2015-present Ionic (http://ionic.io/)
    https://ionic.io/ionicons/v1
    */
/*!
    Tabler Icons
    License: MIT
    Copyright (c) 2020 Paweł Kuna
    https://github.com/tabler/tabler-icons
    */class Mo{constructor(e){this.builder=e;const t=this.builder.util;this.util=t}getSnippetsHtml(){const e=this.util,t=this.builder.opts.snippetUrl,i=this.builder.opts.snippetPath;let n="[";for(let t=0;t<this.builder.opts.snippetCategories.length;t++)n+=`[${this.builder.opts.snippetCategories[t][0]},'${e.out(this.builder.opts.snippetCategories[t][1])}'],`;n+="]";const s=this.builder.opts.defaultSnippetCategory;return`\n        <!DOCTYPE HTML>\n        <html>\n        \n        <head>\n            <meta charset="utf-8">\n            <title></title>\n            <meta name="viewport" content="width=device-width, initial-scale=1">\n            <meta name="description" content="">\n            <script src="${t}"><\/script>\n            <style>\n                body {\n                    // background: #fff;\n                    background: ${this.builder.styleSnippetBackground};\n                    margin: 0;\n                }\n\n                .is-pop-close {\n                    display: flex;\n                    justify-content: center;\n                    align-items: center;\n                    border: none;\n                    background: transparent;\n                    z-index:10;width:30px;height:30px;position:absolute;\n                    top:2px;right:2px;box-sizing:border-box;padding:0;line-height:40px;font-size: 12px;text-align:center;cursor:pointer;\n                }\n                .is-pop-close:focus-visible {\n                    outline:  ${this.builder.styleOutlineColor} 2px solid;\n                }\n\n                /*\n                body.dark {\n                    background: #111;\n                }\n                .dark .is-categories {\n                    background: #333;\n                }\n                .dark .is-category-list a {\n                    background: #333;\n                    color: #fff;\n                }\n                .dark .is-category-list a.active {\n                    background: #525252;\n                    color: #fff;\n                }\n                .dark .is-category-list a:hover {\n                    color: #fff;\n                }\n                .dark .is-design-list>li img {\n                    opacity: 0.93;\n                }\n                .dark .is-more-categories {\n                    background: #333;\n                }\n                .dark .is-more-categories a {\n                    background: #333;\n                    color: #fff;\n                }\n                .dark .is-more-categories a:hover,\n                .dark .is-more-categories a:focus {\n                    background: #4c4c4c;\n                }\n                .dark .is-more-categories a.active {\n                    background: #4c4c4c;\n                }\n                */\n\n                \n                .dark .is-design-list>li {\n                    outline: transparent 1px solid;\n                }\n\n                \n                        \n                /* Scrollbar for modal */\n\n                /* Darker color, because background for snippet thumbnails is always light. */\n                .dark * {\n                    scrollbar-width: thin;\n                    scrollbar-color: rgb(78 78 78 / 62%) auto;\n                }\n                .dark *::-webkit-scrollbar {\n                    width: 12px;\n                }\n                .dark *::-webkit-scrollbar-track {\n                    background: transparent;\n                }\n                .dark *::-webkit-scrollbar-thumb {\n                    background-color:rgb(78 78 78 / 62%);\n                } \n\n                .colored-dark * {\n                    scrollbar-width: thin;\n                    scrollbar-color: rgb(100, 100, 100) auto;\n                }\n                .colored-dark *::-webkit-scrollbar {\n                    width: 12px;\n                }\n                .colored-dark *::-webkit-scrollbar-track {\n                    background: transparent;\n                }\n                .colored-dark *::-webkit-scrollbar-thumb {\n                    background-color:rgb(100, 100, 100);\n                } \n\n                .colored * {\n                    scrollbar-width: thin;\n                    scrollbar-color: rgba(0, 0, 0, 0.4) auto;\n                }\n                .colored *::-webkit-scrollbar {\n                    width: 12px;\n                }\n                .colored *::-webkit-scrollbar-track {\n                    background: transparent;\n                }\n                .colored *::-webkit-scrollbar-thumb {\n                    background-color: rgba(0, 0, 0, 0.4);\n                } \n\n                .light * {\n                    scrollbar-width: thin;\n                    scrollbar-color: rgba(0, 0, 0, 0.4) auto;\n                }\n                .light *::-webkit-scrollbar {\n                    width: 12px;\n                }\n                .light *::-webkit-scrollbar-track {\n                    background: transparent;\n                }\n                .light *::-webkit-scrollbar-thumb {\n                    background-color: rgba(0, 0, 0, 0.4);\n                } \n        \n                svg {\n                    fill: ${this.builder.styleSnippetColor};\n                }\n\n                .is-design-list {\n                    position: fixed;\n                    top: 0px;\n                    left: 0px;\n                    border-top: transparent 68px solid;\n                    width: 100%;\n                    height: 100%;\n                    overflow-y: auto;\n                    padding: 0px 0px 30px 30px;\n                    box-sizing: border-box;\n                    overflow: auto;\n                    list-style: none;\n                    margin: 0;\n                }\n        \n                .is-design-list>li {\n                    width: 250px;\n                    min-height:120px;\n                    position:relative;\n                    background: #fff;\n                    // background: ${this.builder.styleToolBackground};\n                    overflow: hidden;\n                    margin: 32px 40px 0 0;\n                    cursor: pointer;\n                    display: inline-block;\n                    outline: #ececec 1px solid;\n                    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);\n                    border-radius: 2px;\n                }\n\n                .is-design-list>li:focus-visible {\n                    outline:  ${this.builder.styleOutlineColor} 2px solid;\n                }\n\n                .is-design-list>li img {\n                    box-shadow: none;\n                    opacity: 1;\n                    display: block;\n                    box-sizing: border-box;\n                    transition: all 0.2s ease-in-out;\n                    max-width: 400px;\n                    width: 100%\n                }\n        \n                // .is-design-list>li:hover img {\n                //     opacity: 0.95;\n                // }\n                \n                // .is-design-list>li:hover {\n                //     background: #999;\n                // }\n                .is-overlay {\n                    position:absolute;left:0px;top:0px;width:100%;height:100%;\n                }\n                .is-design-list>li .is-overlay:after {\n                    background: rgba(0, 0, 0, 0.02);\n                    position: absolute;\n                    content: "";\n                    display: block;\n                    top: 0;\n                    left: 0;\n                    right: 0;\n                    bottom: 0;\n                    transition: all 0.3s ease-in-out;\n                    opacity: 0;\n                }\n                .is-design-list>li:hover .is-overlay:after,\n                .is-design-list>li:focus .is-overlay:after {\n                    opacity: 0.9;\n                }\n                .dark .is-design-list>li .is-overlay:after {\n                    background: rgb(78 78 78 / 13%);\n                }\n        \n                .is-category-list {\n                    position: relative;\n                    top: 0px;\n                    left: 0px;\n                    width: 100%;\n                    height: 80px;\n                    box-sizing: border-box;\n                    z-index: 1;\n                }\n        \n                .is-category-list>div {\n                    white-space: nowrap;\n                    padding: 0 30px;\n                    box-sizing: border-box;\n                    font-family: sans-serif;\n                    font-size: 10px;\n                    text-transform: uppercase;\n                    letter-spacing: 2px;\n                    // background: #f5f5f5;\n                    background: ${this.builder.styleSnippetTabsBackground};\n                    // box-shadow: 0 5px 8px rgb(0 0 0 / 4%);\n                }\n        \n                .is-category-list a {\n                    display: inline-block;\n                    padding: 10px 20px;\n                    // background: #fefefe;\n                    // color: #000;\n                    background: ${this.builder.styleSnippetTabItemBackground};\n                    color: ${this.builder.styleSnippetTabItemColor};\n                    border-radius: 50px;\n        \n                    margin: 0 12px 0 0;\n                    text-decoration: none;\n                    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.03);\n                    transition: box-shadow ease 0.3s;\n                }\n        \n                .is-category-list a:hover {\n                    /*background: #fafafa;*/\n                    background: ${this.builder.styleSnippetTabItemBackgroundHover};\n                    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.06);\n                    // color: #000;\n                    color: ${this.builder.styleSnippetTabItemColor};\n                }\n        \n                .is-category-list a.active {\n                    // background: #f5f5f5;\n                    background: ${this.builder.styleSnippetTabItemBackgroundActive};\n                    // color: #000;\n                    color: ${this.builder.styleSnippetTabItemColor};\n                    box-shadow: none;\n                    cursor: default;\n                }\n\n                .is-category-list a:focus-visible {\n                    outline:  ${this.builder.styleOutlineColor} 2px solid;\n                }\n        \n                .is-more-categories {\n                    display: none;\n                    position: absolute;\n                    width: 400px;\n                    box-sizing: border-box;\n                    padding: 0;\n                    z-index: 1;\n                    font-family: sans-serif;\n                    font-size: 10px;\n                    text-transform: uppercase;\n                    letter-spacing: 2px;\n                    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);\n                    // background: #fff;\n                    background: ${this.builder.styleSnippetMoreItemBackground};\n                }\n        \n                .is-more-categories a {\n                    width: 200px;\n                    float: left;\n                    display: block;\n                    box-sizing: border-box;\n                    padding: 12px 20px;\n                    // background: #fff;\n                    background: ${this.builder.styleSnippetMoreItemBackground};\n                    text-decoration: none;\n                    // color: #000;\n                    color: ${this.builder.styleSnippetMoreItemColor};\n                    line-height: 1.6;\n                    outline: none;\n                }\n        \n                .is-more-categories a:hover,\n                .is-more-categories a:focus {\n                    // background: #eee;\n                    background: ${this.builder.styleSnippetMoreItemBackgroundHover};\n                }\n        \n                .is-more-categories a.active {\n                    // background: #eee;\n                    background: ${this.builder.styleSnippetMoreItemBackgroundActive};\n                }\n        \n                .is-more-categories.active {\n                    display: block;\n                }\n        \n                /* First Loading */\n                /* .is-category-list {\n                    display: none;\n                }\n        \n                .is-design-list {\n                    display: none;\n                }\n        \n                .pace {\n                    -webkit-pointer-events: none;\n                    pointer-events: none;\n                    -webkit-user-select: none;\n                    -moz-user-select: none;\n                    user-select: none;\n                }\n        \n                .pace-inactive {\n                    display: none;\n                }\n        \n                .pace .pace-progress {\n                    background: #000000;\n                    position: fixed;\n                    z-index: 2000;\n                    top: 0;\n                    right: 100%;\n                    width: 100%;\n                    height: 2px;\n                } */\n        \n                .is-more-categories>a:nth-child(0) {\n                    display: none\n                }\n        \n                .is-more-categories>a:nth-child(1) {\n                    display: none\n                }\n        \n                .is-more-categories>a:nth-child(2) {\n                    display: none\n                }\n        \n                .is-more-categories>a:nth-child(3) {\n                    display: none\n                }\n        \n                .is-more-categories>a:nth-child(4) {\n                    display: none\n                }\n        \n                .is-more-categories>a:nth-child(5) {\n                    display: none\n                }\n        \n                .is-more-categories>a:nth-child(6) {\n                    display: none\n                }\n        \n                .is-more-categories>a:nth-child(7) {\n                    display: none\n                }\n        \n                @media all and (max-width: 1212px) {\n                    .is-categories>a:nth-child(7):not(.more-snippets) {\n                        display: none\n                    }\n        \n                    .is-more-categories>a:nth-child(7) {\n                        display: block\n                    }\n                }\n        \n                @media all and (max-width: 1070px) {\n                    .is-categories>a:nth-child(6):not(.more-snippets) {\n                        display: none\n                    }\n        \n                    .is-more-categories>a:nth-child(6) {\n                        display: block\n                    }\n                }\n        \n                @media all and (max-width: 940px) {\n                    .is-categories>a:nth-child(5):not(.more-snippets) {\n                        display: none\n                    }\n        \n                    .is-more-categories>a:nth-child(5) {\n                        display: block\n                    }\n                }\n        \n                @media all and (max-width: 700px) {\n                    .is-categories>a:nth-child(4):not(.more-snippets) {\n                        display: none\n                    }\n        \n                    .is-more-categories>a:nth-child(4) {\n                        display: block\n                    }\n                }\n        \n                @media all and (max-width: 555px) {\n                    .is-categories>a:nth-child(3):not(.more-snippets) {\n                        display: none\n                    }\n        \n                    .is-more-categories>a:nth-child(3) {\n                        display: block\n                    }\n                }\n        \n                @media all and (max-width: 415px) {\n                    .is-categories>a:nth-child(2):not(.more-snippets) {\n                        display: none\n                    }\n        \n                    .is-more-categories>a:nth-child(2) {\n                        display: block\n                    }\n                }\n        \n                @media all and (max-width: 640px) {\n                    .is-more-categories a {\n                        width: 150px;\n                        padding: 10px 5px 10px 15px;\n                        font-size: 10px;\n                    }\n        \n                    .is-more-categories {\n                        left: 0 !important;\n                        width: 100% !important;\n                    }\n                }\n            </style>\n        </head>\n        \n        <body${this.builder.styleDark?' class="dark"':""}${this.builder.styleColored?' class="colored"':""}${this.builder.styleColoredDark?' class="colored-dark"':""}${this.builder.styleLight?' class="light"':""}>\n\n            <svg style="display:none">\n                <defs>\n                    <symbol viewBox="0 0 512 512" id="ion-ios-close-empty">\n                        <path d="M340.2 160l-84.4 84.3-84-83.9-11.8 11.8 84 83.8-84 83.9 11.8 11.7 84-83.8 84.4 84.2 11.8-11.7-84.4-84.3 84.4-84.2z"></path>\n                    </symbol>\n                </defs>\n            </svg>\n        \n            <button class="is-pop-close" tabindex="-1">\n                <svg class="is-icon-flex" style="width:30px;height:30px;">\n                    <use xlink:href="#ion-ios-close-empty"></use>\n                </svg>\n            </button>\n        \n            <div class="is-category-list">\n                <div class="is-categories" style="position:fixed;top:0;left:0;right:0;height:68px;padding-top:17px;box-sizing:border-box;">\n                </div>\n            </div>\n\n            <div class="is-more-categories" tabindex="-1" role="dialog" aria-modal="true" aria-hidden="true">\n            </div>\n        \n            <ul class="is-design-list" tabindex="-1" role="dialog" aria-modal="true" aria-hidden="true">\n            </ul>\n        \n            <script${this.builder.nonce?` nonce="${this.builder.nonce}"`:""}>\n        \n                var snippetPath = '${i}';\n                var snippetCategories = ${n};\n                var defaultSnippetCategory = ${s};\n\n                ${void 0!==this.builder.slider&&null!==this.builder.slider?`\n                var slider='${this.builder.slider}';`:"var slider=null;"};\n        \n                var numOfCat = snippetCategories.length;\n                if (numOfCat <= 7) {\n                    document.querySelector('.is-more-categories').style.width = '200px';\n                }\n        \n                var categorytabs = document.querySelector('.is-categories');\n                categorytabs.innerHTML = '';\n                let html_catselect = '';\n                for (var i = 0; i < numOfCat; i++) {\n                    if (i < 7) {\n                        html_catselect += '<a href="" data-cat="' + snippetCategories[i][0] + '">' + parent._cb.out(snippetCategories[i][1]) + '</a>';\n                    }\n                }\n                html_catselect += '<a href="" class="more-snippets">' + parent._cb.out('More') + '</a>';\n                categorytabs.innerHTML = html_catselect;\n        \n                var categorymore = document.querySelector('.is-more-categories');\n                html_catselect = '';\n                for (var i = 0; i < numOfCat; i++) {\n                    html_catselect += '<a href="" data-cat="' + snippetCategories[i][0] + '">' + parent._cb.out(snippetCategories[i][1]) + '</a>';\n                }\n                categorymore.innerHTML = html_catselect;\n        \n                // Show/hide "More" button\n                if (numOfCat <= 7) {\n                    var bHasMore = false;\n        \n                    const childNodes = categorymore.childNodes;\n                    let i = childNodes.length;\n                    while (i--) {\n                        if(childNodes[i].style.display === 'block') {\n                            bHasMore = true;\n                        }\n                    }\n                    var more = document.querySelector('.more-snippets');\n                    if (!bHasMore) more.style.display = 'none';\n                    else more.style.display = '';\n                }\n        \n                var elms = categorytabs.querySelectorAll('a[data-cat="' + defaultSnippetCategory + '"]'); //.classList.add('active');\n                Array.prototype.forEach.call(elms, function(elm){\n                    elm.classList.add('active');\n                });\n                elms = categorymore.querySelectorAll('a[data-cat="' + defaultSnippetCategory + '"]'); //.classList.add('active');\n                Array.prototype.forEach.call(elms, function(elm){\n                    elm.classList.add('active');\n                });\n\n\n                document.addEventListener('keydown', function(e){\n                    if(e.keyCode === 27) { // escape key\n                        const moreCategories = document.querySelector('.is-more-categories');\n                        if(moreCategories.classList.contains('active')) {\n                            moreCategories.classList.remove('active');\n                            const activeTab = categorylist.querySelector('.more-snippets');\n                            activeTab.classList.remove('active');\n                            activeTab.focus();\n                        } else {\n                            const modal = parent.document.querySelector('.is-modal.snippets');\n                            removeClass(modal, 'active');\n                        }\n                    }\n                });\n\n\n                let categorylist = document.querySelector('.is-category-list');\n                let designlist = document.querySelector('.is-design-list');\n\n                const select = (elm) => {\n\n                    if(elm.classList.contains('active')) {\n                        return false;\n                    }\n    \n                    var cat = elm.getAttribute('data-cat');\n                    if (cat) if(designlist.querySelectorAll('[data-cat="' + cat + '"]').length === 0) {\n\n                        for (let i = 0; i <snippets.length; i++) {\n                    \n                            var thumb = snippets[i].thumbnail;\n                            \n                            thumb = snippetPath + thumb;    \n    \n                            if (snippets[i].category === cat) {\n                                designlist.insertAdjacentHTML('beforeend', '<li role="button" tabindex="0" data-id="' + snippets[i].id + '" data-cat="' + snippets[i].category + '"><img src="' + thumb + '"><span class="is-overlay"></span></li>');\n                            \n                                var newitem = designlist.querySelector('[data-id="' + snippets[i].id + '"]');\n                                newitem.addEventListener('click', function(e){\n                                    \n                                    var snippetid = e.target.parentNode.getAttribute('data-id');\n                                    addSnippet(snippetid);\n    \n                                });\n\n                                newitem.addEventListener('keydown', (e)=>{\n                                    if ((e.which === 9 && !e.shiftKey)) { // tab\n                                        let last = false;\n                                        if(e.target.nextElementSibling) {\n                                            if(!e.target.nextElementSibling.classList.contains('active')) {\n                                                last = true;\n                                            }\n                                        } else {\n                                            last = true;\n                                        }\n                                        if(last) {\n                                            e.preventDefault();\n                                            let activeTab = categorylist.querySelector('.active');\n                                            if(activeTab) activeTab.focus();\n                                            else {\n                                                activeTab = categorylist.querySelector('.more-snippets');\n                                                activeTab.focus();\n                                            }\n                                        }\n                                    }\n                                    if ((e.which === 9 && e.shiftKey)) { // shift + tab\n                                        let first = false;\n                                        if(e.target.previousElementSibling) {\n                                            if(!e.target.previousElementSibling.classList.contains('active')) {\n                                                first = true;\n                                            }\n                                        } else {\n                                            first = true;\n                                        }\n                                        if(first) {\n                                            e.preventDefault();\n                                            let activeTab = categorylist.querySelector('.active');\n                                            if(activeTab) activeTab.focus();\n                                            else {\n                                                activeTab = categorylist.querySelector('.more-snippets');\n                                                activeTab.focus();\n                                            }\n                                        }\n                                    }\n                                });\n\n                            }\n    \n                        }    \n                    }\n    \n                    if (cat) {\n                        // Hide all, show items from selected category\n                        var categorylist_items = categorylist.querySelectorAll('a');    \n                        Array.prototype.forEach.call(categorylist_items, function(elm){\n                            elm.className = elm.className.replace('active', '');\n                        });\n                        categorymore.className = categorymore.className.replace('active', ''); \n                        var categorymore_items = categorymore.querySelectorAll('a');\n                        Array.prototype.forEach.call(categorymore_items, function(elm){\n                            elm.className = elm.className.replace('active', '');\n                        });\n    \n                        var items = designlist.querySelectorAll('li');\n                        Array.prototype.forEach.call(items, function(elm){\n                            elm.style.display = 'none';\n                            elm.classList.remove('active');\n                        });\n                        Array.prototype.forEach.call(items, function(elm){\n                            var catSplit = elm.getAttribute('data-cat').split(',');\n                            for (var j = 0; j < catSplit.length; j++) {\n                                if (catSplit[j] == cat) {\n                                    elm.style.display = ''; // TODO: hide & show snippets => animated\n                                    elm.classList.add('active');\n                                }\n                            }\n                        });\n                        \n                    } else {\n                        // show dropdown\n                        var more = document.querySelector('.more-snippets');\n                        var moreCategories = document.querySelector('.is-more-categories');\n    \n                        var _width = moreCategories.offsetWidth;\n                        more.classList.add('active');\n                        moreCategories.classList.add('active');\n                        var top = more.getBoundingClientRect().top;\n                        var left = more.getBoundingClientRect().left;\n                        top = top + 50;\n                        moreCategories.style.top = top + 'px';\n                        moreCategories.style.left = left + 'px';\n                    }\n                    elm.classList.add('active');\n    \n                };\n\n                let tabs = document.querySelectorAll('.is-categories a');\n                Array.prototype.forEach.call(tabs, (tab) => {\n        \n                    tab.addEventListener('keydown', (e)=>{\n                        e.preventDefault();\n        \n                        if ((e.which === 39 && e.target.nextElementSibling)) { // arrow right key pressed\n                            e.target.nextElementSibling.focus();\n                        } else if ((e.which === 37 && e.target.previousElementSibling)) { // arrow left key pressed\n                            e.target.previousElementSibling.focus();\n                        } else if(e.keyCode === 13 || e.keyCode === 32) { // enter or spacebar key\n                            select(e.target);\n                        } else if ((e.which === 9 && !e.shiftKey)) { // tab key pressed\n        \n                            let moreCategories = document.querySelector('.is-more-categories');\n                            if(moreCategories.classList.contains('active')) {\n                 \n                                // Redirect to dropdown list\n                                let firstItem;\n                                let activeItem;\n                                let moreCategories = document.querySelector('.is-more-categories');\n                                let items = moreCategories.querySelectorAll('a');\n                                items.forEach(item=>{\n                                    let display = window.getComputedStyle(item).getPropertyValue('display');\n                                    if(display==='block') {\n                                        item.classList.add('show');\n                                        if(item.classList.contains('active')) {\n                                            activeItem=item;\n                                        }\n                                    } else {\n                                        item.classList.remove('show');\n                                    }\n                                });\n                                firstItem = moreCategories.querySelector('.show');\n                                if(activeItem) {\n                                    activeItem.focus();\n                                } else {\n                                    firstItem.focus();\n                                }\n                                return;\n\n                            }\n\n                            // Redirect to tab content\n                            let inputs = [];\n                            let controls = designlist.querySelectorAll('.active');\n                            controls.forEach(control=>{\n                                inputs.push(control);\n                            });\n        \n                            if(inputs.length===0) return;\n        \n                            let firstInput = inputs[0];\n        \n                            firstInput.focus();\n                        } else if(e.which === 40 && e.target.classList.contains('more-snippets')) { // down\n                 \n                            // Redirect to dropdown list\n                            let firstItem;\n                            let activeItem;\n                            let moreCategories = document.querySelector('.is-more-categories');\n                            let items = moreCategories.querySelectorAll('a');\n                            items.forEach(item=>{\n                                let display = window.getComputedStyle(item).getPropertyValue('display');\n                                if(display==='block') {\n                                    item.classList.add('show');\n                                    if(item.classList.contains('active')) {\n                                        activeItem=item;\n                                    }\n                                } else {\n                                    item.classList.remove('show');\n                                }\n                            });\n                            firstItem = moreCategories.querySelector('.show');\n                            if(activeItem) {\n                                activeItem.focus();\n                            } else {\n                                firstItem.focus();\n                            }\n\n                        } \n\n                        \n                    });\n        \n                    tab.addEventListener('click', (e)=>{\n                        e.preventDefault();\n\n                        e.target.focus();\n        \n                        select(e.target);\n                    });\n        \n                });\n\n                let dropdownItems = document.querySelectorAll('.is-more-categories a');\n                Array.prototype.forEach.call(dropdownItems, (item) => {\n\n                    item.addEventListener('keydown', (e)=>{\n                        e.preventDefault();\n                        if(e.keyCode === 38 && e.target.previousElementSibling && window.getComputedStyle(e.target.previousElementSibling).getPropertyValue('display')==='block') { // up\n                            e.target.previousElementSibling.focus();\n                        } else if(e.keyCode === 40 && e.target.nextElementSibling && window.getComputedStyle(e.target.nextElementSibling).getPropertyValue('display')==='block') { // down\n                            e.target.nextElementSibling.focus();\n                        } else if(e.keyCode === 13 || e.keyCode === 32) { // enter or spacebar key\n                            select(e.target);\n                        } else if ((e.which === 9 && !e.shiftKey)) { // tab key pressed\n        \n                            // Redirect to tab content\n                            let inputs = [];\n                            let controls = designlist.querySelectorAll('.active');\n                            controls.forEach(control=>{\n                                inputs.push(control);\n                            });\n        \n                            if(inputs.length===0) return;\n        \n                            let firstInput = inputs[0];\n        \n                            firstInput.focus();\n                        } \n                        \n                    });\n        \n                    item.addEventListener('click', (e)=>{\n                        e.preventDefault();\n\n                        e.target.focus();\n        \n                        select(e.target);\n                    });\n                });\n\n\n        \n                var snippets = data_basic.snippets; //DATA\n\n                if (slider !== null){\n                    if(slider==='slick') {\n                        //remove glide\n                        const predicate = (item) => (item.type!=='glide');\n                        snippets = snippets.filter(predicate);\n                    } else if(slider==='glide') {\n                        //remove slick\n                        const predicate = (item) => (item.type!=='slick');\n                        snippets = snippets.filter(predicate);\n                    } else if(slider==='all') {\n                        // Do Nothing\n                    } else {\n                        // remove all slider (if incorrect settings)\n                        const predicate = (item) => (item.type!=='glide' && item.type!=='slick');\n                        snippets = snippets.filter(predicate);\n                    }\n\n                    // for (let i = 0; i < snippets.length; i++) {\n                    //     console.log(snippets[i].type)\n                    // }\n\n                } else {\n                    // Backward compatible OR if slider param not set\n\n                    // Hide slider snippet if slick is not included\n                    var bHideSliderSnippet = true;\n                    if(parent._cb.win.jQuery) {\n                        if(parent._cb.win.jQuery.fn.slick) {\n                            bHideSliderSnippet = false;\n                        }\n                    }\n                    if(bHideSliderSnippet){\n                        const result = snippets.filter((item)=>{\n                            return item.type !== 'slick';\n                        });\n                        snippets = [...result];\n                    } \n\n                    if(!(parent._cb.win.Glide)){\n                        const result = snippets.filter((item)=>{\n                            return !(item.glide || item.type === 'glide');\n                        });\n                        snippets = [...result];\n                    }\n\n                    // for (let i = 0; i < snippets.length; i++) {\n                    //     console.log(snippets[i].type)\n                    // }\n\n                }\n                \n\n                for (let i = 0; i <snippets.length; i++) {\n                    \n                    snippets[i].id = i+1;\n                    var thumb = snippets[i].thumbnail;\n        \n                    thumb = snippetPath + thumb;\n        \n                    if (snippets[i].category === defaultSnippetCategory + '') {\n                        designlist.insertAdjacentHTML('beforeend', '<li class="active" role="button" tabindex="0" data-id="' + snippets[i].id + '" data-cat="' + snippets[i].category + '"><img src="' + thumb + '"><span class="is-overlay"></span></li>');\n                    \n                        var newitem = designlist.querySelector('[data-id="' + snippets[i].id + '"]');\n                        newitem.addEventListener('click', function(e){\n        \n                            var snippetid = e.target.parentNode.getAttribute('data-id');\n                            addSnippet(snippetid);\n        \n                        });\n        \n                        newitem.addEventListener('keydown', (e)=>{\n\n                            if ((e.which === 9 && !e.shiftKey)) { // tab\n                                let last = false;\n                                if(e.target.nextElementSibling) {\n                                    if(!e.target.nextElementSibling.classList.contains('active')) {\n                                        last = true;\n                                    }\n                                } else {\n                                    last = true;\n                                }\n                                if(last) {\n                                    e.preventDefault();\n                                    let activeTab = categorylist.querySelector('.active');\n                                    if(activeTab) activeTab.focus();\n                                    else {\n                                        activeTab = categorylist.querySelector('.more-snippets');\n                                        activeTab.focus();\n                                    }\n                                }\n                            }\n                            if ((e.which === 9 && e.shiftKey)) { // shift + tab\n                                let first = false;\n                                if(e.target.previousElementSibling) {\n                                    if(!e.target.previousElementSibling.classList.contains('active')) {\n                                        first = true;\n                                    }\n                                } else {\n                                    first = true;\n                                }\n                                if(first) {\n                                    e.preventDefault();\n                                    let activeTab = categorylist.querySelector('.active');\n                                    if(activeTab) activeTab.focus();\n                                    else {\n                                        activeTab = categorylist.querySelector('.more-snippets');\n                                        activeTab.focus();\n                                    }\n                                }\n                            }\n                        });\n\n                    }\n\n                }\n        \n\n\n\n                /*\n                elms = categorymore.querySelectorAll('a');\n                Array.prototype.forEach.call(elms, function(elm){\n        \n                    elm.addEventListener('click', function(e){\n                        \n                        var cat = elm.getAttribute('data-cat');\n                        if(designlist.querySelectorAll('[data-cat="' + cat + '"]').length === 0) {\n        \n                            for (let i = 0; i <snippets.length; i++) {\n                        \n                                var thumb = snippets[i].thumbnail;\n                                \n                                thumb = snippetPath + thumb;\n        \n                                if (snippets[i].category === cat) {\n                      \n                                    designlist.insertAdjacentHTML('beforeend', '<li role="button" tabindex="0" data-id="' + snippets[i].id + '" data-cat="' + snippets[i].category + '"><img src="' + thumb + '"><span class="is-overlay"></span></li>');\n                                \n                                    var newitem = designlist.querySelector('[data-id="' + snippets[i].id + '"]');\n                                    newitem.addEventListener('click', function(e){\n                                        \n                                        var snippetid = e.target.parentNode.getAttribute('data-id');\n                                        addSnippet(snippetid);\n        \n                                    });\n                                }\n        \n                            }    \n                        }\n        \n                        // Hide all, show items from selected category\n                        Array.prototype.forEach.call(elms, function(elm){\n                            elm.className = elm.className.replace('active', '');\n                        });\n                        categorymore.className = categorymore.className.replace('active', ''); // hide popup\n                        //var categorymore_items = categorymore.querySelectorAll('a');\n                        \n                        var categorylist = document.querySelector('.is-category-list');\n                        var categorylist_items = categorylist.querySelectorAll('a');                \n                        Array.prototype.forEach.call(categorylist_items, function(elm){\n                            elm.className = elm.className.replace('active', '');\n                        });\n                            \n                        var more = document.querySelector('.more-snippets');\n                        more.className = more.className.replace('active', '');\n        \n                        var items = designlist.querySelectorAll('div');\n                        Array.prototype.forEach.call(items, function(elm){\n                            elm.style.display = 'none';\n                            elm.classList.remove('active');\n                        });\n                        Array.prototype.forEach.call(items, function(elm){\n                            var catSplit = elm.getAttribute('data-cat').split(',');\n                            for (var j = 0; j < catSplit.length; j++) {\n                                if (catSplit[j] == cat) {\n                                    elm.style.display = '';\n                                    elm.classList.add('active');\n                                }\n                            }\n                        });\n        \n                        elm.classList.add('active');\n        \n                        e.preventDefault();\n                    });\n        \n                });\n                */\n        \n                var close = document.querySelector('.is-pop-close');\n                close.addEventListener('click', function(e){\n                    var modal = parent.document.querySelector('.is-modal.snippets');\n                    removeClass(modal, 'active');\n                });\n        \n                // Add document Click event\n                document.addEventListener('click', function(e){\n                    e = e || window.event;\n                    var target = e.target || e.srcElement;  \n        \n                    if(parentsHasClass(target, 'more-snippets')) return;\n                    if(hasClass(target, 'more-snippets')) return;\n                    \n                    var more = document.querySelector('.more-snippets');\n                    var moreCategories = document.querySelector('.is-more-categories');\n                    \n                    more.className = more.className.replace('active', '');\n                    moreCategories.className = moreCategories.className.replace('active', '');\n                });\n        \n                parent.document.addEventListener('click', function(e){\n                    var more = document.querySelector('.more-snippets');\n                    var moreCategories = document.querySelector('.is-more-categories');\n                    \n                    more.className = more.className.replace('active', '');\n                    moreCategories.className = moreCategories.className.replace('active', '');\n                });\n        \n                function addSnippet(snippetid) {\n                    \n                    // TODO: var framework = parent._cb.opts.framework;\n                    var snippetPathReplace = parent._cb.opts.snippetPathReplace;\n                    var emailMode = parent._cb.opts.emailMode;\n                    \n                    // \n                    for (let i = 0; i <snippets.length; i++) {\n                        if(snippets[i].id + ''=== snippetid) {\n                            \n                            var html = snippets[i].html;\n                            var noedit = snippets[i].noedit;\n                            break;\n                        }\n                    }\n        \n                    var bSnippet;\n                    if (html.indexOf('"row') === -1) {\n                        bSnippet = true; // Just snippet (without row/column grid)\n                    } else {\n                        bSnippet = false; // Snippet is wrapped in row/colum\n                    }\n                    if (emailMode) bSnippet = false;\n\n                    if(bSnippet) {\n                        var quickadd = parent._cb.builderStuff.querySelector('.quickadd');\n                        var mode = quickadd.getAttribute('data-mode');\n                        if(!mode) {\n                            // in case of using viewSnippets() to open the dialog (mode=null) => change to non snippet.\n                            html = '<div class="row">' +\n                                '<div class="column full">' +\n                                html +\n                                '</div>' +\n                            '</div>';\n                            bSnippet=false;\n                        }\n                    }\n         \n                    // Convert snippet into your defined 12 columns grid   \n                    var rowClass = parent._cb.opts.row; //row\n                    var colClass = parent._cb.opts.cols; //['col s1', 'col s2', 'col s3', 'col s4', 'col s5', 'col s6', 'col s7', 'col s8', 'col s9', 'col s10', 'col s11', 'col s12']\n                    if(rowClass!=='' && colClass.length===12){\n\n                        //html = html.replace(new RegExp('row clearfix', 'g'), rowClass);\n                        html = html.replace(new RegExp('row clearfix', 'g'), 'row'); // backward\n                        html = html.replace(new RegExp('"row', 'g'), '"' + rowClass);\n                        \n                        html = html.replace(new RegExp('column full', 'g'), colClass[11]);\n                        html = html.replace(new RegExp('column half', 'g'), colClass[5]);\n                        html = html.replace(new RegExp('column third', 'g'), colClass[3]);\n                        html = html.replace(new RegExp('column fourth', 'g'), colClass[2]);\n                        html = html.replace(new RegExp('column fifth', 'g'), colClass[1]);\n                        html = html.replace(new RegExp('column sixth', 'g'), colClass[1]);\n                        html = html.replace(new RegExp('column two-third', 'g'), colClass[7]);\n                        html = html.replace(new RegExp('column two-fourth', 'g'), colClass[8]);\n                        html = html.replace(new RegExp('column two-fifth', 'g'), colClass[9]);\n                        html = html.replace(new RegExp('column two-sixth', 'g'), colClass[9]);\n                    }\n                    \n                    html = html.replace(/{id}/g, makeid()); // Replace {id} with auto generated id (for custom code snippet)\n                    \n                    if(parent._cb.opts.onAdd){\n                        html = parent._cb.opts.onAdd(html);\n                    }\n\n                    if(snippetPathReplace.length>0) {\n                        if (snippetPathReplace[0] != '') {\n                            var regex = new RegExp(snippetPathReplace[0], 'g');\n                            html = html.replace(regex, snippetPathReplace[1]);\n\n                            /* for encoded replace, change / to %2F  */\n                            var slash = new RegExp('/', 'g');\n                            var snippetPathReplace_0 = snippetPathReplace[0].replace(slash, '%2F');\n                            var snippetPathReplace_1 = snippetPathReplace[1].replace(slash, '%2F');\n                            regex = new RegExp(snippetPathReplace_0, 'g');\n                            html = html.replace(regex, snippetPathReplace_1);\n                        }\n                    }\n                    \n                    parent._cb.addSnippet(html, bSnippet, noedit);\n        \n                    var modal = parent.document.querySelector('.is-modal.snippets');\n                    removeClass(modal, 'active');\n        \n                }\n        \n                function hasClass(element, classname) {\n                    if(!element) return false;\n                    return element.classList ? element.classList.contains(classname) : new RegExp('\\b'+ classname+'\\b').test(element.className);\n                }\n        \n                function removeClass(element, classname) {\n                    if(!element) return;\n                    if(element.classList.length>0) {\n                        element.className = element.className.replace(classname, '');\n                    }\n                }\n                \n                function parentsHasClass(element, classname) {\n                    while (element) {\n                        if(element.tagName === 'BODY' || element.tagName === 'HTML') return false;\n                        if(!element.classList) return false;\n                        if (element.classList.contains(classname)) {\n                            return true;\n                        }\n                        element = element.parentNode;\n                    }\n                }\n        \n                function makeid() {//http://stackoverflow.com/questions/1349404/generate-a-string-of-5-random-characters-in-javascript\n                    var text = "";\n                    var possible = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";\n                    for (var i = 0; i < 2; i++)\n                        text += possible.charAt(Math.floor(Math.random() * possible.length));\n        \n                    var text2 = "";\n                    var possible2 = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";\n                    for (var i = 0; i < 5; i++)\n                        text2 += possible2.charAt(Math.floor(Math.random() * possible2.length));\n        \n                    return text + text2;\n                }\n        \n            <\/script>\n        \n        </textarea>\n        </body>\n        \n        </html>\n        `}}const Oo=e=>{const t=e.util,i=e.builderStuff,n=e.dom;let s=i.querySelector(".quickadd");if(!s){const o=`<div class="is-pop quickadd arrow-right" style="z-index:10003;" tabindex="-1" role="dialog" aria-modal="true" aria-hidden="true">\n        <div class="is-pop-close" style="display:none;z-index:1;width:40px;height:40px;position:absolute;top:0px;right:0px;box-sizing:border-box;padding:0;line-height:40px;font-size: 12px;color:#777;text-align:center;cursor:pointer;"><svg class="is-icon-flex" style="width:40px;height:40px;"><use xlink:href="#ion-ios-close-empty"></use></svg></div>\n        <div class="is-pop-tabs">\n            <div class="is-pop-tab-item" data-value="left">${t.out("Add to Left")}</div>\n            <div class="is-pop-tab-item active" data-value="right">${t.out("Add to Right")}</div>\n        </div>\n        <div style="padding:12px;display:flex;flex-direction:row;flex-flow: wrap;justify-content: center;align-items: center;">\n            <button title="${t.out("Paragraph")}" class="add-paragraph"><span style="display:block;margin:0 0 8px;"><svg class="is-icon-flex" style="width:12px;height:12px;"><use xlink:href="#icon-align-full"></use></svg></span>${t.out("Paragraph")}</button>\n            <button title="${t.out("Headline")}" class="add-headline"><span style="font-family:serif;display:block;margin:0 0 8px;font-size:11px;">H</span>${t.out("Headline")}</button>\n            <button title="${t.out("Image")}" class="add-image"><span style="display:block;margin:0 0 8px;"><svg class="is-icon-flex ion-image" style="width:14px;height:14px;"><use xlink:href="#ion-image"></use></svg></span>${t.out("Image")}</button>\n            <button title="${t.out("List")}" class="add-list"><span style="display:block;margin:0 0 8px;"><svg class="is-icon-flex" style="width:13px;height:13px;"><use xlink:href="#icon-list-bullet"></use></svg></span>${t.out("List")}</button>\n            <button title="${t.out("Heading 1")}" class="add-heading1"><span style="font-family:serif;display:block;margin:0 0 8px;">H1</span>${t.out("Heading 1")}</button>\n            <button title="${t.out("Heading 2")}" class="add-heading2"><span style="font-family:serif;display:block;margin:0 0 8px;">H2</span>${t.out("Heading 2")}</button>\n            <button title="${t.out("Heading 3")}" class="add-heading3"><span style="font-family:serif;display:block;margin:0 0 8px;">H3</span>${t.out("Heading 3")}</button>\n            <button title="${t.out("Heading 4")}" class="add-heading4"><span style="font-family:serif;display:block;margin:0 0 8px;">H4</span>${t.out("Heading 4")}</button>\n            <button title="${t.out("Quote")}" class="add-quote"><span style="display:block;margin:0 0 8px;"><svg class="is-icon-flex" style="width:13px;height:13px;"><use xlink:href="#ion-quote"></use></svg></span>${t.out("Quote")}</button>\n            <button title="${t.out("Preformatted")}" class="add-preformatted"><span style="display:block;margin:0 0 8px;"><svg class="is-icon-flex" style="width:13px;height:13px;"><use xlink:href="#ion-code"></use></svg></span>${t.out("Preformatted")}</button>\n            ${e.opts.emailMode?"":`<button title="${t.out("Button")}" class="add-button"><span style="display:block;margin:0 0 8px;"><span style="display:inline-block;border:#a1a1a1 1px solid;background:#f3f3f3;width:10px;height:4px;"></span></span>${t.out("Button")}</button>`}\n            ${e.opts.emailMode?"":`<button title="${t.out("Two Button")}" class="add-twobutton"><span style="display:block;margin:0 0 8px;"><span style="display:inline-block;border:#a1a1a1 1px solid;background:#f3f3f3;width:10px;height:4px;"></span></span>${t.out("Two Button")}</button>`}\n            <button title="${t.out("Youtube")}" class="add-youtube"><span style="display:block;margin:0 0 8px;"><svg class="is-icon-flex" style="width:13px;height:13px;"><use xlink:href="#ion-social-youtube-outline"></use></svg></use></svg></svg></span>${t.out("Youtube")}</button>\n            <button title="${t.out("Video")}" class="add-video"><span style="display:block;margin:0 0 8px;"><svg class="is-icon-flex" style="width:13px;height:13px;"><use xlink:href="#ion-ios-play"></use></svg></use></svg></svg></span>${t.out("Video")}</button>\n            <button style="display:none" title="${t.out("Audio")}" class="add-audio"><span style="display:block;margin:0 0 8px;"><svg class="is-icon-flex" style="width:13px;height:13px;"><use xlink:href="#ion-volume-medium"></use></svg></use></svg></svg></span>${t.out("Audio")}</button>\n            <button title="${t.out("Map")}" class="add-map"><span style="display:block;margin:0 0 8px;"><svg class="is-icon-flex" style="width:13px;height:13px;"><use xlink:href="#ion-location"></use></svg></use></svg></svg></span>${t.out("Map")}</button>\n            <button title="${t.out("Table")}" class="add-table"><span style="display:block;margin:0 0 8px;"><svg class="is-icon-flex" style="width:15px;height:15px;"><use xlink:href="#icon-table"></use></svg></use></svg></svg></span>${t.out("Table")}</button>\n            <button title="${t.out("Icon")}" class="add-icon"><span style="display:block;margin:0 0 8px;"><svg class="is-icon-flex" style="width:13px;height:13px;"><use xlink:href="#ion-android-happy"></use></svg></use></svg></svg></span>${t.out("Icon")}</button>\n            <button title="${t.out("Social Links")}" class="add-social"><span style="display:block;margin:0 0 8px;"><svg class="is-icon-flex" style="width:13px;height:13px;"><use xlink:href="#ion-social-twitter"></use></svg></use></svg></svg></span>${t.out("Social Links")}</button>\n            <button title="${t.out("HTML/JS")}" class="add-code"><span style="display:block;margin:0 0 8px;"><svg class="is-icon-flex" style="width:13px;height:13px;"><use xlink:href="#icon-code"></use></svg></use></svg></svg></span>${t.out("HTML/JS")}</button>\n            <button title="${t.out("Spacer")}" class="add-spacer"><span style="display:block;margin:0 0 8px;"><span style="display:inline-block;background:#eee;width:30px;height:5px;"></span></span>${t.out("Spacer")}</button>\n            <button style="display:none" title="${t.out("Line")}" class="add-line"><span style="display:block;margin:0 0 8px;"><span style="display:inline-block;background:#ddd;width:30px;height:2px;"></span></span>${t.out("Line")}</button>\n            <div class="pop-separator"></div>\n            <button title="${t.out("More...")}" class="add-more" style="flex-direction:initial;">${t.out("More...")}</button>\n        </div>\n        </div>\n        \n        <div class="is-modal snippets" tabindex="-1" role="dialog" aria-modal="true" aria-hidden="true">\n            <div class="is-modal-content" style="max-width:1250px;height:90%;padding:0;">\n                <iframe tabindex="0" style="width:100%;height:100%;border: none;display: block;" src="about:blank"></iframe>\n            </div>\n        </div>\n        `;n.appendHtml(i,o),s=i.querySelector(".quickadd"),document.addEventListener("click",(e=>{var i=(e=e||window.event).target||e.srcElement;if("flex"===s.style.display){let e=n.parentsHasClass(i,"quickadd"),o=n.parentsHasClass(i,"row-add"),a=n.parentsHasClass(i,"is-rowadd-tool"),l=n.parentsHasClass(i,"cell-add"),r=n.parentsHasClass(i,"elm-add"),d=n.parentsHasClass(i,"row-add-initial");if(e||o||a||l||r||d)return;t.hidePop(s)}}));let a=s.querySelectorAll(".is-pop-tab-item");Array.prototype.forEach.call(a,(e=>{n.addEventListener(e,"click",(e=>{let t=s.querySelectorAll(".is-pop-tab-item");Array.prototype.forEach.call(t,(e=>{n.removeClass(e,"active")})),n.addClass(e.target,"active"),"left"===s.querySelector(".active").getAttribute("data-value")?s.setAttribute("data-mode","cell-left"):s.setAttribute("data-mode","cell-right")}))}));let l=s.querySelector(".add-paragraph");n.addEventListener(l,"click",(()=>{const e=s.getAttribute("data-mode");t.addContent("<p>Lorem Ipsum is simply dummy text of the printing and typesetting industry. \n            Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, \n            when an unknown printer took a galley of type and scrambled it to make a type specimen book.</p>",e)})),l=s.querySelector(".add-headline"),n.addEventListener(l,"click",(()=>{const e=s.getAttribute("data-mode");t.addContent('<div class="display">\n                <h1>Headline Goes Here</h1>\n                <p>Lorem Ipsum is simply dummy text</p>\n            </div>',e)})),l=s.querySelector(".add-image"),n.addEventListener(l,"click",(()=>{const i=s.getAttribute("data-mode");let n=`<img src="${e.opts.snippetPath}example.png" alt="" />`;e.opts.snippetSampleImage&&(n=`<img src="${e.opts.snippetSampleImage}" alt="" />`),t.addContent(n,i)})),l=s.querySelector(".add-heading1"),n.addEventListener(l,"click",(()=>{const e=s.getAttribute("data-mode");t.addContent("<h1>Heading 1 here</h1>",e)})),l=s.querySelector(".add-heading2"),n.addEventListener(l,"click",(()=>{const e=s.getAttribute("data-mode");t.addContent("<h2>Heading 2 here</h2>",e)})),l=s.querySelector(".add-heading3"),n.addEventListener(l,"click",(()=>{const e=s.getAttribute("data-mode");t.addContent("<h3>Heading 3 here</h3>",e)})),l=s.querySelector(".add-heading4"),n.addEventListener(l,"click",(()=>{const e=s.getAttribute("data-mode");t.addContent("<h4>Heading 4 here</h4>",e)})),l=s.querySelector(".add-preformatted"),n.addEventListener(l,"click",(()=>{const e=s.getAttribute("data-mode");t.addContent("<pre>Lorem Ipsum is simply dummy text of the printing and typesetting industry. \n            Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, \n            when an unknown printer took a galley of type and scrambled it to make a type specimen book.</pre>",e)})),l=s.querySelector(".add-list"),n.addEventListener(l,"click",(()=>{const e=s.getAttribute("data-mode");t.addContent('<ul style="list-style: initial;padding-left: 20px;">\n                <li>Lorem Ipsum is simply dummy text</li>\n                <li>Lorem Ipsum is simply dummy text</li>\n            </ul>',e)})),l=s.querySelector(".add-quote"),n.addEventListener(l,"click",(()=>{const e=s.getAttribute("data-mode");t.addContent("<blockquote>Lorem Ipsum is simply dummy text</blockquote>",e)})),l=s.querySelector(".add-button"),l&&n.addEventListener(l,"click",(()=>{const i=s.getAttribute("data-mode");let n='<div>\n            <a href="#" role="button" class="transition-all inline-block whitespace-nowrap cursor-pointer no-underline border-2 border-solid mr-2 mt-2 mb-1 py-2 size-17 px-6 text-black leading-14 rounded border-transparent hover:border-transparent font-normal tracking-wide" style="background-color: rgb(240, 240, 240);">Read More</a>\n            </div>';e.opts.emailMode&&(n='<div><a href="#" role="button" style="margin-top: ;margin-right: ;margin-bottom: ;margin-left: ;display: inline-block; text-decoration: none; transition: all 0.16s ease 0s; border-style: solid; cursor: pointer; background-color: rgb(220, 220, 220); color: rgb(0, 0, 0); border-color: rgb(220, 220, 220); border-width: 2px; border-radius: 0px; padding: 13px 28px; line-height: 21px; text-transform: uppercase; font-weight: 400; font-size: 14px; letter-spacing: 3px;">Read More</a></div>'),t.addContent(n,i)})),l=s.querySelector(".add-twobutton"),l&&n.addEventListener(l,"click",(()=>{const i=s.getAttribute("data-mode");let n='<div>\n                <a href="#" role="button" class="transition-all inline-block whitespace-nowrap cursor-pointer no-underline border-2 border-solid mr-2 mt-2 mb-1 py-2 size-17 px-6 text-black leading-14 rounded border-transparent hover:border-transparent font-normal tracking-wide" style="background-color: rgb(240, 240, 240);">Read More</a>\n                <a href="#" role="button" class="transition-all inline-block whitespace-nowrap cursor-pointer no-underline border-2 border-solid mr-2 mt-2 mb-1 py-2 size-17 px-6 border-current hover:border-current font-normal leading-14 rounded tracking-wide">Get Started</a>\n            </div>';e.opts.emailMode&&(n='<div>\n                    <a href="#" role="button" style="margin-top: ;margin-right: ;margin-bottom: ;margin-left: ;display: inline-block; text-decoration: none; transition: all 0.16s ease 0s; border-style: solid; cursor: pointer; background-color: rgb(220, 220, 220); color: rgb(0, 0, 0); border-color: rgb(220, 220, 220); border-width: 2px; border-radius: 0px; padding: 13px 28px; line-height: 21px; text-transform: uppercase; font-weight: 400; font-size: 14px; letter-spacing: 3px;">Read More</a> &nbsp;\n                    <a href="#" role="button" style="display: inline-block; text-decoration: none; transition: all 0.16s ease 0s; border-style: solid; cursor: pointer; background-color: rgba(0, 0, 0, 0); border-color: rgb(53, 53, 53); border-width: 2px; border-radius: 0px; padding: 13px 28px; line-height: 21px; text-transform: uppercase; font-weight: 600; font-size: 14px; letter-spacing: 3px; color: rgb(53, 53, 53);">Get Started</a>\n                </div>'),t.addContent(n,i)})),l=s.querySelector(".add-spacer"),n.addEventListener(l,"click",(()=>{const e=s.getAttribute("data-mode");t.addContent('<div class="spacer height-80"></div>',e)})),l=s.querySelector(".add-line"),n.addEventListener(l,"click",(()=>{const e=s.getAttribute("data-mode");t.addContent("<hr>",e)})),l=s.querySelector(".add-code"),n.addEventListener(l,"click",(()=>{let i='<div class="row"><div class="column full" data-noedit data-html="'+encodeURIComponent("<h1 id=\"{id}\">Lorem ipsum</h1><p>This is a code block. You can edit this block using the source dialog.</p><script>var docReady = function (fn) {var stateCheck = setInterval(function () {if (document.readyState !== \"complete\") return;clearInterval(stateCheck);try{fn()}catch(e){}}, 1);};docReady(function() {document.querySelector('#{id}').innerHTML ='<b>Hello World..!</b>';});<\/script>")+'"></div></div>',n=e.opts.snippetPathReplace,s=e.opts.row,o=e.opts.cols;if(""!==s&&12===o.length&&(i=i.replace(new RegExp("row clearfix","g"),"row"),i=i.replace(new RegExp('"row',"g"),'"'+s),i=i.replace(new RegExp("column full","g"),o[11]),i=i.replace(new RegExp("column half","g"),o[5]),i=i.replace(new RegExp("column third","g"),o[3]),i=i.replace(new RegExp("column fourth","g"),o[2]),i=i.replace(new RegExp("column fifth","g"),o[1]),i=i.replace(new RegExp("column sixth","g"),o[1]),i=i.replace(new RegExp("column two-third","g"),o[7]),i=i.replace(new RegExp("column two-fourth","g"),o[8]),i=i.replace(new RegExp("column two-fifth","g"),o[9]),i=i.replace(new RegExp("column two-sixth","g"),o[9])),i=i.replace(/{id}/g,t.makeId()),e.opts.onAdd&&(i=e.opts.onAdd(i)),n.length>0&&""!==n[0]){let e=new RegExp(n[0],"g");i=i.replace(e,n[1])}e.addSnippet(i,!1,!0)})),l=s.querySelector(".add-table"),n.addEventListener(l,"click",(()=>{const e=s.getAttribute("data-mode");t.addContent('<table class="default" style="border-collapse:collapse;width:100%;">\n                <thead>\n                <tr>\n                    <td style="vertical-align:top;"><br></td>\n                    <td style="vertical-align:top;"><br></td>\n                </tr>\n                </thead>\n                <tr>\n                    <td style="vertical-align:top;"><br></td>\n                    <td style="vertical-align:top;"><br></td>\n                </tr>\n            </table>',e)})),l=s.querySelector(".add-icon"),n.addEventListener(l,"click",(()=>{const e=s.getAttribute("data-mode");t.addContent('<div style="text-align: center;">\n            <i class="icon ion-android-alarm-clock size-80"></i>\n            </div>',e)})),l=s.querySelector(".add-social"),n.addEventListener(l,"click",(()=>{const e=s.getAttribute("data-mode");t.addContent('<div class="is-social" style="text-align: center;">\n                <a href="https://twitter.com/"><i class="icon ion-social-twitter" style="margin-right: 1em"></i></a>\n                <a href="https://www.facebook.com/"><i class="icon ion-social-facebook" style="margin-right: 1em"></i></a>\n                <a href="mailto:you@example.com"><i class="icon ion-android-drafts"></i></a>\n            </div>',e)})),l=s.querySelector(".add-map"),n.addEventListener(l,"click",(()=>{const e=s.getAttribute("data-mode");t.addContent('<div class="embed-responsive embed-responsive-16by9">\n            <iframe width="100%" height="400" frameborder="0" scrolling="no" marginheight="0" marginwidth="0" class="mg1" src="https://maps.google.com/maps?q=Melbourne,+Victoria,+Australia&amp;hl=en&amp;sll=-7.981898,112.626504&amp;sspn=0.009084,0.016512&amp;oq=melbourne&amp;hnear=Melbourne+Victoria,+Australia&amp;t=m&amp;z=10&amp;output=embed"></iframe>\n            </div>',e)})),l=s.querySelector(".add-youtube"),n.addEventListener(l,"click",(()=>{const e=s.getAttribute("data-mode");t.addContent('<div class="embed-responsive embed-responsive-16by9">\n                <iframe width="560" height="315" src="https://www.youtube.com/embed/P5yHEKqx86U?rel=0" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>\n            </div>',e)})),l=s.querySelector(".add-video"),n.addEventListener(l,"click",(()=>{const i=s.getAttribute("data-mode");let n=`<video style="width: 100%;" loop="" autoplay="">\n                <source src="${e.opts.snippetPath}example.mp4" type="video/mp4"></video>`;e.opts.snippetSampleVideo&&(n=`<video style="width: 100%;" loop="" autoplay="">\n                    <source src="${e.opts.snippetSampleVideo}" type="video/mp4"></video>`),t.addContent(n,i)})),l=s.querySelector(".add-audio"),n.addEventListener(l,"click",(()=>{const i=s.getAttribute("data-mode");let n=`<div style="display:flex;width:100%;position:relative;margin:15px 0;background:transparent;">\n                        <audio controls="" style="width:100%">\n                            <source src="${e.opts.snippetPath}example.mp3" type="audio/mpeg">\n                            Your browser does not support the audio element.\n                        </audio>\n                    </div>`;e.opts.snippetSampleAudio&&(n=`<div style="display:flex;width:100%;position:relative;margin:15px 0;background:transparent;">\n                            <audio controls="" style="width:100%">\n                                <source src="${e.opts.snippetSampleAudio}" type="audio/mpeg">\n                                Your browser does not support the audio element.\n                            </audio>\n                    </div>`),t.addContent(n,i)}));const r=new Mo(e);l=s.querySelector(".add-more"),n.addEventListener(l,"click",(()=>{let e=i.querySelector(".snippets");t.showModal(e,!1,null,!1);var n=e.querySelector("iframe").contentWindow.document;""===n.body.innerHTML&&(n.open(),n.write(r.getSnippetsHtml()),n.close()),t.hidePop(s)}))}return s};class Ro{constructor(e){this.builder=e;const t=this.builder.util,i=this.builder.builderStuff;this.util=t,this.builderStuff=i;const n=this.builder.dom;this.dom=n,this.rowTool=new Io(e)}moveColumnPrevious(){const e=this.util.cellSelected();e&&e.previousElementSibling&&(this.builder.uo.saveForUndo(),e.parentElement.insertBefore(e,e.previousElementSibling),this.builder.opts.onChange())}moveColumnNext(){let e=this.util;const t=e.cellSelected();if(!t)return;const i=e.cellNext(t);i&&(this.builder.uo.saveForUndo(),t.parentElement.insertBefore(i,t),this.builder.opts.onChange())}moveColumnUp(){let e=this.builder,t=this.util;const i=t.cellSelected();if(!i)return;let n=i.parentNode,s=3;if(n.querySelector(".is-row-overlay")&&(s=4),n.childElementCount-s==1){if(!n.previousElementSibling)return;{let t=4;if(this.builder.maxColumns&&(t=this.builder.maxColumns),n.previousElementSibling.childElementCount>=t+s||n.previousElementSibling.hasAttribute("data-protected"))return this.builder.uo.saveForUndo(),n.parentNode.insertBefore(n,n.previousElementSibling),void this.builder.opts.onChange();{this.builder.uo.saveForUndo();let t=n.previousElementSibling.querySelector(".is-row-tool");n.previousElementSibling.removeChild(t),t=n.previousElementSibling.querySelector(".is-rowadd-tool"),n.previousElementSibling.removeChild(t),t=n.previousElementSibling.querySelector(".is-col-tool"),n.previousElementSibling.removeChild(t),n.previousElementSibling.appendChild(i),n.parentNode.removeChild(n);let s=this.builder.doc.querySelector(".builder-active");e.applyBehaviorOn(s),setTimeout((()=>{i.click()}),30),this.builder.opts.onChange()}}}else{this.builder.uo.saveForUndo();var o=n.cloneNode(!0);o.innerHTML="",o.appendChild(i),n.parentNode.insertBefore(o,n);let t=this.builder.doc.querySelector(".builder-active");e.applyBehaviorOn(t),setTimeout((()=>{i.click()}),30),this.builder.opts.onChange()}n=i.parentNode,t.fixLayout(n),n.nextElementSibling&&t.fixLayout(n.nextElementSibling)}moveColumnDown(){let e=this.builder,t=this.util,i=this.dom;const n=t.cellSelected();if(!n)return;let s=n.parentNode,o=3;if(s.querySelector(".is-row-overlay")&&(o=4),s.childElementCount-o==1){if(!s.nextElementSibling)return;{let t=4;if(this.builder.maxColumns&&(t=this.builder.maxColumns),s.nextElementSibling.childElementCount>=t+o||s.nextElementSibling.hasAttribute("data-protected"))return this.builder.uo.saveForUndo(),s.parentNode.insertBefore(s.nextElementSibling,s),void this.builder.opts.onChange();{this.builder.uo.saveForUndo();let t=s.nextElementSibling.querySelector(".is-row-tool");s.nextElementSibling.removeChild(t),t=s.nextElementSibling.querySelector(".is-rowadd-tool"),s.nextElementSibling.removeChild(t),t=s.nextElementSibling.querySelector(".is-col-tool"),s.nextElementSibling.removeChild(t),s.nextElementSibling.appendChild(n),s.parentNode.removeChild(s);let i=this.builder.doc.querySelector(".builder-active");e.applyBehaviorOn(i),setTimeout((()=>{n.click()}),30),this.builder.opts.onChange()}}}else{this.builder.uo.saveForUndo();var a=s.cloneNode(!0);a.innerHTML="",a.appendChild(n),i.moveAfter(a,s);let t=this.builder.doc.querySelector(".builder-active");e.applyBehaviorOn(t),setTimeout((()=>{n.click()}),30),this.builder.opts.onChange()}s=n.parentNode,t.fixLayout(s),s.previousElementSibling&&t.fixLayout(s.previousElementSibling)}duplicateColumn(){let e=this.builder,t=this.util,i=this.dom;const n=t.cellSelected();if(!n)return;this.builder.uo.saveForUndo();var s=n.cloneNode(!0);i.removeClass(s,"cell-active"),s.removeAttribute("data-click"),this.builder.opts.enableDragResize&&(n.style.width="",n.style.flex="");let o=n.parentNode,a=3;o.querySelector(".is-row-overlay")&&(a=4);let l=4;if(this.builder.maxColumns&&(l=this.builder.maxColumns),o.childElementCount>=l+a)return alert(t.out("You have reached the maximum number of columns")),!1;o.insertBefore(s,n),t.fixLayout(o);let r=this.builder.doc.querySelector(".builder-active");e.applyBehaviorOn(r),setTimeout((()=>{n.click()}),30),this.builder.opts.onChange()}removeColumn(){let e=this.util;const t=e.cellSelected();if(!t)return;let i=t.parentNode,n=3;i.querySelector(".is-row-overlay")&&(n=4),e.confirm(e.out("Are you sure you want to delete this block?"),(s=>{s&&(this.builder.uo.saveForUndo(),i.childElementCount-n==1?(i.parentNode.removeChild(i),e.checkEmpty()):(i.removeChild(t),e.fixLayout(i)),e.clearActiveCell(),this.builder.opts.onChange())}))}removeColClasses(e){e.classList.remove("full"),e.classList.remove("two-third"),e.classList.remove("two-fourth"),e.classList.remove("two-fifth"),e.classList.remove("two-sixth"),e.classList.remove("half"),e.classList.remove("third"),e.classList.remove("fourth"),e.classList.remove("fifth"),e.classList.remove("sixth"),e.classList.remove("seventh"),e.classList.remove("eighth"),e.classList.remove("ninth"),e.classList.remove("tenth"),e.classList.remove("eleventh"),e.classList.remove("twelfth")}getAllColumns(e){let t=[],i=this.dom;i.elementChildren(e.parentNode).forEach((n=>{i.hasClass(n,"is-row-tool")||i.hasClass(n,"is-col-tool")||i.hasClass(n,"is-rowadd-tool")||i.hasClass(n,"is-row-overlay")||e!==n&&t.push(n)}));return[e].concat(t)}getCellWidth(e){return e.classList.contains("two-third")?66.666:e.classList.contains("two-fourth")?75:e.classList.contains("two-fifth")?80:e.classList.contains("two-sixth")?83.333:e.classList.contains("half")?50:e.classList.contains("third")?33.333:e.classList.contains("fourth")?25:e.classList.contains("fifth")?20:e.classList.contains("sixth")?16.666:e.classList.contains("seventh")?14.2857:e.classList.contains("eighth")?12.5:e.classList.contains("ninth")?11.111:e.classList.contains("tenth")?10:e.classList.contains("eleventh")?9.09:!!e.classList.contains("twelfth")&&8.333}resizeColumn(e,t,i){let n=this.getCellWidth(e);if(!n){n=parseFloat(window.getComputedStyle(e).getPropertyValue("width"))/parseFloat(window.getComputedStyle(e.parentNode).getPropertyValue("width"))*100}if(t){if(3===i){if(n>=28&&n<=30)return"33.333%";if(n>30&&n<38)return"40%";if(n>=68&&n<=90)return"75%"}if(4===i&&n>=48&&n<=90)return"60%";if(5===i&&n>=38&&n<=90)return"50%";if(6===i){if(n>=10&&n<13)return"16.666%";if(n>=28&&n<=90)return"40%"}if(7===i&&n>=23&&n<=90)return"30%";if(8===i&&n>=13&&n<=90)return"20%";if(n>=78&&n<=90)return"90%";if(n>=73&&n<78)return"80%";if(n>=68&&n<73)return"75%";if(n>=58&&n<68)return"70%";if(n>=48&&n<58)return"60%";if(n>=38&&n<48)return"50%";if(n>=28&&n<38)return"40%";if(n>=23&&n<28)return"30%";if(n>=18&&n<23)return"25%";if(n>=13&&n<18)return"20%";if(n>=10&&n<13)return"15%"}else{if(3===i){if(n>35&&n<=43)return"33.333%";if(n>33&&n<=35)return"30%"}if(6===i&&n>18&&n<=23)return"16.666%";if(n>93&&n<=100)return"90%";if(n>83&&n<=93)return"80%";if(n>78&&n<=83)return"75%";if(n>73&&n<=78)return"70%";if(n>63&&n<=73)return"60%";if(n>53&&n<=63)return"50%";if(n>43&&n<=53)return"40%";if(n>33&&n<=43)return"30%";if(n>28&&n<=33)return"25%";if(n>23&&n<=28)return"20%";if(n>18&&n<=23)return"15%";if(n>=10&&n<=18)return"10%"}return!1}increaseColumn(){let e,t,i=this.builder,n=this.util,s=this.dom,o=n.cellSelected();if(!o)return;if(this.builder.useDefaultGrid){let e=this.getAllColumns(o);if(e.length>1&&e.length<9){this.builder.uo.saveForUndo();let t=this.resizeColumn(o,!0,e.length);if(t){o.style.width=t,o.style.flex="0 0 auto",this.removeColClasses(o);for(let i=1;i<e.length;i++){let n=e[i];n!==o&&(n.getAttribute("data-html")?2===e.length&&(n.style.width=100-parseFloat(t)+"%",n.style.flex="0 0 auto"):(n.style.width="",n.style.flex=""),this.removeColClasses(n))}}this.builder.opts.onChange()}return}let a=this.getAllColumns(o);a[1]&&(e=a[1]),a[2]&&(t=a[2]);const l=i.opts.row;let r=i.opts.cols;const d=i.opts.colsizes;if(""!==l&&r.length>0&&d.length>0){if(t)for(let i=0;i<d.length;i++){let n=d[i];for(let i=0;i<n.length;i++)if(3===n[i].length&&s.hasClass(o,n[i][0])&&s.hasClass(e,n[i][1])&&s.hasClass(t,n[i][2])&&i+1!==n.length)return this.builder.uo.saveForUndo(),s.removeClass(o,n[i][0]),s.removeClass(e,n[i][1]),s.removeClass(t,n[i][2]),s.addClass(o,n[i+1][0]),s.addClass(e,n[i+1][1]),s.addClass(t,n[i+1][2]),void this.builder.opts.onChange()}for(let t=0;t<d.length;t++){let i=d[t];for(let t=0;t<i.length;t++)if(2===i[t].length&&s.hasClass(o,i[t][0])&&s.hasClass(e,i[t][1])&&t+1!==i.length)return this.builder.uo.saveForUndo(),s.removeClass(o,i[t][0]),s.removeClass(e,i[t][1]),s.addClass(o,i[t+1][0]),s.addClass(e,i[t+1][1]),void this.builder.opts.onChange()}}else if(""!==l&&r.length>0&&(-1!==o.className.indexOf("col-md-")||(-1!==o.className.indexOf("col-sm-")?r=["col-sm-1","col-sm-2","col-sm-3","col-sm-4","col-sm-5","col-sm-6","col-sm-7","col-sm-8","col-sm-9","col-sm-10","col-sm-11","col-sm-12"]:-1!==o.className.indexOf("col-xs-")?r=["col-xs-1","col-xs-2","col-xs-3","col-xs-4","col-xs-5","col-xs-6","col-xs-7","col-xs-8","col-xs-9","col-xs-10","col-xs-11","col-xs-12"]:-1!==o.className.indexOf("col-lg-")?r=["col-lg-1","col-lg-2","col-lg-3","col-lg-4","col-lg-5","col-lg-6","col-lg-7","col-lg-8","col-lg-9","col-lg-10","col-lg-11","col-lg-12"]:-1!==o.className.indexOf("col-xl-")?r=["col-xl-1","col-xl-2","col-xl-3","col-xl-4","col-xl-5","col-xl-6","col-xl-7","col-xl-8","col-xl-9","col-xl-10","col-xl-11","col-xl-12"]:-1!==o.className.indexOf("col-xxl-")&&(r=["col-xxl-1","col-xxl-2","col-xxl-3","col-xxl-4","col-xxl-5","col-xxl-6","col-xxl-7","col-xxl-8","col-xxl-9","col-xxl-10","col-xxl-11","col-xxl-12"])),!s.hasClass(o,r[11]))){if(s.hasClass(o,r[11]))return;if(s.hasClass(e,r[0]))return;this.builder.uo.saveForUndo(),s.hasClass(o,r[10])?(s.removeClass(o,r[10]),s.addClass(o,r[11])):s.hasClass(o,r[9])?(s.removeClass(o,r[9]),s.addClass(o,r[10])):s.hasClass(o,r[8])?(s.removeClass(o,r[8]),s.addClass(o,r[9])):s.hasClass(o,r[7])?(s.removeClass(o,r[7]),s.addClass(o,r[8])):s.hasClass(o,r[6])?(s.removeClass(o,r[6]),s.addClass(o,r[7])):s.hasClass(o,r[5])?(s.removeClass(o,r[5]),s.addClass(o,r[6])):s.hasClass(o,r[4])?(s.removeClass(o,r[4]),s.addClass(o,r[5])):s.hasClass(o,r[3])?(s.removeClass(o,r[3]),s.addClass(o,r[4])):s.hasClass(o,r[2])?(s.removeClass(o,r[2]),s.addClass(o,r[3])):s.hasClass(o,r[1])?(s.removeClass(o,r[1]),s.addClass(o,r[2])):s.hasClass(o,r[0])&&(s.removeClass(o,r[0]),s.addClass(o,r[1])),s.hasClass(e,r[1])?(s.removeClass(e,r[1]),s.addClass(e,r[0])):s.hasClass(e,r[2])?(s.removeClass(e,r[2]),s.addClass(e,r[1])):s.hasClass(e,r[3])?(s.removeClass(e,r[3]),s.addClass(e,r[2])):s.hasClass(e,r[4])?(s.removeClass(e,r[4]),s.addClass(e,r[3])):s.hasClass(e,r[5])?(s.removeClass(e,r[5]),s.addClass(e,r[4])):s.hasClass(e,r[6])?(s.removeClass(e,r[6]),s.addClass(e,r[5])):s.hasClass(e,r[7])?(s.removeClass(e,r[7]),s.addClass(e,r[6])):s.hasClass(e,r[8])?(s.removeClass(e,r[8]),s.addClass(e,r[7])):s.hasClass(e,r[9])?(s.removeClass(e,r[9]),s.addClass(e,r[8])):s.hasClass(e,r[10])?(s.removeClass(e,r[10]),s.addClass(e,r[9])):s.hasClass(e,r[11])&&(s.removeClass(e,r[11]),s.addClass(e,r[10])),this.builder.opts.onChange()}}decreaseColumn(){let e=this.builder,t=this.util,i=this.dom;const n=t.cellSelected();if(!n)return;if(this.builder.useDefaultGrid){let e=this.getAllColumns(n);if(e.length>1&&e.length<9){this.builder.uo.saveForUndo();let t=this.resizeColumn(n,!1,e.length);if(t){n.style.width=t,n.style.flex="0 0 auto",this.removeColClasses(n);for(let i=1;i<e.length;i++){let s=e[i];s!==n&&(s.getAttribute("data-html")?2===e.length&&(s.style.width=100-parseFloat(t)+"%",s.style.flex="0 0 auto"):(s.style.width="",s.style.flex=""),this.removeColClasses(s))}}this.builder.opts.onChange()}return}let s,o,a=this.getAllColumns(n);a[1]&&(s=a[1]),a[2]&&(o=a[2]);const l=e.opts.row;let r=e.opts.cols;const d=e.opts.colsizes;if(""!==l&&r.length>0&&d.length>0){if(o)for(let e=0;e<d.length;e++){let t=d[e];for(let e=0;e<t.length;e++)if(3===t[e].length&&i.hasClass(n,t[e][0])&&i.hasClass(s,t[e][1])&&i.hasClass(o,t[e][2])&&0!==e)return this.builder.uo.saveForUndo(),i.removeClass(n,t[e][0]),i.removeClass(s,t[e][1]),i.removeClass(o,t[e][2]),i.addClass(n,t[e-1][0]),i.addClass(s,t[e-1][1]),i.addClass(o,t[e-1][2]),void this.builder.opts.onChange()}for(let e=0;e<d.length;e++){let t=d[e];for(let e=0;e<t.length;e++)if(2===t[e].length&&i.hasClass(n,t[e][0])&&i.hasClass(s,t[e][1])&&0!==e)return this.builder.uo.saveForUndo(),i.removeClass(n,t[e][0]),i.removeClass(s,t[e][1]),i.addClass(n,t[e-1][0]),i.addClass(s,t[e-1][1]),void this.builder.opts.onChange()}}else if(""!==l&&r.length>0&&(-1!==n.className.indexOf("col-md-")||(-1!==n.className.indexOf("col-sm-")?r=["col-sm-1","col-sm-2","col-sm-3","col-sm-4","col-sm-5","col-sm-6","col-sm-7","col-sm-8","col-sm-9","col-sm-10","col-sm-11","col-sm-12"]:-1!==n.className.indexOf("col-xs-")?r=["col-xs-1","col-xs-2","col-xs-3","col-xs-4","col-xs-5","col-xs-6","col-xs-7","col-xs-8","col-xs-9","col-xs-10","col-xs-11","col-xs-12"]:-1!==n.className.indexOf("col-lg-")?r=["col-lg-1","col-lg-2","col-lg-3","col-lg-4","col-lg-5","col-lg-6","col-lg-7","col-lg-8","col-lg-9","col-lg-10","col-lg-11","col-lg-12"]:-1!==n.className.indexOf("col-xl-")?r=["col-xl-1","col-xl-2","col-xl-3","col-xl-4","col-xl-5","col-xl-6","col-xl-7","col-xl-8","col-xl-9","col-xl-10","col-xl-11","col-xl-12"]:-1!==n.className.indexOf("col-xxl-")&&(r=["col-xxl-1","col-xxl-2","col-xxl-3","col-xxl-4","col-xxl-5","col-xxl-6","col-xxl-7","col-xxl-8","col-xxl-9","col-xxl-10","col-xxl-11","col-xxl-12"])),!i.hasClass(n,r[11]))){if(i.hasClass(n,r[0]))return;if(i.hasClass(s,r[11]))return;this.builder.uo.saveForUndo(),i.hasClass(n,r[11])?(i.removeClass(n,r[11]),i.addClass(n,r[10])):i.hasClass(n,r[10])?(i.removeClass(n,r[10]),i.addClass(n,r[9])):i.hasClass(n,r[9])?(i.removeClass(n,r[9]),i.addClass(n,r[8])):i.hasClass(n,r[8])?(i.removeClass(n,r[8]),i.addClass(n,r[7])):i.hasClass(n,r[7])?(i.removeClass(n,r[7]),i.addClass(n,r[6])):i.hasClass(n,r[6])?(i.removeClass(n,r[6]),i.addClass(n,r[5])):i.hasClass(n,r[5])?(i.removeClass(n,r[5]),i.addClass(n,r[4])):i.hasClass(n,r[4])?(i.removeClass(n,r[4]),i.addClass(n,r[3])):i.hasClass(n,r[3])?(i.removeClass(n,r[3]),i.addClass(n,r[2])):i.hasClass(n,r[2])?(i.removeClass(n,r[2]),i.addClass(n,r[1])):i.hasClass(n,r[1])&&(i.removeClass(n,r[1]),i.addClass(n,r[0])),i.hasClass(s,r[0])?(i.removeClass(s,r[0]),i.addClass(s,r[1])):i.hasClass(s,r[1])?(i.removeClass(s,r[1]),i.addClass(s,r[2])):i.hasClass(s,r[2])?(i.removeClass(s,r[2]),i.addClass(s,r[3])):i.hasClass(s,r[3])?(i.removeClass(s,r[3]),i.addClass(s,r[4])):i.hasClass(s,r[4])?(i.removeClass(s,r[4]),i.addClass(s,r[5])):i.hasClass(s,r[5])?(i.removeClass(s,r[5]),i.addClass(s,r[6])):i.hasClass(s,r[6])?(i.removeClass(s,r[6]),i.addClass(s,r[7])):i.hasClass(s,r[7])?(i.removeClass(s,r[7]),i.addClass(s,r[8])):i.hasClass(s,r[8])?(i.removeClass(s,r[8]),i.addClass(s,r[9])):i.hasClass(s,r[9])?(i.removeClass(s,r[9]),i.addClass(s,r[10])):i.hasClass(s,r[10])&&(i.removeClass(s,r[10]),i.addClass(s,r[11])),this.builder.opts.onChange()}}removeRow(){let e,t=this.util,i=this.dom,n=t.cellSelected();e=n?n.parentNode:t.rowSelected(),e&&(i.removeClass(e,"row-outline"),t.confirm(t.out("Are you sure you want to delete this block?"),(e=>{let i,n=t.cellSelected();i=n?n.parentNode:t.rowSelected(),i&&e&&(this.builder.uo.saveForUndo(),i.parentNode.removeChild(i),t.checkEmpty(),t.clearActiveCell(),this.builder.opts.onChange())})))}moveRowUp(){let e,t=this.util,i=this.dom,n=t.cellSelected();if(e=n?n.parentNode:t.rowSelected(),e)if(i.removeClass(e,"row-outline"),e.previousElementSibling)this.builder.uo.saveForUndo(),e.parentNode.insertBefore(e,e.previousElementSibling),this.rowTool.position(e),this.builder.opts.onChange();else{let n=e.parentNode,s=null;const o=document.querySelectorAll(this.builder.opts.container);Array.prototype.forEach.call(o,(o=>{if(o.innerHTML===n.innerHTML&&s)return i.moveAfter(e,s.lastChild),this.rowTool.position(e),t.checkEmpty(),this.builder.opts.onChange(),!1;s=o}))}}moveRowDown(){let e,t=this.util,i=this.dom,n=t.cellSelected();if(e=n?n.parentNode:t.rowSelected(),e)if(i.removeClass(e,"row-outline"),e.nextElementSibling)this.builder.uo.saveForUndo(),e.parentNode.insertBefore(e.nextElementSibling,e),this.rowTool.position(e),this.builder.opts.onChange();else{let i=e.parentNode,n=!1;const s=document.querySelectorAll(this.builder.opts.container);Array.prototype.forEach.call(s,(s=>{if(n)return s.insertBefore(e,s.firstChild),this.rowTool.position(e),t.checkEmpty(),this.builder.opts.onChange(),!1;s.innerHTML===i.innerHTML&&(n=!0)}))}}duplicateRow(){let e,t=this.builder,i=this.util,n=this.dom,s=i.cellSelected();if(e=s?s.parentNode:i.rowSelected(),!e)return;n.removeClass(e,"row-outline"),this.builder.uo.saveForUndo();const o=e.cloneNode(!0);o.removeChild(o.querySelector(".is-row-tool")),o.removeChild(o.querySelector(".is-col-tool"));let a=n.elementChildren(o);a.forEach((e=>{e.removeAttribute("data-click"),e.classList.contains("cell-active")&&(t.activeCol=e)})),n.moveAfter(o,e),n.removeClass(e,"row-active"),n.removeClass(e,"row-outline"),a=n.elementChildren(e),a.forEach((e=>{n.removeClass(e,"cell-active")}));let l=this.builder.doc.querySelector(".builder-active");t.applyBehaviorOn(l),this.rowTool.position(o),this.builder.opts.onChange()}}class Io{constructor(e){this.builder=e;const t=this.builder.dom;this.dom=t}position(e){let t=this.dom;const i=this.builder.builderStuff;let n=e.querySelector(".is-row-tool"),s=i.querySelector(".rowmore");t.addClass(s,"transition1");const o=n.querySelector(".row-more");let a,l;if(this.builder.iframe){let e=this.builder.iframe.getBoundingClientRect().top+window.pageYOffset,t=this.builder.iframe.getBoundingClientRect().left+window.pageXOffset;a=o.getBoundingClientRect().top,l=o.getBoundingClientRect().left,a+=e,l+=t}else a=o.getBoundingClientRect().top+window.pageYOffset,l=o.getBoundingClientRect().left+window.pageXOffset;s.style.top=a-8+"px",t.removeClass(s,"arrow-bottom"),t.removeClass(s,"arrow-left"),t.removeClass(s,"arrow-right"),t.removeClass(s,"center"),t.removeClass(s,"right"),t.removeClass(s,"left"),"right"===this.builder.opts.rowTool?(s.style.left=l-s.offsetWidth-10+"px",t.addClass(s,"arrow-right"),t.addClass(s,"left")):(s.style.left=l+35+"px",t.addClass(s,"arrow-left"),t.addClass(s,"left")),setTimeout((()=>{t.removeClass(s,"transition1")}),300)}}let Bo,No,$o,zo,Po,Ho,Do,jo;class Uo{constructor(e={}){this.opts=e;const t=document.querySelectorAll(this.opts.selector);Array.prototype.forEach.call(t,(e=>{e.setAttribute("draggable",""),e.addEventListener("touchstart",this.dragStart,!1),e.addEventListener("touchend",this.dragEnd,!1),e.addEventListener("mousedown",this.dragStart,!1),e.addEventListener("mouseup",this.dragEnd,!1)})),document.addEventListener("touchmove",this.drag,!1),document.addEventListener("mousemove",this.drag,!1)}dragStart(e){var t,i;e.target.hasAttribute("draggable")&&(e.target.parentNode.style.transition="none",Do=!0,jo=e.target.parentElement,jo.getAttribute("data-xOffset")?t=jo.getAttribute("data-xOffset"):(jo.setAttribute("data-xOffset",0),t=0),jo.getAttribute("data-yOffset")?i=jo.getAttribute("data-yOffset"):(jo.setAttribute("data-yOffset",0),i=0),"touchstart"===e.type?(Bo=e.touches[0].clientX-t,No=e.touches[0].clientY-i):(Bo=e.clientX-t,No=e.clientY-i),jo.setAttribute("data-initialX",Bo),jo.setAttribute("data-initialY",No))}dragEnd(e){e.target.hasAttribute("draggable")&&jo&&(e.target.parentNode.style.transition="",$o=jo.getAttribute("data-currentX"),zo=jo.getAttribute("data-currentY"),Bo=$o,No=zo,jo.setAttribute("data-initialX",Bo),jo.setAttribute("data-initialY",No),Do=!1)}drag(e){if(Do){e.preventDefault();var t=jo.getAttribute("data-initialX"),i=jo.getAttribute("data-initialY");"touchmove"===e.type?($o=e.touches[0].clientX-t,zo=e.touches[0].clientY-i):($o=e.clientX-t,zo=e.clientY-i),jo.style.transform="translate3d("+$o+"px, "+zo+"px, 0)",jo.setAttribute("data-currentX",$o),jo.setAttribute("data-currentY",zo),Po=$o,Ho=zo,jo.setAttribute("data-xOffset",Po),jo.setAttribute("data-yOffset",Ho)}}isTouchSupport(){return"ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0}}
/**!
     * Sortable 1.14.0
     * @author	RubaXa   <trash@rubaxa.org>
     * @author	owenm    <owen23355@gmail.com>
     * @license MIT
     */
function Fo(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function Wo(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Fo(Object(i),!0).forEach((function(t){Xo(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Fo(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function Yo(e){return Yo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yo(e)}function Xo(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Go(){return Go=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Go.apply(this,arguments)}function Vo(e,t){if(null==e)return{};var i,n,s=function(e,t){if(null==e)return{};var i,n,s={},o=Object.keys(e);for(n=0;n<o.length;n++)i=o[n],t.indexOf(i)>=0||(s[i]=e[i]);return s}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)i=o[n],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(s[i]=e[i])}return s}function Ko(e){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(e)}var Zo=Ko(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Qo=Ko(/Edge/i),Jo=Ko(/firefox/i),ea=Ko(/safari/i)&&!Ko(/chrome/i)&&!Ko(/android/i),ta=Ko(/iP(ad|od|hone)/i),ia=Ko(/chrome/i)&&Ko(/android/i),na={capture:!1,passive:!1};function sa(e,t,i){e.addEventListener(t,i,!Zo&&na)}function oa(e,t,i){e.removeEventListener(t,i,!Zo&&na)}function aa(e,t){if(t){if(">"===t[0]&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(e){return!1}return!1}}function la(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function ra(e,t,i,n){if(e){i=i||document;do{if(null!=t&&(">"===t[0]?e.parentNode===i&&aa(e,t):aa(e,t))||n&&e===i)return e;if(e===i)break}while(e=la(e))}return null}var da,ca=/\s+/g;function ua(e,t,i){if(e&&t)if(e.classList)e.classList[i?"add":"remove"](t);else{var n=(" "+e.className+" ").replace(ca," ").replace(" "+t+" "," ");e.className=(n+(i?" "+t:"")).replace(ca," ")}}function pa(e,t,i){var n=e&&e.style;if(n){if(void 0===i)return document.defaultView&&document.defaultView.getComputedStyle?i=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(i=e.currentStyle),void 0===t?i:i[t];t in n||-1!==t.indexOf("webkit")||(t="-webkit-"+t),n[t]=i+("string"==typeof i?"":"px")}}function ha(e,t){var i="";if("string"==typeof e)i=e;else do{var n=pa(e,"transform");n&&"none"!==n&&(i=n+" "+i)}while(!t&&(e=e.parentNode));var s=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return s&&new s(i)}function ma(e,t,i){if(e){var n=e.getElementsByTagName(t),s=0,o=n.length;if(i)for(;s<o;s++)i(n[s],s);return n}return[]}function ga(){var e=document.scrollingElement;return e||document.documentElement}function ba(e,t,i,n,s){if(e.getBoundingClientRect||e===window){var o,a,l,r,d,c,u;if(e!==window&&e.parentNode&&e!==ga()?(a=(o=e.getBoundingClientRect()).top,l=o.left,r=o.bottom,d=o.right,c=o.height,u=o.width):(a=0,l=0,r=window.innerHeight,d=window.innerWidth,c=window.innerHeight,u=window.innerWidth),(t||i)&&e!==window&&(s=s||e.parentNode,!Zo))do{if(s&&s.getBoundingClientRect&&("none"!==pa(s,"transform")||i&&"static"!==pa(s,"position"))){var p=s.getBoundingClientRect();a-=p.top+parseInt(pa(s,"border-top-width")),l-=p.left+parseInt(pa(s,"border-left-width")),r=a+o.height,d=l+o.width;break}}while(s=s.parentNode);if(n&&e!==window){var h=ha(s||e),m=h&&h.a,g=h&&h.d;h&&(r=(a/=g)+(c/=g),d=(l/=m)+(u/=m))}return{top:a,left:l,bottom:r,right:d,width:u,height:c}}}function fa(e,t,i){for(var n=wa(e,!0),s=ba(e)[t];n;){var o=ba(n)[i];if(!("top"===i||"left"===i?s>=o:s<=o))return n;if(n===ga())break;n=wa(n,!1)}return!1}function va(e,t,i,n){for(var s=0,o=0,a=e.children;o<a.length;){if("none"!==a[o].style.display&&a[o]!==kl.ghost&&(n||a[o]!==kl.dragged)&&ra(a[o],i.draggable,e,!1)){if(s===t)return a[o];s++}o++}return null}function ya(e,t){for(var i=e.lastElementChild;i&&(i===kl.ghost||"none"===pa(i,"display")||t&&!aa(i,t));)i=i.previousElementSibling;return i||null}function xa(e,t){var i=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)"TEMPLATE"===e.nodeName.toUpperCase()||e===kl.clone||t&&!aa(e,t)||i++;return i}function _a(e){var t=0,i=0,n=ga();if(e)do{var s=ha(e),o=s.a,a=s.d;t+=e.scrollLeft*o,i+=e.scrollTop*a}while(e!==n&&(e=e.parentNode));return[t,i]}function wa(e,t){if(!e||!e.getBoundingClientRect)return ga();var i=e,n=!1;do{if(i.clientWidth<i.scrollWidth||i.clientHeight<i.scrollHeight){var s=pa(i);if(i.clientWidth<i.scrollWidth&&("auto"==s.overflowX||"scroll"==s.overflowX)||i.clientHeight<i.scrollHeight&&("auto"==s.overflowY||"scroll"==s.overflowY)){if(!i.getBoundingClientRect||i===document.body)return ga();if(n||t)return i;n=!0}}}while(i=i.parentNode);return ga()}function Sa(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function Ca(e,t){return function(){if(!da){var i=arguments,n=this;1===i.length?e.call(n,i[0]):e.apply(n,i),da=setTimeout((function(){da=void 0}),t)}}}function ka(e,t,i){e.scrollLeft+=t,e.scrollTop+=i}function Aa(e){var t=window.Polymer,i=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):i?i(e).clone(!0)[0]:e.cloneNode(!0)}var Ea="Sortable"+(new Date).getTime();function La(){var e,t=[];return{captureAnimationState:function(){(t=[],this.options.animation)&&[].slice.call(this.el.children).forEach((function(e){if("none"!==pa(e,"display")&&e!==kl.ghost){t.push({target:e,rect:ba(e)});var i=Wo({},t[t.length-1].rect);if(e.thisAnimationDuration){var n=ha(e,!0);n&&(i.top-=n.f,i.left-=n.e)}e.fromRect=i}}))},addAnimationState:function(e){t.push(e)},removeAnimationState:function(e){t.splice(function(e,t){for(var i in e)if(e.hasOwnProperty(i))for(var n in t)if(t.hasOwnProperty(n)&&t[n]===e[i][n])return Number(i);return-1}(t,{target:e}),1)},animateAll:function(i){var n=this;if(!this.options.animation)return clearTimeout(e),void("function"==typeof i&&i());var s=!1,o=0;t.forEach((function(e){var t=0,i=e.target,a=i.fromRect,l=ba(i),r=i.prevFromRect,d=i.prevToRect,c=e.rect,u=ha(i,!0);u&&(l.top-=u.f,l.left-=u.e),i.toRect=l,i.thisAnimationDuration&&Sa(r,l)&&!Sa(a,l)&&(c.top-l.top)/(c.left-l.left)==(a.top-l.top)/(a.left-l.left)&&(t=function(e,t,i,n){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-i.top,2)+Math.pow(t.left-i.left,2))*n.animation}(c,r,d,n.options)),Sa(l,a)||(i.prevFromRect=a,i.prevToRect=l,t||(t=n.options.animation),n.animate(i,c,l,t)),t&&(s=!0,o=Math.max(o,t),clearTimeout(i.animationResetTimer),i.animationResetTimer=setTimeout((function(){i.animationTime=0,i.prevFromRect=null,i.fromRect=null,i.prevToRect=null,i.thisAnimationDuration=null}),t),i.thisAnimationDuration=t)})),clearTimeout(e),s?e=setTimeout((function(){"function"==typeof i&&i()}),o):"function"==typeof i&&i(),t=[]},animate:function(e,t,i,n){if(n){pa(e,"transition",""),pa(e,"transform","");var s=ha(this.el),o=s&&s.a,a=s&&s.d,l=(t.left-i.left)/(o||1),r=(t.top-i.top)/(a||1);e.animatingX=!!l,e.animatingY=!!r,pa(e,"transform","translate3d("+l+"px,"+r+"px,0)"),this.forRepaintDummy=function(e){return e.offsetWidth}(e),pa(e,"transition","transform "+n+"ms"+(this.options.easing?" "+this.options.easing:"")),pa(e,"transform","translate3d(0,0,0)"),"number"==typeof e.animated&&clearTimeout(e.animated),e.animated=setTimeout((function(){pa(e,"transition",""),pa(e,"transform",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1}),n)}}}}var qa=[],Ta={initializeByDefault:!0},Ma={mount:function(e){for(var t in Ta)Ta.hasOwnProperty(t)&&!(t in e)&&(e[t]=Ta[t]);qa.forEach((function(t){if(t.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")})),qa.push(e)},pluginEvent:function(e,t,i){var n=this;this.eventCanceled=!1,i.cancel=function(){n.eventCanceled=!0};var s=e+"Global";qa.forEach((function(n){t[n.pluginName]&&(t[n.pluginName][s]&&t[n.pluginName][s](Wo({sortable:t},i)),t.options[n.pluginName]&&t[n.pluginName][e]&&t[n.pluginName][e](Wo({sortable:t},i)))}))},initializePlugins:function(e,t,i,n){for(var s in qa.forEach((function(n){var s=n.pluginName;if(e.options[s]||n.initializeByDefault){var o=new n(e,t,e.options);o.sortable=e,o.options=e.options,e[s]=o,Go(i,o.defaults)}})),e.options)if(e.options.hasOwnProperty(s)){var o=this.modifyOption(e,s,e.options[s]);void 0!==o&&(e.options[s]=o)}},getEventProperties:function(e,t){var i={};return qa.forEach((function(n){"function"==typeof n.eventProperties&&Go(i,n.eventProperties.call(t[n.pluginName],e))})),i},modifyOption:function(e,t,i){var n;return qa.forEach((function(s){e[s.pluginName]&&s.optionListeners&&"function"==typeof s.optionListeners[t]&&(n=s.optionListeners[t].call(e[s.pluginName],i))})),n}};var Oa=["evt"],Ra=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=i.evt,s=Vo(i,Oa);Ma.pluginEvent.bind(kl)(e,t,Wo({dragEl:Ba,parentEl:Na,ghostEl:$a,rootEl:za,nextEl:Pa,lastDownEl:Ha,cloneEl:Da,cloneHidden:ja,dragStarted:tl,putSortable:Ga,activeSortable:kl.active,originalEvent:n,oldIndex:Ua,oldDraggableIndex:Wa,newIndex:Fa,newDraggableIndex:Ya,hideGhostForTarget:_l,unhideGhostForTarget:wl,cloneNowHidden:function(){ja=!0},cloneNowShown:function(){ja=!1},dispatchSortableEvent:function(e){Ia({sortable:t,name:e,originalEvent:n})}},s))};function Ia(e){!function(e){var t=e.sortable,i=e.rootEl,n=e.name,s=e.targetEl,o=e.cloneEl,a=e.toEl,l=e.fromEl,r=e.oldIndex,d=e.newIndex,c=e.oldDraggableIndex,u=e.newDraggableIndex,p=e.originalEvent,h=e.putSortable,m=e.extraEventProperties;if(t=t||i&&i[Ea]){var g,b=t.options,f="on"+n.charAt(0).toUpperCase()+n.substr(1);!window.CustomEvent||Zo||Qo?(g=document.createEvent("Event")).initEvent(n,!0,!0):g=new CustomEvent(n,{bubbles:!0,cancelable:!0}),g.to=a||i,g.from=l||i,g.item=s||i,g.clone=o,g.oldIndex=r,g.newIndex=d,g.oldDraggableIndex=c,g.newDraggableIndex=u,g.originalEvent=p,g.pullMode=h?h.lastPutMode:void 0;var v=Wo(Wo({},m),Ma.getEventProperties(n,t));for(var y in v)g[y]=v[y];i&&i.dispatchEvent(g),b[f]&&b[f].call(t,g)}}(Wo({putSortable:Ga,cloneEl:Da,targetEl:Ba,rootEl:za,oldIndex:Ua,oldDraggableIndex:Wa,newIndex:Fa,newDraggableIndex:Ya},e))}var Ba,Na,$a,za,Pa,Ha,Da,ja,Ua,Fa,Wa,Ya,Xa,Ga,Va,Ka,Za,Qa,Ja,el,tl,il,nl,sl,ol,al=!1,ll=!1,rl=[],dl=!1,cl=!1,ul=[],pl=!1,hl=[],ml="undefined"!=typeof document,gl=ta,bl=Qo||Zo?"cssFloat":"float",fl=ml&&!ia&&!ta&&"draggable"in document.createElement("div"),vl=function(){if(ml){if(Zo)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}}(),yl=function(e,t){var i=pa(e),n=parseInt(i.width)-parseInt(i.paddingLeft)-parseInt(i.paddingRight)-parseInt(i.borderLeftWidth)-parseInt(i.borderRightWidth),s=va(e,0,t),o=va(e,1,t),a=s&&pa(s),l=o&&pa(o),r=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+ba(s).width,d=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+ba(o).width;if("flex"===i.display)return"column"===i.flexDirection||"column-reverse"===i.flexDirection?"vertical":"horizontal";if("grid"===i.display)return i.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(s&&a.float&&"none"!==a.float){var c="left"===a.float?"left":"right";return!o||"both"!==l.clear&&l.clear!==c?"horizontal":"vertical"}return s&&("block"===a.display||"flex"===a.display||"table"===a.display||"grid"===a.display||r>=n&&"none"===i[bl]||o&&"none"===i[bl]&&r+d>n)?"vertical":"horizontal"},xl=function(e){function t(e,i){return function(n,s,o,a){var l=n.options.group.name&&s.options.group.name&&n.options.group.name===s.options.group.name;if(null==e&&(i||l))return!0;if(null==e||!1===e)return!1;if(i&&"clone"===e)return e;if("function"==typeof e)return t(e(n,s,o,a),i)(n,s,o,a);var r=(i?n:s).options.group.name;return!0===e||"string"==typeof e&&e===r||e.join&&e.indexOf(r)>-1}}var i={},n=e.group;n&&"object"==Yo(n)||(n={name:n}),i.name=n.name,i.checkPull=t(n.pull,!0),i.checkPut=t(n.put),i.revertClone=n.revertClone,e.group=i},_l=function(){!vl&&$a&&pa($a,"display","none")},wl=function(){!vl&&$a&&pa($a,"display","")};ml&&document.addEventListener("click",(function(e){if(ll)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),ll=!1,!1}),!0);var Sl=function(e){if(Ba){e=e.touches?e.touches[0]:e;var t=(s=e.clientX,o=e.clientY,rl.some((function(e){var t=e[Ea].options.emptyInsertThreshold;if(t&&!ya(e)){var i=ba(e),n=s>=i.left-t&&s<=i.right+t,l=o>=i.top-t&&o<=i.bottom+t;return n&&l?a=e:void 0}})),a);if(t){var i={};for(var n in e)e.hasOwnProperty(n)&&(i[n]=e[n]);i.target=i.rootEl=t,i.preventDefault=void 0,i.stopPropagation=void 0,t[Ea]._onDragOver(i)}}var s,o,a},Cl=function(e){Ba&&Ba.parentNode[Ea]._isOutsideThisEl(e.target)};function kl(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=Go({},t),e[Ea]=this;var i={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return yl(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==kl.supportPointer&&"PointerEvent"in window&&!ea,emptyInsertThreshold:5};for(var n in Ma.initializePlugins(this,e,i),i)!(n in t)&&(t[n]=i[n]);for(var s in xl(t),this)"_"===s.charAt(0)&&"function"==typeof this[s]&&(this[s]=this[s].bind(this));this.nativeDraggable=!t.forceFallback&&fl,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?sa(e,"pointerdown",this._onTapStart):(sa(e,"mousedown",this._onTapStart),sa(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(sa(e,"dragover",this),sa(e,"dragenter",this)),rl.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),Go(this,La())}function Al(e,t,i,n,s,o,a,l){var r,d,c=e[Ea],u=c.options.onMove;return!window.CustomEvent||Zo||Qo?(r=document.createEvent("Event")).initEvent("move",!0,!0):r=new CustomEvent("move",{bubbles:!0,cancelable:!0}),r.to=t,r.from=e,r.dragged=i,r.draggedRect=n,r.related=s||t,r.relatedRect=o||ba(t),r.willInsertAfter=l,r.originalEvent=a,e.dispatchEvent(r),u&&(d=u.call(c,r,a)),d}function El(e){e.draggable=!1}function Ll(){pl=!1}function ql(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,i=t.length,n=0;i--;)n+=t.charCodeAt(i);return n.toString(36)}function Tl(e){return setTimeout(e,0)}function Ml(e){return clearTimeout(e)}kl.prototype={constructor:kl,_isOutsideThisEl:function(e){this.el.contains(e)||e===this.el||(il=null)},_getDirection:function(e,t){return"function"==typeof this.options.direction?this.options.direction.call(this,e,t,Ba):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,i=this.el,n=this.options,s=n.preventOnFilter,o=e.type,a=e.touches&&e.touches[0]||e.pointerType&&"touch"===e.pointerType&&e,l=(a||e).target,r=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||l,d=n.filter;if(function(e){hl.length=0;var t=e.getElementsByTagName("input"),i=t.length;for(;i--;){var n=t[i];n.checked&&hl.push(n)}}(i),!Ba&&!(/mousedown|pointerdown/.test(o)&&0!==e.button||n.disabled)&&!r.isContentEditable&&(this.nativeDraggable||!ea||!l||"SELECT"!==l.tagName.toUpperCase())&&!((l=ra(l,n.draggable,i,!1))&&l.animated||Ha===l)){if(Ua=xa(l),Wa=xa(l,n.draggable),"function"==typeof d){if(d.call(this,e,l,this))return Ia({sortable:t,rootEl:r,name:"filter",targetEl:l,toEl:i,fromEl:i}),Ra("filter",t,{evt:e}),void(s&&e.cancelable&&e.preventDefault())}else if(d&&(d=d.split(",").some((function(n){if(n=ra(r,n.trim(),i,!1))return Ia({sortable:t,rootEl:n,name:"filter",targetEl:l,fromEl:i,toEl:i}),Ra("filter",t,{evt:e}),!0}))))return void(s&&e.cancelable&&e.preventDefault());n.handle&&!ra(r,n.handle,i,!1)||this._prepareDragStart(e,a,l)}}},_prepareDragStart:function(e,t,i){var n,s=this,o=s.el,a=s.options,l=o.ownerDocument;if(i&&!Ba&&i.parentNode===o){var r=ba(i);if(za=o,Na=(Ba=i).parentNode,Pa=Ba.nextSibling,Ha=i,Xa=a.group,kl.dragged=Ba,Va={target:Ba,clientX:(t||e).clientX,clientY:(t||e).clientY},Ja=Va.clientX-r.left,el=Va.clientY-r.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,Ba.style["will-change"]="all",n=function(){Ra("delayEnded",s,{evt:e}),kl.eventCanceled?s._onDrop():(s._disableDelayedDragEvents(),!Jo&&s.nativeDraggable&&(Ba.draggable=!0),s._triggerDragStart(e,t),Ia({sortable:s,name:"choose",originalEvent:e}),ua(Ba,a.chosenClass,!0))},a.ignore.split(",").forEach((function(e){ma(Ba,e.trim(),El)})),sa(l,"dragover",Sl),sa(l,"mousemove",Sl),sa(l,"touchmove",Sl),sa(l,"mouseup",s._onDrop),sa(l,"touchend",s._onDrop),sa(l,"touchcancel",s._onDrop),Jo&&this.nativeDraggable&&(this.options.touchStartThreshold=4,Ba.draggable=!0),Ra("delayStart",this,{evt:e}),!a.delay||a.delayOnTouchOnly&&!t||this.nativeDraggable&&(Qo||Zo))n();else{if(kl.eventCanceled)return void this._onDrop();sa(l,"mouseup",s._disableDelayedDrag),sa(l,"touchend",s._disableDelayedDrag),sa(l,"touchcancel",s._disableDelayedDrag),sa(l,"mousemove",s._delayedDragTouchMoveHandler),sa(l,"touchmove",s._delayedDragTouchMoveHandler),a.supportPointer&&sa(l,"pointermove",s._delayedDragTouchMoveHandler),s._dragStartTimer=setTimeout(n,a.delay)}}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){Ba&&El(Ba),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;oa(e,"mouseup",this._disableDelayedDrag),oa(e,"touchend",this._disableDelayedDrag),oa(e,"touchcancel",this._disableDelayedDrag),oa(e,"mousemove",this._delayedDragTouchMoveHandler),oa(e,"touchmove",this._delayedDragTouchMoveHandler),oa(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||"touch"==e.pointerType&&e,!this.nativeDraggable||t?this.options.supportPointer?sa(document,"pointermove",this._onTouchMove):sa(document,t?"touchmove":"mousemove",this._onTouchMove):(sa(Ba,"dragend",this),sa(za,"dragstart",this._onDragStart));try{document.selection?Tl((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(e){}},_dragStarted:function(e,t){if(al=!1,za&&Ba){Ra("dragStarted",this,{evt:t}),this.nativeDraggable&&sa(document,"dragover",Cl);var i=this.options;!e&&ua(Ba,i.dragClass,!1),ua(Ba,i.ghostClass,!0),kl.active=this,e&&this._appendGhost(),Ia({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(Ka){this._lastX=Ka.clientX,this._lastY=Ka.clientY,_l();for(var e=document.elementFromPoint(Ka.clientX,Ka.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(Ka.clientX,Ka.clientY))!==t;)t=e;if(Ba.parentNode[Ea]._isOutsideThisEl(e),t)do{if(t[Ea]){if(t[Ea]._onDragOver({clientX:Ka.clientX,clientY:Ka.clientY,target:e,rootEl:t})&&!this.options.dragoverBubble)break}e=t}while(t=t.parentNode);wl()}},_onTouchMove:function(e){if(Va){var t=this.options,i=t.fallbackTolerance,n=t.fallbackOffset,s=e.touches?e.touches[0]:e,o=$a&&ha($a,!0),a=$a&&o&&o.a,l=$a&&o&&o.d,r=gl&&ol&&_a(ol),d=(s.clientX-Va.clientX+n.x)/(a||1)+(r?r[0]-ul[0]:0)/(a||1),c=(s.clientY-Va.clientY+n.y)/(l||1)+(r?r[1]-ul[1]:0)/(l||1);if(!kl.active&&!al){if(i&&Math.max(Math.abs(s.clientX-this._lastX),Math.abs(s.clientY-this._lastY))<i)return;this._onDragStart(e,!0)}if($a){o?(o.e+=d-(Za||0),o.f+=c-(Qa||0)):o={a:1,b:0,c:0,d:1,e:d,f:c};var u="matrix(".concat(o.a,",").concat(o.b,",").concat(o.c,",").concat(o.d,",").concat(o.e,",").concat(o.f,")");pa($a,"webkitTransform",u),pa($a,"mozTransform",u),pa($a,"msTransform",u),pa($a,"transform",u),Za=d,Qa=c,Ka=s}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!$a){var e=this.options.fallbackOnBody?document.body:za,t=ba(Ba,!0,gl,!0,e),i=this.options;if(gl){for(ol=e;"static"===pa(ol,"position")&&"none"===pa(ol,"transform")&&ol!==document;)ol=ol.parentNode;ol!==document.body&&ol!==document.documentElement?(ol===document&&(ol=ga()),t.top+=ol.scrollTop,t.left+=ol.scrollLeft):ol=ga(),ul=_a(ol)}ua($a=Ba.cloneNode(!0),i.ghostClass,!1),ua($a,i.fallbackClass,!0),ua($a,i.dragClass,!0),pa($a,"transition",""),pa($a,"transform",""),pa($a,"box-sizing","border-box"),pa($a,"margin",0),pa($a,"top",t.top),pa($a,"left",t.left),pa($a,"width",t.width),pa($a,"height",t.height),pa($a,"opacity","0.8"),pa($a,"position",gl?"absolute":"fixed"),pa($a,"zIndex","100000"),pa($a,"pointerEvents","none"),kl.ghost=$a,e.appendChild($a),pa($a,"transform-origin",Ja/parseInt($a.style.width)*100+"% "+el/parseInt($a.style.height)*100+"%")}},_onDragStart:function(e,t){var i=this,n=e.dataTransfer,s=i.options;Ra("dragStart",this,{evt:e}),kl.eventCanceled?this._onDrop():(Ra("setupClone",this),kl.eventCanceled||((Da=Aa(Ba)).draggable=!1,Da.style["will-change"]="",this._hideClone(),ua(Da,this.options.chosenClass,!1),kl.clone=Da),i.cloneId=Tl((function(){Ra("clone",i),kl.eventCanceled||(i.options.removeCloneOnHide||za.insertBefore(Da,Ba),i._hideClone(),Ia({sortable:i,name:"clone"}))})),!t&&ua(Ba,s.dragClass,!0),t?(ll=!0,i._loopId=setInterval(i._emulateDragOver,50)):(oa(document,"mouseup",i._onDrop),oa(document,"touchend",i._onDrop),oa(document,"touchcancel",i._onDrop),n&&(n.effectAllowed="move",s.setData&&s.setData.call(i,n,Ba)),sa(document,"drop",i),pa(Ba,"transform","translateZ(0)")),al=!0,i._dragStartId=Tl(i._dragStarted.bind(i,t,e)),sa(document,"selectstart",i),tl=!0,ea&&pa(document.body,"user-select","none"))},_onDragOver:function(e){var t,i,n,s,o=this.el,a=e.target,l=this.options,r=l.group,d=kl.active,c=Xa===r,u=l.sort,p=Ga||d,h=this,m=!1;if(!pl){if(void 0!==e.preventDefault&&e.cancelable&&e.preventDefault(),a=ra(a,l.draggable,o,!0),q("dragOver"),kl.eventCanceled)return m;if(Ba.contains(e.target)||a.animated&&a.animatingX&&a.animatingY||h._ignoreWhileAnimating===a)return M(!1);if(ll=!1,d&&!l.disabled&&(c?u||(n=Na!==za):Ga===this||(this.lastPutMode=Xa.checkPull(this,d,Ba,e))&&r.checkPut(this,d,Ba,e))){if(s="vertical"===this._getDirection(e,a),t=ba(Ba),q("dragOverValid"),kl.eventCanceled)return m;if(n)return Na=za,T(),this._hideClone(),q("revert"),kl.eventCanceled||(Pa?za.insertBefore(Ba,Pa):za.appendChild(Ba)),M(!0);var g=ya(o,l.draggable);if(!g||function(e,t,i){var n=ba(ya(i.el,i.options.draggable)),s=10;return t?e.clientX>n.right+s||e.clientX<=n.right&&e.clientY>n.bottom&&e.clientX>=n.left:e.clientX>n.right&&e.clientY>n.top||e.clientX<=n.right&&e.clientY>n.bottom+s}(e,s,this)&&!g.animated){if(g===Ba)return M(!1);if(g&&o===e.target&&(a=g),a&&(i=ba(a)),!1!==Al(za,o,Ba,t,a,i,e,!!a))return T(),o.appendChild(Ba),Na=o,O(),M(!0)}else if(g&&function(e,t,i){var n=ba(va(i.el,0,i.options,!0)),s=10;return t?e.clientX<n.left-s||e.clientY<n.top&&e.clientX<n.right:e.clientY<n.top-s||e.clientY<n.bottom&&e.clientX<n.left}(e,s,this)){var b=va(o,0,l,!0);if(b===Ba)return M(!1);if(i=ba(a=b),!1!==Al(za,o,Ba,t,a,i,e,!1))return T(),o.insertBefore(Ba,b),Na=o,O(),M(!0)}else if(a.parentNode===o){i=ba(a);var f,v,y,x=Ba.parentNode!==o,_=!function(e,t,i){var n=i?e.left:e.top,s=i?e.right:e.bottom,o=i?e.width:e.height,a=i?t.left:t.top,l=i?t.right:t.bottom,r=i?t.width:t.height;return n===a||s===l||n+o/2===a+r/2}(Ba.animated&&Ba.toRect||t,a.animated&&a.toRect||i,s),w=s?"top":"left",S=fa(a,"top","top")||fa(Ba,"top","top"),C=S?S.scrollTop:void 0;if(il!==a&&(v=i[w],dl=!1,cl=!_&&l.invertSwap||x),f=function(e,t,i,n,s,o,a,l){var r=n?e.clientY:e.clientX,d=n?i.height:i.width,c=n?i.top:i.left,u=n?i.bottom:i.right,p=!1;if(!a)if(l&&sl<d*s){if(!dl&&(1===nl?r>c+d*o/2:r<u-d*o/2)&&(dl=!0),dl)p=!0;else if(1===nl?r<c+sl:r>u-sl)return-nl}else if(r>c+d*(1-s)/2&&r<u-d*(1-s)/2)return function(e){return xa(Ba)<xa(e)?1:-1}(t);if((p=p||a)&&(r<c+d*o/2||r>u-d*o/2))return r>c+d/2?1:-1;return 0}(e,a,i,s,_?1:l.swapThreshold,null==l.invertedSwapThreshold?l.swapThreshold:l.invertedSwapThreshold,cl,il===a),0!==f){var k=xa(Ba);do{k-=f,y=Na.children[k]}while(y&&("none"===pa(y,"display")||y===$a))}if(0===f||y===a)return M(!1);il=a,nl=f;var A=a.nextElementSibling,E=!1,L=Al(za,o,Ba,t,a,i,e,E=1===f);if(!1!==L)return 1!==L&&-1!==L||(E=1===L),pl=!0,setTimeout(Ll,30),T(),E&&!A?o.appendChild(Ba):a.parentNode.insertBefore(Ba,E?A:a),S&&ka(S,0,C-S.scrollTop),Na=Ba.parentNode,void 0===v||cl||(sl=Math.abs(v-ba(a)[w])),O(),M(!0)}if(o.contains(Ba))return M(!1)}return!1}function q(l,r){Ra(l,h,Wo({evt:e,isOwner:c,axis:s?"vertical":"horizontal",revert:n,dragRect:t,targetRect:i,canSort:u,fromSortable:p,target:a,completed:M,onMove:function(i,n){return Al(za,o,Ba,t,i,ba(i),e,n)},changed:O},r))}function T(){q("dragOverAnimationCapture"),h.captureAnimationState(),h!==p&&p.captureAnimationState()}function M(t){return q("dragOverCompleted",{insertion:t}),t&&(c?d._hideClone():d._showClone(h),h!==p&&(ua(Ba,Ga?Ga.options.ghostClass:d.options.ghostClass,!1),ua(Ba,l.ghostClass,!0)),Ga!==h&&h!==kl.active?Ga=h:h===kl.active&&Ga&&(Ga=null),p===h&&(h._ignoreWhileAnimating=a),h.animateAll((function(){q("dragOverAnimationComplete"),h._ignoreWhileAnimating=null})),h!==p&&(p.animateAll(),p._ignoreWhileAnimating=null)),(a===Ba&&!Ba.animated||a===o&&!a.animated)&&(il=null),l.dragoverBubble||e.rootEl||a===document||(Ba.parentNode[Ea]._isOutsideThisEl(e.target),!t&&Sl(e)),!l.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),m=!0}function O(){Fa=xa(Ba),Ya=xa(Ba,l.draggable),Ia({sortable:h,name:"change",toEl:o,newIndex:Fa,newDraggableIndex:Ya,originalEvent:e})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){oa(document,"mousemove",this._onTouchMove),oa(document,"touchmove",this._onTouchMove),oa(document,"pointermove",this._onTouchMove),oa(document,"dragover",Sl),oa(document,"mousemove",Sl),oa(document,"touchmove",Sl)},_offUpEvents:function(){var e=this.el.ownerDocument;oa(e,"mouseup",this._onDrop),oa(e,"touchend",this._onDrop),oa(e,"pointerup",this._onDrop),oa(e,"touchcancel",this._onDrop),oa(document,"selectstart",this)},_onDrop:function(e){var t=this.el,i=this.options;Fa=xa(Ba),Ya=xa(Ba,i.draggable),Ra("drop",this,{evt:e}),Na=Ba&&Ba.parentNode,Fa=xa(Ba),Ya=xa(Ba,i.draggable),kl.eventCanceled||(al=!1,cl=!1,dl=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Ml(this.cloneId),Ml(this._dragStartId),this.nativeDraggable&&(oa(document,"drop",this),oa(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),ea&&pa(document.body,"user-select",""),pa(Ba,"transform",""),e&&(tl&&(e.cancelable&&e.preventDefault(),!i.dropBubble&&e.stopPropagation()),$a&&$a.parentNode&&$a.parentNode.removeChild($a),(za===Na||Ga&&"clone"!==Ga.lastPutMode)&&Da&&Da.parentNode&&Da.parentNode.removeChild(Da),Ba&&(this.nativeDraggable&&oa(Ba,"dragend",this),El(Ba),Ba.style["will-change"]="",tl&&!al&&ua(Ba,Ga?Ga.options.ghostClass:this.options.ghostClass,!1),ua(Ba,this.options.chosenClass,!1),Ia({sortable:this,name:"unchoose",toEl:Na,newIndex:null,newDraggableIndex:null,originalEvent:e}),za!==Na?(Fa>=0&&(Ia({rootEl:Na,name:"add",toEl:Na,fromEl:za,originalEvent:e}),Ia({sortable:this,name:"remove",toEl:Na,originalEvent:e}),Ia({rootEl:Na,name:"sort",toEl:Na,fromEl:za,originalEvent:e}),Ia({sortable:this,name:"sort",toEl:Na,originalEvent:e})),Ga&&Ga.save()):Fa!==Ua&&Fa>=0&&(Ia({sortable:this,name:"update",toEl:Na,originalEvent:e}),Ia({sortable:this,name:"sort",toEl:Na,originalEvent:e})),kl.active&&(null!=Fa&&-1!==Fa||(Fa=Ua,Ya=Wa),Ia({sortable:this,name:"end",toEl:Na,originalEvent:e}),this.save())))),this._nulling()},_nulling:function(){Ra("nulling",this),za=Ba=Na=$a=Pa=Da=Ha=ja=Va=Ka=tl=Fa=Ya=Ua=Wa=il=nl=Ga=Xa=kl.dragged=kl.ghost=kl.clone=kl.active=null,hl.forEach((function(e){e.checked=!0})),hl.length=Za=Qa=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":Ba&&(this._onDragOver(e),function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move");e.cancelable&&e.preventDefault()}(e));break;case"selectstart":e.preventDefault()}},toArray:function(){for(var e,t=[],i=this.el.children,n=0,s=i.length,o=this.options;n<s;n++)ra(e=i[n],o.draggable,this.el,!1)&&t.push(e.getAttribute(o.dataIdAttr)||ql(e));return t},sort:function(e,t){var i={},n=this.el;this.toArray().forEach((function(e,t){var s=n.children[t];ra(s,this.options.draggable,n,!1)&&(i[e]=s)}),this),t&&this.captureAnimationState(),e.forEach((function(e){i[e]&&(n.removeChild(i[e]),n.appendChild(i[e]))})),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return ra(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var i=this.options;if(void 0===t)return i[e];var n=Ma.modifyOption(this,e,t);i[e]=void 0!==n?n:t,"group"===e&&xl(i)},destroy:function(){Ra("destroy",this);var e=this.el;e[Ea]=null,oa(e,"mousedown",this._onTapStart),oa(e,"touchstart",this._onTapStart),oa(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(oa(e,"dragover",this),oa(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),(function(e){e.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),rl.splice(rl.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!ja){if(Ra("hideClone",this),kl.eventCanceled)return;pa(Da,"display","none"),this.options.removeCloneOnHide&&Da.parentNode&&Da.parentNode.removeChild(Da),ja=!0}},_showClone:function(e){if("clone"===e.lastPutMode){if(ja){if(Ra("showClone",this),kl.eventCanceled)return;Ba.parentNode!=za||this.options.group.revertClone?Pa?za.insertBefore(Da,Pa):za.appendChild(Da):za.insertBefore(Da,Ba),this.options.group.revertClone&&this.animate(Ba,Da),pa(Da,"display",""),ja=!1}}else this._hideClone()}},ml&&sa(document,"touchmove",(function(e){(kl.active||al)&&e.cancelable&&e.preventDefault()})),kl.utils={on:sa,off:oa,css:pa,find:ma,is:function(e,t){return!!ra(e,t,e,!1)},extend:function(e,t){if(e&&t)for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e},throttle:Ca,closest:ra,toggleClass:ua,clone:Aa,index:xa,nextTick:Tl,cancelNextTick:Ml,detectDirection:yl,getChild:va},kl.get=function(e){return e[Ea]},kl.mount=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];t[0].constructor===Array&&(t=t[0]),t.forEach((function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(e));e.utils&&(kl.utils=Wo(Wo({},kl.utils),e.utils)),Ma.mount(e)}))},kl.create=function(e,t){return new kl(e,t)},kl.version="1.14.0";var Ol,Rl,Il,Bl,Nl,$l,zl=[],Pl=!1;function Hl(){zl.forEach((function(e){clearInterval(e.pid)})),zl=[]}function Dl(){clearInterval($l)}var jl=Ca((function(e,t,i,n){if(t.scroll){var s,o=(e.touches?e.touches[0]:e).clientX,a=(e.touches?e.touches[0]:e).clientY,l=t.scrollSensitivity,r=t.scrollSpeed,d=ga(),c=!1;Rl!==i&&(Rl=i,Hl(),Ol=t.scroll,s=t.scrollFn,!0===Ol&&(Ol=wa(i,!0)));var u=0,p=Ol;do{var h=p,m=ba(h),g=m.top,b=m.bottom,f=m.left,v=m.right,y=m.width,x=m.height,_=void 0,w=void 0,S=h.scrollWidth,C=h.scrollHeight,k=pa(h),A=h.scrollLeft,E=h.scrollTop;h===d?(_=y<S&&("auto"===k.overflowX||"scroll"===k.overflowX||"visible"===k.overflowX),w=x<C&&("auto"===k.overflowY||"scroll"===k.overflowY||"visible"===k.overflowY)):(_=y<S&&("auto"===k.overflowX||"scroll"===k.overflowX),w=x<C&&("auto"===k.overflowY||"scroll"===k.overflowY));var L=_&&(Math.abs(v-o)<=l&&A+y<S)-(Math.abs(f-o)<=l&&!!A),q=w&&(Math.abs(b-a)<=l&&E+x<C)-(Math.abs(g-a)<=l&&!!E);if(!zl[u])for(var T=0;T<=u;T++)zl[T]||(zl[T]={});zl[u].vx==L&&zl[u].vy==q&&zl[u].el===h||(zl[u].el=h,zl[u].vx=L,zl[u].vy=q,clearInterval(zl[u].pid),0==L&&0==q||(c=!0,zl[u].pid=setInterval(function(){n&&0===this.layer&&kl.active._onTouchMove(Nl);var t=zl[this.layer].vy?zl[this.layer].vy*r:0,i=zl[this.layer].vx?zl[this.layer].vx*r:0;"function"==typeof s&&"continue"!==s.call(kl.dragged.parentNode[Ea],i,t,e,Nl,zl[this.layer].el)||ka(zl[this.layer].el,i,t)}.bind({layer:u}),24))),u++}while(t.bubbleScroll&&p!==d&&(p=wa(p,!1)));Pl=c}}),30),Ul=function(e){var t=e.originalEvent,i=e.putSortable,n=e.dragEl,s=e.activeSortable,o=e.dispatchSortableEvent,a=e.hideGhostForTarget,l=e.unhideGhostForTarget;if(t){var r=i||s;a();var d=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,c=document.elementFromPoint(d.clientX,d.clientY);l(),r&&!r.el.contains(c)&&(o("spill"),this.onSpill({dragEl:n,putSortable:i}))}};function Fl(){}function Wl(){}Fl.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,i=e.putSortable;this.sortable.captureAnimationState(),i&&i.captureAnimationState();var n=va(this.sortable.el,this.startIndex,this.options);n?this.sortable.el.insertBefore(t,n):this.sortable.el.appendChild(t),this.sortable.animateAll(),i&&i.animateAll()},drop:Ul},Go(Fl,{pluginName:"revertOnSpill"}),Wl.prototype={onSpill:function(e){var t=e.dragEl,i=e.putSortable||this.sortable;i.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),i.animateAll()},drop:Ul},Go(Wl,{pluginName:"removeOnSpill"}),kl.mount(new function(){function e(){for(var e in this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===e.charAt(0)&&"function"==typeof this[e]&&(this[e]=this[e].bind(this))}return e.prototype={dragStarted:function(e){var t=e.originalEvent;this.sortable.nativeDraggable?sa(document,"dragover",this._handleAutoScroll):this.options.supportPointer?sa(document,"pointermove",this._handleFallbackAutoScroll):t.touches?sa(document,"touchmove",this._handleFallbackAutoScroll):sa(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var t=e.originalEvent;this.options.dragOverBubble||t.rootEl||this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?oa(document,"dragover",this._handleAutoScroll):(oa(document,"pointermove",this._handleFallbackAutoScroll),oa(document,"touchmove",this._handleFallbackAutoScroll),oa(document,"mousemove",this._handleFallbackAutoScroll)),Dl(),Hl(),clearTimeout(da),da=void 0},nulling:function(){Nl=Rl=Ol=Pl=$l=Il=Bl=null,zl.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,t){var i=this,n=(e.touches?e.touches[0]:e).clientX,s=(e.touches?e.touches[0]:e).clientY,o=document.elementFromPoint(n,s);if(Nl=e,t||this.options.forceAutoScrollFallback||Qo||Zo||ea){jl(e,this.options,o,t);var a=wa(o,!0);!Pl||$l&&n===Il&&s===Bl||($l&&Dl(),$l=setInterval((function(){var o=wa(document.elementFromPoint(n,s),!0);o!==a&&(a=o,Hl()),jl(e,i.options,o,t)}),10),Il=n,Bl=s)}else{if(!this.options.bubbleScroll||wa(o,!0)===ga())return void Hl();jl(e,this.options,wa(o,!1),!1)}}},Go(e,{pluginName:"scroll",initializeByDefault:!0})}),kl.mount(Wl,Fl);const Yl=new si;class Xl{constructor(e){const[t,i]=e.children,n=t=>{if(!e)return document.removeEventListener("click",n);e.contains(t.target)||this.toggle(!1)},s=n=>{const s=n.textContent,o=n.getAttribute("data-value");t.textContent=s,this.value=o,this.toggle(!1),e.dispatchEvent(new Event("change")),t.focus(),Yl.elementChildren(i).forEach((e=>{Yl.removeClass(e,"selected")}));let a=i.querySelector('[data-value="'+o+'"]');a&&Yl.addClass(a,"selected")},o=e=>{e.preventDefault(),38===e.keyCode&&e.target.previousElementSibling?e.target.previousElementSibling.focus():40===e.keyCode&&e.target.nextElementSibling?e.target.nextElementSibling.focus():27===e.keyCode?(this.toggle(!1),t.focus()):13!==e.keyCode&&32!==e.keyCode||s(e.target)};t.addEventListener("keydown",(e=>{27===e.keyCode?(this.toggle(!1),e.preventDefault()):13!==e.keyCode&&32!==e.keyCode||(this.toggle(!0),e.preventDefault())})),t.addEventListener("click",(()=>this.toggle())),[...i.children].forEach((e=>{e.addEventListener("keydown",o),e.addEventListener("click",(()=>s(e)))})),this.element=e,this.value=t.getAttribute("data-value"),this.toggle=(s=null)=>{if(s=null===s?"true"!==i.getAttribute("aria-expanded"):s,i.setAttribute("aria-expanded",s),s){t.classList.add("active");let s=i.querySelector('[data-value="'+this.value+'"]');s&&(Yl.addClass(s,"selected"),s.focus()),document.addEventListener("click",n),e.dispatchEvent(new Event("opened"))}else t.classList.remove("active"),e.dispatchEvent(new Event("closed")),document.removeEventListener("click",n)}}}const Gl=e=>{const t=e.util,i=e.builderStuff,n=e.dom;let s="",o=e.opts.sidePanel;if("#divSnippetList"===e.opts.snippetList){const a=`<div id="divSnippetList" class="is-side ${"right"===o?"":" fromleft"} snippetlist scroll-darker" tabindex="-1" role="dialog" aria-modal="true" title="${t.out("Snippets")}">\n            </div>`;n.appendHtml(i,a),e.opts.snippetHandle||(s="display:none;")}else s="display:none;",o="left";let a="",l="",r="";if(e.opts.emailMode){l=e.opts.defaultEmailSnippetCategory;for(let i=0;i<e.opts.emailSnippetCategories.length;i++)r+='<li role="option" tabindex="0" data-value="'+e.opts.emailSnippetCategories[i][0]+'">'+t.out(e.opts.emailSnippetCategories[i][1])+"</li>",e.opts.emailSnippetCategories[i][0]===e.opts.defaultEmailSnippetCategory&&(a=e.opts.emailSnippetCategories[i][1])}else{l=e.opts.defaultSnippetCategory;for(let i=0;i<e.opts.snippetCategories.length;i++)r+='<li role="option" tabindex="0" data-value="'+e.opts.snippetCategories[i][0]+'">'+t.out(e.opts.snippetCategories[i][1])+"</li>",e.opts.snippetCategories[i][0]===e.opts.defaultSnippetCategory&&(a=e.opts.snippetCategories[i][1])}let d='<div class="is-dropdown selectsnippet" style="position:absolute;top:0;right:0;padding: 0;width:100%;z-index:2;"><button tabindex="0" class="dropdown-toggle no-outline" title="'+t.out("Snippet Categories")+'" type="button" aria-haspopup="true" data-value="'+l+'"><span>'+t.out(a)+'</span></button><ul class="dropdown-menu" role="listbox" title="'+t.out("Snippets")+'" aria-expanded="false">'+r+"</ul></div>"+("right"===o?'<div id="divSnippetScrollUp" role="button" tabindex="-1" style="top:calc(50% - 27px);right:25px;">&#9650;</div><div id="divSnippetScrollDown" role="button" tabindex="-1" style="top:calc(50% + 27px);right:25px;">&#9660;</div><div id="divSnippetHandle" role="button" tabindex="-1" title="'+t.out("Snippets")+'" data-title="'+t.out("Snippets")+'" style="'+s+'"><svg class="is-icon-flex"><use xlink:href="#ion-ios-arrow-left"></use></svg></div>':'<div id="divSnippetScrollUp" role="button" tabindex="-1" style="top:calc(50% - 27px);left:10px;">&#9650;</div><div id="divSnippetScrollDown" role="button" tabindex="-1" style="top:calc(50% + 27px);left:10px;">&#9660;</div><div id="divSnippetHandle" role="button" tabindex="-1" title="'+t.out("Snippets")+'" data-title="'+t.out("Snippets")+'" style="'+s+'"><svg class="is-icon-flex"><use xlink:href="#ion-ios-arrow-right"></use></svg></div>')+'<div class="is-design-list" tabindex="0"></div>',c=document.querySelector(e.opts.snippetList);n.appendHtml(c,d);const u=new Xl(c.querySelector(".selectsnippet"));u.element.addEventListener("change",(()=>{let i=u.value,s=p.querySelectorAll(".snippet-item"),o=!1;Array.prototype.forEach.call(s,(e=>{e.getAttribute("data-cat")===i&&(o=!0)})),o||e.opts.snippetJSON.snippets.forEach((e=>{e.category===i&&n.appendHtml(p,'<div class="snippet-item" data-id="'+e.id+'" data-cat="'+e.category+'"><img alt="'+t.out("Snippet")+'" alt="" src="'+h+e.thumbnail+'"><span class="is-overlay"></span></div>')})),i&&(Array.prototype.forEach.call(s,(e=>{n.addClass(e,"hide")})),Array.prototype.forEach.call(s,(e=>{e.getAttribute("data-cat")===i&&(e.className=e.className.replace(/hide/g,""))})))})),u.toggle(!1),"#divSnippetList"===e.opts.snippetList&&(c.querySelector(".selectsnippet").style.display="none",c.querySelector(".is-design-list").style.display="none",e.doc.addEventListener("click",e.doHideSnippetHandler=t=>{var i=(t=t||window.event).target||t.srcElement;if("auto"===e.opts.snippetsSidebarDisplay&&n.hasClass(c,"active")){n.parentsHasClass(i,"is-builder")&&function(e){const t=e.dom;let i=document.querySelector("#divSnippetList");const n=i.querySelector("#divSnippetHandle");t.removeClass(i,"active"),"right"===e.opts.sidePanel?n.innerHTML='<svg class="is-icon-flex" style="width:17px;height:17px;"><use xlink:href="#ion-ios-arrow-left"></use></svg>':n.innerHTML='<svg class="is-icon-flex" style="width:17px;height:17px;"><use xlink:href="#ion-ios-arrow-right"></use></svg>';setTimeout((()=>{i.querySelector(".selectsnippet").style.display="none",i.querySelector(".is-design-list").style.display="none"}),300)}
/*!
     * Cropper.js v1.5.12
     * https://fengyuanchen.github.io/cropperjs
     *
     * Copyright 2015-present Chen Fengyuan
     * Released under the MIT license
     *
     * Date: 2021-06-12T08:00:17.411Z
     */(e)}},!1));const p=document.querySelector(".is-design-list");let h=e.opts.snippetPath,m=e.opts.snippetJSON.snippets,g=e.opts.slider;if(null!=g)if("slick"===g){const t=e=>"glide"!==e.type;e.opts.snippetJSON.snippets=m.filter(t)}else if("glide"===g){const t=e=>"slick"!==e.type;e.opts.snippetJSON.snippets=m.filter(t)}else if("all"===g);else{const t=e=>"glide"!==e.type&&"slick"!==e.type;e.opts.snippetJSON.snippets=m.filter(t)}else{var b=!0;if(e.win.jQuery&&e.win.jQuery.fn.slick&&(b=!1),b){const e=m.filter((e=>"slick"!==e.type));m=[...e]}if(!e.win.Glide){const e=m.filter((e=>!(e.glide||"glide"===e.type)));m=[...e]}e.opts.snippetJSON.snippets=[...m]}let f,v=1;if(e.opts.emailMode?e.opts.snippetJSON.snippets.forEach((i=>{i.id=v,i.category===e.opts.defaultEmailSnippetCategory+""&&n.appendHtml(p,'<div class="snippet-item" data-id="'+i.id+'" data-cat="'+i.category+'"><img alt="'+t.out("Snippet")+'" src="'+h+i.thumbnail+'"><span class="is-overlay"></span></div>'),v++})):e.opts.snippetJSON.snippets.forEach((i=>{i.id=v,i.category===e.opts.defaultSnippetCategory+""&&n.appendHtml(p,'<div class="snippet-item" data-id="'+i.id+'" data-cat="'+i.category+'"><img alt="'+t.out("Snippet")+'" src="'+h+i.thumbnail+'"><span class="is-overlay"></span></div>'),v++})),new kl(p,{group:{name:"shared",pull:"clone",put:!1},sort:!1,animation:150,onChoose:()=>{const t='\n            <style id="css-scale">\n                .sortable-ghost {\n                    height: 50px;\n                }\n                .sortable-ghost * {\n                    display: none\n                }\n            </style>\n            ';if(e.iframe){const i=e.contentStuff.querySelector("#css-scale");i&&i.parentNode.removeChild(i),e.contentStuff.insertAdjacentHTML("afterbegin",t)}else{const i=e.builderStuff.querySelector("#css-scale");i&&i.parentNode.removeChild(i),e.builderStuff.insertAdjacentHTML("afterbegin",t)}e.sectionDropSetup()},onMove:()=>{let t=e.doc.querySelector(".row-add-initial");t&&(t.style.display="none")},onStart:()=>{f=null;const t=e.doc.querySelector(".builder-active");t&&(f=t,n.removeClass(f,"builder-active")),e.uo.saveForUndo();let i=document.querySelector(".is-sidebar-overlay");i&&(i.style.display="none")},onEnd:()=>{let i=document.querySelector(".is-sidebar-overlay");i&&(i.style.display="block"),t.checkEmpty();let s=e.doc.querySelector(".row-add-initial");s&&(s.style.display=""),f&&n.addClass(f,"builder-active"),e.sortableOnPage&&e.sortableOnPage.destroy()}}),"#divSnippetList"===e.opts.snippetList){const i=c.querySelector("#divSnippetHandle");n.addEventListener(i,"click",(()=>{Vl(e),t.clearActiveCell(),t.clearControls()}));const s=window.innerWidth;e.opts.snippetOpen&&s>=960&&(c.style.cssText="transition: all ease 0.8s;",setTimeout((function(){Vl(e)}),100),setTimeout((function(){c.style.cssText=""}),1300))}let y=c.querySelector("#divSnippetScrollUp"),x=c.querySelector("#divSnippetScrollDown");y.style.display="none",x.style.display="none"};function Vl(e){const t=e.dom;let i=document.querySelector("#divSnippetList");const n=i.querySelector("#divSnippetHandle");t.hasClass(i,"active")?(t.removeClass(i,"active"),"right"===e.opts.sidePanel?n.innerHTML='<svg class="is-icon-flex" style="width:17px;height:17px;"><use xlink:href="#ion-ios-arrow-left"></use></svg>':n.innerHTML='<svg class="is-icon-flex" style="width:17px;height:17px;"><use xlink:href="#ion-ios-arrow-right"></use></svg>',setTimeout((()=>{i.querySelector(".selectsnippet").style.display="none",i.querySelector(".is-design-list").style.display="none"}),300)):(i.querySelector(".selectsnippet").style.display="block",i.querySelector(".is-design-list").style.display="block",setTimeout((()=>{t.addClass(i,"active"),"right"===e.opts.sidePanel?n.innerHTML='<svg class="is-icon-flex" style="width:17px;height:17px;"><use xlink:href="#ion-ios-arrow-right"></use></svg>':n.innerHTML='<svg class="is-icon-flex" style="width:17px;height:17px;"><use xlink:href="#ion-ios-arrow-left"></use></svg>'}),10))}function Kl(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function Zl(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Kl(Object(i),!0).forEach((function(t){tr(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Kl(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function Ql(e){return Ql="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ql(e)}function Jl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function er(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function tr(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function ir(e){return function(e){if(Array.isArray(e))return nr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return nr(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return nr(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nr(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}var sr="undefined"!=typeof window&&void 0!==window.document,or=sr?window:{},ar=!(!sr||!or.document.documentElement)&&"ontouchstart"in or.document.documentElement,lr=!!sr&&"PointerEvent"in or,rr="cropper",dr="all",cr="crop",ur="move",pr="zoom",hr="e",mr="w",gr="s",br="n",fr="ne",vr="nw",yr="se",xr="sw",_r="".concat(rr,"-crop"),wr="".concat(rr,"-disabled"),Sr="".concat(rr,"-hidden"),Cr="".concat(rr,"-hide"),kr="".concat(rr,"-invisible"),Ar="".concat(rr,"-modal"),Er="".concat(rr,"-move"),Lr="".concat(rr,"Action"),qr="".concat(rr,"Preview"),Tr="crop",Mr="move",Or="none",Rr="crop",Ir="cropend",Br="cropmove",Nr="cropstart",$r="dblclick",zr=lr?"pointerdown":ar?"touchstart":"mousedown",Pr=lr?"pointermove":ar?"touchmove":"mousemove",Hr=lr?"pointerup pointercancel":ar?"touchend touchcancel":"mouseup",Dr="ready",jr="resize",Ur="wheel",Fr="zoom",Wr="image/jpeg",Yr=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,Xr=/^data:/,Gr=/^data:image\/jpeg;base64,/,Vr=/^img|canvas$/i,Kr={viewMode:0,dragMode:Tr,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},Zr=Number.isNaN||or.isNaN;function Qr(e){return"number"==typeof e&&!Zr(e)}var Jr=function(e){return e>0&&e<1/0};function ed(e){return void 0===e}function td(e){return"object"===Ql(e)&&null!==e}var id=Object.prototype.hasOwnProperty;function nd(e){if(!td(e))return!1;try{var t=e.constructor,i=t.prototype;return t&&i&&id.call(i,"isPrototypeOf")}catch(e){return!1}}function sd(e){return"function"==typeof e}var od=Array.prototype.slice;function ad(e){return Array.from?Array.from(e):od.call(e)}function ld(e,t){return e&&sd(t)&&(Array.isArray(e)||Qr(e.length)?ad(e).forEach((function(i,n){t.call(e,i,n,e)})):td(e)&&Object.keys(e).forEach((function(i){t.call(e,e[i],i,e)}))),e}var rd=Object.assign||function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return td(e)&&i.length>0&&i.forEach((function(t){td(t)&&Object.keys(t).forEach((function(i){e[i]=t[i]}))})),e},dd=/\.\d*(?:0|9){12}\d*$/;function cd(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e11;return dd.test(e)?Math.round(e*t)/t:e}var ud=/^width|height|left|top|marginLeft|marginTop$/;function pd(e,t){var i=e.style;ld(t,(function(e,t){ud.test(t)&&Qr(e)&&(e="".concat(e,"px")),i[t]=e}))}function hd(e,t){if(t)if(Qr(e.length))ld(e,(function(e){hd(e,t)}));else if(e.classList)e.classList.add(t);else{var i=e.className.trim();i?i.indexOf(t)<0&&(e.className="".concat(i," ").concat(t)):e.className=t}}function md(e,t){t&&(Qr(e.length)?ld(e,(function(e){md(e,t)})):e.classList?e.classList.remove(t):e.className.indexOf(t)>=0&&(e.className=e.className.replace(t,"")))}function gd(e,t,i){t&&(Qr(e.length)?ld(e,(function(e){gd(e,t,i)})):i?hd(e,t):md(e,t))}var bd=/([a-z\d])([A-Z])/g;function fd(e){return e.replace(bd,"$1-$2").toLowerCase()}function vd(e,t){return td(e[t])?e[t]:e.dataset?e.dataset[t]:e.getAttribute("data-".concat(fd(t)))}function yd(e,t,i){td(i)?e[t]=i:e.dataset?e.dataset[t]=i:e.setAttribute("data-".concat(fd(t)),i)}var xd=/\s\s*/,_d=function(){var e=!1;if(sr){var t=!1,i=function(){},n=Object.defineProperty({},"once",{get:function(){return e=!0,t},set:function(e){t=e}});or.addEventListener("test",i,n),or.removeEventListener("test",i,n)}return e}();function wd(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=i;t.trim().split(xd).forEach((function(t){if(!_d){var o=e.listeners;o&&o[t]&&o[t][i]&&(s=o[t][i],delete o[t][i],0===Object.keys(o[t]).length&&delete o[t],0===Object.keys(o).length&&delete e.listeners)}e.removeEventListener(t,s,n)}))}function Sd(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=i;t.trim().split(xd).forEach((function(t){if(n.once&&!_d){var o=e.listeners,a=void 0===o?{}:o;s=function(){delete a[t][i],e.removeEventListener(t,s,n);for(var o=arguments.length,l=new Array(o),r=0;r<o;r++)l[r]=arguments[r];i.apply(e,l)},a[t]||(a[t]={}),a[t][i]&&e.removeEventListener(t,a[t][i],n),a[t][i]=s,e.listeners=a}e.addEventListener(t,s,n)}))}function Cd(e,t,i){var n;return sd(Event)&&sd(CustomEvent)?n=new CustomEvent(t,{detail:i,bubbles:!0,cancelable:!0}):(n=document.createEvent("CustomEvent")).initCustomEvent(t,!0,!0,i),e.dispatchEvent(n)}function kd(e){var t=e.getBoundingClientRect();return{left:t.left+(window.pageXOffset-document.documentElement.clientLeft),top:t.top+(window.pageYOffset-document.documentElement.clientTop)}}var Ad=or.location,Ed=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function Ld(e){var t=e.match(Ed);return null!==t&&(t[1]!==Ad.protocol||t[2]!==Ad.hostname||t[3]!==Ad.port)}function qd(e){var t="timestamp=".concat((new Date).getTime());return e+(-1===e.indexOf("?")?"?":"&")+t}function Td(e){var t=e.rotate,i=e.scaleX,n=e.scaleY,s=e.translateX,o=e.translateY,a=[];Qr(s)&&0!==s&&a.push("translateX(".concat(s,"px)")),Qr(o)&&0!==o&&a.push("translateY(".concat(o,"px)")),Qr(t)&&0!==t&&a.push("rotate(".concat(t,"deg)")),Qr(i)&&1!==i&&a.push("scaleX(".concat(i,")")),Qr(n)&&1!==n&&a.push("scaleY(".concat(n,")"));var l=a.length?a.join(" "):"none";return{WebkitTransform:l,msTransform:l,transform:l}}function Md(e,t){var i=e.pageX,n=e.pageY,s={endX:i,endY:n};return t?s:Zl({startX:i,startY:n},s)}function Od(e){var t=e.aspectRatio,i=e.height,n=e.width,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"contain",o=Jr(n),a=Jr(i);if(o&&a){var l=i*t;"contain"===s&&l>n||"cover"===s&&l<n?i=n/t:n=i*t}else o?i=n/t:a&&(n=i*t);return{width:n,height:i}}function Rd(e,t,i,n){var s=t.aspectRatio,o=t.naturalWidth,a=t.naturalHeight,l=t.rotate,r=void 0===l?0:l,d=t.scaleX,c=void 0===d?1:d,u=t.scaleY,p=void 0===u?1:u,h=i.aspectRatio,m=i.naturalWidth,g=i.naturalHeight,b=n.fillColor,f=void 0===b?"transparent":b,v=n.imageSmoothingEnabled,y=void 0===v||v,x=n.imageSmoothingQuality,_=void 0===x?"low":x,w=n.maxWidth,S=void 0===w?1/0:w,C=n.maxHeight,k=void 0===C?1/0:C,A=n.minWidth,E=void 0===A?0:A,L=n.minHeight,q=void 0===L?0:L,T=document.createElement("canvas"),M=T.getContext("2d"),O=Od({aspectRatio:h,width:S,height:k}),R=Od({aspectRatio:h,width:E,height:q},"cover"),I=Math.min(O.width,Math.max(R.width,m)),B=Math.min(O.height,Math.max(R.height,g)),N=Od({aspectRatio:s,width:S,height:k}),$=Od({aspectRatio:s,width:E,height:q},"cover"),z=Math.min(N.width,Math.max($.width,o)),P=Math.min(N.height,Math.max($.height,a)),H=[-z/2,-P/2,z,P];return T.width=cd(I),T.height=cd(B),M.fillStyle=f,M.fillRect(0,0,I,B),M.save(),M.translate(I/2,B/2),M.rotate(r*Math.PI/180),M.scale(c,p),M.imageSmoothingEnabled=y,M.imageSmoothingQuality=_,M.drawImage.apply(M,[e].concat(ir(H.map((function(e){return Math.floor(cd(e))}))))),M.restore(),T}var Id=String.fromCharCode;var Bd=/^data:.*,/;function Nd(e){var t,i=new DataView(e);try{var n,s,o;if(255===i.getUint8(0)&&216===i.getUint8(1))for(var a=i.byteLength,l=2;l+1<a;){if(255===i.getUint8(l)&&225===i.getUint8(l+1)){s=l;break}l+=1}if(s){var r=s+10;if("Exif"===function(e,t,i){var n="";i+=t;for(var s=t;s<i;s+=1)n+=Id(e.getUint8(s));return n}(i,s+4,4)){var d=i.getUint16(r);if(((n=18761===d)||19789===d)&&42===i.getUint16(r+2,n)){var c=i.getUint32(r+4,n);c>=8&&(o=r+c)}}}if(o){var u,p,h=i.getUint16(o,n);for(p=0;p<h;p+=1)if(u=o+12*p+2,274===i.getUint16(u,n)){u+=8,t=i.getUint16(u,n),i.setUint16(u,1,n);break}}}catch(e){t=1}return t}var $d={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var e=this.element,t=this.options,i=this.container,n=this.cropper,s=Number(t.minContainerWidth),o=Number(t.minContainerHeight);hd(n,Sr),md(e,Sr);var a={width:Math.max(i.offsetWidth,s>=0?s:200),height:Math.max(i.offsetHeight,o>=0?o:100)};this.containerData=a,pd(n,{width:a.width,height:a.height}),hd(e,Sr),md(n,Sr)},initCanvas:function(){var e=this.containerData,t=this.imageData,i=this.options.viewMode,n=Math.abs(t.rotate)%180==90,s=n?t.naturalHeight:t.naturalWidth,o=n?t.naturalWidth:t.naturalHeight,a=s/o,l=e.width,r=e.height;e.height*a>e.width?3===i?l=e.height*a:r=e.width/a:3===i?r=e.width/a:l=e.height*a;var d={aspectRatio:a,naturalWidth:s,naturalHeight:o,width:l,height:r};this.canvasData=d,this.limited=1===i||2===i,this.limitCanvas(!0,!0),d.width=Math.min(Math.max(d.width,d.minWidth),d.maxWidth),d.height=Math.min(Math.max(d.height,d.minHeight),d.maxHeight),d.left=(e.width-d.width)/2,d.top=(e.height-d.height)/2,d.oldLeft=d.left,d.oldTop=d.top,this.initialCanvasData=rd({},d)},limitCanvas:function(e,t){var i=this.options,n=this.containerData,s=this.canvasData,o=this.cropBoxData,a=i.viewMode,l=s.aspectRatio,r=this.cropped&&o;if(e){var d=Number(i.minCanvasWidth)||0,c=Number(i.minCanvasHeight)||0;a>1?(d=Math.max(d,n.width),c=Math.max(c,n.height),3===a&&(c*l>d?d=c*l:c=d/l)):a>0&&(d?d=Math.max(d,r?o.width:0):c?c=Math.max(c,r?o.height:0):r&&(d=o.width,(c=o.height)*l>d?d=c*l:c=d/l));var u=Od({aspectRatio:l,width:d,height:c});d=u.width,c=u.height,s.minWidth=d,s.minHeight=c,s.maxWidth=1/0,s.maxHeight=1/0}if(t)if(a>(r?0:1)){var p=n.width-s.width,h=n.height-s.height;s.minLeft=Math.min(0,p),s.minTop=Math.min(0,h),s.maxLeft=Math.max(0,p),s.maxTop=Math.max(0,h),r&&this.limited&&(s.minLeft=Math.min(o.left,o.left+(o.width-s.width)),s.minTop=Math.min(o.top,o.top+(o.height-s.height)),s.maxLeft=o.left,s.maxTop=o.top,2===a&&(s.width>=n.width&&(s.minLeft=Math.min(0,p),s.maxLeft=Math.max(0,p)),s.height>=n.height&&(s.minTop=Math.min(0,h),s.maxTop=Math.max(0,h))))}else s.minLeft=-s.width,s.minTop=-s.height,s.maxLeft=n.width,s.maxTop=n.height},renderCanvas:function(e,t){var i=this.canvasData,n=this.imageData;if(t){var s=function(e){var t=e.width,i=e.height,n=e.degree;if(90==(n=Math.abs(n)%180))return{width:i,height:t};var s=n%90*Math.PI/180,o=Math.sin(s),a=Math.cos(s),l=t*a+i*o,r=t*o+i*a;return n>90?{width:r,height:l}:{width:l,height:r}}({width:n.naturalWidth*Math.abs(n.scaleX||1),height:n.naturalHeight*Math.abs(n.scaleY||1),degree:n.rotate||0}),o=s.width,a=s.height,l=i.width*(o/i.naturalWidth),r=i.height*(a/i.naturalHeight);i.left-=(l-i.width)/2,i.top-=(r-i.height)/2,i.width=l,i.height=r,i.aspectRatio=o/a,i.naturalWidth=o,i.naturalHeight=a,this.limitCanvas(!0,!1)}(i.width>i.maxWidth||i.width<i.minWidth)&&(i.left=i.oldLeft),(i.height>i.maxHeight||i.height<i.minHeight)&&(i.top=i.oldTop),i.width=Math.min(Math.max(i.width,i.minWidth),i.maxWidth),i.height=Math.min(Math.max(i.height,i.minHeight),i.maxHeight),this.limitCanvas(!1,!0),i.left=Math.min(Math.max(i.left,i.minLeft),i.maxLeft),i.top=Math.min(Math.max(i.top,i.minTop),i.maxTop),i.oldLeft=i.left,i.oldTop=i.top,pd(this.canvas,rd({width:i.width,height:i.height},Td({translateX:i.left,translateY:i.top}))),this.renderImage(e),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(e){var t=this.canvasData,i=this.imageData,n=i.naturalWidth*(t.width/t.naturalWidth),s=i.naturalHeight*(t.height/t.naturalHeight);rd(i,{width:n,height:s,left:(t.width-n)/2,top:(t.height-s)/2}),pd(this.image,rd({width:i.width,height:i.height},Td(rd({translateX:i.left,translateY:i.top},i)))),e&&this.output()},initCropBox:function(){var e=this.options,t=this.canvasData,i=e.aspectRatio||e.initialAspectRatio,n=Number(e.autoCropArea)||.8,s={width:t.width,height:t.height};i&&(t.height*i>t.width?s.height=s.width/i:s.width=s.height*i),this.cropBoxData=s,this.limitCropBox(!0,!0),s.width=Math.min(Math.max(s.width,s.minWidth),s.maxWidth),s.height=Math.min(Math.max(s.height,s.minHeight),s.maxHeight),s.width=Math.max(s.minWidth,s.width*n),s.height=Math.max(s.minHeight,s.height*n),s.left=t.left+(t.width-s.width)/2,s.top=t.top+(t.height-s.height)/2,s.oldLeft=s.left,s.oldTop=s.top,this.initialCropBoxData=rd({},s)},limitCropBox:function(e,t){var i=this.options,n=this.containerData,s=this.canvasData,o=this.cropBoxData,a=this.limited,l=i.aspectRatio;if(e){var r=Number(i.minCropBoxWidth)||0,d=Number(i.minCropBoxHeight)||0,c=a?Math.min(n.width,s.width,s.width+s.left,n.width-s.left):n.width,u=a?Math.min(n.height,s.height,s.height+s.top,n.height-s.top):n.height;r=Math.min(r,n.width),d=Math.min(d,n.height),l&&(r&&d?d*l>r?d=r/l:r=d*l:r?d=r/l:d&&(r=d*l),u*l>c?u=c/l:c=u*l),o.minWidth=Math.min(r,c),o.minHeight=Math.min(d,u),o.maxWidth=c,o.maxHeight=u}t&&(a?(o.minLeft=Math.max(0,s.left),o.minTop=Math.max(0,s.top),o.maxLeft=Math.min(n.width,s.left+s.width)-o.width,o.maxTop=Math.min(n.height,s.top+s.height)-o.height):(o.minLeft=0,o.minTop=0,o.maxLeft=n.width-o.width,o.maxTop=n.height-o.height))},renderCropBox:function(){var e=this.options,t=this.containerData,i=this.cropBoxData;(i.width>i.maxWidth||i.width<i.minWidth)&&(i.left=i.oldLeft),(i.height>i.maxHeight||i.height<i.minHeight)&&(i.top=i.oldTop),i.width=Math.min(Math.max(i.width,i.minWidth),i.maxWidth),i.height=Math.min(Math.max(i.height,i.minHeight),i.maxHeight),this.limitCropBox(!1,!0),i.left=Math.min(Math.max(i.left,i.minLeft),i.maxLeft),i.top=Math.min(Math.max(i.top,i.minTop),i.maxTop),i.oldLeft=i.left,i.oldTop=i.top,e.movable&&e.cropBoxMovable&&yd(this.face,Lr,i.width>=t.width&&i.height>=t.height?ur:dr),pd(this.cropBox,rd({width:i.width,height:i.height},Td({translateX:i.left,translateY:i.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),Cd(this.element,Rr,this.getData())}},zd={initPreview:function(){var e=this.element,t=this.crossOrigin,i=this.options.preview,n=t?this.crossOriginUrl:this.url,s=e.alt||"The image to preview",o=document.createElement("img");if(t&&(o.crossOrigin=t),o.src=n,o.alt=s,this.viewBox.appendChild(o),this.viewBoxImage=o,i){var a=i;"string"==typeof i?a=e.ownerDocument.querySelectorAll(i):i.querySelector&&(a=[i]),this.previews=a,ld(a,(function(e){var i=document.createElement("img");yd(e,qr,{width:e.offsetWidth,height:e.offsetHeight,html:e.innerHTML}),t&&(i.crossOrigin=t),i.src=n,i.alt=s,i.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',e.innerHTML="",e.appendChild(i)}))}},resetPreview:function(){ld(this.previews,(function(e){var t=vd(e,qr);pd(e,{width:t.width,height:t.height}),e.innerHTML=t.html,function(e,t){if(td(e[t]))try{delete e[t]}catch(i){e[t]=void 0}else if(e.dataset)try{delete e.dataset[t]}catch(i){e.dataset[t]=void 0}else e.removeAttribute("data-".concat(fd(t)))}(e,qr)}))},preview:function(){var e=this.imageData,t=this.canvasData,i=this.cropBoxData,n=i.width,s=i.height,o=e.width,a=e.height,l=i.left-t.left-e.left,r=i.top-t.top-e.top;this.cropped&&!this.disabled&&(pd(this.viewBoxImage,rd({width:o,height:a},Td(rd({translateX:-l,translateY:-r},e)))),ld(this.previews,(function(t){var i=vd(t,qr),d=i.width,c=i.height,u=d,p=c,h=1;n&&(p=s*(h=d/n)),s&&p>c&&(u=n*(h=c/s),p=c),pd(t,{width:u,height:p}),pd(t.getElementsByTagName("img")[0],rd({width:o*h,height:a*h},Td(rd({translateX:-l*h,translateY:-r*h},e))))})))}},Pd={bind:function(){var e=this.element,t=this.options,i=this.cropper;sd(t.cropstart)&&Sd(e,Nr,t.cropstart),sd(t.cropmove)&&Sd(e,Br,t.cropmove),sd(t.cropend)&&Sd(e,Ir,t.cropend),sd(t.crop)&&Sd(e,Rr,t.crop),sd(t.zoom)&&Sd(e,Fr,t.zoom),Sd(i,zr,this.onCropStart=this.cropStart.bind(this)),t.zoomable&&t.zoomOnWheel&&Sd(i,Ur,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),t.toggleDragModeOnDblclick&&Sd(i,$r,this.onDblclick=this.dblclick.bind(this)),Sd(e.ownerDocument,Pr,this.onCropMove=this.cropMove.bind(this)),Sd(e.ownerDocument,Hr,this.onCropEnd=this.cropEnd.bind(this)),t.responsive&&Sd(window,jr,this.onResize=this.resize.bind(this))},unbind:function(){var e=this.element,t=this.options,i=this.cropper;sd(t.cropstart)&&wd(e,Nr,t.cropstart),sd(t.cropmove)&&wd(e,Br,t.cropmove),sd(t.cropend)&&wd(e,Ir,t.cropend),sd(t.crop)&&wd(e,Rr,t.crop),sd(t.zoom)&&wd(e,Fr,t.zoom),wd(i,zr,this.onCropStart),t.zoomable&&t.zoomOnWheel&&wd(i,Ur,this.onWheel,{passive:!1,capture:!0}),t.toggleDragModeOnDblclick&&wd(i,$r,this.onDblclick),wd(e.ownerDocument,Pr,this.onCropMove),wd(e.ownerDocument,Hr,this.onCropEnd),t.responsive&&wd(window,jr,this.onResize)}},Hd={resize:function(){if(!this.disabled){var e,t,i=this.options,n=this.container,s=this.containerData,o=n.offsetWidth/s.width,a=n.offsetHeight/s.height,l=Math.abs(o-1)>Math.abs(a-1)?o:a;if(1!==l)i.restore&&(e=this.getCanvasData(),t=this.getCropBoxData()),this.render(),i.restore&&(this.setCanvasData(ld(e,(function(t,i){e[i]=t*l}))),this.setCropBoxData(ld(t,(function(e,i){t[i]=e*l}))))}},dblclick:function(){var e,t;this.disabled||this.options.dragMode===Or||this.setDragMode((e=this.dragBox,t=_r,(e.classList?e.classList.contains(t):e.className.indexOf(t)>-1)?Mr:Tr))},wheel:function(e){var t=this,i=Number(this.options.wheelZoomRatio)||.1,n=1;this.disabled||(e.preventDefault(),this.wheeling||(this.wheeling=!0,setTimeout((function(){t.wheeling=!1}),50),e.deltaY?n=e.deltaY>0?1:-1:e.wheelDelta?n=-e.wheelDelta/120:e.detail&&(n=e.detail>0?1:-1),this.zoom(-n*i,e)))},cropStart:function(e){var t=e.buttons,i=e.button;if(!(this.disabled||("mousedown"===e.type||"pointerdown"===e.type&&"mouse"===e.pointerType)&&(Qr(t)&&1!==t||Qr(i)&&0!==i||e.ctrlKey))){var n,s=this.options,o=this.pointers;e.changedTouches?ld(e.changedTouches,(function(e){o[e.identifier]=Md(e)})):o[e.pointerId||0]=Md(e),n=Object.keys(o).length>1&&s.zoomable&&s.zoomOnTouch?pr:vd(e.target,Lr),Yr.test(n)&&!1!==Cd(this.element,Nr,{originalEvent:e,action:n})&&(e.preventDefault(),this.action=n,this.cropping=!1,n===cr&&(this.cropping=!0,hd(this.dragBox,Ar)))}},cropMove:function(e){var t=this.action;if(!this.disabled&&t){var i=this.pointers;e.preventDefault(),!1!==Cd(this.element,Br,{originalEvent:e,action:t})&&(e.changedTouches?ld(e.changedTouches,(function(e){rd(i[e.identifier]||{},Md(e,!0))})):rd(i[e.pointerId||0]||{},Md(e,!0)),this.change(e))}},cropEnd:function(e){if(!this.disabled){var t=this.action,i=this.pointers;e.changedTouches?ld(e.changedTouches,(function(e){delete i[e.identifier]})):delete i[e.pointerId||0],t&&(e.preventDefault(),Object.keys(i).length||(this.action=""),this.cropping&&(this.cropping=!1,gd(this.dragBox,Ar,this.cropped&&this.options.modal)),Cd(this.element,Ir,{originalEvent:e,action:t}))}}},Dd={change:function(e){var t,i=this.options,n=this.canvasData,s=this.containerData,o=this.cropBoxData,a=this.pointers,l=this.action,r=i.aspectRatio,d=o.left,c=o.top,u=o.width,p=o.height,h=d+u,m=c+p,g=0,b=0,f=s.width,v=s.height,y=!0;!r&&e.shiftKey&&(r=u&&p?u/p:1),this.limited&&(g=o.minLeft,b=o.minTop,f=g+Math.min(s.width,n.width,n.left+n.width),v=b+Math.min(s.height,n.height,n.top+n.height));var x=a[Object.keys(a)[0]],_={x:x.endX-x.startX,y:x.endY-x.startY},w=function(e){switch(e){case hr:h+_.x>f&&(_.x=f-h);break;case mr:d+_.x<g&&(_.x=g-d);break;case br:c+_.y<b&&(_.y=b-c);break;case gr:m+_.y>v&&(_.y=v-m)}};switch(l){case dr:d+=_.x,c+=_.y;break;case hr:if(_.x>=0&&(h>=f||r&&(c<=b||m>=v))){y=!1;break}w(hr),(u+=_.x)<0&&(l=mr,d-=u=-u),r&&(p=u/r,c+=(o.height-p)/2);break;case br:if(_.y<=0&&(c<=b||r&&(d<=g||h>=f))){y=!1;break}w(br),p-=_.y,c+=_.y,p<0&&(l=gr,c-=p=-p),r&&(u=p*r,d+=(o.width-u)/2);break;case mr:if(_.x<=0&&(d<=g||r&&(c<=b||m>=v))){y=!1;break}w(mr),u-=_.x,d+=_.x,u<0&&(l=hr,d-=u=-u),r&&(p=u/r,c+=(o.height-p)/2);break;case gr:if(_.y>=0&&(m>=v||r&&(d<=g||h>=f))){y=!1;break}w(gr),(p+=_.y)<0&&(l=br,c-=p=-p),r&&(u=p*r,d+=(o.width-u)/2);break;case fr:if(r){if(_.y<=0&&(c<=b||h>=f)){y=!1;break}w(br),p-=_.y,c+=_.y,u=p*r}else w(br),w(hr),_.x>=0?h<f?u+=_.x:_.y<=0&&c<=b&&(y=!1):u+=_.x,_.y<=0?c>b&&(p-=_.y,c+=_.y):(p-=_.y,c+=_.y);u<0&&p<0?(l=xr,c-=p=-p,d-=u=-u):u<0?(l=vr,d-=u=-u):p<0&&(l=yr,c-=p=-p);break;case vr:if(r){if(_.y<=0&&(c<=b||d<=g)){y=!1;break}w(br),p-=_.y,c+=_.y,u=p*r,d+=o.width-u}else w(br),w(mr),_.x<=0?d>g?(u-=_.x,d+=_.x):_.y<=0&&c<=b&&(y=!1):(u-=_.x,d+=_.x),_.y<=0?c>b&&(p-=_.y,c+=_.y):(p-=_.y,c+=_.y);u<0&&p<0?(l=yr,c-=p=-p,d-=u=-u):u<0?(l=fr,d-=u=-u):p<0&&(l=xr,c-=p=-p);break;case xr:if(r){if(_.x<=0&&(d<=g||m>=v)){y=!1;break}w(mr),u-=_.x,d+=_.x,p=u/r}else w(gr),w(mr),_.x<=0?d>g?(u-=_.x,d+=_.x):_.y>=0&&m>=v&&(y=!1):(u-=_.x,d+=_.x),_.y>=0?m<v&&(p+=_.y):p+=_.y;u<0&&p<0?(l=fr,c-=p=-p,d-=u=-u):u<0?(l=yr,d-=u=-u):p<0&&(l=vr,c-=p=-p);break;case yr:if(r){if(_.x>=0&&(h>=f||m>=v)){y=!1;break}w(hr),p=(u+=_.x)/r}else w(gr),w(hr),_.x>=0?h<f?u+=_.x:_.y>=0&&m>=v&&(y=!1):u+=_.x,_.y>=0?m<v&&(p+=_.y):p+=_.y;u<0&&p<0?(l=vr,c-=p=-p,d-=u=-u):u<0?(l=xr,d-=u=-u):p<0&&(l=fr,c-=p=-p);break;case ur:this.move(_.x,_.y),y=!1;break;case pr:this.zoom(function(e){var t=Zl({},e),i=0;return ld(e,(function(e,n){delete t[n],ld(t,(function(t){var n=Math.abs(e.startX-t.startX),s=Math.abs(e.startY-t.startY),o=Math.abs(e.endX-t.endX),a=Math.abs(e.endY-t.endY),l=Math.sqrt(n*n+s*s),r=(Math.sqrt(o*o+a*a)-l)/l;Math.abs(r)>Math.abs(i)&&(i=r)}))})),i}(a),e),y=!1;break;case cr:if(!_.x||!_.y){y=!1;break}t=kd(this.cropper),d=x.startX-t.left,c=x.startY-t.top,u=o.minWidth,p=o.minHeight,_.x>0?l=_.y>0?yr:fr:_.x<0&&(d-=u,l=_.y>0?xr:vr),_.y<0&&(c-=p),this.cropped||(md(this.cropBox,Sr),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0))}y&&(o.width=u,o.height=p,o.left=d,o.top=c,this.action=l,this.renderCropBox()),ld(a,(function(e){e.startX=e.endX,e.startY=e.endY}))}},jd={crop:function(){return!this.ready||this.cropped||this.disabled||(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&hd(this.dragBox,Ar),md(this.cropBox,Sr),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=rd({},this.initialImageData),this.canvasData=rd({},this.initialCanvasData),this.cropBoxData=rd({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(rd(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),md(this.dragBox,Ar),hd(this.cropBox,Sr)),this},replace:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!this.disabled&&e&&(this.isImg&&(this.element.src=e),t?(this.url=e,this.image.src=e,this.ready&&(this.viewBoxImage.src=e,ld(this.previews,(function(t){t.getElementsByTagName("img")[0].src=e})))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(e))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,md(this.cropper,wr)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,hd(this.cropper,wr)),this},destroy:function(){var e=this.element;return e.cropper?(e.cropper=void 0,this.isImg&&this.replaced&&(e.src=this.originalUrl),this.uncreate(),this):this},move:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,i=this.canvasData,n=i.left,s=i.top;return this.moveTo(ed(e)?e:n+Number(e),ed(t)?t:s+Number(t))},moveTo:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,i=this.canvasData,n=!1;return e=Number(e),t=Number(t),this.ready&&!this.disabled&&this.options.movable&&(Qr(e)&&(i.left=e,n=!0),Qr(t)&&(i.top=t,n=!0),n&&this.renderCanvas(!0)),this},zoom:function(e,t){var i=this.canvasData;return e=(e=Number(e))<0?1/(1-e):1+e,this.zoomTo(i.width*e/i.naturalWidth,null,t)},zoomTo:function(e,t,i){var n=this.options,s=this.canvasData,o=s.width,a=s.height,l=s.naturalWidth,r=s.naturalHeight;if((e=Number(e))>=0&&this.ready&&!this.disabled&&n.zoomable){var d=l*e,c=r*e;if(!1===Cd(this.element,Fr,{ratio:e,oldRatio:o/l,originalEvent:i}))return this;if(i){var u=this.pointers,p=kd(this.cropper),h=u&&Object.keys(u).length?function(e){var t=0,i=0,n=0;return ld(e,(function(e){var s=e.startX,o=e.startY;t+=s,i+=o,n+=1})),{pageX:t/=n,pageY:i/=n}}(u):{pageX:i.pageX,pageY:i.pageY};s.left-=(d-o)*((h.pageX-p.left-s.left)/o),s.top-=(c-a)*((h.pageY-p.top-s.top)/a)}else nd(t)&&Qr(t.x)&&Qr(t.y)?(s.left-=(d-o)*((t.x-s.left)/o),s.top-=(c-a)*((t.y-s.top)/a)):(s.left-=(d-o)/2,s.top-=(c-a)/2);s.width=d,s.height=c,this.renderCanvas(!0)}return this},rotate:function(e){return this.rotateTo((this.imageData.rotate||0)+Number(e))},rotateTo:function(e){return Qr(e=Number(e))&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=e%360,this.renderCanvas(!0,!0)),this},scaleX:function(e){var t=this.imageData.scaleY;return this.scale(e,Qr(t)?t:1)},scaleY:function(e){var t=this.imageData.scaleX;return this.scale(Qr(t)?t:1,e)},scale:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,i=this.imageData,n=!1;return e=Number(e),t=Number(t),this.ready&&!this.disabled&&this.options.scalable&&(Qr(e)&&(i.scaleX=e,n=!0),Qr(t)&&(i.scaleY=t,n=!0),n&&this.renderCanvas(!0,!0)),this},getData:function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=this.options,n=this.imageData,s=this.canvasData,o=this.cropBoxData;if(this.ready&&this.cropped){e={x:o.left-s.left,y:o.top-s.top,width:o.width,height:o.height};var a=n.width/n.naturalWidth;if(ld(e,(function(t,i){e[i]=t/a})),t){var l=Math.round(e.y+e.height),r=Math.round(e.x+e.width);e.x=Math.round(e.x),e.y=Math.round(e.y),e.width=r-e.x,e.height=l-e.y}}else e={x:0,y:0,width:0,height:0};return i.rotatable&&(e.rotate=n.rotate||0),i.scalable&&(e.scaleX=n.scaleX||1,e.scaleY=n.scaleY||1),e},setData:function(e){var t=this.options,i=this.imageData,n=this.canvasData,s={};if(this.ready&&!this.disabled&&nd(e)){var o=!1;t.rotatable&&Qr(e.rotate)&&e.rotate!==i.rotate&&(i.rotate=e.rotate,o=!0),t.scalable&&(Qr(e.scaleX)&&e.scaleX!==i.scaleX&&(i.scaleX=e.scaleX,o=!0),Qr(e.scaleY)&&e.scaleY!==i.scaleY&&(i.scaleY=e.scaleY,o=!0)),o&&this.renderCanvas(!0,!0);var a=i.width/i.naturalWidth;Qr(e.x)&&(s.left=e.x*a+n.left),Qr(e.y)&&(s.top=e.y*a+n.top),Qr(e.width)&&(s.width=e.width*a),Qr(e.height)&&(s.height=e.height*a),this.setCropBoxData(s)}return this},getContainerData:function(){return this.ready?rd({},this.containerData):{}},getImageData:function(){return this.sized?rd({},this.imageData):{}},getCanvasData:function(){var e=this.canvasData,t={};return this.ready&&ld(["left","top","width","height","naturalWidth","naturalHeight"],(function(i){t[i]=e[i]})),t},setCanvasData:function(e){var t=this.canvasData,i=t.aspectRatio;return this.ready&&!this.disabled&&nd(e)&&(Qr(e.left)&&(t.left=e.left),Qr(e.top)&&(t.top=e.top),Qr(e.width)?(t.width=e.width,t.height=e.width/i):Qr(e.height)&&(t.height=e.height,t.width=e.height*i),this.renderCanvas(!0)),this},getCropBoxData:function(){var e,t=this.cropBoxData;return this.ready&&this.cropped&&(e={left:t.left,top:t.top,width:t.width,height:t.height}),e||{}},setCropBoxData:function(e){var t,i,n=this.cropBoxData,s=this.options.aspectRatio;return this.ready&&this.cropped&&!this.disabled&&nd(e)&&(Qr(e.left)&&(n.left=e.left),Qr(e.top)&&(n.top=e.top),Qr(e.width)&&e.width!==n.width&&(t=!0,n.width=e.width),Qr(e.height)&&e.height!==n.height&&(i=!0,n.height=e.height),s&&(t?n.height=n.width/s:i&&(n.width=n.height*s)),this.renderCropBox()),this},getCroppedCanvas:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var t=this.canvasData,i=Rd(this.image,this.imageData,t,e);if(!this.cropped)return i;var n=this.getData(),s=n.x,o=n.y,a=n.width,l=n.height,r=i.width/Math.floor(t.naturalWidth);1!==r&&(s*=r,o*=r,a*=r,l*=r);var d=a/l,c=Od({aspectRatio:d,width:e.maxWidth||1/0,height:e.maxHeight||1/0}),u=Od({aspectRatio:d,width:e.minWidth||0,height:e.minHeight||0},"cover"),p=Od({aspectRatio:d,width:e.width||(1!==r?i.width:a),height:e.height||(1!==r?i.height:l)}),h=p.width,m=p.height;h=Math.min(c.width,Math.max(u.width,h)),m=Math.min(c.height,Math.max(u.height,m));var g=document.createElement("canvas"),b=g.getContext("2d");g.width=cd(h),g.height=cd(m),b.fillStyle=e.fillColor||"transparent",b.fillRect(0,0,h,m);var f=e.imageSmoothingEnabled,v=void 0===f||f,y=e.imageSmoothingQuality;b.imageSmoothingEnabled=v,y&&(b.imageSmoothingQuality=y);var x,_,w,S,C,k,A=i.width,E=i.height,L=s,q=o;L<=-a||L>A?(L=0,x=0,w=0,C=0):L<=0?(w=-L,L=0,C=x=Math.min(A,a+L)):L<=A&&(w=0,C=x=Math.min(a,A-L)),x<=0||q<=-l||q>E?(q=0,_=0,S=0,k=0):q<=0?(S=-q,q=0,k=_=Math.min(E,l+q)):q<=E&&(S=0,k=_=Math.min(l,E-q));var T=[L,q,x,_];if(C>0&&k>0){var M=h/a;T.push(w*M,S*M,C*M,k*M)}return b.drawImage.apply(b,[i].concat(ir(T.map((function(e){return Math.floor(cd(e))}))))),g},setAspectRatio:function(e){var t=this.options;return this.disabled||ed(e)||(t.aspectRatio=Math.max(0,e)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(e){var t=this.options,i=this.dragBox,n=this.face;if(this.ready&&!this.disabled){var s=e===Tr,o=t.movable&&e===Mr;e=s||o?e:Or,t.dragMode=e,yd(i,Lr,e),gd(i,_r,s),gd(i,Er,o),t.cropBoxMovable||(yd(n,Lr,e),gd(n,_r,s),gd(n,Er,o))}return this}},Ud=or.Cropper,Fd=function(){function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Jl(this,e),!t||!Vr.test(t.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=t,this.options=rd({},Kr,nd(i)&&i),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}var t,i,n;return t=e,i=[{key:"init",value:function(){var e,t=this.element,i=t.tagName.toLowerCase();if(!t.cropper){if(t.cropper=this,"img"===i){if(this.isImg=!0,e=t.getAttribute("src")||"",this.originalUrl=e,!e)return;e=t.src}else"canvas"===i&&window.HTMLCanvasElement&&(e=t.toDataURL());this.load(e)}}},{key:"load",value:function(e){var t=this;if(e){this.url=e,this.imageData={};var i=this.element,n=this.options;if(n.rotatable||n.scalable||(n.checkOrientation=!1),n.checkOrientation&&window.ArrayBuffer)if(Xr.test(e))Gr.test(e)?this.read((s=e.replace(Bd,""),o=atob(s),a=new ArrayBuffer(o.length),ld(l=new Uint8Array(a),(function(e,t){l[t]=o.charCodeAt(t)})),a)):this.clone();else{var s,o,a,l,r=new XMLHttpRequest,d=this.clone.bind(this);this.reloading=!0,this.xhr=r,r.onabort=d,r.onerror=d,r.ontimeout=d,r.onprogress=function(){r.getResponseHeader("content-type")!==Wr&&r.abort()},r.onload=function(){t.read(r.response)},r.onloadend=function(){t.reloading=!1,t.xhr=null},n.checkCrossOrigin&&Ld(e)&&i.crossOrigin&&(e=qd(e)),r.open("GET",e,!0),r.responseType="arraybuffer",r.withCredentials="use-credentials"===i.crossOrigin,r.send()}else this.clone()}}},{key:"read",value:function(e){var t=this.options,i=this.imageData,n=Nd(e),s=0,o=1,a=1;if(n>1){this.url=function(e,t){for(var i=[],n=new Uint8Array(e);n.length>0;)i.push(Id.apply(null,ad(n.subarray(0,8192)))),n=n.subarray(8192);return"data:".concat(t,";base64,").concat(btoa(i.join("")))}(e,Wr);var l=function(e){var t=0,i=1,n=1;switch(e){case 2:i=-1;break;case 3:t=-180;break;case 4:n=-1;break;case 5:t=90,n=-1;break;case 6:t=90;break;case 7:t=90,i=-1;break;case 8:t=-90}return{rotate:t,scaleX:i,scaleY:n}}(n);s=l.rotate,o=l.scaleX,a=l.scaleY}t.rotatable&&(i.rotate=s),t.scalable&&(i.scaleX=o,i.scaleY=a),this.clone()}},{key:"clone",value:function(){var e=this.element,t=this.url,i=e.crossOrigin,n=t;this.options.checkCrossOrigin&&Ld(t)&&(i||(i="anonymous"),n=qd(t)),this.crossOrigin=i,this.crossOriginUrl=n;var s=document.createElement("img");i&&(s.crossOrigin=i),s.src=n||t,s.alt=e.alt||"The image to crop",this.image=s,s.onload=this.start.bind(this),s.onerror=this.stop.bind(this),hd(s,Cr),e.parentNode.insertBefore(s,e.nextSibling)}},{key:"start",value:function(){var e=this,t=this.image;t.onload=null,t.onerror=null,this.sizing=!0;var i=or.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(or.navigator.userAgent),n=function(t,i){rd(e.imageData,{naturalWidth:t,naturalHeight:i,aspectRatio:t/i}),e.initialImageData=rd({},e.imageData),e.sizing=!1,e.sized=!0,e.build()};if(!t.naturalWidth||i){var s=document.createElement("img"),o=document.body||document.documentElement;this.sizingImage=s,s.onload=function(){n(s.width,s.height),i||o.removeChild(s)},s.src=t.src,i||(s.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",o.appendChild(s))}else n(t.naturalWidth,t.naturalHeight)}},{key:"stop",value:function(){var e=this.image;e.onload=null,e.onerror=null,e.parentNode.removeChild(e),this.image=null}},{key:"build",value:function(){if(this.sized&&!this.ready){var e=this.element,t=this.options,i=this.image,n=e.parentNode,s=document.createElement("div");s.innerHTML='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>';var o=s.querySelector(".".concat(rr,"-container")),a=o.querySelector(".".concat(rr,"-canvas")),l=o.querySelector(".".concat(rr,"-drag-box")),r=o.querySelector(".".concat(rr,"-crop-box")),d=r.querySelector(".".concat(rr,"-face"));this.container=n,this.cropper=o,this.canvas=a,this.dragBox=l,this.cropBox=r,this.viewBox=o.querySelector(".".concat(rr,"-view-box")),this.face=d,a.appendChild(i),hd(e,Sr),n.insertBefore(o,e.nextSibling),this.isImg||md(i,Cr),this.initPreview(),this.bind(),t.initialAspectRatio=Math.max(0,t.initialAspectRatio)||NaN,t.aspectRatio=Math.max(0,t.aspectRatio)||NaN,t.viewMode=Math.max(0,Math.min(3,Math.round(t.viewMode)))||0,hd(r,Sr),t.guides||hd(r.getElementsByClassName("".concat(rr,"-dashed")),Sr),t.center||hd(r.getElementsByClassName("".concat(rr,"-center")),Sr),t.background&&hd(o,"".concat(rr,"-bg")),t.highlight||hd(d,kr),t.cropBoxMovable&&(hd(d,Er),yd(d,Lr,dr)),t.cropBoxResizable||(hd(r.getElementsByClassName("".concat(rr,"-line")),Sr),hd(r.getElementsByClassName("".concat(rr,"-point")),Sr)),this.render(),this.ready=!0,this.setDragMode(t.dragMode),t.autoCrop&&this.crop(),this.setData(t.data),sd(t.ready)&&Sd(e,Dr,t.ready,{once:!0}),Cd(e,Dr)}}},{key:"unbuild",value:function(){this.ready&&(this.ready=!1,this.unbind(),this.resetPreview(),this.cropper.parentNode.removeChild(this.cropper),md(this.element,Sr))}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],n=[{key:"noConflict",value:function(){return window.Cropper=Ud,e}},{key:"setDefaults",value:function(e){rd(Kr,nd(e)&&e)}}],i&&er(t.prototype,i),n&&er(t,n),e}();function Wd(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];return t.map((function(t){return t.split(" ").map((function(t){return t?""+e+t:""})).join(" ")})).join(" ")}function Yd(e,t){return function(i){i&&(e[t]=i)}}function Xd(e,t,i){return function(n){n&&(e[t][i]=n)}}function Gd(e,t){return function(i){var n=i.prototype;e.forEach((function(e){t(n,e)}))}}function Vd(e,t){return void 0===t&&(t={}),function(i,n){e.forEach((function(e){var s=t[e]||e;s in i||(i[s]=function(){for(var t,i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];var o=(t=this[n])[e].apply(t,i);return o===this[n]?this:o})}))}}rd(Fd.prototype,$d,zd,Pd,Hd,Dd,jd);var Kd=function(){function e(){this.keys=[],this.values=[]}var t=e.prototype;return t.get=function(e){return this.values[this.keys.indexOf(e)]},t.set=function(e,t){var i=this.keys,n=this.values,s=i.indexOf(e),o=-1===s?i.length:s;i[o]=e,n[o]=t},e}(),Zd=function(){function e(){this.object={}}var t=e.prototype;return t.get=function(e){return this.object[e]},t.set=function(e,t){this.object[e]=t},e}(),Qd="function"==typeof Map,Jd=function(){function e(){}var t=e.prototype;return t.connect=function(e,t){this.prev=e,this.next=t,e&&(e.next=this),t&&(t.prev=this)},t.disconnect=function(){var e=this.prev,t=this.next;e&&(e.next=t),t&&(t.prev=e)},t.getIndex=function(){for(var e=this,t=-1;e;)e=e.prev,++t;return t},e}();var ec=function(){function e(e,t,i,n,s,o,a,l){this.prevList=e,this.list=t,this.added=i,this.removed=n,this.changed=s,this.maintained=o,this.changedBeforeAdded=a,this.fixed=l}var t=e.prototype;return Object.defineProperty(t,"ordered",{get:function(){return this.cacheOrdered||this.caculateOrdered(),this.cacheOrdered},enumerable:!0,configurable:!0}),Object.defineProperty(t,"pureChanged",{get:function(){return this.cachePureChanged||this.caculateOrdered(),this.cachePureChanged},enumerable:!0,configurable:!0}),t.caculateOrdered=function(){var e=function(e,t){var i=[],n=[];return e.forEach((function(e){var t=e[0],s=e[1],o=new Jd;i[t]=o,n[s]=o})),i.forEach((function(e,t){e.connect(i[t-1])})),e.filter((function(e,i){return!t[i]})).map((function(e,t){var s=e[0],o=e[1];if(s===o)return[0,0];var a=i[s],l=n[o-1],r=a.getIndex();return a.disconnect(),l?a.connect(l,l.next):a.connect(void 0,i[0]),[r,a.getIndex()]}))}(this.changedBeforeAdded,this.fixed),t=this.changed,i=[];this.cacheOrdered=e.filter((function(e,n){var s=e[0],o=e[1],a=t[n],l=a[0],r=a[1];if(s!==o)return i.push([l,r]),!0})),this.cachePureChanged=i},e}();function tc(e,t,i){var n=Qd?Map:i?Zd:Kd,s=i||function(e){return e},o=[],a=[],l=[],r=e.map(s),d=t.map(s),c=new n,u=new n,p=[],h=[],m={},g=[],b=0,f=0;return r.forEach((function(e,t){c.set(e,t)})),d.forEach((function(e,t){u.set(e,t)})),r.forEach((function(e,t){var i=u.get(e);void 0===i?(++f,a.push(t)):m[i]=f})),d.forEach((function(e,t){var i=c.get(e);void 0===i?(o.push(t),++b):(l.push([i,t]),f=m[t]||0,p.push([i-f,t-b]),h.push(t===i),i!==t&&g.push([i,t]))})),a.reverse(),new ec(e,t,o,a,g,l,p,h)}var ic=function(){function e(e,t){void 0===e&&(e=[]),this.findKeyCallback=t,this.list=[].slice.call(e)}return e.prototype.update=function(e){var t=[].slice.call(e),i=tc(this.list,t,this.findKeyCallback);return this.list=t,i},e}(),nc="undefined",sc=typeof window!==nc,oc=[{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"},{open:'\\"',close:'\\"'},{open:"\\'",close:"\\'"}],ac=1e-7,lc={cm:function(e){return 96*e/2.54},mm:function(e){return 96*e/254},in:function(e){return 96*e},pt:function(e){return 96*e/72},pc:function(e){return 96*e/6},"%":function(e,t){return e*t/100},vw:function(e,t){return void 0===t&&(t=window.innerWidth),e/100*t},vh:function(e,t){return void 0===t&&(t=window.innerHeight),e/100*t},vmax:function(e,t){return void 0===t&&(t=Math.max(window.innerWidth,window.innerHeight)),e/100*t},vmin:function(e,t){return void 0===t&&(t=Math.min(window.innerWidth,window.innerHeight)),e/100*t}};function rc(e){return typeof e===nc}function dc(e){return e&&"object"==typeof e}function cc(e){return Array.isArray(e)}function uc(e){return"string"==typeof e}function pc(e){return"number"==typeof e}function hc(e){return"function"==typeof e}function mc(e,t,i,n,s){return gc(e,t,i)?i:function(e,t,i,n,s){for(var o,a=function(i){var a=t[i].trim();if(a===e.close&&!gc(e,t,i))return{value:i};var l=i,r=Cc(s,(function(e){return e.open===a}));if(r&&(l=mc(r,t,i,n,s)),-1===l)return o=i,"break";o=i=l},l=i;l<n;++l){var r=a(l);if(l=o,"object"==typeof r)return r.value;if("break"===r)break}return-1}(e,t,i+1,n,s)}function gc(e,t,i){if(!e.ignore)return null;var n=t.slice(Math.max(i-3,0),i+3).join("");return new RegExp(e.ignore).exec(n)}function bc(e,t){var i=uc(t)?{separator:t}:t,n=i.separator,s=void 0===n?",":n,o=i.isSeparateFirst,a=i.isSeparateOnlyOpenClose,l=i.isSeparateOpenClose,r=void 0===l?a:l,d=i.openCloseCharacters,c=void 0===d?oc:d,u=c.map((function(e){var t=e.open,i=e.close;return t===i?t:t+"|"+i})).join("|"),p=new RegExp("(\\s*"+s+"\\s*|"+u+"|\\s+)","g"),h=e.split(p).filter(Boolean),m=h.length,g=[],b=[];function f(){return!!b.length&&(g.push(b.join("")),b=[],!0)}for(var v,y=function(e){var t=h[e].trim(),i=e,n=Cc(c,(function(e){return e.open===t})),l=Cc(c,(function(e){return e.close===t}));if(n){if(-1!==(i=mc(n,h,e,m,c))&&r)return f()&&o?(v=e,"break"):(g.push(h.slice(e,i+1).join("")),e=i,o?(v=e,"break"):(v=e,"continue"))}else{if(l&&!gc(l,h,e))throw new Error("invalid format: "+l.close);if(function(e,t){return(""===t||" "==t)&&(""===e||" "==e)||e===t}(t,s)&&!a)return f(),o?(v=e,"break"):(v=e,"continue")}-1===i&&(i=m-1),b.push(h.slice(e,i+1).join("")),v=e=i},x=0;x<m;++x){var _=y(x);if(x=v,"break"===_)break}return b.length&&g.push(b.join("")),g}function fc(e){return bc(e,"")}function vc(e){return bc(e,",")}function yc(e){var t=/([^(]*)\(([\s\S]*)\)([\s\S]*)/g.exec(e);return!t||t.length<4?{}:{prefix:t[1],value:t[2],suffix:t[3]}}function xc(e){var t=/^([^\d|e|\-|\+]*)((?:\d|\.|-|e-|e\+)+)(\S*)$/g.exec(e);if(!t)return{prefix:"",unit:"",value:NaN};var i=t[1],n=t[2];return{prefix:i,unit:t[3],value:parseFloat(n)}}function _c(e,t){return void 0===t&&(t="-"),e.replace(/([a-z])([A-Z])/g,(function(e,i,n){return""+i+t+n.toLowerCase()}))}function wc(){return Date.now?Date.now():(new Date).getTime()}function Sc(e,t,i){void 0===i&&(i=-1);for(var n=e.length,s=0;s<n;++s)if(t(e[s],s,e))return s;return i}function Cc(e,t,i){var n=Sc(e,t);return n>-1?e[n]:i}var kc=function(){var e=wc(),t=sc&&(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame);return t?t.bind(window):function(t){var i=wc();return window.setTimeout((function(){t(i-e)}),1e3/60)}}(),Ac=function(){var e=sc&&(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame);return e?e.bind(window):function(e){clearTimeout(e)}}();function Ec(e){if(Object.keys)return Object.keys(e);var t=[];for(var i in t)t.push(i);return t}function Lc(e,t){var i=xc(e),n=i.value,s=i.unit;if(dc(t)){var o=t[s];if(o){if(hc(o))return o(n);if(lc[s])return lc[s](n,o)}}else if("%"===s)return n*t/100;return lc[s]?lc[s](n):n}function qc(e,t,i,n){return void 0===n&&(n=e[0]/e[1]),[[Bc(t[0],ac),Bc(t[0]/n,ac)],[Bc(t[1]*n,ac),Bc(t[1],ac)]].filter((function(e){return e.every((function(e,n){var s=t[n],o=Bc(s,ac);return i?e<=s||e<=o:e>=s||e>=o}))}))[0]||e}function Tc(e,t,i,n){if(!n)return e.map((function(e,n){return function(e,t,i){return Math.max(t,Math.min(e,i))}(e,t[n],i[n])}));var s=e[0],o=e[1],a=!0===n?s/o:n,l=qc(e,t,!1,a),r=l[0],d=l[1],c=qc(e,i,!0,a),u=c[0],p=c[1];return s<r||o<d?(s=r,o=d):(s>u||o>p)&&(s=u,o=p),[s,o]}function Mc(e){for(var t=e.length,i=0,n=t-1;n>=0;--n)i+=e[n];return t?i/t:0}function Oc(e,t){var i=t[0]-e[0],n=t[1]-e[1],s=Math.atan2(n,i);return s>=0?s:s+2*Math.PI}function Rc(e){var t=function(e){return[0,1].map((function(t){return Mc(e.map((function(e){return e[t]})))}))}(e),i=Oc(t,e[0]),n=Oc(t,e[1]);return i<n&&n-i<Math.PI||i>n&&n-i<-Math.PI?1:-1}function Ic(e,t){return Math.sqrt(Math.pow((t?t[0]:0)-e[0],2)+Math.pow((t?t[1]:0)-e[1],2))}function Bc(e,t){if(!t)return e;var i=1/t;return Math.round(e/t)/i}function Nc(e,t){return e.forEach((function(i,n){e[n]=Bc(e[n],t)})),e}function $c(e,t){return e.classList?e.classList.contains(t):!!e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))}function zc(e,t,i,n){e.addEventListener(t,i,n)}function Pc(e,t,i,n){e.removeEventListener(t,i,n)}
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */var Hc=function(e,t){return Hc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},Hc(e,t)};function Dc(e,t){function i(){this.constructor=e}Hc(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}var jc=function(){return jc=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var s in t=arguments[i])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},jc.apply(this,arguments)};function Uc(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(i[n[s]]=e[n[s]])}return i}function Fc(e,t){if(e===t)return!1;for(var i in e)if(!(i in t))return!0;for(var i in t)if(e[i]!==t[i])return!0;return!1}function Wc(e,t){var i=Object.keys(e),n=Object.keys(t),s=tc(i,n,(function(e){return e})),o={},a={},l={};return s.added.forEach((function(e){var i=n[e];o[i]=t[i]})),s.removed.forEach((function(t){var n=i[t];a[n]=e[n]})),s.maintained.forEach((function(n){var s=n[0],o=i[s],a=[e[o],t[o]];e[o]!==t[o]&&(l[o]=a)})),{added:o,removed:a,changed:l}}function Yc(e){e.forEach((function(e){e()}))}function Xc(e){var t=0;return e.map((function(e){return null==e?"$compat"+ ++t:""+e}))}function Gc(e,t,i,n){return uc(e)||pc(e)?new tu("text_"+e,t,i,n,null,{}):new("string"==typeof e.type?iu:e.type.prototype.render?lu:ou)(e.type,t,i,n,e.ref,e.props)}function Vc(e){var t=[];return e.forEach((function(e){t=t.concat(cc(e)?Vc(e):e)})),t}function Kc(e){var t=e.className,i=Uc(e,["className"]);return null!=t&&(i.class=t),delete i.style,delete i.children,i}function Zc(e,t){if(!t)return e;for(var i in t)rc(e[i])&&(e[i]=t[i]);return e}function Qc(e,t){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];var s=t||{},o=s.key,a=s.ref,l=Uc(s,["key","ref"]);return{type:e,key:o,ref:a,props:jc(jc({},l),{children:Vc(i).filter((function(e){return null!=e&&!1!==e}))})}}var Jc=function(){function e(e,t,i,n,s,o){void 0===o&&(o={}),this.type=e,this.key=t,this.index=i,this.container=n,this.ref=s,this.props=o,this._providers=[]}var t=e.prototype;return t._should=function(e,t){return!0},t._update=function(e,t,i,n){if(this.base&&!uc(t)&&!n&&!this._should(t.props,i))return!1;this.original=t,this._setState(i);var s=this.props;return uc(t)||(this.props=t.props,this.ref=t.ref),this._render(e,this.base?s:{},i),!0},t._mounted=function(){var e=this.ref;e&&e(this.base)},t._setState=function(e){},t._updated=function(){var e=this.ref;e&&e(this.base)},t._destroy=function(){var e=this.ref;e&&e(null)},e}();function eu(e){var t={},i={};for(var n in e)0===n.indexOf("on")?i[n.replace("on","").toLowerCase()]=e[n]:t[n]=e[n];return{attributes:t,events:i}}var tu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}Dc(t,e);var i=t.prototype;return i._render=function(e){var t=this,i=!this.base;return i&&(this.base=document.createTextNode(this.type.replace("text_",""))),e.push((function(){i?t._mounted():t._updated()})),!0},i._unmount=function(){this.base.parentNode.removeChild(this.base)},t}(Jc),iu=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.events={},t._isSVG=!1,t}Dc(t,e);var i=t.prototype;return i.addEventListener=function(e,t){var i=this.events;i[e]=function(e){e.nativeEvent=e,t(e)},this.base.addEventListener(e,i[e])},i.removeEventListener=function(e){var t=this.events;this.base.removeEventListener(e,t[e]),delete t[e]},i._should=function(e){return Fc(this.props,e)},i._render=function(e,t){var i=this,n=!this.base;if(n){var s=this._hasSVG();this._isSVG=s;var o=this.props.portalContainer;if(!o){var a=this.type;o=s?document.createElementNS("http://www.w3.org/2000/svg",a):document.createElement(a)}this.base=o}pu(this,this._providers,this.props.children,e,null);var l=this.base,r=eu(t),d=r.attributes,c=r.events,u=eu(this.props),p=u.attributes,h=u.events;return function(e,t,i){var n=Wc(e,t),s=n.added,o=n.removed,a=n.changed;for(var l in s)i.setAttribute(l,s[l]);for(var l in a)i.setAttribute(l,a[l][1]);for(var l in o)i.removeAttribute(l)}(Kc(d),Kc(p),l),function(e,t,i){var n=Wc(e,t),s=n.added,o=n.removed,a=n.changed;for(var l in o)i.removeEventListener(l);for(var l in s)i.addEventListener(l,s[l]);for(var l in a)i.removeEventListener(l),i.addEventListener(l,a[l][1]);for(var l in o)i.removeEventListener(l)}(c,h,this),function(e,t,i){var n=i.style,s=Wc(e,t),o=s.added,a=s.removed,l=s.changed;for(var r in o){var d=_c(r,"-");n.setProperty?n.setProperty(d,o[r]):n[d]=o[r]}for(var r in l)d=_c(r,"-"),n.setProperty?n.setProperty(d,l[r][1]):n[d]=l[r][1];for(var r in a)d=_c(r,"-"),n.removeProperty?n.removeProperty(d):n[d]=""}(t.style||{},this.props.style||{},l),e.push((function(){n?i._mounted():i._updated()})),!0},i._unmount=function(){var e=this.events,t=this.base;for(var i in e)t.removeEventListener(i,e[i]);this._providers.forEach((function(e){e._unmount()})),this.events={},this.props.portalContainer||t.parentNode.removeChild(t)},i._hasSVG=function(){if(this._isSVG||"svg"===this.type)return!0;var e=nu(this.container);return e&&"ownerSVGElement"in e},t}(Jc);function nu(e){if(!e)return null;var t=e.base;return t instanceof Node?t:nu(e.container)}function su(e){if(!e)return null;if(e instanceof Node)return e;var t=e.$_provider._providers;return t.length?su(t[0].base):null}var ou=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}Dc(t,e);var i=t.prototype;return i._render=function(e){var t=this.type(this.props);return pu(this,this._providers,t?[t]:[],e),!0},i._unmount=function(){this._providers.forEach((function(e){e._unmount()}))},t}(Jc),au=function(e){function t(t){var i=e.call(this,"container","container",0,null)||this;return i.base=t,i}Dc(t,e);var i=t.prototype;return i._render=function(){return!0},i._unmount=function(){},t}(Jc),lu=function(e){function t(t,i,n,s,o,a){return void 0===a&&(a={}),e.call(this,t,i,n,s,o,Zc(a,t.defaultProps))||this}Dc(t,e);var i=t.prototype;return i._should=function(e,t){return this.base.shouldComponentUpdate(Zc(e,this.type.defaultProps),t||this.base.state)},i._render=function(e,t,i){var n=this;this.props=Zc(this.props,this.type.defaultProps);var s=!this.base;s?(this.base=new this.type(this.props),this.base.$_provider=this):this.base.props=this.props;var o=this.base,a=o.state,l=o.render();l&&l.props&&!l.props.children.length&&(l.props.children=this.props.children),pu(this,this._providers,l?[l]:[],e,i,null),e.push((function(){s?(n._mounted(),o.componentDidMount()):(n._updated(),o.componentDidUpdate(t,a))}))},i._setState=function(e){var t=this.base;t&&e&&(t.state=e)},i._unmount=function(){this._providers.forEach((function(e){e._unmount()})),clearTimeout(this.base.$_timer),this.base.componentWillUnmount()},t}(Jc),ru=function(){function e(e){void 0===e&&(e={}),this.props=e,this.state={},this.$_timer=0,this.$_state={}}var t=e.prototype;return t.shouldComponentUpdate=function(e,t){return!0},t.render=function(){return null},t.setState=function(e,t,i){var n=this;this.$_timer||(this.$_state={}),clearTimeout(this.$_timer),this.$_timer=0,this.$_state=jc(jc({},this.$_state),e),i?this.$_setState(t,i):this.$_timer=setTimeout((function(){n.$_timer=0,n.$_setState(t,i)}))},t.forceUpdate=function(e){this.setState({},e,!0)},t.componentDidMount=function(){},t.componentDidUpdate=function(e,t){},t.componentWillUnmount=function(){},t.$_setState=function(e,t){var i=[],n=this.$_provider;pu(n.container,[n],[n.original],i,jc(jc({},this.state),this.$_state),t)&&(e&&i.push(e),Yc(i))},e}(),du=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Dc(t,e),t.prototype.shouldComponentUpdate=function(e,t){return Fc(this.props,e)||Fc(this.state,t)},t}(ru),cu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}Dc(t,e);var i=t.prototype;return i.componentDidMount=function(){var e=this.props,t=e.element,i=e.container;this._portalProvider=new au(i),hu(t,i,this._portalProvider)},i.componentDidUpdate=function(){var e=this.props;hu(e.element,e.container,this._portalProvider)},i.componentWillUnmount=function(){hu(null,this.props.container,this._portalProvider),this._portalProvider=null},t}(du);function uu(e,t,i){var n=i.map((function(e){return uc(e)?null:e.key})),s=tc(Xc(t.map((function(e){return e.key}))),Xc(n),(function(e){return e}));s.removed.forEach((function(e){t.splice(e,1)[0]._unmount()})),s.ordered.forEach((function(e){var i=e[0],n=e[1],s=t.splice(i,1)[0];t.splice(n,0,s);var o=su(s.base),a=su(t[n+1]&&t[n+1].base);o&&o.parentNode.insertBefore(o,a)})),s.added.forEach((function(s){t.splice(s,0,Gc(i[s],n[s],s,e))}));var o=s.maintained.filter((function(s){s[0];var o=s[1],a=i[o],l=t[o];return(uc(a)?"text_"+a:a.type)!==l.type?(l._unmount(),t.splice(o,1,Gc(a,n[o],o,e)),!0):(l.index=o,!1)}));return function(){for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;var n=Array(e),s=0;for(t=0;t<i;t++)for(var o=arguments[t],a=0,l=o.length;a<l;a++,s++)n[s]=o[a];return n}(s.added,o.map((function(e){return e[0],e[1]})))}function pu(e,t,i,n,s,o){var a=uu(e,t,i),l=t.filter((function(e,t){return e._update(n,i[t],s,o)})),r=nu(e);return r&&a.reverse().forEach((function(i){var n=t[i],s=su(n.base);if(s&&r!==s&&!s.parentNode){var o=function(e,t){for(var i=e._providers,n=i.length,s=t.index+1;s<n;++s){var o=su(i[s].base);if(o)return o}return null}(e,n);r.insertBefore(s,o)}})),l.length>0}function hu(e,t,i){void 0===i&&(i=t.__REACT_COMPAT__);var n=!!i;return i||(i=new au(t)),function(e,t,i){var n=[];pu(e,e._providers,t,n,i),Yc(n)}(i,e?[e]:[]),n||(t.__REACT_COMPAT__=i),i}function mu(e,t,i){var n=t.__REACT_COMPAT__;e&&!n&&(t.innerHTML=""),hu(e,t,n),i&&i()}function gu(e,t){for(var i=e.length,n=0;n<i;++n)if(t(e[n],n))return!0;return!1}function bu(e,t){for(var i=e.length,n=0;n<i;++n)if(t(e[n],n))return e[n];return null}function fu(e){var t=e;if(void 0===t){if("undefined"==typeof navigator||!navigator)return"";t=navigator.userAgent||""}return t.toLowerCase()}function vu(e,t){try{return new RegExp(e,"g").exec(t)}catch(e){return null}}function yu(e){return e.replace(/_/g,".")}function xu(e,t){var i=null,n="-1";return gu(e,(function(e){var s=vu("("+e.test+")((?:\\/|\\s|:)([0-9|\\.|_]+))?",t);return!(!s||e.brand)&&(i=e,n=s[3]||"-1",e.versionAlias?n=e.versionAlias:e.versionTest&&(n=function(e,t){var i=vu("("+e+")((?:\\/|\\s|:)([0-9|\\.|_]+))",t);return i?i[3]:""}(e.versionTest.toLowerCase(),t)||n),n=yu(n),!0)})),{preset:i,version:n}}function _u(e,t){var i={brand:"",version:"-1"};return gu(e,(function(e){var n=wu(t,e);return!!n&&(i.brand=e.id,i.version=e.versionAlias||n.version,"-1"!==i.version)})),i}function wu(e,t){return bu(e,(function(e){var i=e.brand;return vu(""+t.test,i.toLowerCase())}))}var Su=[{test:"phantomjs",id:"phantomjs"},{test:"whale",id:"whale"},{test:"edgios|edge|edg",id:"edge"},{test:"msie|trident|windows phone",id:"ie",versionTest:"iemobile|msie|rv"},{test:"miuibrowser",id:"miui browser"},{test:"samsungbrowser",id:"samsung internet"},{test:"samsung",id:"samsung internet",versionTest:"version"},{test:"chrome|crios",id:"chrome"},{test:"firefox|fxios",id:"firefox"},{test:"android",id:"android browser",versionTest:"version"},{test:"safari|iphone|ipad|ipod",id:"safari",versionTest:"version"}],Cu=[{test:"(?=.*applewebkit/(53[0-7]|5[0-2]|[0-4]))(?=.*\\schrome)",id:"chrome",versionTest:"chrome"},{test:"chromium",id:"chrome"},{test:"whale",id:"chrome",versionAlias:"-1",brand:!0}],ku=[{test:"applewebkit",id:"webkit",versionTest:"applewebkit|safari"}],Au=[{test:"(?=(iphone|ipad))(?!(.*version))",id:"webview"},{test:"(?=(android|iphone|ipad))(?=.*(naver|daum|; wv))",id:"webview"},{test:"webview",id:"webview"}],Eu=[{test:"windows phone",id:"windows phone"},{test:"windows 2000",id:"window",versionAlias:"5.0"},{test:"windows nt",id:"window"},{test:"win32|windows",id:"window"},{test:"iphone|ipad|ipod",id:"ios",versionTest:"iphone os|cpu os"},{test:"macos|macintel|mac os x",id:"mac"},{test:"android|linux armv81",id:"android"},{test:"tizen",id:"tizen"},{test:"webos|web0s",id:"webos"}];function Lu(e){return!!xu(Au,e).preset}function qu(e,t,i,n,s,o){for(var a=0;a<s;++a){var l=i+a*s,r=n+a*s;e[l]+=e[r]*o,t[l]+=t[r]*o}}function Tu(e,t,i,n,s){for(var o=0;o<s;++o){var a=i+o*s,l=n+o*s,r=e[a],d=t[a];e[a]=e[l],e[l]=r,t[a]=t[l],t[l]=d}}function Mu(e,t,i,n,s){for(var o=0;o<n;++o){var a=i+o*n;e[a]/=s,t[a]/=s}}function Ou(e,t,i){void 0===i&&(i=Math.sqrt(e.length));for(var n=e.slice(),s=0;s<i;++s)n[s*i+t-1]=0,n[(t-1)*i+s]=0;return n[(t-1)*(i+1)]=1,n}function Ru(e,t){void 0===t&&(t=Math.sqrt(e.length));for(var i=e.slice(),n=Ku(t),s=0;s<t;++s){var o=t*s+s;if(!Bc(i[o],ac))for(var a=s+1;a<t;++a)if(i[t*s+a]){Tu(i,n,s,a,t);break}if(!Bc(i[o],ac))return[];Mu(i,n,s,t,i[o]);for(a=0;a<t;++a){var l=a,r=i[a+s*t];Bc(r,ac)&&s!==a&&qu(i,n,l,s,t,-r)}}return n}function Iu(e,t){for(var i=e.slice(),n=e.length;n<t-1;++n)i[n]=0;return i[t-1]=1,i}function Bu(e,t,i){if(void 0===t&&(t=Math.sqrt(e.length)),t===i)return e;for(var n=Ku(i),s=Math.min(t,i),o=0;o<s-1;++o){for(var a=0;a<s-1;++a)n[o*i+a]=e[o*t+a];n[(o+1)*i-1]=e[(o+1)*t-1],n[(i-1)*i+o]=e[(t-1)*t+o]}return n[i*i-1]=e[t*t-1],n}function Nu(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];var n=Ku(e);return t.forEach((function(t){n=$u(n,t,e)})),n}function $u(e,t,i){void 0===i&&(i=Math.sqrt(e.length));var n=[],s=e.length/i,o=t.length/s;if(!s)return t;if(!o)return e;for(var a=0;a<i;++a)for(var l=0;l<o;++l){n[l*i+a]=0;for(var r=0;r<s;++r)n[l*i+a]+=e[r*i+a]*t[l*s+r]}return n}function zu(e,t){for(var i=Math.min(e.length,t.length),n=e.slice(),s=0;s<i;++s)n[s]=n[s]+t[s];return n}function Pu(e,t){for(var i=Math.min(e.length,t.length),n=e.slice(),s=0;s<i;++s)n[s]=n[s]-t[s];return n}function Hu(e,t){return void 0===t&&(t=9===e.length),t?[e[0],e[1],e[3],e[4],e[6],e[7]]:e}function Du(e,t,i){void 0===i&&(i=t.length);var n=$u(e,t,i),s=n[i-1];return n.map((function(e){return e/s}))}function ju(e,t){return $u(e,[1,0,0,0,0,Math.cos(t),Math.sin(t),0,0,-Math.sin(t),Math.cos(t),0,0,0,0,1],4)}function Uu(e,t){return $u(e,[Math.cos(t),0,-Math.sin(t),0,0,1,0,0,Math.sin(t),0,Math.cos(t),0,0,0,0,1],4)}function Fu(e,t){return $u(e,Vu(t,4))}function Wu(e,t){var i=t[0],n=void 0===i?1:i,s=t[1],o=void 0===s?1:s,a=t[2];return $u(e,[n,0,0,0,0,o,0,0,0,0,void 0===a?1:a,0,0,0,0,1],4)}function Yu(e,t){return Du(Vu(t,3),Iu(e,3))}function Xu(e,t){var i=t[0],n=void 0===i?0:i,s=t[1],o=void 0===s?0:s,a=t[2];return $u(e,[1,0,0,0,0,1,0,0,0,0,1,0,n,o,void 0===a?0:a,1],4)}function Gu(e,t){return $u(e,t,4)}function Vu(e,t){var i=Math.cos(e),n=Math.sin(e),s=Ku(t);return s[0]=i,s[1]=n,s[t]=-n,s[t+1]=i,s}function Ku(e){for(var t=e*e,i=[],n=0;n<t;++n)i[n]=n%(e+1)?0:1;return i}function Zu(e,t){for(var i=Ku(t),n=Math.min(e.length,t-1),s=0;s<n;++s)i[(t+1)*s]=e[s];return i}function Qu(e,t){for(var i=Ku(t),n=Math.min(e.length,t-1),s=0;s<n;++s)i[t*(t-1)+s]=e[s];return i}function Ju(e,t,i,n,s,o,a,l){var r=e[0],d=e[1],c=t[0],u=t[1],p=i[0],h=i[1],m=n[0],g=n[1],b=s[0],f=s[1],v=o[0],y=o[1],x=a[0],_=a[1],w=l[0],S=l[1],C=Ru([r,0,c,0,p,0,m,0,d,0,u,0,h,0,g,0,1,0,1,0,1,0,1,0,0,r,0,c,0,p,0,m,0,d,0,u,0,h,0,g,0,1,0,1,0,1,0,1,-b*r,-f*r,-v*c,-y*c,-x*p,-_*p,-w*m,-S*m,-b*d,-f*d,-v*u,-y*u,-x*h,-_*h,-w*g,-S*g],8);if(!C.length)return[];var k=$u(C,[b,f,v,y,x,_,w,S],8);return k[8]=1,Bu(function(e,t){void 0===t&&(t=Math.sqrt(e.length));for(var i=[],n=0;n<t;++n)for(var s=0;s<t;++s)i[s*t+n]=e[t*n+s];return i}(k),3,4)}function ep(e){return tp(ip(e))}function tp(e){var t=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return e.forEach((function(e){var i=e.matrixFunction,n=e.functionValue;i&&(t=i(t,n))})),t}function ip(e){return(cc(e)?e:fc(e)).map((function(e){var t=yc(e),i=t.prefix,n=t.value,s=null,o=i,a="";if("translate"===i||"translateX"===i||"translate3d"===i){var l=vc(n).map((function(e){return parseFloat(e)})),r=l[0],d=l[1],c=void 0===d?0:d,u=l[2];s=Xu,a=[r,c,void 0===u?0:u]}else if("translateY"===i){s=Xu,a=[0,c=parseFloat(n),0]}else if("translateZ"===i){s=Xu,a=[0,0,parseFloat(n)]}else if("scale"===i||"scale3d"===i){var p=vc(n).map((function(e){return parseFloat(e)})),h=p[0],m=p[1],g=void 0===m?h:m,b=p[2];s=Wu,a=[h,g,void 0===b?1:b]}else if("scaleX"===i){s=Wu,a=[h=parseFloat(n),1,1]}else if("scaleY"===i){s=Wu,a=[1,g=parseFloat(n),1]}else if("scaleZ"===i){s=Wu,a=[1,1,parseFloat(n)]}else if("rotate"===i||"rotateZ"===i||"rotateX"===i||"rotateY"===i){var f=xc(n),v=f.unit,y=f.value;"rotate"===i||"rotateZ"===i?(o="rotateZ",s=Fu):"rotateX"===i?s=ju:"rotateY"===i&&(s=Uu),a="rad"===v?y:y*Math.PI/180}else if("matrix3d"===i)s=Gu,a=vc(n).map((function(e){return parseFloat(e)}));else if("matrix"===i){var x=vc(n).map((function(e){return parseFloat(e)}));s=Gu,a=[x[0],x[1],0,0,x[2],x[3],0,0,0,0,1,0,x[4],x[5],0,1]}else o="";return{name:i,functionName:o,value:n,matrixFunction:s,functionValue:a}}))}
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */var np=function(e,t){return np=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},np(e,t)};var sp,op="function"==typeof Map?void 0:(sp=0,function(e){return e.__DIFF_KEY__||(e.__DIFF_KEY__=++sp)});var ap=function(e){function t(t){return void 0===t&&(t=[]),e.call(this,t,op)||this}return function(e,t){function i(){this.constructor=e}np(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}(t,e),t}(ic);
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */function lp(e){return Bc(e,ac)}function rp(e){return e.length<3?0:Math.abs(function(e){for(var t=0,i=e.length-1;i>=0;--i)t+=e[i];return t}(e.map((function(t,i){var n=e[i+1]||e[0];return t[0]*n[1]-n[0]*t[1]}))))/2}function dp(e,t){var i=t.width,n=t.height,s=t.left,o=t.top,a=cp(e),l=a.minX,r=a.minY,d=a.maxX,c=a.maxY,u=i/(d-l),p=n/(c-r);return e.map((function(e){return[s+(e[0]-l)*u,o+(e[1]-r)*p]}))}function cp(e){var t=e.map((function(e){return e[0]})),i=e.map((function(e){return e[1]}));return{minX:Math.min.apply(Math,t),minY:Math.min.apply(Math,i),maxX:Math.max.apply(Math,t),maxY:Math.max.apply(Math,i)}}function up(e,t,i){var n=e[0],s=e[1],o=cp(t),a=o.minX,l=o.maxX,r=[[a,s],[l,s]],d=pp(r[0],r[1]),c=gp(t),u=[];if(c.forEach((function(t){var i,n=pp(t[0],t[1]),o=t[0];(i=n,d.every((function(e,t){return 0===lp(e-i[t])})))?u.push({pos:e,line:t,type:"line"}):mp(hp(d,n),[r,t]).forEach((function(e){t.some((function(t){return n=e,!lp((i=t)[0]-n[0])&&!lp(i[1]-n[1]);var i,n}))?u.push({pos:e,line:t,type:"point"}):0!==lp(o[1]-s)&&u.push({pos:e,line:t,type:"intersection"})}))})),!i&&Cc(u,(function(e){return e[0]===n})))return!0;var p=0,h={};return u.forEach((function(e){var t=e.pos,i=e.type,o=e.line;if(!(t[0]>n))if("intersection"===i)++p;else{if("line"===i)return;if("point"===i){var a=Cc(o,(function(e){return e[1]!==s})),l=h[t[0]],r=a[1]>s?1:-1;l?l!==r&&++p:h[t[0]]=r}}})),p%2==1}function pp(e,t){var i=e[0],n=e[1],s=t[0]-i,o=t[1]-n;Math.abs(s)<ac&&(s=0),Math.abs(o)<ac&&(o=0);var a=0,l=0,r=0;return s?o?(l=1,r=-(a=-o/s)*i-n):(l=1,r=-n):o&&(a=-1,r=i),[a,l,r]}function hp(e,t){var i=e[0],n=e[1],s=e[2],o=t[0],a=t[1],l=t[2],r=0===i&&0===o,d=0===n&&0===a,c=[];if(r&&d)return[];if(r){var u=-s/n;return u!==-l/a?[]:[[-1/0,u],[1/0,u]]}if(d){var p=-s/i;return p!==-l/o?[]:[[p,-1/0],[p,1/0]]}if(0===i)c=[[h=-(a*(m=-s/n)+l)/o,m]];else if(0===o){c=[[h=-(n*(m=-l/a)+s)/i,m]]}else if(0===n){c=[[h=-s/i,m=-(o*h+l)/a]]}else if(0===a){c=[[h=-l/o,m=-(i*h+s)/n]]}else{var h,m;c=[[h=(n*l-a*s)/(a*i-n*o),m=-(i*h+s)/n]]}return c.map((function(e){return[e[0],e[1]]}))}function mp(e,t){var i=t.map((function(e){return[0,1].map((function(t){return[Math.min(e[0][t],e[1][t]),Math.max(e[0][t],e[1][t])]}))})),n=[];if(2===e.length){var s=e[0],o=s[0],a=s[1];if(lp(o-e[1][0])){if(!lp(a-e[1][1])){var l=Math.max.apply(Math,i.map((function(e){return e[0][0]}))),r=Math.min.apply(Math,i.map((function(e){return e[0][1]})));if(lp(l-r)>0)return[];n=[[l,a],[r,a]]}}else{var d=Math.max.apply(Math,i.map((function(e){return e[1][0]}))),c=Math.min.apply(Math,i.map((function(e){return e[1][1]})));if(lp(d-c)>0)return[];n=[[o,d],[o,c]]}}return n.length||(n=e.filter((function(e){var t=e[0],n=e[1];return i.every((function(e){return 0<=lp(t-e[0][0])&&0<=lp(e[0][1]-t)&&0<=lp(n-e[1][0])&&0<=lp(e[1][1]-n)}))}))),n.map((function(e){return[lp(e[0]),lp(e[1])]}))}function gp(e){return function(){for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;var n=Array(e),s=0;for(t=0;t<i;t++)for(var o=arguments[t],a=0,l=o.length;a<l;a++,s++)n[s]=o[a];return n}(e.slice(1),[e[0]]).map((function(t,i){return[e[i],t]}))}function bp(e,t){var i=function(e,t){var i=e.slice(),n=t.slice();-1===Rc(i)&&i.reverse(),-1===Rc(n)&&n.reverse();var s=gp(i),o=gp(n),a=s.map((function(e){return pp(e[0],e[1])})),l=o.map((function(e){return pp(e[0],e[1])})),r=[];a.forEach((function(e,t){var i=s[t],a=[];l.forEach((function(n,s){var l=mp(hp(e,n),[i,o[s]]);a.push.apply(a,l.map((function(e){return{index1:t,index2:s,pos:e,type:"intersection"}})))})),a.sort((function(e,t){return Ic(i[0],e.pos)-Ic(i[0],t.pos)})),r.push.apply(r,a),up(i[1],n)&&r.push({index1:t,index2:-1,pos:i[1],type:"inside"})})),o.forEach((function(e,t){if(up(e[1],i)){var n=!1,s=Sc(r,(function(e){return e.index2===t?(n=!0,!1):!!n}));-1===s&&(n=!1,s=Sc(r,(function(e){var i=e.index1,s=e.index2;return-1===i&&s+1===t?(n=!0,!1):!!n}))),-1===s?r.push({index1:-1,index2:t,pos:e[1],type:"inside"}):r.splice(s,0,{index1:-1,index2:t,pos:e[1],type:"inside"})}}));var d={};return r.filter((function(e){var t=e.pos,i=t[0]+"x"+t[1];return!d[i]&&(d[i]=!0,!0)}))}(e,t);return i.map((function(e){return e.pos}))}
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */
var fp=function(){return fp=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var s in t=arguments[i])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},fp.apply(this,arguments)};var vp=function(){function e(){this._events={}}var t=e.prototype;return t.on=function(e,t){if(dc(e))for(var i in e)this.on(i,e[i]);else this._addEvent(e,t,{});return this},t.off=function(e,t){if(e)if(dc(e))for(var i in e)this.off(i);else if(t){var n=this._events[e];if(n){var s=Sc(n,(function(e){return e.listener===t}));s>-1&&n.splice(s,1)}}else this._events[e]=[];else this._events={};return this},t.once=function(e,t){var i=this;return t&&this._addEvent(e,t,{once:!0}),new Promise((function(t){i._addEvent(e,t,{once:!0})}))},t.emit=function(e,t){var i=this;void 0===t&&(t={});var n=this._events[e];if(!e||!n)return!0;var s=!1;return t.eventType=e,t.stop=function(){s=!0},t.currentTarget=this,function(){for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;var n=Array(e),s=0;for(t=0;t<i;t++)for(var o=arguments[t],a=0,l=o.length;a<l;a++,s++)n[s]=o[a];return n}(n).forEach((function(n){n.listener(t),n.once&&i.off(e,n.listener)})),!s},t.trigger=function(e,t){return void 0===t&&(t={}),this.emit(e,t)},t._addEvent=function(e,t,i){var n=this._events;n[e]=n[e]||[],n[e].push(fp({listener:t},i))},e}(),yp=vp;
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */
var xp=function(e,t){return xp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},xp(e,t)};var _p=function(){return _p=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var s in t=arguments[i])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},_p.apply(this,arguments)};function wp(e){var t=e.container;return t===document.body?[t.scrollLeft||document.documentElement.scrollLeft,t.scrollTop||document.documentElement.scrollTop]:[t.scrollLeft,t.scrollTop]}var Sp=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._startRect=null,t._startPos=[],t._prevTime=0,t._timer=0,t._prevScrollPos=[0,0],t._isWait=!1,t}!function(e,t){function i(){this.constructor=e}xp(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}(t,e);var i=t.prototype;return i.dragStart=function(e,t){var i=t.container,n=0,s=0,o=0,a=0;if(i===document.body)o=window.innerWidth,a=window.innerHeight;else{var l=i.getBoundingClientRect();n=l.top,s=l.left,o=l.width,a=l.height}this._startPos=[e.clientX,e.clientY],this._startRect={top:n,left:s,width:o,height:a},this._prevScrollPos=this._getScrollPosition([0,0],t)},i.drag=function(e,t){var i=e.clientX,n=e.clientY,s=t.threshold,o=void 0===s?0:s,a=this._startRect,l=this._startPos,r=[0,0];return a.top>n-o?(l[1]>a.top||n<l[1])&&(r[1]=-1):a.top+a.height<n+o&&(l[1]<a.top+a.height||n>l[1])&&(r[1]=1),a.left>i-o?(l[0]>a.left||i<l[0])&&(r[0]=-1):a.left+a.width<i+o&&(l[0]<a.left+a.width||i>l[0])&&(r[0]=1),clearTimeout(this._timer),!(!r[0]&&!r[1])&&this._continueDrag(_p(_p({},t),{direction:r,inputEvent:e,isDrag:!0}))},i.checkScroll=function(e){var t=this;if(this._isWait)return!1;var i=e.prevScrollPos,n=void 0===i?this._prevScrollPos:i,s=e.direction,o=e.throttleTime,a=void 0===o?0:o,l=e.inputEvent,r=e.isDrag,d=this._getScrollPosition(s||[0,0],e),c=d[0]-n[0],u=d[1]-n[1],p=s||[c?Math.abs(c)/c:0,u?Math.abs(u)/u:0];return this._prevScrollPos=d,!(!c&&!u)&&(this.trigger("move",{offsetX:p[0]?c:0,offsetY:p[1]?u:0,inputEvent:l}),a&&r&&(this._timer=window.setTimeout((function(){t._continueDrag(e)}),a)),!0)},i.dragEnd=function(){clearTimeout(this._timer)},i._getScrollPosition=function(e,t){var i=t.container,n=t.getScrollPosition;return(void 0===n?wp:n)({container:i,direction:e})},i._continueDrag=function(e){var t=this,i=e.container,n=e.direction,s=e.throttleTime,o=e.useScroll,a=e.isDrag,l=e.inputEvent;if(!a||!this._isWait){var r=Date.now?Date.now():(new Date).getTime(),d=Math.max(s+this._prevTime-r,0);if(d>0)return this._timer=window.setTimeout((function(){t._continueDrag(e)}),d),!1;this._prevTime=r;var c=this._getScrollPosition(n,e);return this._prevScrollPos=c,a&&(this._isWait=!0),this.trigger("scroll",{container:i,direction:n,inputEvent:l}),this._isWait=!1,o||this.checkScroll(_p(_p({},e),{prevScrollPos:c,direction:n,inputEvent:l}))}},t}(yp),Cp=Sp,kp=function(e,t){return kp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},kp(e,t)};var Ap=function(){return Ap=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var s in t=arguments[i])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},Ap.apply(this,arguments)};function Ep(e){return 180*(t=[e[0].clientX,e[0].clientY],i=[e[1].clientX,e[1].clientY],n=i[0]-t[0],s=i[1]-t[1],((o=Math.atan2(s,n))>=0?o:o+2*Math.PI)/Math.PI);var t,i,n,s,o}function Lp(e){return e?e.touches?function(e){for(var t=Math.min(e.length,2),i=[],n=0;n<t;++n)i.push(Mp(e[n]));return i}(e.touches):[Mp(e)]:[]}function qp(e,t,i){var n=i.length,s=Op(e,n),o=s.clientX,a=s.clientY,l=s.originalClientX,r=s.originalClientY,d=Op(t,n),c=d.clientX,u=d.clientY,p=Op(i,n);return{clientX:l,clientY:r,deltaX:o-c,deltaY:a-u,distX:o-p.clientX,distY:a-p.clientY}}function Tp(e){return Math.sqrt(Math.pow(e[0].clientX-e[1].clientX,2)+Math.pow(e[0].clientY-e[1].clientY,2))}function Mp(e){return{clientX:e.clientX,clientY:e.clientY}}function Op(e,t){void 0===t&&(t=e.length);for(var i={clientX:0,clientY:0,originalClientX:0,originalClientY:0},n=0;n<t;++n){var s=e[n];i.originalClientX+="originalClientX"in s?s.originalClientX:s.clientX,i.originalClientY+="originalClientY"in s?s.originalClientY:s.clientY,i.clientX+=s.clientX,i.clientY+=s.clientY}return t?{clientX:i.clientX/t,clientY:i.clientY/t,originalClientX:i.originalClientX/t,originalClientY:i.originalClientY/t}:i}var Rp=function(){function e(e){this.prevClients=[],this.startClients=[],this.movement=0,this.length=0,this.startClients=e,this.prevClients=e,this.length=e.length}var t=e.prototype;return t.getAngle=function(e){return void 0===e&&(e=this.prevClients),Ep(e)},t.getRotation=function(e){return void 0===e&&(e=this.prevClients),Ep(e)-Ep(this.startClients)},t.getPosition=function(e,t){void 0===e&&(e=this.prevClients);var i=qp(e||this.prevClients,this.prevClients,this.startClients),n=i.deltaX,s=i.deltaY;return this.movement+=Math.sqrt(n*n+s*s),this.prevClients=e,i},t.getPositions=function(e){void 0===e&&(e=this.prevClients);var t=this.prevClients;return this.startClients.map((function(i,n){return qp([e[n]],[t[n]],[i])}))},t.getMovement=function(e){var t=this.movement;if(!e)return t;var i=Op(e,this.length),n=Op(this.prevClients,this.length),s=i.clientX-n.clientX,o=i.clientY-n.clientY;return Math.sqrt(s*s+o*o)+t},t.getDistance=function(e){return void 0===e&&(e=this.prevClients),Tp(e)},t.getScale=function(e){return void 0===e&&(e=this.prevClients),Tp(e)/Tp(this.startClients)},t.move=function(e,t){this.startClients.forEach((function(i){i.clientX-=e,i.clientY-=t}))},e}(),Ip=["textarea","input"],Bp=function(e){function t(t,i){void 0===i&&(i={});var n=e.call(this)||this;n.options={},n.flag=!1,n.pinchFlag=!1,n.datas={},n.isDrag=!1,n.isPinch=!1,n.isMouse=!1,n.isTouch=!1,n.clientStores=[],n.targets=[],n.prevTime=0,n.doubleFlag=!1,n._dragFlag=!1,n.onDragStart=function(e,t){if(void 0===t&&(t=!0),n.flag||!1!==e.cancelable){var i=n.options,s=i.container,o=i.pinchOutside,a=i.preventWheelClick,l=i.preventRightClick,r=i.preventDefault,d=i.checkInput,c=n.isTouch,u=!n.flag;if(a&&(2===e.which||1===e.button)||l&&(3===e.which||2===e.button))return n.initDrag(),!1;if(u){var p=document.activeElement,h=e.target,m=h.tagName.toLowerCase(),g=Ip.indexOf(m)>-1,b=h.isContentEditable;if(g||b){if(d||p===h)return!1;if(p&&b&&p.isContentEditable&&p.contains(h))return!1}else if((r||"touchstart"===e.type)&&p){var f=p.tagName;(p.isContentEditable||Ip.indexOf(f)>-1)&&p.blur()}n.clientStores=[new Rp(Lp(e))],n.flag=!0,n.isDrag=!1,n._dragFlag=!0,n.datas={},n.doubleFlag=wc()-n.prevTime<200,!1===n.emit("dragStart",Ap(Ap({datas:n.datas,inputEvent:e,isTrusted:t,isDouble:n.doubleFlag},n.getCurrentStore().getPosition()),{preventDefault:function(){e.preventDefault()},preventDrag:function(){n._dragFlag=!1}}))&&n.initDrag(),n.flag&&r&&e.preventDefault()}if(!n.flag)return!1;var v=0;if(u&&c&&o&&(v=setTimeout((function(){zc(s,"touchstart",n.onDragStart,{passive:!1})}))),!u&&c&&o&&Pc(s,"touchstart",n.onDragStart),n.flag&&function(e){return e.touches&&e.touches.length>=2}(e)){if(clearTimeout(v),u&&e.touches.length!==e.changedTouches.length)return;n.pinchFlag||n.onPinchStart(e)}}},n.onDrag=function(e,t){if(n.flag){var i=Lp(e),s=n.moveClients(i,e,!1);if(n._dragFlag){if(n.pinchFlag||s.deltaX||s.deltaY)if(!1===n.emit("drag",Ap(Ap({},s),{isScroll:!!t,inputEvent:e})))return void n.stop();n.pinchFlag&&n.onPinch(e,i)}n.getCurrentStore().getPosition(i,!0)}},n.onDragEnd=function(e){if(n.flag){var t=n.options,i=t.pinchOutside,s=t.container;n.isTouch&&i&&Pc(s,"touchstart",n.onDragStart),n.pinchFlag&&n.onPinchEnd(e);var o=(null==e?void 0:e.touches)?Lp(e):[];0!==o.length&&n.options.keepDragging?n._addStore(new Rp(o)):n.flag=!1;var a=n._getPosition(),l=wc(),r=!n.isDrag&&n.doubleFlag;n.prevTime=n.isDrag||r?0:l,n.flag||(n.emit("dragEnd",Ap({datas:n.datas,isDouble:r,isDrag:n.isDrag,isClick:!n.isDrag,inputEvent:e},a)),n.clientStores=[])}},n.onBlur=function(){n.onDragEnd()};var s=[].concat(t);n.options=Ap({checkInput:!1,container:s.length>1?window:s[0],preventRightClick:!0,preventWheelClick:!0,preventDefault:!0,checkWindowBlur:!1,keepDragging:!1,pinchThreshold:0,events:["touch","mouse"]},i);var o=n.options,a=o.container,l=o.events,r=o.checkWindowBlur;if(n.isTouch=l.indexOf("touch")>-1,n.isMouse=l.indexOf("mouse")>-1,n.targets=s,n.isMouse&&(s.forEach((function(e){zc(e,"mousedown",n.onDragStart)})),zc(a,"mousemove",n.onDrag),zc(a,"mouseup",n.onDragEnd),zc(a,"contextmenu",n.onDragEnd)),r&&zc(window,"blur",n.onBlur),n.isTouch){var d={passive:!1};s.forEach((function(e){zc(e,"touchstart",n.onDragStart,d)})),zc(a,"touchmove",n.onDrag,d),zc(a,"touchend",n.onDragEnd,d),zc(a,"touchcancel",n.onDragEnd,d)}return n}!function(e,t){function i(){this.constructor=e}kp(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}(t,e);var i=t.prototype;return i.stop=function(){this.isDrag=!1,this.flag=!1,this.clientStores=[],this.datas={}},i.getMovement=function(e){return this.getCurrentStore().getMovement(e)+this.clientStores.slice(1).reduce((function(e,t){return e+t.movement}),0)},i.isDragging=function(){return this.isDrag},i.isFlag=function(){return this.flag},i.isPinchFlag=function(){return this.pinchFlag},i.isDoubleFlag=function(){return this.doubleFlag},i.isPinching=function(){return this.isPinch},i.scrollBy=function(e,t,i,n){void 0===n&&(n=!0),this.flag&&(this.clientStores[0].move(e,t),n&&this.onDrag(i,!0))},i.move=function(e,t){var i=e[0],n=e[1],s=this.getCurrentStore().prevClients;return this.moveClients(s.map((function(e){var t=e.clientX,s=e.clientY;return{clientX:t+i,clientY:s+n,originalClientX:t,originalClientY:s}})),t,!0)},i.triggerDragStart=function(e){this.onDragStart(e,!1)},i.setEventDatas=function(e){var t=this.datas;for(var i in e)t[i]=e[i];return this},i.getCurrentEvent=function(e){return Ap(Ap({datas:this.datas},this._getPosition()),{movement:this.getMovement(),isDrag:this.isDrag,isPinch:this.isPinch,isScroll:!1,inputEvent:e})},i.getEventDatas=function(){return this.datas},i.unset=function(){var e=this,t=this.targets,i=this.options.container;this.off(),Pc(window,"blur",this.onBlur),this.isMouse&&(t.forEach((function(t){Pc(t,"mousedown",e.onDragStart)})),Pc(i,"mousemove",this.onDrag),Pc(i,"mouseup",this.onDragEnd),Pc(i,"contextmenu",this.onDragEnd)),this.isTouch&&(t.forEach((function(t){Pc(t,"touchstart",e.onDragStart)})),Pc(i,"touchstart",this.onDragStart),Pc(i,"touchmove",this.onDrag),Pc(i,"touchend",this.onDragEnd),Pc(i,"touchcancel",this.onDragEnd))},i.onPinchStart=function(e){var t=this.options.pinchThreshold;if(!(this.isDrag&&this.getMovement()>t)){var i=new Rp(Lp(e));this.pinchFlag=!0,this._addStore(i),!1===this.emit("pinchStart",Ap(Ap({datas:this.datas,angle:i.getAngle(),touches:this.getCurrentStore().getPositions()},i.getPosition()),{inputEvent:e}))&&(this.pinchFlag=!1)}},i.onPinch=function(e,t){if(this.flag&&this.pinchFlag&&!(t.length<2)){var i=this.getCurrentStore();this.isPinch=!0,this.emit("pinch",Ap(Ap({datas:this.datas,movement:this.getMovement(t),angle:i.getAngle(t),rotation:i.getRotation(t),touches:i.getPositions(t),scale:i.getScale(t),distance:i.getDistance(t)},i.getPosition(t)),{inputEvent:e}))}},i.onPinchEnd=function(e){if(this.pinchFlag){var t=this.isPinch;this.isPinch=!1,this.pinchFlag=!1;var i=this.getCurrentStore();this.emit("pinchEnd",Ap(Ap({datas:this.datas,isPinch:t,touches:i.getPositions()},i.getPosition()),{inputEvent:e}))}},i.initDrag=function(){this.clientStores=[],this.pinchFlag=!1,this.doubleFlag=!1,this.prevTime=0,this.flag=!1},i.getCurrentStore=function(){return this.clientStores[0]},i.moveClients=function(e,t,i){var n=this._getPosition(e,i);return(n.deltaX||n.deltaY)&&(this.isDrag=!0),Ap(Ap({datas:this.datas},n),{movement:this.getMovement(e),isDrag:this.isDrag,isPinch:this.isPinch,isScroll:!1,inputEvent:t})},i._addStore=function(e){this.clientStores.splice(0,0,e)},i._getPosition=function(e,t){var i=this.getCurrentStore().getPosition(e,t),n=this.clientStores.slice(1).reduce((function(e,t){var i=t.getPosition();return e.distX+=i.distX,e.distY+=i.distY,e}),i),s=n.distX,o=n.distY;return Ap(Ap({},i),{distX:s,distY:o})},t}(yp),Np=Bp;var $p=function(e){for(var t=5381,i=e.length;i;)t=33*t^e.charCodeAt(--i);return t>>>0};function zp(e,t,i,n){var s=document.createElement("style");return s.setAttribute("type","text/css"),s.setAttribute("data-styled-id",e),i.nonce&&s.setAttribute("nonce",i.nonce),s.innerHTML=function(e,t,i){return i.original?t:t.replace(/([^};{\s}][^};{]*|^\s*){/gm,(function(t,i){var n=i.trim();return(n?vc(n):[""]).map((function(t){var i=t.trim();return 0===i.indexOf("@")?i:i.indexOf(":global")>-1?i.replace(/\:global/g,""):i.indexOf(":host")>-1?""+i.replace(/\:host/g,"."+e):i?"."+e+" "+i:"."+e})).join(", ")+" {"}))}(e,t,i),(n||document.head||document.body).appendChild(s),s}function Pp(e){var t,i="rCS"+$p(e).toString(36),n=0;return{className:i,inject:function(s,o){void 0===o&&(o={});var a,l=function(e){if(e&&e.getRootNode){var t=e.getRootNode();if(11===t.nodeType)return t}}(s),r=0===n;return(l||r)&&(a=zp(i,e,o,l)),r&&(t=a),l||++n,{destroy:function(){l?(s.removeChild(a),a=null):(n>0&&--n,0===n&&t&&(t.parentNode.removeChild(t),t=null))}}}}}
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */var Hp=function(e,t){return Hp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},Hp(e,t)};function Dp(e,t){function i(){this.constructor=e}Hp(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}var jp=function(){return jp=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var s in t=arguments[i])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},jp.apply(this,arguments)};var Up=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.injectResult=null,t.tag="div",t}Dp(t,e);var i=t.prototype;return i.render=function(){var e=this.props,t=e.className,i=void 0===t?"":t;e.cspNonce;var n=e.portalContainer,s=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(i[n[s]]=e[n[s]])}return i}(e,["className","cspNonce","portalContainer"]),o=this.injector.className,a=this.tag,l={};return"simple-1.1.0".indexOf("simple")>-1&&n&&(l={portalContainer:n}),Qc(a,jp({ref:Yd(this,"element"),"data-styled-id":o,className:i+" "+o},l,s))},i.componentDidMount=function(){this.injectResult=this.injector.inject(this.element,{nonce:this.props.cspNonce})},i.componentWillUnmount=function(){this.injectResult.destroy(),this.injectResult=null},i.getElement=function(){return this.element},t}(ru);function Fp(e,t){var i=Pp(t);return function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.injector=i,n.tag=e,n}return Dp(n,t),n}(Up)}
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var Wp=function(){return Wp=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var s in t=arguments[i])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},Wp.apply(this,arguments)};var Yp=function(){function e(){this._events={}}var t=e.prototype;return t.on=function(e,t){if(dc(e))for(var i in e)this.on(i,e[i]);else this._addEvent(e,t,{});return this},t.off=function(e,t){if(e)if(dc(e))for(var i in e)this.off(i);else if(t){var n=this._events[e];if(n){var s=Sc(n,(function(e){return e.listener===t}));s>-1&&n.splice(s,1)}}else this._events[e]=[];else this._events={};return this},t.once=function(e,t){var i=this;return t&&this._addEvent(e,t,{once:!0}),new Promise((function(t){i._addEvent(e,t,{once:!0})}))},t.emit=function(e,t){var i=this;void 0===t&&(t={});var n=this._events[e];if(!e||!n)return!0;var s=!1;return t.eventType=e,t.stop=function(){s=!0},t.currentTarget=this,function(){for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;var n=Array(e),s=0;for(t=0;t<i;t++)for(var o=arguments[t],a=0,l=o.length;a<l;a++,s++)n[s]=o[a];return n}(n).forEach((function(n){n.listener(t),n.once&&i.off(e,n.listener)})),!s},t.trigger=function(e,t){return void 0===t&&(t={}),this.emit(e,t)},t._addEvent=function(e,t,i){var n=this._events;n[e]=n[e]||[],n[e].push(Wp({listener:t},i))},e}(),Xp=Yp,Gp=function(e,t){return Gp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])},Gp(e,t)};function Vp(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}Gp(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}var Kp=function(){return Kp=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var s in t=arguments[i])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},Kp.apply(this,arguments)};function Zp(e,t,i){if(i||2===arguments.length)for(var n,s=0,o=t.length;s<o;s++)!n&&s in t||(n||(n=Array.prototype.slice.call(t,0,s)),n[s]=t[s]);return e.concat(n||Array.prototype.slice.call(t))}function Qp(e,t){var i;return Kp({events:{},props:(i={},i[e]=Boolean,i),name:e},t)}var Jp,eh,th=function(e){return void 0===e&&function(){if("undefined"==typeof navigator||!navigator||!navigator.userAgentData)return!1;var e=navigator.userAgentData,t=e.brands||e.uaList;return!(!t||!t.length)}()?function(e){var t=navigator.userAgentData,i=(t.uaList||t.brands).slice(),n=e&&e.fullVersionList,s=t.mobile||!1,o=i[0],a=(e&&e.platform||t.platform||navigator.platform).toLowerCase(),l={name:o.brand,version:o.version,majorVersion:-1,webkit:!1,webkitVersion:"-1",chromium:!1,chromiumVersion:"-1",webview:!!_u(Au,i).brand||Lu(fu())},r={name:"unknown",version:"-1",majorVersion:-1};l.webkit=!l.chromium&&gu(ku,(function(e){return wu(i,e)}));var d=_u(Cu,i);if(l.chromium=!!d.brand,l.chromiumVersion=d.version,!l.chromium){var c=_u(ku,i);l.webkit=!!c.brand,l.webkitVersion=c.version}var u=bu(Eu,(function(e){return new RegExp(""+e.test,"g").exec(a)}));if(r.name=u?u.id:"",e&&(r.version=e.platformVersion),n&&n.length){var p=_u(Su,n);l.name=p.brand||l.name,l.version=p.version||l.version}else{var h=_u(Su,i);l.name=h.brand||l.name,l.version=h.brand&&e?e.uaFullVersion:h.version}return l.webkit&&(r.name=s?"ios":"mac"),"ios"===r.name&&l.webview&&(l.version="-1"),r.version=yu(r.version),l.version=yu(l.version),r.majorVersion=parseInt(r.version,10),l.majorVersion=parseInt(l.version,10),{browser:l,os:r,isMobile:s,isHints:!0}}():function(e){var t=fu(e),i=!!/mobi/g.exec(t),n={name:"unknown",version:"-1",majorVersion:-1,webview:Lu(t),chromium:!1,chromiumVersion:"-1",webkit:!1,webkitVersion:"-1"},s={name:"unknown",version:"-1",majorVersion:-1},o=xu(Su,t),a=o.preset,l=o.version,r=xu(Eu,t),d=r.preset,c=r.version,u=xu(Cu,t);if(n.chromium=!!u.preset,n.chromiumVersion=u.version,!n.chromium){var p=xu(ku,t);n.webkit=!!p.preset,n.webkitVersion=p.version}return d&&(s.name=d.id,s.version=c,s.majorVersion=parseInt(c,10)),a&&(n.name=a.id,n.version=l,n.webview&&"ios"===s.name&&"safari"!==n.name&&(n.webview=!1)),n.majorVersion=parseInt(n.version,10),{browser:n,os:s,isMobile:i,isHints:!1}}(e)}(),ih=th.browser.webkit,nh=ih&&(Jp="undefined"==typeof window?{userAgent:""}:window.navigator,!!(eh=/applewebkit\/([^\s]+)/g.exec(Jp.userAgent.toLowerCase()))&&parseFloat(eh[1])<605),sh="moveable-",oh="\n{\n\tposition: absolute;\n\twidth: 1px;\n\theight: 1px;\n\tleft: 0;\n\ttop: 0;\n    z-index: 3000;\n    --moveable-color: #4af;\n    --zoom: 1;\n    --zoompx: 1px;\n    will-change: transform;\n}\n.control-box {\n    z-index: 0;\n}\n.line, .control {\n    position: absolute;\n\tleft: 0;\n    top: 0;\n    will-change: transform;\n}\n.control {\n\twidth: 14px;\n\theight: 14px;\n\tborder-radius: 50%;\n\tborder: 2px solid #fff;\n\tbox-sizing: border-box;\n    background: #4af;\n    background: var(--moveable-color);\n\tmargin-top: -7px;\n    margin-left: -7px;\n    border: 2px solid #fff;\n    z-index: 10;\n}\n.padding {\n    position: absolute;\n    top: 0px;\n    left: 0px;\n    width: 100px;\n    height: 100px;\n    transform-origin: 0 0;\n}\n.line {\n\twidth: 1px;\n    height: 1px;\n    background: #4af;\n    background: var(--moveable-color);\n\ttransform-origin: 0px 50%;\n}\n.line.dashed {\n    box-sizing: border-box;\n    background: transparent;\n}\n.line.dashed.horizontal {\n    border-top: 1px dashed #4af;\n    border-top-color: #4af;\n    border-top-color: var(--moveable-color);\n}\n.line.dashed.vertical {\n    border-left: 1px dashed #4af;\n    border-left-color: #4af;\n    border-left-color: var(--moveable-color);\n}\n.line.vertical {\n    transform: translateX(-50%);\n}\n.line.horizontal {\n    transform: translateY(-50%);\n}\n.line.vertical.bold {\n    width: 2px;\n}\n.line.horizontal.bold {\n    height: 2px;\n}\n\n.control.origin {\n\tborder-color: #f55;\n\tbackground: #fff;\n\twidth: 12px;\n\theight: 12px;\n\tmargin-top: -6px;\n    margin-left: -6px;\n\tpointer-events: none;\n}\n".concat([0,15,30,45,60,75,90,105,120,135,150,165].map((function(e){return'\n.direction[data-rotation="'.concat(e,'"] {\n\t').concat(function(e){var t=function(e,t){return'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="'.concat(32*e,'px" height="').concat(32*e,'px" viewBox="0 0 32 32" ><path d="M 16,5 L 12,10 L 14.5,10 L 14.5,22 L 12,22 L 16,27 L 20,22 L 17.5,22 L 17.5,10 L 20, 10 L 16,5 Z" stroke-linejoin="round" stroke-width="1.2" fill="black" stroke="white" style="transform:rotate(').concat(t,'deg);transform-origin: 16px 16px"></path></svg>')}(1,e),i=45*Math.round(e/45)%180,n="ns-resize";return 135===i?n="nwse-resize":45===i?n="nesw-resize":90===i&&(n="ew-resize"),"cursor:".concat(n,";cursor: url('").concat(t,"') 16 16, ").concat(n,";")}(e),"\n}\n")})).join("\n"),"\n.group {\n    z-index: -1;\n}\n.area {\n    position: absolute;\n}\n.area-pieces {\n    position: absolute;\n    top: 0;\n    left: 0;\n    display: none;\n}\n.area.avoid, .area.pass {\n    pointer-events: none;\n}\n.area.avoid+.area-pieces {\n    display: block;\n}\n.area-piece {\n    position: absolute;\n}\n\n").concat(nh?':global svg *:before {\n\tcontent:"";\n\ttransform-origin: inherit;\n}':"","\n"),ah=[[0,1,2],[1,0,3],[2,0,3],[3,1,2]],lh=1e-7,rh=1e-9,dh=Math.pow(10,10),ch=-dh,uh=["n","w","s","e","nw","ne","sw","se"],ph={n:[0,1],s:[2,3],w:[2,0],e:[1,3],nw:[0],ne:[1],sw:[2],se:[3]},hh={n:0,s:180,w:270,e:90,nw:315,ne:45,sw:225,se:135},mh=["isMoveableElement","updateRect","updateTarget","destroy","dragStart","isInside","hitTest","setState","getRect","request","isDragging","getManager","forceUpdate"];function gh(e,t,i,n,s){var o=t.gesto.move(i,e.inputEvent),a=o.originalDatas||o.datas,l=a.draggable||(a.draggable={});return Kp(Kp({},s?Pg(t,o):o),{isPinch:!!n,parentEvent:!0,datas:l,originalDatas:e.originalDatas})}var bh=function(){function e(){this.prevX=0,this.prevY=0,this.startX=0,this.startY=0,this.isDrag=!1,this.isFlag=!1,this.datas={draggable:{}}}var t=e.prototype;return t.dragStart=function(e,t){this.isDrag=!1,this.isFlag=!1;var i=t.originalDatas;return this.datas=i,i.draggable||(i.draggable={}),Kp(Kp({},this.move(e,t.inputEvent)),{type:"dragstart"})},t.drag=function(e,t){return this.move([e[0]-this.prevX,e[1]-this.prevY],t)},t.move=function(e,t){var i,n;return this.isFlag?(i=this.prevX+e[0],n=this.prevY+e[1],(e[0]||e[1])&&(this.isDrag=!0)):(this.prevX=e[0],this.prevY=e[1],this.startX=e[0],this.startY=e[1],i=e[0],n=e[1],this.isFlag=!0),this.prevX=i,this.prevY=n,{type:"drag",clientX:i,clientY:n,inputEvent:t,isDrag:this.isDrag,distX:i-this.startX,distY:n-this.startY,deltaX:e[0],deltaY:e[1],datas:this.datas.draggable,originalDatas:this.datas,parentEvent:!0,parentGesto:this}},e}();function fh(e,t,i){var n=i.originalDatas;n.groupable=n.groupable||{};var s=n.groupable;s.childDatas=s.childDatas||[];var o=s.childDatas;return e.moveables.map((function(e,n){return o[n]=o[n]||{},o[n][t]=o[n][t]||{},Kp(Kp({},i),{datas:o[n][t],originalDatas:o[n]})}))}function vh(e,t,i,n,s,o){var a=!!i.match(/Start$/g),l=!!i.match(/End$/g),r=s.isPinch,d=s.datas,c=fh(e,t.name,s),u=e.moveables,p=c.map((function(e,s){var c=u[s],p=c.state,h=e;if(a)h=(new bh).dragStart(n,e);else{if(p.gesto||(p.gesto=d.childGestos[s]),!p.gesto)return;h=gh(e,p,n,r,o)}var m=t[i](c,Kp(Kp({},h),{parentFlag:!0}));return l&&(p.gesto=null),m}));return a&&(d.childGestos=u.map((function(e){return e.state.gesto}))),p}function yh(e,t,i,n,s,o){void 0===s&&(s=function(e,t){return t});var a=!!i.match(/End$/g),l=fh(e,t.name,n),r=e.moveables,d=l.map((function(e,n){var l,d=r[n];l=s(d,e);var c=t[i](d,Kp(Kp({},l),{parentFlag:!0}));return c&&o&&o(d,e,c,n),a&&(d.state.gesto=null),c}));return d}function xh(e,t,i,n){void 0===n&&(n="");var s=e.state,o=s.renderPoses,a=s.rotation,l=s.direction,r=e.props,d=r.renderDirections,c=void 0===d?t:d,u=r.zoom,p={};if(!c)return[];var h=l>0?1:-1,m=!0===c?uh:c,g=a/Math.PI*180;return m.forEach((function(e){p[e]=!0})),m.map((function(e){var t=ph[e];if(!t||!p[e])return null;var s=(Bc(g,15)+h*hh[e]+720)%180;return i.createElement("div",{className:Km("control","direction",e,n),"data-rotation":s,"data-direction":e,key:"direction-".concat(e),style:_g.apply(void 0,Zp([a,u],t.map((function(e){return o[e]})),!1))})}))}function _h(e,t,i,n,s,o){for(var a=[],l=6;l<arguments.length;l++)a[l-6]=arguments[l];var r=Oc(i,n),d=t?Bc(r/Math.PI*180,15)%180:-1;return e.createElement("div",{key:"line".concat(o),className:Km.apply(void 0,Zp(["line","direction",t],a,!1)),"data-rotation":d,"data-line-index":o,"data-direction":t,style:xg(i,n,s,r)})}function wh(e,t){return xh(e,uh,t)}function Sh(e,t){return xh(e,["nw","ne","sw","se"],t)}function Ch(e,t,i,n,s,o){var a=e.state.is3d?4:3,l=hg(e.state.rootMatrix,s,a),r=zu([o.left,o.top],l);t.startAbsoluteOrigin=r,t.prevDeg=Oc(r,[i,n])/Math.PI*180,t.defaultDeg=t.prevDeg,t.prevSnapDeg=0,t.loop=0}function kh(e,t,i){var n=i.defaultDeg,s=i.prevDeg,o=s%360,a=Math.floor(s/360);o<0&&(o+=360),o>e&&o>270&&e<90?++a:o<e&&o<90&&e>270&&--a;var l=t*(360*a+e-n);return i.prevDeg=n+l,l}function Ah(e,t,i,n){return kh(Oc(n.startAbsoluteOrigin,[e,t])/Math.PI*180,i,n)}function Eh(e,t,i,n,s,o){var a=e.props.throttleRotate,l=void 0===a?0:a,r=n,d=i.prevSnapDeg;o&&(r=function(e,t,i,n){if(!Ih(e,"rotatable"))return n;var s=t.pos1,o=t.pos2,a=t.pos3,l=t.pos4,r=n*Math.PI/180,d=[s,o,a,l].map((function(e){return Pu(e,i)})),c=d.map((function(e){return Yu(e,r)})),u=Zp(Zp([],function(e,t,i,n,s){if(!e.props.bounds)return[];var o=s*Math.PI/180,a=sm(e),l=a.left,r=a.top,d=a.right,c=a.bottom,u=l-n[0],p=d-n[0],h=r-n[1],m=c-n[1],g={left:u,top:h,right:p,bottom:m};if(!am(i,g,0))return[];var b=[];return[[u,0],[p,0],[h,1],[m,1]].forEach((function(e){var n=e[0],s=e[1];i.forEach((function(e){var i=Oc([0,0],e);b.push.apply(b,function(e,t,i){var n=vg(e),s=Math.sqrt(n*n-t*t)||0;return[s,-s].sort((function(t,n){return Math.abs(t-e[i?0:1])-Math.abs(n-e[i?0:1])})).map((function(e){return Oc([0,0],i?[e,t]:[t,e])}))}(e,n,s).map((function(e){return o+e-i})).filter((function(e){return!am(t,g,e)})).map((function(e){return Bc(180*e/Math.PI,lh)})))}))})),b}(e,d,c,i,n),!0),function(e,t,i,n,s){var o=e.props.innerBounds,a=s*Math.PI/180;if(!o)return[];var l=o.left,r=o.top,d=o.width,c=o.height,u=l-n[0],p=l+d-n[0],h=r-n[1],m=r+c-n[1],g=[[u,h],[p,h],[u,m],[p,m]],b=$m(i,[0,0]);if(!im(i,g,b,0))return[];var f=[],v=g.map((function(e){return[vg(e),Oc([0,0],e)]}));return[[i[0],i[1]],[i[1],i[3]],[i[3],i[2]],[i[2],i[0]]].forEach((function(e){var i=Oc([0,0],function(e){var t=e[0],i=e[1],n=i[0]-t[0],s=i[1]-t[1];if(!n)return[t[0],0];if(!s)return[0,t[1]];var o=s/n,a=-o*t[0]+t[1];return[-a/(o+1/o),a/(o*o+1)]}(e)),n=function(e){var t=e[0],i=e[1],n=i[0]-t[0],s=i[1]-t[1];if(!n)return Math.abs(t[0]);if(!s)return Math.abs(t[1]);var o=s/n;return Math.abs((-o*t[0]+t[1])/Math.sqrt(Math.pow(o,2)+1))}(e);f.push.apply(f,v.filter((function(e){var t=e[0];return t&&n<=t})).map((function(e){var t=e[0],s=e[1],o=Math.acos(t?n/t:0);return[a+(s+o)-i,a+(s-o)-i]})).reduce((function(e,t){return e.push.apply(e,t),e}),[]).filter((function(e){return!im(t,g,b,e)})).map((function(e){return Bc(180*e/Math.PI,lh)})))})),f}(e,d,c,i,n),!0);return u.sort((function(e,t){return Math.abs(e-n)-Math.abs(t-n)})),u.length?u[0]:n}(e,t,i.origin,r));var c=Bc(s+r,l),u=c-s;return i.prevSnapDeg=u,[u-d,r,c]}function Lh(e,t){if(t.isRequest)return"rotatable"===t.requestAble;var i=t.inputEvent.target;if($c(i,Km("rotation-control")))return!0;var n=e.props.rotationTarget;return!!n&&Yg(n,!0).some((function(e){return!!e&&(i===e||i.contains(e))}))}var qh={name:"rotatable",canPinch:!0,props:{rotatable:Boolean,rotationPosition:String,throttleRotate:Number,renderDirections:Object,rotationTarget:Object},events:{onRotateStart:"rotateStart",onBeforeRotate:"beforeRotate",onRotate:"rotate",onRotateEnd:"rotateEnd",onRotateGroupStart:"rotateGroupStart",onBeforeRotateGroup:"beforeRotateGroup",onRotateGroup:"rotateGroup",onRotateGroupEnd:"rotateGroupEnd"},css:[".rotation {\n            position: absolute;\n            height: 40px;\n            width: 1px;\n            transform-origin: 50% 100%;\n            height: calc(40px * var(--zoom));\n            top: auto;\n            left: 0;\n            bottom: 100%;\n            will-change: transform;\n        }\n        .rotation .rotation-line {\n            display: block;\n            width: 100%;\n            height: 100%;\n            transform-origin: 50% 50%;\n        }\n        .rotation .rotation-control {\n            border-color: #4af;\n            border-color: var(--moveable-color);\n            background:#fff;\n            cursor: alias;\n        }"],render:function(e,t){var i=e.props,n=i.rotatable,s=i.rotationPosition,o=i.zoom,a=i.renderDirections,l=e.state,r=l.renderPoses,d=l.direction;if(!n)return null;var c=function(e,t,i){var n=t[0],s=t[1],o=t[2],a=t[3];if("none"!==e){var l=(e||"top").split("-"),r=l[0],d=l[1],c=[n,s];"left"===r?c=[o,n]:"right"===r?c=[s,a]:"bottom"===r&&(c=[a,o]);var u=[(c[0][0]+c[1][0])/2,(c[0][1]+c[1][1])/2],p=Sg(c,i);if(d){var h="top"===d||"left"===d,m="bottom"===r||"left"===r;u=c[h&&!m||!h&&m?0:1]}return[u,p]}}(s,r,d),u=[];if(c){var p=c[0],h=c[1];u.push(t.createElement("div",{key:"rotation",className:Km("rotation"),style:{transform:"translate(-50%) translate(".concat(p[0],"px, ").concat(p[1],"px) rotate(").concat(h,"rad)")}},t.createElement("div",{className:Km("line rotation-line"),style:{transform:"scaleX(".concat(o,")")}}),t.createElement("div",{className:Km("control rotation-control"),style:{transform:"translate(0.5px) scale(".concat(o,")")}})))}return a&&u.push.apply(u,xh(e,[],t)),u},dragControlCondition:Lh,dragControlStart:function(e,t){var i=t.datas,n=t.clientX,s=t.clientY,o=t.parentRotate,a=t.parentFlag,l=t.isPinch,r=t.isRequest,d=e.state,c=d.target,u=d.left,p=d.top,h=d.origin,m=d.beforeOrigin,g=d.direction,b=d.beforeDirection,f=d.targetTransform,v=d.moveableClientRect;if(!r&&!c)return!1;var y=e.getRect();if(i.rect=y,i.transform=f,i.left=u,i.top=p,i.fixedPosition=Xm(e,Ym(e)),r||l||a){var x=o||0;i.beforeInfo={origin:y.beforeOrigin,prevDeg:x,defaultDeg:x,prevSnapDeg:0},i.afterInfo=Kp(Kp({},i.beforeInfo),{origin:y.origin}),i.absoluteInfo=Kp(Kp({},i.beforeInfo),{origin:y.origin,startValue:x})}else i.beforeInfo={origin:y.beforeOrigin},i.afterInfo={origin:y.origin},i.absoluteInfo={origin:y.origin,startValue:y.rotation},Ch(e,i.beforeInfo,n,s,m,v),Ch(e,i.afterInfo,n,s,h,v),Ch(e,i.absoluteInfo,n,s,h,v);i.direction=g,i.beforeDirection=b,i.startValue=0,i.datas={},Hm(t,"rotate");var _=Tg(e,t,Kp(Kp({set:function(e){i.startValue=e*Math.PI/180}},Pm(t)),{dragStart:Em.dragStart(e,(new bh).dragStart([0,0],t))})),w=Rg(e,"onRotateStart",_);return i.isRotate=!1!==w,e.state.snapRenderInfo={request:t.isRequest},!!i.isRotate&&_},dragControl:function(e,t){var i,n,s,o=t.datas,a=t.clientX,l=t.clientY,r=t.parentRotate,d=t.parentFlag,c=t.isPinch,u=t.groupDelta,p=o.beforeDirection,h=o.beforeInfo,m=o.afterInfo,g=o.absoluteInfo,b=o.isRotate,f=o.startValue,v=o.rect;if(b){Tm(t,"rotate");var y,x,_,w,S,C,k,A,E,L=function(e){return fg(e.datas.beforeTransform,[50,50],100,100).direction}(t),q=p*L,T=e.props.parentMoveable,M=180/Math.PI*f,O=g.startValue,R=!1;if(!d&&"parentDist"in t){var I=t.parentDist;x=I,S=I,A=I}else c||d?(x=kh(r,p,h),S=kh(r,q,m),A=kh(r,q,g)):(x=Ah(a,l,p,h),S=Ah(a,l,q,m),A=Ah(a,l,q,g),R=!0);if(Rg(e,"onBeforeRotate",Tg(e,t,{beforeRotation:_=M+x,rotation:C=M+S,absoluteRotation:E=O+A,setRotation:function(e){x=S=e-M,A=S}},!0)),y=(i=Eh(e,v,h,x,M,R))[0],x=i[1],_=i[2],w=(n=Eh(e,v,m,S,M,R))[0],S=n[1],C=n[2],k=(s=Eh(e,v,g,A,O,R))[0],A=s[1],E=s[2],k||w||y||T){var B=Mm(o,"rotate(".concat(C,"deg)"),"rotate(".concat(S,"deg)")),N=function(e,t,i,n){var s=Ym(e);return Wm(e,"rotate(".concat(t,"deg)"),s,i,n)}(e,S,o.fixedPosition,o),$=Pu(zu(u||[0,0],N),o.prevInverseDist||[0,0]);o.prevInverseDist=N,o.requestValue=null;var z=Tg(e,t,Kp({delta:w,dist:S,rotate:C,rotation:C,beforeDist:x,beforeDelta:y,beforeRotate:_,beforeRotation:_,absoluteDist:A,absoluteDelta:k,absoluteRotate:E,absoluteRotation:E,isPinch:!!c},Fm(e,B,$,c,t)));return Rg(e,"onRotate",z),z}}},dragControlAfter:function(e,t){t.datas.requestValue},dragControlEnd:function(e,t){var i=t.datas;if(i.isRotate){i.isRotate=!1;var n=Mg(e,t,{});return Rg(e,"onRotateEnd",n),n}},dragGroupControlCondition:Lh,dragGroupControlStart:function(e,t){var i=t.datas,n=e.state,s=n.left,o=n.top,a=n.beforeOrigin,l=this.dragControlStart(e,t);if(!l)return!1;l.set(i.beforeDirection*e.rotation);var r=yh(e,this,"dragControlStart",t,(function(e,t){var i=e.state,n=i.left,l=i.top,r=i.beforeOrigin,d=zu(Pu([n,l],[s,o]),Pu(r,a));return t.datas.groupClient=d,Kp(Kp({},t),{parentRotate:0})})),d=Rg(e,"onRotateGroupStart",Kp(Kp({},l),{targets:e.props.targets,events:r}));return i.isRotate=!1!==d,!!i.isRotate&&l},dragGroupControl:function(e,t){var i=t.datas;if(i.isRotate){Og(e,"onBeforeRotate",(function(i){Rg(e,"onBeforeRotateGroup",Tg(e,t,Kp(Kp({},i),{targets:e.props.targets}),!0))}));var n=this.dragControl(e,t);if(n){var s=i.beforeDirection,o=n.beforeDist,a=n.beforeDelta/180*Math.PI,l=yh(e,this,"dragControl",t,(function(e,t){var i=t.datas.groupClient,n=i[0],l=i[1],r=Yu([n,l],a*s),d=r[0],c=r[1],u=[d-n,c-l];return t.datas.groupClient=[d,c],Kp(Kp({},t),{parentRotate:o,groupDelta:u})}));e.rotation=s*n.beforeRotation;var r=Kp({targets:e.props.targets,events:l,set:function(t){e.rotation=t},setGroupRotation:function(t){e.rotation=t}},n);return Rg(e,"onRotateGroup",r),r}}},dragGroupControlEnd:function(e,t){var i=t.isDrag;if(t.datas.isRotate){this.dragControlEnd(e,t);var n=yh(e,this,"dragControlEnd",t);return Rg(e,"onRotateGroupEnd",Mg(e,t,{targets:e.props.targets,events:n})),i}},request:function(e){var t={},i=0,n=e.getRotation();return{isControl:!0,requestStart:function(){return{datas:t}},request:function(e){return"deltaRotate"in e?i+=e.deltaRotate:"rotate"in e&&(i=e.rotate-n),{datas:t,parentDist:i}},requestEnd:function(){return{datas:t,isDrag:!0}}}}},Th=["left","right","center"],Mh=["top","bottom","middle"],Oh={start:"left",end:"right",center:"center"},Rh={start:"top",end:"bottom",center:"middle"};function Ih(e,t){var i=e.props,n=i.snappable,s=i.bounds,o=i.innerBounds,a=i.verticalGuidelines,l=i.horizontalGuidelines,r=i.snapGridWidth,d=i.snapGridHeight,c=e.state,u=c.guidelines,p=c.enableSnap;return!(!n||!p||t&&!0!==n&&n.indexOf(t)<0)&&!!(r||d||s||o||u&&u.length||a&&a.length||l&&l.length)}function Bh(e){return!1===e?{}:!0!==e&&e?e:{left:!0,right:!0,top:!0,bottom:!0}}function Nh(e,t){var i=function(e,t){var i=Bh(e),n={};for(var s in i)s in t&&i[s]&&(n[s]=t[s]);return n}(e,t),n=Mh.filter((function(e){return e in i})),s=Th.filter((function(e){return e in i}));return{horizontal:n.map((function(e){return i[e]})),vertical:s.map((function(e){return i[e]}))}}function $h(e,t,i,n,s,o,a){void 0===s&&(s=0),void 0===o&&(o=0),void 0===a&&(a={left:0,top:0,right:0,bottom:0});var l=[],r=a.left,d=a.top,c=a.bottom,u=i+a.right-r,p=n+c-d;return e&&e.forEach((function(e){l.push({type:"horizontal",pos:[r,Bc(e-o+d,.1)],size:u})})),t&&t.forEach((function(e){l.push({type:"vertical",pos:[Bc(e-s+r,.1),d],size:p})})),l}function zh(e,t){if(!t.length)return[];var i=e.state,n=i.containerClientRect,s=i.targetClientRect,o=s.top,a=s.left,l=i.rootMatrix,r=i.is3d?4:3,d=function(e,t,i){var n=hg(e,[t.clientLeft,t.clientTop],i);return[t.left+n[0],t.top+n[1]]}(l,n,r),c=d[0],u=d[1],p=cp(Lg(i)),h=Pu([p.minX,p.minY],zg(l,[a-c,o-u],r)).map((function(e){return t=e,Math.round(t%1==-.5?t-1:t);var t})),m=h[0],g=h[1];return t.map((function(e){var t=e.element.getBoundingClientRect(),i=t.left-c,n=t.top-u,s=n+t.height,o=i+t.width,a=zg(l,[i,n],r),d=a[0],p=a[1],h=zg(l,[o,s],r),b=h[0],f=h[1];return Kp(Kp({},e),{rect:{left:d+m,right:b+m,top:p+g,bottom:f+g,center:(d+b)/2+m,middle:(p+f)/2+g}})}))}function Ph(e){var t=e.state,i=e.props.elementGuidelines,n=void 0===i?[]:i;if(!n.length)return t.elementRects=[],[];var s,o,a=(t.elementRects||[]).filter((function(e){return!e.refresh})),l=n.map((function(e){return dc(e)&&"element"in e?e:{element:Wg(e,!0)}})).filter((function(e){return e.element})),r=(s=a.map((function(e){return e.element})),o=l.map((function(e){return e.element})),tc(s,o,op)),d=r.maintained,c=r.added,u=[];d.forEach((function(e){var t=e[0],i=e[1];u[i]=a[t]})),zh(e,c.map((function(e){return l[e]}))).map((function(e,t){u[c[t]]=e})),t.elementRects=u;var p=Bh(e.props.elementSnapDirections),h=[];return u.forEach((function(e){var t=e.element,i=e.top,n=void 0===i?p.top:i,s=e.left,o=void 0===s?p.left:s,a=e.right,l=void 0===a?p.right:a,r=e.bottom,d=void 0===r?p.bottom:r,c=e.center,u=void 0===c?p.center:c,m=e.middle,g=void 0===m?p.middle:m,b=e.className,f=e.rect,v=Nh({top:n,right:l,left:o,bottom:d,center:u,middle:g},f),y=v.horizontal,x=v.vertical,_=f.top,w=f.left,S=f.right-w,C=f.bottom-_,k=[S,C];x.forEach((function(i){h.push({type:"vertical",element:t,pos:[Bc(i,.1),_],size:C,sizes:k,className:b,elementRect:e})})),y.forEach((function(i){h.push({type:"horizontal",element:t,pos:[w,Bc(i,.1)],size:S,sizes:k,className:b,elementRect:e})}))})),h}function Hh(e){var t=e.state,i=t.snapOffset,n=t.containerClientRect,s=n.overflow,o=n.scrollHeight,a=n.scrollWidth,l=n.clientHeight,r=n.clientWidth,d=n.clientLeft,c=n.clientTop,u=e.props,p=u.snapGap,h=void 0===p||p,m=u.verticalGuidelines,g=u.horizontalGuidelines,b=u.snapThreshold,f=void 0===b?5:b,v=u.snapGridWidth,y=void 0===v?0:v,x=u.snapGridHeight,_=void 0===x?0:x,w=Zp([],Ph(e),!0);if(h){var S=gg(Lg(e.state)),C=S.top,k=S.left,A=S.bottom,E=S.right;w.push.apply(w,function(e,t,i){var n=e.state.elementRects,s=[];return[["vertical",Oh,Rh],["horizontal",Rh,Oh]].forEach((function(e){var o=e[0],a=e[1],l=e[2],r=t[a.start],d=t[a.end],c=t[a.center],u=t[l.start],p=t[l.end];function h(e){var t=e.rect;return t[a.end]<r+i?r-t[a.end]:d-i<t[a.start]?t[a.start]-d:-1}var m=n.filter((function(e){var t=e.rect;return!(t[l.start]>p||t[l.end]<u)&&h(e)>0})).sort((function(e,t){return h(e)-h(t)})),g=[];m.forEach((function(e){m.forEach((function(t){if(e!==t){var i=e.rect,n=t.rect,s=i[l.start],o=i[l.end],a=n[l.start];s>n[l.end]||a>o||g.push([e,t])}}))})),g.forEach((function(e){var t=e[0],n=e[1],l=t.rect,u=n.rect,p=l[a.start],h=l[a.end],m=u[a.start],g=u[a.end],b=0,f=0,v=!1,y=!1,x=!1;if(h<=r&&d<=m){if(y=!0,f=h+(b=(m-h-(d-r))/2)+(d-r)/2,Math.abs(f-c)>i)return}else if(h<m&&g<r+i){if(v=!0,f=g+(b=m-h),Math.abs(f-r)>i)return}else{if(!(h<m&&d-i<p))return;if(x=!0,f=p-(b=m-h),Math.abs(f-d)>i)return}b&&s.push({type:o,pos:"vertical"===o?[f,0]:[0,f],element:n.element,size:0,className:n.className,isStart:v,isCenter:y,isEnd:x,gap:b,hide:!0,gapRects:[t,n]})}))})),s}(e,{top:C,left:k,bottom:A,right:E,center:(k+E)/2,middle:(C+A)/2},f))}return w.push.apply(w,function(e,t,i,n,s,o){void 0===s&&(s=0);void 0===o&&(o=0);var a=[];if(t)for(var l=0;l<=n;l+=t)a.push({type:"horizontal",pos:[0,Bc(l-o,.1)],size:i,hide:!0});if(e)for(l=0;l<=i;l+=e)a.push({type:"vertical",pos:[Bc(l-s,.1),0],size:n,hide:!0});return a}(y,_,s?a:r,s?o:l,d,c)),w.push.apply(w,$h(g||!1,m||!1,s?a:r,s?o:l,d,c,i)),w}function Dh(e,t,i,n){var s=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var i=e.length-1,n=0;n<i;++n){var s=e[n];if(!rc(s))return s}return e[i]}(n,e.props.snapThreshold,5);return jh(e.state.guidelines,t,i,s)}function jh(e,t,i,n){return{vertical:Wh(e,"vertical",t,n),horizontal:Wh(e,"horizontal",i,n)}}function Uh(e,t,i){var n=Nh(e.props.snapDirections,t);return Dh(e,n.vertical,n.horizontal,i)}function Fh(e){var t=e.isSnap;if(!t)return{isSnap:!1,offset:0,dist:-1,pos:0,guideline:null};var i=e.posInfos[0],n=i.guidelineInfos[0],s=n.offset,o=n.dist,a=n.guideline;return{isSnap:t,offset:s,dist:o,pos:i.pos,guideline:a}}function Wh(e,t,i,n){if(!e||!e.length)return{isSnap:!1,index:-1,posInfos:[]};var s="vertical"===t?0:1,o=i.map((function(i,o){var a=e.map((function(e){var t=e.pos,n=i-t[s];return{offset:n,dist:Math.abs(n),guideline:e}})).filter((function(e){var i=e.guideline,s=e.dist;return!(i.type!==t||s>n)})).sort((function(e,t){return e.dist-t.dist}));return{pos:i,index:o,guidelineInfos:a}})).filter((function(e){return e.guidelineInfos.length>0})).sort((function(e,t){return e.guidelineInfos[0].dist-t.guidelineInfos[0].dist})),a=o.length>0;return{isSnap:a,index:a?o[0].index:-1,posInfos:o}}function Yh(e,t){var i=Math.abs(e.offset),n=Math.abs(t.offset);return e.isBound&&t.isBound?n-i:e.isBound?-1:t.isBound?1:e.isSnap&&t.isSnap?n-i:e.isSnap?-1:t.isSnap||i<lh?1:n<lh?-1:i-n}function Xh(e,t){return e.slice().sort((function(e,i){var n=e.sign[t],s=i.sign[t],o=e.offset[t],a=i.offset[t];return n?s?Yh({isBound:e.isBound,isSnap:e.isSnap,offset:o},{isBound:i.isBound,isSnap:i.isSnap,offset:a}):-1:1}))[0]}function Gh(e,t){var i=Mc([t[0][0],t[1][0]]),n=Mc([t[0][1],t[1][1]]);return{vertical:i<=e[0],horizontal:n<=e[1]}}function Vh(e,t){var i,n,s=t[0],o=t[1],a=o[0]-s[0],l=o[1]-s[1];if(Math.abs(a)<lh&&(a=0),Math.abs(l)<lh&&(l=0),a)if(l){i=l/a*(e[0]-s[0])+s[1],n=e[1]}else i=s[1],n=e[1];else i=s[0],n=e[0];return i-n}function Kh(e,t,i,n){return void 0===n&&(n=lh),e.every((function(e){var s=Vh(e,t);return s<=0===i||Math.abs(s)<=n}))}function Zh(e,t,i,n,s){return void 0===s&&(s=0),n&&t-s<=e||!n&&e<=i+s?{isBound:!0,offset:n?t-e:i-e}:{isBound:!1,offset:0}}function Qh(e,t,i,n,s,o){var a=t[0],l=t[1],r=e[0],d=i[0],c=i[1],u=jg(c[1]-d[1]),p=l,h=a,m=-a/l;if(!jg(c[0]-d[0])){if(o&&!h)return{isBound:!1,offset:0};if(p)return Zh(m*(d[0]-r[0])+r[1],d[1],c[1],n,s);var g=d[0]-r[0];return{isBound:b=Math.abs(g)<=(s||0),offset:b?g:0}}if(!u){if(o&&!p)return{isBound:!1,offset:0};if(h)return Zh((d[1]-r[1])/m+r[0],d[0],c[0],n,s);var b;g=d[1]-r[1];return{isBound:b=Math.abs(g)<=(s||0),offset:b?g:0}}return{isBound:!1,offset:0}}function Jh(e,t,i){return t.map((function(t){var n=function(e,t){var i=t.line,n=t.centerSign,s=t.verticalSign,o=t.horizontalSign,a=t.lineConstants,l=e.props.innerBounds;if(!l)return{isAllBound:!1,isBound:!1,isVerticalBound:!1,isHorizontalBound:!1,offset:[0,0]};var r=l.left,d=l.top,c=l.width,u=l.height,p=[[r,d],[r,d+u]],h=[[r,d],[r+c,d]],m=[[r+c,d],[r+c,d+u]],g=[[r,d+u],[r+c,d+u]];if(Kh([[r,d],[r+c,d],[r,d+u],[r+c,d+u]],i,n))return{isAllBound:!1,isBound:!1,isVerticalBound:!1,isHorizontalBound:!1,offset:[0,0]};var b=Qh(i,a,h,s),f=Qh(i,a,g,s),v=Qh(i,a,p,o),y=Qh(i,a,m,o),x=b.isBound&&f.isBound,_=b.isBound||f.isBound,w=v.isBound&&y.isBound,S=v.isBound||y.isBound,C=$g(b.offset,f.offset),k=$g(v.offset,y.offset),A=[0,0],E=!1,L=!1;return Math.abs(k)<Math.abs(C)?(A=[C,0],E=_,L=x):(A=[0,k],E=S,L=w),{isAllBound:L,isVerticalBound:_,isHorizontalBound:S,isBound:E,offset:A}}(e,t),s=n.isBound,o=n.offset,a=n.isVerticalBound,l=n.isHorizontalBound,r=t.multiple,d=Im({datas:i,distX:o[0],distY:o[1]}).map((function(e,t){return e*(r[t]?2/r[t]:0)}));return{sign:r,isBound:s,isVerticalBound:a,isHorizontalBound:l,isSnap:!1,offset:d}}))}function em(e,t,i){var n,s=Jh(e,tm(e,t,[0,0],!1).map((function(e){return Kp(Kp({},e),{multiple:e.multiple.map((function(e){return 2*Math.abs(e)}))})})),i),o=Xh(s,0),a=Xh(s,1),l=0,r=0,d=o.isVerticalBound||a.isVerticalBound,c=o.isHorizontalBound||a.isHorizontalBound;return(d||c)&&(n=function(e,t){var i=e.datas,n=e.distX,s=e.distY,o=i.beforeMatrix,a=i.matrix,l=i.is3d,r=i.startDragBeforeDist,d=i.startDragDist,c=i.absoluteOrigin,u=l?4:3;return Pu(Du(t?o:a,zu(t?r:d,[n,s]),u),c)}({datas:i,distX:-o.offset[0],distY:-a.offset[1]}),l=n[0],r=n[1]),{vertical:{isBound:d,offset:l},horizontal:{isBound:c,offset:r}}}function tm(e,t,i,n){var s=e.state,o=mg(s.allMatrix,100,100,s.is3d?4:3),a=$m(o,[0,0]);return function(e,t){var i=[],n=e[0],s=e[1];return n&&s?i.push([[0,2*s],e,[-n,s]],[[2*n,0],e,[n,-s]]):n?(i.push([[2*n,0],[n,1],[n,-1]]),t&&i.push([[0,-1],[n,-1],[-n,-1]],[[0,1],[n,1],[-n,1]])):s?(i.push([[0,2*s],[1,s],[-1,s]]),t&&i.push([[-1,0],[-1,s],[-1,-s]],[[1,0],[1,s],[1,-s]])):i.push([[-1,0],[-1,-1],[-1,1]],[[1,0],[1,-1],[1,1]],[[0,-1],[-1,-1],[1,-1]],[[0,1],[-1,1],[1,1]]),i}(i,n).map((function(e){var i=e[0],n=e[1],s=e[2],l=[$m(o,n),$m(o,s)],r=function(e){var t=e[0],i=e[1],n=i[0]-t[0],s=i[1]-t[1];Math.abs(n)<ac&&(n=0),Math.abs(s)<ac&&(s=0);var o=0,a=0,l=0;return n?s?(a=1,l=(o=-s/n)*t[0]-t[1]):(a=1,l=-t[1]):(o=-1,l=t[0]),[o,a,l].map((function(e){return Bc(e,ac)}))}(l),d=Gh(a,l),c=d.vertical,u=d.horizontal;return{multiple:i,centerSign:Vh(a,l)<=0,verticalSign:c,horizontalSign:u,lineConstants:r,line:[$m(t,n),$m(t,s)]}}))}function im(e,t,i,n){var s=n?e.map((function(e){return Yu(e,n)})):e;return[[s[0],s[1]],[s[1],s[3]],[s[3],s[2]],[s[2],s[0]]].some((function(e){var n=Vh(i,e)<=0;return!Kh(t,e,n)}))}function nm(e,t,i){var n=e||{},s=n.position,o=void 0===s?"client":s,a=n.left,l=void 0===a?-1/0:a,r=n.top,d=void 0===r?-1/0:r,c=n.right,u=void 0===c?1/0:c,p=n.bottom,h={position:o,left:l,top:d,right:u,bottom:void 0===p?1/0:p};return{vertical:om(h,t,!0),horizontal:om(h,i,!1)}}function sm(e,t){var i=e.state,n=i.containerClientRect,s=n.clientHeight,o=n.clientWidth,a=n.clientLeft,l=n.clientTop,r=i.snapOffset,d=r.left,c=r.top,u=r.right,p=r.bottom,h=t||e.props.bounds||{},m="css"===(h.position||"client"),g=h.left,b=void 0===g?-1/0:g,f=h.top,v=void 0===f?-1/0:f,y=h.right,x=void 0===y?m?-1/0:1/0:y,_=h.bottom,w=void 0===_?m?-1/0:1/0:_;return m&&(x=o+u-d-x,w=s+p-c-w),{left:b+d-a,right:x+d-a,top:v+c-l,bottom:w+c-l}}function om(e,t,i){var n=e[i?"left":"top"],s=e[i?"right":"bottom"],o=Math.min.apply(Math,t),a=Math.max.apply(Math,t),l=[];return n+1>o&&l.push({isBound:!0,offset:o-n,pos:n}),s-1<a&&l.push({isBound:!0,offset:a-s,pos:s}),l.length||l.push({isBound:!1,offset:0,pos:0}),l.sort((function(e,t){return Math.abs(t.offset)-Math.abs(e.offset)}))}function am(e,t,i){return(i?e.map((function(e){return Yu(e,i)})):e).some((function(e){return e[0]<t.left&&Math.abs(e[0]-t.left)>.1||e[0]>t.right&&Math.abs(e[0]-t.right)>.1||e[1]<t.top&&Math.abs(e[1]-t.top)>.1||e[1]>t.bottom&&Math.abs(e[1]-t.bottom)>.1}))}function lm(e,t){return function(e,t){var i,n=e.direction,s=e.classNames,o=e.size,a=e.pos,l=e.zoom,r=e.key,d="horizontal"===n,c=d?"Y":"X";return t.createElement("div",{key:r,className:s.join(" "),style:(i={},i[d?"width":"height"]="".concat(o),i.transform="translate(".concat(a[0],", ").concat(a[1],") translate").concat(c,"(-50%) scale").concat(c,"(").concat(l,")"),i)})}(Kp(Kp({},e),{classNames:Zp([Km("line","guideline",e.direction)],e.classNames,!0).filter((function(e){return e})),size:e.size||"".concat(e.sizeValue,"px"),pos:e.pos||e.posValue.map((function(e){return"".concat(Bc(e,.1),"px")}))}),t)}function rm(e,t,i,n,s,o,a,l){var r=e.props.zoom;return i.map((function(e,i){var d=e.type,c=e.pos,u=[0,0];return u[a]=n,u[a?0:1]=-s+c,lm({key:"".concat(t,"TargetGuideline").concat(i),classNames:[Km("target","bold",d)],posValue:u,sizeValue:o,zoom:r,direction:t},l)}))}function dm(e,t,i,n,s,o){var a=e.props,l=a.zoom,r=a.isDisplayInnerSnapDigit,d="horizontal"===t?Oh:Rh,c=s[d.start],u=s[d.end];return i.filter((function(e){var t=e.hide,i=e.elementRect;if(t)return!1;if(r&&i){var n=i.rect;if(n[d.start]<=c&&u<=n[d.end])return!1}return!0})).map((function(e,i){var s=e.pos,a=e.size,r=e.element,d=[-n[0]+s[0],-n[1]+s[1]];return lm({key:"".concat(t,"-default-guideline-").concat(i),classNames:r?[Km("bold")]:[],direction:t,posValue:d,sizeValue:a,zoom:l},o)}))}function cm(e,t,i,n,s,o,a,l){var r,d=e.props,c=d.snapDigit,u=void 0===c?0:c,p=d.isDisplaySnapDigit,h=void 0===p||p,m=d.snapDistFormat,g=void 0===m?function(e,t){return e}:m,b=d.zoom,f="horizontal"===t?"X":"Y",v="vertical"===t?"height":"width",y=Math.abs(s),x=h?parseFloat(y.toFixed(u)):0;return l.createElement("div",{key:"".concat(t,"-").concat(i,"-guideline-").concat(n),className:Km("guideline-group",t),style:(r={left:"".concat(o[0],"px"),top:"".concat(o[1],"px")},r[v]="".concat(y,"px"),r)},lm({direction:t,classNames:[Km(i),a],size:"100%",posValue:[0,0],sizeValue:y,zoom:b},l),l.createElement("div",{className:Km("size-value","gap"),style:{transform:"translate".concat(f,"(-50%) scale(").concat(b,")")}},x>0?g(x,t):""))}function um(e,t,i,n,s){var o=e.props.isDisplayInnerSnapDigit,a=[];return["vertical","horizontal"].forEach((function(l){var r=t.filter((function(e){return e.type===l})),d="vertical"===l?1:0,c=d?0:1,u=function(e,t,i,n){var s="vertical"===e?0:1,o="vertical"===e?1:0,a=s?Oh:Rh,l=i[a.start],r=i[a.end];return function(e,t){var i=[],n=[];return e.forEach((function(s,o){var a=t(s,o,e),l=n.indexOf(a),r=i[l]||[];-1===l&&(n.push(a),i.push(r)),r.push(s)})),i}(t,(function(e){return e.pos[s]})).map((function(t){var i=[],d=[];return t.forEach((function(t){var c,u,p=t.element,h=t.elementRect.rect;if(h[a.end]<l)i.push(t);else if(r<h[a.start])d.push(t);else if(h[a.start]<=l&&r<=h[a.end]&&n){var m=t.pos,g={element:p,rect:Kp(Kp({},h),(c={},c[a.end]=h[a.start],c))},b={element:p,rect:Kp(Kp({},h),(u={},u[a.start]=h[a.end],u))},f=[0,0],v=[0,0];f[s]=m[s],f[o]=m[o],v[s]=m[s],v[o]=m[o]+t.size,i.push({type:e,pos:f,size:0,elementRect:g}),d.push({type:e,pos:v,size:0,elementRect:b})}})),i.sort((function(e,t){return t.pos[o]-e.pos[o]})),d.sort((function(e,t){return e.pos[o]-t.pos[o]})),{total:t,start:i,end:d,inner:[]}}))}(l,r,n,o),p=d?Rh:Oh,h=d?Oh:Rh,m=n[p.start],g=n[p.end];u.forEach((function(t){var o=t.total,r=t.start,u=t.end,b=t.inner,f=i[c]+o[0].pos[c]-n[h.start],v=n;r.forEach((function(t){var n=t.elementRect.rect,o=v[p.start]-n[p.end];if(o>0){var r=[0,0];r[d]=i[d]+v[p.start]-m-o,r[c]=f,a.push(cm(e,l,"dashed",a.length,o,r,t.className,s))}v=n})),v=n,u.forEach((function(t){var n=t.elementRect.rect,o=n[p.start]-v[p.end];if(o>0){var r=[0,0];r[d]=i[d]+v[p.end]-m,r[c]=f,a.push(cm(e,l,"dashed",a.length,o,r,t.className,s))}v=n})),b.forEach((function(t){var n=t.elementRect.rect,o=m-n[p.start],r=n[p.end]-g,u=[0,0],h=[0,0];u[d]=i[d]-o,u[c]=f,h[d]=i[d]+g-m,h[c]=f,a.push(cm(e,l,"dashed",a.length,o,u,t.className,s)),a.push(cm(e,l,"dashed",a.length,r,h,t.className,s))}))}))})),a}function pm(e,t,i,n,s){var o=function(e,t,i,n){var s=t[0]-e[0],o=t[1]-e[1];if(Math.abs(s)<ac&&(s=0),Math.abs(o)<ac&&(o=0),!s)return n?[0,0]:[0,i];if(!o)return n?[i,0]:[0,0];var a=o/s,l=e[1]-a*e[0];return n?[i,a*(t[0]+i)+l-t[1]]:[(t[1]+i-l)/a-t[0],i]}(e,t,i,n);if(!o)return{isOutside:!1,offset:[0,0]};var a=Ic(e,t),l=Ic(o,e),r=Ic(o,t),d=l>a||r>a,c=Im({datas:s,distX:o[0],distY:o[1]});return{offset:[c[0],c[1]],isOutside:d}}function hm(e,t){return e.isBound?e.offset:t.isSnap?Fh(t).offset:0}function mm(e,t,i,n,s,o){if(!Ih(e,"draggable"))return[{isSnap:!1,isBound:!1,offset:0},{isSnap:!1,isBound:!1,offset:0}];var a=Eg(o.absolutePoses,[t,i]),l=gg(a),r=l.left,d=l.right,c=l.top,u=l.bottom,p={horizontal:a.map((function(e){return e[1]})),vertical:a.map((function(e){return e[0]}))},h=gm(e,s,Nh(Bh(e.props.snapDirections),{left:r,right:d,top:c,bottom:u,center:(r+d)/2,middle:(c+u)/2}),p),m=h.vertical,g=h.horizontal,b=em(e,a,o),f=b.vertical,v=b.horizontal,y=m.isSnap,x=g.isSnap,_=m.isBound||f.isBound,w=g.isBound||v.isBound,S=function(e,t,i,n,s){var o=t[0],a=t[1],l=i[0],r=i[1],d=n[0],c=n[1],u=s[0],p=s[1],h=-u,m=-p;if(e&&o&&a){h=0,m=0;var g=[];if(l&&r?g.push([0,p],[u,0]):l?g.push([u,0]):r?g.push([0,p]):d&&c?g.push([0,p],[u,0]):d?g.push([u,0]):c&&g.push([0,p]),g.length){g.sort((function(e,t){return vg(Pu([o,a],e))-vg(Pu([o,a],t))}));var b=g[0];if(b[0]&&Math.abs(o)>ac)h=-b[0],m=a*Math.abs(o+h)/Math.abs(o)-a;else if(b[1]&&Math.abs(a)>ac){var f=a;m=-b[1],h=o*Math.abs(a+m)/Math.abs(f)-o}if(e&&r&&l)if(Math.abs(h)>ac&&Math.abs(h)<Math.abs(u))h*=v=Math.abs(u)/Math.abs(h),m*=v;else if(Math.abs(m)>ac&&Math.abs(m)<Math.abs(p)){var v;h*=v=Math.abs(p)/Math.abs(m),m*=v}else h=$g(-u,h),m=$g(-p,m)}}else h=o||l?-u:0,m=a||r?-p:0;return[h,m]}(n,[t,i],[_,w],[y,x],[$g(m.offset,f.offset),$g(g.offset,v.offset)]);return[{isBound:_,isSnap:y,offset:S[0]},{isBound:w,isSnap:x,offset:S[1]}]}function gm(e,t,i,n){void 0===n&&(n=i);var s=nm(sm(e),n.vertical,n.horizontal),o=s.horizontal,a=s.vertical,l=t?{horizontal:{isSnap:!1,index:-1},vertical:{isSnap:!1,index:-1}}:Dh(e,i.vertical,i.horizontal),r=l.horizontal,d=l.vertical,c=hm(o[0],r),u=hm(a[0],d),p=Math.abs(c),h=Math.abs(u);return{horizontal:{isBound:o[0].isBound,isSnap:r.isSnap,snapIndex:r.index,offset:c,dist:p,bounds:o,snap:r},vertical:{isBound:a[0].isBound,isSnap:d.isSnap,snapIndex:d.index,offset:u,dist:h,bounds:a,snap:d}}}function bm(e,t,i,n,s){var o=nm(t,i,n),a=o.horizontal,l=o.vertical,r=jh(e,i,n,s),d=r.horizontal,c=r.vertical,u=hm(a[0],d),p=hm(l[0],c),h=Math.abs(u),m=Math.abs(p);return{horizontal:{isBound:a[0].isBound,isSnap:d.isSnap,snapIndex:d.index,offset:u,dist:h,bounds:a,snap:d},vertical:{isBound:l[0].isBound,isSnap:c.isSnap,snapIndex:c.index,offset:p,dist:m,bounds:l,snap:c}}}function fm(e,t,i,n,s,o){return i.map((function(i){var a=i[0],l=i[1],r=$m(t,a),d=$m(t,l),c=n?function(e,t,i,n){var s=function(e,t,i){var n=sm(e),s=n.left,o=n.top,a=n.right,l=n.bottom,r=i[0],d=i[1],c=Pu(i,t),u=c[0],p=c[1];Math.abs(u)<lh&&(u=0),Math.abs(p)<lh&&(p=0);var h=p>0,m=u>0,g={isBound:!1,offset:0,pos:0},b={isBound:!1,offset:0,pos:0};if(0===u&&0===p)return{vertical:g,horizontal:b};if(0===u)h?l<d&&(b.pos=l,b.offset=d-l):o>d&&(b.pos=o,b.offset=d-o);else if(0===p)m?a<r&&(g.pos=a,g.offset=r-a):s>r&&(g.pos=s,g.offset=r-s);else{var f=p/u,v=i[1]-f*r,y=0,x=0,_=!1;m&&a<=r?(y=f*a+v,x=a,_=!0):!m&&r<=s&&(y=f*s+v,x=s,_=!0),_&&(y<o||y>l)&&(_=!1),_||(h&&l<=d?(x=((y=l)-v)/f,_=!0):!h&&d<=o&&(x=((y=o)-v)/f,_=!0)),_&&(g.isBound=!0,g.pos=x,g.offset=r-x,b.isBound=!0,b.pos=y,b.offset=d-y)}return{vertical:g,horizontal:b}}(e,t,i),o=s.horizontal,a=s.vertical,l=n?{horizontal:{isSnap:!1},vertical:{isSnap:!1}}:function(e,t,i){var n=i[0],s=i[1],o=t[0],a=t[1],l=Pu(i,t),r=l[0],d=l[1],c=d>0,u=r>0;r=jg(r),d=jg(d);var p={isSnap:!1,offset:0,pos:0},h={isSnap:!1,offset:0,pos:0};if(0===r&&0===d)return{vertical:p,horizontal:h};var m=Dh(e,r?[n]:[],d?[s]:[]),g=m.vertical,b=m.horizontal;g.posInfos.filter((function(e){var t=e.pos;return u?t>=o:t<=o})),b.posInfos.filter((function(e){var t=e.pos;return c?t>=a:t<=a})),g.isSnap=g.posInfos.length>0,b.isSnap=b.posInfos.length>0;var f=Fh(g),v=f.isSnap,y=f.guideline,x=Fh(b),_=x.isSnap,w=x.guideline,S=_?w.pos[1]:0,C=v?y.pos[0]:0;if(0===r)_&&(h.isSnap=!0,h.pos=w.pos[1],h.offset=s-h.pos);else if(0===d)v&&(p.isSnap=!0,p.pos=C,p.offset=n-C);else{var k=d/r,A=i[1]-k*n,E=0,L=0,q=!1;v?(E=k*(L=C)+A,q=!0):_&&(L=((E=S)-A)/k,q=!0),q&&(p.isSnap=!0,p.pos=L,p.offset=n-L,h.isSnap=!0,h.pos=E,h.offset=s-E)}return{vertical:p,horizontal:h}}(e,t,i),r=l.horizontal,d=l.vertical,c=vm(o,r),u=vm(a,d),p=Math.abs(c),h=Math.abs(u);return{horizontal:{isBound:o.isBound,isSnap:r.isSnap,offset:c,dist:p},vertical:{isBound:a.isBound,isSnap:d.isSnap,offset:u,dist:h}}}(e,r,d,s):gm(e,s,{vertical:[d[0]],horizontal:[d[1]]}),u=c.horizontal,p=u.offset,h=u.isBound,m=u.isSnap,g=c.vertical,b=g.offset,f=g.isBound,v=g.isSnap,y=Pu(l,a);if(!b&&!p)return{isBound:f||h,isSnap:v||m,sign:y,offset:[0,0]};var x=function(e,t,i,n){var s=Oc(e,t)/Math.PI*180,o=i.vertical,a=o.isBound,l=o.isSnap,r=o.dist,d=i.horizontal,c=d.isBound,u=d.isSnap,p=s%180,h=p<3||p>177,m=p>87&&p<93;return d.dist<r&&(a||l&&!m&&(!n||!h))?"vertical":!c&&(!u||h||n&&m)?"":"horizontal"}(r,d,c,n);if(!x)return{sign:y,isBound:!1,isSnap:!1,offset:[0,0]};var _="vertical"===x,w=[0,0];return w=(w=n||1!==Math.abs(l[0])||1!==Math.abs(l[1])||a[0]===l[0]||a[1]===l[1]?pm(r,d,-(_?b:p),_,o).offset:Im({datas:o,distX:-b,distY:-p})).map((function(e,t){return e*(y[t]?2/y[t]:0)})),{sign:y,isBound:_?f:h,isSnap:_?v:m,offset:w}}))}function vm(e,t){return e.isBound?e.offset:t.isSnap?t.offset:0}function ym(e){var t=e.state;if(!t.guidelines||!t.guidelines.length){var i=e.state.container,n=e.props.snapContainer||i,s=t.containerClientRect,o={left:0,top:0,bottom:0,right:0};if(i!==n){var a=Wg(n,!0);if(a){var l=kg(a),r=Xg(t,[l.left-s.left,l.top-s.top]),d=Xg(t,[l.right-s.right,l.bottom-s.bottom]);o.left=Bc(r[0],.1),o.top=Bc(r[1],.1),o.right=Bc(d[0],.1),o.bottom=Bc(d[1],.1)}}t.snapOffset=o,t.guidelines=Hh(e),t.enableSnap=!0}}function xm(e,t,i,n,s,o){var a=mg(e,t,i,o?4:3);return Eg(a,Pu(s,$m(a,n)))}function _m(e,t,i,n,s,o){var a=function(e,t,i){var n=[];if(i)1!==Math.abs(t[0])||1!==Math.abs(t[1])?n.push([t,[-1,-1]],[t,[-1,1]],[t,[1,-1]],[t,[1,1]]):n.push([t,[e[0],-e[1]]],[t,[-e[0],e[1]]]),n.push([t,e]);else if(e[0]&&e[1]||!e[0]&&!e[1]){var s=e[0]?e:[1,1];[1,-1].forEach((function(e){[1,-1].forEach((function(i){var o=[e*s[0],i*s[1]];t[0]===o[0]&&t[1]===o[1]||n.push([t,o])}))}))}else e[0]?(1===Math.abs(t[0])?[1]:[1,-1]).forEach((function(i){n.push([[t[0],-1],[i*e[0],-1]],[[t[0],0],[i*e[0],0]],[[t[0],1],[i*e[0],1]])})):e[1]&&(1===Math.abs(t[1])?[1]:[1,-1]).forEach((function(i){n.push([[-1,t[1]],[-1,i*e[1]]],[[0,t[1]],[0,i*e[1]]],[[1,t[1]],[1,i*e[1]]])}));return n}(i,o.fixedDirection,n),l=tm(e,t,i,n),r=Zp(Zp([],fm(e,t,a,n,s,o),!0),Jh(e,l,o),!0),d=Xh(r,0),c=Xh(r,1);return{width:{isBound:d.isBound,offset:d.offset[0]},height:{isBound:c.isBound,offset:c.offset[1]}}}function wm(e,t,i,n,s,o,a,l){for(var r=Lg(e.state),d=e.props.keepRatio,c=0,u=0,p=0;p<2;++p){var h=_m(e,t(c,u),s,d,a,l),m=h.width,g=h.height,b=m.isBound,f=g.isBound,v=m.offset,y=g.offset;if(1===p&&(b||(v=0),f||(y=0)),0===p&&a&&!b&&!f)return[0,0];if(d){var x=Math.abs(v)*(i?1/i:1),_=Math.abs(y)*(n?1/n:1);(b&&f?x<_:f||!b&&x<_)?v=i*y/n:y=n*v/i}c+=v,u+=y}if(s[0]&&s[1]){var w=function(e,t,i,n,s){var o=[-i[0],-i[1]],a=e.state,l=a.width,r=a.height,d=e.props.bounds,c=1/0,u=1/0;if(d){var p=[[i[0],-i[1]],[-i[0],i[1]]],h=d.left,m=void 0===h?-1/0:h,g=d.top,b=void 0===g?-1/0:g,f=d.right,v=void 0===f?1/0:f,y=d.bottom,x=void 0===y?1/0:y;p.forEach((function(e){var i=e[0]!==o[0],a=e[1]!==o[1],d=$m(t,e),p=360*Oc(n,d)/Math.PI;if(a){var h=d.slice();(Math.abs(p-360)<2||Math.abs(p-180)<2)&&(h[1]=n[1]);var g=pm(n,h,(n[1]<d[1]?x:b)-d[1],!1,s),f=g.offset[1],y=g.isOutside;isNaN(f)||(u=r+(y?1:-1)*Math.abs(f))}if(i){h=d.slice(),(Math.abs(p-90)<2||Math.abs(p-270)<2)&&(h[0]=n[0]);var _=pm(n,h,(n[0]<d[0]?v:m)-d[0],!0,s),w=_.offset[0],S=_.isOutside;isNaN(w)||(c=l+(S?1:-1)*Math.abs(w))}}))}return{maxWidth:c,maxHeight:u}}(e,r,s,o,l),S=w.maxWidth,C=w.maxHeight,k=function(e,t,i,n,s,o,a,l,r){var d=$m(t,a),c=gm(e,l,{vertical:[d[0]],horizontal:[d[1]]}),u=c.horizontal.offset,p=c.vertical.offset;if(p||u){var h=Im({datas:r,distX:-p,distY:-u}),m=h[0],g=h[1];return[Math.min(s||1/0,i+a[0]*m)-i,Math.min(o||1/0,n+a[1]*g)-n]}return[0,0]}(e,t(c,u).map((function(e){return e.map((function(e){return Bc(e,1e-4)}))})),i+c,n+u,S,C,s,a,l);c+=v=k[0],u+=y=k[1]}return[c,u]}function Sm(e,t,i,n,s){if(!Ih(e,"scalable"))return[0,0];var o=s.startOffsetWidth,a=s.startOffsetHeight,l=s.fixedPosition,r=s.fixedDirection,d=s.is3d,c=wm(e,(function(e,i){return xm(function(e,t){var i=e.transformOrigin,n=e.offsetMatrix,s=e.is3d,o=e.targetMatrix,a=s?4:3;return zm(n,$u(o,Zu(t,a),a),i,a)}(s,zu(t,[e/o,i/a])),o,a,r,l,d)}),o,a,i,l,n,s);return[c[0]/o,c[1]/a]}function Cm(e){var t=[];return e.forEach((function(e){e.guidelineInfos.forEach((function(e){var i=e.guideline;t.indexOf(i)>-1||t.push(i)}))})),t}function km(e,t,i,n,s,o){var a=nm(sm(e,o),t,i),l=a.vertical,r=a.horizontal;l.forEach((function(e){e.isBound&&n.push({type:"bounds",pos:e.pos})})),r.forEach((function(e){e.isBound&&s.push({type:"bounds",pos:e.pos})}));var d=function(e){var t=e.props.innerBounds;if(!t)return{vertical:[],horizontal:[]};var i=e.getRect(),n=[i.pos1,i.pos2,i.pos3,i.pos4],s=$m(n,[0,0]),o=t.left,a=t.top,l=t.width,r=t.height,d=[[o,a],[o,a+r]],c=[[o,a],[o+l,a]],u=[[o+l,a],[o+l,a+r]],p=[[o,a+r],[o+l,a+r]],h=tm(e,n,[0,0],!1),m=[],g=[],b={top:!1,bottom:!1,left:!1,right:!1};return h.forEach((function(e){var t=e.line,i=e.lineConstants,n=Gh(s,t),h=n.horizontal,f=n.vertical,v=Qh(t,i,c,f,1,!0),y=Qh(t,i,p,f,1,!0),x=Qh(t,i,d,h,1,!0),_=Qh(t,i,u,h,1,!0);v.isBound&&!b.top&&(m.push(a),b.top=!0),y.isBound&&!b.bottom&&(m.push(a+r),b.bottom=!0),x.isBound&&!b.left&&(g.push(o),b.left=!0),_.isBound&&!b.right&&(g.push(o+l),b.right=!0)})),{horizontal:m,vertical:g}}(e),c=d.vertical,u=d.horizontal;c.forEach((function(e){Sc(n,(function(t){var i=t.type,n=t.pos;return"bounds"===i&&n===e}))>=0||n.push({type:"bounds",pos:e})})),u.forEach((function(e){Sc(s,(function(t){var i=t.type,n=t.pos;return"bounds"===i&&n===e}))>=0||s.push({type:"bounds",pos:e})}))}var Am={name:"snappable",dragRelation:"strong",props:{snappable:[Boolean,Array],snapContainer:Object,snapDirections:[Boolean,Object],elementSnapDirections:[Boolean,Object],snapGap:Boolean,snapGridWidth:Number,snapGridHeight:Number,isDisplaySnapDigit:Boolean,isDisplayInnerSnapDigit:Boolean,snapDigit:Number,snapThreshold:Number,horizontalGuidelines:Array,verticalGuidelines:Array,elementGuidelines:Array,bounds:Object,innerBounds:Object,snapDistFormat:Function},events:{onSnap:"snap"},css:[":host {\n    --bounds-color: #d66;\n}\n.guideline {\n    pointer-events: none;\n    z-index: 2;\n}\n.guideline.bounds {\n    background: #d66;\n    background: var(--bounds-color);\n}\n.guideline-group {\n    position: absolute;\n    top: 0;\n    left: 0;\n}\n.guideline-group .size-value {\n    position: absolute;\n    color: #f55;\n    font-size: 12px;\n    font-weight: bold;\n}\n.guideline-group.horizontal .size-value {\n    transform-origin: 50% 100%;\n    transform: translateX(-50%);\n    left: 50%;\n    bottom: 5px;\n}\n.guideline-group.vertical .size-value {\n    transform-origin: 0% 50%;\n    top: 50%;\n    transform: translateY(-50%);\n    left: 5px;\n}\n.guideline.gap {\n    background: #f55;\n}\n.size-value.gap {\n    color: #f55;\n}\n"],render:function(e,t){var i=e.state,n=i.top,s=i.left,o=i.pos1,a=i.pos2,l=i.pos3,r=i.pos4,d=i.snapRenderInfo;if(!d||!Ih(e,""))return[];i.guidelines=Hh(e);var c=Math.min(o[0],a[0],l[0],r[0]),u=Math.min(o[1],a[1],l[1],r[1]),p=d.externalPoses||[],h=Lg(e.state),m=[],g=[],b=[],f=[],v=[],y=gg(h),x=y.width,_=y.height,w=y.top,S=y.left,C=y.bottom,k=y.right,A={left:S,right:k,top:w,bottom:C,center:(S+k)/2,middle:(w+C)/2},E=p.length>0,L=E?gg(p):{};if(!d.request){if(d.direction&&v.push(function(e,t,i){var n=[];if(i[0]&&i[1])n=[i,[-i[0],i[1]],[i[0],-i[1]]].map((function(e){return $m(t,e)}));else if(i[0]||i[1])e.props.keepRatio?n=[[-1,-1],[-1,1],[1,-1],[1,1],i].map((function(e){return $m(t,e)})):(n=Nm(t,i)).length>1&&n.push([(n[0][0]+n[1][0])/2,(n[0][1]+n[1][1])/2]);else for(var s=[t[0],t[1],t[3],t[2],t[0]],o=0;o<4;++o)n.push(s[o]),n.push([(s[o][0]+s[o+1][0])/2,(s[o][1]+s[o+1][1])/2]);return Dh(e,n.map((function(e){return e[0]})),n.map((function(e){return e[1]})),1)}(e,h,d.direction)),d.snap){var q=gg(h);d.center&&(q.middle=(q.top+q.bottom)/2,q.center=(q.left+q.right)/2),v.push(Uh(e,q,1))}E&&(d.center&&(L.middle=(L.top+L.bottom)/2,L.center=(L.left+L.right)/2),v.push(Uh(e,L,1))),v.forEach((function(e){var t=e.vertical.posInfos,i=e.horizontal.posInfos;m.push.apply(m,t.filter((function(e){return e.guidelineInfos.some((function(e){return!e.guideline.hide}))})).map((function(e){return{type:"snap",pos:e.pos}}))),g.push.apply(g,i.filter((function(e){return e.guidelineInfos.some((function(e){return!e.guideline.hide}))})).map((function(e){return{type:"snap",pos:e.pos}}))),b.push.apply(b,Cm(t)),f.push.apply(f,Cm(i))}))}km(e,[S,k],[w,C],m,g),E&&km(e,[L.left,L.right],[L.top,L.bottom],m,g,d.externalBounds);var T=Zp(Zp([],b,!0),f,!0),M=T.filter((function(e){return e.element&&!e.gapRects})),O=T.filter((function(e){return e.gapRects}));return Rg(e,"onSnap",{guidelines:T.filter((function(e){return!e.element})),elements:M,gaps:O},!0),Zp(Zp(Zp(Zp(Zp(Zp([],um(e,M,[c,u],A,t),!0),function(e,t,i,n,s){var o=[];return["horizontal","vertical"].forEach((function(a){var l=t.filter((function(e){return e.type===a})),r="vertical"===a?0:1,d=r?0:1,c=r?Rh:Oh,u=r?Oh:Rh,p=n[c.start],h=n[c.end],m=n[u.start],g=n[u.end];l.forEach((function(t){var n=t.gap,a=t.gapRects,l=t.className,b=Math.max.apply(Math,Zp([m],a.map((function(e){return e.rect[u.start]})),!1)),f=Math.min.apply(Math,Zp([g],a.map((function(e){return e.rect[u.end]})),!1)),v=(b+f)/2;b!==f&&v!==(m+g)/2&&a.forEach((function(t){var a=t.rect,u=[i[0],i[1]];if(a[c.end]<p)u[r]+=a[c.end]-p;else{if(!(h<a[c.start]))return;u[r]+=a[c.start]-p-n}u[d]+=v-m,o.push(cm(e,r?"vertical":"horizontal","gap",o.length,n,u,l,s))}))}))})),o}(e,O,[c,u],A,t),!0),dm(e,"horizontal",f,[s,n],A,t),!0),dm(e,"vertical",b,[s,n],A,t),!0),rm(e,"horizontal",g,c,n,x,0,t),!0),rm(e,"vertical",m,u,s,_,1,t),!0)},dragStart:function(e,t){e.state.snapRenderInfo={request:t.isRequest,snap:!0,center:!0},ym(e)},drag:function(e){e.state.guidelines=Hh(e)},pinchStart:function(e){this.unset(e)},dragEnd:function(e){this.unset(e)},dragControlCondition:function(e,t){return!(!Ug(e,t)&&!Lh(e,t))||(!t.isRequest&&t.inputEvent?$c(t.inputEvent.target,Km("snap-control")):void 0)},dragControlStart:function(e){e.state.snapRenderInfo=null,ym(e)},dragControl:function(e){this.drag(e)},dragControlEnd:function(e){this.unset(e)},dragGroupStart:function(e,t){this.dragStart(e,t)},dragGroup:function(e){this.drag(e)},dragGroupEnd:function(e){this.unset(e)},dragGroupControlStart:function(e){e.state.snapRenderInfo=null,ym(e)},dragGroupControl:function(e){this.drag(e)},dragGroupControlEnd:function(e){this.unset(e)},unset:function(e){var t=e.state;t.enableSnap=!1,t.guidelines=[],t.snapRenderInfo=null,t.elementRects=[]}},Em={name:"draggable",props:{draggable:Boolean,throttleDrag:Number,throttleDragRotate:Number,startDragRotate:Number,edgeDraggable:Boolean},events:{onDragStart:"dragStart",onDrag:"drag",onDragEnd:"dragEnd",onDragGroupStart:"dragGroupStart",onDragGroup:"dragGroup",onDragGroupEnd:"dragGroupEnd"},render:function(e,t){var i=e.props,n=i.throttleDragRotate,s=i.zoom,o=e.state,a=o.dragInfo,l=o.beforeOrigin;if(!n||!a)return[];var r=a.dist;if(!r[0]&&!r[1])return[];var d=vg(r),c=Oc(r,[0,0]);return[t.createElement("div",{className:Km("line","horizontal","dragline","dashed"),key:"dragRotateGuideline",style:{width:"".concat(d,"px"),transform:"translate(".concat(l[0],"px, ").concat(l[1],"px) rotate(").concat(c,"rad) scaleY(").concat(s,")")}})]},dragStart:function(e,t){var i=t.datas,n=t.parentEvent,s=t.parentGesto,o=e.state,a=o.target;if(o.gesto)return!1;o.gesto=s||e.targetGesto;var l=Ig(a);i.datas={},i.left=parseFloat(l.left||"")||0,i.top=parseFloat(l.top||"")||0,i.bottom=parseFloat(l.bottom||"")||0,i.right=parseFloat(l.right||"")||0,i.startValue=[0,0],qm(e,t),Hm(t,"translate"),function(e,t){t.absolutePoses=Lg(e.state)}(e,i),i.prevDist=[0,0],i.prevBeforeDist=[0,0],i.isDrag=!1,i.deltaOffset=[0,0];var r=Tg(e,t,Kp({set:function(e){i.startValue=e}},Pm(t)));return!1!==(n||Rg(e,"onDragStart",r))?(i.isDrag=!0,e.state.dragInfo={startRect:e.getRect(),dist:[0,0]}):(o.gesto=null,i.isPinch=!1),!!i.isDrag&&r},drag:function(e,t){if(t){Tm(t,"translate");var i=t.datas,n=t.parentEvent,s=t.parentFlag,o=t.isPinch,a=t.isRequest,l=t.deltaOffset,r=t.distX,d=t.distY,c=i.isDrag,u=i.prevDist,p=i.prevBeforeDist,h=i.startValue;if(c){l&&(r+=l[0],d+=l[1]);var m=e.props,g=m.parentMoveable,b=n?0:m.throttleDrag||0,f=n?0:m.throttleDragRotate||0,v=!1,y=0;if(!n&&f>0&&(r||d)){var x=m.startDragRotate||0,_=Bc(x+180*Oc([0,0],[r,d])/Math.PI,f)-x,w=d*Math.abs(Math.cos((_-90)/180*Math.PI)),S=vg([r*Math.abs(Math.cos(_/180*Math.PI)),w]);y=_*Math.PI/180,r=S*Math.cos(y),d=S*Math.sin(y)}if(!o&&!n&&!s&&(!f||r||d)){var C=mm(e,r,d,f,a||l,i),k=C[0],A=C[1],E=k.isSnap,L=k.isBound,q=k.offset,T=A.isSnap,M=A.isBound;v=E||T||L||M,r+=q,d+=A.offset}var O=zu(Rm({datas:i,distX:r,distY:d}),h),R=zu(function(e){var t=e.datas,i=e.distX,n=e.distY,s=Rm({datas:t,distX:i,distY:n}),o=s[0],a=s[1];return Du(Om(t,function(e,t){for(var i=Ku(t),n=0;n<t-1;++n)i[t*(t-1)+n]=e[n]||0;return i}([o,a],4)),Iu([0,0,0],4),4)}({datas:i,distX:r,distY:d}),h);f||v||(Nc(R,b),Nc(O,b));var I=Pu(O,h),B=Pu(R,h),N=Pu(B,u),$=Pu(I,p);i.prevDist=B,i.prevBeforeDist=I,i.passDelta=N,i.passDist=B;var z=i.left+I[0],P=i.top+I[1],H=i.right-I[0],D=i.bottom-I[1],j=Mm(i,"translate(".concat(R[0],"px, ").concat(R[1],"px)"),"translate(".concat(B[0],"px, ").concat(B[1],"px)"));if(jm(t,j),e.state.dragInfo.dist=n?[0,0]:B,n||g||!N.every((function(e){return!e}))||!$.some((function(e){return!e}))){var U=e.state,F=Tg(e,t,{transform:j,dist:B,delta:N,translate:R,beforeDist:I,beforeDelta:$,beforeTranslate:O,left:z,top:P,right:H,bottom:D,width:U.width,height:U.height,isPinch:o});return!n&&Rg(e,"onDrag",F),F}}}},dragAfter:function(e,t){var i=t.datas,n=i.deltaOffset;return!(!n[0]&&!n[1])&&(i.deltaOffset=[0,0],this.drag(e,Kp(Kp({},t),{deltaOffset:n})))},dragEnd:function(e,t){var i=t.parentEvent,n=t.datas;if(e.state.gesto=null,e.state.dragInfo=null,n.isDrag){n.isDrag=!1;var s=Mg(e,t,{});return!i&&Rg(e,"onDragEnd",s),s}},dragGroupStart:function(e,t){var i=t.datas,n=t.clientX,s=t.clientY,o=this.dragStart(e,t);if(!o)return!1;var a=vh(e,this,"dragStart",[n||0,s||0],t,!1),l=Rg(e,"onDragGroupStart",Kp(Kp({},o),{targets:e.props.targets,events:a}));return i.isDrag=!1!==l,!!i.isDrag&&o},dragGroup:function(e,t){if(t.datas.isDrag){var i=this.drag(e,t),n=vh(e,this,"drag",t.datas.passDelta,t,!1);if(i){var s=Kp({targets:e.props.targets,events:n},i);return Rg(e,"onDragGroup",s),s}}},dragGroupEnd:function(e,t){var i=t.isDrag;if(t.datas.isDrag){this.dragEnd(e,t);var n=vh(e,this,"dragEnd",[0,0],t,!1);return Rg(e,"onDragGroupEnd",Mg(e,t,{targets:e.props.targets,events:n})),i}},request:function(e){var t={},i=e.getRect(),n=0,s=0;return{isControl:!1,requestStart:function(){return{datas:t}},request:function(e){return"x"in e?n=e.x-i.left:"deltaX"in e&&(n+=e.deltaX),"y"in e?s=e.y-i.top:"deltaY"in e&&(s+=e.deltaY),{datas:t,distX:n,distY:s}},requestEnd:function(){return{datas:t,isDrag:!0}}}},unset:function(e){e.state.dragInfo=null}};function Lm(e,t){var i=t.clientX,n=t.clientY,s=t.datas,o=e.state,a=o.moveableClientRect,l=o.rootMatrix,r=o.is3d,d=o.pos1,c=Pu(zg(l,[i-a.left,n-a.top],r?4:3),d),u=Im({datas:s,distX:c[0],distY:c[1]});return[u[0],u[1]]}function qm(e,t){var i=t.datas,n=e.state,s=n.allMatrix,o=n.beforeMatrix,a=n.is3d,l=n.left,r=n.top,d=n.origin,c=n.offsetMatrix,u=n.targetMatrix,p=n.transformOrigin,h=a?4:3;i.is3d=a,i.matrix=s,i.targetMatrix=u,i.beforeMatrix=o,i.offsetMatrix=c,i.transformOrigin=p,i.inverseMatrix=Ru(s,h),i.inverseBeforeMatrix=Ru(o,h),i.absoluteOrigin=Iu(zu([l,r],d),h),i.startDragBeforeDist=Du(i.inverseBeforeMatrix,i.absoluteOrigin,h),i.startDragDist=Du(i.inverseMatrix,i.absoluteOrigin,h)}function Tm(e,t){var i=e.datas,n=e.originalDatas.beforeRenderable,s=i.transformIndex,o=n.nextTransforms,a=n.nextTransformAppendedIndexes,l=0;-1===s?(l=o.length,i.transformIndex=l):l=s+a.filter((function(e){return e<s})).length;var r=function(e,t){var i=e.slice(0,t<0?void 0:t),n=e.slice(0,t<0?void 0:t+1),s=e[t]||"",o=t<0?[]:e.slice(t),a=t<0?[]:e.slice(t+1),l=ip(i),r=ip(n),d=ip([s]),c=ip(o),u=ip(a),p=tp(l),h=tp(r),m=tp(c),g=tp(u),b=$u(p,m,4);return{transforms:e,beforeFunctionMatrix:p,beforeFunctionMatrix2:h,targetFunctionMatrix:tp(d),afterFunctionMatrix:m,afterFunctionMatrix2:g,allFunctionMatrix:b,beforeFunctions:l,beforeFunctions2:r,targetFunction:d[0],afterFunctions:c,afterFunctions2:u,beforeFunctionTexts:i,beforeFunctionTexts2:n,targetFunctionText:s,afterFunctionTexts:o,afterFunctionTexts2:a}}(o,l),d=r.targetFunction,c="rotate"===t?"rotateZ":t;i.beforeFunctionTexts=r.beforeFunctionTexts,i.afterFunctionTexts=r.afterFunctionTexts,i.beforeTransform=r.beforeFunctionMatrix,i.beforeTransform2=r.beforeFunctionMatrix2,i.targetTansform=r.targetFunctionMatrix,i.afterTransform=r.afterFunctionMatrix,i.afterTransform2=r.afterFunctionMatrix2,i.targetAllTransform=r.allFunctionMatrix,d.functionName===c?(i.afterFunctionTexts.splice(0,1),i.isAppendTransform=!1):(i.isAppendTransform=!0,n.nextTransformAppendedIndexes=Zp(Zp([],a,!0),[l],!1))}function Mm(e,t,i){return"".concat(e.beforeFunctionTexts.join(" ")," ").concat(e.isAppendTransform?i:t," ").concat(e.afterFunctionTexts.join(" "))}function Om(e,t,i){var n=e.beforeTransform,s=e.afterTransform,o=e.beforeTransform2,a=e.afterTransform2,l=e.targetAllTransform,r=i?$u(l,t,4):$u(t,l,4),d=$u(Ru(i?o:n,4),r,4);return $u(d,Ru(i?a:s,4),4)}function Rm(e){var t=e.datas,i=e.distX,n=e.distY,s=t.inverseBeforeMatrix,o=t.is3d,a=t.startDragBeforeDist,l=o?4:3;return Pu(Du(s,zu(t.absoluteOrigin,[i,n]),l),a)}function Im(e,t){var i=e.datas,n=e.distX,s=e.distY,o=i.inverseBeforeMatrix,a=i.inverseMatrix,l=i.is3d,r=i.startDragBeforeDist,d=i.startDragDist,c=l?4:3;return Pu(Du(t?o:a,zu(i.absoluteOrigin,[n,s]),c),t?r:d)}function Bm(e){var t=[];return e[1]>=0&&(e[0]>=0&&t.push(3),e[0]<=0&&t.push(2)),e[1]<=0&&(e[0]>=0&&t.push(1),e[0]<=0&&t.push(0)),t}function Nm(e,t){return Bm(t).map((function(t){return e[t]}))}function $m(e,t){var i=Nm(e,t);return[Mc(i.map((function(e){return e[0]}))),Mc(i.map((function(e){return e[1]})))]}function zm(e,t,i,n){return $u(e,Jm(t,n,i),n)}function Pm(e){var t=e.originalDatas.beforeRenderable;return{setTransform:function(i,n){void 0===n&&(n=-1),t.startTransforms=cc(i)?i:fc(i),Dm(e,n)},setTransformIndex:function(t){Dm(e,t)}}}function Hm(e,t){Dm(e,Sc(e.originalDatas.beforeRenderable.startTransforms,(function(e){return 0===e.indexOf("".concat(t,"("))})))}function Dm(e,t){var i=e.originalDatas.beforeRenderable,n=e.datas;if(n.transformIndex=t,-1!==t){var s=i.startTransforms[t];if(s){var o=ip([s]);n.startValue=o[0].functionValue}}}function jm(e,t){e.originalDatas.beforeRenderable.nextTransforms=fc(t)}function Um(e){return e.originalDatas.beforeRenderable.nextTransforms.join(" ")}function Fm(e,t,i,n,s){return jm(s,t),{transform:t,drag:Em.drag(e,gh(s,e.state,i,n,!1))}}function Wm(e,t,i,n,s){var o=e.state,a=o.left,l=o.top,r=e.props.groupable,d=function(e,t,i){var n=e.transformOrigin,s=e.offsetMatrix,o=e.is3d,a=t.beforeTransform,l=t.afterTransform,r=o?4:3;return zm(s,Bu($u($u(a,ep([i]),4),l,4),4,r),n,r)}(e.state,s,t),c=r?a:0,u=r?l:0,p=Pu(n,Xm(e,i,d));return Pu(p,[c,u])}function Ym(e){var t=e.state,i=t.width,n=t.height,s=t.transformOrigin;return[s[0]/(i/2)-1,s[1]/(n/2)-1]}function Xm(e,t,i){void 0===i&&(i=e.state.allMatrix);var n=e.state,s=n.width,o=n.height,a=n.is3d?4:3;return hg(i,[s/2*(1+t[0]),o/2*(1+t[1])],a)}function Gm(e,t,i,n,s,o){var a=e.props.groupable,l=e.state,r=l.transformOrigin,d=l.targetMatrix,c=l.offsetMatrix,u=l.is3d,p=l.width,h=l.height,m=l.left,g=l.top,b=u?4:3,f=function(e,t,i,n,s,o){return void 0===n&&(n=t),void 0===s&&(s=i),void 0===o&&(o=[0,0]),e?e.map((function(e,a){var l=xc(e),r=l.value,d=l.unit,c=a?s:n,u=a?i:t;return"%"===e||isNaN(r)?u*(c?o[a]/c:0):"%"!==d?r:u*r/100})):o}(o,t,i,p,h,r),v=a?m:0,y=a?g:0,x=function(e,t,i,n,s,o){var a=$m(mg(t,i,n,s),o);return[e[0]-a[0],e[1]-a[1]]}(s,zm(c,d,f,b),t,i,b,n);return Pu(x,[v,y])}function Vm(e,t){return $m(Lg(e.state),t)}function Km(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Wd.apply(void 0,Zp([sh],e,!1))}function Zm(e){e()}function Qm(e){return e&&"none"!==e?dc(e)?e:ep(e):[1,0,0,1,0,0]}function Jm(e,t,i){return Nu(t,Qu(i,t),e,Qu(i.map((function(e){return-e})),t))}function eg(e){return tg(Ig(e,":before")).map((function(t,i){var n=xc(t),s=n.value,o=n.unit;return s*function(e,t,i){return"%"===t?ug(e.ownerSVGElement)[i?"width":"height"]/100:1}(e,o,0===i)}))}function tg(e){var t=e.transformOrigin;return t?t.split(" "):["0","0"]}function ig(e,t){void 0===t&&(t=Ig(e));var i=t.transform;if(i&&"none"!==i)return t.transform;if("transform"in e){var n=e.transform.baseVal;if(!n)return"";var s=n.length;if(!s)return"";for(var o=[],a=function(e){var t=n[e].matrix;o.push("matrix(".concat(["a","b","c","d","e","f"].map((function(e){return t[e]})).join(", "),")"))},l=0;l<s;++l)a(l);return o.join(" ")}return""}function ng(e,t,i){for(var n=document.body,s=!e||i?e:e.parentElement,o=e===t||s===t,a="relative";s&&s!==n;){t===s&&(o=!0);var l=Ig(s),r=s.tagName.toLowerCase(),d=ig(s,l);if(a=l.position,"svg"===r||"static"!==a||d&&"none"!==d)break;s=s.parentElement,a="relative"}return{isStatic:"static"===a,isEnd:o||!s||s===n,offsetParent:s||n}}function sg(e,t){var i,n,s,o=e.tagName.toLowerCase(),a=e.offsetLeft,l=e.offsetTop,r=rc(a),d=!r;return d||"svg"===o?s=(n=tg(t).map((function(e){return parseFloat(e)}))).slice():(s=(n=nh?eg(e):tg(t).map((function(e){return parseFloat(e)}))).slice(),d=!0,i=function(e,t){if(!e.getBBox||"g"===e.tagName.toLowerCase())return[0,0,0,0];var i=e.getBBox(),n=ug(e.ownerSVGElement),s=i.x-n.x,o=i.y-n.y;return[s,o,t[0]-s,t[1]-o]}(e,n),a=i[0],l=i[1],n[0]=i[2],n[1]=i[3]),{tagName:o,isSVG:r,hasOffset:d,offset:[a||0,l||0],origin:n,targetOrigin:s}}function og(e,t,i){void 0===i&&(i=Ig(e));var n=Ig(document.body),s=n.position;if(!(t||s&&"static"!==s))return[0,0];var o=parseInt(n.marginLeft,10),a=parseInt(n.marginTop,10);return"absolute"===i.position&&("auto"===i.top&&"auto"===i.bottom||(a=0),"auto"===i.left&&"auto"===i.right||(o=0)),[o,a]}function ag(e){e.forEach((function(e){var t=e.matrix;t&&(e.matrix=Bu(t,3,4))}))}function lg(e){for(var t=e.parentElement,i=!1;t;){var n=Ig(t).transform;if(n&&"none"!==n){i=!0;break}if(t===document.body)break;t=t.parentElement}return{fixedContainer:t||document.body,hasTransform:i}}function rg(e,t,i){for(var n,s,o,a,l,r=e,d=[],c=!i&&e===t||e===document.body,u=c,p=!1,h=3,m=!1,g=ng(t,t,!0).offsetParent;r&&!u;){u=c;var b=Ig(r),f=b.position,v=ig(r,b),y=(a=Qm(v),void 0===(l=void 0)&&(l=6===a.length),l?[a[0],a[1],0,a[2],a[3],0,a[4],a[5],1]:a),x="fixed"===f,_={hasTransform:!1,fixedContainer:null};x&&(m=!0,g=(_=lg(r)).fixedContainer);var w=y.length;p||16!==w||(p=!0,h=4,ag(d),o&&(o=Bu(o,3,4))),p&&9===w&&(y=Bu(y,3,4));var S=sg(r,b),C=S.tagName,k=S.hasOffset,A=S.isSVG,E=S.origin,L=S.targetOrigin,q=S.offset,T=q[0],M=q[1];"svg"===C&&o?(d.push({type:"target",target:r,matrix:pg(r,h)}),d.push({type:"offset",target:r,matrix:Ku(h)})):"g"===C&&e!==r&&(T=0,M=0);var O=void 0,R=!1,I=!1;if(x)O=_.fixedContainer,R=!0;else{var B=ng(r,t);O=B.offsetParent,R=B.isEnd,I=B.isStatic}ih&&k&&!A&&I&&("relative"===f||"static"===f)&&(T-=O.offsetLeft,M-=O.offsetTop,c=c||R);var N=0,$=0,z=0,P=0;if(x)k&&_.hasTransform&&(z=O.clientLeft,P=O.clientTop);else if(k&&g!==O&&(N=O.clientLeft,$=O.clientTop),k&&O===document.body){var H=og(r,!1,b);T+=H[0],M+=H[1]}if(d.push({type:"target",target:r,matrix:Jm(y,h,E)}),k?d.push({type:"offset",target:r,matrix:Qu([T-r.scrollLeft+N-z,M-r.scrollTop+$-P],h)}):d.push({type:"offset",target:r,origin:E}),o||(o=y),n||(n=E),s||(s=L),u||x)break;r=O,c=R,i&&r!==document.body||(u=c)}return o||(o=Ku(h)),n||(n=[0,0]),s||(s=[0,0]),{offsetContainer:g,matrixes:d,targetMatrix:o,transformOrigin:n,targetOrigin:s,is3d:p,hasFixed:m}}function dg(e,t,i,n){void 0===i&&(i=t);var s=0,o=0,a=0,l={};if(e){var r=wg(e);s=r.offsetWidth,o=r.offsetHeight}if(e){var d=function(e,t,i,n){var s;void 0===i&&(i=t);var o=rg(e,t),a=o.matrixes,l=o.is3d,r=o.targetMatrix,d=o.transformOrigin,c=o.targetOrigin,u=o.offsetContainer,p=o.hasFixed,h=rg(u,i,!0),m=h.matrixes,g=h.is3d,b=n||g||l,f=b?4:3,v="svg"!==e.tagName.toLowerCase()&&"ownerSVGElement"in e,y=r,x=Ku(f),_=Ku(f),w=Ku(f),S=Ku(f),C=a.length;m.reverse(),a.reverse(),!l&&b&&(y=Bu(y,3,4),ag(a));!g&&b&&ag(m);m.forEach((function(e){_=$u(_,e.matrix,f)}));var k=i||document.body,A=(null===(s=m[0])||void 0===s?void 0:s.target)||ng(k,k,!0).offsetParent,E=m.slice(1).reduce((function(e,t){return $u(e,t.matrix,f)}),Ku(f));a.forEach((function(e,t){if(C-2===t&&(w=x.slice()),C-1===t&&(S=x.slice()),!e.matrix){var i=function(e,t,i,n,s){var o,a=e.target,l=e.origin,r=t.matrix,d=wg(a),c=d.offsetWidth,u=d.offsetHeight,p=i.getBoundingClientRect(),h=[0,0];i===document.body&&(h=og(a,!0));var m=a.getBoundingClientRect(),g=m.left-p.left+i.scrollLeft-(i.clientLeft||0)+h[0],b=m.top-p.top+i.scrollTop-(i.clientTop||0)+h[1],f=m.width,v=m.height,y=Nu(n,s,r),x=bg(y,c,u,n),_=x.left,w=x.top,S=x.width,C=x.height,k=hg(y,l,n),A=Pu(k,[_,w]),E=[g+A[0]*f/S,b+A[1]*v/C],L=[0,0],q=0;for(;++q<10;){var T=Ru(s,n);o=Pu(hg(T,E,n),hg(T,k,n)),L[0]=o[0],L[1]=o[1];var M=bg(Nu(n,s,Qu(L,n),r),c,u,n),O=M.left-g,R=M.top-b;if(Math.abs(O)<2&&Math.abs(R)<2)break;E[0]-=O,E[1]-=R}return L.map((function(e){return Math.round(e)}))}(e,a[t+1],A,f,$u(E,x,f));e.matrix=Qu(i,f)}x=$u(x,e.matrix,f)}));var L=!v&&l;y||(y=Ku(L?4:3));var q=cg(v&&16===y.length?Bu(y,4,3):y,L);return _=Ou(_,f,f),{hasFixed:p,rootMatrix:_,beforeMatrix:w,offsetMatrix:S,allMatrix:x,targetMatrix:y,targetTransform:q,transformOrigin:d,targetOrigin:c,is3d:b}}(e,t,i,n),c=fg(d.allMatrix,d.transformOrigin,s,o);l=Kp(Kp({},d),c);var u=fg(d.allMatrix,[50,50],100,100);a=Sg([u.pos1,u.pos2],u.direction)}var p=n?4:3;return Kp({width:s,height:o,rotation:a,rootMatrix:Ku(p),beforeMatrix:Ku(p),offsetMatrix:Ku(p),allMatrix:Ku(p),targetMatrix:Ku(p),targetTransform:"",transformOrigin:[0,0],targetOrigin:[0,0],is3d:!!n,left:0,top:0,right:0,bottom:0,origin:[0,0],pos1:[0,0],pos2:[0,0],pos3:[0,0],pos4:[0,0],direction:1,hasFixed:!1},l)}function cg(e,t){return void 0===t&&(t=e.length>9),"".concat(t?"matrix3d":"matrix","(").concat(Hu(e,!t).join(","),")")}function ug(e){var t=e.clientWidth,i=e.clientHeight;if(!e)return{x:0,y:0,width:0,height:0,clientWidth:t,clientHeight:i};var n=e.viewBox,s=n&&n.baseVal||{x:0,y:0,width:0,height:0};return{x:s.x,y:s.y,width:s.width||t,height:s.height||i,clientWidth:t,clientHeight:i}}function pg(e,t){var i=ug(e),n=i.width,s=i.height,o=i.clientWidth,a=i.clientHeight,l=o/n,r=a/s,d=e.preserveAspectRatio.baseVal,c=d.align,u=d.meetOrSlice,p=[0,0],h=[l,r],m=[0,0];if(1!==c){var g=(c-2)%3,b=Math.floor((c-2)/3);p[0]=n*g/2,p[1]=s*b/2;var f=2===u?Math.max(r,l):Math.min(l,r);h[0]=f,h[1]=f,m[0]=(o-n)/2*g,m[1]=(a-s)/2*b}var v=Zu(h,t);return v[t*(t-1)]=m[0],v[t*(t-1)+1]=m[1],Jm(v,t,p)}function hg(e,t,i){return Du(e,Iu(t,i),i)}function mg(e,t,i,n){return[[0,0],[t,0],[0,i],[t,i]].map((function(t){return hg(e,t,n)}))}function gg(e){var t=e.map((function(e){return e[0]})),i=e.map((function(e){return e[1]})),n=Math.min.apply(Math,t),s=Math.min.apply(Math,i),o=Math.max.apply(Math,t),a=Math.max.apply(Math,i);return{left:n,top:s,right:o,bottom:a,width:o-n,height:a-s}}function bg(e,t,i,n){return gg(mg(e,t,i,n))}function fg(e,t,i,n){var s=16===e.length?4:3,o=mg(e,i,n,s),a=o[0],l=a[0],r=a[1],d=o[1],c=d[0],u=d[1],p=o[2],h=p[0],m=p[1],g=o[3],b=g[0],f=g[1],v=hg(e,t,s),y=v[0],x=v[1],_=Math.min(l,c,h,b),w=Math.min(r,u,m,f),S=Math.max(l,c,h,b);return l=l-_||0,{left:_,top:w,right:S,bottom:Math.max(r,u,m,f),origin:[y=y-_||0,x=x-w||0],pos1:[l,r=r-w||0],pos2:[c=c-_||0,u=u-w||0],pos3:[h=h-_||0,m=m-w||0],pos4:[b=b-_||0,f=f-w||0],direction:Rc(o)}}function vg(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function yg(e,t){return vg([t[0]-e[0],t[1]-e[1]])}function xg(e,t,i,n){void 0===i&&(i=1),void 0===n&&(n=Oc(e,t));var s=yg(e,t);return{transform:"translateY(-50%) translate(".concat(e[0],"px, ").concat(e[1],"px) rotate(").concat(n,"rad) scaleY(").concat(i,")"),width:"".concat(s,"px")}}function _g(e,t){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];var s=i.length,o=i.reduce((function(e,t){return e+t[0]}),0)/s,a=i.reduce((function(e,t){return e+t[1]}),0)/s;return{transform:"translateZ(0px) translate(".concat(o,"px, ").concat(a,"px) rotate(").concat(e,"rad) scale(").concat(t,")")}}function wg(e,t){if(void 0===t&&(t=Ig(e)),!rc(e.offsetWidth)||"svg"===e.tagName.toLowerCase()){var i="border-box"===t.boxSizing,n=parseFloat(t.borderLeftWidth)||0,s=parseFloat(t.borderRightWidth)||0,o=parseFloat(t.borderTopWidth)||0,a=parseFloat(t.borderBottomWidth)||0,l=parseFloat(t.paddingLeft)||0,r=parseFloat(t.paddingRight)||0,d=parseFloat(t.paddingTop)||0,c=parseFloat(t.paddingBottom)||0,u=parseFloat(t.width),p=parseFloat(t.height),h=(f=u,v=p,l+r),m=d+c,g=h+(n+s),b=m+(o+a);return i?(u=f-g,p=v-b):(f=u+g,v=p+b),{svg:!1,offsetWidth:f,offsetHeight:v,clientWidth:u+h,clientHeight:p+m,cssWidth:u,cssHeight:p}}var f,v,y=e.getBBox();return{svg:!0,offsetWidth:f=y.width,offsetHeight:v=y.height,clientWidth:f,clientHeight:v,cssWidth:f,cssHeight:v}}function Sg(e,t){return Oc(t>0?e[0]:e[1],t>0?e[1]:e[0])}function Cg(e,t,i,n,s){var o=1,a=[0,0],l={left:0,right:0,top:0,bottom:0,width:0,height:0,clientLeft:0,clientTop:0,clientWidth:0,clientHeight:0,scrollWidth:0,scrollHeight:0},r={left:0,right:0,top:0,bottom:0,width:0,height:0,clientLeft:0,clientTop:0,clientWidth:0,clientHeight:0,scrollWidth:0,scrollHeight:0},d={left:0,right:0,top:0,bottom:0,width:0,height:0,clientLeft:0,clientTop:0,clientWidth:0,clientHeight:0,scrollWidth:0,scrollHeight:0},c=dg(t,i,s,!1);if(t){var u=c.is3d?4:3,p=fg(c.offsetMatrix,zu(c.transformOrigin,function(e,t){void 0===t&&(t=Math.sqrt(e.length));for(var i=[],n=e[t*t-1],s=0;s<t-1;++s)i[s]=e[t*(t-1)+s]/n;return i[t-1]=0,i}(c.targetMatrix,u)),c.width,c.height);o=p.direction,a=zu(p.origin,[p.left-c.left,p.top-c.top]),l=kg(t),r=kg(ng(n,n,!0).offsetParent||document.body,!0),e&&(d=kg(e))}return Kp({targetClientRect:l,containerClientRect:r,moveableClientRect:d,beforeDirection:o,beforeOrigin:a,originalBeforeOrigin:a,target:t},c)}function kg(e,t){var i,n=0,s=0,o=0,a=0;if(e===document.body||e===document.documentElement){o=window.innerWidth,a=window.innerHeight;var l=[document.documentElement.scrollLeft||document.body.scrollLeft,document.documentElement.scrollTop||document.body.scrollTop];n=(i=[-l[0],-l[1]])[0],s=i[1]}else{var r=e.getBoundingClientRect();n=r.left,s=r.top,o=r.width,a=r.height}var d={left:n,right:n+o,top:s,bottom:s+a,width:o,height:a};return t&&(d.clientLeft=e.clientLeft,d.clientTop=e.clientTop,d.clientWidth=e.clientWidth,d.clientHeight=e.clientHeight,d.scrollWidth=e.scrollWidth,d.scrollHeight=e.scrollHeight,d.overflow="visible"!==Ig(e).overflow),d}function Ag(e){if(e){var t=e.getAttribute("data-direction");if(t){var i=[0,0];return t.indexOf("w")>-1&&(i[0]=-1),t.indexOf("e")>-1&&(i[0]=1),t.indexOf("n")>-1&&(i[1]=-1),t.indexOf("s")>-1&&(i[1]=1),i}}}function Eg(e,t){return[zu(t,e[0]),zu(t,e[1]),zu(t,e[2]),zu(t,e[3])]}function Lg(e){var t=e.left,i=e.top;return Eg([e.pos1,e.pos2,e.pos3,e.pos4],[t,i])}function qg(e,t){var i;null===(i=e[t])||void 0===i||i.unset(),e[t]=null}function Tg(e,t,i,n){var s=t.datas;s.datas||(s.datas={});var o=Kp(Kp({},i),{target:e.state.target,clientX:t.clientX,clientY:t.clientY,inputEvent:t.inputEvent,currentTarget:e,moveable:e,datas:s.datas});return s.isStartEvent?n||(s.lastEvent=o):s.isStartEvent=!0,o}function Mg(e,t,i){var n=t.datas,s="isDrag"in i?i.isDrag:t.isDrag;return n.datas||(n.datas={}),Kp(Kp({isDrag:s},i),{moveable:e,target:e.state.target,clientX:t.clientX,clientY:t.clientY,inputEvent:t.inputEvent,currentTarget:e,lastEvent:n.lastEvent,isDouble:t.isDouble,datas:n.datas})}function Og(e,t,i){e._emitter.on(t,i)}function Rg(e,t,i,n){return e.triggerEvent(t,i,n)}function Ig(e,t){return window.getComputedStyle(e,t)}function Bg(e,t,i){var n={},s={};return e.filter((function(e){var o=e.name;if(n[o]||!t.some((function(t){return e[t]})))return!1;if(!i&&e.ableGroup){if(s[e.ableGroup])return!1;s[e.ableGroup]=!0}return n[o]=!0,!0}))}function Ng(e,t){return e===t||null==e&&null==t}function $g(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.sort((function(e,t){return Math.abs(t)-Math.abs(e)})),e[0]}function zg(e,t,i){return Du(Ru(e,i),Iu(t,i),i)}function Pg(e,t){var i,n=e.is3d?4:3;return i=zg(e.rootMatrix,[t.distX,t.distY],n),t.distX=i[0],t.distY=i[1],t}function Hg(e,t,i,n,s){return Pu(hg(e,zu(i,t),s),n)}function Dg(e,t,i){return i?"".concat(e/t*100,"%"):"".concat(e,"px")}function jg(e){return Math.abs(e)<=lh?0:e}function Ug(e,t){return t.isRequest?("resizable"===t.requestAble||"scalable"===t.requestAble)&&t.parentDirection:$c(t.inputEvent.target,Km("direction"))}function Fg(e){var t={};for(var i in e)t[e[i]]=i;return t}function Wg(e,t){return e?uc(e)?t?document.querySelector(e):e:hc(e)?e():"current"in e?e.current:e:null}function Yg(e,t){if(!e)return[];var i=function(e){return!(!e||!dc(e))&&!(e instanceof Element)&&(cc(e)||"length"in e)}(e)?[].slice.call(e):[e];return i.reduce((function(e,i){return uc(i)&&t?Zp(Zp([],e,!0),[].slice.call(document.querySelectorAll(i)),!0):(e.push(Wg(i,t)),e)}),[])}function Xg(e,t){var i=e.rootMatrix,n=e.is3d,s=Ru(i,n?4:3);return n||(s=Bu(s,3,4)),s[12]=0,s[13]=0,s[14]=0,function(e,t){var i=Du(e,[t[0],t[1]||0,t[2]||0,1],4),n=i[3]||1;return[i[0]/n,i[1]/n,i[2]/n]}(s,t)}function Gg(e,t,i,n,s){var o=e[0],a=e[1],l=0,r=0;if(s&&o&&a){var d=Oc([0,0],t),c=Oc([0,0],n),u=vg(t),p=Math.cos(d-c)*u;if(n[0])if(n[1]){var h=2*n[0]*o,m=2*n[1]*a,g=vg([h+t[0],m+t[1]])-vg([h,m]),b=Oc([0,0],[i,1]);l=Math.cos(b)*g,r=Math.sin(b)*g}else r=(l=p)/i;else l=(r=p)*i}else l=n[0]*t[0],r=n[1]*t[1];return[l,r]}function Vg(e,t,i,n){var s,o=i.ratio,a=i.startOffsetWidth,l=i.startOffsetHeight,r=0,d=0,c=n.distX,u=n.distY,p=n.parentDistance,h=n.parentDist,m=n.parentScale,g=n.isPinch,b=i.fixedDirection;if(h)r=h[0],d=h[1],t&&(r?d||(d=r/o):r=d*o);else if(m)r=(m[0]-1)*a,d=(m[1]-1)*l;else if(g)p&&(r=p,d=p*l/a);else{var f=Im({datas:i,distX:c,distY:u});f=[0,1].map((function(t){var i=Math.abs(e[t]-b[t]);return 0!==i&&(i=2/i),f[t]*i})),r=(s=Gg([a,l],f,o,e,t))[0],d=s[1]}return{distWidth:r,distHeight:d}}var Kg=Qp("pinchable",{events:{onPinchStart:"pinchStart",onPinch:"pinch",onPinchEnd:"pinchEnd",onPinchGroupStart:"pinchGroupStart",onPinchGroup:"pinchGroup",onPinchGroupEnd:"pinchGroupEnd"},dragStart:function(){return!0},pinchStart:function(e,t){var i=t.datas,n=t.targets,s=t.angle,o=t.originalDatas,a=e.props,l=a.pinchable,r=a.ables;if(!l)return!1;var d="onPinch".concat(n?"Group":"","Start"),c="drag".concat(n?"Group":"","ControlStart"),u=(!0===l?e.controlAbles:r.filter((function(e){return l.indexOf(e.name)>-1}))).filter((function(e){return e.canPinch&&e[c]})),p=Tg(e,t,{});n&&(p.targets=n);var h=Rg(e,d,p);i.isPinch=!1!==h,i.ables=u;var m=i.isPinch;return!!m&&(u.forEach((function(i){if(o[i.name]=o[i.name]||{},i[c]){var n=Kp(Kp({},t),{datas:o[i.name],parentRotate:s,isPinch:!0});i[c](e,n)}})),e.state.snapRenderInfo={request:t.isRequest,direction:[0,0]},m)},pinch:function(e,t){var i=t.datas,n=t.scale,s=t.distance,o=t.originalDatas,a=t.inputEvent,l=t.targets,r=t.angle;if(i.isPinch){var d=s*(1-1/n),c=Tg(e,t,{});l&&(c.targets=l);var u="onPinch".concat(l?"Group":"");Rg(e,u,c);var p=i.ables,h="drag".concat(l?"Group":"","Control");return p.forEach((function(i){i[h]&&i[h](e,Kp(Kp({},t),{datas:o[i.name],inputEvent:a,parentDistance:d,parentRotate:r,isPinch:!0}))})),c}},pinchEnd:function(e,t){var i=t.datas,n=t.isPinch,s=t.inputEvent,o=t.targets,a=t.originalDatas;if(i.isPinch){var l="onPinch".concat(o?"Group":"","End"),r=Mg(e,t,{isDrag:n});o&&(r.targets=o),Rg(e,l,r);var d=i.ables,c="drag".concat(o?"Group":"","ControlEnd");return d.forEach((function(i){i[c]&&i[c](e,Kp(Kp({},t),{isDrag:n,datas:a[i.name],inputEvent:s,isPinch:!0}))})),n}},pinchGroupStart:function(e,t){return this.pinchStart(e,Kp(Kp({},t),{targets:e.props.targets}))},pinchGroup:function(e,t){return this.pinch(e,Kp(Kp({},t),{targets:e.props.targets}))},pinchGroupEnd:function(e,t){return this.pinchEnd(e,Kp(Kp({},t),{targets:e.props.targets}))}}),Zg={name:"resizable",ableGroup:"size",canPinch:!0,props:{resizable:Boolean,throttleResize:Number,renderDirections:Array,keepRatio:Boolean,resizeFormat:Function},events:{onResizeStart:"resizeStart",onBeforeResize:"beforeResize",onResize:"resize",onResizeEnd:"resizeEnd",onResizeGroupStart:"resizeGroupStart",onBeforeResizeGroup:"beforeResizeGroup",onResizeGroup:"resizeGroup",onResizeGroupEnd:"resizeGroupEnd"},render:function(e,t){var i=e.props,n=i.resizable,s=i.edge;if(n)return s?Sh(e,t):wh(e,t)},dragControlCondition:Ug,dragControlStart:function(e,t){var i,n=t.inputEvent,s=t.isPinch,o=t.isGroup,a=t.parentDirection,l=t.datas,r=a||(s?[0,0]:Ag(n.target)),d=e.state,c=d.target,u=d.width,p=d.height;if(!r||!c)return!1;!s&&qm(e,t),l.datas={},l.direction=r,l.startOffsetWidth=u,l.startOffsetHeight=p,l.prevWidth=0,l.prevHeight=0,i=function(e){var t=Ig(e);return[parseFloat(t.width),parseFloat(t.height)]}(c),l.startWidth=i[0],l.startHeight=i[1];var h=[Math.max(0,u-l.startWidth),Math.max(0,p-l.startHeight)];if(l.minSize=h,l.maxSize=[1/0,1/0],!o){var m=Ig(c),g=m.position,b=m.minWidth,f=m.minHeight,v=m.maxWidth,y=m.maxHeight,x="static"===g||"relative"===g,_=x?c.parentElement:c.offsetParent,w=u,S=p;if(_&&(w=_.clientWidth,S=_.clientHeight,x)){var C=Ig(_);w-=parseFloat(C.paddingLeft)||0,S-=parseFloat(C.paddingTop)||0}l.minSize=zu([Lc(b,w)||0,Lc(f,S)||0],h),l.maxSize=zu([Lc(v,w)||1/0,Lc(y,S)||1/0],h)}var k=e.props.transformOrigin||"% %";function A(e){l.ratio=e&&isFinite(e)?e:0}function E(e){l.fixedDirection=e,l.fixedPosition=$m(l.startPositions,e)}function L(e){l.minSize=[Lc("".concat(e[0]),0)||0,Lc("".concat(e[1]),0)||0]}function q(e){var t=[e[0]||1/0,e[1]||1/0];pc(t[0])&&!isFinite(t[0])||(t[0]=Lc("".concat(t[0]),0)||1/0),pc(t[1])&&!isFinite(t[1])||(t[1]=Lc("".concat(t[1]),0)||1/0),l.maxSize=t}l.transformOrigin=k&&uc(k)?k.split(" "):k,l.isWidth=!r[0]&&!r[1]||r[0]||!r[1],l.startPositions=Lg(e.state),A(u/p),E([-r[0],-r[1]]),l.setFixedDirection=E,l.setMin=L,l.setMax=q;var T=Tg(e,t,{direction:r,set:function(e){var t=e[0],i=e[1];l.startWidth=t,l.startHeight=i},setMin:L,setMax:q,setRatio:A,setFixedDirection:E,setOrigin:function(e){l.transformOrigin=e},dragStart:Em.dragStart(e,(new bh).dragStart([0,0],t))});return!1!==Rg(e,"onResizeStart",T)&&(l.isResize=!0,e.state.snapRenderInfo={request:t.isRequest,direction:r}),!!l.isResize&&T},dragControl:function(e,t){var i,n=t.datas,s=t.parentFlag,o=t.isPinch,a=t.parentKeepRatio,l=t.dragClient,r=t.parentDist,d=t.isRequest,c=n.isResize,u=n.transformOrigin,p=n.startWidth,h=n.startHeight,m=n.prevWidth,g=n.prevHeight,b=n.minSize,f=n.maxSize,v=n.ratio,y=n.isWidth,x=n.startOffsetWidth,_=n.startOffsetHeight;if(c){var w=e.props,S=w.resizeFormat,C=w.throttleResize,k=void 0===C?1:C,A=w.parentMoveable,E=n.direction,L=E,q=0,T=0;E[0]||E[1]||(L=[1,1]);var M=v&&(null!=a?a:w.keepRatio)||!1,O=D(),R=O[0],I=O[1];n.setFixedDirection(n.fixedDirection),Rg(e,"onBeforeResize",Tg(e,t,{setFixedDirection:function(e){var t;return n.setFixedDirection(e),t=D(),R=t[0],I=t[1],[R,I]},boundingWidth:R,boundingHeight:I,setSize:function(e){R=e[0],I=e[1]}},!0));var B=l;l||(B=!s&&o?Vm(e,[0,0]):n.fixedPosition);var N=[0,0];if(o||(N=function(e,t,i,n,s,o,a){if(!Ih(e,"resizable"))return[0,0];var l=a.fixedDirection,r=e.state,d=r.allMatrix,c=r.is3d;return wm(e,(function(e,n){return xm(d,t+e,i+n,l,s,c)}),t,i,n,s,o,a)}(e,R,I,E,B,d,n)),r&&(!r[0]&&(N[0]=0),!r[1]&&(N[1]=0)),M){L[0]&&L[1]&&N[0]&&N[1]&&(Math.abs(N[0])>Math.abs(N[1])?N[1]=0:N[0]=0);var $=!N[0]&&!N[1];$&&j(),L[0]&&!L[1]||N[0]&&!N[1]||$&&y?(R+=N[0],I=R/v):(!L[0]&&L[1]||!N[0]&&N[1]||$&&!y)&&(I+=N[1],R=I*v)}else R+=N[0],I+=N[1],R=Math.max(0,R),I=Math.max(0,I);i=Tc([R,I],b,f,!!M&&v),R=i[0],I=i[1],j();var z=[(q=R-x)-m,(T=I-_)-g];n.prevWidth=q,n.prevHeight=T;var P=Gm(e,R,I,n.fixedDirection,B,u);if(A||!z.every((function(e){return!e}))||!P.every((function(e){return!e}))){var H=Tg(e,t,{width:p+q,height:h+T,offsetWidth:Math.round(R),offsetHeight:Math.round(I),boundingWidth:R,boundingHeight:I,direction:E,dist:[q,T],delta:z,isPinch:!!o,drag:Em.drag(e,gh(t,e.state,P,!!o,!1))});return Rg(e,"onResize",H),H}}function D(){var e=Vg(L,M,n,t);q=e.distWidth,T=e.distHeight;var i=L[0]||M?Math.max(x+q,lh):x,s=L[1]||M?Math.max(_+T,lh):_;return M&&x&&_&&(y?s=i/v:i=s*v),[i,s]}function j(){var e;S&&(e=S([R,I]),R=e[0],I=e[1]),R=Bc(R,k),I=Bc(I,k)}},dragControlAfter:function(e,t){var i=t.datas,n=i.isResize,s=i.startOffsetWidth,o=i.startOffsetHeight,a=i.prevWidth,l=i.prevHeight;if(n){var r=e.state,d=r.width-(s+a),c=r.height-(o+l),u=Math.abs(d)>3,p=Math.abs(c)>3;return u&&(i.startWidth+=d,i.startOffsetWidth+=d,i.prevWidth+=d),p&&(i.startHeight+=c,i.startOffsetHeight+=c,i.prevHeight+=c),u||p?this.dragControl(e,t):void 0}},dragControlEnd:function(e,t){var i=t.datas;if(i.isResize){i.isResize=!1;var n=Mg(e,t,{});return Rg(e,"onResizeEnd",n),n}},dragGroupControlCondition:Ug,dragGroupControlStart:function(e,t){var i=t.datas,n=this.dragControlStart(e,Kp(Kp({},t),{isGroup:!0}));if(!n)return!1;var s=fh(e,"resizable",t);function o(t,n){var s=i.fixedDirection,o=i.fixedPosition,a=$m(n.datas.startPositions||Lg(t.state),s),l=Du(Vu(-e.rotation/180*Math.PI,3),[a[0]-o[0],a[1]-o[1],1],3),r=l[0],d=l[1];return n.datas.originalX=r,n.datas.originalY=d,n}var a=i.startOffsetWidth,l=i.startOffsetHeight;function r(){var e=i.minSize;s.forEach((function(t){var i=t.datas,n=i.minSize,s=i.startOffsetWidth,o=i.startOffsetHeight,r=a*(s?n[0]/s:0),d=l*(o?n[1]/o:0);e[0]=Math.max(e[0],r),e[1]=Math.max(e[1],d)}))}function d(){var e=i.maxSize;s.forEach((function(t){var i=t.datas,n=i.maxSize,s=i.startOffsetWidth,o=i.startOffsetHeight,r=a*(s?n[0]/s:0),d=l*(o?n[1]/o:0);e[0]=Math.min(e[0],r),e[1]=Math.min(e[1],d)}))}var c=yh(e,this,"dragControlStart",t,(function(e,t){return o(e,t)}));r(),d();var u=function(e){n.setFixedDirection(e),c.forEach((function(t,i){t.setFixedDirection(e),o(t.moveable,s[i])}))};i.setFixedDirection=u;var p=Kp(Kp({},n),{targets:e.props.targets,events:c.map((function(e){return Kp(Kp({},e),{setMin:function(t){e.setMin(t),r()},setMax:function(t){e.setMax(t),d()}})})),setFixedDirection:u,setMin:function(e){n.setMin(e),r()},setMax:function(e){n.setMax(e),d()}}),h=Rg(e,"onResizeGroupStart",p);return i.isResize=!1!==h,!!i.isResize&&n},dragGroupControl:function(e,t){var i=t.datas;if(i.isResize){Og(e,"onBeforeResize",(function(i){Rg(e,"onBeforeResizeGroup",Tg(e,t,Kp(Kp({},i),{targets:e.props.targets}),!0))}));var n=this.dragControl(e,t);if(n){var s=n.boundingWidth,o=n.boundingHeight,a=n.dist,l=e.props.keepRatio,r=[s/(s-a[0]),o/(o-a[1])],d=i.fixedPosition,c=yh(e,this,"dragControl",t,(function(t,i){var n=Du(Vu(e.rotation/180*Math.PI,3),[i.datas.originalX*r[0],i.datas.originalY*r[1],1],3),s=n[0],o=n[1];return Kp(Kp({},i),{parentDist:null,parentScale:r,dragClient:zu(d,[s,o]),parentKeepRatio:l})})),u=Kp({targets:e.props.targets,events:c},n);return Rg(e,"onResizeGroup",u),u}}},dragGroupControlEnd:function(e,t){var i=t.isDrag;if(t.datas.isResize){this.dragControlEnd(e,t);var n=yh(e,this,"dragControlEnd",t);return Rg(e,"onResizeGroupEnd",Mg(e,t,{targets:e.props.targets,events:n})),i}},request:function(e){var t={},i=0,n=0,s=e.getRect();return{isControl:!0,requestStart:function(e){return{datas:t,parentDirection:e.direction||[1,1]}},request:function(e){return"offsetWidth"in e?i=e.offsetWidth-s.offsetWidth:"deltaWidth"in e&&(i+=e.deltaWidth),"offsetHeight"in e?n=e.offsetHeight-s.offsetHeight:"deltaHeight"in e&&(n+=e.deltaHeight),{datas:t,parentDist:[i,n],parentKeepRatio:e.keepRatio}},requestEnd:function(){return{datas:t,isDrag:!0}}}}},Qg={name:"scalable",ableGroup:"size",canPinch:!0,props:{scalable:Boolean,throttleScale:Number,renderDirections:String,keepRatio:Boolean},events:{onScaleStart:"scaleStart",onBeforeScale:"beforeScale",onScale:"scale",onScaleEnd:"scaleEnd",onScaleGroupStart:"scaleGroupStart",onBeforeScaleGroup:"beforeScaleGroup",onScaleGroup:"scaleGroup",onScaleGroupEnd:"scaleGroupEnd"},render:function(e,t){var i=e.props,n=i.resizable,s=i.scalable,o=i.edge;if(!n&&s)return o?Sh(e,t):wh(e,t)},dragControlCondition:Ug,dragControlStart:function(e,t){var i=t.datas,n=t.isPinch,s=t.inputEvent,o=t.parentDirection||(n?[0,0]:Ag(s.target)),a=e.state,l=a.width,r=a.height,d=a.targetTransform,c=a.target,u=a.pos1,p=a.pos2,h=a.pos4;if(!o||!c)return!1;n||qm(e,t),i.datas={},i.transform=d,i.prevDist=[1,1],i.direction=o,i.startOffsetWidth=l,i.startOffsetHeight=r,i.startValue=[1,1];var m=Ic(u,p),g=Ic(p,h),b=!o[0]&&!o[1]||o[0]||!o[1];function f(e){i.ratio=e&&isFinite(e)?e:0}function v(e){i.fixedDirection=e,i.fixedPosition=$m(i.startPositions,e)}i.scaleWidth=m,i.scaleHeight=g,i.scaleXRatio=m/l,i.scaleYRatio=g/r,Hm(t,"scale"),i.isWidth=b,i.startPositions=Lg(e.state),i.setFixedDirection=v,f(Ic(u,p)/Ic(p,h)),v([-o[0],-o[1]]);var y=Tg(e,t,Kp(Kp({direction:o,set:function(e){i.startValue=e},setRatio:f,setFixedDirection:v},Pm(t)),{dragStart:Em.dragStart(e,(new bh).dragStart([0,0],t))}));return!1!==Rg(e,"onScaleStart",y)&&(i.isScale=!0,e.state.snapRenderInfo={request:t.isRequest,direction:o}),!!i.isScale&&y},dragControl:function(e,t){Tm(t,"scale");var i=t.datas,n=t.parentKeepRatio,s=t.parentFlag,o=t.isPinch,a=t.dragClient,l=t.isRequest,r=i.prevDist,d=i.direction,c=i.startOffsetWidth,u=i.startOffsetHeight,p=i.isScale,h=i.startValue,m=i.isWidth,g=i.ratio;if(!p)return!1;var b=e.props,f=b.throttleScale,v=b.parentMoveable,y=d;d[0]||d[1]||(y=[1,1]);var x=g&&(null!=n?n:b.keepRatio)||!1,_=e.state;function w(){var e=Vg(y,x,i,t),n=e.distWidth,s=e.distHeight,o=(c+n)/c,a=(u+s)/u;return o=y[0]||x?o*h[0]:h[0],a=y[1]||x?a*h[1]:h[1],0===o&&(o=(r[0]>0?1:-1)*rh),0===a&&(a=(r[1]>0?1:-1)*rh),[o,a]}var S=w();if(!o&&e.props.groupable){var C=(_.snapRenderInfo||{}).direction;cc(C)&&(C[0]||C[1])&&(_.snapRenderInfo={direction:d,request:t.isRequest})}Rg(e,"onBeforeScale",Tg(e,t,{scale:S,setFixedDirection:function(e){return i.setFixedDirection(e),S=w()},setScale:function(e){S=e}},!0));var k=[S[0]/h[0],S[1]/h[1]],A=a,E=[0,0];if(a||(A=!s&&o?Vm(e,[0,0]):i.fixedPosition),o||(E=Sm(e,k,d,l,i)),x){y[0]&&y[1]&&E[0]&&E[1]&&(Math.abs(E[0]*c)>Math.abs(E[1]*u)?E[1]=0:E[0]=0);var L=!E[0]&&!E[1];if(L&&(m?k[0]=Bc(k[0]*h[0],f)/h[0]:k[1]=Bc(k[1]*h[1],f)/h[1]),y[0]&&!y[1]||E[0]&&!E[1]||L&&m){k[0]+=E[0];var q=c*k[0]*h[0]/g;k[1]=q/u/h[1]}else if(!y[0]&&y[1]||!E[0]&&E[1]||L&&!m){k[1]+=E[1];var T=u*k[1]*h[1]*g;k[0]=T/c/h[0]}}else k[0]+=E[0],k[1]+=E[1],E[0]||(k[0]=Bc(k[0]*h[0],f)/h[0]),E[1]||(k[1]=Bc(k[1]*h[1],f)/h[1]);0===k[0]&&(k[0]=(r[0]>0?1:-1)*rh),0===k[1]&&(k[1]=(r[1]>0?1:-1)*rh);var M,O,R=[k[0]/r[0],k[1]/r[1]];O=h,S=[(M=k)[0]*O[0],M[1]*O[1]];var I=function(e,t,i,n,s){return Wm(e,"scale(".concat(t.join(", "),")"),i,n,s)}(e,k,i.fixedDirection,A,i),B=Pu(I,i.prevInverseDist||[0,0]);if(i.prevDist=k,i.prevInverseDist=I,S[0]===r[0]&&S[1]===r[1]&&B.every((function(e){return!e}))&&!v)return!1;var N=Mm(i,"scale(".concat(S.join(", "),")"),"scale(".concat(k.join(", "),")")),$=Tg(e,t,Kp({offsetWidth:c,offsetHeight:u,direction:d,scale:S,dist:k,delta:R,isPinch:!!o},Fm(e,N,B,o,t)));return Rg(e,"onScale",$),$},dragControlEnd:function(e,t){var i=t.datas,n=t.isDrag;return!!i.isScale&&(i.isScale=!1,Rg(e,"onScaleEnd",Mg(e,t,{})),n)},dragGroupControlCondition:Ug,dragGroupControlStart:function(e,t){var i=t.datas,n=this.dragControlStart(e,t);if(!n)return!1;var s=fh(e,"resizable",t);function o(t,n){var s=i.fixedDirection,o=i.fixedPosition,a=$m(n.datas.startPositions||Lg(t.state),s),l=Du(Vu(-e.rotation/180*Math.PI,3),[a[0]-o[0],a[1]-o[1],1],3),r=l[0],d=l[1];return n.datas.originalX=r,n.datas.originalY=d,n}i.moveableScale=e.scale;var a=yh(e,this,"dragControlStart",t,(function(e,t){return o(e,t)})),l=function(e){n.setFixedDirection(e),a.forEach((function(t,i){t.setFixedDirection(e),o(t.moveable,s[i])}))};i.setFixedDirection=l;var r=Kp(Kp({},n),{targets:e.props.targets,events:a,setFixedDirection:l}),d=Rg(e,"onScaleGroupStart",r);return i.isScale=!1!==d,!!i.isScale&&r},dragGroupControl:function(e,t){var i=t.datas;if(i.isScale){Og(e,"onBeforeScale",(function(i){Rg(e,"onBeforeScaleGroup",Tg(e,t,Kp(Kp({},i),{targets:e.props.targets}),!0))}));var n=this.dragControl(e,t);if(n){var s=i.moveableScale;e.scale=[n.scale[0]*s[0],n.scale[1]*s[1]];var o=e.props.keepRatio,a=n.dist,l=n.scale,r=i.fixedPosition,d=yh(e,this,"dragControl",t,(function(t,i){var n=Du(Vu(e.rotation/180*Math.PI,3),[i.datas.originalX*a[0],i.datas.originalY*a[1],1],3),s=n[0],d=n[1];return Kp(Kp({},i),{parentDist:null,parentScale:l,parentKeepRatio:o,dragClient:zu(r,[s,d])})})),c=Kp({targets:e.props.targets,events:d},n);return Rg(e,"onScaleGroup",c),c}}},dragGroupControlEnd:function(e,t){var i=t.isDrag;if(t.datas.isScale){this.dragControlEnd(e,t);var n=yh(e,this,"dragControlEnd",t);return Rg(e,"onScaleGroupEnd",Mg(e,t,{targets:e.props.targets,events:n})),i}},request:function(){var e={},t=0,i=0;return{isControl:!0,requestStart:function(t){return{datas:e,parentDirection:t.direction||[1,1]}},request:function(n){return t+=n.deltaWidth,i+=n.deltaHeight,{datas:e,parentDist:[t,i],parentKeepRatio:n.keepRatio}},requestEnd:function(){return{datas:e,isDrag:!0}}}}};function Jg(e,t){return e.map((function(e,i){return n=e,s=t[i],(n*(a=2)+s*(o=1))/(o+a);var n,s,o,a}))}function eb(e,t,i){var n=Oc(e,t),s=Oc(e,i)-n;return s>=0?s:s+2*Math.PI}var tb={name:"warpable",ableGroup:"size",props:{warpable:Boolean,renderDirections:Array},events:{onWarpStart:"warpStart",onWarp:"warp",onWarpEnd:"warpEnd"},render:function(e,t){var i=e.props,n=i.resizable,s=i.scalable,o=i.warpable,a=i.zoom;if(n||s||!o)return[];var l=e.state,r=l.pos1,d=l.pos2,c=l.pos3,u=l.pos4,p=Jg(r,d),h=Jg(d,r),m=Jg(r,c),g=Jg(c,r),b=Jg(c,u),f=Jg(u,c),v=Jg(d,u),y=Jg(u,d);return Zp([t.createElement("div",{className:Km("line"),key:"middeLine1",style:xg(p,b,a)}),t.createElement("div",{className:Km("line"),key:"middeLine2",style:xg(h,f,a)}),t.createElement("div",{className:Km("line"),key:"middeLine3",style:xg(m,v,a)}),t.createElement("div",{className:Km("line"),key:"middeLine4",style:xg(g,y,a)})],wh(e,t),!0)},dragControlCondition:function(e,t){return!t.isRequest&&$c(t.inputEvent.target,Km("direction"))},dragControlStart:function(e,t){var i=t.datas,n=t.inputEvent,s=e.props.target,o=Ag(n.target);if(!o||!s)return!1;var a=e.state,l=a.transformOrigin,r=a.is3d,d=a.targetTransform,c=a.targetMatrix,u=a.width,p=a.height,h=a.left,m=a.top;i.datas={},i.targetTransform=d,i.warpTargetMatrix=r?c:Bu(c,3,4),i.targetInverseMatrix=Ou(Ru(i.warpTargetMatrix,4),3,4),i.direction=o,i.left=h,i.top=m,i.poses=[[0,0],[u,0],[0,p],[u,p]].map((function(e){return Pu(e,l)})),i.nextPoses=i.poses.map((function(e){var t=e[0],n=e[1];return Du(i.warpTargetMatrix,[t,n,0,1],4)})),i.startValue=Ku(4),i.prevMatrix=Ku(4),i.absolutePoses=Lg(a),i.posIndexes=Bm(o),qm(e,t),Hm(t,"matrix3d"),a.snapRenderInfo={request:t.isRequest,direction:o};var g=Tg(e,t,Kp({set:function(e){i.startValue=e}},Pm(t)));return!1!==Rg(e,"onWarpStart",g)&&(i.isWarp=!0),i.isWarp},dragControl:function(e,t){var i=t.datas,n=t.isRequest,s=t.distX,o=t.distY,a=i.targetInverseMatrix,l=i.prevMatrix,r=i.isWarp,d=i.startValue,c=i.poses,u=i.posIndexes,p=i.absolutePoses;if(!r)return!1;if(Tm(t,"matrix3d"),Ih(e,"warpable")){var h=u.map((function(e){return p[e]}));h.length>1&&h.push([(h[0][0]+h[1][0])/2,(h[0][1]+h[1][1])/2]);var m=gm(e,n,{horizontal:h.map((function(e){return e[1]+o})),vertical:h.map((function(e){return e[0]+s}))}),g=m.horizontal,b=m.vertical;o-=g.offset,s-=b.offset}var f=Im({datas:i,distX:s,distY:o},!0),v=i.nextPoses.slice();if(u.forEach((function(e){v[e]=zu(v[e],f)})),!ah.every((function(e){return t=e.map((function(e){return c[e]})),i=e.map((function(e){return v[e]})),n=eb(t[0],t[1],t[2]),s=eb(i[0],i[1],i[2]),o=Math.PI,!(n>=o&&s<=o||n<=o&&s>=o);var t,i,n,s,o})))return!1;var y=Ju(c[0],c[2],c[1],c[3],v[0],v[2],v[1],v[3]);if(!y.length)return!1;var x=Om(i,$u(a,y,4),!0),_=$u(Ru(l,4),x,4);i.prevMatrix=x;var w=$u(d,x,4),S=Mm(i,"matrix3d(".concat(w.join(", "),")"),"matrix3d(".concat(x.join(", "),")"));return jm(t,S),Rg(e,"onWarp",Tg(e,t,{delta:_,matrix:w,dist:x,multiply:$u,transform:S})),!0},dragControlEnd:function(e,t){var i=t.datas,n=t.isDrag;return!!i.isWarp&&(i.isWarp=!1,Rg(e,"onWarpEnd",Mg(e,t,{})),n)}},ib=Km("area-pieces"),nb=Km("area-piece"),sb=Km("avoid");function ob(e){var t=e.areaElement;if(t){var i=e.state,n=i.width,s=i.height;!function(e,t){if(e.classList)e.classList.remove(t);else{var i=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(i," ")}}(t,sb),t.style.cssText+="left: 0px; top: 0px; width: ".concat(n,"px; height: ").concat(s,"px")}}function ab(e){return e.createElement("div",{key:"area_pieces",className:ib},e.createElement("div",{className:nb}),e.createElement("div",{className:nb}),e.createElement("div",{className:nb}),e.createElement("div",{className:nb}))}var lb={name:"dragArea",props:{dragArea:Boolean,passDragArea:Boolean},events:{onClick:"click",onClickGroup:"clickGroup"},render:function(e,t){var i=e.props,n=i.target,s=i.dragArea,o=i.groupable,a=i.passDragArea,l=e.state,r=l.width,d=l.height,c=l.renderPoses,u=a?Km("area","pass"):Km("area");if(o)return[t.createElement("div",{key:"area",ref:Yd(e,"areaElement"),className:u}),ab(t)];if(!n||!s)return[];var p=Ju([0,0],[r,0],[0,d],[r,d],c[0],c[1],c[2],c[3]),h=p.length?cg(p,!0):"none";return[t.createElement("div",{key:"area",ref:Yd(e,"areaElement"),className:u,style:{top:"0px",left:"0px",width:"".concat(r,"px"),height:"".concat(d,"px"),transformOrigin:"0 0",transform:h}}),ab(t)]},dragStart:function(e,t){var i=t.datas,n=t.clientX,s=t.clientY;if(!t.inputEvent)return!1;i.isDragArea=!1;var o,a,l=e.areaElement,r=e.state,d=r.moveableClientRect,c=r.renderPoses,u=r.rootMatrix,p=r.is3d,h=d.left,m=d.top,g=gg(c),b=g.left,f=g.top,v=g.width,y=g.height,x=zg(u,[n-h,s-m],p?4:3),_=x[0],w=x[1],S=[{left:b,top:f,width:v,height:(w-=f)-10},{left:b,top:f,width:(_-=b)-10,height:y},{left:b,top:f+w+10,width:v,height:y-w-10},{left:b+_+10,top:f,width:v-_-10,height:y}],C=[].slice.call(l.nextElementSibling.children);S.forEach((function(e,t){C[t].style.cssText="left: ".concat(e.left,"px;top: ").concat(e.top,"px; width: ").concat(e.width,"px; height: ").concat(e.height,"px;")})),a=sb,(o=l).classList?o.classList.add(a):o.className+=" "+a,r.disableNativeEvent=!0},drag:function(e,t){var i=t.datas,n=t.inputEvent;if(this.enableNativeEvent(e),!n)return!1;i.isDragArea||(i.isDragArea=!0,ob(e))},dragEnd:function(e,t){this.enableNativeEvent(e);var i=t.inputEvent,n=t.datas;if(!i)return!1;n.isDragArea||ob(e)},dragGroupStart:function(e,t){return this.dragStart(e,t)},dragGroup:function(e,t){return this.drag(e,t)},dragGroupEnd:function(e,t){return this.dragEnd(e,t)},unset:function(e){ob(e),e.state.disableNativeEvent=!1},enableNativeEvent:function(e){var t=e.state;t.disableNativeEvent&&kc((function(){t.disableNativeEvent=!1}))}},rb=Qp("origin",{render:function(e,t){var i=e.props.zoom,n=e.state,s=n.beforeOrigin,o=n.rotation;return[t.createElement("div",{className:Km("control","origin"),style:_g(o,i,s),key:"beforeOrigin"})]}});function db(e){var t=e.scrollContainer;return[t.scrollLeft,t.scrollTop]}var cb={name:"scrollable",canPinch:!0,props:{scrollable:Boolean,scrollContainer:Object,scrollThreshold:Number,getScrollPosition:Function},events:{onScroll:"scroll",onScrollGroup:"scrollGroup"},dragRelation:"strong",dragStart:function(e,t){var i=e.props.scrollContainer,n=void 0===i?e.getContainer():i,s=new Cp,o=Wg(n,!0);t.datas.dragScroll=s;var a=t.isControl?"controlGesto":"targetGesto",l=t.targets;s.on("scroll",(function(i){var n=i.container,s=i.direction,o=Tg(e,t,{scrollContainer:n,direction:s}),a=l?"onScrollGroup":"onScroll";l&&(o.targets=l),Rg(e,a,o)})).on("move",(function(i){var n=i.offsetX,s=i.offsetY;e[a].scrollBy(n,s,t.inputEvent,!1)})),s.dragStart(t,{container:o})},checkScroll:function(e,t){var i=t.datas.dragScroll;if(i){var n=e.props,s=n.scrollContainer,o=void 0===s?e.getContainer():s,a=n.scrollThreshold,l=void 0===a?0:a,r=n.getScrollPosition,d=void 0===r?db:r;return i.drag(t,{container:o,threshold:l,getScrollPosition:function(e){return d({scrollContainer:e.container,direction:e.direction})}}),!0}},drag:function(e,t){return this.checkScroll(e,t)},dragEnd:function(e,t){t.datas.dragScroll.dragEnd(),t.datas.dragScroll=null},dragControlStart:function(e,t){return this.dragStart(e,Kp(Kp({},t),{isControl:!0}))},dragControl:function(e,t){return this.drag(e,t)},dragControlEnd:function(e,t){return this.dragEnd(e,t)},dragGroupStart:function(e,t){return this.dragStart(e,Kp(Kp({},t),{targets:e.props.targets}))},dragGroup:function(e,t){return this.drag(e,Kp(Kp({},t),{targets:e.props.targets}))},dragGroupEnd:function(e,t){return this.dragEnd(e,Kp(Kp({},t),{targets:e.props.targets}))},dragGroupControlStart:function(e,t){return this.dragStart(e,Kp(Kp({},t),{targets:e.props.targets,isControl:!0}))},dragGroupContro:function(e,t){return this.drag(e,Kp(Kp({},t),{targets:e.props.targets}))},dragGroupControEnd:function(e,t){return this.dragEnd(e,Kp(Kp({},t),{targets:e.props.targets}))}},ub={name:"",props:{target:Object,dragTarget:Object,container:Object,portalContainer:Object,rootContainer:Object,useResizeObserver:Boolean,zoom:Number,transformOrigin:Array,edge:Boolean,ables:Array,className:String,pinchThreshold:Number,pinchOutside:Boolean,triggerAblesSimultaneously:Boolean,checkInput:Boolean,cspNonce:String,translateZ:Number,hideDefaultLines:Boolean,props:Object,flushSync:Function},events:{}},pb=Qp("padding",{render:function(e,t){var i=e.props;if(i.dragArea)return[];var n=i.padding||{},s=n.left,o=void 0===s?0:s,a=n.top,l=void 0===a?0:a,r=n.right,d=void 0===r?0:r,c=n.bottom,u=void 0===c?0:c,p=e.state,h=p.renderPoses,m=[p.pos1,p.pos2,p.pos3,p.pos4],g=[];return o>0&&g.push([0,2]),l>0&&g.push([0,1]),d>0&&g.push([1,3]),u>0&&g.push([2,3]),g.map((function(e,i){var n=e[0],s=e[1],o=Ju([0,0],[100,0],[0,100],[100,100],m[n],m[s],h[n],h[s]);if(o.length)return t.createElement("div",{key:"padding".concat(i),className:Km("padding"),style:{transform:cg(o,!0)}})}))}}),hb=["nw","ne","se","sw"];function mb(e,t){var i=e[0]+e[1],n=i>t?t/i:1;return e[0]*=n,e[1]=t-e[1]*n,e}var gb=[1,2,5,6],bb=[0,3,4,7],fb=[1,-1,-1,1],vb=[1,1,-1,-1];function yb(e,t,i,n,s,o,a,l,r){void 0===o&&(o=0),void 0===a&&(a=0),void 0===l&&(l=n),void 0===r&&(r=s);var d=[],c=!1,u=e.map((function(e,u){var p=t[u],h=p.horizontal,m=p.vertical;if(m&&!c&&(c=!0,d.push("/")),c){var g=Math.max(0,1===m?e[1]-a:r-e[1]);return d.push(Dg(g,s,i)),g}g=Math.max(0,1===h?e[0]-o:l-e[0]);return d.push(Dg(g,n,i)),g}));return{styles:d,raws:u}}function xb(e){for(var t=[0,0],i=[0,0],n=e.length,s=0;s<n;++s){var o=e[s];o.sub&&(o.horizontal&&(0===t[1]&&(t[0]=s),t[1]=s-t[0]+1,i[0]=s+1),o.vertical&&(0===i[1]&&(i[0]=s),i[1]=s-i[0]+1))}return{horizontalRange:t,verticalRange:i}}function _b(e,t,i,n,s,o){var a,l,r,d;void 0===o&&(o=[0,0]);var c=e.indexOf("/"),u=(c>-1?e.slice(0,c):e).length,p=e.slice(0,u),h=e.slice(u+1),m=p[0],g=void 0===m?"0px":m,b=p[1],f=void 0===b?g:b,v=p[2],y=void 0===v?g:v,x=p[3],_=void 0===x?f:x,w=h[0],S=void 0===w?g:w,C=h[1],k=void 0===C?S:C,A=h[2],E=void 0===A?S:A,L=h[3],q=void 0===L?k:L,T=[g,f,y,_].map((function(e){return Lc(e,t)})),M=[S,k,E,q].map((function(e){return Lc(e,i)})),O=T.slice(),R=M.slice();a=mb([O[0],O[1]],t),O[0]=a[0],O[1]=a[1],l=mb([O[3],O[2]],t),O[3]=l[0],O[2]=l[1],r=mb([R[0],R[3]],i),R[0]=r[0],R[3]=r[1],d=mb([R[1],R[2]],i),R[1]=d[0],R[2]=d[1];var I=O.slice(0,Math.max(o[0],p.length)),B=R.slice(0,Math.max(o[1],h.length));return Zp(Zp([],I.map((function(e,t){var o=hb[t];return{horizontal:fb[t],vertical:0,pos:[n+e,s+(-1===vb[t]?i:0)],sub:!0,raw:T[t],direction:o}})),!0),B.map((function(e,i){var o=hb[i];return{horizontal:0,vertical:vb[i],pos:[n+(-1===fb[i]?t:0),s+e],sub:!0,raw:M[i],direction:o}})),!0)}function wb(e,t,i,n,s){void 0===s&&(s=t.length);var o=xb(e.slice(n)),a=o.horizontalRange,l=o.verticalRange,r=i-n,d=0;if(0===r)d=s;else if(r>0&&r<a[1])d=a[1]-r;else{if(!(r>=l[0]))return;d=l[0]+l[1]-r}e.splice(i,d),t.splice(i,d)}function Sb(e,t,i,n,s,o,a,l,r,d,c){void 0===d&&(d=0),void 0===c&&(c=0);var u=xb(e.slice(i)),p=u.horizontalRange,h=u.verticalRange;if(n>-1)for(var m=1===fb[n]?o-d:l-o,g=p[1];g<=n;++g){var b=1===vb[g]?c:r,f=0;if(n===g?f=o:0===g?f=d+m:-1===fb[g]&&(f=l-(t[i][0]-d)),e.splice(i+g,0,{horizontal:fb[g],vertical:0,pos:[f,b]}),t.splice(i+g,0,[f,b]),0===g)break}else if(s>-1){var v=1===vb[s]?a-c:r-a;if(0===p[1]&&0===h[1]){var y=[d+v,c];e.push({horizontal:fb[0],vertical:0,pos:y}),t.push(y)}var x=h[0];for(g=h[1];g<=s;++g){f=1===fb[g]?d:l,b=0;if(s===g?b=a:0===g?b=c+v:1===vb[g]?b=t[i+x][1]:-1===vb[g]&&(b=r-(t[i+x][1]-c)),e.push({horizontal:0,vertical:vb[g],pos:[f,b]}),t.push([f,b]),0===g)break}}}function Cb(e,t){void 0===t&&(t=e.map((function(e){return e.raw})));var i=e.map((function(e,i){return e.horizontal?t[i]:null})).filter((function(e){return null!=e})),n=e.map((function(e,i){return e.vertical?t[i]:null})).filter((function(e){return null!=e}));return{horizontals:i,verticals:n}}var kb=[[0,-1,"n"],[1,0,"e"]],Ab=[[-1,-1,"nw"],[0,-1,"n"],[1,-1,"ne"],[1,0,"e"],[1,1,"se"],[0,1,"s"],[-1,1,"sw"],[-1,0,"w"]];function Eb(e,t,i){var n=e.props.clipRelative,s=e.state,o=s.width,a=s.height,l=t,r=l.type,d=l.poses,c="rect"===r,u="circle"===r;if("polygon"===r)return i.map((function(e){return"".concat(Dg(e[0],o,n)," ").concat(Dg(e[1],a,n))}));if(c||"inset"===r){var p=i[1][1],h=i[3][0],m=i[7][0],g=i[5][1];if(c)return[p,h,g,m].map((function(e){return"".concat(e,"px")}));var b=[p,o-h,a-g,m].map((function(e,t){return Dg(e,t%2?o:a,n)}));if(i.length>8){var f=Pu(i[4],i[0]),v=f[0],y=f[1];b.push.apply(b,Zp(["round"],yb(i.slice(8),d.slice(8),n,v,y,m,p,h,g).styles,!1))}return b}if(u||"ellipse"===r){var x=i[0],_=Dg(Math.abs(i[1][1]-x[1]),u?Math.sqrt((o*o+a*a)/2):a,n);return(b=u?[_]:[Dg(Math.abs(i[2][0]-x[0]),o,n),_]).push("at",Dg(x[0],o,n),Dg(x[1],a,n)),b}}function Lb(e,t,i,n){var s=[n,(n+t)/2,t],o=[e,(e+i)/2,i];return Ab.map((function(e){var t=e[0],i=e[1],n=e[2],a=s[t+1],l=o[i+1];return{vertical:Math.abs(i),horizontal:Math.abs(t),direction:n,pos:[a,l]}}))}function qb(e){var t=[1/0,-1/0],i=[1/0,-1/0];return e.forEach((function(e){var n=e.pos;t[0]=Math.min(t[0],n[0]),t[1]=Math.max(t[1],n[0]),i[0]=Math.min(i[0],n[1]),i[1]=Math.max(i[1],n[1])})),[Math.abs(t[1]-t[0]),Math.abs(i[1]-i[0])]}function Tb(e,t,i,n,s){var o,a,l,r,d,c,u,p=s;if(!p){var h=Ig(e),m=h.clipPath;p="none"!==m?m:h.clip}if(p&&"none"!==p&&"auto"!==p||(p=n)){var g=yc(p),b=g.prefix,f=void 0===b?p:b,v=g.value,y=void 0===v?"":v,x="circle"===f,_=" ";if("polygon"===f){_=",";var w=(E=vc(y||"0% 0%, 100% 0%, 100% 100%, 0% 100%")).map((function(e){var n=e.split(" "),s=n[0],o=n[1];return{vertical:1,horizontal:1,pos:[Lc(s,t),Lc(o,i)]}}));return{type:f,clipText:p,poses:w,splitter:_}}if(x||"ellipse"===f){var S="",C="",k=0,A=0,E=fc(y);if(x){var L;L=void 0===(o=E[0])?"50%":o,S=void 0===(a=E[2])?"50%":a,C=void 0===(l=E[3])?"50%":l,k=Lc(L,Math.sqrt((t*t+i*i)/2)),A=k}else{var q,T;q=void 0===(r=E[0])?"50%":r,T=void 0===(d=E[1])?"50%":d,S=void 0===(c=E[3])?"50%":c,C=void 0===(u=E[4])?"50%":u,k=Lc(q,t),A=Lc(T,i)}var M=[Lc(S,t),Lc(C,i)];w=Zp([{vertical:1,horizontal:1,pos:M,direction:"nesw"}],kb.slice(0,x?1:2).map((function(e){return{vertical:Math.abs(e[1]),horizontal:e[0],direction:e[2],sub:!0,pos:[M[0]+e[0]*k,M[1]+e[1]*A]}})),!0);return{type:f,clipText:p,radiusX:k,radiusY:A,left:M[0]-k,top:M[1]-A,poses:w,splitter:_}}if("inset"===f){var O=(E=fc(y||"0 0 0 0")).indexOf("round"),R=(O>-1?E.slice(0,O):E).length,I=E.slice(R+1),B=E.slice(0,R),N=B[0],$=B[1],z=void 0===$?N:$,P=B[2],H=void 0===P?N:P,D=B[3],j=void 0===D?z:D,U=[N,H].map((function(e){return Lc(e,i)})),F=U[0],W=U[1],Y=[j,z].map((function(e){return Lc(e,t)})),X=Y[0],G=Y[1],V=t-G,K=i-W,Z=_b(I,V-X,K-F,X,F);return{type:"inset",clipText:p,poses:w=Zp(Zp([],Lb(F,V,K,X),!0),Z,!0),top:F,left:X,right:V,bottom:K,radius:I,splitter:_}}if("rect"===f){_=",";var Q=(E=vc(y||"0px, ".concat(t,"px, ").concat(i,"px, 0px"))).map((function(e){return xc(e).value}));return{type:"rect",clipText:p,poses:w=Lb(F=Q[0],G=Q[1],W=Q[2],X=Q[3]),top:F,right:G,bottom:W,left:X,values:E,splitter:_}}}}var Mb={name:"clippable",props:{clippable:Boolean,defaultClipPath:String,customClipPath:String,keepRatio:Boolean,clipRelative:Boolean,clipArea:Boolean,dragWithClip:Boolean,clipTargetBounds:Boolean,clipVerticalGuidelines:Array,clipHorizontalGuidelines:Array,clipSnapThreshold:Boolean},events:{onClipStart:"clipStart",onClip:"clip",onClipEnd:"clipEnd"},css:[".control.clip-control {\n    background: #6d6;\n    cursor: pointer;\n}\n.control.clip-control.clip-radius {\n    background: #d66;\n}\n.line.clip-line {\n    background: #6e6;\n    cursor: move;\n    z-index: 1;\n}\n.clip-area {\n    position: absolute;\n    top: 0;\n    left: 0;\n}\n.clip-ellipse {\n    position: absolute;\n    cursor: move;\n    border: 1px solid #6d6;\n    border: var(--zoompx) solid #6d6;\n    border-radius: 50%;\n    transform-origin: 0px 0px;\n}",":host {\n    --bounds-color: #d66;\n}",".guideline {\n    pointer-events: none;\n    z-index: 2;\n}",".line.guideline.bounds {\n    background: #d66;\n    background: var(--bounds-color);\n}"],render:function(e,t){var i=e.props,n=i.customClipPath,s=i.defaultClipPath,o=i.clipArea,a=i.zoom,l=e.state,r=l.target,d=l.width,c=l.height,u=l.allMatrix,p=l.is3d,h=l.left,m=l.top,g=l.pos1,b=l.pos2,f=l.pos3,v=l.pos4,y=l.clipPathState,x=l.snapBoundInfos,_=l.rotation;if(!r)return[];var w=Tb(r,d,c,s||"inset",y||n);if(!w)return[];var S=p?4:3,C=w.type,k=w.poses.map((function(e){var t=hg(u,e.pos,S);return[t[0]-h,t[1]-m]})),A=[],E=[],L="rect"===C,q="inset"===C,T="polygon"===C;if(L||q||T){var M=q?k.slice(0,8):k;E=M.map((function(e,i){var n=0===i?M[M.length-1]:M[i-1],s=Oc(n,e),o=yg(n,e);return t.createElement("div",{key:"clipLine".concat(i),className:Km("line","clip-line","snap-control"),"data-clip-index":i,style:{width:"".concat(o,"px"),transform:"translate(".concat(n[0],"px, ").concat(n[1],"px) rotate(").concat(s,"rad) scaleY(").concat(a,")")}})}))}if(A=k.map((function(e,i){return t.createElement("div",{key:"clipControl".concat(i),className:Km("control","clip-control","snap-control"),"data-clip-index":i,style:{transform:"translate(".concat(e[0],"px, ").concat(e[1],"px) rotate(").concat(_,"rad) scale(").concat(a,")")}})})),q&&A.push.apply(A,k.slice(8).map((function(e,i){return t.createElement("div",{key:"clipRadiusControl".concat(i),className:Km("control","clip-control","clip-radius","snap-control"),"data-clip-index":8+i,style:{transform:"translate(".concat(e[0],"px, ").concat(e[1],"px) rotate(").concat(_,"rad) scale(").concat(a,")")}})}))),"circle"===C||"ellipse"===C){var O=w.left,R=w.top,I=w.radiusX,B=w.radiusY,N=Pu(hg(u,[O,R],S),hg(u,[0,0],S)),$=N[0],z=N[1],P="none";if(!o){for(var H=Math.max(10,I/5,B/5),D=[],j=0;j<=H;++j){var U=2*Math.PI/H*j;D.push([I+(I-a)*Math.cos(U),B+(B-a)*Math.sin(U)])}D.push([I,-2]),D.push([-2,-2]),D.push([-2,2*B+2]),D.push([2*I+2,2*B+2]),D.push([2*I+2,-2]),D.push([I,-2]),P="polygon(".concat(D.map((function(e){return"".concat(e[0],"px ").concat(e[1],"px")})).join(", "),")")}A.push(t.createElement("div",{key:"clipEllipse",className:Km("clip-ellipse","snap-control"),style:{width:"".concat(2*I,"px"),height:"".concat(2*B,"px"),clipPath:P,transform:"translate(".concat(-h+$,"px, ").concat(-m+z,"px) ").concat(cg(u))}}))}if(o){var F=gg(Zp([g,b,f,v],k,!0)),W=F.width,Y=F.height,X=F.left,G=F.top;if(T||L||q){D=q?k.slice(0,8):k;A.push(t.createElement("div",{key:"clipArea",className:Km("clip-area","snap-control"),style:{width:"".concat(W,"px"),height:"".concat(Y,"px"),transform:"translate(".concat(X,"px, ").concat(G,"px)"),clipPath:"polygon(".concat(D.map((function(e){return"".concat(e[0]-X,"px ").concat(e[1]-G,"px")})).join(", "),")")}}))}}return x&&["vertical","horizontal"].forEach((function(e){var i=x[e],n="horizontal"===e;i.isSnap&&E.push.apply(E,i.snap.posInfos.map((function(i,s){var o=i.pos,l=Pu(hg(u,n?[0,o]:[o,0],S),[h,m]),r=Pu(hg(u,n?[d,o]:[o,c],S),[h,m]);return _h(t,"",l,r,a,"clip".concat(e,"snap").concat(s),"guideline")}))),i.isBound&&E.push.apply(E,i.bounds.map((function(i,s){var o=i.pos,l=Pu(hg(u,n?[0,o]:[o,0],S),[h,m]),r=Pu(hg(u,n?[d,o]:[o,c],S),[h,m]);return _h(t,"",l,r,a,"clip".concat(e,"bounds").concat(s),"guideline","bounds","bold")})))})),Zp(Zp([],A,!0),E,!0)},dragControlCondition:function(e,t){return t.inputEvent&&(t.inputEvent.target.getAttribute("class")||"").indexOf("clip")>-1},dragStart:function(e,t){var i=e.props.dragWithClip;return!(void 0===i||i)&&this.dragControlStart(e,t)},drag:function(e,t){return this.dragControl(e,Kp(Kp({},t),{isDragTarget:!0}))},dragEnd:function(e,t){return this.dragControlEnd(e,t)},dragControlStart:function(e,t){var i=e.state,n=e.props,s=n.defaultClipPath,o=n.customClipPath,a=i.target,l=i.width,r=i.height,d=t.inputEvent?t.inputEvent.target:null,c=d&&d.getAttribute("class")||"",u=t.datas,p=Tb(a,l,r,s||"inset",o);if(!p)return!1;var h=p.clipText;return!1===Rg(e,"onClipStart",Tg(e,t,{clipType:p.type,clipStyle:h,poses:p.poses.map((function(e){return e.pos}))}))?(u.isClipStart=!1,!1):(u.isControl=c&&c.indexOf("clip-control")>-1,u.isLine=c.indexOf("clip-line")>-1,u.isArea=c.indexOf("clip-area")>-1||c.indexOf("clip-ellipse")>-1,u.clipIndex=d?parseInt(d.getAttribute("data-clip-index"),10):-1,u.clipPath=p,u.isClipStart=!0,i.clipPathState=h,qm(e,t),!0)},dragControl:function(e,t){var i,n=t.datas,s=t.originalDatas,o=t.isDragTarget;if(!n.isClipStart)return!1;var a=n,l=a.isControl,r=a.isLine,d=a.isArea,c=a.clipIndex,u=a.clipPath;if(!u)return!1;var p=e.props.keepRatio,h=0,m=0,g=s.draggable,b=Im(t);o&&g?(i=g.prevBeforeDist,h=i[0],m=i[1]):(h=b[0],m=b[1]);var f=[h,m],v=e.props,y=e.state,x=y.width,_=y.height,w=!d&&!l&&!r,S=u.type,C=u.poses,k=u.splitter,A=C.map((function(e){return e.pos}));w&&(h=-h,m=-m);var E=!l||"nesw"===C[c].direction,L="inset"===S||"rect"===S,q=C.map((function(){return[0,0]}));if(l&&!E){var T=C[c],M=T.horizontal,O=T.vertical,R=[h*Math.abs(M),m*Math.abs(O)];q=function(e,t,i,n,s){var o=e[t],a=o.direction,l=o.sub,r=e.map((function(){return[0,0]})),d=a?a.split(""):[];if(n&&t<8){var c=d.filter((function(e){return"w"===e||"e"===e})),u=d.filter((function(e){return"n"===e||"s"===e})),p=c[0],h=u[0];r[t]=i;var m=qb(e),g=m[0],b=m[1],f=g&&b?g/b:0;if(f&&s){var v=e[(t+4)%8].pos,y=[0,0];a.indexOf("w")>-1?y[0]=-1:a.indexOf("e")>-1&&(y[0]=1),a.indexOf("n")>-1?y[1]=-1:a.indexOf("s")>-1&&(y[1]=1);var x=Gg([g,b],i,f,y,!0),_=g+x[0],w=b+x[1],S=v[1],C=v[1],k=v[0],A=v[0];-1===y[0]?k=A-_:1===y[0]?A=k+_:(k-=_/2,A+=_/2),-1===y[1]?S=C-w:C=1===y[1]?S+w:(S=C-w/2)+w;var E=Lb(S,A,C,k);e.forEach((function(e,t){r[t][0]=E[t].pos[0]-e.pos[0],r[t][1]=E[t].pos[1]-e.pos[1]}))}else e.forEach((function(e,t){var n=e.direction;n&&(n.indexOf(p)>-1&&(r[t][0]=i[0]),n.indexOf(h)>-1&&(r[t][1]=i[1]))})),p&&(r[1][0]=i[0]/2,r[5][0]=i[0]/2),h&&(r[3][1]=i[1]/2,r[7][1]=i[1]/2)}else a&&!l?d.forEach((function(t){var n="n"===t||"s"===t;e.forEach((function(e,s){var o=e.direction,a=e.horizontal,l=e.vertical;o&&-1!==o.indexOf(t)&&(r[s]=[n||!a?0:i[0],n&&l?i[1]:0])}))})):r[t]=i;return r}(C,c,R,L,p)}else E&&(q=A.map((function(){return[h,m]})));var I=A.map((function(e,t){return zu(e,q[t])})),B=Zp([],I,!0);y.snapBoundInfos=null;var N="circle"===u.type,$="ellipse"===u.type;if(N||$){var z=gg(I),P=Math.abs(z.bottom-z.top),H=Math.abs($?z.right-z.left:P),D=I[0][1]+P,j=I[0][0]-H,U=I[0][0]+H;N&&(B.push([U,z.bottom]),q.push([1,0])),B.push([z.left,D]),q.push([0,1]),B.push([j,z.bottom]),q.push([1,0])}var F=$h((v.clipHorizontalGuidelines||[]).map((function(e){return Lc("".concat(e),_)})),(v.clipVerticalGuidelines||[]).map((function(e){return Lc("".concat(e),x)})),x,_),W=[],Y=[];if(N||$)W=[B[4][0],B[2][0]],Y=[B[1][1],B[3][1]];else if(L){var X=[B[0],B[2],B[4],B[6]],G=[q[0],q[2],q[4],q[6]];W=X.filter((function(e,t){return G[t][0]})).map((function(e){return e[0]})),Y=X.filter((function(e,t){return G[t][1]})).map((function(e){return e[1]}))}else W=B.filter((function(e,t){return q[t][0]})).map((function(e){return e[0]})),Y=B.filter((function(e,t){return q[t][1]})).map((function(e){return e[1]}));var V=[0,0],K=bm(F,v.clipTargetBounds&&{left:0,top:0,right:x,bottom:_},W,Y,5),Z=K.horizontal,Q=K.vertical,J=Z.offset,ee=Q.offset;if(Z.isBound&&(V[1]+=J),Q.isBound&&(V[0]+=ee),($||N)&&0===q[0][0]&&0===q[0][1]){var te=(z=gg(I)).bottom-z.top,ie=$?z.right-z.left:te;ie-=Q.isBound?Math.abs(ee):0===Q.snapIndex?-ee:ee,te-=Z.isBound?Math.abs(J):0===Z.snapIndex?-J:J,N&&(ie=te=Yh(Q,Z)>0?te:ie);var ne=B[0];B[1][1]=ne[1]-te,B[2][0]=ne[0]+ie,B[3][1]=ne[1]+te,B[4][0]=ne[0]-ie}else if(L&&p&&l){var se=qb(C),oe=se[0],ae=se[1],le=oe&&ae?oe/ae:0,re=C[c].direction||"",de=B[1][1];D=B[5][1],j=B[7][0],U=B[3][0];J<=ee?J=ee/le:ee=J*le,re.indexOf("w")>-1?j-=ee:re.indexOf("e")>-1?U-=ee:(j+=ee/2,U-=ee/2),re.indexOf("n")>-1?de-=J:re.indexOf("s")>-1?D-=J:(de+=J/2,D-=J/2);var ce=Lb(de,U,D,j);B.forEach((function(e,t){var i;i=ce[t].pos,e[0]=i[0],e[1]=i[1]}))}else B.forEach((function(e,t){var i=q[t];i[0]&&(e[0]-=ee),i[1]&&(e[1]-=J)}));var ue=Eb(e,u,I),pe="".concat(S,"(").concat(ue.join(k),")");if(y.clipPathState=pe,N||$)W=[B[4][0],B[2][0]],Y=[B[1][1],B[3][1]];else if(L){W=(X=[B[0],B[2],B[4],B[6]]).map((function(e){return e[0]})),Y=X.map((function(e){return e[1]}))}else W=B.map((function(e){return e[0]})),Y=B.map((function(e){return e[1]}));if(y.snapBoundInfos=bm(F,v.clipTargetBounds&&{left:0,top:0,right:x,bottom:_},W,Y,1),g){var he=y.is3d,me=y.allMatrix,ge=he?4:3,be=V;o&&(be=[f[0]+V[0]-b[0],f[1]+V[1]-b[1]]),g.deltaOffset=$u(me,[be[0],be[1],0,0],ge)}return Rg(e,"onClip",Tg(e,t,{clipEventType:"changed",clipType:S,poses:I,clipStyle:pe,clipStyles:ue,distX:h,distY:m})),!0},dragControlEnd:function(e,t){this.unset(e);var i=t.isDrag,n=t.datas,s=t.isDouble,o=n.isLine,a=n.isClipStart,l=n.isControl;return!!a&&(Rg(e,"onClipEnd",Mg(e,t,{})),s&&(l?function(e,t){var i=t.datas,n=i.clipPath,s=i.clipIndex,o=n,a=o.type,l=o.poses,r=o.splitter,d=l.map((function(e){return e.pos})),c=d.length;if("polygon"===a)l.splice(s,1),d.splice(s,1);else{if("inset"!==a)return;if(s<8)return;if(wb(l,d,s,8,c),c===l.length)return}var u=Eb(e,n,d);Rg(e,"onClip",Tg(e,t,{clipEventType:"removed",clipType:a,poses:d,clipStyles:u,clipStyle:"".concat(a,"(").concat(u.join(r),")"),distX:0,distY:0}))}(e,t):o&&function(e,t){var i=Lm(e,t),n=i[0],s=i[1],o=t.datas,a=o.clipPath,l=o.clipIndex,r=a,d=r.type,c=r.poses,u=r.splitter,p=c.map((function(e){return e.pos}));if("polygon"===d)p.splice(l,0,[n,s]);else{if("inset"!==d)return;var h=gb.indexOf(l),m=bb.indexOf(l),g=c.length;if(Sb(c,p,8,h,m,n,s,p[4][0],p[4][1],p[0][0],p[0][1]),g===c.length)return}var b=Eb(e,a,p);Rg(e,"onClip",Tg(e,t,{clipEventType:"added",clipType:d,poses:p,clipStyles:b,clipStyle:"".concat(d,"(").concat(b.join(u),")"),distX:0,distY:0}))}(e,t)),s||i)},unset:function(e){e.state.clipPathState="",e.state.snapBoundInfos=null}},Ob={name:"originDraggable",props:{originDraggable:Boolean,originRelative:Boolean},events:{onDragOriginStart:"dragOriginStart",onDragOrigin:"dragOrigin",onDragOriginEnd:"dragOriginEnd"},css:[":host[data-able-origindraggable] .control.origin {\n    pointer-events: auto;\n}"],dragControlCondition:function(e,t){return t.isRequest?"originDraggable"===t.requestAble:$c(t.inputEvent.target,Km("origin"))},dragControlStart:function(e,t){var i=t.datas;qm(e,t);var n=Tg(e,t,{dragStart:Em.dragStart(e,(new bh).dragStart([0,0],t))}),s=Rg(e,"onDragOriginStart",n);return i.startOrigin=e.state.transformOrigin,i.startTargetOrigin=e.state.targetOrigin,i.prevOrigin=[0,0],i.isDragOrigin=!0,!1===s?(i.isDragOrigin=!1,!1):n},dragControl:function(e,t){var i=t.datas,n=t.isPinch,s=t.isRequest;if(!i.isDragOrigin)return!1;var o=Im(t),a=o[0],l=o[1],r=e.state,d=r.width,c=r.height,u=r.offsetMatrix,p=r.targetMatrix,h=r.is3d,m=e.props.originRelative,g=void 0===m||m,b=h?4:3,f=[a,l];if(s){var v=t.distOrigin;(v[0]||v[1])&&(f=v)}var y=zu(i.startOrigin,f),x=zu(i.startTargetOrigin,f),_=Pu(f,i.prevOrigin),w=zm(u,p,y,b),S=e.getRect(),C=gg(mg(w,d,c,b)),k=[S.left-C.left,S.top-C.top];i.prevOrigin=f;var A=Tg(e,t,{width:d,height:c,origin:y,dist:f,delta:_,transformOrigin:[Dg(x[0],d,g),Dg(x[1],c,g)].join(" "),drag:Em.drag(e,gh(t,e.state,k,!!n,!1))});return Rg(e,"onDragOrigin",A),A},dragControlEnd:function(e,t){return!!t.datas.isDragOrigin&&(Rg(e,"onDragOriginEnd",Mg(e,t,{})),!0)},dragGroupControlCondition:function(e,t){return this.dragControlCondition(e,t)},dragGroupControlStart:function(e,t){return!!this.dragControlStart(e,t)},dragGroupControl:function(e,t){var i=this.dragControl(e,t);return!!i&&(e.transformOrigin=i.transformOrigin,!0)},request:function(e){var t={},i=e.getRect(),n=0,s=0,o=i.transformOrigin,a=[0,0];return{isControl:!0,requestStart:function(){return{datas:t}},request:function(e){return"deltaOrigin"in e?(a[0]+=e.deltaOrigin[0],a[1]+=e.deltaOrigin[1]):"origin"in e?(a[0]=e.origin[0]-o[0],a[1]=e.origin[1]-o[1]):("x"in e?n=e.x-i.left:"deltaX"in e&&(n+=e.deltaX),"y"in e?s=e.y-i.top:"deltaY"in e&&(s+=e.deltaY)),{datas:t,distX:n,distY:s,distOrigin:a}},requestEnd:function(){return{datas:t,isDrag:!0}}}}};function Rb(e,t,i,n,s){var o;void 0===n&&(n=[0,0]);if(s)o=s;else{var a=Ig(e);o=a&&a.borderRadius||""}return _b(!o||!s&&"0px"===o?[]:fc(o),t,i,0,0,n)}function Ib(e,t,i,n,s,o){var a=e.state,l=a.width,r=a.height,d=yb(o,s,e.props.roundRelative,l,r),c=d.raws,u=d.styles,p=Cb(s,c),h=p.horizontals,m=p.verticals,g=u.join(" ");a.borderRadiusState=g,Rg(e,"onRound",Tg(e,t,{horizontals:h,verticals:m,borderRadius:g,width:l,height:r,delta:n,dist:i}))}var Bb={name:"roundable",props:{roundable:Boolean,roundRelative:Boolean,minRoundControls:Array,maxRoundControls:Array,roundClickable:Boolean},events:{onRoundStart:"roundStart",onRound:"round",onRoundEnd:"roundEnd"},css:[".control.border-radius {\n    background: #d66;\n    cursor: pointer;\n}",":host[data-able-roundable] .line.direction {\n    cursor: pointer;\n}"],render:function(e,t){var i=e.state,n=i.target,s=i.width,o=i.height,a=i.allMatrix,l=i.is3d,r=i.left,d=i.top,c=i.borderRadiusState,u=e.props,p=u.minRoundControls,h=void 0===p?[0,0]:p,m=u.maxRoundControls,g=void 0===m?[4,4]:m,b=u.zoom;if(!n)return null;var f=l?4:3,v=Rb(n,s,o,h,c);if(!v)return null;var y=0,x=0;return v.map((function(e,i){x+=Math.abs(e.horizontal),y+=Math.abs(e.vertical);var n=Pu(hg(a,e.pos,f),[r,d]),s=e.vertical?y<=g[1]:x<=g[0];return t.createElement("div",{key:"borderRadiusControl".concat(i),className:Km("control","border-radius"),"data-radius-index":i,style:{display:s?"block":"none",transform:"translate(".concat(n[0],"px, ").concat(n[1],"px) scale(").concat(b,")")}})}))},dragControlCondition:function(e,t){if(!t.inputEvent||t.isRequest)return!1;var i=t.inputEvent.target.getAttribute("class")||"";return i.indexOf("border-radius")>-1||i.indexOf("moveable-line")>-1&&i.indexOf("moveable-direction")>-1},dragControlStart:function(e,t){var i=t.inputEvent,n=t.datas,s=i.target,o=s.getAttribute("class")||"",a=o.indexOf("border-radius")>-1,l=o.indexOf("moveable-line")>-1&&o.indexOf("moveable-direction")>-1,r=a?parseInt(s.getAttribute("data-radius-index"),10):-1,d=l?parseInt(s.getAttribute("data-line-index"),10):-1;if(!a&&!l)return!1;if(!1===Rg(e,"onRoundStart",Tg(e,t,{})))return!1;n.lineIndex=d,n.controlIndex=r,n.isControl=a,n.isLine=l,qm(e,t);var c=e.props,u=c.roundRelative,p=c.minRoundControls,h=void 0===p?[0,0]:p,m=e.state,g=m.target,b=m.width,f=m.height;n.isRound=!0,n.prevDist=[0,0];var v=Rb(g,b,f,h)||[];return n.controlPoses=v,m.borderRadiusState=yb(v.map((function(e){return e.pos})),v,u,b,f).styles.join(" "),!0},dragControl:function(e,t){var i=t.datas;if(!i.isRound||!i.isControl||!i.controlPoses.length)return!1;var n=i.controlIndex,s=i.controlPoses,o=Im(t),a=o[0],l=o[1],r=[a,l],d=Pu(r,i.prevDist),c=e.props.maxRoundControls,u=void 0===c?[4,4]:c,p=e.state,h=p.width,m=p.height,g=s[n],b=g.vertical,f=g.horizontal,v=s.map((function(e){var t=e.horizontal,i=e.vertical,n=[t*f*r[0],i*b*r[1]];if(t){if(1===u[0])return n;if(u[0]<4&&t!==f)return n}else{if(0===u[1])return n[1]=i*f*r[0]/h*m,n;if(b){if(1===u[1])return n;if(u[1]<4&&i!==b)return n}}return[0,0]}));v[n]=r;var y=s.map((function(e,t){return zu(e.pos,v[t])}));return i.prevDist=[a,l],Ib(e,t,r,d,s,y),!0},dragControlEnd:function(e,t){var i=e.state;i.borderRadiusState="";var n=t.datas,s=t.isDouble;if(!n.isRound)return!1;var o=i.width,a=i.height,l=n.isControl,r=n.controlIndex,d=n.isLine,c=n.lineIndex,u=n.controlPoses,p=u.map((function(e){return e.pos})),h=p.length,m=e.props.roundClickable;if(s&&(void 0===m||m)){if(l)wb(u,p,r,0);else if(d){var g=Lm(e,t);!function(e,t,i,n,s,o,a){var l=Cb(e),r=l.horizontals,d=l.verticals,c=r.length,u=d.length,p=-1,h=-1;0===i?0===c?p=0:1===c&&(p=1):3===i&&(c<=2?p=2:c<=3&&(p=3)),2===i?0===u?h=0:u<4&&(h=3):1===i&&(u<=1?h=1:u<=2&&(h=2)),Sb(e,t,0,p,h,n,s,o,a)}(u,p,c,g[0],g[1],o,a)}h!==u.length&&Ib(e,t,[0,0],[0,0],u,p)}return Rg(e,"onRoundEnd",Mg(e,t,{})),i.borderRadiusState="",!0},unset:function(e){e.state.borderRadiusState=""}};var Nb={isPinch:!0,name:"beforeRenderable",props:{},events:{onBeforeRenderStart:"beforeRenderStart",onBeforeRender:"beforeRender",onBeforeRenderEnd:"beforeRenderEnd",onBeforeRenderGroupStart:"beforeRenderGroupStart",onBeforeRenderGroup:"beforeRenderGroup",onBeforeRenderGroupEnd:"beforeRenderGroupEnd"},dragRelation:"weak",setTransform:function(e,t){var i=e.state,n=i.is3d,s=i.target,o=i.targetMatrix,a=null==s?void 0:s.style.transform,l=n?"matrix3d(".concat(o.join(","),")"):"matrix(".concat(Hu(o,!0),")"),r=a&&"none"!==a?a:l;t.datas.startTransforms=function(e,t){return e===(t?"matrix3d(".concat(Ku(4)):"matrix(".concat(Ku(3),")"))||"matrix(1,0,0,1,0,0)"===e}(r,n)?[]:fc(r)},resetTransform:function(e){e.datas.nextTransforms=e.datas.startTransforms,e.datas.nextTransformAppendedIndexes=[]},fillDragStartParams:function(e,t){return Tg(e,t,{setTransform:function(e){t.datas.startTransforms=cc(e)?e:fc(e)},isPinch:!!t.isPinch})},fillDragParams:function(e,t){return Tg(e,t,{isPinch:!!t.isPinch})},dragStart:function(e,t){this.setTransform(e,t),Rg(e,"onBeforeRenderStart",this.fillDragStartParams(e,t))},drag:function(e,t){this.resetTransform(t),Rg(e,"onBeforeRender",Tg(e,t,{isPinch:!!t.isPinch}))},dragEnd:function(e,t){Rg(e,"onBeforeRenderEnd",Tg(e,t,{isPinch:!!t.isPinch,isDrag:t.isDrag}))},dragGroupStart:function(e,t){var i=this;this.dragStart(e,t);var n=fh(e,"beforeRenderable",t),s=e.moveables,o=n.map((function(e,t){var n=s[t];return i.setTransform(n,e),i.fillDragStartParams(n,e)}));Rg(e,"onBeforeRenderGroupStart",Tg(e,t,{isPinch:!!t.isPinch,targets:e.props.targets,setTransform:function(){},events:o}))},dragGroup:function(e,t){var i=this;this.drag(e,t);var n=fh(e,"beforeRenderable",t),s=e.moveables,o=n.map((function(e,t){var n=s[t];return i.resetTransform(e),i.fillDragParams(n,e)}));Rg(e,"onBeforeRenderGroup",Tg(e,t,{isPinch:!!t.isPinch,targets:e.props.targets,events:o}))},dragGroupEnd:function(e,t){this.dragEnd(e,t),Rg(e,"onBeforeRenderGroupEnd",Tg(e,t,{isPinch:!!t.isPinch,isDrag:t.isDrag,targets:e.props.targets}))},dragControlStart:function(e,t){return this.dragStart(e,t)},dragControl:function(e,t){return this.drag(e,t)},dragControlEnd:function(e,t){return this.dragEnd(e,t)},dragGroupControlStart:function(e,t){return this.dragGroupStart(e,t)},dragGroupControl:function(e,t){return this.dragGroup(e,t)},dragGroupControlEnd:function(e,t){return this.dragGroupEnd(e,t)}},$b={name:"renderable",props:{},events:{onRenderStart:"renderStart",onRender:"render",onRenderEnd:"renderEnd",onRenderGroupStart:"renderGroupStart",onRenderGroup:"renderGroup",onRenderGroupEnd:"renderGroupEnd"},dragRelation:"weak",dragStart:function(e,t){Rg(e,"onRenderStart",Tg(e,t,{isPinch:!!t.isPinch}))},drag:function(e,t){Rg(e,"onRender",this.fillDragParams(e,t))},dragAfter:function(e,t){if(t.resultCount)return this.drag(e,t)},dragEnd:function(e,t){Rg(e,"onRenderEnd",this.fillDragEndParams(e,t))},dragGroupStart:function(e,t){Rg(e,"onRenderGroupStart",Tg(e,t,{isPinch:!!t.isPinch,targets:e.props.targets}))},dragGroup:function(e,t){var i=this,n=fh(e,"beforeRenderable",t),s=e.moveables,o=n.map((function(e,t){var n=s[t];return i.fillDragParams(n,e)}));Rg(e,"onRenderGroup",Tg(e,t,{isPinch:!!t.isPinch,targets:e.props.targets,transform:Um(t),events:o}))},dragGroupEnd:function(e,t){var i=this,n=fh(e,"beforeRenderable",t),s=e.moveables,o=n.map((function(e,t){var n=s[t];return i.fillDragEndParams(n,e)}));Rg(e,"onRenderGroupEnd",Tg(e,t,{isPinch:!!t.isPinch,isDrag:t.isDrag,targets:e.props.targets,events:o}))},dragControlStart:function(e,t){return this.dragStart(e,t)},dragControl:function(e,t){return this.drag(e,t)},dragControlAfter:function(e,t){return this.dragAfter(e,t)},dragControlEnd:function(e,t){return this.dragEnd(e,t)},dragGroupControlStart:function(e,t){return this.dragGroupStart(e,t)},dragGroupControl:function(e,t){return this.dragGroup(e,t)},dragGroupControlEnd:function(e,t){return this.dragGroupEnd(e,t)},fillDragParams:function(e,t){return Tg(e,t,{isPinch:!!t.isPinch,transform:Um(t)})},fillDragEndParams:function(e,t){return Tg(e,t,{isPinch:!!t.isPinch,isDrag:t.isDrag})}};function zb(e,t,i,n,s,o,a){var l="Start"===s,r=e.state.target,d=o.isRequest;if(!r||l&&n.indexOf("Control")>-1&&!d&&e.areaElement===o.inputEvent.target)return!1;var c="".concat(i).concat(n).concat(s),u="".concat(i).concat(n,"Condition"),p="End"===s,h="After"===s,m=l&&(!e.targetGesto||!e.controlGesto||!e.targetGesto.isFlag()||!e.controlGesto.isFlag());m&&e.updateRect(s,!0,!1),""!==s||d||Pg(e.state,o);var g=Zp([],e[t],!0);if(d){var b=o.requestAble;g.some((function(e){return e.name===b}))||g.push.apply(g,e.props.ables.filter((function(e){return e.name===b})))}if(!g.length)return!1;var f=Zp(Zp([Nb],g,!0),[$b],!1).filter((function(e){return e[c]})),v=o.datas;m&&f.forEach((function(t){t.unset&&t.unset(e)}));var y,x=o.inputEvent;p&&x&&(y=document.elementFromPoint(o.clientX,o.clientY)||x.target);var _=0,w=f.filter((function(t){var i=t.name,n=v[i]||(v[i]={});if(l&&(n.isEventStart=!t[u]||t[u](e,o)),n.isEventStart){var s=t[c](e,Kp(Kp({},o),{resultCount:_,datas:n,originalDatas:v,inputTarget:y}));return e._emitter.off(),l&&!1===s&&(n.isEventStart=!1),_+=s?1:0,s}return!1})).length,S=!1;if(l&&f.length&&!w&&(S=0===f.filter((function(e){var t=e.name,i=v[t];return!!i.isEventStart&&("strong"!==e.dragRelation||(i.isEventStart=!1,!1))})).length),(p||S)&&(e.state.gesto=null,e.moveables&&e.moveables.forEach((function(e){e.state.gesto=null}))),m&&S&&f.forEach((function(t){t.unset&&t.unset(e)})),l&&!d&&w&&(null==o||o.preventDefault()),e.isUnmounted||S)return!1;(!l&&w&&!a||p)&&(e.props.flushSync||Zm)((function(){e.updateRect(p?s:"",!0,!1),e.forceUpdate()}));return l||p||h||!w||a||zb(e,t,i,n,s+"After",o),!0}function Pb(e,t,i){var n=e.controlBox.getElement(),s=[];s.push(n),e.props.dragArea&&!e.props.dragTarget||s.push(t);var o=function(t){var i=t.inputEvent.target;return i===e.areaElement||!e.isMoveableElement(i)&&!e.controlBox.getElement().contains(i)||$c(i,"moveable-area")||$c(i,"moveable-padding")};return Hb(e,s,"targetAbles",i,{dragStart:o,pinchStart:o})}function Hb(e,t,i,n,s){void 0===s&&(s={});var o=e.props,a=o.pinchOutside,l=o.pinchThreshold,r={preventDefault:!1,preventRightClick:!0,preventWheelClick:!0,container:window,pinchThreshold:l,pinchOutside:a},d=new Np(t,r);return["drag","pinch"].forEach((function(t){["Start","","End"].forEach((function(o){d.on("".concat(t).concat(o),(function(a){var l=a.eventType;!s[l]||s[l](a)?zb(e,i,t,n,o,a)||a.stop():a.stop()}))}))})),d}var Db=function(){function e(e,t,i){var n=this;this.target=e,this.moveable=t,this.eventName=i,this.ables=[],this._onEvent=function(e){var t=n.eventName,i=n.moveable;i.state.disableNativeEvent||n.ables.forEach((function(n){n[t](i,{inputEvent:e})}))},e.addEventListener(i.toLowerCase(),this._onEvent)}var t=e.prototype;return t.setAbles=function(e){this.ables=e},t.destroy=function(){this.target.removeEventListener(this.eventName.toLowerCase(),this._onEvent),this.target=null,this.moveable=null},e}(),jb=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state=Kp({container:null,gesto:null,renderPoses:[[0,0],[0,0],[0,0],[0,0]],disableNativeEvent:!1},Cg(null)),t.enabledAbles=[],t.targetAbles=[],t.controlAbles=[],t.rotation=0,t.scale=[1,1],t.isUnmounted=!1,t.events={mouseEnter:null,mouseLeave:null},t._emitter=new Xp,t._prevTarget=null,t._prevDragArea=!1,t._observer=null,t._observerId=0,t.onPreventClick=function(e){e.stopPropagation(),e.preventDefault(),Pc(window,"click",t.onPreventClick,!0)},t.checkUpdateRect=function(){if(!t.isDragging()){var e=t.props.parentMoveable;e?e.checkUpdateRect():(Ac(t._observerId),t._observerId=kc((function(){t.isDragging()||t.updateRect()})))}},t}Vp(t,e);var i=t.prototype;return i.render=function(){var e=this.props,t=this.state,i=e.parentPosition,n=e.className,s=e.target,o=e.zoom,a=e.cspNonce,l=e.translateZ,r=e.cssStyled,d=e.portalContainer;this.checkUpdate(),this.updateRenderPoses();var c=i||{left:0,top:0},u=c.left,p=c.top,h=t.left,m=t.top,g=t.target,b=t.direction,f=t.hasFixed,v=e.targets,y=(v&&v.length||s)&&g,x=this.isDragging(),_={};return this.getEnabledAbles().forEach((function(e){_["data-able-".concat(e.name.toLowerCase())]=!0})),Qc(r,Kp({cspNonce:a,ref:Yd(this,"controlBox"),className:"".concat(Km("control-box",-1===b?"reverse":"",x?"dragging":"")," ").concat(n)},_,{onClick:this.onPreventClick,portalContainer:d,style:{position:f?"fixed":"absolute",display:y?"block":"none",transform:"translate3d(".concat(h-u,"px, ").concat(m-p,"px, ").concat(l,")"),"--zoom":o,"--zoompx":"".concat(o,"px")}}),this.renderAbles(),this._renderLines())},i.componentDidMount=function(){this.isUnmounted=!1,this.controlBox.getElement();var e=this.props,t=e.parentMoveable,i=e.container,n=e.wrapperMoveable;this._updateTargets(),this._updateNativeEvents(),this._updateEvents(),i||t||n||this.updateRect("",!1,!0),this.updateCheckInput(),this._updateObserver(this.props)},i.componentDidUpdate=function(e){this._updateNativeEvents(),this._updateEvents(),this._updateTargets(),this.updateCheckInput(),this._updateObserver(e)},i.componentWillUnmount=function(){this.isUnmounted=!0,this._emitter.off(),qg(this,"targetGesto"),qg(this,"controlGesto");var e=this.events;for(var t in e){var i=e[t];i&&i.destroy()}},i.getContainer=function(){var e=this.props,t=e.parentMoveable,i=e.wrapperMoveable;return e.container||i&&i.getContainer()||t&&t.getContainer()||this.controlBox.getElement().parentElement},i.isMoveableElement=function(e){return e&&(e.getAttribute("class")||"").indexOf(sh)>-1},i.dragStart=function(e){var t=this.targetGesto;return t&&!t.isFlag()&&t.triggerDragStart(e),this},i.hitTest=function(e){var t,i=this.state,n=i.target,s=i.pos1,o=i.pos2,a=i.pos3,l=i.pos4,r=i.targetClientRect;if(!n)return 0;if(e instanceof Element){var d=e.getBoundingClientRect();t={left:d.left,top:d.top,width:d.width,height:d.height}}else t=Kp({width:0,height:0},e);var c=t.left,u=t.top,p=t.width,h=t.height,m=dp([s,o,l,a],r),g=rp(bp(m,[[c,u],[c+p,u],[c+p,u+h],[c,u+h]])),b=rp(m);return g&&b?Math.min(100,g/b*100):0},i.isInside=function(e,t){var i=this.state,n=i.target,s=i.pos1,o=i.pos2,a=i.pos3,l=i.pos4,r=i.targetClientRect;return!!n&&up([e,t],dp([s,o,l,a],r))},i.updateRect=function(e,t,i){void 0===i&&(i=!0);var n=this.props,s=n.parentMoveable,o=this.state.target||this.props.target,a=this.getContainer(),l=s?s.props.rootContainer:n.rootContainer;this.updateState(Cg(this.controlBox&&this.controlBox.getElement(),o,a,a,l||a),!s&&i)},i.isDragging=function(){return!!this.targetGesto&&this.targetGesto.isFlag()||!!this.controlGesto&&this.controlGesto.isFlag()},i.updateTarget=function(e){this.updateRect(e,!0)},i.getRect=function(){var e=this.state,t=Lg(this.state),i=t[0],n=t[1],s=t[2],o=t[3],a=gg(t),l=e.width,r=e.height,d=a.width,c=a.height,u=a.left,p=a.top,h=[e.left,e.top],m=zu(h,e.origin);return{width:d,height:c,left:u,top:p,pos1:i,pos2:n,pos3:s,pos4:o,offsetWidth:l,offsetHeight:r,beforeOrigin:zu(h,e.beforeOrigin),origin:m,transformOrigin:e.transformOrigin,rotation:this.getRotation()}},i.getManager=function(){return this},i.getRotation=function(){var e=this.state;return function(e,t,i){var n=Oc(e,t)/Math.PI*180;return(n=i>=0?n:180-n)>=0?n:360+n}(e.pos1,e.pos2,e.direction)},i.request=function(e,t,i){void 0===t&&(t={});var n=this.props,s=n.ables,o=n.groupable,a=s.filter((function(t){return t.name===e}))[0];if(this.isDragging()||!a||!a.request)return{request:function(){return this},requestEnd:function(){return this}};var l=this,r=a.request(this),d=i||t.isInstant,c=r.isControl?"controlAbles":"targetAbles",u="".concat(o?"Group":"").concat(r.isControl?"Control":""),p={request:function(t){return zb(l,c,"drag",u,"",Kp(Kp({},r.request(t)),{requestAble:e,isRequest:!0}),d),this},requestEnd:function(){return zb(l,c,"drag",u,"End",Kp(Kp({},r.requestEnd()),{requestAble:e,isRequest:!0}),d),this}};return zb(l,c,"drag",u,"Start",Kp(Kp({},r.requestStart(t)),{requestAble:e,isRequest:!0}),d),d?p.request(t).requestEnd():p},i.destroy=function(){this.componentWillUnmount()},i.updateRenderPoses=function(){var e=this.state,t=this.props,i=e.originalBeforeOrigin,n=e.transformOrigin,s=e.allMatrix,o=e.is3d,a=e.pos1,l=e.pos2,r=e.pos3,d=e.pos4,c=e.left,u=e.top,p=t.padding||{},h=p.left,m=void 0===h?0:h,g=p.top,b=void 0===g?0:g,f=p.bottom,v=void 0===f?0:f,y=p.right,x=void 0===y?0:y,_=o?4:3,w=t.groupable?i:zu(i,[c,u]);e.renderPoses=[zu(a,Hg(s,[-m,-b],n,w,_)),zu(l,Hg(s,[x,-b],n,w,_)),zu(r,Hg(s,[-m,v],n,w,_)),zu(d,Hg(s,[x,v],n,w,_))]},i.checkUpdate=function(){var e=this.props,t=e.target,i=e.container,n=e.parentMoveable,s=this.state,o=s.target,a=s.container;if((o||t)&&(this.updateAbles(),!Ng(o,t)||!Ng(a,i))){var l=i||this.controlBox;l&&this.unsetAbles(),this.updateState({target:t,container:i}),!n&&l&&this.updateRect("End",!1,!1)}},i.triggerEvent=function(e,t){this._emitter.trigger(e,t);var i=this.props[e];return i&&i(t)},i.useCSS=function(e,t){var i=this.props.customStyledMap,n=e+t;return i[n]||(i[n]=Fp(e,t)),i[n]},i.unsetAbles=function(){var e=this;this.targetAbles.forEach((function(t){t.unset&&t.unset(e)}))},i.updateAbles=function(e,t){void 0===e&&(e=this.props.ables),void 0===t&&(t="");var i=this.props,n=i.triggerAblesSimultaneously,s=e.filter((function(e){return e&&(e.always&&!1!==i[e.name]||i[e.name])})),o="drag".concat(t,"Start"),a="pinch".concat(t,"Start"),l="drag".concat(t,"ControlStart"),r=Bg(s,[o,a],n),d=Bg(s,[l],n);this.enabledAbles=s,this.targetAbles=r,this.controlAbles=d},i.updateState=function(e,t){if(t){if(this.isUnmounted)return;this.setState(e)}else{var i=this.state;for(var n in e)i[n]=e[n]}},i.getEnabledAbles=function(){var e=this.props;return e.ables.filter((function(t){return t&&e[t.name]}))},i.renderAbles=function(){var e=this,t=this.props.triggerAblesSimultaneously,i={createElement:Qc};return function(e,t){var i=[],n={};return e.forEach((function(s,o){var a=t(s,o,e),l=n[a];l||(l=[],n[a]=l,i.push(l)),l.push(s)})),i}(function(e){return e.reduce((function(e,t){return e.concat(t)}),[])}(Bg(this.getEnabledAbles(),["render"],t).map((function(t){return(0,t.render)(e,i)||[]}))).filter((function(e){return e})),(function(e){return e.key})).map((function(e){return e[0]}))},i.updateCheckInput=function(){this.targetGesto&&(this.targetGesto.options.checkInput=this.props.checkInput)},i._updateObserver=function(e){var t,i=this.props,n=i.target;if(window.ResizeObserver&&n&&i.useResizeObserver){if(e.target!==n||!this._observer){var s=new ResizeObserver(this.checkUpdateRect);s.observe(n,{box:"border-box"}),this._observer=s}}else null===(t=this._observer)||void 0===t||t.disconnect()},i._updateEvents=function(){var e=this.controlBox.getElement(),t=this.targetAbles.length,i=this.controlAbles.length,n=this.props,s=n.dragTarget||n.target;(!t&&this.targetGesto||this._isTargetChanged(!0))&&(qg(this,"targetGesto"),this.updateState({gesto:null})),i||qg(this,"controlGesto"),s&&t&&!this.targetGesto&&(this.targetGesto=Pb(this,s,"")),!this.controlGesto&&i&&(this.controlGesto=Hb(this,e,"controlAbles","Control"))},i._updateTargets=function(){var e=this.props;this._prevTarget=e.dragTarget||e.target,this._prevDragArea=e.dragArea},i._renderLines=function(){var e=this.props,t=e.edge,i=e.zoom;if(e.hideDefaultLines)return[];var n=this.state.renderPoses,s={createElement:Qc};return[_h(s,t?"n":"",n[0],n[1],i,0),_h(s,t?"e":"",n[1],n[3],i,1),_h(s,t?"w":"",n[0],n[2],i,2),_h(s,t?"s":"",n[2],n[3],i,3)]},i._isTargetChanged=function(e){var t=this.props,i=t.dragTarget||t.target,n=this._prevTarget,s=this._prevDragArea,o=t.dragArea;return!o&&n!==i||(e||o)&&s!==o},i._updateNativeEvents=function(){var e=this,t=this.props.dragArea?this.areaElement:this.state.target,i=this.events,n=Ec(i);if(this._isTargetChanged())for(var s in i){var o=i[s];o&&o.destroy(),i[s]=null}if(t){var a=this.enabledAbles;n.forEach((function(n){var s=Bg(a,[n]),o=s.length>0,l=i[n];o?(l||(l=new Db(t,e,n),i[n]=l),l.setAbles(s)):l&&(l.destroy(),i[n]=null)}))}},t.defaultProps={target:null,dragTarget:null,container:null,rootContainer:null,origin:!0,edge:!1,parentMoveable:null,wrapperMoveable:null,parentPosition:null,portalContainer:null,useResizeObserver:!1,ables:[],pinchThreshold:20,dragArea:!1,passDragArea:!1,transformOrigin:"",className:"",zoom:1,triggerAblesSimultaneously:!1,padding:{},pinchOutside:!0,checkInput:!1,groupable:!1,hideDefaultLines:!1,cspNonce:"",translateZ:0,cssStyled:null,customStyledMap:{},props:{},flushSync:Zm},t}(du),Ub={name:"groupable",props:{defaultGroupRotate:Number,defaultGroupOrigin:String,groupable:Boolean},events:{},render:function(e,t){var i=e.props.targets||[];e.moveables=[];var n=e.state,s={left:n.left,top:n.top},o=e.props;return i.map((function(i,n){return t.createElement(jb,{key:"moveable"+n,ref:Xd(e,"moveables",n),target:i,origin:!1,cssStyled:o.cssStyled,customStyledMap:o.customStyledMap,useResizeObserver:o.useResizeObserver,parentMoveable:e,parentPosition:s})}))}},Fb=Qp("clickable",{props:{clickable:Boolean,preventClickDefault:Boolean},events:{onClick:"click",onClickGroup:"clickGroup"},always:!0,dragRelation:"weak",dragStart:function(e,t){t.isRequest||zc(window,"click",e.onPreventClick,!0)},dragControlStart:function(e,t){this.dragStart(e,t)},dragGroupStart:function(e,t){this.dragStart(e,t),t.datas.inputTarget=t.inputEvent&&t.inputEvent.target},dragEnd:function(e,t){this.endEvent(e);var i=e.state.target,n=t.inputEvent,s=t.inputTarget,o=!e.isMoveableElement(s)&&e.controlBox.getElement().contains(s);if((!e.props.preventClickDefault&&!t.isDrag||o)&&this.unset(e),n&&s&&!t.isDrag&&!e.isMoveableElement(s)&&!o){var a=i.contains(s);Rg(e,"onClick",Tg(e,t,{isDouble:t.isDouble,inputTarget:s,isTarget:i===s,containsTarget:a}))}},dragGroupEnd:function(e,t){this.endEvent(e);var i=t.inputEvent,n=t.inputTarget;if(i&&n&&!t.isDrag&&!e.isMoveableElement(n)&&t.datas.inputTarget!==n){var s=e.props.targets,o=s.indexOf(n),a=o>-1,l=!1;-1===o&&(l=(o=Sc(s,(function(e){return e.contains(n)})))>-1),Rg(e,"onClickGroup",Tg(e,t,{isDouble:t.isDouble,targets:s,inputTarget:n,targetIndex:o,isTarget:a,containsTarget:l}))}},dragControlEnd:function(e,t){this.dragEnd(e,t)},dragGroupControlEnd:function(e,t){this.dragEnd(e,t)},endEvent:function(e){var t=this;kc((function(){t.unset(e)}))},unset:function(e){Pc(window,"click",e.onPreventClick,!0)}});function Wb(e){var t=e.originalDatas.draggable;return t||(e.originalDatas.draggable={},t=e.originalDatas.draggable),Kp(Kp({},e),{datas:t})}var Yb=Qp("edgeDraggable",{dragControlCondition:function(e,t){if(!e.props.edgeDraggable||!t.inputEvent)return!1;var i=t.inputEvent.target;return $c(i,Km("direction"))&&$c(i,Km("line"))},dragControlStart:function(e,t){return Em.dragStart(e,Wb(t))},dragControl:function(e,t){return Em.drag(e,Wb(t))},dragControlEnd:function(e,t){return Em.dragEnd(e,Wb(t))},dragGroupControlCondition:function(e,t){if(!e.props.edgeDraggable||!t.inputEvent)return!1;var i=t.inputEvent.target;return $c(i,Km("direction"))&&$c(i,Km("line"))},dragGroupControlStart:function(e,t){return Em.dragGroupStart(e,Wb(t))},dragGroupControl:function(e,t){return Em.dragGroup(e,Wb(t))},dragGroupControlEnd:function(e,t){return Em.dragGroupEnd(e,Wb(t))},unset:function(e){return Em.unset(e)}}),Xb={name:"individualGroupable",props:{individualGroupable:Boolean},events:{}},Gb=[Nb,ub,Am,Kg,Em,Yb,qh,Zg,Qg,tb,cb,pb,rb,Ob,Mb,Bb,Ub,Xb,Fb,lb,$b],Vb=Gb.reduce((function(e,t){return Kp(Kp({},e),"events"in t?t.events:{})}),{}),Kb=Gb.reduce((function(e,t){return Kp(Kp({},e),t.props)}),{}),Zb=Fg(Vb),Qb=Object.keys(Zb),Jb=Object.keys(Kb);function ef(e,t){return Math.max.apply(Math,e.map((function(e){var i=e[0],n=e[1],s=e[2],o=e[3];return Math.max(i[t],n[t],s[t],o[t])})))}function tf(e,t){return Math.min.apply(Math,e.map((function(e){var i=e[0],n=e[1],s=e[2],o=e[3];return Math.min(i[t],n[t],s[t],o[t])})))}var nf=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.differ=new ap,t.moveables=[],t.transformOrigin="50% 50%",t}Vp(t,e);var i=t.prototype;return i.checkUpdate=function(){this.updateAbles()},i.updateRect=function(e,t,i){if(void 0===i&&(i=!0),this.controlBox){this.moveables.forEach((function(t){t.updateRect(e,!1,!1)}));var n=this.state,s=this.props,o=n.target||s.target;(!t||""!==e&&s.updateGroup)&&(this.rotation=s.defaultGroupRotate,this.transformOrigin=s.defaultGroupOrigin||"50% 50%",this.scale=[1,1]);var a=this.rotation,l=this.scale,r=function(e,t){if(!e.length)return[0,0,0,0];var i=e.map((function(e){return Lg(e.state)})),n=dh,s=dh,o=0,a=0,l=Bc(t,lh);if(l%90){var r=l/180*Math.PI,d=Math.tan(r),c=-1/d,u=[ch,dh],p=[ch,dh];i.forEach((function(e){e.forEach((function(e){var t=e[1]-d*e[0],i=e[1]-c*e[0];u[0]=Math.max(u[0],t),u[1]=Math.min(u[1],t),p[0]=Math.max(p[0],i),p[1]=Math.min(p[1],i)}))})),u.forEach((function(e){p.forEach((function(t){var i=(t-e)/(d-c),o=d*i+e;n=Math.min(n,i),s=Math.min(s,o)}))}));var h=i.map((function(e){var t=e[0],i=e[1],n=e[2],s=e[3];return[Yu(t,-r),Yu(i,-r),Yu(n,-r),Yu(s,-r)]}));o=ef(h,0)-tf(h,0),a=ef(h,1)-tf(h,1)}else if(n=tf(i,0),s=tf(i,1),o=ef(i,0)-n,a=ef(i,1)-s,l%180){var m=o;o=a,a=m}return[n,s,o,a]}(this.moveables,a),d=r[0],c=r[1],u=r[2],p=r[3],h="rotate(".concat(a,"deg) scale(").concat(l[0]>=0?1:-1,", ").concat(l[1]>=0?1:-1,")");o.style.cssText+="left:0px;top:0px; transform-origin: ".concat(this.transformOrigin,"; width:").concat(u,"px; height:").concat(p,"px;")+"transform:".concat(h),n.width=u,n.height=p;var m=this.getContainer(),g=Cg(this.controlBox.getElement(),o,this.controlBox.getElement(),this.getContainer(),this.props.rootContainer||m),b=[g.left,g.top],f=Lg(g),v=f[0],y=f[1],x=f[2],_=f[3],w=cp([v,y,x,_]),S=[w.minX,w.minY];g.pos1=Pu(v,S),g.pos2=Pu(y,S),g.pos3=Pu(x,S),g.pos4=Pu(_,S),g.left=d-g.left+S[0],g.top=c-g.top+S[1],g.origin=Pu(zu(b,g.origin),S),g.beforeOrigin=Pu(zu(b,g.beforeOrigin),S),g.originalBeforeOrigin=zu(b,g.originalBeforeOrigin);var C=g.targetClientRect,k=l[0]*l[1]>0?1:-1;C.top+=g.top-n.top,C.left+=g.left-n.left,o.style.transform="translate(".concat(-S[0],"px, ").concat(-S[1],"px) ").concat(h),this.updateState(Kp(Kp({},g),{direction:k,beforeDirection:k}),i)}},i.getRect=function(){return Kp(Kp({},e.prototype.getRect.call(this)),{children:this.moveables.map((function(e){return e.getRect()}))})},i.triggerEvent=function(t,i,n){if(n||t.indexOf("Group")>-1)return e.prototype.triggerEvent.call(this,t,i);this._emitter.trigger(t,i)},i.updateAbles=function(){e.prototype.updateAbles.call(this,Zp(Zp([],this.props.ables,!0),[Ub],!1),"Group")},i._updateTargets=function(){e.prototype._updateTargets.call(this),this._prevTarget=this.props.dragTarget||this.areaElement},i._updateEvents=function(){var e=this.state,t=this.props,i=this._prevTarget,n=t.dragTarget||this.areaElement;i!==n&&(qg(this,"targetGesto"),qg(this,"controlGesto"),e.target=null),e.target||(e.target=this.areaElement,this.controlBox.getElement().style.display="block"),e.target&&(this.targetGesto||(this.targetGesto=Pb(this,n,"Group")),this.controlGesto||(this.controlGesto=Hb(this,this.controlBox.getElement(),"controlAbles","GroupControl")));var s=!Ng(e.container,t.container);s&&(e.container=t.container);var o=this.differ.update(t.targets),a=o.added,l=o.changed,r=o.removed;(s||a.length||l.length||r.length)&&this.updateRect()},i._updateObserver=function(){},t.defaultProps=Kp(Kp({},jb.defaultProps),{transformOrigin:["50%","50%"],groupable:!0,dragArea:!0,keepRatio:!0,targets:[],defaultGroupRotate:0,defaultGroupOrigin:"50% 50%"}),t}(jb),sf=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.moveables=[],t}Vp(t,e);var i=t.prototype;return i.render=function(){var e=this,t=this.props,i=t.cspNonce,n=t.cssStyled,s=t.targets;return Qc(n,{cspNonce:i,ref:Yd(this,"controlBox"),className:Km("control-box")},s.map((function(t,i){return Qc(jb,Kp({key:"moveable"+i,ref:Xd(e,"moveables",i)},e.props,{target:t,wrapperMoveable:e}))})))},i.componentDidUpdate=function(){},i.updateRect=function(e,t,i){void 0===i&&(i=!0),this.moveables.forEach((function(n){n.updateRect(e,t,i)}))},i.getRect=function(){return Kp(Kp({},e.prototype.getRect.call(this)),{children:this.moveables.map((function(e){return e.getRect()}))})},i.request=function(){return{request:function(){return this},requestEnd:function(){return this}}},i.dragStart=function(){return this},i.hitTest=function(){return 0},i.isInside=function(){return!1},i.isDragging=function(){return!1},i.updateRenderPoses=function(){},i.checkUpdate=function(){},i.triggerEvent=function(){},i.updateAbles=function(){},i._updateEvents=function(){},i._updateObserver=function(){},t}(jb),of=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.refTargets=[],t.selectorMap={},t}Vp(t,e);var i=t.prototype;return t.makeStyled=function(){var e={};this.getTotalAbles().forEach((function(t){var i=t.css;i&&i.forEach((function(t){e[t]=!0}))}));var t=Ec(e).join("\n");this.defaultStyled=Fp("div",function(e,t){return t.replace(/([^}{]*){/gm,(function(t,i){return i.replace(/\.([^{,\s\d.]+)/g,"."+e+"$1")+"{"}))}(sh,oh+t))},t.getTotalAbles=function(){return Zp([ub,Ub,Xb,lb],this.defaultAbles,!0)},i.render=function(){var e=this.constructor;e.defaultStyled||e.makeStyled();var t=this.props,i=t.ables,n=t.props,s=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(i[n[s]]=e[n[s]])}return i}(t,["ables","props"]),o=function(e,t){var i=[];return e.forEach((function(e){e&&(uc(e)?t[e]&&i.push.apply(i,t[e]):i.push(e))})),i}(this._updateRefs(!0),this.selectorMap),a=o.length>1,l=Zp(Zp([],e.getTotalAbles(),!0),i||[],!0),r=Kp(Kp(Kp({},s),n||{}),{ables:l,cssStyled:e.defaultStyled,customStyledMap:e.customStyledMap});return a?s.individualGroupable?Qc(sf,Kp({key:"individual-group",ref:Yd(this,"moveable")},r,{target:null,targets:o})):Qc(nf,Kp({key:"group",ref:Yd(this,"moveable")},r,{target:null,targets:o})):Qc(jb,Kp({key:"single",ref:Yd(this,"moveable")},r,{target:o[0]}))},i.componentDidMount=function(){this._updateRefs()},i.componentDidUpdate=function(){this._updateRefs()},i.componentWillUnmount=function(){this.selectorMap={},this.refTargets=[]},i.getManager=function(){return this.moveable},i._updateRefs=function(e){var t=this.refTargets,i=Yg(this.props.target||this.props.targets),n="undefined"!=typeof document,s=t.length!==i.length||t.some((function(e,t){var n=i[t];return!(!e&&!n)&&e!==n})),o=this.selectorMap,a={};return this.refTargets.forEach((function(e){uc(e)&&(o[e]?a[e]=o[e]:n&&(s=!0,a[e]=[].slice.call(document.querySelectorAll(e))))})),this.refTargets=i,this.selectorMap=a,!e&&s&&this.forceUpdate(),i},t.defaultAbles=[],t.customStyledMap={},t.defaultStyled=null,function(e,t,i,n){var s,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(s=e[l])&&(a=(o<3?s(a):o>3?s(t,i,a):s(t,i))||a);o>3&&a&&Object.defineProperty(t,i,a)}([Vd(mh)],t.prototype,"moveable",void 0),t}(du),af=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Vp(t,e),t.defaultAbles=Gb,t}(of),lf=af,rf=function(e,t){return rf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},rf(e,t)};function df(e,t){function i(){this.constructor=e}rf(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}var cf=function(){return cf=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var s in t=arguments[i])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},cf.apply(this,arguments)};var uf=function(e){function t(t){var i=e.call(this,t)||this;return i.state={},i.state=i.props,i}return df(t,e),t.prototype.render=function(){return e=Qc(lf,cf({ref:Yd(this,"moveable")},this.state)),t=this.state.parentElement,Qc(cu,{element:e,container:t});var e,t},t}(ru),pf=Jb,hf=mh,mf=Qb,gf=function(){return gf=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var s in t=arguments[i])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},gf.apply(this,arguments)};var bf=function(){function e(){this._events={}}var t=e.prototype;return t.on=function(e,t){if(dc(e))for(var i in e)this.on(i,e[i]);else this._addEvent(e,t,{});return this},t.off=function(e,t){if(e)if(dc(e))for(var i in e)this.off(i);else if(t){var n=this._events[e];if(n){var s=Sc(n,(function(e){return e.listener===t}));s>-1&&n.splice(s,1)}}else this._events[e]=[];else this._events={};return this},t.once=function(e,t){var i=this;return t&&this._addEvent(e,t,{once:!0}),new Promise((function(t){i._addEvent(e,t,{once:!0})}))},t.emit=function(e,t){var i=this;void 0===t&&(t={});var n=this._events[e];if(!e||!n)return!0;var s=!1;return t.eventType=e,t.stop=function(){s=!0},t.currentTarget=this,function(){for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;var n=Array(e),s=0;for(t=0;t<i;t++)for(var o=arguments[t],a=0,l=o.length;a<l;a++,s++)n[s]=o[a];return n}(n).forEach((function(n){n.listener(t),n.once&&i.off(e,n.listener)})),!s},t.trigger=function(e,t){return void 0===t&&(t={}),this.emit(e,t)},t._addEvent=function(e,t,i){var n=this._events;n[e]=n[e]||[],n[e].push(gf({listener:t},i))},e}(),ff=function(e){function t(t,i){void 0===i&&(i={});var n=e.call(this)||this;n.tempElement=document.createElement("div");var s=cf({},i),o={};mf.forEach((function(e){var t;o[(t="on ".concat(e),t.replace(/[\s-_]([a-z])/g,(function(e,t){return t.toUpperCase()})))]=function(t){return n.trigger(e,t)}})),mu(Qc(uf,cf({ref:Yd(n,"innerMoveable"),parentElement:t},s,o)),n.tempElement);var a=s.target;return cc(a)&&a.length>1&&n.updateRect(),n}df(t,e);var i=t.prototype;return i.setState=function(e,t){this.innerMoveable.setState(e,t)},i.forceUpdate=function(e){this.innerMoveable.forceUpdate(e)},i.dragStart=function(e){this.innerMoveable.$_timer&&this.forceUpdate(),this.getMoveable().dragStart(e)},i.destroy=function(){mu(null,this.tempElement),this.off(),this.tempElement=null,this.innerMoveable=null},i.getMoveable=function(){return this.innerMoveable.moveable},t=function(e,t,i,n){var s,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(s=e[l])&&(a=(o<3?s(a):o>3?s(t,i,a):s(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a}([Gd(hf,(function(e,t){e[t]||(e[t]=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var n=this.getMoveable();if(n&&n[t])return n[t].apply(n,e)})})),Gd(pf,(function(e,t){Object.defineProperty(e,t,{get:function(){return this.getMoveable().props[t]},set:function(e){var i;this.setState(((i={})[t]=e,i))},enumerable:!0,configurable:!0})}))],t),t}(bf),vf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return df(t,e),t}(ff),yf={exports:{}};!function(e){!function(t){var i=t.URL||t.webkitURL;function n(e){return!!i&&i.createObjectURL(e)}function s(e){return!!i&&i.revokeObjectURL(e)}function o(e,t){!e||"blob:"!==e.slice(0,5)||t&&t.noRevoke||s(e)}function a(e,i,n,s){if(!t.FileReader)return!1;var o=new FileReader;o.onload=function(){i.call(o,this.result)},n&&(o.onabort=o.onerror=function(){n.call(o,this.error)});var a=o[s||"readAsDataURL"];return a?(a.call(o,e),o):void 0}function l(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"}function r(e,i,s){function d(i,d){var c,u=document.createElement("img");function p(e,t){i!==d?e instanceof Error?d(e):((t=t||{}).image=e,i(t)):i&&i(e,t)}function h(i,o){o&&t.console&&console.log(o),i&&l("Blob",i)?c=n(e=i):(c=e,s&&s.crossOrigin&&(u.crossOrigin=s.crossOrigin)),u.src=c}return u.onerror=function(e){o(c,s),d&&d.call(u,e)},u.onload=function(){o(c,s);var t={originalWidth:u.naturalWidth||u.width,originalHeight:u.naturalHeight||u.height};try{r.transform(u,s,p,e,t)}catch(e){d&&d(e)}},"string"==typeof e?(r.requiresMetaData(s)?r.fetchBlob(e,h,s):h(),u):l("Blob",e)||l("File",e)?(c=n(e))?(u.src=c,u):a(e,(function(e){u.src=e}),d):void 0}return t.Promise&&"function"!=typeof i?(s=i,new Promise(d)):d(i,i)}r.requiresMetaData=function(e){return e&&e.meta},r.fetchBlob=function(e,t){t()},r.transform=function(e,t,i,n,s){i(e,s)},r.global=t,r.readFile=a,r.isInstanceOf=l,r.createObjectURL=n,r.revokeObjectURL=s,e.exports?e.exports=r:t.loadImage=r}("undefined"!=typeof window&&window||ei)}(yf);var xf={exports:{}};!function(e){var t;t=function(e){var t=e.transform;e.createCanvas=function(t,i,n){if(n&&e.global.OffscreenCanvas)return new OffscreenCanvas(t,i);var s=document.createElement("canvas");return s.width=t,s.height=i,s},e.transform=function(i,n,s,o,a){t.call(e,e.scale(i,n,a),n,s,o,a)},e.transformCoordinates=function(){},e.getTransformedOptions=function(e,t){var i,n,s,o,a=t.aspectRatio;if(!a)return t;for(n in i={},t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n]);return i.crop=!0,(s=e.naturalWidth||e.width)/(o=e.naturalHeight||e.height)>a?(i.maxWidth=o*a,i.maxHeight=o):(i.maxWidth=s,i.maxHeight=s/a),i},e.drawImage=function(e,t,i,n,s,o,a,l,r){var d=t.getContext("2d");return!1===r.imageSmoothingEnabled?(d.msImageSmoothingEnabled=!1,d.imageSmoothingEnabled=!1):r.imageSmoothingQuality&&(d.imageSmoothingQuality=r.imageSmoothingQuality),d.drawImage(e,i,n,s,o,0,0,a,l),d},e.requiresCanvas=function(e){return e.canvas||e.crop||!!e.aspectRatio},e.scale=function(t,i,n){i=i||{},n=n||{};var s,o,a,l,r,d,c,u,p,h,m,g,b=t.getContext||e.requiresCanvas(i)&&!!e.global.HTMLCanvasElement,f=t.naturalWidth||t.width,v=t.naturalHeight||t.height,y=f,x=v;function _(){var e=Math.max((a||y)/y,(l||x)/x);e>1&&(y*=e,x*=e)}function w(){var e=Math.min((s||y)/y,(o||x)/x);e<1&&(y*=e,x*=e)}if(b&&(c=(i=e.getTransformedOptions(t,i,n)).left||0,u=i.top||0,i.sourceWidth?(r=i.sourceWidth,void 0!==i.right&&void 0===i.left&&(c=f-r-i.right)):r=f-c-(i.right||0),i.sourceHeight?(d=i.sourceHeight,void 0!==i.bottom&&void 0===i.top&&(u=v-d-i.bottom)):d=v-u-(i.bottom||0),y=r,x=d),s=i.maxWidth,o=i.maxHeight,a=i.minWidth,l=i.minHeight,b&&s&&o&&i.crop?(y=s,x=o,(m=r/d-s/o)<0?(d=o*r/s,void 0===i.top&&void 0===i.bottom&&(u=(v-d)/2)):m>0&&(r=s*d/o,void 0===i.left&&void 0===i.right&&(c=(f-r)/2))):((i.contain||i.cover)&&(a=s=s||a,l=o=o||l),i.cover?(w(),_()):(_(),w())),b){if((p=i.pixelRatio)>1&&(!t.style.width||Math.floor(parseFloat(t.style.width,10))!==Math.floor(f/p))&&(y*=p,x*=p),e.orientationCropBug&&!t.getContext&&(c||u||r!==f||d!==v)&&(m=t,t=e.createCanvas(f,v,!0),e.drawImage(m,t,0,0,f,v,f,v,i)),(h=i.downsamplingRatio)>0&&h<1&&y<r&&x<d)for(;r*h>y;)g=e.createCanvas(r*h,d*h,!0),e.drawImage(t,g,c,u,r,d,g.width,g.height,i),c=0,u=0,r=g.width,d=g.height,t=g;return g=e.createCanvas(y,x),e.transformCoordinates(g,i,n),p>1&&(g.style.width=g.width/p+"px"),e.drawImage(t,g,c,u,r,d,y,x,i).setTransform(1,0,0,1,0,0),g}return t.width=y,t.height=x,t}},t(e.exports?yf.exports:window.loadImage)}(xf);var _f={exports:{}};!function(e){var t;t=function(e){var t=e.global,i=e.transform,n=t.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice),s=t.ArrayBuffer&&ArrayBuffer.prototype.slice||function(e,t){t=t||this.byteLength-e;var i=new Uint8Array(this,e,t),n=new Uint8Array(t);return n.set(i),n.buffer},o={jpeg:{65505:[],65517:[]}};function a(i,a,l,r){var d=this;function c(a,c){if(!(t.DataView&&n&&i&&i.size>=12&&"image/jpeg"===i.type))return a(r);var u=l.maxMetaDataSize||262144;e.readFile(n.call(i,0,u),(function(e){var t=new DataView(e);if(65496!==t.getUint16(0))return c(new Error("Invalid JPEG file: Missing JPEG marker."));for(var i,n,u,p,h=2,m=t.byteLength-4,g=h;h<m&&((i=t.getUint16(h))>=65504&&i<=65519||65534===i);){if(h+(n=t.getUint16(h+2)+2)>t.byteLength){console.log("Invalid JPEG metadata: Invalid segment size.");break}if((u=o.jpeg[i])&&!l.disableMetaDataParsers)for(p=0;p<u.length;p+=1)u[p].call(d,t,h,n,r,l);g=h+=n}!l.disableImageHead&&g>6&&(r.imageHead=s.call(e,0,g)),a(r)}),c,"readAsArrayBuffer")||a(r)}return l=l||{},t.Promise&&"function"!=typeof a?(r=l=a||{},new Promise(c)):(r=r||{},c(a,a))}function l(e,t,i){return e&&t&&i?new Blob([i,n.call(e,t.byteLength)],{type:"image/jpeg"}):null}e.transform=function(n,s,o,l,r){e.requiresMetaData(s)?a(l,(function(a){a!==r&&(t.console&&console.log(a),a=r),i.call(e,n,s,o,l,a)}),s,r=r||{}):i.apply(e,arguments)},e.blobSlice=n,e.bufferSlice=s,e.replaceHead=function(e,i,n){var s={maxMetaDataSize:1024,disableMetaDataParsers:!0};if(!n&&t.Promise)return a(e,s).then((function(t){return l(e,t.imageHead,i)}));a(e,(function(t){n(l(e,t.imageHead,i))}),s)},e.parseMetaData=a,e.metaDataParsers=o},t(e.exports?yf.exports:window.loadImage)}(_f);!function(e){var t;t=function(e){var t=e.global;t.fetch&&t.Request&&t.Response&&t.Response.prototype.blob?e.fetchBlob=function(e,i,n){function s(e){return e.blob()}if(t.Promise&&"function"!=typeof i)return fetch(new Request(e,i)).then(s);fetch(new Request(e,n)).then(s).then(i).catch((function(e){i(null,e)}))}:t.XMLHttpRequest&&""===(new XMLHttpRequest).responseType&&(e.fetchBlob=function(e,i,n){function s(t,i){n=n||{};var s=new XMLHttpRequest;s.open(n.method||"GET",e),n.headers&&Object.keys(n.headers).forEach((function(e){s.setRequestHeader(e,n.headers[e])})),s.withCredentials="include"===n.credentials,s.responseType="blob",s.onload=function(){t(s.response)},s.onerror=s.onabort=s.ontimeout=function(e){t===i?i(null,e):i(e)},s.send(n.body)}return t.Promise&&"function"!=typeof i?(n=i,new Promise(s)):s(i,i)})},t(e.exports?yf.exports:window.loadImage)}({exports:{}});var wf={exports:{}};!function(e){var t;t=function(e){function t(e){e&&(Object.defineProperty(this,"map",{value:this.ifds[e].map}),Object.defineProperty(this,"tags",{value:this.tags&&this.tags[e]||{}}))}t.prototype.map={Orientation:274,Thumbnail:"ifd1",Blob:513,Exif:34665,GPSInfo:34853,Interoperability:40965},t.prototype.ifds={ifd1:{name:"Thumbnail",map:t.prototype.map},34665:{name:"Exif",map:{}},34853:{name:"GPSInfo",map:{}},40965:{name:"Interoperability",map:{}}},t.prototype.get=function(e){return this[e]||this[this.map[e]]};var i={1:{getValue:function(e,t){return e.getUint8(t)},size:1},2:{getValue:function(e,t){return String.fromCharCode(e.getUint8(t))},size:1,ascii:!0},3:{getValue:function(e,t,i){return e.getUint16(t,i)},size:2},4:{getValue:function(e,t,i){return e.getUint32(t,i)},size:4},5:{getValue:function(e,t,i){return e.getUint32(t,i)/e.getUint32(t+4,i)},size:8},9:{getValue:function(e,t,i){return e.getInt32(t,i)},size:4},10:{getValue:function(e,t,i){return e.getInt32(t,i)/e.getInt32(t+4,i)},size:8}};function n(e,t,n,s,o,a){var l,r,d,c,u,p,h=i[s];if(h){if(!((r=(l=h.size*o)>4?t+e.getUint32(n+8,a):n+8)+l>e.byteLength)){if(1===o)return h.getValue(e,r,a);for(d=[],c=0;c<o;c+=1)d[c]=h.getValue(e,r+c*h.size,a);if(h.ascii){for(u="",c=0;c<d.length&&"\0"!==(p=d[c]);c+=1)u+=p;return u}return d}console.log("Invalid Exif data: Invalid data offset.")}else console.log("Invalid Exif data: Invalid tag type.")}function s(e,t,i){return(!e||e[i])&&(!t||!0!==t[i])}function o(e,t,i,o,a,l,r,d){var c,u,p,h,m,g;if(i+6>e.byteLength)console.log("Invalid Exif data: Invalid directory offset.");else{if(!((u=i+2+12*(c=e.getUint16(i,o)))+4>e.byteLength)){for(p=0;p<c;p+=1)h=i+2+12*p,s(r,d,m=e.getUint16(h,o))&&(g=n(e,t,h,e.getUint16(h+2,o),e.getUint32(h+4,o),o),a[m]=g,l&&(l[m]=h));return e.getUint32(u,o)}console.log("Invalid Exif data: Invalid directory size.")}}i[7]=i[1],e.parseExifData=function(i,n,a,l,r){if(!r.disableExif){var d,c,u,p=r.includeExifTags,h=r.excludeExifTags||{34665:{37500:!0}},m=n+10;if(1165519206===i.getUint32(n+4))if(m+8>i.byteLength)console.log("Invalid Exif data: Invalid segment size.");else if(0===i.getUint16(n+8)){switch(i.getUint16(m)){case 18761:d=!0;break;case 19789:d=!1;break;default:return void console.log("Invalid Exif data: Invalid byte alignment marker.")}42===i.getUint16(m+2,d)?(c=i.getUint32(m+4,d),l.exif=new t,r.disableExifOffsets||(l.exifOffsets=new t,l.exifTiffOffset=m,l.exifLittleEndian=d),(c=o(i,m,m+c,d,l.exif,l.exifOffsets,p,h))&&s(p,h,"ifd1")&&(l.exif.ifd1=c,l.exifOffsets&&(l.exifOffsets.ifd1=m+c)),Object.keys(l.exif.ifds).forEach((function(e){!function(e,i,n,s,a,l,r){var d=e.exif[i];d&&(e.exif[i]=new t(i),e.exifOffsets&&(e.exifOffsets[i]=new t(i)),o(n,s,s+d,a,e.exif[i],e.exifOffsets&&e.exifOffsets[i],l&&l[i],r&&r[i]))}(l,e,i,m,d,p,h)})),(u=l.exif.ifd1)&&u[513]&&(u[513]=function(t,i,n){if(n){if(!(i+n>t.byteLength))return new Blob([e.bufferSlice.call(t.buffer,i,i+n)],{type:"image/jpeg"});console.log("Invalid Exif data: Invalid thumbnail data.")}}(i,m+u[513],u[514]))):console.log("Invalid Exif data: Missing TIFF marker.")}else console.log("Invalid Exif data: Missing byte alignment offset.")}},e.metaDataParsers.jpeg[65505].push(e.parseExifData),e.exifWriters={274:function(e,t,i){var n=t.exifOffsets[274];return n?(new DataView(e,n+8,2).setUint16(0,i,t.exifLittleEndian),e):e}},e.writeExifData=function(t,i,n,s){return e.exifWriters[i.exif.map[n]](t,i,s)},e.ExifMap=t},t(e.exports?yf.exports:window.loadImage)}(wf);!function(e){var t;t=function(e){var t=e.ExifMap.prototype;t.tags={256:"ImageWidth",257:"ImageHeight",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright",34665:{36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",42240:"Gamma",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",36880:"OffsetTime",36881:"OffsetTimeOriginal",36882:"OffsetTimeDigitized",37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"PhotographicSensitivity",34856:"OECF",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"CameraOwnerName",42033:"BodySerialNumber",42034:"LensSpecification",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber"},34853:{0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"},40965:{1:"InteroperabilityIndex"}},t.tags.ifd1=t.tags,t.stringValues={ExposureProgram:{0:"Undefined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Undefined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},ComponentsConfiguration:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"},Orientation:{1:"Original",2:"Horizontal flip",3:"Rotate 180° CCW",4:"Vertical flip",5:"Vertical flip + Rotate 90° CW",6:"Rotate 90° CW",7:"Horizontal flip + Rotate 90° CW",8:"Rotate 90° CCW"}},t.getText=function(e){var t=this.get(e);switch(e){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":case"Orientation":return this.stringValues[e][t];case"ExifVersion":case"FlashpixVersion":if(!t)return;return String.fromCharCode(t[0],t[1],t[2],t[3]);case"ComponentsConfiguration":if(!t)return;return this.stringValues[e][t[0]]+this.stringValues[e][t[1]]+this.stringValues[e][t[2]]+this.stringValues[e][t[3]];case"GPSVersionID":if(!t)return;return t[0]+"."+t[1]+"."+t[2]+"."+t[3]}return String(t)},t.getAll=function(){var e,t,i,n={};for(e in this)Object.prototype.hasOwnProperty.call(this,e)&&((t=this[e])&&t.getAll?n[this.ifds[e].name]=t.getAll():(i=this.tags[e])&&(n[i]=this.getText(i)));return n},t.getName=function(e){var t=this.tags[e];return"object"==typeof t?this.ifds[e].name:t},function(){var e,i,n,s=t.tags;for(e in s)if(Object.prototype.hasOwnProperty.call(s,e))if(i=t.ifds[e])for(e in n=s[e])Object.prototype.hasOwnProperty.call(n,e)&&(i.map[n[e]]=Number(e));else t.map[s[e]]=Number(e)}()},t(e.exports?yf.exports:window.loadImage)}({exports:{}});var Sf={exports:{}};!function(e){var t;t=function(e){function t(){}function i(e,t,i,n,s){return"binary"===t.types[e]?new Blob([i.buffer.slice(n,n+s)]):"Uint16"===t.types[e]?i.getUint16(n):function(e,t,i){for(var n="",s=t+i,o=t;o<s;o+=1)n+=String.fromCharCode(e.getUint8(o));return n}(i,n,s)}function n(e,t){return void 0===e?t:e instanceof Array?(e.push(t),e):[e,t]}function s(e,t,s,o,a,l){for(var r,d,c,u=t+s,p=t;p<u;)28===e.getUint8(p)&&2===e.getUint8(p+1)&&(c=e.getUint8(p+2),a&&!a[c]||l&&l[c]||(d=e.getInt16(p+3),r=i(c,o.iptc,e,p+5,d),o.iptc[c]=n(o.iptc[c],r),o.iptcOffsets&&(o.iptcOffsets[c]=p))),p+=1}function o(e,t){return 943868237===e.getUint32(t)&&1028===e.getUint16(t+4)}function a(e,t){var i=e.getUint8(t+7);return i%2!=0&&(i+=1),0===i&&(i=4),i}t.prototype.map={ObjectName:5},t.prototype.types={0:"Uint16",200:"Uint16",201:"Uint16",202:"binary"},t.prototype.get=function(e){return this[e]||this[this.map[e]]},e.parseIptcData=function(e,i,n,l,r){if(!r.disableIptc)for(var d=i+n;i+8<d;){if(o(e,i)){var c=a(e,i),u=i+8+c;if(u>d){console.log("Invalid IPTC data: Invalid segment offset.");break}var p=e.getUint16(i+6+c);if(i+p>d){console.log("Invalid IPTC data: Invalid segment size.");break}return l.iptc=new t,r.disableIptcOffsets||(l.iptcOffsets=new t),void s(e,u,p,l,r.includeIptcTags,r.excludeIptcTags||{202:!0})}i+=1}},e.metaDataParsers.jpeg[65517].push(e.parseIptcData),e.IptcMap=t},t(e.exports?yf.exports:window.loadImage)}(Sf);!function(e){var t;t=function(e){var t=e.IptcMap.prototype;t.tags={0:"ApplicationRecordVersion",3:"ObjectTypeReference",4:"ObjectAttributeReference",5:"ObjectName",7:"EditStatus",8:"EditorialUpdate",10:"Urgency",12:"SubjectReference",15:"Category",20:"SupplementalCategories",22:"FixtureIdentifier",25:"Keywords",26:"ContentLocationCode",27:"ContentLocationName",30:"ReleaseDate",35:"ReleaseTime",37:"ExpirationDate",38:"ExpirationTime",40:"SpecialInstructions",42:"ActionAdvised",45:"ReferenceService",47:"ReferenceDate",50:"ReferenceNumber",55:"DateCreated",60:"TimeCreated",62:"DigitalCreationDate",63:"DigitalCreationTime",65:"OriginatingProgram",70:"ProgramVersion",75:"ObjectCycle",80:"Byline",85:"BylineTitle",90:"City",92:"Sublocation",95:"State",100:"CountryCode",101:"Country",103:"OriginalTransmissionReference",105:"Headline",110:"Credit",115:"Source",116:"CopyrightNotice",118:"Contact",120:"Caption",121:"LocalCaption",122:"Writer",125:"RasterizedCaption",130:"ImageType",131:"ImageOrientation",135:"LanguageIdentifier",150:"AudioType",151:"AudioSamplingRate",152:"AudioSamplingResolution",153:"AudioDuration",154:"AudioOutcue",184:"JobID",185:"MasterDocumentID",186:"ShortDocumentID",187:"UniqueDocumentID",188:"OwnerID",200:"ObjectPreviewFileFormat",201:"ObjectPreviewFileVersion",202:"ObjectPreviewData",221:"Prefs",225:"ClassifyState",228:"SimilarityIndex",230:"DocumentNotes",231:"DocumentHistory",232:"ExifCameraInfo",255:"CatalogSets"},t.stringValues={10:{0:"0 (reserved)",1:"1 (most urgent)",2:"2",3:"3",4:"4",5:"5 (normal urgency)",6:"6",7:"7",8:"8 (least urgent)",9:"9 (user-defined priority)"},75:{a:"Morning",b:"Both Morning and Evening",p:"Evening"},131:{L:"Landscape",P:"Portrait",S:"Square"}},t.getText=function(e){var t=this.get(e),i=this.map[e],n=this.stringValues[i];return n?n[t]:String(t)},t.getAll=function(){var e,t,i={};for(e in this)Object.prototype.hasOwnProperty.call(this,e)&&(t=this.tags[e])&&(i[t]=this.getText(t));return i},t.getName=function(e){return this.tags[e]},function(){var e,i=t.tags,n=t.map||{};for(e in i)Object.prototype.hasOwnProperty.call(i,e)&&(n[i[e]]=Number(e))}()},t(e.exports?yf.exports:window.loadImage)}({exports:{}});!function(e){var t;t=function(e){var t=e.transform,i=e.requiresCanvas,n=e.requiresMetaData,s=e.transformCoordinates,o=e.getTransformedOptions;function a(t,i){var n=t&&t.orientation;return!0===n&&!e.orientation||1===n&&e.orientation||(!i||e.orientation)&&n>1&&n<9}function l(e,t){return e!==t&&(1===e&&t>1&&t<9||e>1&&e<9)}function r(e,t){if(t>1&&t<9)switch(e){case 2:case 4:return t>4;case 5:case 7:return t%2==0;case 6:case 8:return 2===t||4===t||5===t||7===t}return!1}!function(e){if(e.global.document){var t=document.createElement("img");t.onload=function(){if(e.orientation=2===t.width&&3===t.height,e.orientation){var i=e.createCanvas(1,1,!0).getContext("2d");i.drawImage(t,1,1,1,1,0,0,1,1),e.orientationCropBug="255,255,255,255"!==i.getImageData(0,0,1,1).data.toString()}},t.src="data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAIAAwMBEQACEQEDEQH/xABRAAEAAAAAAAAAAAAAAAAAAAAKEAEBAQADAQEAAAAAAAAAAAAGBQQDCAkCBwEBAAAAAAAAAAAAAAAAAAAAABEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEQMRAD8AG8T9NfSMEVMhQvoP3fFiRZ+MTHDifa/95OFSZU5OzRzxkyejv8ciEfhSceSXGjS8eSdLnZc2HDm4M3BxcXwH/9k="}}(e),e.requiresCanvas=function(t){return a(t)||i.call(e,t)},e.requiresMetaData=function(t){return a(t,!0)||n.call(e,t)},e.transform=function(i,n,s,o,a){t.call(e,i,n,(function(t,i){if(i){var n=e.orientation&&i.exif&&i.exif.get("Orientation");if(n>4&&n<9){var o=i.originalWidth,a=i.originalHeight;i.originalWidth=a,i.originalHeight=o}}s(t,i)}),o,a)},e.getTransformedOptions=function(t,i,n){var s=o.call(e,t,i),a=n.exif&&n.exif.get("Orientation"),d=s.orientation,c=e.orientation&&a;if(!0===d&&(d=a),!l(d,c))return s;var u=s.top,p=s.right,h=s.bottom,m=s.left,g={};for(var b in s)Object.prototype.hasOwnProperty.call(s,b)&&(g[b]=s[b]);if(g.orientation=d,(d>4&&!(c>4)||d<5&&c>4)&&(g.maxWidth=s.maxHeight,g.maxHeight=s.maxWidth,g.minWidth=s.minHeight,g.minHeight=s.minWidth,g.sourceWidth=s.sourceHeight,g.sourceHeight=s.sourceWidth),c>1){switch(c){case 2:p=s.left,m=s.right;break;case 3:u=s.bottom,p=s.left,h=s.top,m=s.right;break;case 4:u=s.bottom,h=s.top;break;case 5:u=s.left,p=s.bottom,h=s.right,m=s.top;break;case 6:u=s.left,p=s.top,h=s.right,m=s.bottom;break;case 7:u=s.right,p=s.top,h=s.left,m=s.bottom;break;case 8:u=s.right,p=s.bottom,h=s.left,m=s.top}if(r(d,c)){var f=u,v=p;u=h,p=m,h=f,m=v}}switch(g.top=u,g.right=p,g.bottom=h,g.left=m,d){case 2:g.right=m,g.left=p;break;case 3:g.top=h,g.right=m,g.bottom=u,g.left=p;break;case 4:g.top=h,g.bottom=u;break;case 5:g.top=m,g.right=h,g.bottom=p,g.left=u;break;case 6:g.top=p,g.right=h,g.bottom=m,g.left=u;break;case 7:g.top=p,g.right=u,g.bottom=m,g.left=h;break;case 8:g.top=m,g.right=u,g.bottom=p,g.left=h}return g},e.transformCoordinates=function(t,i,n){s.call(e,t,i,n);var o=i.orientation,a=e.orientation&&n.exif&&n.exif.get("Orientation");if(l(o,a)){var d=t.getContext("2d"),c=t.width,u=t.height,p=c,h=u;switch((o>4&&!(a>4)||o<5&&a>4)&&(t.width=u,t.height=c),o>4&&(p=u,h=c),a){case 2:d.translate(p,0),d.scale(-1,1);break;case 3:d.translate(p,h),d.rotate(Math.PI);break;case 4:d.translate(0,h),d.scale(1,-1);break;case 5:d.rotate(-.5*Math.PI),d.scale(-1,1);break;case 6:d.rotate(-.5*Math.PI),d.translate(-p,0);break;case 7:d.rotate(-.5*Math.PI),d.translate(-p,h),d.scale(1,-1);break;case 8:d.rotate(.5*Math.PI),d.translate(0,-h)}switch(r(o,a)&&(d.translate(p,h),d.rotate(Math.PI)),o){case 2:d.translate(c,0),d.scale(-1,1);break;case 3:d.translate(c,u),d.rotate(Math.PI);break;case 4:d.translate(0,u),d.scale(1,-1);break;case 5:d.rotate(.5*Math.PI),d.scale(1,-1);break;case 6:d.rotate(.5*Math.PI),d.translate(0,-u);break;case 7:d.rotate(.5*Math.PI),d.translate(c,-u),d.scale(-1,1);break;case 8:d.rotate(-.5*Math.PI),d.translate(-c,0)}}}},t(e.exports?yf.exports:window.loadImage)}({exports:{}});var Cf=yf.exports;class kf{constructor(e){this.builder=e;const t=this.builder.util,i=this.builder.builderStuff,n=this.builder.contentStuff;this.util=t;const s=this.builder.dom;this.dom=s;let o,a=i.querySelector("#divImageTool");if(!a){let e=`\n                <div id="divImageTool" class="is-tool">\n                    <div role="button" tabindex="0" class="image-embed" style="${this.builder.opts.imageEmbed?"":"display:none;"}width:40px;height:40px;overflow:hidden;">\n                        <div style="position:absolute;width:100%;height:100%;"><svg class="is-icon-flex" style="position: absolute;top: 13px;left: 15px;width: 14px;height: 14px;"><use xlink:href="#ion-image"></use></svg></div>\n                        <input title="${t.out("Change Image")}" data-title="${t.out("Change Image")}" id="fileEmbedImage" type="file" accept="image/*" style="position:absolute;top:-20px;left:0;width:40px;height:60px;opacity: 0;cursor: pointer;"/>\n                    </div>\n                    <button tabindex="0" title="${t.out("Link")}" data-title="${t.out("Link")}" class="image-link" style="width:40px;height:40px;"><svg class="is-icon-flex" style="width:17px;height:17px;"><use xlink:href="#ion-link"></use></svg></button> \n                    <button tabindex="0" title="${t.out("Select")}" data-title="${t.out("Select")}" class="open-asset" style="display:none;width:40px;height:40px;"><svg class="is-icon-flex" style="width:17px;height:17px;color:#fff"><use xlink:href="#icon-folder2"></use></svg></button> \n                    <button tabindex="0" title="${t.out("Edit")}" data-title="${t.out("Edit")}" class="image-edit" style="width:40px;height:40px;"><svg class="is-icon-flex" style="width:14px;height:14px;"><use xlink:href="#ion-android-create"></use></svg></button>\n                </div>\n                <div id="divImageProgress">\n                    <div>\n                        <div class="dot"></div>\n                        <div class="dot"></div>\n                        <div class="dot"></div>\n                    </div>\n                </div>\n                \n                <div class="is-modal imageedit" tabindex="-1" role="dialog" aria-modal="true" aria-hidden="true">\n                    <div class="is-modal-content">\n                        <div class="imageedit-crop" style="display:flex;height:80px;align-items:center;align-self:flex-start;">\n                            <button title="5x5" data-crop-size="1" style="width: 60px;height: 60px;">5x5</button>\n                            <button title="4x3" data-crop-size="1.33333" style="width: 60px;height: 45px;">4x3</button>\n                            <button title="3x4" data-crop-size="0.75" style="width: 45px;height: 60px;">3x4</button>\n                            <button title="6x4" data-crop-size="1.5" style="width: 60px;height: 40px;">6x4</button>\n                            <button title="4x6" data-crop-size="0.6666" style="width: 40px;height: 60px;">4x6</button>\n                            <button title="16x9" data-crop-size="1.77" style="width: 60px;height: 35px;">16x9</button>\n                            <button title="${t.out("Free")}" data-crop-size="" style="width: 60px;height: 45px;">${t.out("Free")}</button>\n                        </div>\n                        <div class="imageedit-preview" style="max-width:1000px;width:100%;max-height:550px;">\n                        </div>\n                        <div style="margin-top:15px;text-align:right;align-self:flex-end;">\n                            <button title="${t.out("Cancel")}" class="input-cancel classic-secondary">${t.out("Cancel")}</button>\n                            <button title="${t.out("Apply")}" class="input-ok classic-primary">${t.out("Apply")}</button>\n                        </div>\n                    </div>\n                </div>\n                \n                <div class="is-modal imagelink" tabindex="-1" role="dialog" aria-modal="true" aria-hidden="true">\n                    <div class="is-modal-content">\n\n                        <label for="inpImageLinkSource" style="display:block">${t.out("Source")}:</label>\n                        <div class="image-src">\n                            <input id="inpImageLinkSource" class="input-src" type="text"/>\n                            <button title="${t.out("Select")}" class="input-select" style="flex:none;">\n                                ${this.builder.opts.selectIcon}\n                            </button>\n                \n                            <div class="image-larger1" style="position:relative;flex:none;box-shadow: 0px 3px 6px -6px rgba(0, 0, 0, 0.32);">\n                                <form class="form-upload-larger" target="frameTargetImageUpload" method="post" action="${this.builder.opts.largerImageHandler}" enctype="multipart/form-data" style="border-radius:1px;position:absolute;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;">\n\t\t\t\t                    <input id="hidRefId1" name="hidRefId" type="hidden" value="" />\n                                    <svg class="is-icon-flex" style="width:18px;height:18px;"><use xlink:href="#ion-ios-cloud-upload-outline"></use></svg>\n                                    <input onclick="blur()" title="${t.out("Select")}" id="fileImage1" name="fileImage" type="file" accept="image/*" style="position:absolute;top:-30px;left:0;width:100%;height:80px;opacity: 0;cursor: pointer;">\n                                </form>\n\n                                <iframe id="frameTargetImageUpload" name="frameTargetImageUpload" tabindex="-1" src="about:blank" style="width:1px;height:1px;position:absolute;top:0;right:-100000px"></iframe>\n                            </div>\n                        </div>\n\n                        <label for="inpImageLinkTitle" style="margin-top:14px;display:block">${t.out("Title")}:</label>\n                        <input id="inpImageLinkTitle" class="input-title" type="text" style="width:100%;border-top: none;"/>\n\n                        <label for="inpImageLinkLink" style="margin-top:14px;display:block">${t.out("Link")}:</label>\n                        <div class="image-link">\n                            <input id="inpImageLinkLink" class="input-link" type="text" style="width:100%;border-top: none;"/>\n                            <button title="${t.out("Select")}" class="input-select2" style="flex:none;">\n                                ${this.builder.opts.selectIcon}\n                            </button>\n                            \n                            <button title="${t.out(this.builder.opts.otherSelectCaption)}" class="input-select-other" style="display:none;width:50px">${this.builder.opts.otherSelectIcon}</button>\n   \n                            <div class="image-larger2" style="position:relative;flex:none;box-shadow: 0px 3px 6px -6px rgba(0, 0, 0, 0.32);">\n                                <form class="form-upload-larger" target="frameTargetImageUpload" method="post" action="${this.builder.opts.fileHandler?this.builder.opts.fileHandler:this.builder.opts.largerImageHandler}" enctype="multipart/form-data" style="border-radius:1px;position:absolute;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;">\n\t\t\t\t                    <input id="hidRefId2" name="hidRefId" type="hidden" value="" />\n                                    <svg class="is-icon-flex"><use xlink:href="#ion-ios-cloud-upload-outline"></use></svg>\n                                    <input onclick="blur()" title="${t.out("Select")}" id="fileImage2" name="fileImage" type="file" accept="*" style="position:absolute;top:-30px;left:0;width:100%;height:80px;opacity: 0;cursor: pointer;">\n                                </form>\n                            </div>\n                        </div>\n\n                        <label style="display:block;margin-top:14px;">\n                            <input class="input-newwindow" type="checkbox" />  ${t.out("Open new window")}&nbsp;\n                        </label>\n                        <label id="lblImageLinkOpenLightbox" style="${this.builder.useLightbox?"display:block":"display:none"};margin-top:5px;margin-bottom:14px;">\n                            <input class="input-openlightbox" type="checkbox" />  ${t.out("Open in a lightbox (for image, video or Youtube)")}&nbsp;\n                        </label>\n                        \n                        <div style="text-align:right;margin-top:14px;">\n                            <button title="${t.out("Cancel")}" class="input-cancel classic-secondary">${t.out("Cancel")}</button>\n                            <button title="${t.out("Ok")}" class="input-ok classic-primary">${t.out("Ok")}</button>\n                        </div>\n                    </div>\n                </div>\n\n                <div class="is-modal imageselect" style="z-index:10005" tabindex="-1" role="dialog" aria-modal="true" aria-hidden="true">\n                    <div style="width:${this.builder.imageSelectWidth};max-width:${this.builder.imageSelectMaxWidth};height:${this.builder.imageSelectHeight};padding:0;">\n                        <iframe tabindex="0" style="width:100%;height:100%;border: none;display: block;" src="about:blank"></iframe>\n                    </div>\n                </div>\n\n                <div class="is-modal mediaselect" style="z-index:10005" tabindex="-1" role="dialog" aria-modal="true" aria-hidden="true">\n                    <div style="width:${this.builder.mediaSelectWidth};max-width:${this.builder.mediaSelectMaxWidth};height:${this.builder.mediaSelectHeight};padding:0;">\n                        <iframe tabindex="0" style="width:100%;height:100%;border: none;display: block;" src="about:blank"></iframe>\n                    </div>\n                </div>\n\n                <div id="divImageResizerOverlay" class="is-tool">\n                </div>\n                <div id="divImageResizer" data-x=0 data-y=0 class="is-tool moveable resizable">\n                </div>\n                `;s.appendHtml(i,e),a=i.querySelector("#divImageTool"),this.imageTool=a,o=document.querySelector("#divImageResizer"),this.imageResizer=o;const l=document.querySelector("#divImageResizerOverlay");this.builder.moveable=new vf(document.body,{target:o,resizable:!0,throttleResize:0,keepRatio:!0}).on("resizeStart",(()=>{l.style.display="block"})).on("resize",(({target:e,width:t,height:o})=>{if(0===t||0===o||isNaN(t)||isNaN(o))return;let a;this.imageTool.style.display="",a=this.builder.iframe?n.querySelector(".is-element-tool"):i.querySelector(".is-element-tool"),a.style.display="";let l,r,d=this.builder.activeImage,c=!1;if(s.hasClass(d.parentNode,"img-circular")&&(d=d.parentNode,c=!0),c){let e=parseFloat(window.getComputedStyle(d.parentNode).getPropertyValue("padding-left")),i=parseFloat(window.getComputedStyle(d.parentNode).getPropertyValue("padding-right")),n=d.parentNode.offsetWidth*this.builder.opts.zoom-e-i;t>=n&&(t=n),o>=t?(d.style.width=t/this.builder.opts.zoom+"px",d.style.height=t/this.builder.opts.zoom+"px",d.querySelector("img").style.width=t/this.builder.opts.zoom+"px",d.querySelector("img").style.height=t/this.builder.opts.zoom+"px"):(d.style.width=t/this.builder.opts.zoom+"px",d.style.height=o/this.builder.opts.zoom+"px",d.querySelector("img").style.width=t/this.builder.opts.zoom+"px",d.querySelector("img").style.height=o/this.builder.opts.zoom+"px")}else d.style.width=t/this.builder.opts.zoom+"px",d.style.height="auto";if(this.builder.iframe){let e=this.builder.iframe.getBoundingClientRect().top+window.pageYOffset,t=this.builder.iframe.getBoundingClientRect().left+window.pageXOffset;l=d.getBoundingClientRect().top+e,r=d.getBoundingClientRect().left+t}else l=d.getBoundingClientRect().top+window.pageYOffset,r=d.getBoundingClientRect().left+window.pageXOffset;e.style.top=l+"px",e.style.left=r+"px",e.style.width=d.offsetWidth+"px",e.style.height=d.offsetHeight+"px",this.repositionHandler(d.offsetWidth,d.offsetHeight),document.selection?document.selection.empty():window.getSelection().removeAllRanges()})).on("resizeEnd",(({target:e})=>{l.style.display="";let t=this.builder.activeImage,i=!1;s.hasClass(t.parentNode,"img-circular")&&(t=t.parentNode,i=!0);var n=getComputedStyle(t.parentNode),o=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight),a=parseFloat(n.borderLeftWidth)+parseFloat(n.borderRightWidth),r=t.parentNode.offsetWidth-o-a;if(!i){var d=r,c=t.offsetWidth,u=c/d*100;t.style.width=u+"%"}this.builder.opts.emailMode&&t.setAttribute("width",c),e.setAttribute("data-resized",1),setTimeout((()=>{e.setAttribute("data-resized",0)}),300),this.builder.opts.onChange()})),document.querySelector(".moveable-control-box").style.display="none",o.addEventListener("click",(()=>{this.builder.activeImage.click(),this.repositionImageTool(),this.builder.elmTool.repositionElementTool()}));let r=a.querySelector("#fileEmbedImage");s.addEventListener(r,"change",(e=>{this.builder.uo.saveForUndo();var t=e.target;let n,s,o=this.builder.activeImage,l=i.querySelector("#divImageProgress");if(l.style.display="table",l.style.width=o.offsetWidth*this.builder.opts.zoom+"px",l.style.height=o.offsetHeight*this.builder.opts.zoom+"px",this.builder.iframe){let e=this.builder.iframe.getBoundingClientRect().top+window.pageYOffset,t=this.builder.iframe.getBoundingClientRect().left+window.pageXOffset;n=o.getBoundingClientRect().top+e,s=o.getBoundingClientRect().left+t}else n=o.getBoundingClientRect().top+window.pageYOffset,s=o.getBoundingClientRect().left+window.pageXOffset;l.style.top=n+"px",l.style.left=s+"px";try{o.setAttribute("data-filename",t.files[0].name),this.processImage(t.files[0],o,(()=>{l.style.display="none",r=a.querySelector("#fileEmbedImage"),r.value="",this.refreshIfIsModule(o),this.builder.opts.onChange(),this.builder.elmTool.refresh()}))}catch(e){l.style.display="none"}})),this.builder.opts.onImageBrowseClick&&(r=a.querySelector(".image-embed"),s.addEventListener(r,"click",(e=>(this.builder.opts.onImageBrowseClick(),e.preventDefault(),!1))));let d=i.querySelector(".imagelink");if(this.builder.opts.onOtherSelectClick||this.builder.opts.otherSelect){d.querySelector(".input-select-other").style.display="block";const e=d.querySelector(".input-select-other");e&&s.addEventListener(e,"click",(n=>{if(this.builder.opts.onOtherSelectClick)this.builder.opts.onOtherSelectClick({targetInput:d.querySelector(".input-link"),theTrigger:d.querySelector(".input-select-other")});else{let n=i.querySelector(".is-modal.otherselect");this.builder.opts.assetRefresh&&(n.querySelector("iframe").src=this.builder.opts.otherSelect,this.builder.opts.assetRefresh=!1),"about:blank"===n.querySelector("iframe").src&&(n.querySelector("iframe").src=this.builder.opts.otherSelect),t.showModal(n,!1,(()=>{e.removeAttribute("data-focus"),e.focus()}),!1,this.builder.assetPanelFullScreen),e.setAttribute("data-focus",!0)}this.builder.targetInput=d.querySelector(".input-link"),this.builder.targetCallback=null,this.builder.targetAssetType="all",n.preventDefault(),n.stopImmediatePropagation()}))}""!==this.builder.opts.largerImageHandler||this.builder.opts.onLargerImageUpload||(d.querySelector(".image-larger1").style.display="none",d.querySelector(".image-larger2").style.display="none"),this.builder.opts.onImageSelectClick||""!==this.builder.opts.imageselect||(d.querySelector(".input-select").style.display="none",d.querySelector(".input-select2").style.display="none");const c=a.querySelector(".image-link");s.addEventListener(c,"click",(()=>{if(document.querySelector(".moveable-control-box").style.display="none",this.builder.opts.onImageSettingClick)return this.builder.opts.onImageSettingClick(),!1;let e,i=this.builder.activeImage;"a"===i.parentNode.tagName.toLowerCase()&&1===i.parentNode.childElementCount&&(e=i.parentNode);let n=i.getAttribute("src"),o=i.getAttribute("alt"),a=d.querySelector(".input-src");-1===n.indexOf("base64")?a.value=n:a.value="[Image Data]";let l=d.querySelector(".input-title");l.value=o;let r=d.querySelector(".input-link");r.value="";let u=d.querySelector(".input-newwindow");u.checked=!1;let p=d.querySelector(".input-openlightbox");if(p.checked=!1,e){if(r.value=e.getAttribute("href"),""===o){let t=e.getAttribute("title");t&&(l.value=t)}var h=e.getAttribute("target");u.checked="_blank"===h,s.hasClass(e,"is-lightbox")?p.checked=!0:p.checked=!1}t.showModal(d,!0,(()=>{c.removeAttribute("data-focus"),c.focus()}),!0),c.setAttribute("data-focus",!0),a.focus()})),r=d.querySelector(".input-cancel"),s.addEventListener(r,"click",(()=>{t.hideModal(d),document.querySelector(".moveable-control-box").style.display="block"})),r=d.querySelector(".input-ok"),s.addEventListener(r,"click",(()=>{this.builder.uo.saveForUndo();let e,i=this.builder.activeImage;"a"===i.parentNode.tagName.toLowerCase()&&1===i.parentNode.childElementCount&&(e=i.parentNode);let n=d.querySelector(".input-src").value,o=d.querySelector(".input-title").value,a=d.querySelector(".input-link").value;-1===n.indexOf("[Image Data]")&&i.setAttribute("src",n),i.setAttribute("alt",o),""!==a?e?(e.setAttribute("href",a),e.setAttribute("title",o),d.querySelector(".input-newwindow").checked?e.setAttribute("target","_blank"):e.removeAttribute("target"),d.querySelector(".input-openlightbox").checked?s.addClass(e,"is-lightbox"):s.removeClass(e,"is-lightbox")):(e=s.createElement("a"),e.setAttribute("href",a),e.setAttribute("title",o),e.innerHTML=i.outerHTML,d.querySelector(".input-newwindow").checked?e.setAttribute("target","_blank"):e.removeAttribute("target"),d.querySelector(".input-openlightbox").checked?s.addClass(e,"is-lightbox"):s.removeClass(e,"is-lightbox"),i.outerHTML=e.outerHTML):e&&(e.outerHTML=e.innerHTML),this.refreshIfIsModule(i),this.builder.opts.onChange(),this.builder.opts.onRender(),t.hideModal(d),this.builder.elmTool.refresh()}));const u=a.querySelector(".open-asset");this.builder.opts.onImageSelectClick||this.builder.opts.imageselect?(u.style.display="block",s.addEventListener(u,"click",(()=>{let e=this.builder.activeImage,t=e?e.getAttribute("src"):"";this.builder.openImageSelect((e=>{this.builder.uo.saveForUndo();let t=this.builder.activeImage;t.setAttribute("src",e),setTimeout((()=>{t.click();let e=document.querySelector("#divImageResizer");e&&e.click(),setTimeout((()=>{t.click();let e=document.querySelector("#divImageResizer");e&&e.click()}),600)}),10),this.builder.opts.onChange(),this.builder.opts.onRender()}),t)}))):u.style.display="none";let p=d.querySelector(".image-src");if(this.builder.opts.onImageSelectClick||this.builder.opts.imageselect){const e=d.querySelector(".input-select");e&&s.addEventListener(e,"click",(()=>{if(this.builder.opts.onImageSelectClick)this.builder.opts.onImageSelectClick({targetInput:d.querySelector(".input-src"),theTrigger:e});else{let n=i.querySelector(".is-modal.imageselect"),s=n.querySelector("iframe");this.builder.opts.assetRefresh&&(s.src=this.builder.opts.imageselect,this.builder.opts.assetRefresh=!1),"about:blank"===s.src&&(s.src=this.builder.opts.imageselect),t.showModal(n,!1,(()=>{e.removeAttribute("data-focus"),e.focus()}),!1,this.builder.assetPanelFullScreen),e.setAttribute("data-focus",!0)}this.builder.targetInput=d.querySelector(".input-src"),this.builder.targetCallback=null,this.builder.targetAssetType="image"}));const n=d.querySelector(".input-select2");n&&s.addEventListener(n,"click",(()=>{if(this.builder.opts.onFileSelectClick)this.builder.opts.onFileSelectClick({targetInput:d.querySelector(".input-link"),theTrigger:n}),this.builder.targetInput=d.querySelector(".input-link"),this.builder.targetCallback=null,this.builder.targetAssetType="all";else if(""!==this.builder.opts.fileselect){let e=i.querySelector(".is-modal.fileselect"),s=e.querySelector("iframe");this.builder.opts.assetRefresh&&(s.src=this.builder.opts.fileselect,this.builder.opts.assetRefresh=!1),"about:blank"===s.src&&(s.src=this.builder.opts.fileselect),t.showModal(e,!1,(()=>{n.removeAttribute("data-focus"),n.focus()}),!1,this.builder.assetPanelFullScreen),n.setAttribute("data-focus",!0),this.builder.targetInput=d.querySelector(".input-link"),this.builder.targetCallback=null,this.builder.targetAssetType="all"}else if(this.builder.opts.onImageSelectClick)this.builder.opts.onImageSelectClick({targetInput:d.querySelector(".input-link"),theTrigger:n}),this.builder.targetInput=d.querySelector(".input-link"),this.builder.targetCallback=null,this.builder.targetAssetType="media";else{let e=i.querySelector(".is-modal.imageselect"),s=e.querySelector("iframe");this.builder.opts.assetRefresh&&(s.src=this.builder.opts.imageselect,this.builder.opts.assetRefresh=!1),"about:blank"===s.src&&(s.src=this.builder.opts.imageselect),t.showModal(e,!1,(()=>{n.removeAttribute("data-focus"),n.focus()}),!1,this.builder.assetPanelFullScreen),n.setAttribute("data-focus",!0),this.builder.targetInput=d.querySelector(".input-link"),this.builder.targetCallback=null,this.builder.targetAssetType="media"}}))}else s.removeClass(p,"image-select");let h=d.querySelector("#fileImage1");s.addEventListener(h,"change",(e=>{let t=h;for(;"form"!==t.nodeName.toLowerCase();)t=t.parentNode;let i=t;s.addClass(i,"please-wait"),d.querySelector("#hidRefId1").value=this.builder.opts.customval,this.builder.opts.onLargerImageUpload?this.builder.opts.onLargerImageUpload(e):i.submit(),h.value=""}));let m=d.querySelector("#fileImage2");s.addEventListener(m,"change",(e=>{let t=m;for(;"form"!==t.nodeName.toLowerCase();)t=t.parentNode;let i=t;s.addClass(i,"please-wait"),d.querySelector("#hidRefId2").value=this.builder.opts.customval,this.builder.opts.onFileUpload?this.builder.opts.onFileUpload(e):this.builder.opts.onLargerImageUpload?this.builder.opts.onLargerImageUpload(e):i.submit(),m.value=""}));let g=i.querySelector(".imageedit");const b=a.querySelector(".image-edit");s.addEventListener(b,"click",(()=>{let e=this.builder.activeImage,i=g.querySelector(".imageedit-preview");i.innerHTML='<img style="max-width:100%;object-fit:contain;height:100%;"/>';let n=g.querySelector("img");if(this.builder.onImageEditClick){if(!this.builder.onImageEditClick(e,n))return}t.showModal(g,!0,(()=>{b.removeAttribute("data-focus"),b.focus()})),b.setAttribute("data-focus",!0);if(i.style.height="",e.offsetWidth<800&&e.offsetHeight<550)i.style.width=e.offsetWidth+"px";else{800*e.offsetHeight/e.offsetWidth<=550?i.style.width="800px":i.style.height="550px"}window.innerHeight<=800&&(i.style.height="350px"),-1===e.src.indexOf("base64")?n.src=e.src+(-1===e.src.indexOf("?")?"?":"&")+`timestamp=${(new Date).getTime()}`:n.src=e.src,this.builder.setCropperConfig?this.cropper=new Fd(n,this.builder.setCropperConfig):this.cropper=new Fd(n,{zoomable:!1}),document.querySelector(".moveable-control-box").style.display="none"}));let f=g.querySelector(".imageedit-crop").querySelectorAll("button");Array.prototype.forEach.call(f,(e=>{s.addEventListener(e,"click",(()=>{let t=1*e.getAttribute("data-crop-size");this.cropper.setAspectRatio(t)}))}));let v=g.querySelector(".input-cancel");s.addEventListener(v,"click",(()=>{t.hideModal(g),document.querySelector(".moveable-control-box").style.display="block"})),r=g.querySelector(".input-ok"),s.addEventListener(r,"click",(()=>{this.builder.uo.saveForUndo();let e=this.builder.activeImage,i=e.getAttribute("data-filename"),n="jpg";if(i)n=i.substr(i.lastIndexOf(".")+1).toLowerCase();else{let t=e.src;t.indexOf("/")>-1?e.setAttribute("data-filename",t.substr(t.lastIndexOf("/")+1)):e.setAttribute("data-filename",t),n=t.substr(t.lastIndexOf(".")+1).toLowerCase()}if(this.builder.opts.imageRenameOnEdit){let t="";if(-1===e.src.indexOf("base64")){let i=e.getAttribute("src"),n=i.substring(i.lastIndexOf("/")+1);t=s.baseName(n)}else t=s.baseName(e.getAttribute("data-filename"));let i="";-1!==t.indexOf("-edit")&&(t=t.substr(0,t.indexOf("-edit"))),i=t+"-edit"+this.util.makeId(),i=i.replaceAll("%20","-"),e.setAttribute("data-filename",i+"."+n)}e.src="jpg"===n||"jpeg"===n||"webm"===n||"webp"===n?this.cropper.getCroppedCanvas({fillColor:"#fff",imageSmoothingEnabled:!0,imageSmoothingQuality:"high"}).toDataURL("image/jpeg"):this.cropper.getCroppedCanvas({}).toDataURL(),this.refreshIfIsModule(e),this.builder.opts.onChange(),t.hideModal(g),this.builder.elmTool.refresh()}))}this.builder.imgs=[]}refreshIfIsModule(e){if(this.dom.parentsHasAttribute(e,"data-html")){if(this.imageTool.style.display="",e.hasAttribute("data-sync")){let t=e.getAttribute("data-src"),i=e.getAttribute("data-filename");if(t){let n=e;for(;!n.getAttribute("data-html");)n=n.parentNode;let s=n.querySelectorAll("img");Array.prototype.forEach.call(s,(n=>{n.src===t&&(n.src=e.src,n.removeAttribute("data-src"),n.setAttribute("data-filename",i))})),e.removeAttribute("data-src")}}setTimeout((()=>{this.util.refreshModule(),this.imageTool.style.display=""}),1e3)}else e.onload=()=>{this.refresh()}}refresh(){const e=this.dom;if(this.builder.activeImage){let t=this.imageTool;t.style.display="",setTimeout((()=>{let i=this.builder.activeImage;if(!i)return;e.hasClass(i.parentNode,"img-circular")&&(i=i.parentNode),t.style.display="flex";let n,s,o=t.offsetWidth,a=i.offsetWidth*this.builder.opts.zoom;if(this.builder.iframe){let e=this.builder.iframe.getBoundingClientRect().top+window.pageYOffset,t=this.builder.iframe.getBoundingClientRect().left+window.pageXOffset;n=i.getBoundingClientRect().top+e,s=i.getBoundingClientRect().left+t}else n=i.getBoundingClientRect().top+window.pageYOffset,s=i.getBoundingClientRect().left+window.pageXOffset;let l=s+(a/2-o/2);const r=window.innerWidth;if(this.builder.iframe){let e=this.builder.iframe.getBoundingClientRect().left+window.pageXOffset;o+s>r&&(l=i.getBoundingClientRect().left+e)}else o+s>r&&(l=i.getBoundingClientRect().left);t.style.top=n+"px",t.style.left=l+"px";let d=this.imageResizer;d.style.top=n+"px",d.style.left=s+"px",d.style.width=i.offsetWidth*this.builder.opts.zoom+"px",d.style.height=i.offsetHeight*this.builder.opts.zoom+"px",d.style.display="block",this.repositionHandler(i.offsetWidth,i.offsetHeight),this.builder.moveable.updateRect(),document.querySelector(".moveable-control-box").style.display="block",0===i.offsetWidth&&(t.style.display="",this.builder.activeImage=null,d.style.display="none",d.style.top="-10px",d.style.left="-10px",d.style.width="1px",d.style.height="1px",this.builder.moveable.updateRect(),document.querySelector(".moveable-control-box").style.display="none"),this.util.repositionColumnTool()}),0)}}repositionImageTool(){const e=this.dom;if(this.builder.activeImage){let t=this.imageTool,i=this.builder.activeImage;e.hasClass(i.parentNode,"img-circular")&&(i=i.parentNode),t.style.display="flex";let n,s,o=t.offsetWidth,a=i.offsetWidth*this.builder.opts.zoom;if(this.builder.iframe){let e=this.builder.iframe.getBoundingClientRect().top+window.pageYOffset,t=this.builder.iframe.getBoundingClientRect().left+window.pageXOffset;n=i.getBoundingClientRect().top+e,s=i.getBoundingClientRect().left+t}else n=i.getBoundingClientRect().top+window.pageYOffset,s=i.getBoundingClientRect().left+window.pageXOffset;let l=s+(a/2-o/2);const r=window.innerWidth;if(this.builder.iframe){let e=this.builder.iframe.getBoundingClientRect().left+window.pageXOffset;o+s>r&&(l=i.getBoundingClientRect().left+e)}else o+s>r&&(l=i.getBoundingClientRect().left);t.style.top=n+"px",t.style.left=l+"px";let d=this.imageResizer;d.style.top=n+"px",d.style.left=s+"px",d.style.width=i.offsetWidth*this.builder.opts.zoom+"px",d.style.height=i.offsetHeight*this.builder.opts.zoom+"px",d.style.display="block",this.repositionHandler(i.offsetWidth,i.offsetHeight),this.builder.moveable.updateRect(),document.querySelector(".moveable-control-box").style.display="block"}}click(e){const t=this.dom;let i=e.target;if("img"===i.tagName.toLowerCase()){let n=!1;if(i.hasAttribute("data-fixed")&&(n=!0),n){this.imageTool.style.display="",this.builder.activeImage=null;let e=this.imageResizer;e.style.display="none",e.style.top="-10px",e.style.left="-10px",e.style.width="1px",e.style.height="1px",this.builder.moveable.updateRect(),document.querySelector(".moveable-control-box").style.display="none"}else{this.builder.activeImage=i,t.hasClass(i.parentNode,"img-circular")&&(i=i.parentNode);let n=this.imageTool;n.style.display="flex";let s,o,a=n.offsetWidth,l=i.offsetWidth*this.builder.opts.zoom;if(this.builder.iframe){let e=this.builder.iframe.getBoundingClientRect().top+window.pageYOffset,t=this.builder.iframe.getBoundingClientRect().left+window.pageXOffset;s=i.getBoundingClientRect().top+e,o=i.getBoundingClientRect().left+t}else s=i.getBoundingClientRect().top+window.pageYOffset,o=i.getBoundingClientRect().left+window.pageXOffset;let r=o+(l/2-a/2);const d=window.innerWidth;if(this.builder.iframe){let e=this.builder.iframe.getBoundingClientRect().left+window.pageXOffset;a+o>d&&(r=i.getBoundingClientRect().left+e)}else a+o>d&&(r=i.getBoundingClientRect().left);if(n.style.top=s+"px",n.style.left=r+"px",i.hasAttribute("data-noresize")){let e=this.imageResizer;e.style.display="none",e.style.top="-10px",e.style.left="-10px",e.style.width="1px",e.style.height="1px",this.builder.moveable.updateRect(),document.querySelector(".moveable-control-box").style.display="none"}else{let e,t,n=this.imageResizer;if(this.builder.iframe){let n=this.builder.iframe.getBoundingClientRect().top+window.pageYOffset,s=this.builder.iframe.getBoundingClientRect().left+window.pageXOffset;e=i.getBoundingClientRect().top+n,t=i.getBoundingClientRect().left+s}else e=i.getBoundingClientRect().top+window.pageYOffset,t=i.getBoundingClientRect().left+window.pageXOffset;n.style.top=e+"px",n.style.left=t+"px",n.style.width=i.offsetWidth*this.builder.opts.zoom+"px",n.style.height=i.offsetHeight*this.builder.opts.zoom+"px",n.style.display="block",this.repositionHandler(i.offsetWidth,i.offsetHeight);let s,o=i.style.width;-1!==o.indexOf("%")?(o=1*o.replace("%",""),s=100*i.offsetWidth/o):s=i.offsetWidth,n.setAttribute("data-width",Math.round(s)),this.builder.moveable.updateRect(),document.querySelector(".moveable-control-box").style.display="block"}let c=!1;if(e.screenX&&0!==e.screenX&&e.screenY&&0!==e.screenY||(c=!0),c){n.style.display="";let e=this.imageResizer;e.style.display="none",e.style.top="-10px",e.style.left="-10px",e.style.width="1px",e.style.height="1px",this.builder.moveable.updateRect(),document.querySelector(".moveable-control-box").style.display="none"}}}else{this.imageTool.style.display="",this.builder.activeImage=null;let e=this.imageResizer;e.style.display="none",e.style.top="-10px",e.style.left="-10px",e.style.width="1px",e.style.height="1px",this.builder.moveable.updateRect(),document.querySelector(".moveable-control-box").style.display="none"}}clearImageResizer(){this.builder.imgs.forEach((e=>{try{e.destroy()}catch(e){}let t=this.builder.imgs.indexOf(e);t>-1&&this.builder.imgs.splice(t,1)})),document.querySelectorAll("[data-mov]").forEach((e=>{e.removeAttribute("data-mov")}))}repositionHandler(e,t){let i=document.querySelector("#divImageResizer");i.style.width=e*this.builder.opts.zoom+"px",i.style.height=t*this.builder.opts.zoom+"px"}processImage(e,t,i){if(!e)return i(),!1;if(!document.getElementById("myTmpCanvasNoCrop")){var n=document.createElement("canvas");n.id="myTmpCanvasNoCrop",n.style.display="none",document.querySelector("body").appendChild(n)}var s,o,a;"jpg"===(s=e.name?e.name.substr(e.name.lastIndexOf(".")+1).toLowerCase():e.substr(e.lastIndexOf(".")+1).toLowerCase())||"jpeg"===s?(o="image/jpeg",a=this.builder.opts.imageQuality):(o="image/png",a=1),-1===this.builder.opts.maxEmbedImageWidth?Cf(e,(e=>{t.src=e.toDataURL(o,a),i()}),{canvas:!0}):Cf(e,(e=>{t.src=e.toDataURL(o,a),i()}),{maxWidth:this.builder.opts.maxEmbedImageWidth,maxHeight:this.builder.opts.maxEmbedImageWidth,canvas:!0})}}class Af{constructor(e){this.builder=e;const t=this.builder.util;this.util=t;const i=this.builder.dom;this.dom=i;const n=this.builder.builderStuff;this.builderStuff=n;let s=n.querySelector(".is-modal.buttoneditor");if(!s){let e=`\n            <div class="is-modal is-modal-content buttoneditor" tabindex="-1" role="dialog" aria-modal="true" aria-hidden="true">\n                <div class="is-modal-bar is-draggable">\n                    ${t.out("Button")}\n                    <button class="is-modal-close" tabindex="-1" title="${t.out("Close")}">&#10005;</button>\n                </div>\n                <div style="padding:0;height:100%;">\n                    <div class="is-tabs" data-group="button" style="position:relative;z-index:1">\n                        <a title="${t.out("General")}" href="" data-content="divButtonGeneral" class="active">${t.out("General")}</a>\n                        <a title="${t.out("Hover")}" href="" data-content="divButtonHover">${t.out("Hover")}</a>\n                        <a title="${t.out("Text")}" href="" data-content="divButtonText">${t.out("Text")}</a>\n                        <a title="${t.out("Saved")}" href="" data-content="divMyButtons">${t.out("Saved")}</a>\n                        <a title="${t.out("Templates")}" href="" data-content="divButtonTemplates">${t.out("Templates")}</a>\n                    </div>\n                    <div id="divButtonGeneral" class="is-tab-content active" tabindex="-1" data-group="button" style="display: flex;\n                        height: 100%;\n                        width:100%;\n                        overflow-y: auto;\n                        position: absolute;\n                        border-top: 82px solid transparent;\n                        box-sizing: border-box;\n                        top: 0px;">\n\n                        <div class="flex flex-row">\n                            <div class="flex flex-col" style="margin-right: 40px;">\n                                <div>\n                                    <label>${t.out("Background Color")}</label>:\n                                </div>\n                                <div class="flex flex-row flex-wrap" style="margin-top:5px">\n                                    <button title="${t.out("Background Color")}" class="bg-color-command" style="width:45px;height:40px;border:rgb(0 0 0 / 6%) 1px solid;margin-right:4px"></button>\n                                </div>\n                            </div>\n                            \n                            <div class="flex flex-col">\n                                <div>\n                                    <label>${t.out("Text Color")}</label>:\n                                </div>\n                                <div class="flex flex-row flex-wrap" style="margin-top:5px">\n                                    <button title="${t.out("Text Color")}" class="text-color-command" style="width:45px;height:40px;border:rgb(0 0 0 / 6%) 1px solid;margin-right:4px"></button>\n                                </div>\n                            </div>\n                            <div class="flex flex-col" style="margin-left: 60px;">\n                                <div>\n                                    <label>${t.out("Width")}</label>:\n                                </div>\n                                <div class="flex flex-row flex-wrap" style="margin-top:5px">\n                                    <button title="${t.out("Auto")}" data-command="auto" class="width-command" style="margin-right:4px">${t.out("Auto")}</button>\n                                    <button title="${t.out("Full")}" data-command="full" class="width-command" style="margin-right:4px">${t.out("Full")}</button>\n                                </div>\n                            </div>\n                        </div>\n\n                        <div class="flex flex-row" style="margin:15px 0 0">\n                            <div class="flex flex-col" style="margin-right: 40px;">\n                                <div>\n                                    <label>${t.out("Border Color")}</label>:\n                                </div>\n                                <div class="flex flex-row flex-wrap" style="margin-top:5px">\n                                    <button title="${t.out("Transparent")}" data-command="transparent" class="border-color-command" style="margin-right:4px">${t.out("Transparent")}</button>\n                                    <button title="${t.out("Current")}" data-command="current" class="border-color-command" style="margin-right:4px">${t.out("Current")}</button>\n                                </div>\n                            </div>\n\n                            <div class="flex flex-col">\n                                <div>\n                                    <label>${t.out("Border Thickness")}</label>:\n                                </div>\n                                <div class="flex flex-row flex-wrap" style="margin-top:5px">\n                                    <button title="${t.out("No Border")}" data-command="0" class="border-width-command" style="margin-right:4px">${t.out("No Border")}</button>\n                                    <button title="1px" data-command="1" class="border-width-command" style="text-transform:none;margin-right:4px">1px</button>\n                                    <button title="2px" data-command="2" class="border-width-command" style="text-transform:none;margin-right:4px">2px</button>\n                                </div>\n                            </div>\n                        </div>\n\n                        <div class="flex flex-row" style="margin:15px 0 0">\n                            <div class="flex flex-col" style="margin-right: 20px;">\n                                <div>\n                                    <label>${t.out("Padding Left/Right")}</label>:\n                                </div>\n                                <div class="flex flex-row" style="margin-top:5px">\n                                    <button title="2" data-command="2" class="paddingx-command" style="margin-right:4px">2</button>\n                                    <button title="3" data-command="3" class="paddingx-command" style="margin-right:4px">3</button>\n                                    <button title="4" data-command="4" class="paddingx-command" style="margin-right:4px">4</button>\n                                    <button title="5" data-command="5" class="paddingx-command" style="margin-right:4px">5</button>\n                                    <button title="6" data-command="6" class="paddingx-command" style="margin-right:4px">6</button>\n                                    <button title="7" data-command="7" class="paddingx-command" style="margin-right:4px">7</button>\n                                    <button title="8" data-command="8" class="paddingx-command" style="margin-right:4px">8</button>\n                                    <button title="9" data-command="9" class="paddingx-command" style="margin-right:4px">9</button>\n                                    <button title="10" data-command="10" class="paddingx-command" style="margin-right:4px">10</button>\n                                    <button title="11" data-command="11" class="paddingx-command" style="margin-right:4px">11</button>\n                                    <button title="12" data-command="12" class="paddingx-command" style="margin-right:4px">12</button>\n                                </div>\n                            </div>\n\n                            <div class="flex flex-col" style="display:none">\n                                <div>\n                                    <label>${t.out("Padding Y")}</label>:\n                                </div>\n                                <div class="flex flex-row" style="margin-top:5px">\n                                    <button title="0" data-command="0" class="paddingy-command" style="margin-right:4px">0</button>\n                                    <button title="1" data-command="1" class="paddingy-command" style="margin-right:4px">1</button>\n                                    <button title="2" data-command="2" class="paddingy-command" style="margin-right:4px">2</button>\n                                    <button title="3" data-command="3" class="paddingy-command" style="margin-right:4px">3</button>\n                                    <button title="4" data-command="4" class="paddingy-command" style="margin-right:4px">4</button>\n                                    <button title="5" data-command="5" class="paddingy-command" style="margin-right:4px">5</button>\n                                </div>\n                            </div>\n                        </div>\n\n                        <div class="flex flex-row" style="margin:15px 0 0">\n                            <div class="flex flex-col" style="margin-right: 20px;">\n                                <div>\n                                    <label>${t.out("Padding Top")}</label>:\n                                </div>\n                                <div class="flex flex-row" style="margin-top:5px">\n                                    <button title="0" data-command="0" class="paddingtop-command" style="margin-right:4px">0</button>\n                                    <button title="1" data-command="1" class="paddingtop-command" style="margin-right:4px">1</button>\n                                    <button title="2" data-command="2" class="paddingtop-command" style="margin-right:4px">2</button>\n                                    <button title="3" data-command="3" class="paddingtop-command" style="margin-right:4px">3</button>\n                                    <button title="4" data-command="4" class="paddingtop-command" style="margin-right:4px">4</button>\n                                    <button title="5" data-command="5" class="paddingtop-command" style="margin-right:4px">5</button>\n                                </div>\n                            </div>\n\n                            <div class="flex flex-col">\n                                <div>\n                                    <label>${t.out("Padding Bottom")}</label>:\n                                </div>\n                                <div class="flex flex-row" style="margin-top:5px">\n                                    <button title="0" data-command="0" class="paddingbottom-command" style="margin-right:4px">0</button>\n                                    <button title="1" data-command="1" class="paddingbottom-command" style="margin-right:4px">1</button>\n                                    <button title="2" data-command="2" class="paddingbottom-command" style="margin-right:4px">2</button>\n                                    <button title="3" data-command="3" class="paddingbottom-command" style="margin-right:4px">3</button>\n                                    <button title="4" data-command="4" class="paddingbottom-command" style="margin-right:4px">4</button>\n                                    <button title="5" data-command="5" class="paddingbottom-command" style="margin-right:4px">5</button>\n                                </div>\n                            </div>\n                        </div>\n\n                        <div class="flex flex-col" style="margin:15px 0 0">\n                            <div>\n                                <label>${t.out("Border Radius")}</label>:\n                            </div>\n                            <div class="flex flex-row flex-wrap" style="margin-top:5px">\n                                <button title="${t.out("None")}" data-command="none" class="border-radius-command" style="margin-right:4px">${t.out("None")}</button>\n                                <button title="${t.out("SM")}" data-command="sm" class="border-radius-command" style="margin-right:4px">${t.out("SM")}</button>\n                                <button title="${t.out("Normal")}" data-command="normal" class="border-radius-command" style="margin-right:4px">${t.out("Normal")}</button>\n                                <button title="${t.out("MD")}" data-command="md" class="border-radius-command" style="margin-right:4px">${t.out("MD")}</button>\n                                <button title="${t.out("LG")}" data-command="lg" class="border-radius-command" style="margin-right:4px">${t.out("LG")}</button>\n                                <button title="${t.out("XL")}" data-command="xl" class="border-radius-command" style="margin-right:4px">${t.out("XL")}</button>\n                                <button title="${t.out("2XL")}" data-command="2xl" class="border-radius-command" style="margin-right:4px">${t.out("2XL")}</button>\n                                <button title="${t.out("3XL")}" data-command="3xl" class="border-radius-command" style="margin-right:4px">${t.out("3XL")}</button>\n                                <button title="${t.out("Full")}" data-command="full" class="border-radius-command" style="margin-right:4px">${t.out("Full")}</button>\n                            </div>\n                        </div>\n\n                        <div class="flex flex-row" style="margin:15px 0 0">\n                            <div class="flex flex-col" style="margin-right: 20px;">\n                                <div>\n                                    <label>${t.out("Margin Left")}</label>:\n                                </div>\n                                <div class="flex flex-row flex-wrap" style="margin-top:5px">\n                                    <button title="0" data-command="0" class="ml-command" style="margin-right:4px">0</button>\n                                    <button title="1" data-command="1" class="ml-command" style="margin-right:4px">1</button>\n                                    <button title="2" data-command="2" class="ml-command" style="margin-right:2px">2</button>\n                                    <button title="3" data-command="3" class="ml-command" style="margin-right:4px">3</button>\n                                    <button title="4" data-command="4" class="ml-command" style="margin-right:4px">4</button>\n                                    <button title="5" data-command="5" class="ml-command" style="margin-right:4px">5</button>\n                                </div>\n                            </div>\n\n                            <div class="flex flex-col">\n                                <div>\n                                    <label>${t.out("Margin Right")}</label>:\n                                </div>\n                                <div class="flex flex-row flex-wrap" style="margin-top:5px">\n                                    <button title="0" data-command="0" class="mr-command" style="margin-right:4px">0</button>\n                                    <button title="1" data-command="1" class="mr-command" style="margin-right:4px">1</button>\n                                    <button title="2" data-command="2" class="mr-command" style="margin-right:2px">2</button>\n                                    <button title="3" data-command="3" class="mr-command" style="margin-right:4px">3</button>\n                                    <button title="4" data-command="4" class="mr-command" style="margin-right:4px">4</button>\n                                    <button title="5" data-command="5" class="mr-command" style="margin-right:4px">5</button>\n                                </div>\n                            </div>\n                        </div>\n\n                        <div class="flex flex-row" style="margin:15px 0 0">\n                            <div class="flex flex-col" style="margin-right: 20px;">\n                                <div>\n                                    <label>${t.out("Margin Top")}</label>:\n                                </div>\n                                <div class="flex flex-row flex-wrap" style="margin-top:5px">\n                                    <button title="0" data-command="0" class="mt-command" style="margin-right:4px">0</button>\n                                    <button title="1" data-command="1" class="mt-command" style="margin-right:4px">1</button>\n                                    <button title="2" data-command="2" class="mt-command" style="margin-right:2px">2</button>\n                                    <button title="3" data-command="3" class="mt-command" style="margin-right:4px">3</button>\n                                    <button title="4" data-command="4" class="mt-command" style="margin-right:4px">4</button>\n                                    <button title="5" data-command="5" class="mt-command" style="margin-right:4px">5</button>\n                                </div>\n                            </div>\n\n                            <div class="flex flex-col">\n                                <div>\n                                    <label>${t.out("Margin Bottom")}</label>:\n                                </div>\n                                <div class="flex flex-row flex-wrap" style="margin-top:5px">\n                                    <button title="0" data-command="0" class="mb-command" style="margin-right:4px">0</button>\n                                    <button title="1" data-command="1" class="mb-command" style="margin-right:4px">1</button>\n                                    <button title="2" data-command="2" class="mb-command" style="margin-right:2px">2</button>\n                                    <button title="3" data-command="3" class="mb-command" style="margin-right:4px">3</button>\n                                    <button title="4" data-command="4" class="mb-command" style="margin-right:4px">4</button>\n                                    <button title="5" data-command="5" class="mb-command" style="margin-right:4px">5</button>\n                                </div>\n                            </div>\n\n                        </div>\n\n                    </div>\n                    <div id="divButtonHover" class="is-tab-content" tabindex="-1" data-group="button">\n  \n                        <div class="flex flex-row">\n                            <div class="flex-col" style="margin-right: 40px;">\n                                <div>\n                                    <label>${t.out("Background Color")}</label>:\n                                </div>\n                                <div class="flex flex-row flex-wrap" style="margin-top:5px">\n                                    <button title="${t.out("Background Color")}" class="bg-color-hover-command" style="width:45px;height:40px;border:rgb(0 0 0 / 6%) 1px solid;margin-right:4px"></button>\n                                </div>\n                            </div>\n                    \n                            <div class="flex-col">\n                                <div>\n                                    <label>${t.out("Text Color")}</label>:\n                                </div>\n                                <div class="flex flex-row flex-wrap" style="margin-top:5px">\n                                    <button title="${t.out("Dark")}" data-command="dark" class="text-color-hover-command" style="margin-right:4px">${t.out("Dark")}</button>\n                                    <button title="${t.out("Light")}" data-command="light" class="text-color-hover-command" style="margin-right:4px">${t.out("Light")}</button>\n                                    <button title="${t.out("Current")}" data-command="current" class="text-color-hover-command" style="margin-right:4px">${t.out("Current")}</button>\n                                </div>\n                            </div>\n                        </div>\n\n                        <div class="flex flex-col" style="margin:15px 0 0">\n                            <div>\n                                <label>${t.out("Border Color")}</label>:\n                            </div>\n                            <div class="flex flex-row flex-wrap" style="margin-top:5px">\n                                <button title="${t.out("Transparent")}" data-command="transparent" class="border-color-hover-command" style="margin-right:4px">${t.out("Transparent")}</button>\n                                <button title="${t.out("Current")}" data-command="current" class="border-color-hover-command" style="margin-right:4px">${t.out("Current")}</button>\n                            </div>\n                        </div>\n\n                    </div>\n                    <div id="divButtonText" class="is-tab-content" tabindex="-1" data-group="button">\n\n                        <div class="flex flex-row">\n                            <div class="flex flex-col" style="width:250px;margin-right:40px;">\n                                <div>\n                                    <label>${t.out("Font Size")}</label>:\n                                </div>\n                                <div class="flex flex-row flex-wrap" style="margin-top:5px">\n                                    <button title="12" data-command="12" class="font-size-command" style="margin-right:4px">12</button>\n                                    <button title="13" data-command="13" class="font-size-command" style="margin-right:4px">13</button>\n                                    <button title="14" data-command="14" class="font-size-command" style="margin-right:4px">14</button>\n                                    <button title="15" data-command="15" class="font-size-command" style="margin-right:4px">15</button>\n                                    <button title="16" data-command="16" class="font-size-command" style="margin-right:4px">16</button>\n                                    <button title="17" data-command="17" class="font-size-command" style="margin-right:4px">17</button>\n                                    <button title="18" data-command="18" class="font-size-command" style="margin-right:4px">18</button>\n                                    <button title="19" data-command="19" class="font-size-command" style="margin-right:4px">19</button>\n                                    <button title="21" data-command="21" class="font-size-command" style="margin-right:4px">21</button>\n                                    <button title="24" data-command="24" class="font-size-command" style="margin-right:4px">24</button>\n                                    <button title="28" data-command="28" class="font-size-command" style="margin-right:4px">28</button>\n                                    <button title="32" data-command="32" class="font-size-command" style="margin-right:4px">32</button>\n                                </div>\n                            </div>\n\n                            <div class="flex flex-col">\n                                <div>\n                                    <label>${t.out("Upper/Lower")}</label>:\n                                </div>\n                                <div class="flex flex-row flex-wrap" style="margin-top:5px">\n                                    <button title="${t.out("Bold")}" class="textbold-command" style="width:38px;font-family:serif;font-size:14px;text-transform:initial;margin-right:4px">B</button>\n                                    <button title="${t.out("Upper/Lower")}" class="textcase-command" style="width:38px;font-family:serif;font-size:14px;text-transform:initial;margin-right:4px">Aa</button>\n                                    <button title="${t.out("Underline")}" class="textunderline-command" style="width:38px;text-decoration:underline;font-family:serif;font-size:14px;text-transform:initial;margin-right:4px">U</button>\n                                </div>\n                            </div>\n                        </div>\n\n                        <div class="flex flex-row" style="margin:15px 0 0">\n                            <div class="flex flex-col">\n                                <div>\n                                    <label>${t.out("Letter Spacing")}</label>:\n                                </div>\n                                <div class="flex flex-row flex-wrap" style="margin-top:5px">\n                                    <button title="0" data-command="normal" class="letter-spacing-command" style="margin-right:4px">0</button>\n                                    <button title="25" data-command="wide" class="letter-spacing-command" style="margin-right:4px">25</button>\n                                    <button title="50" data-command="wider" class="letter-spacing-command" style="margin-right:4px">50</button>\n                                    <button title="75" data-command="75" class="letter-spacing-command" style="margin-right:4px">75</button>\n                                    <button title="100" data-command="widest" class="letter-spacing-command" style="margin-right:4px">100</button>\n                                    <button title="125" data-command="125" class="letter-spacing-command" style="margin-right:4px">125</button>\n                                    <button title="150" data-command="150" class="letter-spacing-command" style="margin-right:4px">150</button>\n                                    <button title="175" data-command="175" class="letter-spacing-command" style="margin-right:4px">175</button>\n                                    <button title="200" data-command="200" class="letter-spacing-command" style="margin-right:4px">200</button>\n                                </div>\n                            </div>\n                        </div>\n                        \n                    </div>\n                    <div id="divMyButtons" class="is-tab-content" tabindex="-1" data-group="button">\n\n\n                        <button title="${t.out("Save Current Button")}" class="input-save" style="width:220px;position: relative;z-index: 1;">${t.out("Save Current Button")}</button>\n                       \n                        <div id="divMyButtonList"></div>\n\n                    </div>\n                    <div id="divButtonTemplates" class="is-tab-content" tabindex="-1" data-group="button">\n\n                        <div id="divButtonTemplateList"></div>\n\n                    </div>\n                </div>\n            </div>\n            `;i.appendHtml(n,e),s=n.querySelector(".is-modal.buttoneditor");let o,a=s.querySelector(".is-modal-close");i.addEventListener(a,"click",(()=>{i.removeClass(s,"active")}));const l=s.querySelector(".bg-color-command");l.addEventListener("click",(e=>{this.builder.uo.saveForUndo(!0);const t=this.builder.activeButton||this.builder.activeLinkButton;let n=e.target;this.builder.colorPicker.open((e=>{const t=this.builder.activeButton||this.builder.activeLinkButton;t.style.backgroundColor=e,t.setAttribute("data-bg",e),i.removeClassesByPrefix(t,"bg-"),n.style.backgroundColor=e,this.builder.opts.onChange()}),t.style.backgroundColor,(()=>{l.removeAttribute("data-focus"),l.focus()})),l.setAttribute("data-focus",!0)}));const r=s.querySelector(".text-color-command");r.addEventListener("click",(e=>{this.builder.uo.saveForUndo(!0);const t=this.builder.activeButton||this.builder.activeLinkButton;let n=e.target;this.builder.colorPicker.open((e=>{const t=this.builder.activeButton||this.builder.activeLinkButton;t.style.color=e,i.removeClassesByPrefix(t,"text-"),n.style.backgroundColor=e,this.builder.opts.onChange()}),t.style.color,(()=>{r.removeAttribute("data-focus"),r.focus()})),r.setAttribute("data-focus",!0)}));const d=s.querySelector(".bg-color-hover-command");d.addEventListener("click",(e=>{this.builder.uo.saveForUndo(!0);let t=(this.builder.activeButton||this.builder.activeLinkButton).getAttribute("data-hover-bg"),n=e.target;this.builder.colorPicker.open((e=>{const t=this.builder.activeButton||this.builder.activeLinkButton;""===e?(t.removeAttribute("data-bg"),t.removeAttribute("data-hover-bg"),t.removeAttribute("onmouseover"),t.removeAttribute("onmouseout")):(t.setAttribute("data-bg",t.style.backgroundColor),t.setAttribute("data-hover-bg",e),t.setAttribute("onmouseover","if(this.getAttribute('data-hover-bg'))this.style.backgroundColor=this.getAttribute('data-hover-bg');"),t.setAttribute("onmouseout","if(this.getAttribute('data-bg'))this.style.backgroundColor=this.getAttribute('data-bg');else this.style.backgroundColor=''")),i.removeClassesByPrefix(t,"hover:bg-"),n.style.backgroundColor=e,this.builder.opts.onChange()}),t||"",(()=>{d.removeAttribute("data-focus"),d.focus()})),d.setAttribute("data-focus",!0)}));s.querySelectorAll(".text-color-hover-command").forEach((e=>{e.addEventListener("click",(()=>{this.builder.uo.saveForUndo(!0);const t=e.getAttribute("data-command"),n=this.builder.activeButton||this.builder.activeLinkButton;n.classList&&n.classList.forEach((e=>{0===e.indexOf("hover:text-")&&i.removeClass(n,e)})),"dark"===t?i.addClass(n,"hover:text-black"):"light"===t&&i.addClass(n,"hover:text-white"),this.applyDefault(n);s.querySelectorAll(".text-color-hover-command").forEach((e=>{i.removeClass(e,"on")})),i.addClass(e,"on"),this.builder.opts.onChange()}))})),o=s.querySelectorAll(".border-color-command"),Array.prototype.forEach.call(o,(e=>{e.addEventListener("click",(()=>{this.builder.uo.saveForUndo();const t=e.getAttribute("data-command"),n=this.builder.activeButton||this.builder.activeLinkButton;i.removeClass(n,"border-transparent"),i.removeClass(n,"border-current"),"transparent"===t?i.addClass(n,"border-transparent"):"current"===t&&i.addClass(n,"border-current"),this.applyDefault(n);s.querySelectorAll(".border-color-command").forEach((e=>{i.removeClass(e,"on")})),i.addClass(e,"on"),this.builder.opts.onChange()}))})),o=s.querySelectorAll(".border-color-hover-command"),Array.prototype.forEach.call(o,(e=>{e.addEventListener("click",(()=>{this.builder.uo.saveForUndo();const t=e.getAttribute("data-command"),n=this.builder.activeButton||this.builder.activeLinkButton;i.removeClass(n,"hover:border-transparent"),i.removeClass(n,"hover:border-current"),"transparent"===t?i.addClass(n,"hover:border-transparent"):"current"===t&&i.addClass(n,"hover:border-current"),this.applyDefault(n);s.querySelectorAll(".border-color-hover-command").forEach((e=>{i.removeClass(e,"on")})),i.addClass(e,"on"),this.builder.opts.onChange()}))})),o=s.querySelectorAll(".border-width-command"),Array.prototype.forEach.call(o,(e=>{e.addEventListener("click",(()=>{this.builder.uo.saveForUndo();const t=e.getAttribute("data-command"),n=this.builder.activeButton||this.builder.activeLinkButton;i.removeClass(n,"border-0"),i.removeClass(n,"border-2"),i.removeClass(n,"border"),"0"===t?i.addClass(n,"border-0"):"1"===t?i.addClass(n,"border"):"2"===t&&i.addClass(n,"border-2"),this.applyDefault(n);s.querySelectorAll(".border-width-command").forEach((e=>{i.removeClass(e,"on")})),i.addClass(e,"on"),this.builder.opts.onChange()}))})),o=s.querySelectorAll(".border-radius-command"),Array.prototype.forEach.call(o,(e=>{e.addEventListener("click",(()=>{this.builder.uo.saveForUndo();const t=e.getAttribute("data-command"),n=this.builder.activeButton||this.builder.activeLinkButton;i.removeClass(n,"rounded"),i.removeClassesByPrefix(n,"rounded-"),"normal"===t?i.addClass(n,"rounded"):i.addClass(n,"rounded-"+t),this.applyDefault(n);s.querySelectorAll(".border-radius-command").forEach((e=>{i.removeClass(e,"on")})),i.addClass(e,"on"),this.builder.opts.onChange()}))})),o=s.querySelectorAll(".paddingx-command"),Array.prototype.forEach.call(o,(e=>{e.addEventListener("click",(()=>{this.builder.uo.saveForUndo();const t=e.getAttribute("data-command"),n=this.builder.activeButton||this.builder.activeLinkButton;i.removeClassesByPrefix(n,"px-"),"2"===t&&i.addClass(n,"px-2"),"3"===t&&i.addClass(n,"px-3"),"4"===t&&i.addClass(n,"px-4"),"5"===t&&i.addClass(n,"px-5"),"6"===t&&i.addClass(n,"px-6"),"7"===t&&i.addClass(n,"px-7"),"8"===t&&i.addClass(n,"px-8"),"9"===t&&i.addClass(n,"px-9"),"10"===t&&i.addClass(n,"px-10"),"11"===t&&i.addClass(n,"px-11"),"12"===t&&i.addClass(n,"px-12"),"14"===t&&i.addClass(n,"px-14"),this.applyDefault(n);s.querySelectorAll(".paddingx-command").forEach((e=>{i.removeClass(e,"on")})),i.addClass(e,"on"),this.builder.opts.onChange()}))})),o=s.querySelectorAll(".paddingy-command"),Array.prototype.forEach.call(o,(e=>{e.addEventListener("click",(()=>{this.builder.uo.saveForUndo();const t=e.getAttribute("data-command"),n=this.builder.activeButton||this.builder.activeLinkButton;i.removeClassesByPrefix(n,"py-"),"0"===t&&i.addClass(n,"py-0"),"1"===t&&i.addClass(n,"py-1"),"2"===t&&i.addClass(n,"py-2"),"3"===t&&i.addClass(n,"py-3"),"4"===t&&i.addClass(n,"py-4"),"5"===t&&i.addClass(n,"py-5"),"6"===t&&i.addClass(n,"py-6"),this.applyDefault(n);s.querySelectorAll(".paddingy-command").forEach((e=>{i.removeClass(e,"on")})),i.addClass(e,"on"),this.builder.opts.onChange()}))})),o=s.querySelectorAll(".paddingtop-command"),Array.prototype.forEach.call(o,(e=>{e.addEventListener("click",(()=>{this.builder.uo.saveForUndo();const t=e.getAttribute("data-command"),n=this.builder.activeButton||this.builder.activeLinkButton;i.removeClassesByPrefix(n,"pt-"),"0"===t&&i.addClass(n,"pt-0"),"1"===t&&i.addClass(n,"pt-1"),"2"===t&&i.addClass(n,"pt-2"),"3"===t&&i.addClass(n,"pt-3"),"4"===t&&i.addClass(n,"pt-4"),"5"===t&&i.addClass(n,"pt-5"),"6"===t&&i.addClass(n,"pt-6"),(n.classList.contains("pt-0")||n.classList.contains("pt-1")||n.classList.contains("pt-2")||n.classList.contains("pt-3")||n.classList.contains("pt-4")||n.classList.contains("pt-5"))&&(n.classList.contains("pt-0")||n.classList.contains("pb-1")||n.classList.contains("pb-2")||n.classList.contains("pb-3")||n.classList.contains("pb-4")||n.classList.contains("pb-5"))&&(n.classList.remove("py-0"),n.classList.remove("py-1"),n.classList.remove("py-2"),n.classList.remove("py-3"),n.classList.remove("py-4"),n.classList.remove("p5-4")),this.applyDefault(n);s.querySelectorAll(".paddingtop-command").forEach((e=>{i.removeClass(e,"on")})),i.addClass(e,"on"),this.builder.opts.onChange()}))})),o=s.querySelectorAll(".paddingbottom-command"),Array.prototype.forEach.call(o,(e=>{e.addEventListener("click",(()=>{this.builder.uo.saveForUndo();const t=e.getAttribute("data-command"),n=this.builder.activeButton||this.builder.activeLinkButton;i.removeClassesByPrefix(n,"pb-"),"0"===t&&i.addClass(n,"pb-0"),"1"===t&&i.addClass(n,"pb-1"),"2"===t&&i.addClass(n,"pb-2"),"3"===t&&i.addClass(n,"pb-3"),"4"===t&&i.addClass(n,"pb-4"),"5"===t&&i.addClass(n,"pb-5"),"6"===t&&i.addClass(n,"pb-6"),(n.classList.contains("pt-0")||n.classList.contains("pt-1")||n.classList.contains("pt-2")||n.classList.contains("pt-3")||n.classList.contains("pt-4")||n.classList.contains("pt-5"))&&(n.classList.contains("pt-0")||n.classList.contains("pb-1")||n.classList.contains("pb-2")||n.classList.contains("pb-3")||n.classList.contains("pb-4")||n.classList.contains("pb-5"))&&(n.classList.remove("py-0"),n.classList.remove("py-1"),n.classList.remove("py-2"),n.classList.remove("py-3"),n.classList.remove("py-4"),n.classList.remove("p5-4")),this.applyDefault(n);s.querySelectorAll(".paddingbottom-command").forEach((e=>{i.removeClass(e,"on")})),i.addClass(e,"on"),this.builder.opts.onChange()}))})),o=s.querySelectorAll(".font-size-command"),Array.prototype.forEach.call(o,(e=>{e.addEventListener("click",(()=>{this.builder.uo.saveForUndo();const t=e.getAttribute("data-command"),n=this.builder.activeButton||this.builder.activeLinkButton;i.removeClassesByPrefix(n,"size-"),i.addClass(n,"size-"+t),this.applyDefault(n);s.querySelectorAll(".font-size-command").forEach((e=>{i.removeClass(e,"on")})),i.addClass(e,"on"),this.builder.opts.onChange()}))})),o=s.querySelectorAll(".width-command"),Array.prototype.forEach.call(o,(e=>{e.addEventListener("click",(()=>{this.builder.uo.saveForUndo();const t=e.getAttribute("data-command"),n=this.builder.activeButton||this.builder.activeLinkButton;"auto"===t&&(n.classList.remove("flex"),n.classList.remove("justify-center"),n.classList.remove("items-center"),n.classList.add("inline-block")),"full"===t&&(n.classList.remove("inline-block"),n.classList.add("flex"),n.classList.add("justify-center"),n.classList.add("items-center")),this.applyDefault(n);s.querySelectorAll(".width-command").forEach((e=>{i.removeClass(e,"on")})),i.addClass(e,"on"),this.builder.opts.onChange()}))}));s.querySelector(".textcase-command").addEventListener("click",(()=>{this.builder.uo.saveForUndo();const e=this.builder.activeButton||this.builder.activeLinkButton;i.hasClass(e,"uppercase")?i.removeClass(e,"uppercase"):i.addClass(e,"uppercase"),this.applyDefault(e);const t=s.querySelector(".textcase-command");i.hasClass(t,"on")?i.removeClass(t,"on"):i.addClass(t,"on"),this.builder.opts.onChange()}));s.querySelector(".textunderline-command").addEventListener("click",(()=>{this.builder.uo.saveForUndo();const e=this.builder.activeButton||this.builder.activeLinkButton;i.hasClass(e,"underline")?(i.removeClass(e,"underline"),i.addClass(e,"no-underline")):(i.removeClass(e,"no-underline"),i.addClass(e,"underline")),this.applyDefault(e);const t=s.querySelector(".textunderline-command");i.hasClass(t,"on")?i.removeClass(t,"on"):i.addClass(t,"on"),this.builder.opts.onChange()}));s.querySelector(".textbold-command").addEventListener("click",(()=>{this.builder.uo.saveForUndo();const e=this.builder.activeButton||this.builder.activeLinkButton;i.hasClass(e,"font-semibold")?(i.removeClass(e,"font-semibold"),i.addClass(e,"font-normal")):(i.removeClass(e,"font-normal"),i.addClass(e,"font-semibold")),this.applyDefault(e);const t=s.querySelector(".textbold-command");i.hasClass(t,"on")?i.removeClass(t,"on"):i.addClass(t,"on"),this.builder.opts.onChange()})),o=s.querySelectorAll(".letter-spacing-command"),Array.prototype.forEach.call(o,(e=>{e.addEventListener("click",(()=>{this.builder.uo.saveForUndo();const t=e.getAttribute("data-command"),n=this.builder.activeButton||this.builder.activeLinkButton;i.removeClassesByPrefix(n,"tracking-"),i.addClass(n,"tracking-"+t),this.applyDefault(n);s.querySelectorAll(".letter-spacing-command").forEach((e=>{i.removeClass(e,"on")})),i.addClass(e,"on"),this.builder.opts.onChange()}))})),o=s.querySelectorAll(".ml-command"),Array.prototype.forEach.call(o,(e=>{e.addEventListener("click",(()=>{this.builder.uo.saveForUndo();const t=e.getAttribute("data-command"),n=this.builder.activeButton||this.builder.activeLinkButton;i.removeClassesByPrefix(n,"ml-"),i.addClass(n,"ml-"+t),this.applyDefault(n);s.querySelectorAll(".ml-command").forEach((e=>{i.removeClass(e,"on")})),i.addClass(e,"on"),this.builder.opts.onChange()}))})),o=s.querySelectorAll(".mr-command"),Array.prototype.forEach.call(o,(e=>{e.addEventListener("click",(()=>{this.builder.uo.saveForUndo();const t=e.getAttribute("data-command"),n=this.builder.activeButton||this.builder.activeLinkButton;i.removeClassesByPrefix(n,"mr-"),i.addClass(n,"mr-"+t),this.applyDefault(n);s.querySelectorAll(".mr-command").forEach((e=>{i.removeClass(e,"on")})),i.addClass(e,"on"),this.builder.opts.onChange()}))})),o=s.querySelectorAll(".mt-command"),Array.prototype.forEach.call(o,(e=>{e.addEventListener("click",(()=>{this.builder.uo.saveForUndo();const t=e.getAttribute("data-command"),n=this.builder.activeButton||this.builder.activeLinkButton;i.removeClassesByPrefix(n,"mt-"),i.addClass(n,"mt-"+t),this.applyDefault(n);s.querySelectorAll(".mt-command").forEach((e=>{i.removeClass(e,"on")})),i.addClass(e,"on"),this.builder.opts.onChange()}))})),o=s.querySelectorAll(".mb-command"),Array.prototype.forEach.call(o,(e=>{e.addEventListener("click",(()=>{this.builder.uo.saveForUndo();const t=e.getAttribute("data-command"),n=this.builder.activeButton||this.builder.activeLinkButton;i.removeClassesByPrefix(n,"mb-"),i.addClass(n,"mb-"+t),this.applyDefault(n);s.querySelectorAll(".mb-command").forEach((e=>{i.removeClass(e,"on")})),i.addClass(e,"on"),this.builder.opts.onChange()}))}));s.querySelector(".input-save").addEventListener("click",(()=>{const e=this.builder.activeButton||this.builder.activeLinkButton;let t=[];null!=localStorage.getItem("_savedbuttons")&&(t=JSON.parse(localStorage.getItem("_savedbuttons"))),i.removeClass(e,"active"),i.removeClass(e,"elm-active");let n=e.getAttribute("data-bg");const s=e.getAttribute("data-hover-bg"),o=e.style.cssText;t.push({id:t.length,className:e.className,bg:n||"",hoverBg:s||"",cssText:o}),localStorage.setItem("_savedbuttons",JSON.stringify(t)),this.renderMyButtons()}))}this.buttonModal=s}open(){this.util.showModal(this.buttonModal,!1),this.realtime(),this.renderMyButtons(),this.renderTemplates()}realtime(){const e=this.dom,t=this.builder.activeButton||this.builder.activeLinkButton,i=this.buttonModal.querySelector(".bg-color-command");let n;i.style.backgroundColor="";const s=this.buttonModal.querySelector(".text-color-command");s.style.backgroundColor="";const o=this.buttonModal.querySelector(".bg-color-hover-command");let a;o.style.backgroundColor="",t.classList&&t.classList.forEach((e=>{0===e.indexOf("hover:bg-")&&this.getVisibleBgColor(e.replace("hover:",""),(e=>{o.style.backgroundColor=e,t.setAttribute("data-hover-bg",e),t.hasAttribute("data-bg")||t.setAttribute("data-bg",i.style.backgroundColor),t.setAttribute("onmouseover","if(this.getAttribute('data-hover-bg'))this.style.backgroundColor=this.getAttribute('data-hover-bg');"),t.setAttribute("onmouseout","if(this.getAttribute('data-bg'))this.style.backgroundColor=this.getAttribute('data-bg');else this.style.backgroundColor=''")})),0===e.indexOf("bg-")&&this.getVisibleBgColor(e,(e=>{i.style.backgroundColor=e,t.setAttribute("data-bg",e)})),0===e.indexOf("text-")&&this.getVisibleTextColor(e,(e=>{s.style.backgroundColor=e,n=e}))})),n||(n=e.getStyle(t,"color"),s.style.backgroundColor=n),t.hasAttribute("data-bg")?i.style.backgroundColor=t.getAttribute("data-bg"):t.style.backgroundColor&&(i.style.backgroundColor=t.style.backgroundColor),t.getAttribute("data-hover-bg")&&(o.style.backgroundColor=t.getAttribute("data-hover-bg")),t.style.color&&(s.style.backgroundColor=t.style.color),a=this.buttonModal.querySelector(".text-color-hover-command.on"),e.removeClass(a,"on"),e.hasClass(t,"hover:text-black")?(a=this.buttonModal.querySelector('.text-color-hover-command[data-command="dark"]'),e.addClass(a,"on")):e.hasClass(t,"hover:text-white")?(a=this.buttonModal.querySelector('.text-color-hover-command[data-command="light"]'),e.addClass(a,"on")):(a=this.buttonModal.querySelector('.text-color-hover-command[data-command="current"]'),e.addClass(a,"on")),a=this.buttonModal.querySelector(".border-color-hover-command.on"),e.removeClass(a,"on"),e.hasClass(t,"hover:border-transparent")?(a=this.buttonModal.querySelector('.border-color-hover-command[data-command="transparent"]'),e.addClass(a,"on")):e.hasClass(t,"hover:border-current")&&(a=this.buttonModal.querySelector('.border-color-hover-command[data-command="current"]'),e.addClass(a,"on")),a=this.buttonModal.querySelector(".border-color-command.on"),e.removeClass(a,"on"),e.hasClass(t,"border-transparent")?(a=this.buttonModal.querySelector('.border-color-command[data-command="transparent"]'),e.addClass(a,"on")):e.hasClass(t,"border-current")&&(a=this.buttonModal.querySelector('.border-color-command[data-command="current"]'),e.addClass(a,"on")),a=this.buttonModal.querySelector(".width-command.on"),e.removeClass(a,"on"),e.hasClass(t,"flex")?(a=this.buttonModal.querySelector('.width-command[data-command="full"]'),e.addClass(a,"on")):(a=this.buttonModal.querySelector('.width-command[data-command="auto"]'),e.addClass(a,"on")),a=this.buttonModal.querySelector(".textcase-command"),e.hasClass(t,"uppercase")?e.addClass(a,"on"):e.removeClass(a,"on"),a=this.buttonModal.querySelector(".textunderline-command"),e.hasClass(t,"underline")?e.addClass(a,"on"):e.removeClass(a,"on"),a=this.buttonModal.querySelector(".font-size-command.on"),e.removeClass(a,"on"),a=this.buttonModal.querySelector(".paddingx-command.on"),e.removeClass(a,"on"),a=this.buttonModal.querySelector(".paddingy-command.on"),e.removeClass(a,"on"),a=this.buttonModal.querySelector(".paddingtop-command.on"),e.removeClass(a,"on"),a=this.buttonModal.querySelector(".paddingbottom-command.on"),e.removeClass(a,"on"),a=this.buttonModal.querySelector(".border-radius-command.on"),e.removeClass(a,"on"),a=this.buttonModal.querySelector(".letter-spacing-command.on"),e.removeClass(a,"on"),a=this.buttonModal.querySelector(".ml-command.on"),e.removeClass(a,"on"),a=this.buttonModal.querySelector(".mr-command.on"),e.removeClass(a,"on"),a=this.buttonModal.querySelector(".mt-command.on"),e.removeClass(a,"on"),a=this.buttonModal.querySelector(".mb-command.on"),e.removeClass(a,"on"),a=this.buttonModal.querySelector(".textbold-command"),e.hasClass(t,"font-semibold")?e.addClass(a,"on"):e.removeClass(a,"on"),e.hasClass(t,"rounded")&&(a=this.buttonModal.querySelector('.border-radius-command[data-command="normal"]'),e.addClass(a,"on")),a=this.buttonModal.querySelector(".border-width-command.on"),e.removeClass(a,"on"),e.hasClass(t,"border-0")?(a=this.buttonModal.querySelector('.border-width-command[data-command="0"]'),e.addClass(a,"on")):e.hasClass(t,"border-2")?(a=this.buttonModal.querySelector('.border-width-command[data-command="2"]'),e.addClass(a,"on")):e.hasClass(t,"border")&&(a=this.buttonModal.querySelector('.border-width-command[data-command="1"]'),e.addClass(a,"on")),t.classList&&t.classList.forEach((i=>{if(0===i.indexOf("size-")){let t=i.replace("size-",""),n=this.buttonModal.querySelector(`.font-size-command[data-command="${t}"]`);e.addClass(n,"on")}if(0===i.indexOf("px-")){let t=i.replace("px-",""),n=this.buttonModal.querySelector(`.paddingx-command[data-command="${t}"]`);e.addClass(n,"on")}if(0===i.indexOf("py-")){let n=i.replace("py-",""),s=this.buttonModal.querySelector(`.paddingy-command[data-command="${n}"]`);if(e.addClass(s,"on"),!(t.classList.contains("pt-0")||t.classList.contains("pt-1")||t.classList.contains("pt-2")||t.classList.contains("pt-3")||t.classList.contains("pt-4")||t.classList.contains("pt-5"))){let t=this.buttonModal.querySelector(`.paddingtop-command[data-command="${n}"]`);e.addClass(t,"on")}if(!(t.classList.contains("pb-0")||t.classList.contains("pb-1")||t.classList.contains("pb-2")||t.classList.contains("pb-3")||t.classList.contains("pb-4")||t.classList.contains("pb-5"))){let t=this.buttonModal.querySelector(`.paddingbottom-command[data-command="${n}"]`);e.addClass(t,"on")}}if(0===i.indexOf("pt-")){let t=i.replace("pt-",""),n=this.buttonModal.querySelector(`.paddingtop-command[data-command="${t}"]`);e.addClass(n,"on")}if(0===i.indexOf("pb-")){let t=i.replace("pb-",""),n=this.buttonModal.querySelector(`.paddingbottom-command[data-command="${t}"]`);e.addClass(n,"on")}if(0===i.indexOf("rounded-")){let t=i.replace("rounded-",""),n=this.buttonModal.querySelector(`.border-radius-command[data-command="${t}"]`);e.addClass(n,"on")}if(0===i.indexOf("tracking-")){let t=i.replace("tracking-",""),n=this.buttonModal.querySelector(`.letter-spacing-command[data-command="${t}"]`);e.addClass(n,"on")}if(0===i.indexOf("ml-")){let t=i.replace("ml-",""),n=this.buttonModal.querySelector(`.ml-command[data-command="${t}"]`);e.addClass(n,"on")}if(0===i.indexOf("mr-")){let t=i.replace("mr-",""),n=this.buttonModal.querySelector(`.mr-command[data-command="${t}"]`);e.addClass(n,"on")}if(0===i.indexOf("mt-")){let t=i.replace("mt-",""),n=this.buttonModal.querySelector(`.mt-command[data-command="${t}"]`);e.addClass(n,"on")}if(0===i.indexOf("mb-")){let t=i.replace("mb-",""),n=this.buttonModal.querySelector(`.mb-command[data-command="${t}"]`);e.addClass(n,"on")}}))}hide(){this.dom.removeClass(this.buttonModal,"active")}getVisibleBgColor(e,t){const i=this.dom,n=document.createElement("div");n.className=e,this.builderStuff.appendChild(n),t(i.getStyle(n,"background-color")),this.builderStuff.removeChild(n)}getVisibleTextColor(e,t){const i=this.dom,n=document.createElement("div");n.className=e,this.builderStuff.appendChild(n),t(i.getStyle(n,"color")),this.builderStuff.removeChild(n)}renderTemplates(){const e=[{html:'\n                <a href="#" role="button" class="transition-all inline-block whitespace-nowrap cursor-pointer no-underline border-2 border-solid mr-2 mt-2 mb-1 py-2 size-17 px-7 border-current hover:border-current font-normal leading-14 rounded-full tracking-wide">Read More</a>\n                '},{html:'\n                <a href="#" role="button" class="transition-all inline-block whitespace-nowrap cursor-pointer no-underline border-2 border-solid mr-2 mt-2 mb-1 py-2 size-17 px-7 text-black leading-14 rounded-full border-transparent hover:border-transparent font-normal tracking-wide" style="background-color: rgb(240, 240, 240);">Get Started</a>\n                '},{html:'\n                <a href="#" role="button" class="transition-all inline-block whitespace-nowrap cursor-pointer no-underline border-2 border-solid mr-2 mt-2 mb-1 py-2 px-7 font-normal leading-14 border-transparent rounded-full size-17 tracking-wide hover:border-transparent" style="color: rgb(255, 255, 255); background-color: rgb(255, 127, 0);">Get Started</a>\n                '},{html:'\n                <a href="#" role="button" class="transition-all inline-block whitespace-nowrap cursor-pointer no-underline border-2 border-solid mr-2 mt-2 mb-1 py-2 px-7 font-normal leading-14 border-transparent rounded-full size-17 tracking-wide hover:border-transparent" style="color: rgb(255, 255, 255); background-color: rgb(83,98,208);">Get Started</a>\n                '},{html:'\n                <a href="#" role="button" class="transition-all inline-block whitespace-nowrap cursor-pointer no-underline border-2 border-solid mr-2 mt-2 mb-1 py-2 px-7 font-normal leading-14 border-transparent rounded-full size-17 tracking-wide hover:border-transparent" style="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255);">Get Started</a>\n                '},{html:'\n                <a href="#" role="button" class="transition-all inline-block whitespace-nowrap cursor-pointer no-underline border-2 border-solid mr-2 mt-2 mb-1 py-2 size-17 px-7 border-current hover:border-current font-normal leading-14 tracking-wide rounded-full" style="color: rgb(255, 255, 255);">Get Started</a>\n                '},{html:'\n                <a href="#" role="button" class="transition-all inline-block whitespace-nowrap cursor-pointer no-underline border-2 border-solid mr-2 mt-2 mb-1 py-2 px-7 font-normal leading-14 border-transparent rounded-full size-17 tracking-wide hover:border-transparent" style="color: rgb(255, 255, 255); background-color: rgb(0, 200, 218);">Get Started</a>\n                '},{html:'\n                <a href="#" role="button" class="transition-all inline-block whitespace-nowrap cursor-pointer no-underline border-2 border-solid mr-2 mt-2 mb-1 py-2 px-7 font-normal leading-14 border-transparent rounded-full size-17 tracking-wide hover:border-transparent" style="color: rgb(255, 255, 255); background-color: rgb(55, 148, 59);">Get Started</a>\n                '},{html:'\n                <a href="#" role="button" class="transition-all inline-block whitespace-nowrap cursor-pointer no-underline border-2 border-solid mr-2 mt-2 mb-1 py-2 px-7 font-normal leading-14 border-transparent rounded-full size-17 tracking-wide hover:border-transparent" style="color: rgb(255, 255, 255); background-color: rgb(233,2,0);">Get Started</a>\n                '},{html:'\n                <a href="#" role="button" class="transition-all inline-block whitespace-nowrap cursor-pointer no-underline border-2 border-solid mr-2 mt-2 mb-1 py-2 px-7 font-normal leading-14 border-transparent rounded-full size-17 tracking-wide hover:border-transparent" style="color: rgb(0, 0, 0); background-color: rgb(254, 222, 76);">Get Started</a>\n                '},{html:'\n                <a href="#" role="button" class="transition-all inline-block whitespace-nowrap cursor-pointer no-underline border-2 border-solid mr-2 mt-2 mb-1 py-2 size-17 px-6 border-current hover:border-current font-normal leading-14 rounded tracking-wide">Read More</a>\n                '},{html:'\n                <a href="#" role="button" class="transition-all inline-block whitespace-nowrap cursor-pointer no-underline border-2 border-solid mr-2 mt-2 mb-1 py-2 size-17 px-6 text-black leading-14 rounded border-transparent hover:border-transparent font-normal tracking-wide" style="background-color: rgb(240, 240, 240);">Get Started</a>\n                '},{html:'\n                <a href="#" role="button" class="transition-all inline-block whitespace-nowrap cursor-pointer no-underline border-2 border-solid mr-2 mt-2 mb-1 py-2 px-6 font-normal leading-14 border-transparent rounded size-17 tracking-wide hover:border-transparent" style="color: rgb(255, 255, 255); background-color: rgb(255, 127, 0);">Get Started</a>\n                '},{html:'\n                <a href="#" role="button" class="transition-all inline-block whitespace-nowrap cursor-pointer no-underline border-2 border-solid mr-2 mt-2 mb-1 py-2 px-6 font-normal leading-14 border-transparent rounded size-17 tracking-wide hover:border-transparent" style="color: rgb(255, 255, 255); background-color: rgb(83,98,208);">Get Started</a>\n                '},{html:'\n                <a href="#" role="button" class="transition-all inline-block whitespace-nowrap cursor-pointer no-underline border-2 border-solid mr-2 mt-2 mb-1 py-2 px-6 font-normal leading-14 border-transparent rounded size-17 tracking-wide hover:border-transparent" style="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255);">Get Started</a>\n                '},{html:'\n                <a href="#" role="button" class="transition-all inline-block whitespace-nowrap cursor-pointer no-underline border-2 border-solid mr-2 mt-2 mb-1 py-2 size-17 px-6 border-current hover:border-current font-normal leading-14 tracking-wide rounded" style="color: rgb(255, 255, 255);">Get Started</a>\n                '},{html:'\n                <a href="#" role="button" class="transition-all inline-block whitespace-nowrap cursor-pointer no-underline border-2 border-solid mr-2 mt-2 mb-1 py-2 px-6 font-normal leading-14 border-transparent rounded size-17 tracking-wide hover:border-transparent" style="color: rgb(255, 255, 255); background-color: rgb(0, 200, 218);">Get Started</a>\n                '},{html:'\n                <a href="#" role="button" class="transition-all inline-block whitespace-nowrap cursor-pointer no-underline border-2 border-solid mr-2 mt-2 mb-1 py-2 px-6 font-normal leading-14 border-transparent rounded size-17 tracking-wide hover:border-transparent" style="color: rgb(255, 255, 255); background-color: rgb(55, 148, 59);">Get Started</a>\n                '},{html:'\n                <a href="#" role="button" class="transition-all inline-block whitespace-nowrap cursor-pointer no-underline border-2 border-solid mr-2 mt-2 mb-1 py-2 px-6 font-normal leading-14 border-transparent rounded size-17 tracking-wide hover:border-transparent" style="color: rgb(255, 255, 255); background-color: rgb(233,2,0);">Get Started</a>\n                '},{html:'\n                <a href="#" role="button" class="transition-all inline-block whitespace-nowrap cursor-pointer no-underline border-2 border-solid mr-2 mt-2 mb-1 py-2 px-6 font-normal leading-14 border-transparent rounded ml-0 mt-1 size-17 tracking-wide hover:border-transparent" style="color: rgb(0, 0, 0); background-color: rgb(254, 222, 76);">Get Started</a>\n                '},{html:'\n                <a href="#" role="button" class="transition-all inline-block whitespace-nowrap cursor-pointer no-underline border-2 border-solid mr-2 mt-2 mb-1 py-2 size-18 px-9 border-current hover:border-current font-normal leading-relaxed rounded-full tracking-wide">Read More</a>\n                '},{html:'\n                <a href="#" role="button" class="transition-all inline-block whitespace-nowrap cursor-pointer no-underline border-2 border-solid mr-2 mt-2 mb-1 py-2 size-18 px-9 text-black leading-relaxed rounded-full border-transparent hover:border-transparent font-normal tracking-wide" style="background-color: rgb(240, 240, 240);">Get Started</a>\n                '},{html:'\n                <a href="#" role="button" class="transition-all inline-block whitespace-nowrap cursor-pointer no-underline border-2 border-solid mr-2 mt-2 mb-1 py-2 px-9 font-normal leading-relaxed border-transparent rounded-full size-18 tracking-wide hover:border-transparent" style="color: rgb(255, 255, 255); background-color: rgb(255, 127, 0);">Get Started</a>\n                '},{html:'\n                <a href="#" role="button" class="transition-all inline-block whitespace-nowrap cursor-pointer no-underline border-2 border-solid mr-2 mt-2 mb-1 py-2 px-9 font-normal leading-relaxed border-transparent rounded-full size-18 tracking-wide hover:border-transparent" style="color: rgb(255, 255, 255); background-color: rgb(83,98,208);">Get Started</a>\n                '},{html:'\n                <a href="#" role="button" class="transition-all inline-block whitespace-nowrap cursor-pointer no-underline border-2 border-solid mr-2 mt-2 mb-1 py-2 px-9 font-normal leading-relaxed border-transparent rounded-full size-18 tracking-wide hover:border-transparent" style="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255);">Get Started</a>\n                '},{html:'\n                <a href="#" role="button" class="transition-all inline-block whitespace-nowrap cursor-pointer no-underline border-2 border-solid mr-2 mt-2 mb-1 py-2 size-18 px-9 border-current hover:border-current font-normal leading-relaxed tracking-wide rounded-full" style="color: rgb(255, 255, 255);">Get Started</a>\n                '},{html:'\n                <a href="#" role="button" class="transition-all inline-block whitespace-nowrap cursor-pointer no-underline border-2 border-solid mr-2 mt-2 mb-1 py-2 px-9 font-normal leading-relaxed border-transparent rounded-full size-18 tracking-wide hover:border-transparent" style="color: rgb(255, 255, 255); background-color: rgb(0, 200, 218);">Get Started</a>\n                '},{html:'\n                <a href="#" role="button" class="transition-all inline-block whitespace-nowrap cursor-pointer no-underline border-2 border-solid mr-2 mt-2 mb-1 py-2 px-9 font-normal leading-relaxed border-transparent rounded-full size-18 tracking-wide hover:border-transparent" style="color: rgb(255, 255, 255); background-color: rgb(55, 148, 59);">Get Started</a>\n                '},{html:'\n                <a href="#" role="button" class="transition-all inline-block whitespace-nowrap cursor-pointer no-underline border-2 border-solid mr-2 mt-2 mb-1 py-2 px-9 font-normal leading-relaxed border-transparent rounded-full size-18 tracking-wide hover:border-transparent" style="color: rgb(255, 255, 255); background-color: rgb(233,2,0);">Get Started</a>\n                '},{html:'\n                <a href="#" role="button" class="transition-all inline-block whitespace-nowrap cursor-pointer no-underline border-2 border-solid mr-2 mt-2 mb-1 py-2 px-9 font-normal leading-relaxed border-transparent rounded-full size-18 tracking-wide hover:border-transparent" style="color: rgb(0, 0, 0); background-color: rgb(254, 222, 76);">Get Started</a>\n                '},{html:'\n                <a href="#" role="button" class="transition-all inline-block whitespace-nowrap cursor-pointer no-underline border-2 border-solid mr-2 mt-2 mb-1 py-2 size-18 px-8 border-current hover:border-current font-normal leading-relaxed rounded tracking-wide">Read More</a>\n                '},{html:'\n                <a href="#" role="button" class="transition-all inline-block whitespace-nowrap cursor-pointer no-underline border-2 border-solid mr-2 mt-2 mb-1 py-2 size-18 px-8 text-black leading-relaxed rounded border-transparent hover:border-transparent font-normal tracking-wide" style="background-color: rgb(240, 240, 240);">Get Started</a>\n                '},{html:'\n                <a href="#" role="button" class="transition-all inline-block whitespace-nowrap cursor-pointer no-underline border-2 border-solid mr-2 mt-2 mb-1 py-2 px-8 font-normal leading-relaxed border-transparent rounded size-18 tracking-wide hover:border-transparent" style="color: rgb(255, 255, 255); background-color: rgb(255, 127, 0);">Get Started</a>\n                '},{html:'\n                <a href="#" role="button" class="transition-all inline-block whitespace-nowrap cursor-pointer no-underline border-2 border-solid mr-2 mt-2 mb-1 py-2 px-8 font-normal leading-relaxed border-transparent rounded size-18 tracking-wide hover:border-transparent" style="color: rgb(255, 255, 255); background-color: rgb(83,98,208);">Get Started</a>\n                '},{html:'\n                <a href="#" role="button" class="transition-all inline-block whitespace-nowrap cursor-pointer no-underline border-2 border-solid mr-2 mt-2 mb-1 py-2 px-8 font-normal leading-relaxed border-transparent rounded size-18 tracking-wide hover:border-transparent" style="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255);">Get Started</a>\n                '},{html:'\n                <a href="#" role="button" class="transition-all inline-block whitespace-nowrap cursor-pointer no-underline border-2 border-solid mr-2 mt-2 mb-1 py-2 size-18 px-8 border-current hover:border-current font-normal leading-relaxed tracking-wide rounded" style="color: rgb(255, 255, 255);">Get Started</a>\n                '},{html:'\n                <a href="#" role="button" class="transition-all inline-block whitespace-nowrap cursor-pointer no-underline border-2 border-solid mr-2 mt-2 mb-1 py-2 px-8 font-normal leading-relaxed border-transparent rounded size-18 tracking-wide hover:border-transparent" style="color: rgb(255, 255, 255); background-color: rgb(0, 200, 218);">Get Started</a>\n                '},{html:'\n                <a href="#" role="button" class="transition-all inline-block whitespace-nowrap cursor-pointer no-underline border-2 border-solid mr-2 mt-2 mb-1 py-2 px-8 font-normal leading-relaxed border-transparent rounded size-18 tracking-wide hover:border-transparent" style="color: rgb(255, 255, 255); background-color: rgb(55, 148, 59);">Get Started</a>\n                '},{html:'\n                <a href="#" role="button" class="transition-all inline-block whitespace-nowrap cursor-pointer no-underline border-2 border-solid mr-2 mt-2 mb-1 py-2 px-8 font-normal leading-relaxed border-transparent rounded size-18 tracking-wide hover:border-transparent" style="color: rgb(255, 255, 255); background-color: rgb(233,2,0);">Get Started</a>\n                '},{html:'\n                <a href="#" role="button" class="transition-all inline-block whitespace-nowrap cursor-pointer no-underline border-2 border-solid mr-2 mt-2 mb-1 py-2 px-8 font-normal leading-relaxed border-transparent rounded ml-0 mt-1 size-18 tracking-wide hover:border-transparent" style="color: rgb(0, 0, 0); background-color: rgb(254, 222, 76);">Get Started</a>\n                '},{html:'\n                <a href="#" role="button" class="transition-all inline-block whitespace-nowrap cursor-pointer no-underline border-2 border-solid mr-2 mt-2 mb-1 pt-3 pb-3 size-16 px-12 uppercase border-current hover:border-current font-normal leading-relaxed rounded-full tracking-75">Read More</a>\n                '},{html:'\n                <a href="#" role="button" class="transition-all inline-block whitespace-nowrap cursor-pointer no-underline border-2 border-solid mr-2 mt-2 mb-1 pt-3 pb-3 size-16 px-12 uppercase text-black leading-relaxed rounded-full border-transparent hover:border-transparent font-normal tracking-75" style="background-color: rgb(240, 240, 240);">Get Started</a>\n                '},{html:'\n                <a href="#" role="button" class="transition-all inline-block whitespace-nowrap cursor-pointer no-underline border-2 border-solid mr-2 mt-2 mb-1 pt-3 pb-3 px-12 uppercase font-normal leading-relaxed border-transparent rounded-full size-16 tracking-75 hover:border-transparent" style="color: rgb(255, 255, 255); background-color: rgb(255, 127, 0);">Get Started</a>\n                '},{html:'\n                <a href="#" role="button" class="transition-all inline-block whitespace-nowrap cursor-pointer no-underline border-2 border-solid mr-2 mt-2 mb-1 pt-3 pb-3 px-12 uppercase font-normal leading-relaxed border-transparent rounded-full size-16 tracking-75 hover:border-transparent" style="color: rgb(255, 255, 255); background-color: rgb(83,98,208);">Get Started</a>\n                '},{html:'\n                <a href="#" role="button" class="transition-all inline-block whitespace-nowrap cursor-pointer no-underline border-2 border-solid mr-2 mt-2 mb-1 pt-3 pb-3 px-12 uppercase font-normal leading-relaxed border-transparent rounded-full size-16 tracking-75 hover:border-transparent" style="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255);">Get Started</a>\n                '},{html:'\n                <a href="#" role="button" class="transition-all inline-block whitespace-nowrap cursor-pointer no-underline border-2 border-solid mr-2 mt-2 mb-1 pt-3 pb-3 size-16 px-12 uppercase border-current hover:border-current font-normal leading-relaxed tracking-75 rounded-full" style="color: rgb(255, 255, 255);">Get Started</a>\n                '},{html:'\n                <a href="#" role="button" class="transition-all inline-block whitespace-nowrap cursor-pointer no-underline border-2 border-solid mr-2 mt-2 mb-1 pt-3 pb-3 px-12 uppercase font-normal leading-relaxed border-transparent rounded-full size-16 tracking-75 hover:border-transparent" style="color: rgb(255, 255, 255); background-color: rgb(0, 200, 218);">Get Started</a>\n                '},{html:'\n                <a href="#" role="button" class="transition-all inline-block whitespace-nowrap cursor-pointer no-underline border-2 border-solid mr-2 mt-2 mb-1 pt-3 pb-3 px-12 uppercase font-normal leading-relaxed border-transparent rounded-full size-16 tracking-75 hover:border-transparent" style="color: rgb(255, 255, 255); background-color: rgb(55, 148, 59);">Get Started</a>\n                '},{html:'\n                <a href="#" role="button" class="transition-all inline-block whitespace-nowrap cursor-pointer no-underline border-2 border-solid mr-2 mt-2 mb-1 pt-3 pb-3 px-12 uppercase font-normal leading-relaxed border-transparent rounded-full size-16 tracking-75 hover:border-transparent" style="color: rgb(255, 255, 255); background-color: rgb(233,2,0);">Get Started</a>\n                '},{html:'\n                <a href="#" role="button" class="transition-all inline-block whitespace-nowrap cursor-pointer no-underline border-2 border-solid mr-2 mt-2 mb-1 pt-3 pb-3 px-12 uppercase font-normal leading-relaxed border-transparent rounded-full size-16 tracking-75 hover:border-transparent" style="color: rgb(0, 0, 0); background-color: rgb(254, 222, 76);">Get Started</a>\n                '},{html:'\n                <a href="#" role="button" class="transition-all inline-block whitespace-nowrap cursor-pointer no-underline border-2 border-solid mr-2 mt-2 mb-1 pt-3 pb-3 size-16 px-11 uppercase border-current hover:border-current font-normal leading-relaxed rounded tracking-75">Read More</a>\n                '},{html:'\n                <a href="#" role="button" class="transition-all inline-block whitespace-nowrap cursor-pointer no-underline border-2 border-solid mr-2 mt-2 mb-1 pt-3 pb-3 size-16 px-11 uppercase text-black leading-relaxed rounded border-transparent hover:border-transparent font-normal tracking-75" style="background-color: rgb(240, 240, 240);">Get Started</a>\n                '},{html:'\n                <a href="#" role="button" class="transition-all inline-block whitespace-nowrap cursor-pointer no-underline border-2 border-solid mr-2 mt-2 mb-1 pt-3 pb-3 px-11 uppercase font-normal leading-relaxed border-transparent rounded size-16 tracking-75 hover:border-transparent" style="color: rgb(255, 255, 255); background-color: rgb(255, 127, 0);">Get Started</a>\n                '},{html:'\n                <a href="#" role="button" class="transition-all inline-block whitespace-nowrap cursor-pointer no-underline border-2 border-solid mr-2 mt-2 mb-1 pt-3 pb-3 px-11 uppercase font-normal leading-relaxed border-transparent rounded size-16 tracking-75 hover:border-transparent" style="color: rgb(255, 255, 255); background-color: rgb(83,98,208);">Get Started</a>\n                '},{html:'\n                <a href="#" role="button" class="transition-all inline-block whitespace-nowrap cursor-pointer no-underline border-2 border-solid mr-2 mt-2 mb-1 pt-3 pb-3 px-11 uppercase font-normal leading-relaxed border-transparent rounded size-16 tracking-75 hover:border-transparent" style="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255);">Get Started</a>\n                '},{html:'\n                <a href="#" role="button" class="transition-all inline-block whitespace-nowrap cursor-pointer no-underline border-2 border-solid mr-2 mt-2 mb-1 pt-3 pb-3 size-16 px-11 uppercase border-current hover:border-current font-normal leading-relaxed tracking-75 rounded" style="color: rgb(255, 255, 255);">Get Started</a>\n                '},{html:'\n                <a href="#" role="button" class="transition-all inline-block whitespace-nowrap cursor-pointer no-underline border-2 border-solid mr-2 mt-2 mb-1 pt-3 pb-3 px-11 uppercase font-normal leading-relaxed border-transparent rounded size-16 tracking-75 hover:border-transparent" style="color: rgb(255, 255, 255); background-color: rgb(0, 200, 218);">Get Started</a>\n                '},{html:'\n                <a href="#" role="button" class="transition-all inline-block whitespace-nowrap cursor-pointer no-underline border-2 border-solid mr-2 mt-2 mb-1 pt-3 pb-3 px-11 uppercase font-normal leading-relaxed border-transparent rounded size-16 tracking-75 hover:border-transparent" style="color: rgb(255, 255, 255); background-color: rgb(55, 148, 59);">Get Started</a>\n                '},{html:'\n                <a href="#" role="button" class="transition-all inline-block whitespace-nowrap cursor-pointer no-underline border-2 border-solid mr-2 mt-2 mb-1 pt-3 pb-3 px-11 uppercase font-normal leading-relaxed border-transparent rounded size-16 tracking-75 hover:border-transparent" style="color: rgb(255, 255, 255); background-color: rgb(233,2,0);">Get Started</a>\n                '},{html:'\n                <a href="#" role="button" class="transition-all inline-block whitespace-nowrap cursor-pointer no-underline border-2 border-solid mr-2 mt-2 mb-1 pt-3 pb-3 px-11 uppercase font-normal leading-relaxed border-transparent rounded ml-0 mt-1 size-16 tracking-75 hover:border-transparent" style="color: rgb(0, 0, 0); background-color: rgb(254, 222, 76);">Get Started</a>\n                '},{text:"Order Now",className:"transition-all inline-block whitespace-nowrap cursor-pointer no-underline border-2 border-solid rounded-full border-current ml-1 mr-1 px-8 py-2 text-pink-600 hover:text-white  bg-white hover:bg-pink-500 hover:border-transparent size-18 font-semibold tracking-75 leading-relaxed"},{text:"Explore",className:"transition-all inline-block whitespace-nowrap cursor-pointer no-underline font-semibold border-2 border-solid tracking-200 rounded-full border-current size-12 ml-1 mr-1 py-0 px-3 text-indigo-600 hover:text-white bg-white hover:bg-indigo-500 hover:border-transparent leading-relaxed"},{text:"View Demo",className:"transition-all inline-block whitespace-nowrap cursor-pointer no-underline border-2 border-solid border-transparent ml-1 mr-1 hover:border-transparent rounded bg-gray-200 hover:bg-gray-300 size-16 py-1 px-5 font-normal tracking-wide text-gray-800 leading-relaxed"},{text:"Get Started",className:"transition-all inline-block whitespace-nowrap cursor-pointer no-underline border-2 border-solid ml-1 mr-1 rounded size-16 text-black py-1 px-5 font-normal border-current hover: hover:border-current tracking-wide leading-relaxed"},{text:"Create",className:"transition-all inline-block whitespace-nowrap cursor-pointer no-underline border-2 border-solid border-transparent ml-1 mr-1 hover:border-transparent size-12 rounded bg-yellow-300 text-black bg-white hover:bg-yellow-400 font-normal px-3 py-0 tracking-75 leading-relaxed"},{text:"Hello!",className:"transition-all inline-block whitespace-nowrap cursor-pointer no-underline border-2 border-solid border-current ml-1 mr-1 hover:text-white hover:border-transparent rounded-lg size-24 font-normal py-2 tracking-150 px-12 text-orange-500 bg-white hover:bg-orange-500 leading-relaxed"},{text:"Build",className:"transition-all inline-block whitespace-nowrap cursor-pointer no-underline border-2 border-solid border-transparent ml-1 mr-1 text-violet-700 hover:border-transparent hover:bg-cyan-200 rounded uppercase size-12 tracking-75 px-4 py-1 font-semibold bg-cyan-200 leading-relaxed"},{text:"Contact",className:"transition-all inline-block whitespace-nowrap border-2 border-solid rounded-none no-underline hover:border-transparent ml-1 mr-1 cursor-pointer bg-white text-red-600 border-current hover:bg-red-600 hover:text-white uppercase size-12 font-semibold py-2 px-6 tracking-150 leading-relaxed"},{text:"Read More",className:"transition-all inline-block whitespace-nowrap cursor-pointer border-2 border-solid border-transparent ml-1 mr-1 hover:border-transparent rounded size-16 py-1 px-5 font-normal tracking-wide text-gray-800 underline leading-relaxed"},{text:"Send a Message",className:"transition-all inline-block whitespace-nowrap cursor-pointer no-underline border-2 border-solid ml-1 mr-1 rounded tracking-75 uppercase px-6 py-2 size-12 hover:border-transparent font-semibold bg-gray-200 border-transparent hover:bg-gray-300 text-gray-800 leading-relaxed"},{text:"Our Works",className:"transition-all inline-block whitespace-nowrap cursor-pointer no-underline border-2 border-solid ml-1 mr-1 rounded tracking-75 uppercase px-6 py-2 size-12 border-current hover:text-white hover:border-transparent hover:bg-indigo-500 text-indigo-500 font-semibold leading-relaxed"},{text:"Read More",className:"transition-all inline-block whitespace-nowrap cursor-pointer no-underline border-2 border-solid mr-1 tracking-75 uppercase py-2 size-14 px-8 rounded font-normal ml-1 border-transparent bg-gray-200 hover:bg-gray-300 hover:border-transparent text-gray-800 leading-relaxed"},{text:"Get a Quote",className:"transition-all inline-block whitespace-nowrap cursor-pointer no-underline border-2 border-solid mr-1 tracking-75 uppercase py-2 size-14 px-8 border-current rounded text-black hover:border-current font-normal ml-1 leading-relaxed"},{text:"Try Demo",className:"transition-all inline-block whitespace-nowrap cursor-pointer no-underline border-2 border-solid border-transparent hover:border-transparent bg-gray-200 hover:bg-gray-300 size-16 text-black font-normal uppercase py-3 px-11 tracking-75 mr-3 ml-0 rounded-md leading-relaxed"},{text:"Buy Now",className:"transition-all inline-block whitespace-nowrap cursor-pointer no-underline border-2 border-solid size-16 tracking-75 font-normal uppercase px-11 py-3 hover:text-white hover:bg-teal-500 bg-teal-400 text-white border-transparent hover:border-transparent ml-0 mr-2 rounded-md leading-relaxed"},{text:"Play",className:"transition-all inline-block whitespace-nowrap cursor-pointer no-underline border-2 border-solid ml-1 mr-1 size-16 text-black tracking-75 font-normal uppercase px-11 border-current hover:border-current py-3 rounded leading-relaxed"}];let t="";for(let i=0;i<e.length;i++)e[i].html?t+=e[i].html:t+=`<a class="${e[i].className}" href="#" role="button" tabindex="0">${e[i].text}</a>`;document.querySelector("#divButtonTemplateList").innerHTML=t;let i=this.buttonModal.querySelectorAll("#divButtonTemplateList a");Array.prototype.forEach.call(i,(e=>{e.addEventListener("click",(t=>{this.builder.uo.saveForUndo();const i=this.builder.activeButton||this.builder.activeLinkButton;return i.removeAttribute("style"),i.removeAttribute("onmouseover"),i.removeAttribute("onmouseout"),i.removeAttribute("data-bg"),i.removeAttribute("data-hover-bg"),i.setAttribute("class",e.getAttribute("class")),e.hasAttribute("style")&&i.setAttribute("style",e.getAttribute("style")),e.hasAttribute("onmouseover")&&i.setAttribute("onmouseover",e.getAttribute("onmouseover")),e.hasAttribute("onmouseout")&&i.setAttribute("onmouseout",e.getAttribute("onmouseout")),e.hasAttribute("data-bg")&&(i.setAttribute("data-bg",e.getAttribute("data-bg")),i.style.backgroundColor=e.getAttribute("data-bg")),e.hasAttribute("data-hover-bg")&&i.setAttribute("data-hover-bg",e.getAttribute("data-hover-bg")),i.classList.remove("active"),"a"===i.tagName.toLowerCase()&&i.setAttribute("role","button"),this.realtime(),this.builder.opts.onChange(),t.preventDefault(),!1}))}))}renderMyButtons(){const e=this.dom;if(!localStorage.getItem("_savedbuttons"))return;let t=JSON.parse(localStorage.getItem("_savedbuttons")),i="";for(let e=0;e<t.length;e++){let n="";""!==t[e].bg&&(n=` data-bg="${t[e].bg}"`);let s="";""!==t[e].hoverBg&&(s=` data-hover-bg="${t[e].hoverBg}"`),""!==s&&""===n&&(n=' data-bg=""'),i+=`<a data-id="${t[e].id}"${n}${s} class="${t[e].className}" href="#" style="${t[e].cssText}">Button<span class="is-button-remove"><svg class="is-icon-flex" style="fill:rgba(255, 255, 266, 1);width:20px;height:20px;"><use xlink:href="#ion-ios-close-empty"></use></svg></span></a>`}document.querySelector("#divMyButtonList").innerHTML=i;let n=this.buttonModal.querySelectorAll("#divMyButtonList a");Array.prototype.forEach.call(n,(t=>{t.getAttribute("data-hover-bg")&&(t.setAttribute("onmouseover","if(this.getAttribute('data-hover-bg'))this.style.backgroundColor=this.getAttribute('data-hover-bg');"),t.setAttribute("onmouseout","if(this.getAttribute('data-bg'))this.style.backgroundColor=this.getAttribute('data-bg');else this.style.backgroundColor=''")),t.addEventListener("click",(i=>{this.builder.uo.saveForUndo();const n=this.builder.activeButton||this.builder.activeLinkButton;var s=this.buttonModal.querySelectorAll("#divMyButtonList a");return Array.prototype.forEach.call(s,(t=>{e.removeClass(t,"active")})),e.addClass(t,"active"),n.removeAttribute("style"),n.removeAttribute("onmouseover"),n.removeAttribute("onmouseout"),n.removeAttribute("data-bg"),n.removeAttribute("data-hover-bg"),n.setAttribute("class",t.getAttribute("class")),t.hasAttribute("style")&&n.setAttribute("style",t.getAttribute("style")),t.hasAttribute("onmouseover")&&n.setAttribute("onmouseover",t.getAttribute("onmouseover")),t.hasAttribute("onmouseout")&&n.setAttribute("onmouseout",t.getAttribute("onmouseout")),t.hasAttribute("data-bg")&&(n.setAttribute("data-bg",t.getAttribute("data-bg")),n.style.backgroundColor=t.getAttribute("data-bg")),t.hasAttribute("data-hover-bg")&&n.setAttribute("data-hover-bg",t.getAttribute("data-hover-bg")),n.classList.remove("active"),"a"===n.tagName.toLowerCase()&&n.setAttribute("role","button"),this.builder.opts.onChange(),this.realtime(),i.preventDefault(),!1}))})),n=this.buttonModal.querySelectorAll(".is-button-remove"),Array.prototype.forEach.call(n,(e=>{e.addEventListener("click",(e=>{const t=e.target.closest("a").getAttribute("data-id");if(null!=localStorage.getItem("_savedbuttons")){let i=JSON.parse(localStorage.getItem("_savedbuttons"));for(let n=0;n<i.length;n++)if(i[n].id===parseInt(t)){i.splice(n,1);for(let e=0;e<i.length;e++)i[e].id=e;return localStorage.setItem("_savedbuttons",JSON.stringify(i)),this.renderMyButtons(),e.stopImmediatePropagation(),e.preventDefault(),!1}}return e.stopImmediatePropagation(),e.preventDefault(),!1}))}))}applyStyles(e,t){e.style.backgroundColor="",e.style.color="",e.className=t.className.replace(" active ","").replace("active ","").replace(" active","");const i=t.getAttribute("data-bg");i?(e.setAttribute("data-bg",i),e.style.backgroundColor=i):(e.removeAttribute("data-bg"),e.style.backgroundColor="");const n=t.getAttribute("data-hover-bg");n?e.setAttribute("data-hover-bg",n):e.removeAttribute("data-hover-bg"),t.style.color?e.style.color=t.style.color:t.style.color="",this.applyDefault(e),this.realtime()}applyDefault(e){const t=this.dom;e.removeAttribute("data-hover-bgcolor"),e.removeAttribute("data-hover-color"),e.removeAttribute("data-hover-bordercolor"),t.addClass(e,"whitespace-nowrap"),"a"===e.tagName.toLowerCase()&&e.setAttribute("role","button")}cleanupOldClasses(e){const t=this.dom;t.removeClass(e,"is-btn-ghost1"),t.removeClass(e,"is-btn-ghost2"),t.removeClass(e,"is-upper"),t.removeClass(e,"is-btn-small"),t.removeClass(e,"is-btn"),t.removeClass(e,"is-rounded-30"),t.removeClass(e,"btn-primary"),t.removeClass(e,"btn-default"),t.removeClass(e,"btn")}}class Ef{constructor(e){this.builder=e;const t=this.builder.util,i=this.builder.builderStuff,n=this.builder.contentStuff;this.builderStuff=i;const s=this.builder.dom;this.dom=s,this.buttonEditor=new Af(e);let o=i.querySelector("#divLinkTool");if(!o){let e=`<div id="divLinkTool" class="is-tool">\n            <button title="${t.out("Edit Button")}" data-title="${t.out("Edit Button")}" class="link-button-edit" style="display:none;"><svg class="is-icon-flex" style="width:12px;height:12px;"><use xlink:href="#ion-android-create"></use></svg></button>\n                <button title="${t.out("Link")}" data-title="${t.out("Link")}" class="link-edit"><svg class="is-icon-flex" style="width:13px;height:13px;"><use xlink:href="#ion-link"></use></svg></button>\n                <button title="${t.out("Duplicate")}" data-title="${t.out("Duplicate")}" class="link-duplicate"><svg class="is-icon-flex" style="width:11px;height:11px;"><use xlink:href="#ion-ios-photos-outline"></use></svg></button>\n                <button title="${t.out("Delete")}" data-title="${t.out("Delete")}" class="link-remove"><svg class="is-icon-flex" style="width:20px;height:20px;"><use xlink:href="#ion-ios-close-empty"></use></svg></button>\n            </div>\n            <div class="is-modal createlink" tabindex="-1" role="dialog" aria-modal="true" aria-hidden="true">\n                <div class="is-modal-content">  \n                    <label for="inpCreateLinkUrl">${t.out("Link")}:</label>\n                    <div class="link-src">\n                        <input id="inpCreateLinkUrl" class="input-url" type="text"/>\n                        <button title="${t.out("Select")}" class="input-select">\n                            ${this.builder.opts.selectIcon}\n                        </button>\n                        <button title="${t.out(this.builder.opts.otherSelectCaption)}" class="input-select-other" style="display:none;width:50px">\n                            ${this.builder.opts.otherSelectIcon}\n                        </button>\n                        <div class="div-anyfile-upload" style="position: relative; flex: 0 0 auto; width: 43px; height: 43px; box-shadow: rgba(0, 0, 0, 0.32) 0px 3px 6px -6px;">\n                            <form class="form-upload-larger" target="frameTargetAnyfileUpload" method="post" action="${this.builder.opts.fileHandler}" enctype="multipart/form-data" style="overflow:hidden;position:absolute;top:0;left:0;width:100%;height:100%;border-radius:1px;display:flex;align-items: center;justify-content: center;">\n                                <input class="input-anyfile-customval" name="hidRefId" type="hidden" value="${this.builder.customval}" />\n                                <svg class="is-icon-flex"><use xlink:href="#ion-ios-cloud-upload-outline"></use></svg>\n                                <input type="file" onclick="blur()" tabindex="0" class="input-anyfile-upload" name="fileImage" accept="*" style="position:absolute;top:-30px;left:0;width:100%;height:80px;opacity: 0;cursor: pointer;"/>\n                            </form>\n                            <iframe tabindex="-1" id="frameTargetAnyfileUpload" name="frameTargetAnyfileUpload" src="about:blank" style="width:1px;height:1px;position:absolute;top:0;right:-100000px"></iframe>\n                        </div>\n                    </div>\n                    <label style="display:block;margin-top:14px;">\n                        <input class="input-newwindow" type="checkbox" />  ${t.out("Open new window")}&nbsp;\n                    </label>\n                    <label id="lblOpenLightbox" style="${this.builder.useLightbox?"display:block":"display:none"};margin-top:5px;margin-bottom:14px;">\n                        <input class="input-openlightbox" type="checkbox" />  ${t.out("Open in a lightbox (for image, video or Youtube)")}&nbsp;\n                    </label>\n\n                    <label id="lblCreateLinkText" for="inpCreateLinkText" style="margin-top:14px;display:block">${t.out("Text")}:</label>\n                    <input id="inpCreateLinkText" class="input-text" type="text" style="width:100%;"/>\n                    \n                    <label for="inpCreateLinkTitle" style="margin-top:14px;display:block">${t.out("Title")}:</label>\n                    <input id="inpCreateLinkTitle" class="input-title" type="text" style="width:100%;"/>\n                    \n                    <div style="text-align:right;margin-top:14px;">\n                        <button title="${t.out("Cancel")}" class="input-cancel classic-secondary">${t.out("Cancel")}</button>\n                        <button title="${t.out("Ok")}" class="input-ok classic-primary">${t.out("Ok")}</button>\n                    </div>\n                </div>\n            </div>\n            \n            <div class="is-modal fileselect" tabindex="-1" role="dialog" aria-modal="true" aria-hidden="true">\n                <div class="is-modal-content" style="width:${this.builder.fileSelectWidth};max-width:${this.builder.fileSelectMaxWidth};height:${this.builder.fileSelectHeight};padding:0;">\n                    <iframe tabindex="0" style="width:100%;height:100%;border: none;display: block;" src="about:blank"></iframe>\n                </div>\n            </div>\n            <div class="is-modal otherselect" tabindex="-1" role="dialog" aria-modal="true" aria-hidden="true">\n                <div class="is-modal-content" style="width:${this.builder.otherSelectWidth};max-width:${this.builder.otherSelectMaxWidth};height:${this.builder.otherSelectHeight};padding:0;">\n                    <iframe tabindex="0" style="width:100%;height:100%;border: none;display: block;" src="about:blank"></iframe>\n                </div>\n            </div>\n            `;s.appendHtml(i,e),""!==this.builder.opts.fileHandler||this.builder.opts.onFileUpload||(i.querySelector(".div-anyfile-upload").style.display="none");let a=i.querySelector(".input-anyfile-upload");s.addEventListener(a,"change",(e=>{let t=a;for(;"form"!==t.nodeName.toLowerCase();)t=t.parentNode;let i=t;s.addClass(i,"please-wait"),this.builder.opts.onFileUpload?this.builder.opts.onFileUpload(e):i.submit(),a.value=""})),o=this.builder.iframe?n.querySelector("#divLinkTool"):i.querySelector("#divLinkTool");let l=o.querySelector(".link-edit");s.addEventListener(l,"click",(()=>{this.editLink()}));let r=o.querySelector(".link-button-edit");s.addEventListener(r,"click",(()=>{this.editButton()}));let d=o.querySelector(".link-duplicate");s.addEventListener(d,"click",(()=>{if(this.builder.activeLink)if(this.builder.uo.saveForUndo(),this.builder.opts.emailMode){for(var e=this.builder.activeLink;"table"!==e.tagName.toLowerCase()&&!s.hasClass(e,"button");)e=e.parentNode;let t=e=e.parentNode;const i=t.cloneNode(!0);let n=i.querySelector(".icon-active");n&&s.removeClass(n,"icon-active"),i.style.paddingRight="15px",t.parentNode.insertBefore(i,t),this.showTool(this.builder.activeLink)}else{const e=this.builder.activeLink.cloneNode(!0);let t=e.querySelector(".icon-active");t&&s.removeClass(t,"icon-active"),this.builder.activeLink.parentNode.insertBefore(e,this.builder.activeLink),this.showTool(this.builder.activeLink)}}));let c=o.querySelector(".link-remove");s.addEventListener(c,"click",(()=>{if(this.builder.uo.saveForUndo(),this.builder.opts.emailMode){for(var e=this.builder.activeLink;"table"!==e.tagName.toLowerCase()&&!s.hasClass(e,"button");)e=e.parentNode;let t=e=e.parentNode;t&&t.parentNode.removeChild(t),o.style.display=""}else this.builder.activeLink&&this.builder.activeLink.parentNode.removeChild(this.builder.activeLink),o.style.display="";this.builder.activeLink.querySelector(".icon-active")&&(this.builder.activeIcon=null)}));let u=this.builderStuff.querySelector(".is-modal.createlink"),p=u.querySelector(".input-ok");s.addEventListener(p,"click",(()=>{this.builder.uo.saveForUndo();let e=this.builder.activeLink;if(e){let t=u.querySelector(".input-url").value,i=u.querySelector(".input-title").value,n=u.querySelector(".input-text").value;if(""===n&&(n=t),""!==t)e.setAttribute("href",t),u.querySelector(".input-newwindow").checked?e.setAttribute("target","_blank"):e.removeAttribute("target"),u.querySelector(".input-openlightbox").checked?s.addClass(e,"is-lightbox"):s.removeClass(e,"is-lightbox"),this.builder.activeIcon||(e.innerHTML=n),e.setAttribute("title",i);else if(e.outerHTML=e.innerHTML,this.hideTool(),this.builder.activeIcon){this.builder.activeIcon.setAttribute("dummy-sel",""),e.outerHTML=this.builder.activeIcon.outerHTML;let t=document.querySelector("[dummy-sel]");t.removeAttribute("dummy-sel"),this.builder.activeIcon=t,this.builder.activeIcon.click()}this.builder.opts.onChange()}else{t.restoreSelection();let e=u.querySelector(".input-url").value,i=u.querySelector(".input-title").value,n=u.querySelector(".input-text").value;if(""===n&&(n=e),""!==e){let o;if(this.builder.uo.saveForUndo(),this.builder.activeIcon){let n=this.builder.activeIcon.outerHTML;this.builder.activeIcon.outerHTML=`<a dummy-sel="1" href="${e}">${n}</a>`,o=document.querySelector("[dummy-sel]"),o.removeAttribute("dummy-sel"),u.querySelector(".input-newwindow").checked?o.setAttribute("target","_blank"):o.removeAttribute("target"),u.querySelector(".input-openlightbox").checked?s.addClass(o,"is-lightbox"):s.removeClass(o,"is-lightbox"),o.setAttribute("title",i),this.builder.activeIcon=o.childNodes[0],t.appleMobile||(this.builder.activeIcon.click(),s.selectElementContents(this.builder.activeIcon),document.selection?document.selection.empty():window.getSelection().removeAllRanges())}else{const t=this.builder.selectionText,o=this.builder.selectionElm;let a;if(t){a=t;const o=a.getRangeAt(0),l=o.extractContents(),r=document.createElement("a");r.setAttribute("href",e),r.setAttribute("title",i),u.querySelector(".input-newwindow").checked?r.setAttribute("target","_blank"):r.removeAttribute("target"),u.querySelector(".input-openlightbox").checked?s.addClass(r,"is-lightbox"):s.removeClass(r,"is-lightbox"),r.appendChild(l),o.insertNode(r),r.innerHTML=n,a.selectAllChildren(r)}else if(o){a=o,o.innerHTML=`<a class="dummylink" href="dummy">${n}</a>`;let t=document.querySelector(".dummylink");t.setAttribute("href",e),t.setAttribute("title",i),u.querySelector(".input-newwindow").checked?t.setAttribute("target","_blank"):t.removeAttribute("target"),u.querySelector(".input-openlightbox").checked?s.addClass(t,"is-lightbox"):s.removeClass(t,"is-lightbox"),s.selectElementContents(t),s.removeClass(t,"dummylink")}}}t.saveSelection(),this.builder.opts.onChange(),this.builder.opts.onRender()}t.hideModal(u)}));let h=u.querySelector(".input-cancel");if(s.addEventListener(h,"click",(()=>{t.hideModal(u),t.appleMobile||t.restoreSelection()})),this.builder.opts.onOtherSelectClick||""!==this.builder.opts.otherSelect){u.querySelector(".input-select-other").style.display="block";let e=u.querySelector(".input-select-other");s.addEventListener(e,"click",(i=>{if(this.builder.opts.onOtherSelectClick)this.builder.opts.onOtherSelectClick({targetInput:u.querySelector(".input-url"),theTrigger:u.querySelector(".input-select-other")});else{let i=this.builderStuff.querySelector(".is-modal.otherselect");this.builder.opts.assetRefresh&&(i.querySelector("iframe").src=this.builder.opts.otherSelect,this.builder.opts.assetRefresh=!1),"about:blank"===i.querySelector("iframe").src&&(i.querySelector("iframe").src=this.builder.opts.otherSelect),t.showModal(i,!1,(()=>{e.removeAttribute("data-focus"),e.focus()}),!1,this.builder.assetPanelFullScreen),e.setAttribute("data-focus",!0)}this.builder.targetInput=u.querySelector(".input-url"),this.builder.targetCallback=null,this.builder.targetAssetType="all",i.preventDefault(),i.stopImmediatePropagation()}))}if(this.builder.opts.onFileSelectClick||""!==this.builder.opts.fileselect){u.querySelector(".input-select").style.display="block",u.querySelector(".input-url").style.width="444px";let e=u.querySelector(".input-select");s.addEventListener(e,"click",(()=>{if(this.builder.opts.onFileSelectClick)this.builder.opts.onFileSelectClick({targetInput:u.querySelector(".input-url"),theTrigger:u.querySelector(".input-select")});else{let e=this.builderStuff.querySelector(".is-modal.fileselect");this.builder.opts.assetRefresh&&(e.querySelector("iframe").src=this.builder.opts.fileselect,this.builder.opts.assetRefresh=!1),"about:blank"===e.querySelector("iframe").src&&(e.querySelector("iframe").src=this.builder.opts.fileselect),t.showModal(e,!1,null,!1,this.builder.assetPanelFullScreen)}this.builder.targetInput=u.querySelector(".input-url"),this.builder.targetCallback=null,this.builder.targetAssetType="all"}))}else u.querySelector(".input-select").style.display="none",u.querySelector(".input-url").style.width="100%"}this.linkTool=o}click(e,t){const i=this.dom;let n=!1;e.hasAttribute("data-html")&&(n=!0);let s=!1;e.hasAttribute("data-noedit")&&(s=!0);let o=!1;e.hasAttribute("data-protected")&&(o=!0);const a=t.target;if(this.builder.activeLink=null,this.builder.activeLinkButton=null,"a"!==a.tagName.toLowerCase()&&!i.parentsHasTag(a,"a")||n||s||o)this.hideTool();else{if(a.childNodes.length>0&&a.childNodes[0].tagName&&"i"===a.childNodes[0].tagName.toLowerCase()&&1===a.childNodes.length&&""===a.childNodes[0].innerHTML){const e=document.querySelectorAll(".icon-active");Array.prototype.forEach.call(e,(e=>{i.removeClass(e,"icon-active")})),i.addClass(a.childNodes[0],"icon-active"),i.selectElementContents(a.childNodes[0]),this.builder.activeIcon=a.childNodes[0]}if("img"===a.tagName.toLowerCase())return;let e,n;if("a"===a.tagName.toLowerCase())e=a;else{let t=a;for(;"a"!==t.tagName.toLowerCase();)t=t.parentNode;e=t}this.builder.activeLink=e;let s=i.getStyle(e,"display");"inline-block"!==s&&"block"!==s&&"flex"!==s||(n=!0),n&&(this.builder.activeLinkButton=e),this.showTool(e),t.preventDefault()}}showTool(e){const t=this.dom,i=this.linkTool;let n,s,o=t.getStyle(e,"display");"inline-block"===o||"flex"===o||this.builder.activeIcon?(i.querySelector(".link-duplicate").style.display="block",i.querySelector(".link-remove").style.display="block"):(i.querySelector(".link-duplicate").style.display="none",i.querySelector(".link-remove").style.display="none"),this.builder.useButtonPlugin?i.querySelector(".link-button-edit").style.display="none":e&&this.builder.activeLinkButton?i.querySelector(".link-button-edit").style.display="block":i.querySelector(".link-button-edit").style.display="none",t.hasClass(this.buttonEditor.buttonModal,"active")&&this.buttonEditor.realtime(),s=e.getBoundingClientRect().top+this.builder.win.pageYOffset,this.builder.activeIcon&&(s=this.builder.activeIcon.getBoundingClientRect().top+this.builder.win.pageYOffset),n=e.getBoundingClientRect().left,i.style.display="flex";const a=i.offsetWidth,l=i.offsetHeight;i.style.top=s-l-3+"px",i.style.left=n+e.offsetWidth*this.builder.opts.zoom-a+"px"}hideTool(){this.linkTool.style.display=""}editButton(){this.buttonEditor.open()}createLink(){const e=this.dom,t=new ni(this.builder);t.getSelection();var i=e.getSelected();let n=this.builderStuff.querySelector(".is-modal.createlink");n.querySelector(".input-url").value="",n.querySelector(".input-newwindow").checked=!1,n.querySelector(".input-openlightbox").checked=!1,n.querySelector(".input-title").value="",n.querySelector(".input-text").value="",n.querySelector("#lblCreateLinkText").style.display="",n.querySelector("#inpCreateLinkText").style.display="";let s=this.builder.activeLink;if(s){let t=s.getAttribute("href"),i=s.getAttribute("target"),o=s.getAttribute("title"),a=s.innerHTML;n.querySelector(".input-url").value=t,n.querySelector(".input-newwindow").checked="_blank"===i,e.hasClass(s,"is-lightbox")?n.querySelector(".input-openlightbox").checked=!0:n.querySelector(".input-openlightbox").checked=!1,n.querySelector(".input-title").value=o,n.querySelector(".input-text").value=a}else n.querySelector(".input-text").value=i,this.builder.activeIcon&&(n.querySelector("#lblCreateLinkText").style.display="none",n.querySelector("#inpCreateLinkText").style.display="none");t.showModal(n,!0,(()=>{t.appleMobile||t.restoreSelection()}),!0),n.querySelector(".input-url").focus()}editLink(){const e=this.dom,t=new ni(this.builder);let i=this.builder.activeLink,n=this.builderStuff.querySelector(".is-modal.createlink"),s=i.querySelector("i");n.querySelector("#lblCreateLinkText").style.display="",n.querySelector("#inpCreateLinkText").style.display="",1===i.childElementCount&&s&&e.hasClass(s,"icon")&&(n.querySelector("#lblCreateLinkText").style.display="none",n.querySelector("#inpCreateLinkText").style.display="none");let o=i.getAttribute("href"),a=i.getAttribute("target"),l=i.getAttribute("title"),r=i.innerHTML;n.querySelector(".input-url").value=o,n.querySelector(".input-newwindow").checked="_blank"===a,e.hasClass(i,"is-lightbox")?n.querySelector(".input-openlightbox").checked=!0:n.querySelector(".input-openlightbox").checked=!1,n.querySelector(".input-title").value=l,n.querySelector(".input-text").value=r,t.showModal(n,!0,null,!0),n.querySelector(".input-url").focus()}}class Lf{constructor(e){this.builder=e;const t=this.builder.util,i=this.builder.builderStuff,n=this.builder.contentStuff;this.builderStuff=i;const s=this.builder.dom;this.dom=s,this.buttonEditor=new Af(e);let o=i.querySelector("#divButtonTool");if(!o){let e=`<div id="divButtonTool" class="is-tool">\n                <button title="${t.out("Edit Button")}" data-title="${t.out("Edit Button")}" class="button-edit"><svg class="is-icon-flex" style="width:12px;height:12px;"><use xlink:href="#ion-android-create"></use></svg></button>\n                <button title="${t.out("Duplicate")}" data-title="${t.out("Duplicate")}" class="button-duplicate"><svg class="is-icon-flex" style="width:11px;height:11px;"><use xlink:href="#ion-ios-photos-outline"></use></svg></button>\n                <button title="${t.out("Delete")}" data-title="${t.out("Delete")}" class="button-remove"><svg class="is-icon-flex" style="width:20px;height:20px;"><use xlink:href="#ion-ios-close-empty"></use></svg></button>\n            </div>\n            `;s.appendHtml(i,e),o=this.builder.iframe?n.querySelector("#divButtonTool"):i.querySelector("#divButtonTool");let a=o.querySelector(".button-edit");s.addEventListener(a,"click",(()=>{this.editButton()}));let l=o.querySelector(".button-duplicate");s.addEventListener(l,"click",(()=>{if(this.builder.activeButton){this.builder.uo.saveForUndo();const e=this.builder.activeButton.cloneNode(!0);let t=e.querySelector(".elm-active");t&&s.removeClass(t,"elm-active"),this.builder.activeButton.parentNode.insertBefore(e,this.builder.activeButton),this.showTool(this.builder.activeButton)}}));let r=o.querySelector(".button-remove");s.addEventListener(r,"click",(()=>{this.builder.uo.saveForUndo(),this.builder.activeButton&&this.builder.activeButton.parentNode.removeChild(this.builder.activeButton),o.style.display="",this.builder.activeButton=null}))}this.buttonTool=o}click(e,t){let i=!1;e.hasAttribute("data-html")&&(i=!0);let n=!1;e.hasAttribute("data-noedit")&&(n=!0);let s=!1;e.hasAttribute("data-protected")&&(s=!0);const o=t.target;this.builder.activeButton=null;const a=o.closest("button");!a||i||n||s?this.hideTool():(this.builder.activeButton=a,this.showTool(a),t.preventDefault())}editButton(){this.buttonEditor.open()}showTool(e){this.dom.hasClass(this.buttonEditor.buttonModal,"active")&&this.buttonEditor.realtime();const t=this.buttonTool;let i=e.getBoundingClientRect().top+this.builder.win.pageYOffset,n=e.getBoundingClientRect().left;t.style.display="flex";const s=t.offsetWidth,o=t.offsetHeight;t.style.top=i-o-3+"px",t.style.left=n+e.offsetWidth*this.builder.opts.zoom-s+"px"}hideTool(){this.buttonTool.style.display=""}}class qf{constructor(e){this.builder=e;const t=this.builder.util,i=this.builder.builderStuff,n=this.builder.contentStuff;this.util=t,this.builderStuff=i;const s=this.builder.dom;this.dom=s;let o=i.querySelector(".is-spacer-tool");if(!o){let e=`\n            <div id="divSpacerTool" class="is-tool is-spacer-tool">\n                <button title="${t.out("Decrease")}" data-value="-"><svg class="is-icon-flex"><use xlink:href="#ion-ios-minus-empty"></use></svg></button>\n                <button title="${t.out("Increase")}" data-value="+" style="border-left: none;"><svg class="is-icon-flex"><use xlink:href="#ion-ios-plus-empty"></use></svg></button>\n            </div>\n            `;s.appendHtml(i,e),o=this.builder.iframe?n.querySelector(".is-spacer-tool"):i.querySelector(".is-spacer-tool");const a=o.querySelectorAll("button");Array.prototype.forEach.call(a,(e=>{s.addEventListener(e,"click",(()=>{this.builder.uo.saveForUndo();const t=e.getAttribute("data-value");let i=this.builder.activeSpacer;"-"===t?s.hasClass(i,"height-300")?(s.removeClass(i,"height-300"),s.addClass(i,"height-280")):s.hasClass(i,"height-280")?(s.removeClass(i,"height-280"),s.addClass(i,"height-260")):s.hasClass(i,"height-260")?(s.removeClass(i,"height-260"),s.addClass(i,"height-240")):s.hasClass(i,"height-240")?(s.removeClass(i,"height-240"),s.addClass(i,"height-220")):s.hasClass(i,"height-220")?(s.removeClass(i,"height-220"),s.addClass(i,"height-200")):s.hasClass(i,"height-200")?(s.removeClass(i,"height-200"),s.addClass(i,"height-180")):s.hasClass(i,"height-180")?(s.removeClass(i,"height-180"),s.addClass(i,"height-160")):s.hasClass(i,"height-160")?(s.removeClass(i,"height-160"),s.addClass(i,"height-140")):s.hasClass(i,"height-140")?(s.removeClass(i,"height-140"),s.addClass(i,"height-120")):s.hasClass(i,"height-120")?(s.removeClass(i,"height-120"),s.addClass(i,"height-100")):s.hasClass(i,"height-100")?(s.removeClass(i,"height-100"),s.addClass(i,"height-80")):s.hasClass(i,"height-80")?(s.removeClass(i,"height-80"),s.addClass(i,"height-60")):s.hasClass(i,"height-60")?(s.removeClass(i,"height-60"),s.addClass(i,"height-40")):s.hasClass(i,"height-40")&&(s.removeClass(i,"height-40"),s.addClass(i,"height-20")):s.hasClass(i,"height-20")?(s.removeClass(i,"height-20"),s.addClass(i,"height-40")):s.hasClass(i,"height-40")?(s.removeClass(i,"height-40"),s.addClass(i,"height-60")):s.hasClass(i,"height-60")?(s.removeClass(i,"height-60"),s.addClass(i,"height-80")):s.hasClass(i,"height-80")?(s.removeClass(i,"height-80"),s.addClass(i,"height-100")):s.hasClass(i,"height-100")?(s.removeClass(i,"height-100"),s.addClass(i,"height-120")):s.hasClass(i,"height-120")?(s.removeClass(i,"height-120"),s.addClass(i,"height-140")):s.hasClass(i,"height-140")?(s.removeClass(i,"height-140"),s.addClass(i,"height-160")):s.hasClass(i,"height-160")?(s.removeClass(i,"height-160"),s.addClass(i,"height-180")):s.hasClass(i,"height-180")?(s.removeClass(i,"height-180"),s.addClass(i,"height-200")):s.hasClass(i,"height-200")?(s.removeClass(i,"height-200"),s.addClass(i,"height-220")):s.hasClass(i,"height-220")?(s.removeClass(i,"height-220"),s.addClass(i,"height-240")):s.hasClass(i,"height-240")?(s.removeClass(i,"height-240"),s.addClass(i,"height-260")):s.hasClass(i,"height-260")?(s.removeClass(i,"height-260"),s.addClass(i,"height-280")):s.hasClass(i,"height-280")&&(s.removeClass(i,"height-280"),s.addClass(i,"height-300")),this.showTool(i),this.builder.opts.onChange()}))}))}this.spacerTool=o}click(e){const t=this.dom,i=e.target;t.hasClass(i,"spacer")?(this.builder.activeSpacer=i,document.selection?document.selection.empty():window.getSelection().removeAllRanges(),this.showTool(i)):this.hideTool()}showTool(e){let t=e.getBoundingClientRect().top+this.builder.win.pageYOffset,i=e.getBoundingClientRect().left;this.spacerTool.style.display="flex";const n=this.spacerTool.offsetWidth,s=this.spacerTool.offsetHeight;this.spacerTool.style.top=t+(e.offsetHeight*this.builder.opts.zoom-s)/2+"px",this.spacerTool.style.left=i+(e.offsetWidth*this.builder.opts.zoom-n)/2+"px"}hideTool(){this.spacerTool.style.display=""}}class Tf{constructor(e){this.builder=e;const t=this.builder.util,i=this.builder.builderStuff,n=this.builder.contentStuff;this.util=t,this.builderStuff=i;const s=this.builder.dom;this.dom=s;let o,a=i.querySelector(".is-module-tool");if(!a){let e=`\n            <div class="is-tool is-module-tool">\n                <button title="${t.out("Settings")}" data-title="${t.out("Settings")}" style="width:40px;height:40px;"><svg class="is-icon-flex"><use xlink:href="#ion-ios-gear"></use></svg></button>\n            </div>\n\n            <input id="hidContentModuleCode" type="hidden" />\n            <input id="hidContentModuleSettings" type="hidden" />\n            \n            <div class="is-modal custommodule" tabindex="-1" role="dialog" aria-modal="true" aria-hidden="true">\n                <div class="is-modal-content">\n                    <div class="is-modal-bar is-draggable">\n                        ${t.out("Module Settings")}\n                        <button class="is-modal-close" tabindex="-1" title="${t.out("Close")}">&#10005;</button>\n                    </div>\n                    <iframe tabindex="0" style="position: absolute;top: 0;left: 0;width:100%;height:100%;border:none;border-bottom:90px solid transparent;border-top:40px solid transparent;margin:0;box-sizing:border-box;" src="about:blank"></iframe>\n                    <div style="width:100%;height:90px;padding: 20px; box-sizing: border-box;position:absolute;left:0;bottom:0;overflow:hidden;text-align:right">\n                        <button title="${t.out("Cancel")}" class="input-cancel classic-secondary">${t.out("Cancel")}</button>\n                        <button title="${t.out("Ok")}" class="input-ok classic-primary">${t.out("Ok")}</button>\n                    </div>\n                </div>\n            </div> \n            `;s.appendHtml(i,e),a=this.builder.iframe?n.querySelector(".is-module-tool"):i.querySelector(".is-module-tool"),o=i.querySelector(".is-modal.custommodule");let l=a.querySelector("button");s.addEventListener(l,"click",(async()=>{let e=this.builder.activeModule;s.removeAttributes(document.querySelectorAll("[data-module-active]"),"data-module-active"),e.setAttribute("data-module-active","1");var i=e.getAttribute("data-module"),n=e.getAttribute("data-module-desc");o.querySelector(".is-modal-bar").innerHTML=n?this.util.out(n)+`<button class="is-modal-close" tabindex="-1" title="${t.out("Close")}">\n                    <svg class="is-icon-flex" style="width:30px;height:30px;"><use xlink:href="#ion-ios-close-empty"></use></svg>\n                    </button>`:this.util.out("Module Settings")+`<button class="is-modal-close" tabindex="-1" title="${t.out("Close")}">\n                    <svg class="is-icon-flex" style="width:30px;height:30px;"><use xlink:href="#ion-ios-close-empty"></use></svg>\n                    </button>`;var a=e.getAttribute("data-dialog-width");a&&""!==a||(a="900px");var r=e.getAttribute("data-dialog-height");r&&""!==r||(r="570px"),"slider-builder"===i&&(o.querySelector("div:not(.is-modal-overlay)").style.width="90vw",a="1500px",r="80vh"),o.querySelector("div:not(.is-modal-overlay)").style.maxWidth=a,o.querySelector("div:not(.is-modal-overlay)").style.height=r;let d=o.querySelector(".is-modal-close");s.addEventListener(d,"click",(()=>{this.util.hideModal(o)}));var c=1;const u=e.querySelectorAll("[data-subblock]");Array.prototype.forEach.call(u,(t=>{if(s.hasClass(t.parentNode,"glide__slide--clone"))return;let i=t.innerHTML;e.setAttribute("data-html-"+c,encodeURIComponent(i)),c++})),this.util.showModal(o,!0,(()=>{l.removeAttribute("data-focus"),l.focus()})),l.setAttribute("data-focus",!0);const p=o.querySelector("iframe");let h=await fetch(this.builder.opts.modulePath+i+".html");h=await h.text(),h=h.replace(/<script>/g,""+(this.builder.nonce?`<script nonce="${this.builder.nonce}">`:"<script>"));let m=p.contentWindow.document;m.open(),m.write(h),m.close()}));let r=o.querySelector(".input-ok");s.addEventListener(r,"click",(()=>{let e=o.querySelector("iframe");e.contentWindow.construct&&e.contentWindow.construct(),this.builder.uo.saveForUndo();let t=this.builder.activeModule;t.setAttribute("data-html",encodeURIComponent(this.builderStuff.querySelector("#hidContentModuleCode").value)),t.setAttribute("data-settings",encodeURIComponent(this.builderStuff.querySelector("#hidContentModuleSettings").value));let i=this.builderStuff.querySelector("#hidContentModuleCode").value;i=i.replace(/{id}/g,this.util.makeId()),i=i.replace(/<script>/g,""+(this.builder.nonce?`<script nonce="${this.builder.nonce}">`:"<script>")),t.innerHTML="";var n=document.createRange();n.setStart(t,0),t.appendChild(n.createContextualFragment(i));let s=t.querySelectorAll("[data-subblock]");var a=1;Array.prototype.forEach.call(s,(e=>{t.getAttribute("data-html-"+a)&&(e.innerHTML=decodeURIComponent(t.getAttribute("data-html-"+a))),a++}));let l=this.builder.doc.querySelector(".builder-active");l&&this.builder.applyBehaviorOn(l),this.builder.opts.onChange(),this.builder.opts.onRender(),this.util.hideControls(),this.util.repositionColumnTool(!0),this.builder.onRefreshTool&&this.builder.onRefreshTool(),t.click(),this.builder.hideModal(o)}));let d=o.querySelector(".input-cancel");s.addEventListener(d,"click",(()=>{this.builder.hideModal(o)}))}this.moduleTool=a,this.moduleModal=o}click(e){let t=!1;if(e.hasAttribute("data-module")&&(t=!0),t){this.builder.activeModule=e;let t=e;this.moduleTool.style.display="flex";let i=this.moduleTool.offsetWidth,n=t.offsetWidth*this.builder.opts.zoom,s=t.getBoundingClientRect().top+this.builder.win.pageYOffset,o=t.getBoundingClientRect().left-2;o+=n-i;i+o>window.innerWidth&&(o=t.getBoundingClientRect().left),this.moduleTool.style.top=s+"px",this.moduleTool.style.left=o+"px"}else this.builder.activeModule=null,this.moduleTool.style.display=""}}class Mf{constructor(e){this.builder=e;const t=this.builder.util,i=this.builder.builderStuff,n=this.builder.contentStuff;this.util=t,this.builderStuff=i;const s=this.builder.dom;this.dom=s;const o=new qo(e);this.htmlUtil=o;let a=i.querySelector(".is-code-tool");if(!a){let e=`\n            <div class="is-tool is-code-tool">\n                <button title="${t.out("Settings")}" data-title="${t.out("Settings")}" style="width:40px;height:40px;"><svg class="is-icon-flex"><use xlink:href="#ion-ios-gear"></use></svg></button>\n            </div>\n            `;s.appendHtml(i,e),a=this.builder.iframe?n.querySelector(".is-code-tool"):i.querySelector(".is-code-tool");let o=a.querySelector("button");s.addEventListener(o,"click",(()=>{let e=this.builder.activeCodeBlock,t=this.builderStuff.querySelector("#tmp_buildercontent");t&&t.parentNode.removeChild(t),s.appendHtml(this.builderStuff,'<div id="tmp_buildercontent" style="position:absolute;top:0;left:0;width:1px;height:1px;overflow:hidden;visibility:hidden;"></div>'),t=this.builderStuff.querySelector("#tmp_buildercontent");var i=1;const n=e.querySelectorAll("is-builder");Array.prototype.forEach.call(n,(n=>{let o=n.innerHTML;t=this.builderStuff.querySelector("#tmp_buildercontent"),t.innerHTML=o;let a=t.querySelectorAll(".elm-active");s.removeClasses(a,"elm-active"),a=t.querySelectorAll(".elm-inspected"),s.removeClasses(a,"elm-inspected"),a=t.querySelectorAll(".cell-active"),s.removeClasses(a,"cell-active"),a=t.querySelectorAll(".row-active"),s.removeClasses(a,"row-active"),a=t.querySelectorAll(".row-outline"),s.removeClasses(a,"row-outline"),a=t.querySelectorAll(".row-outline"),s.removeClasses(a,"row-outline"),a=t.querySelectorAll("[data-click]"),s.removeAttributes(a,"data-click"),a=t.querySelectorAll("[contenteditable]"),s.removeAttributes(a,"contenteditable"),a=t.querySelectorAll("[data-module-active]"),s.removeAttributes(a,"data-module-active"),s.removeElements(t.querySelectorAll(".is-row-tool")),s.removeElements(t.querySelectorAll(".is-col-tool")),s.removeElements(t.querySelectorAll(".is-rowadd-tool")),s.removeElements(t.querySelectorAll(".ovl")),s.removeElements(t.querySelectorAll(".row-add-initial")),a=t.querySelectorAll("[data-keep]"),s.removeAttributes(a,"data-keep"),o=t.innerHTML.trim(),o=o.replace(/<font/g,"<span").replace(/<\/font/g,"</span"),e.setAttribute("data-html-"+i,encodeURIComponent(o)),i++}));let o,a=decodeURIComponent(e.getAttribute("data-html"));a=a.replace(/<script>/g,""+(this.builder.nonce?`<script nonce="${this.builder.nonce}">`:"<script>")),t.parentNode.removeChild(t),o=this.builder.opts.htmlSyntaxHighlighting?this.builderStuff.querySelector(".viewhtmlmonaco"):this.builderStuff.querySelector(".viewhtml");let l=o.querySelector("textarea");a=a.replaceAll("{id}","__id__"),a=(0,js.html)(a),a=a.replaceAll("__id__","{id}"),l.value=a,this.htmlUtil.view("code")}))}this.codeTool=a}click(e){let t=!1;if(e.hasAttribute("data-html")&&!e.hasAttribute("data-module")&&(t=!0),t){this.builder.activeCodeBlock=e;let t=e;this.codeTool.style.display="flex";let i=this.codeTool.offsetWidth,n=t.offsetWidth*this.builder.opts.zoom,s=t.getBoundingClientRect().top+this.builder.win.pageYOffset,o=t.getBoundingClientRect().left-2;o+=n-i;i+o>window.innerWidth&&(o=t.getBoundingClientRect().left),this.codeTool.style.top=s+"px",this.codeTool.style.left=o+"px"}else this.builder.activeCodeBlock=null,this.codeTool.style.display=""}}class Of{constructor(e){this.builder=e;const t=this.builder.util,i=this.builder.builderStuff,n=this.builder.contentStuff;this.util=t,this.builderStuff=i;const s=this.builder.dom;this.dom=s;let o,a=i.querySelector(".is-iframe-tool");if(!a){let e=`\n            <div class="is-tool is-iframe-tool">\n                <button title="${t.out("Settings")}" data-title="${t.out("Settings")}" style="width:40px;height:40px;background:none;"><svg class="is-icon-flex"><use xlink:href="#ion-ios-gear"></use></svg></button>\n            </div>\n            \n            <div class="is-modal iframelink" tabindex="-1" role="dialog" aria-modal="true" aria-hidden="true">\n                <div class="is-modal-content">\n                    <input class="input-src" type="text" placeholder="Source" style="width:100%;margin-bottom:12px;"/>\n                    <textarea class="input-embedcode" type="text" placeholder="Embed Code" style="width:100%;height:300px;margin-bottom:12px;display:none;"></textarea>\n                    <div style="text-align:right">\n                        <button title="${t.out("Cancel")}" class="input-cancel classic-secondary">${t.out("Cancel")}</button>\n                        <button title="${t.out("Ok")}" class="input-ok classic-primary">${t.out("Ok")}</button>\n                    </div>\n                </div>\n            </div>\n            \n            `;s.appendHtml(i,e),a=this.builder.iframe?n.querySelector(".is-iframe-tool"):i.querySelector(".is-iframe-tool"),o=i.querySelector(".is-modal.iframelink");let l=a.querySelector("button");s.addEventListener(l,"click",(()=>{let e=this.builder.activeIframe;var t=e.src;o.querySelector(".input-src").value="",o.querySelector(".input-embedcode").value="",null!=/^.*\/\/www.youtube.com\/embed\//.exec(t)||null!=/^.*\/\/player.vimeo.com\/video\//.exec(t)?(o.querySelector(".input-embedcode").style.display="none",o.querySelector(".input-src").style.display="block",o.querySelector(".input-src").value=t,o.querySelector(".input-src").focus()):(o.querySelector(".input-src").style.display="none",o.querySelector(".input-embedcode").style.display="block",o.querySelector(".input-embedcode").value=e.outerHTML),this.util.showModal(o,!0,(()=>{l.removeAttribute("data-focus"),l.focus()})),l.setAttribute("data-focus",!0)}));let r=o.querySelector(".input-ok");s.addEventListener(r,"click",(()=>{this.builder.uo.saveForUndo();let e=this.builder.activeIframe,i=e.parentNode;if(""!==o.querySelector(".input-src").value){var n=o.querySelector(".input-src").value,s=/^http[s]?:\/\/(((www.youtube.com\/watch\?(feature=player_detailpage&)?)v=)|(youtu.be\/))([^#&?]*)/.exec(n),a=/^.*(vimeo\.com\/)((channels\/[A-z]+\/)|(groups\/[A-z]+\/videos\/)|(video\/))?([0-9]+)\/?/.exec(n);if(null===s&&null===a||-1!==n.indexOf("player.vimeo.com")||-1!==n.indexOf("youtube.com/embed/"))e.src=n;else{if(null!=s&&s.length>=7)n="https://www.youtube.com/embed/"+s[6]+"?rel=0";if(null!=a&&a.length>=7)n="https://player.vimeo.com/video/"+a[6];e.src=n}this.builder.opts.onChange()}else{const n=o.querySelector(".input-embedcode"),s=n.value;if(-1===s.toLowerCase().indexOf("<iframe"))return void(alert(t.out("Please enter <iframe> element."))||n.focus());""!==s&&(e.outerHTML=s),this.builder.activeIframe=i.querySelector("iframe");let a=this.builder.doc.querySelector(".builder-active");a&&this.builder.applyBehaviorOn(a),this.builder.opts.onChange()}this.util.hideModal(o)}));let d=o.querySelector(".input-cancel");s.addEventListener(d,"click",(()=>{this.util.hideModal(o)}))}this.iframeTool=a,this.iframeModal=o}click(e){const t=this.dom;if(!t.hasClass(e.target,"ovl")||!e.target.parentNode.querySelector("audio"))if(t.hasClass(e.target,"ovl")){e.target.style.display="none",this.builder.activeIframe=e.target.parentNode.querySelector("iframe");let t=this.builder.activeIframe;this.iframeTool.style.display="flex";let i=this.iframeTool.offsetWidth,n=t.offsetWidth*this.builder.opts.zoom,s=t.getBoundingClientRect().top+this.builder.win.pageYOffset,o=t.getBoundingClientRect().left-2;o+=n-i;i+o>window.innerWidth&&(o=t.getBoundingClientRect().left),this.iframeTool.style.top=s+"px",this.iframeTool.style.left=o+"px"}else{let e=document.querySelectorAll(".ovl");Array.prototype.forEach.call(e,(e=>{e.style.display="block"})),this.builder.activeIframe=null,this.iframeTool.style.display=""}}}class Rf{constructor(e){this.builder=e;const t=this.builder.util,i=this.builder.builderStuff,n=this.builder.contentStuff;this.util=t,this.builderStuff=i;const s=this.builder.dom;this.dom=s;let o,a=i.querySelector(".is-table-tool");if(!a){let e=`\n            <div class="is-tool is-table-tool">\n                <button title="${t.out("Settings")}" style="width:40px;height:40px;"><svg class="is-icon-flex"><use xlink:href="#ion-ios-gear"></use></svg></button>\n            </div>\n            <div class="is-modal is-modal-content edittable" tabindex="-1" role="dialog" aria-modal="true" aria-hidden="true">\n                <div class="is-modal-bar is-draggable">\n                    ${t.out("Table")}\n                    <button class="is-modal-close" tabindex="-1" title="${t.out("Close")}">&#10005;</button>\n                </div>\n                <div style="padding:0">\n                    <div class="is-tabs" data-group="table">\n                        <a title="${t.out("Style")}" id="tabTableGeneral" href="" data-content="divTableGeneral" class="active">${t.out("Style")}</a>\n                        <a title="${t.out("Layout")}" id="tabTableLayout" href="" data-content="divTableLayout">${t.out("Layout")}</a>\n                    </div>\n                    <div id="divTableGeneral" class="is-tab-content active" tabindex="-1" data-group="table" style="display:block">\n\n                        <div style="display:flex;padding-bottom:12px">\n                            <div style="padding-right:15px">\n                                <div>${t.out("Background")}:</div>\n                                <div>\n                                    <button title="${t.out("Background Color")}" class="input-table-bgcolor is-btn-color"></button>\n                                </div>\n                            </div>\n                            <div>\n                                <div>${t.out("Text Color")}:</div>\n                                <div>\n                                    <button title="${t.out("Text Color")}" class="input-table-textcolor is-btn-color"></button>\n                                </div>\n                            </div>\n                        </div>\n\n                        <div style="padding-bottom:12px;">\n                            <div>${t.out("Border Thickness")}:</div>\n                            <div>\n                                <select id="selCellBorderWidth" style="width:120px;"><option value="0">No Border</option><option value="1">1</option><option value="2">2</option><option value="3">3</option></select>  \n                            </div>\n                        </div>\n                        \n                        <div style="padding-bottom:12px;">\n                            <div>${t.out("Border Color")}:</div>\n                            <div>\n                                <button title="${t.out("Border Color")}" class="input-table-bordercolor is-btn-color"></button>\n                            </div>\n                        </div>\n                        \n                        <div style="padding-bottom:12px;">\n                            <div>${t.out("Apply To")}:</div>\n                            <div>\n                                <select id="selTableApplyTo" style="width:120px;">\n                                    <option value="table">${t.out("Table")}</option>\n                                    <option value="currentrow">${t.out("Current Row")}</option>\n                                    <option value="currentcol">${t.out("Current Column")}</option>\n                                    <option value="evenrows">${t.out("Even Rows")}</option>\n                                    <option value="oddrows">${t.out("Odd Rows")}</option>  \n                                    <option value="currentcell">${t.out("Current Cell")}</option>  \n                                </select>\n                            </div>\n                        </div>\n\n                    </div>\n\n                    <div id="divTableLayout" class="is-tab-content" tabindex="-1" data-group="table">\n                    \n                        <div style="padding-bottom:12px;">\n                            <div>${t.out("Insert Row")}:</div>\n                            <div style="display:flex">\n                                <button class="classic" title="${t.out("Above")}" data-table-cmd="rowabove" title="${t.out("Above")}" style="margin-right:15px"> ${t.out("Above")} </button>\n                                <button class="classic" title="${t.out("Below")}" data-table-cmd="rowbelow" title="${t.out("Below")}" style=""> ${t.out("Below")} </button>\n                            </div> \n                        </div>\n                        \n                        <div style="padding-bottom:15px;">\n                            <div>${t.out("Insert Column")}:</div>\n                            <div style="display:flex">\n                                <button class="classic" title="${t.out("Left")}" data-table-cmd="columnleft" title="${t.out("Left")}" style="margin-right:15px"> ${t.out("Left")} </button> \n                                <button class="classic" title="${t.out("Right")}" data-table-cmd="columnright" title="${t.out("Right")}" style=""> ${t.out("Right")} </button> \n                            </div> \n                        </div>\n\n                        <div style="padding-bottom:15px;">\n                            <button class="classic" title="${t.out("Delete Row")}" data-table-cmd="delrow" title="Delete Row" style=""> ${t.out("Delete Row")} </button> \n                        </div>\n\n                        <div style="padding-bottom:15px;">    \n                            <button class="classic" title="${t.out("Delete Column")}" data-table-cmd="delcolumn" title="Delete Column" style=""> ${t.out("Delete Column")} </button> \n                        </div>\n                        \n                        <div>    \n                            <button class="classic" title="${t.out("Merge Cell")}" data-table-cmd="mergecell" style="">${t.out("Merge Cell")}</button> \n                        </div>\n                    </div>\n                </div>\n            </div>\n            \n            `;s.appendHtml(i,e),a=this.builder.iframe?n.querySelector(".is-table-tool"):i.querySelector(".is-table-tool"),o=i.querySelector(".is-modal.edittable");let l=a.querySelector("button");s.addEventListener(l,"click",(()=>{s.hasClass(o,"active")?t.hideModal(o):(s.addClass(o,"active"),t.showModal(o))}));let r=o.querySelector(".is-modal-close");s.addEventListener(r,"click",(()=>{s.removeClass(o,"active")}));const d=o.querySelector(".input-table-bgcolor");d.addEventListener("click",(e=>{this.builder.uo.saveForUndo();let t=e.target;this.builder.colorPicker.open((e=>{if(this.builder.activeTd){var i=o.querySelector("#selTableApplyTo").value,n=this.builder.activeTable,s=this.builder.activeTd.parentNode,a=this.builder.activeTd;"currentcell"===i&&(this.builder.activeTd.style.backgroundColor=e);for(var l=0;l<n.rows.length;l++)for(var r=n.rows[l],d=0;d<r.cells.length;d++){var c=r.cells[d];("table"===i||"evenrows"===i&&If(l+1)||"oddrows"===i&&!If(l+1)||"currentrow"===i&&r===this.builder.activeTd.parentNode||"currentcol"===i&&d===Bf(n,s,a))&&(c.style.backgroundColor=e)}t.style.backgroundColor=e,this.builder.opts.onChange()}}),d.style.backgroundColor,(()=>{d.removeAttribute("data-focus"),d.focus()})),d.setAttribute("data-focus",!0)}));const c=o.querySelector(".input-table-textcolor");c.addEventListener("click",(e=>{this.builder.uo.saveForUndo();let t=e.target;this.builder.colorPicker.open((e=>{if(this.builder.activeTd){var i=o.querySelector("#selTableApplyTo").value,n=this.builder.activeTable,s=this.builder.activeTd.parentNode,a=this.builder.activeTd;"currentcell"===i&&(this.builder.activeTd.style.color=e);for(var l=0;l<n.rows.length;l++)for(var r=n.rows[l],d=0;d<r.cells.length;d++){var c=r.cells[d];("table"===i||"evenrows"===i&&If(l+1)||"oddrows"===i&&!If(l+1)||"currentrow"===i&&r===this.builder.activeTd.parentNode||"currentcol"===i&&d===Bf(n,s,a))&&(c.style.color=e)}t.style.backgroundColor=e,this.builder.opts.onChange()}}),c.style.backgroundColor,(()=>{c.removeAttribute("data-focus"),c.focus()})),c.setAttribute("data-focus",!0)}));const u=o.querySelector(".input-table-bordercolor");u.addEventListener("click",(e=>{this.builder.uo.saveForUndo();let t=e.target;this.builder.colorPicker.open((e=>{if(this.builder.activeTd){var i=o.querySelector("#selCellBorderWidth").value;"0"===i&&(o.querySelector("#selCellBorderWidth").value=1,i=1);var n=o.querySelector("#selTableApplyTo").value,s=this.builder.activeTable,a=this.builder.activeTd.parentNode,l=this.builder.activeTd;"currentcell"===n&&(this.builder.activeTd.style.borderWidth=i+"px",this.builder.activeTd.style.borderStyle="solid",this.builder.activeTd.style.borderColor=e);for(var r=0;r<s.rows.length;r++)for(var d=s.rows[r],c=0;c<d.cells.length;c++){var u=d.cells[c];("table"===n||"evenrows"===n&&If(r+1)||"oddrows"===n&&!If(r+1)||"currentrow"===n&&d===this.builder.activeTd.parentNode||"currentcol"===n&&c===Bf(s,a,l))&&(u.style.borderWidth=i+"px",u.style.borderStyle="solid",u.style.borderColor=e)}t.style.backgroundColor=e,this.builder.opts.onChange()}}),u.style.backgroundColor,(()=>{u.removeAttribute("data-focus"),u.focus()})),u.setAttribute("data-focus",!0)}));let p=o.querySelector("#selCellBorderWidth");p.addEventListener("change",(()=>{if(!this.builder.activeTd)return;this.builder.uo.saveForUndo();let e=p.value,t=o.querySelector(".input-table-bordercolor").style.backgroundColor;""===t&&(t="#000000");var i=o.querySelector("#selTableApplyTo").value,n=this.builder.activeTable,s=this.builder.activeTd.parentNode,a=this.builder.activeTd;"currentcell"===i&&(this.builder.activeTd.style.borderWidth=e+"px",this.builder.activeTd.style.borderStyle="solid",this.builder.activeTd.style.borderColor=t,"0"===e&&(this.builder.activeTd.style.borderWidth="",this.builder.activeTd.style.borderStyle="",this.builder.activeTd.style.borderColor="",o.querySelector(".input-table-bordercolor").style.backgroundColor=""));for(var l=0;l<n.rows.length;l++)for(var r=n.rows[l],d=0;d<r.cells.length;d++){var c=r.cells[d];("table"===i||"evenrows"===i&&If(l+1)||"oddrows"===i&&!If(l+1)||"currentrow"===i&&r===this.builder.activeTd.parentNode||"currentcol"===i&&d===Bf(n,s,a))&&(c.style.borderWidth=e+"px",c.style.borderStyle="solid",c.style.borderColor=t,"0"===e&&(c.style.borderWidth="",c.style.borderStyle="",c.style.borderColor="",o.querySelector(".input-table-bordercolor").style.backgroundColor=""))}this.builder.opts.onChange()})),l=o.querySelector('[data-table-cmd="rowabove"]'),l.addEventListener("click",(()=>{if(!this.builder.activeTd)return;this.builder.uo.saveForUndo();let e=this.builder.activeTable,t=this.builder.activeTd.parentNode,i=e.insertRow(t.rowIndex);for(var n=0;n<t.cells.length;n++){var s=i.insertCell(i.cells.length);this.builder.activeTd.getAttribute("style")&&s.setAttribute("style",this.builder.activeTd.getAttribute("style")),s.style.verticalAlign="top",s.innerHTML="<br>"}this.builder.opts.onChange()})),l=o.querySelector('[data-table-cmd="rowbelow"]'),l.addEventListener("click",(()=>{if(!this.builder.activeTd)return;this.builder.uo.saveForUndo();let e=this.builder.activeTable,t=this.builder.activeTd.parentNode,i=e.insertRow(t.rowIndex+1);for(var n=0;n<t.cells.length;n++){var s=i.insertCell(i.cells.length);this.builder.activeTd.getAttribute("style")&&s.setAttribute("style",this.builder.activeTd.getAttribute("style")),s.style.verticalAlign="top",s.innerHTML="<br>"}this.builder.opts.onChange()})),l=o.querySelector('[data-table-cmd="columnleft"]'),l.addEventListener("click",(()=>{if(!this.builder.activeTd)return;this.builder.uo.saveForUndo();let e=this.builder.activeTable;for(var t=this.builder.activeTd.cellIndex,i=0;i<e.rows.length;i++){var n=e.rows[i].insertCell(t);this.builder.activeTd.getAttribute("style")&&n.setAttribute("style",this.builder.activeTd.getAttribute("style")),n.style.verticalAlign="top",n.innerHTML="<br>"}this.builder.opts.onChange()})),l=o.querySelector('[data-table-cmd="columnright"]'),l.addEventListener("click",(()=>{if(!this.builder.activeTd)return;this.builder.uo.saveForUndo();let e=this.builder.activeTable;for(var t=this.builder.activeTd.cellIndex,i=0;i<e.rows.length;i++){var n=e.rows[i].insertCell(t+1);this.builder.activeTd.getAttribute("style")&&n.setAttribute("style",this.builder.activeTd.getAttribute("style")),n.style.verticalAlign="top",n.innerHTML="<br>"}this.builder.opts.onChange()})),l=o.querySelector('[data-table-cmd="delrow"]'),l.addEventListener("click",(()=>{if(!this.builder.activeTd)return;this.builder.uo.saveForUndo();let e=this.builder.activeTable,t=this.builder.activeTd.parentNode;e.deleteRow(t.rowIndex),this.builder.activeTable=null,this.builder.activeTd=null,0===e.rows.length&&e.parentNode.removeChild(e),this.builder.opts.onChange()})),l=o.querySelector('[data-table-cmd="delcolumn"]'),l.addEventListener("click",(()=>{if(!this.builder.activeTd)return;this.builder.uo.saveForUndo();let e=this.builder.activeTable;for(var t=this.builder.activeTd.cellIndex,i=0;i<e.rows.length;i++)e.rows[i].deleteCell(t);this.builder.activeTable=null,this.builder.activeTd=null,0===e.rows[0].cells.length&&e.parentNode.removeChild(e),this.builder.opts.onChange()})),l=o.querySelector('[data-table-cmd="mergecell"]'),l.addEventListener("click",(()=>{if(!this.builder.activeTd)return;this.builder.uo.saveForUndo();let e=this.builder.activeTable,t=this.builder.activeTd.parentNode,i=this.builder.activeTd;i.colSpan=i.colSpan+1,i.cellIndex+1<e.rows[t.rowIndex].cells.length&&e.rows[t.rowIndex].deleteCell(i.cellIndex+1),this.builder.opts.onChange()}))}this.tableTool=a,this.tableModal=o}click(e){const t=this.dom;if(t.parentsHasElement(e.target,"table")){let i,n,s=e.target;if("td"===s.tagName.toLowerCase())i=s;else{for(;"td"!==s.tagName.toLowerCase();)s=s.parentNode;i=s}for(;"table"!==s.tagName.toLowerCase();)s=s.parentNode;if(n=s,t.hasClass(n,"default")){this.builder.activeTd=i,this.builder.activeTable=n;let e=n;this.tableTool.style.display="flex";let t=this.tableTool.offsetWidth,s=e.offsetWidth*this.builder.opts.zoom,o=e.getBoundingClientRect().top+this.builder.win.pageYOffset,a=e.getBoundingClientRect().left-2;a+=s-t;t+a>window.innerWidth&&(a=e.getBoundingClientRect().left),this.tableTool.style.top=o+"px",this.tableTool.style.left=a+"px"}else this.builder.activeTd=null,this.builder.activeTable=null,this.tableTool.style.display=""}else this.builder.activeTd=null,this.builder.activeTable=null,this.tableTool.style.display="";if(t.hasClass(this.tableModal,"active")&&this.builder.activeTable){let e=this.builder.activeTd;this.tableModal.querySelector(".input-table-bgcolor").style.backgroundColor=e.style.backgroundColor,this.tableModal.querySelector(".input-table-textcolor").style.backgroundColor=e.style.color,this.tableModal.querySelector(".input-table-bordercolor").style.backgroundColor=e.style.borderColor,this.tableModal.querySelector("#selCellBorderWidth").value=parseInt(e.style.borderWidth)}else this.tableModal.querySelector(".input-table-bgcolor").style.backgroundColor="",this.tableModal.querySelector(".input-table-textcolor").style.backgroundColor="",this.tableModal.querySelector(".input-table-bordercolor").style.backgroundColor="",this.tableModal.querySelector("#selCellBorderWidth").value=0}}function If(e){return e%2==0}function Bf(e,t,i){for(var n=0,s=!1,o=0;o<t.cells.length;o++)!1===s&&(n+=t.cells[o].colSpan),i===t.cells[o]&&(s=!0);return(n-=i.colSpan-1)-1}class Nf{constructor(e){this.builder=e;const t=this.builder.util,i=this.builder.builderStuff,n=this.builder.contentStuff;this.util=t,this.builderStuff=i;const s=this.builder.dom;this.dom=s;let o=i.querySelector(".is-video-tool");if(!o){let e=`\n            <div class="is-tool is-video-tool">\n                <button title="${t.out("Settings")}" data-title="${t.out("Settings")}" style="width:40px;height:40px;background:none;"><svg class="is-icon-flex"><use xlink:href="#ion-ios-gear"></use></svg></button>\n            </div>\n            \n            <div class="is-modal videolink" tabindex="-1" role="dialog" aria-modal="true" aria-hidden="true">\n                <div class="is-modal-content">\n                    <label for="inpVideoLinkSource" style="display:block">${t.out("Source")}:</label>\n                    <div class="video-url">\n                        <input id="inpVideoLinkSource" class="input-url" type="text"/>\n                        <button title="${t.out("Select")}" class="input-select" style="flex:none;">\n                            ${this.builder.opts.selectIcon}\n                        </button>\n                        <div class="video-larger1 input-upload" style="position:relative;flex:none;box-shadow: 0px 3px 6px -6px rgba(0, 0, 0, 0.32);">\n                            <form class="form-upload-larger" target="frameTargetVideoUpload" method="post" action="${this.builder.opts.videoHandler}" enctype="multipart/form-data" style="position:absolute;top:0;left:0;display:flex;justify-content:center;align-items:center;width:100%;height:100%;">\n                                <input id="hidRefId5" name="hidRefId" type="hidden" value="" />\n                                <svg class="is-icon-flex" style="width:18px;height:18px;"><use xlink:href="#ion-ios-cloud-upload-outline"></use></svg>\n                                <input title="${t.out("Select")}" id="fileVideo1" name="fileImage" type="file" accept="video/mp4" style="position:absolute;top:-30px;left:0;width:100%;height:80px;opacity: 0;cursor: pointer;">\n                            </form>\n\n                            <iframe tabindex="0" id="frameTargetVideoUpload" name="frameTargetVideoUpload" tabIndex="-1" src="about:blank" style="width:1px;height:1px;position:absolute;top:0;right:-100000px"></iframe>\n                        </div>\n                    </div>\n                    \n                    <label style="display:block;margin-top:14px;">\n                        <input class="input-video-controls" type="checkbox" />  ${t.out("Show Controls")}&nbsp;\n                    </label>\n                    <label style="display:block;margin-top:5px;">\n                        <input class="input-video-loop" type="checkbox" />  ${t.out("Loop")}&nbsp;\n                    </label>\n                    <label style="display:block;margin-top:5px;">\n                        <input class="input-video-autoplay" type="checkbox" />  ${t.out("Autoplay")}&nbsp;\n                    </label>\n                    \n                    <div style="text-align:right;margin-top:14px;">\n                        <button title="${t.out("Cancel")}" class="input-cancel classic-secondary">${t.out("Cancel")}</button>\n                        <button title="${t.out("Ok")}" class="input-ok classic-primary">${t.out("Ok")}</button>\n                    </div>\n                </div>\n            </div>\n\n            <div class="is-modal videoselect" style="z-index:10005" tabindex="-1" role="dialog" aria-modal="true" aria-hidden="true">\n                <div style="width:${this.builder.videoSelectWidth};max-width:${this.builder.videoSelectMaxWidth};height:${this.builder.videoSelectHeight};padding:0;">\n                    <iframe tabindex="0" style="width:100%;height:100%;border: none;display: block;" src="about:blank"></iframe>\n                </div>\n            </div>\n            `;s.appendHtml(i,e),o=this.builder.iframe?n.querySelector(".is-video-tool"):i.querySelector(".is-video-tool");const a=i.querySelector(".is-modal.videolink");this.videoTool=o,this.videoModal=a;let l=this.videoTool.querySelector("button");s.addEventListener(l,"click",(()=>{let e=this.builder.activeVideo,t=e.querySelector("source"),i="";t&&(i=t.getAttribute("src")),a.querySelector(".input-url").value=i;const n=a.querySelector(".input-video-controls");e.hasAttribute("controls")?n.checked=!0:n.checked=!1;const s=a.querySelector(".input-video-loop");e.hasAttribute("loop")?s.checked=!0:s.checked=!1;const o=a.querySelector(".input-video-autoplay");e.hasAttribute("autoplay")?o.checked=!0:o.checked=!1,this.util.showModal(a,!0,(()=>{l.removeAttribute("data-focus"),l.focus()})),l.setAttribute("data-focus",!0)})),""!==this.builder.opts.videoHandler||this.builder.opts.onVideoUpload||(a.querySelector(".video-larger1").style.display="none"),this.builder.opts.onVideoSelectClick||""!==this.builder.opts.videoSelect||(a.querySelector(".input-select").style.display="none");let r=a.querySelector(".input-select");r&&s.addEventListener(r,"click",(()=>{if(this.builder.opts.onVideoSelectClick)this.builder.opts.onVideoSelectClick({targetInput:a.querySelector(".input-url"),theTrigger:r});else{let e=i.querySelector(".is-modal.videoselect"),n=e.querySelector("iframe");this.builder.opts.assetRefresh&&(n.src=this.builder.opts.videoSelect),"about:blank"===n.src&&(n.src=this.builder.opts.videoSelect),t.showModal(e,!1,(()=>{r.removeAttribute("data-focus"),r.focus()}),!1,this.builder.assetPanelFullScreen),r.setAttribute("data-focus",!0)}this.builder.targetInput=a.querySelector(".input-url"),this.builder.targetCallback=null,this.builder.targetAssetType="video"}));let d=a.querySelector("#fileVideo1");s.addEventListener(d,"change",(e=>{let t=d;for(;"form"!==t.nodeName.toLowerCase();)t=t.parentNode;let i=t;s.addClass(i,"please-wait"),a.querySelector("#hidRefId5").value=this.builder.opts.customval,this.builder.opts.onVideoUpload?this.builder.opts.onVideoUpload(e):i.submit(),d.value=""}));let c=a.querySelector(".input-ok");s.addEventListener(c,"click",(()=>{this.builder.uo.saveForUndo();let e=this.builder.activeVideo;if(a.querySelector(".input-video-controls").checked?e.setAttribute("controls",""):e.removeAttribute("controls"),a.querySelector(".input-video-loop").checked?e.setAttribute("loop",""):e.removeAttribute("loop"),a.querySelector(".input-video-autoplay").checked?e.setAttribute("autoplay",""):e.removeAttribute("autoplay"),""!==a.querySelector(".input-url").value){let t=a.querySelector(".input-url").value,i=e.querySelector("source");t!==i.getAttribute("src")&&(i&&i.setAttribute("src",t),setTimeout((function(){e.pause(),e.load()}),100)),this.builder.opts.onChange()}this.builder.hideModal(a)}));let u=a.querySelector(".input-cancel");s.addEventListener(u,"click",(()=>{this.builder.hideModal(a)}))}}click(e){let t=e.target;if("video"===t.tagName.toLowerCase()){if(t.closest("[data-html]"))return this.builder.activeVideo=null,void(this.videoTool.style.display="");this.builder.activeVideo=t,this.videoTool.style.display="flex";let e=this.videoTool.offsetWidth,i=t.offsetWidth*this.builder.opts.zoom,n=t.getBoundingClientRect().top+this.builder.win.pageYOffset,s=t.getBoundingClientRect().left;s+=i-e;e+s>window.innerWidth&&(s=t.getBoundingClientRect().left),this.videoTool.style.top=n+"px",this.videoTool.style.left=s+"px"}else this.builder.activeVideo=null,this.videoTool.style.display=""}}class $f{constructor(e){this.builder=e;const t=this.builder.util,i=this.builder.builderStuff,n=this.builder.contentStuff;this.util=t,this.builderStuff=i;const s=this.builder.dom;this.dom=s;let o=i.querySelector(".is-audio-tool");if(!o){let e=`\n            <div class="is-tool is-audio-tool">\n                <button title="${t.out("Settings")}" data-title="${t.out("Settings")}" style="width:37px;height:37px;background:none;"><svg class="is-icon-flex"><use xlink:href="#ion-ios-gear"></use></svg></button>\n            </div>\n            \n            <div class="is-modal audiolink" tabindex="-1" role="dialog" aria-modal="true" aria-hidden="true">\n                <div class="is-modal-content">\n                    <label for="inpAudioLinkSource" style="display:block">${t.out("Source")}:</label>\n                    <div class="audio-url">\n                        <input id="inpAudioLinkSource" class="input-url" type="text"/>\n                        <button title="${t.out("Select")}" class="input-select" style="flex:none;">\n                            ${this.builder.opts.selectIcon}\n                        </button>\n                        <div class="audio-file-upload input-upload" style="position:relative;flex:none;box-shadow: 0px 3px 6px -6px rgba(0, 0, 0, 0.32);">\n                            <form class="form-upload-larger" target="frameTargetAudioUpload" method="post" action="${this.builder.opts.audioHandler}" enctype="multipart/form-data" style="position:absolute;top:0;left:0;display:flex;justify-content:center;align-items:center;width:100%;height:100%;">\n                                <input id="hidRefAudio" name="hidRefId" type="hidden" value="" />\n                                <svg class="is-icon-flex" style="width:18px;height:18px;"><use xlink:href="#ion-ios-cloud-upload-outline"></use></svg>\n                                <input title="${t.out("Select")}" id="fileAudio1" name="fileImage" type="file" accept="audio/mp3" style="position:absolute;top:-30px;left:0;width:100%;height:80px;opacity: 0;cursor: pointer;">\n                            </form>\n\n                            <iframe tabindex="0" id="frameTargetAudioUpload" name="frameTargetAudioUpload" tabIndex="-1" src="about:blank" style="width:1px;height:1px;position:absolute;top:0;right:-100000px"></iframe>\n                        </div>\n                    </div>\n                    \n                    <div style="text-align:right;margin-top:14px;">\n                        <button title="${t.out("Cancel")}" class="input-cancel classic-secondary">${t.out("Cancel")}</button>\n                        <button title="${t.out("Ok")}" class="input-ok classic-primary">${t.out("Ok")}</button>\n                    </div>\n                </div>\n            </div>\n\n            <div class="is-modal audioselect" style="z-index:10005" tabindex="-1" role="dialog" aria-modal="true" aria-hidden="true">\n                <div style="width:${this.builder.audioSelectWidth};max-width:${this.builder.audioSelectMaxWidth};height:${this.builder.audioSelectHeight};padding:0;">\n                    <iframe tabindex="0" style="width:100%;height:100%;border: none;display: block;" src="about:blank"></iframe>\n                </div>\n            </div>\n            `;s.appendHtml(i,e),o=this.builder.iframe?n.querySelector(".is-audio-tool"):i.querySelector(".is-audio-tool");const a=i.querySelector(".is-modal.audiolink");this.audioTool=o,this.audioModal=a;let l=this.audioTool.querySelector("button");s.addEventListener(l,"click",(()=>{let e=this.builder.activeAudio.querySelector("source"),t="";e&&(t=e.getAttribute("src")),a.querySelector(".input-url").value=t,this.util.showModal(a,!0,(()=>{l.removeAttribute("data-focus"),l.focus()})),l.setAttribute("data-focus",!0)})),""!==this.builder.opts.audioHandler||this.builder.opts.onAudioUpload||(a.querySelector(".audio-file-upload").style.display="none"),this.builder.opts.onAudioSelectClick||""!==this.builder.opts.audioSelect||(a.querySelector(".input-select").style.display="none");let r=a.querySelector(".input-select");r&&s.addEventListener(r,"click",(()=>{if(this.builder.opts.onAudioSelectClick)this.builder.opts.onAudioSelectClick({targetInput:a.querySelector(".input-url"),theTrigger:r});else{let e=i.querySelector(".is-modal.audioselect"),n=e.querySelector("iframe");this.builder.opts.assetRefresh&&(n.src=this.builder.opts.audioSelect),"about:blank"===n.src&&(n.src=this.builder.opts.audioSelect),t.showModal(e,!1,(()=>{r.removeAttribute("data-focus"),r.focus()}),!1,this.builder.assetPanelFullScreen),r.setAttribute("data-focus",!0)}this.builder.targetInput=a.querySelector(".input-url"),this.builder.targetCallback=null,this.builder.targetAssetType="audio"}));let d=a.querySelector("#fileAudio1");s.addEventListener(d,"change",(e=>{let t=d;for(;"form"!==t.nodeName.toLowerCase();)t=t.parentNode;let i=t;s.addClass(i,"please-wait"),a.querySelector("#hidRefAudio").value=this.builder.opts.customval,this.builder.opts.onAudioUpload?this.builder.opts.onAudioUpload(e):i.submit(),d.value=""}));let c=a.querySelector(".input-ok");s.addEventListener(c,"click",(()=>{this.builder.uo.saveForUndo();let e=this.builder.activeAudio;if(""!==a.querySelector(".input-url").value){let t=a.querySelector(".input-url").value,i=e.querySelector("source");t!==i.getAttribute("src")&&(i&&i.setAttribute("src",t),setTimeout((function(){e.pause(),e.load()}),100)),this.builder.opts.onChange()}this.builder.hideModal(a)}));let u=a.querySelector(".input-cancel");s.addEventListener(u,"click",(()=>{this.builder.hideModal(a)}))}}click(e){if(this.dom.hasClass(e.target,"ovl")&&e.target.parentNode.querySelector("audio")){e.target.style.display="none";let t=e.target.parentNode.querySelector("audio");this.builder.activeAudio=t,this.audioTool.style.display="flex";let i=this.audioTool.offsetWidth,n=t.offsetWidth*this.builder.opts.zoom,s=t.getBoundingClientRect().top+this.builder.win.pageYOffset,o=t.getBoundingClientRect().left;o+=n-i;i+o>window.innerWidth&&(o=t.getBoundingClientRect().left),this.audioTool.style.top=s+"px",this.audioTool.style.left=o+"px"}else this.builder.activeAudio=null,this.audioTool.style.display=""}}class zf{constructor(e){this.builder=e;const t=this.builder.util,i=this.builder.builderStuff;this.util=t,this.builderStuff=i;const n=this.builder.dom;this.dom=n;let s=i.querySelector("#divSvgTool");if(!s){let e='\n            <div id="divSvgTool" class="is-tool">\n                \n            </div>\n            ';n.appendHtml(i,e),s=i.querySelector("#divSvgTool")}this.svgTool=s}click(){}}class Pf{constructor(e){this.builder=e;const t=this.builder.util,i=this.builder.builderStuff;this.util=t,this.builderStuff=i;const n=this.builder.dom;this.dom=n,this.hyperlink=new Ef(e),this.button=new Lf(e),this.image=new kf(e),this.spacer=new qf(e),this.module=new Tf(e),this.code=new Mf(e),this.iframe=new Of(e),this.table=new Rf(e),this.video=new Nf(e),this.audio=new $f(e),this.svg=new zf(e)}applyBehavior(e){const t=this.dom;let i=!1;e.hasAttribute("data-html")&&(i=!0);let n=!1;e.hasAttribute("data-noedit")&&(n=!0);let s=!1;if(e.hasAttribute("data-protected")&&(s=!0),i||n||s){if(n){let t=e.querySelectorAll("[contenteditable]");Array.prototype.forEach.call(t,(e=>{e.contentEditable=!1}))}return}let o=e.querySelectorAll(".is-social");Array.prototype.forEach.call(o,(e=>{e.contentEditable=!1}));let a=e.querySelectorAll(".spacer");Array.prototype.forEach.call(a,(e=>{e.contentEditable=!1}));let l=e.querySelectorAll("hr");Array.prototype.forEach.call(l,(e=>{e.contentEditable=!1}));let r=e.querySelectorAll("a");Array.prototype.forEach.call(r,(i=>{"inline-block"===t.getStyle(i,"display")&&(i.contentEditable=!0,i.parentNode!==e&&(i.parentNode.contentEditable=!1))}));let d=e.querySelectorAll(".embed-responsive");Array.prototype.forEach.call(d,(e=>{let i=e.querySelector(".ovl");i||(t.appendHtml(e,'<div class="ovl" style="position:absolute;background:#fff;opacity:0.01;cursor:pointer;top:0;left:0px;width:100%;height:100%;z-index:1"></div>'),i=e.querySelector(".ovl"),t.addEventListener(i,"click",(()=>{let e=document.querySelectorAll(".ovl");Array.prototype.forEach.call(e,(e=>{e.style.display="block"})),i.style.display="none"})))}));let c=e.querySelectorAll("audio");Array.prototype.forEach.call(c,(e=>{let i=e.parentNode.querySelector(".ovl");i||(t.appendHtml(e.parentNode,'<div class="ovl" style="position:absolute;background:#fff;opacity:0.01;cursor:pointer;top:0;left:0px;width:100%;height:100%;z-index:1"></div>'),i=e.parentNode.querySelector(".ovl"),t.addEventListener(i,"click",(()=>{let e=document.querySelectorAll(".ovl");Array.prototype.forEach.call(e,(e=>{e.style.display=""})),i.style.display="none"}))),setTimeout((()=>{i.closest(".elm-active")?i.click():i.style.display=""}),300)}))}click(e,t){const i=this.dom,n=t.target;let s=!1;e.hasAttribute("data-noedit")&&(s=!0);let o=!1;e.hasAttribute("data-protected")&&(o=!0);let a=!1,l=!1;if(e.hasAttribute("data-html")&&(a=!0,i.parentsHasAttribute(n,"data-subblock")&&(l=!0)),!a&&!s&&!o||l){const s=document.querySelectorAll(".icon-active");Array.prototype.forEach.call(s,(e=>{i.removeClass(e,"icon-active")})),this.builder.activeIcon=null,"i"===n.tagName.toLowerCase()&&""===n.innerHTML&&(i.addClass(n,"icon-active"),i.selectElementContents(n),this.builder.activeIcon=n,document.selection?document.selection.empty():window.getSelection().removeAllRanges()),this.image.click(t),this.button.click(e,t),this.hyperlink.click(e,t),"a"!==n.tagName.toLowerCase()&&!i.parentsHasTag(n,"a")||a||t.preventDefault(),this.table.click(t),this.iframe.click(t),this.video.click(t),this.audio.click(t),this.spacer.click(t),this.svg.click(t)}else if(this.util.hideControls(),"img"===t.target.tagName.toLowerCase()&&t.target.hasAttribute("data-image-embed")){if(this.image.click(t),t.target.hasAttribute("data-sync")){let e=t.target;e.setAttribute("data-src",e.src)}}else"img"===t.target.tagName.toLowerCase()&&e.hasAttribute("data-image-allowed")&&this.image.click(t);this.code.click(e,t),this.module.click(e,t)}}class Hf{constructor(e={}){this.opts=Object.assign(this,{animateModal:!1,elementToAnimate:"",stuffPlacement:"#_cbhtml"},e),this.id=this.makeId();let t=document.querySelector(this.opts.stuffPlacement);t||(t=document.createElement("div"),t.id="_cbhtml",document.body.appendChild(t)),this.builderStuff=t;const i=document.createElement("div");i.id=this.id,t.appendChild(i),this.objStuff=i}confirm(e,t,i){let n=`<div class="is-modal is-confirm" tabindex="-1" role="dialog" aria-modal="true" aria-hidden="true">\n            <div class="is-modal-content" style="padding-bottom:20px;">\n                <div style="margin: 20px 0 30px;font-size: 14px;">${e}</div>\n                <button title="${this.out("Delete")}" class="input-ok classic">${this.out("Delete")}</button>\n            </div>\n        </div>`,s=this.objStuff.querySelector(".is-confirm");s||(this.objStuff.insertAdjacentHTML("beforeend",n),s=this.builderStuff.querySelector(".is-confirm")),this.show(s,!1,(()=>{s.parentNode.removeChild(s),t(!1)}),i);let o=s.querySelector(".is-confirm .input-ok");this.addEventListener(o,"click",(()=>{this.hide(s),s.parentNode.removeChild(s),t(!0)}))}show(e,t,i,n){this.addClass(e,"active");let s=!1;if(s=null!=n?n:this.opts.animateModal,s){const e=document.querySelectorAll(this.opts.elementToAnimate);Array.prototype.forEach.call(e,(e=>{e.style.transform=`scale(${this.builder.opts.zoom-.02})`,e.style.WebkitTransform=`scale(${this.builder.opts.zoom-.02})`,e.style.MozTransform=`scale(${this.builder.opts.zoom-.02})`,e.setAttribute("scaled-down","1")}))}if(!e.querySelector(".is-modal-overlay")){let n;if(n=t?'<div class="is-modal-overlay overlay-stay"></div>':'<div class="is-modal-overlay"></div>',e.insertAdjacentHTML("afterbegin",n),!t){let t=e.querySelector(".is-modal-overlay");this.addEventListener(t,"click",(()=>{i&&i(),this.hide(e)}))}}}hide(e){if(""!==this.opts.elementToAnimate){const e=document.querySelectorAll(this.opts.elementToAnimate);Array.prototype.forEach.call(e,(e=>{e.getAttribute("scaled-down")&&(e.style.transform=`scale(${this.builder.opts.zoom})`,e.style.WebkitTransform=`scale(${this.builder.opts.zoom})`,e.style.MozTransform=`scale(${this.builder.opts.zoom})`,e.removeAttribute("scaled-down"))}))}this.removeClass(e,"active")}makeId(){let e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(let i=0;i<2;i++)e+=t.charAt(Math.floor(Math.random()*t.length));let i="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let e=0;e<5;e++)i+=n.charAt(Math.floor(Math.random()*n.length));return e+i}addClass(e,t){e&&(this.hasClass(e,t)||(0===e.classList.length?e.className=t:e.className=e.className+" "+t))}removeClass(e,t){e&&e.classList.length>0&&(e.className=e.className.replace(t,""))}hasClass(e,t){return!!e&&(e.classList?e.classList.contains(t):new RegExp("\\b"+t+"\\b").test(e.className))}addEventListener(e,t,i){e.addEventListener(t,i)}}class Df{constructor(e={}){this.opts=Object.assign(this,{onPick:function(){},color:"",colors:["#ff9f01","#f57c00","#e64918","#d32f2f","#5d4038","#37474f","#353535","#fbc02c","#b0b42a","#689f39","#c21f5b","#7b21a2","#522da8","#616161","#01b8c9","#009688","#388d3c","#0388d0","#1465c0","#2f3f9e","#9e9e9e"],renderOn:"",animateModal:!1,elementToAnimate:"",stuffPlacement:"#_cbhtml",lang:[]},e),this.id=function(){let e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(let i=0;i<2;i++)e+=t.charAt(Math.floor(Math.random()*t.length));let i="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let e=0;e<5;e++)i+=n.charAt(Math.floor(Math.random()*n.length));return e+i}();let t=document.querySelector(this.opts.stuffPlacement);t||(t=document.createElement("div"),t.id="_cbhtml",t.className="is-ui",document.body.appendChild(t)),this.builderStuff=t;const i=document.createElement("div");i.id=this.id,t.appendChild(i),this.objStuff=i;const n=new Hf({animateModal:this.opts.animateModal,elementToAnimate:this.opts.elementToAnimate,stuffPlacement:this.opts.stuffPlacement});this.modal=n;let s="";if(this.opts.colors.length>0){s+='<div class="color-default">';for(var o=0;o<this.opts.colors.length;o++)"#ffffff"===this.opts.colors[o]?s+='<button title="'+this.opts.colors[o]+'" data-color="'+this.opts.colors[o]+'" style="background:'+this.opts.colors[o]+';outline:rgba(222,222,222,0.75) 1px solid"></button>':s+='<button title="'+this.opts.colors[o]+'" data-color="'+this.opts.colors[o]+'" style="background:'+this.opts.colors[o]+';"></button>';s+="</div>"}let a="";for(o=0;o<105;o++)a+=o%2==0?'<div class="dot-1"></div>':'<div class="dot-2"></div>';let l="";for(o=0;o<25;o++)l+=o%2==0?'<div class="dot-3"></div>':'<div class="dot-4"></div>';let r,d=`<div class="pickcolor" style="width:269px;padding:12px;box-sizing:border-box;">\n            ${s}\n            <div class="color-gradient"></div>\n\n            <div class="div-color-opacity" style="height: 10px; margin: 12px 0px 17px;position:relative;">\n                <div style="position:absolute;top:0;left:0;width:100%;height:21px;display:flex;flex-direction:column;flex-flow:wrap">\n                    ${a}\n                </div>\n                <input type="range" min="0" max="100" value="100" class="color-opacity is-rangeslider" style="position:relative;background: transparent;margin: 0 !important;">\n            </div>\n            <div style="display:flex;margin:25px 0 3px;">\n                <button title="${this.out("B")}" data-color="#000000" style="background:#111;color:#f3f3f3;border:transparent 1px solid;width:35px;height:35px;line-height:35px;font-size:10px;border-right:none;">${this.out("B")}</button>\n                <button title="${this.out("W")}" data-color="#ffffff" style="border: rgb(0 0 0 / 6%) 1px solid;background:#fff;color:#111;width:35px;height:35px;line-height:35px;font-size:10px;">${this.out("W")}</button>\n                <button title="${this.out("Clear")}" data-color="" class="clear" style="width:140px;height:35px;line-height:35px;border-right:none;">${this.out("Clear")}</button>\n                <button title="${this.out("More")}" class="input-hsl" style="width:35px;height:35px;line-height:35px;font-size:10px;"><svg class="is-icon-flex" style="width:13px;height:13px;"><use xlink:href="#ion-more"></use></svg></button>\n            </div>\n            <div style="display:flex">\n                <div style="flex-grow: 0;flex-shrink: 0;flex-basis: 37px;height:34px;box-sizing:border-box;margin-top:8px;position:relative;">\n                    <div style="position:absolute;top:0;left:0;width:100%;height:100%;display:flex;flex-direction:column;flex-flow:wrap;overflow:hidden;">\n                        ${l}\n                    </div>\n                    <button class="is-color-preview" tabindex="0" style="outline:none;cursor:default;position:absolute;top:0;left:0;width:100%;height:100%;transition:none;"></button>\n                </div>\n                <input class="input-text" type="text" style="width:209px;height:35px;margin-top:8px;font-size:13px;"/>\n                <button title="${this.out("Apply")}" class="input-ok" style="height:35px;margin-top:8px;"><svg class="is-icon-flex"><use xlink:href="#icon-ok"></use></svg></use></svg></svg></button>\n            </div>\n        </div>`,c=`<div class="is-modal pickcolor" tabindex="-1" role="dialog" aria-modal="true" aria-hidden="true">\n            <div class="is-modal-content">\n                <div class="is-modal-bar is-draggable"></div>\n                <div>\n\n                    ${s}\n                    <div class="color-gradient"></div>\n        \n                    <div class="div-color-opacity" style="height: 10px; margin: 12px 0px 17px;position:relative;">\n                        <div style="position:absolute;top:0;left:0;width:100%;height:21px;display:flex;flex-direction:column;flex-flow:wrap">\n                            ${a}\n                        </div>\n                        <input type="range" min="0" max="100" value="100" class="color-opacity is-rangeslider" style="position:relative;background: transparent;margin: 0 !important;">\n                    </div>\n                    <div style="display:flex;margin:25px 0 3px;">\n                        <button title="${this.out("B")}" data-color="#000000" style="background:#111;color:#f3f3f3;border:transparent 1px solid;width:35px;height:35px;line-height:35px;font-size:10px;border-right:none;">${this.out("B")}</button>\n                        <button title="${this.out("W")}" data-color="#ffffff" style="background:#fff;color:#111;width:35px;height:35px;line-height:35px;font-size:10px;">${this.out("W")}</button>\n                        <button title="${this.out("Clear")}" data-color="" class="clear" style="width:140px;height:35px;line-height:35px;border-right:none;">${this.out("Clear")}</button>\n                        <button title="${this.out("More")}" class="input-hsl" style="width:35px;height:35px;line-height:35px;font-size:10px;"><svg class="is-icon-flex" style="width:13px;height:13px;"><use xlink:href="#ion-more"></use></svg></button>\n                    </div>\n                    <div style="display:flex">\n                        <div style="flex-grow: 0;flex-shrink: 0;flex-basis: 37px;height:35px;box-sizing:border-box;margin-top:8px;position:relative;">\n                            <div style="position:absolute;top:0;left:0;width:100%;height:100%;display:flex;flex-direction:column;flex-flow:wrap;overflow:hidden;">\n                                ${l}\n                            </div>\n                            <button class="is-color-preview" tabindex="0" style="outline:none;cursor:default;position:absolute;top:0;left:0;width:100%;height:100%;transition:none;"></button>\n                        </div>\n                        <input class="input-text" type="text" style="width:209px;height:35px;margin-top:8px;font-size:13px;"/>\n                        <button title="${this.out("Apply")}" class="input-ok" style="height:35px;margin-top:8px;"><svg class="is-icon-flex"><use xlink:href="#icon-ok"></use></svg></use></svg></svg></button>\n                    </div>\n                    \n                </div>\n            </div>\n        </div>`;""!==this.opts.renderOn?(r=document.querySelector(this.opts.renderOn),r.insertAdjacentHTML("beforeend",d)):(i.insertAdjacentHTML("beforeend",c),r=i.querySelector(".is-modal.pickcolor")),i.insertAdjacentHTML("beforeend",'<div class="is-modal pickcolormore" tabindex="-1" role="dialog" aria-modal="true" aria-hidden="true">\n            <div class="is-modal-content" style="padding: 12px">\n                <div class="is-modal-bar is-draggable"></div>\n                <div>\n                    \n                    <div class="color-swatch"></div>\n                    \n                    <div class="div-color-hue" style="height: 23px;margin: 10px 0 0;position:relative">\n                        <input type="range" min="0" max="360" value="0" class="color-hue is-rangeslider" style="position:relative;background:transparent;margin:0 !important;z-index:1">\n                    </div>\n\n                </div>\n            </div>\n        </div>');const u=i.querySelector(".is-modal.pickcolormore");this.pickcolor=r,this.pickcolormore=u;const p=e=>{let t=e.querySelectorAll('a[href], input:not([disabled]):not([type="hidden"]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), *[tabindex]');if(0===t.length)return;let i=t[0],n=t[t.length-1];n.addEventListener("keydown",(e=>{9!==e.which||e.shiftKey||(e.preventDefault(),i.focus())})),i.addEventListener("keydown",(e=>{9===e.which&&e.shiftKey&&(e.preventDefault(),n.focus())}))};p(r),new Uo({selector:"#"+this.id+" .is-draggable"});let h=document.createElement("div");h.style.backgroundColor=this.opts.color;let m,g=h.style.backgroundColor;""!==g&&(m=Qf.color(g),this.baseRGB=m);let b=u.querySelector(".color-swatch"),f=r.querySelector(".color-gradient");if(m){let e;e=""!==g?Kf(m.r,m.g,m.b):0,Wf(b,e);let t=Jf(m.r,m.g,m.b);Yf(f,e,t[1])}else{let e;e=0,Wf(b,e);let t=Jf(255,255,255);Yf(f,e,t[1])}p(u);let v=r.querySelector(".input-hsl");this.addEventListener(v,"click",(()=>{this.openMore()}));var y=u.querySelector(".color-hue");y.oninput=()=>{let e=y.value/360;Wf(b,361*e)};let x=document.createElement("div");x.style.display="flex",x.style.position="absolute",x.style.width="calc(100% + 1px)",x.style.top=0,x.style.left=0;let _=function(e,t,i,n){let s=[],o=Math.trunc(360/n);for(let a=0;a<n;a++){let n=a*o;s.push(`hsla(${n},${t}%,${e}%,${i})`)}return s}(45,100,1,360);for(o=0;o<_.length-1;o++){let e=document.createElement("div");e.style.backgroundColor=_[o],e.style.width="1px",e.style.height="24px",x.appendChild(e)}u.querySelector(".div-color-hue").appendChild(x);const w=r.querySelector(".color-opacity");w.oninput=()=>{let e=w.value/100,t=this.baseRGB;if(t){let i;i=1===e?"rgb("+t.r+","+t.g+","+t.b+")":"rgba("+t.r+","+t.g+","+t.b+","+e+")",r.querySelector(".is-color-preview").style.backgroundColor=i,r.querySelector(".input-text").value=i,this.opts.onPick(i),w.focus()}},m&&(m.a?w.value=100*m.a:w.value=100);let S=w.value/100,C="",k="";m&&(C=1*S==1?"rgb("+m.r+","+m.g+","+m.b+")":"rgba("+m.r+","+m.g+","+m.b+","+S+")",k="linear-gradient(90deg, rgba("+m.r+","+m.g+","+m.b+",0), rgba("+m.r+","+m.g+","+m.b+",1))"),r.querySelector(".div-color-opacity .color-opacity").style.backgroundImage=k;let A=r.querySelector(".is-color-preview");A.style.background="none",""!==C&&(A.style.backgroundColor=C);let E=r.querySelector(".input-text");E.value=C,this.addEventListener(E,"keydown",(e=>{13!==e.which&&13!==e.keyCode&&"Enter"!==e.key||(this.setColor(e.target.value),e.preventDefault(),e.stopImmediatePropagation())}));let L=r.querySelector(".input-ok");this.addEventListener(L,"click",(()=>{this.setColor(E.value)}));let q=r.querySelectorAll("[data-color]");Array.prototype.forEach.call(q,(e=>{this.addEventListener(e,"click",(e=>{let t=e.target,i=t.getAttribute("data-color"),n=jf(i);if(this.baseRGB=n,!this.parentsHasClass(t,"color-gradient")&&""!==i)if(n.r===n.g&&n.g===n.b)Xf(f);else{let e=Kf(n.r,n.g,n.b);Wf(b,e),Yf(r.querySelector(".color-gradient"),e,Jf(n.r,n.g,n.b)[1])}let s=w.value/100,o="",a="";n&&(o=1*s==1?"rgb("+n.r+","+n.g+","+n.b+")":"rgba("+n.r+","+n.g+","+n.b+","+s+")",a="linear-gradient(90deg, rgba("+n.r+","+n.g+","+n.b+",0), rgba("+n.r+","+n.g+","+n.b+",1))"),r.querySelector(".div-color-opacity .color-opacity").style.backgroundImage=a,r.querySelector(".is-color-preview").style.backgroundColor=o,r.querySelector(".input-text").value=o,this.opts.onPick(o),t.focus()}))})),q=u.querySelectorAll("[data-color]"),Array.prototype.forEach.call(q,(e=>{this.addEventListener(e,"click",(()=>{let t=jf(e.getAttribute("data-color"));this.baseRGB=t;let i=Kf(t.r,t.g,t.b),n=Jf(t.r,t.g,t.b);Yf(f,i,n[1]);let s=w.value/100,o="",a="";t&&(o=1*s==1?"rgb("+t.r+","+t.g+","+t.b+")":"rgba("+t.r+","+t.g+","+t.b+","+s+")",a="linear-gradient(90deg, rgba("+t.r+","+t.g+","+t.b+",0), rgba("+t.r+","+t.g+","+t.b+",1))"),r.querySelector(".div-color-opacity .color-opacity").style.backgroundImage=a,r.querySelector(".is-color-preview").style.backgroundColor=o,r.querySelector(".input-text").value=o,this.opts.onPick(o),e.focus()}))}))}out(e){if(this.opts.lang){let t=this.opts.lang[e];return t||e}return e}openMore(){const e=t=>{if(27===t.keyCode){this.pickcolormore.classList.remove("active"),this.pickcolormore.removeEventListener("keydown",e),this.pickcolor.querySelector(".input-hsl").focus()}};this.modal.show(this.pickcolormore,!1,(()=>{this.pickcolormore.removeEventListener("keydown",e),this.pickcolor.querySelector(".input-hsl").focus()}),!1),this.pickcolormore.addEventListener("keydown",e),this.pickcolormore.querySelector("input").focus()}open(e,t,i){if(e&&(this.opts.onPick=e),t)this.opts.color=t,this.setColor(t,!0);else{this.pickcolor.querySelector(".input-text").value=""}const n=e=>{27===e.keyCode&&(this.pickcolor.classList.remove("active"),this.pickcolor.removeEventListener("keydown",n),i&&i())};this.cancel=i,this.modal.show(this.pickcolor,!1,(()=>{this.pickcolor.removeEventListener("keydown",n),this.cancel&&this.cancel()}),!1),this.pickcolor.addEventListener("keydown",n),this.pickcolor.querySelector(".input-text").focus()}isColorName(e){return/^([a-z]+)$/i.test(e)}convertColorToRGB(e){const t=document.createElement("div");t.style.color=e,document.body.appendChild(t);const i=window.getComputedStyle(t).color;document.body.removeChild(t);const n=i.match(/\d+/g);return`rgb(${n[0]}, ${n[1]}, ${n[2]})`}setColor(e,t){let i=this.pickcolor,n=this.pickcolormore,s=i.querySelector(".color-opacity"),o=i.querySelector(".color-gradient");this.isColorName(e)&&(e=this.convertColorToRGB(e));let a,l=e;if(-1!==l.indexOf("rgb")&&(a=Qf.color(l)),-1!==l.indexOf("#")&&(a=jf(l)),!a){return Xf(o),s.value=100,i.querySelector(".div-color-opacity .color-opacity").style.backgroundImage="",i.querySelector(".is-color-preview").style.background="none",void(i.querySelector(".input-text").value="")}if(this.baseRGB=a,a.r===a.g&&a.g===a.b)Xf(o);else{let e=n.querySelector(".color-swatch"),t=Kf(a.r,a.g,a.b);Wf(e,t),Yf(o,t,Jf(a.r,a.g,a.b)[1])}a.a||0===a.a?s.value=100*a.a:s.value=100;let r=s.value/100,d="",c="";a&&(d=1*r==1?"rgb("+a.r+","+a.g+","+a.b+")":"rgba("+a.r+","+a.g+","+a.b+","+r+")",c="linear-gradient(90deg, rgba("+a.r+","+a.g+","+a.b+",0), rgba("+a.r+","+a.g+","+a.b+",1))"),i.querySelector(".div-color-opacity .color-opacity").style.backgroundImage=c,i.querySelector(".is-color-preview").style.backgroundColor=d,i.querySelector(".input-text").value=d,t||this.opts.onPick(d)}addEventListener(e,t,i){e.addEventListener(t,i)}parentsHasClass(e,t){for(;e;){if("BODY"===e.tagName||"HTML"===e.tagName)return!1;if(!e.classList)return!1;if(e.classList.contains(t))return!0;e=e.parentNode}}}function jf(e){if(""===e)return null;var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null}function Uf(e){var t="0123456789abcdef",i=parseInt(e);return 0===i||isNaN(e)?"00":(i=Math.round(Math.min(Math.max(0,i),255)),t.charAt((i-i%16)/16)+t.charAt(i%16))}function Ff(e){return Uf(e[0])+Uf(e[1])+Uf(e[2])}function Wf(e,t){let i,n,s=10;if(""===e.innerHTML)for(i=0;i<s;++i){let o=document.createElement("div");for(o.style.width="100%",o.classList.add("row-"+i),e.appendChild(o),n=0;n<s;++n){let s=i*(100/9)+5,o=10*n+5;o>50&&o<=55&&(o=50),s>100&&(s=100);let a="#"+Ff(Vf(t,s,o)),l=document.createElement("button");l.title=a,l.style.background=a,l.setAttribute("data-color",a),e.querySelector(".row-"+i).appendChild(l)}}else for(i=0;i<s;++i){let o=e.childNodes[i];for(n=0;n<s;++n){let e=o.childNodes[n],s=i*(100/9)+5,a=10*n+5;a>50&&a<=55&&(a=50),s>100&&(s=100);let l="#"+Ff(Vf(t,s,a));e.title=l,e.style.background=l,e.setAttribute("data-color",l)}}}function Yf(e,t,i){let n,s,o=100/7*2-100/7;if(""===e.innerHTML)for(n=0;n<5;++n){let a=document.createElement("div");for(a.style.width="100%",a.classList.add("row-"+n),e.appendChild(a),s=0;s<7;++s){let a=s*(100/7);a+=(-1*(n-5)-1)*(o/5),0===s&&(a=s*(100/7));let l="#"+Ff(Vf(t,i,a)),r=document.createElement("button");r.title=l,r.style.background=l,r.setAttribute("data-color",l),e.querySelector(".row-"+n).appendChild(r)}}else{let a,l;for(n=0;n<5;++n)for(a=e.childNodes[n],s=0;s<7;++s){l=a.childNodes[s];let e=s*(100/7);e+=(-1*(n-5)-1)*(o/5),6===n&&0===s&&(e=0);let r="#"+Ff(Vf(t,i,e));l.title=r,l.style.background=r,l.setAttribute("data-color",r)}}}function Xf(e){let t,i,n=100/7*2-100/7;if(""===e.innerHTML)for(t=0;t<5;++t){let s=document.createElement("div");for(s.style.width="100%",s.classList.add("row-"+t),e.appendChild(s),i=0;i<7;++i){let s=i*(100/7);s+=(-1*(t-5)-1)*(n/5),0===i&&(s=i*(100/7));let o="#"+Ff(Vf(0,0,s)),a=document.createElement("div");a.title=o,a.style.background=o,a.setAttribute("data-color",o),e.querySelector(".row-"+t).appendChild(a)}}else{let s,o;for(t=0;t<5;++t)for(s=e.childNodes[t],i=0;i<7;++i){o=s.childNodes[i];let e=i*(100/7);e+=(-1*(t-5)-1)*(n/5),6===t&&0===i&&(e=0);let a="#"+Ff(Vf(0,0,e));o.title=a,o.style.background=a,o.setAttribute("data-color",a)}}}function Gf(e,t,i){return i<0?i+=1:i>1&&(i-=1),6*i<1?e+(t-e)*i*6:2*i<1?t:3*i<2?e+(t-e)*(2/3-i)*6:e}function Vf(e,t,i){e/=360,t/=100;var n=(i/=100)<=.5?i*(t+1):i+t-i*t,s=2*i-n;return[parseInt(255*Gf(s,n,e+1/3)),parseInt(255*Gf(s,n,e)),parseInt(255*Gf(s,n,e-1/3))]}function Kf(e,t,i){e/=255,t/=255,i/=255;var n,s,o,a=Math.max(e,t,i),l=a-Math.min(e,t,i);if(0===l)n=0;else switch(a){case e:o=0,(s=(t-i)/l)<0&&(o=6),n=s+o;break;case t:n=(s=(i-e)/l)+(o=2);break;case i:n=(s=(e-t)/l)+(o=4)}return 60*n}var Zf,Qf=(Zf=function(e){return parseInt(e,16)},{color:function(e){var t,i,n,s,o=e.slice(0,1);return"#"===o?function(e){var t;return 4===e.length?(t=e.replace("#","").split(""),{r:Zf(t[0]+t[0]),g:Zf(t[1]+t[1]),b:Zf(t[2]+t[2])}):{r:Zf(e.slice(1,3)),g:Zf(e.slice(3,5)),b:Zf(e.slice(5))}}(e):"r"===o.toLowerCase()?(n=(t=e).slice(t.indexOf("(")+1,t.indexOf(")")).split(","),s=!1,n=n.map((function(e,t){return 3!==t?parseInt(e,10):(s=!0,parseFloat(e))})),i={r:n[0],g:n[1],b:n[2]},s&&(i.a=n[3]),i):void console.log("!Ooops! RGBvalues.color("+e+") : HEX, RGB, or RGBa strings only")}});function Jf(e,t,i){e/=255,t/=255,i/=255;var n,s,o=Math.max(e,t,i),a=Math.min(e,t,i),l=(o+a)/2;if(o===a)n=s=0;else{var r=o-a;switch(s=l>.5?r/(2-o-a):r/(o+a),o){case e:n=(t-i)/r+(t<i?6:0);break;case t:n=(i-e)/r+2;break;case i:n=(e-t)/r+4}n/=6}return[100*n+.5|0,100*s+.5|0,100*l+.5|0]}class ev{constructor(e={}){this.opts=Object.assign(this,{colors:["#ff9f01","#f57c00","#e64918","#d32f2f","#5d4038","#37474f","#353535","#fbc02c","#b0b42a","#689f39","#c21f5b","#7b21a2","#522da8","#616161","#01b8c9","#009688","#388d3c","#0388d0","#1465c0","#2f3f9e","#9e9e9e"],gradientcolors:[["linear-gradient(0deg, rgb(255, 57, 25), rgb(249, 168, 37))"],["linear-gradient(0deg, rgb(255, 57, 25), rgb(255, 104, 15))"],["linear-gradient(0deg, #FF5722, #FF9800)"],["linear-gradient(0deg, #613ca2, rgb(110, 123, 217))"],["linear-gradient(0deg, rgb(65, 70, 206), rgb(236, 78, 130))"],["linear-gradient(0deg, rgb(0, 150, 102), rgb(90, 103, 197))"],["linear-gradient(30deg, rgb(249, 119, 148), rgb(98, 58, 162))"],["linear-gradient(0deg, rgb(223, 70, 137), rgb(90, 103, 197))"],["linear-gradient(0deg, rgb(40, 53, 147), rgb(90, 103, 197))"],["linear-gradient(0deg, rgb(21, 101, 192), rgb(52, 169, 239))"],["linear-gradient(0deg, rgb(32, 149, 219), rgb(139, 109, 230))"],["linear-gradient(0deg, rgb(90, 103, 197), rgb(0, 184, 201))"],["linear-gradient(0deg, rgb(0, 184, 201), rgb(253, 187, 45))"],["linear-gradient(0deg, rgb(255, 208, 100), rgb(239, 98, 159))"],["linear-gradient(0deg, rgb(0, 214, 223), rgb(130, 162, 253))"],["linear-gradient(0deg, rgb(50, 234, 251), rgb(248, 247, 126))"],["linear-gradient(0deg, rgb(141, 221, 255), rgb(255, 227, 255))"],["linear-gradient(0deg, rgb(255, 170, 170), rgb(255, 255, 200))"],["linear-gradient(0deg, rgb(239, 239, 239), rgb(252, 252, 252))"]],animateModal:!1,elementToAnimate:"",stuffPlacement:"#_cbhtml",lang:[]},e),this.id=function(){let e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(let i=0;i<2;i++)e+=t.charAt(Math.floor(Math.random()*t.length));let i="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let e=0;e<5;e++)i+=n.charAt(Math.floor(Math.random()*n.length));return e+i}();let t=document.querySelector(this.opts.stuffPlacement);t||(t=document.createElement("div"),t.id="_cbhtml",t.className="is-ui",document.body.appendChild(t)),this.builderStuff=t;const i=document.createElement("div");i.id=this.id,t.appendChild(i),this.objStuff=i;const n=new Hf({animateModal:this.opts.animateModal,elementToAnimate:this.opts.elementToAnimate,stuffPlacement:this.opts.stuffPlacement});this.modal=n;let s="";for(var o=0;o<this.opts.gradientcolors.length;o++)s+=`<button data-elmgradient="${this.opts.gradientcolors[o][0]}" data-textcolor="${this.opts.gradientcolors[o][1]?this.opts.gradientcolors[o][1]:""}" style="background-image:${this.opts.gradientcolors[o][0]};"></button>`;let a=`\n            <div class="is-modal pickgradientcolor" tabindex="-1" role="dialog" aria-modal="true" aria-hidden="true">\n                <div class="is-modal-content">\n                    <div class="is-modal-bar is-draggable"></div>\n                    <div style="padding:12px 12px 12px">\n                        <div class="div-gradients" style="display: flex;flex-flow: wrap;margin-bottom:10px;">\n                            ${s}\n                            <button class="input-gradient-clear" title="${this.out("Clear")}" data-value="" style="width:35px;height:35px;"><svg class="is-icon-flex" style="width:23px;height:23px;"><use xlink:href="#ion-ios-close-empty"></use></svg></button>\n                        </div>\n                        <div class="is-settings" style="margin-bottom:0">\n                            <div class="is-label" style="margin-top:0">${this.out("Custom")}:</div>\n                            <div class="div-custom-gradients" style="height:auto;display: flex;flex-flow: wrap;"></div>\n                            <div>\n                                <button title="${this.out("Select Color")}" class="input-gradient-color1 is-btn-color" data-value="dark" style="border-right:none"></button>\n                                <button title="${this.out("Select Color")}" class="input-gradient-color2 is-btn-color" data-value="dark"></button>\n                                <input type="text" class="input-gradient-deg" value="0" style="width:60px;height:35px;margin-left:7px;margin-right:5px;font-size:14px;"/> deg\n                            </div>\n                        </div>\n                        <div class="is-settings" style="margin-bottom:0">\n                            <button title="${this.out("Add")}" class="input-gradient-save classic" style="width:100%;border:none;"> ${this.out("Add")} </button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        `;i.insertAdjacentHTML("beforeend",a);const l=i.querySelector(".is-modal.pickgradientcolor");this.pickGradient=l;(e=>{let t=e.querySelectorAll('a[href], input:not([disabled]):not([type="hidden"]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), *[tabindex]');if(0===t.length)return;let i=t[0],n=t[t.length-1];n.addEventListener("keydown",(e=>{9!==e.which||e.shiftKey||(e.preventDefault(),i.focus())})),i.addEventListener("keydown",(e=>{9===e.which&&e.shiftKey&&(e.preventDefault(),n.focus())}))})(l),new Uo({selector:"#"+this.id+" .is-draggable"});const r=new Df({colors:this.opts.colors,animateModal:this.opts.animateModal,elementToAnimate:this.opts.container,lang:this.opts.lang});let d=i.querySelector(".input-gradient-color1");d.addEventListener("click",(()=>{r.open((e=>{""===e&&(e="transparent");let t=e,n=i.querySelector(".input-gradient-color2").style.backgroundColor;""===n&&(n="#ffffff");let s=`linear-gradient(${i.querySelector(".input-gradient-deg").value}deg, ${t}, ${n})`;this.targetElement.style.backgroundImage=s,this.opts.onChange&&this.opts.onChange(s),d.style.backgroundColor=e}),d.style.backgroundColor,(()=>{d.removeAttribute("data-focus"),d.focus()})),d.setAttribute("data-focus",!0)}));let c=i.querySelector(".input-gradient-color2");c.addEventListener("click",(()=>{r.open((e=>{""===e&&(e="transparent");let t=i.querySelector(".input-gradient-color1").style.backgroundColor,n=e;""===t&&(t="#ffffff");let s=`linear-gradient(${i.querySelector(".input-gradient-deg").value}deg, ${t}, ${n})`;this.targetElement.style.backgroundImage=s,this.opts.onChange&&this.opts.onChange(s),c.style.backgroundColor=e}),c.style.backgroundColor,(()=>{c.removeAttribute("data-focus"),c.focus()})),c.setAttribute("data-focus",!0)}));let u=i.querySelectorAll(".div-gradients [data-elmgradient]");Array.prototype.forEach.call(u,(e=>{let t=e.getAttribute("data-elmgradient"),n=e.getAttribute("data-textcolor");e.addEventListener("click",(()=>{this.targetElement.style.backgroundImage=t,this.opts.onChange&&this.opts.onChange(t,n);const s=this.targetElement.style.backgroundImage;if(-1!==s.indexOf("linear-gradient")){const e=tv(s);if(null!==e)try{let t=e.colorStopList[0].color,i=e.colorStopList[1].color,n=e.line;this.objStuff.querySelector(".input-gradient-color1").style.backgroundColor=t,this.objStuff.querySelector(".input-gradient-color2").style.backgroundColor=i,-1!==n.indexOf("deg")&&(this.objStuff.querySelector(".input-gradient-deg").value=n.replace("deg",""))}catch(e){}}let o=i.querySelectorAll(".div-gradients [data-elmgradient]");Array.prototype.forEach.call(o,(e=>{this.removeClass(e,"active")})),this.addClass(e,"active")}))})),i.querySelector(".input-gradient-clear").addEventListener("click",(()=>{this.targetElement.style.backgroundImage="",this.opts.onChange&&this.opts.onChange(""),this.objStuff.querySelector(".input-gradient-color1").style.backgroundColor="",this.objStuff.querySelector(".input-gradient-color2").style.backgroundColor="",this.objStuff.querySelector(".input-gradient-deg").value="0"}));let p=i.querySelector(".input-gradient-deg");p.addEventListener("keyup",(()=>{let e=i.querySelector(".input-gradient-color1").style.backgroundColor,t=i.querySelector(".input-gradient-color2").style.backgroundColor,n=`linear-gradient(${p.value}deg, ${e}, ${t})`;this.targetElement.style.backgroundImage=n,this.opts.onChange&&this.opts.onChange(n)})),i.querySelector(".input-gradient-save").addEventListener("click",(()=>{let e=i.querySelector(".input-gradient-color1").style.backgroundColor,t=i.querySelector(".input-gradient-color2").style.backgroundColor,n=`linear-gradient(${p.value}deg, ${e}, ${t})`,s=[];if(null!==localStorage.getItem("_customgradcolors")&&(s=JSON.parse(localStorage.getItem("_customgradcolors"))),s.push(n),localStorage.setItem("_customgradcolors",JSON.stringify(s)),null!==localStorage.getItem("_customgradcolors")){let e=JSON.parse(localStorage.getItem("_customgradcolors")),t="";for(var o=0;o<e.length;o++)t+=`<button class="is-elmgrad-item" data-elmgradient="${e[o]}" style="background-image:${e[o]};"><div class="is-elmgrad-remove"><svg class="is-icon-flex" style="fill:rgba(255, 255, 255, 1);width:20px;height:20px;"><use xlink:href="#ion-ios-close-empty"></use></svg></div></button>`;this.objStuff.querySelector(".div-custom-gradients").innerHTML=t}let a=this.objStuff.querySelectorAll(".div-custom-gradients [data-elmgradient]");Array.prototype.forEach.call(a,(e=>{let t=e.getAttribute("data-elmgradient");e.addEventListener("click",(()=>{this.targetElement.style.backgroundImage=t,this.opts.onChange&&this.opts.onChange(t);const n=this.targetElement.style.backgroundImage;if(-1!==n.indexOf("linear-gradient")){const e=tv(n);if(null!==e)try{let t=e.colorStopList[0].color,i=e.colorStopList[1].color,n=e.line;this.objStuff.querySelector(".input-gradient-color1").style.backgroundColor=t,this.objStuff.querySelector(".input-gradient-color2").style.backgroundColor=i,-1!==n.indexOf("deg")&&(this.objStuff.querySelector(".input-gradient-deg").value=n.replace("deg",""))}catch(e){}}let s=i.querySelectorAll(".div-custom-gradients [data-elmgradient]");Array.prototype.forEach.call(s,(e=>{this.removeClass(e,"active")})),this.addClass(e,"active")}))}));let l=this.objStuff.querySelectorAll(".div-custom-gradients .is-elmgrad-remove");Array.prototype.forEach.call(l,(e=>{e.addEventListener("click",(()=>{let t=[];null!==localStorage.getItem("_customgradcolors")&&(t=JSON.parse(localStorage.getItem("_customgradcolors")));for(var i=e.parentNode.getAttribute("data-elmgradient"),n=0;n<t.length;n++)t[n]===i&&t.splice(n,1);return localStorage.setItem("_customgradcolors",JSON.stringify(t)),e.parentNode.parentNode.removeChild(e.parentNode),!1}))}))}))}out(e){if(this.opts.lang){let t=this.opts.lang[e];return t||e}return e}open(e,t,i){this.opts.onChange=t,this.opts.onFinish=i,this.targetElement=e,this.objStuff.querySelector(".input-gradient-color1").style.backgroundColor="",this.objStuff.querySelector(".input-gradient-color2").style.backgroundColor="",this.objStuff.querySelector(".input-gradient-deg").value="0";const n=e.style.backgroundImage;if(-1!==n.indexOf("linear-gradient")){const e=tv(n);if(null!==e)try{let t=e.colorStopList[0].color,i=e.colorStopList[1].color,n=e.line;this.objStuff.querySelector(".input-gradient-color1").style.backgroundColor=t,this.objStuff.querySelector(".input-gradient-color2").style.backgroundColor=i,-1!==n.indexOf("deg")&&(this.objStuff.querySelector(".input-gradient-deg").value=n.replace("deg",""))}catch(e){}}this.original=n;let s=[];if(null!==localStorage.getItem("_customgradcolors")){s=JSON.parse(localStorage.getItem("_customgradcolors"));let e="";for(var o=0;o<s.length;o++)e+=`<button class="is-elmgrad-item" data-elmgradient="${s[o]}" style="background-image:${s[o]};"><div class="is-elmgrad-remove"><svg class="is-icon-flex" style="fill:rgba(255, 255, 255, 1);width:20px;height:20px;"><use xlink:href="#ion-ios-close-empty"></use></svg></div></button>`;this.objStuff.querySelector(".div-custom-gradients").innerHTML=e}let a=this.objStuff.querySelectorAll(".div-custom-gradients [data-elmgradient]");Array.prototype.forEach.call(a,(e=>{let t=e.getAttribute("data-elmgradient");e.addEventListener("click",(()=>{this.targetElement.style.backgroundImage=t,this.opts.onChange&&this.opts.onChange(t);const i=this.targetElement.style.backgroundImage;if(-1!==i.indexOf("linear-gradient")){const e=tv(i);if(null!==e)try{let t=e.colorStopList[0].color,i=e.colorStopList[1].color,n=e.line;this.objStuff.querySelector(".input-gradient-color1").style.backgroundColor=t,this.objStuff.querySelector(".input-gradient-color2").style.backgroundColor=i,-1!==n.indexOf("deg")&&(this.objStuff.querySelector(".input-gradient-deg").value=n.replace("deg",""))}catch(e){}}let n=this.objStuff.querySelectorAll(".div-custom-gradients [data-elmgradient]");Array.prototype.forEach.call(n,(e=>{this.removeClass(e,"active")})),this.addClass(e,"active")}))}));let l=this.objStuff.querySelectorAll(".div-custom-gradients .is-elmgrad-remove");Array.prototype.forEach.call(l,(e=>{e.addEventListener("click",(()=>{let t=[];null!==localStorage.getItem("_customgradcolors")&&(t=JSON.parse(localStorage.getItem("_customgradcolors")));for(var i=e.parentNode.getAttribute("data-elmgradient"),n=0;n<t.length;n++)t[n]===i&&t.splice(n,1);return localStorage.setItem("_customgradcolors",JSON.stringify(t)),e.parentNode.parentNode.removeChild(e.parentNode),!1}))}));const r=e=>{27===e.keyCode&&(this.pickGradient.classList.remove("active"),this.pickGradient.removeEventListener("keydown",r),this.opts.onFinish&&this.opts.onFinish(!1))};this.modal.show(this.pickGradient,!1,(()=>{this.pickGradient.removeEventListener("keydown",r),this.original===this.targetElement.style.backgroundImage?this.opts.onFinish&&this.opts.onFinish(!1):this.opts.onFinish&&this.opts.onFinish(!0)}),!1),this.pickGradient.addEventListener("keydown",r);this.pickGradient.querySelector("button").focus()}addClass(e,t){e&&(this.hasClass(e,t)||(0===e.classList.length?e.className=t:e.className=e.className+" "+t))}removeClass(e,t){e&&e.classList.length>0&&(e.className=e.className.replace(t,""))}hasClass(e,t){return!!e&&(e.classList?e.classList.contains(t):new RegExp("\\b"+t+"\\b").test(e.className))}}function tv(e){var t,i=nv(),n=/.*gradient\s*\(((?:\([^)]*\)|[^)(]*)*)\)/.exec(e);return null!==n?(t=sv(i,n[1])).original.trim()!==n[1].trim()&&(t.parseWarning=!0):t="Failed to find gradient",t}var iv=function(e,t){var i,n="";for(i=0;i<e.length;i++)"string"==typeof e[i]?n+=e[i]:n+=e[i].source;return new RegExp(n,t)},nv=function(){var e=/\s*,\s*/,t=/(?:[+-]?\d*\.?\d+)(?:%|[a-z]+)?/,i=iv(["(?:",/#(?:[a-f0-9]{6}|[a-f0-9]{3})/,"|","(?:rgb|hsl)",/\(\s*(?:\d{1,3}\s*,\s*){2}\d{1,3}\s*\)/,"|","(?:rgba|hsla)",/\(\s*(?:\d{1,3}\s*,\s*){2}\d{1,3}\s*,\s*\d*\.?\d+\)/,"|",/[_a-z-][_a-z0-9-]*/,")"],""),n=iv([i,"(?:\\s+",t,"(?:\\s+",t,")?)?"],""),s=iv(["(?:",n,e,")*",n],""),o=iv(["(?:(",/(?:[+-]?\d*\.?\d+)(?:deg|grad|rad|turn)/,")|",/to\s+((?:(?:left|right)(?:\s+(?:top|bottom))?))/,")"],"");return{gradientSearch:iv(["(?:(",o,")",e,")?(",s,")"],"gi"),colorStopSearch:iv(["\\s*(",i,")","(?:\\s+","(",t,"))?","(?:",e,"\\s*)?"],"gi")}},sv=function(e,t){var i,n,s,o;if(e.gradientSearch.lastIndex=0,null!==(n=e.gradientSearch.exec(t)))for(i={original:n[0],colorStopList:[]},n[1]&&(i.line=n[1]),n[2]&&(i.angle=n[2]),n[3]&&(i.sideCorner=n[3]),e.colorStopSearch.lastIndex=0,s=e.colorStopSearch.exec(n[4]);null!==s;)o={color:s[1]},s[2]&&(o.position=s[2]),i.colorStopList.push(o),s=e.colorStopSearch.exec(n[4]);return i};class ov{constructor(e){this.builder=e;const t=this.builder.util;this.util=t;const i=this.builder.builderStuff,n=this.builder.dom;this.dom=n,this.grid=new Ro(e);let s=i.querySelector(".rowmore"),o="";if(e.opts.rowHtmlEditor&&(o=`<button type="button" title="${t.out("HTML")}" class="row-html">\n                <span><svg class="is-icon-flex" style="margin-right:-3px;width:12px;height:12px;"><use xlink:href="#ion-ios-arrow-left"></use></svg><svg class="is-icon-flex" style="margin-left:-2px;width:12px;height:12px;"><use xlink:href="#ion-ios-arrow-right"></use></svg></span>${t.out("HTML")}\n            </button>`),!s){let a=`<div class="is-pop rowmore" style="z-index:10002;" tabindex="-1" role="dialog" aria-modal="true" aria-hidden="true">\n                <div style="display:flex;flex-flow:wrap;">\n                    <button type="button" title="${t.out("Move Up")}" class="row-up"><span><svg class="is-icon-flex" style="width:15px;height:15px;"><use xlink:href="#ion-ios-arrow-thin-up"></use></svg></span>${t.out("Move Up")}</button>\n                    <button type="button" title="${t.out("Move Down")}" class="row-down"><span><svg class="is-icon-flex" style="width:15px;height:15px;"><use xlink:href="#ion-ios-arrow-thin-down"></use></svg></span>${t.out("Move Down")}</button>\n                    <button type="button" title="${t.out("Duplicate")}" class="row-duplicate"><span><svg class="is-icon-flex" style="width:12px;height:12px;"><use xlink:href="#ion-ios-photos-outline"></use></svg></span>${t.out("Duplicate")}</button>\n                    ${o}\n                    <div class="is-separator"></div>\n                    <button type="button" title="${t.out("Lock")}" class="row-locking"><span><svg class="is-icon-flex" style="width:13px;height:13px;"><use xlink:href="#icon-lock"></use></svg></span>${t.out("Lock")}</button>\n                    <button type="button" title="${t.out("Settings")}" class="row-settings"><span><svg class="is-icon-flex" style="width:12px;height:12px;"><use xlink:href="#ion-ios-gear"></use></svg></span>${t.out("Settings")}</button>\n                </div>\n            </div>\n            \n            <div class="is-modal rowsettings" tabindex="-1" role="dialog" aria-modal="true" aria-hidden="true">\n                <div class="is-modal-content">\n                    <div class="is-modal-bar is-draggable">\n                        ${t.out("Row Settings")}\n                        <button class="is-modal-close" title="${t.out("Close")}" tabindex="-1">&#10005;</button>\n                    </div>\n\n                    <div style="padding:0;margin-top:35px;">\n\n                        <div class="is-tabs" data-group="rowsettings">\n                            <a title="${t.out("General")}" id="tabRowGeneral" href="#" data-content="divRowGeneral" class="active">${t.out("General")}</a>\n                            <a title="${t.out("More")}" id="tabRowMore" href="#" data-content="divRowMore">${t.out("More")}</a>\n                        </div>\n                        <div id="divRowGeneral" class="is-tab-content active" data-group="rowsettings" style="display:flex" tabindex="-1">\n                        \n                            <div style="padding-bottom: 3px;">${t.out("Background Color")}:</div>\n                            <div style="display:flex;">\n                                <button title="${t.out("Background Color")}" class="input-row-bgcolor is-btn-color" style="margin-right:15px"></button>\n                                <button title="${t.out("Gradient")}" class="input-row-gradient classic" data-value="+"> ${t.out("Gradient")} </button>\n                            </div>\n\n                            <div style="padding-top:20px;padding-bottom: 3px;">${t.out("Background Image")}:</div>\n                            <div>\n                                <div class="cell-bgimage-preview"></div>\n                                <div style="display: flex">\n                                    <button title="${t.out("Image")}" class="input-cell-bgimage">\n                                        <svg class="is-icon-flex"><use xlink:href="#ion-image"></use></svg>\n                                        <span>${t.out("Image")}</span>\n                                    </button>\n                                    <button title="${t.out("Select")}" class="input-select">\n                                        ${this.builder.opts.selectIcon}\n                                    </button>\n                                    <button title="${t.out("Remove")}" class="input-row-bgremove"><svg class="is-icon-flex" style="width:11px;height:11px;"><use xlink:href="#icon-clean"></use></svg></button>\n                                    <button title="${t.out("Adjust")}" class="input-row-bgimageadjust" style="width:40px"><svg class="is-icon-flex"><use xlink:href="#ion-wrench"></use></svg></button>\n                                </div>\n                            </div>\n\n                            <div style="padding:30px 0 10px;">\n                                <label class="label-row-grayscale label-checkbox" for="chkRowGrayscale"><input id="chkRowGrayscale" class="chk-row-grayscale" type="checkbox" /> ${t.out("Grayscale")}</label>\n                            </div>\n\n                            <div class="div-row-wrapcolumns" style="display:none;flex-direction:column;padding-bottom:7px">\n                                <div style="padding-top:20px;padding-bottom:3px;">${t.out("Wrap Columns (Breakpoint)")}:</div>\n                                <div style="padding-top:3px;padding-bottom:5px;display:flex;align-items: center;">\n\n                                    <label class="flex mr-3" title="${t.out("Tablet (Landscape)")}">\n                                        <input type="radio" id="rdoColMdWrap" name="boxWrap" value="md">\n                                        <svg class="is-icon-flex" style="margin-left:3px;width:16px;height:16px;transform:rotate(-90deg)"><use xlink:href="#icon-device-tablet"></use></svg>\n                                    </label>\n                                    <label class="flex mr-3" title="${t.out("Tablet (Portrait)")}">\n                                        <input type="radio" id="rdoColSmWrap" name="boxWrap" value="sm">\n                                        <svg class="is-icon-flex" style="margin-left:3px;width:16px;height:16px"><use xlink:href="#icon-device-tablet"></use></svg>\n                                    </label>\n                                    <label class="flex" title="${t.out("Mobile")}">\n                                        <input type="radio" id="rdoColXsWrap" name="boxWrap" value="xs">\n                                        <svg class="is-icon-flex" style="margin-left:3px;width:16px;height:16px"><use xlink:href="#icon-device-tablet"></use></svg>\n                                    </label>\n\n                                </div>\n                            </div>\n\n                            <div class="is-separator"></div>\n                         \n                            <div class="div-target" style="display: flex;justify-content: flex-end;padding: 5px 0 0;">\n                                <button title="${t.out("Desktop")}" class="input-device on" data-value="" style="width:40px;height:25px;">\n                                    <svg class="is-icon-flex" style="width:16px;height:16px"><use xlink:href="#icon-device-desktop"></use></svg>\n                                </button>\n                                \x3c!--<button title="${t.out("Laptop/Tablet (Landscape)")}" class="input-device" data-value="md" style="width:40px;height:25px;">\n                                    <svg class="is-icon-flex" style="width:19px;height:19px;"><use xlink:href="#icon-device-laptop"></use></svg>\n                                </button>--\x3e\n                                <button title="${t.out("Laptop/Tablet (Landscape)")}" class="input-device" data-value="md" style="width:40px;height:25px;">\n                                    <svg class="is-icon-flex" style="width:16px;height:16px;transform:rotate(-90deg)"><use xlink:href="#icon-device-tablet"></use></svg>\n                                </button>\n                                <button title="${t.out("Tablet (Portrait)")}" class="input-device" data-value="sm" style="width:40px;height:25px;">\n                                    <svg class="is-icon-flex" style="width:16px;height:16px"><use xlink:href="#icon-device-tablet"></use></svg>\n                                </button>\n                                <button title="${t.out("Mobile")}" class="input-device" data-value="xs" style="width:40px;height:25px;">\n                                    <svg class="is-icon-flex" style="width:13px;height:13px"><use xlink:href="#icon-device-mobile"></use></svg>\n                                </button>\n                            </div>\n\n                            <div style="padding-top:0;padding-bottom:3px;">${t.out("Visibility")}:</div>\n                            <div class="div-visibility" style="display:flex;">\n                                <button title="${t.out("Visible")}" class="input-visible on" data-value="sm" style="width:100px;height:34px;">\n                                    <svg class="is-icon-flex" style="width:16px;height:16px"><use xlink:href="#icon-eye"></use></svg>\n                                    <span>${t.out("Visible")}</span>\n                                </button>\n                                <button title="${t.out("Hidden")}" class="input-hidden" data-value="xs" style="width:100px;height:34px;">\n                                    <svg class="is-icon-flex" style="width:16px;height:16px"><use xlink:href="#icon-eye-off"></use></svg>\n                                    <span>${t.out("Hidden")}</span>\n                                </button>\n                            </div>\n\n                            <div class="div-colsperline" style="flex-direction:column">\n                                <label style="margin:20px 0 0;display:flex;flex-direction:column">\n                                    <span style="margin:0 4px 3px 0">${t.out("Columns per Line")}:</span>\n                       \n                                    \n                                    <select class="input-numofcols" style="width:50%;display:none">\n                                        <option value="">Default</option>\n                                        <option value="2">2 columns per row</option>\n                                        <option value="3">3 columns per row</option>\n                                        <option value="4">4 columns per row</option>\n                                        <option value="5">5 columns per row</option>\n                                        <option value="6">6 columns per row</option>\n                                    </select>\n                                </label>\n                                <div class="flex">\n                                    <button title="1" class="input-colsperline on" data-value="1" style="width:40px;height:25px;">1</button>\n                                    <button title="2" class="input-colsperline" data-value="2" style="width:40px;height:25px;">2</button>\n                                    <button title="3" class="input-colsperline" data-value="3" style="width:40px;height:25px;">3</button>\n                                    <button title="4" class="input-colsperline" data-value="4" style="width:40px;height:25px;">4</button>\n                                    <button title="5" class="input-colsperline" data-value="5" style="width:40px;height:25px;">5</button>\n                                    <button title="6" class="input-colsperline" data-value="6" style="width:40px;height:25px;">6</button>\n                                    <button title="${t.out("Default")}" class="input-colsperline" data-value="" style="width:120px;height:25px;">${t.out("Default")}</button>\n                                </div>\n                            </div>\n\n                            <div id="divReverseColumns" style="diplay:none">\n                                <label for="chkReverseColumns" style="margin:20px 0 0;display:flex"><input id="chkReverseColumns" type="checkbox"  style="margin:0 7px 0 0"/><span>${t.out("Reverse Columns")}</span></label>\n                            </div>\n                        </div>\n\n                        <div id="divRowMore" class="is-tab-content" data-group="rowsettings" tabindex="-1">\n\n                            <label for="inpRowId">${t.out("Add Row ID")}:</label>\n                            <div>\n                                <input id="inpRowId" class="input-row-id" type="text" onkeypress="return /[0-9a-zA-Z_]/i.test(event.key)" style="height:38px">\n                            </div>\n        \n                            <label for="inpRowCssClasses" style="padding:20px 0 3px;">${t.out("Add Css Classes")}:</label>\n                            <div>\n                                <input id="inpRowCssClasses" class="input-row-classes" type="text" style="height:38px">\n                            </div>\n\n                        </div>\n                    \n                    </div>\n                        \n                </div>\n            </div>\n            \n            `;n.appendHtml(i,a),s=i.querySelector(".rowmore");const l=i.querySelector(".is-modal.rowsettings"),r=document.querySelector(".is-modal.imagesource"),d=document.querySelector(".is-modal.imageadjust"),c=document.querySelector(".is-modal.imageadjust2");this.rowSettings=l,this.imageSource=r,this.imageAdjust=d,this.imageAdjust2=c,this.divRowGeneral=i.querySelector("#divRowGeneral");const u=l.querySelector(".div-colsperline");this.builder.enableColumnsPerLine||(u.style.display="none");let p=s.querySelector(".row-settings");p&&n.addEventListener(p,"click",(()=>{const e=this.rowOverlay();e&&(this.readRowStyles(e),t.saveSelection(),t.showModal(l,!1,(()=>{"flex"===i.querySelector(".is-rte-tool").style.display&&t.restoreSelection()})),t.hidePop(this.rowMore))}));let h=l.querySelector(".input-row-bgcolor");h.addEventListener("click",(e=>{this.builder.uo.saveForUndo(!0);let t=e.target;this.builder.colorPicker.open((e=>{const i=this.rowOverlay();i&&(i.style.backgroundColor=e,t.style.backgroundColor=e,this.builder.opts.onChange())}),l.querySelector(".input-row-bgcolor").style.backgroundColor,(()=>{h.removeAttribute("data-focus"),h.focus()})),h.setAttribute("data-focus",!0)}));const m=l.querySelector(".input-cell-bgimage");m&&n.addEventListener(m,"click",(()=>{const e=this.rowOverlay();if(!e)return;let t="";e.style.backgroundImage&&-1!==e.style.backgroundImage.indexOf("url(")&&(t=e.style.backgroundImage.slice(4,-1).replace(/["']/g,"")),this.builder.colTool.openImagePicker(t,(e=>{const t=this.rowOverlay();if(!t)return;this.builder.uo.saveForUndo(),t.style.backgroundImage=`url("${e}")`,t.style.backgroundSize="cover",t.style.backgroundRepeat="no-repeat";const i=l.querySelector(".cell-bgimage-preview"),n=this.rowSettings.querySelector(".input-row-bgimageadjust"),s=this.rowSettings.querySelector(".input-row-bgremove");n.style.display="none",s.style.display="none",""!==e?(i.innerHTML=`<img src="${e}">`,n.style.display="flex",s.style.display="flex"):i.innerHTML="",this.builder.opts.onChange()}),m)}));const g=l.querySelector(".input-row-bgimageadjust");g&&n.addEventListener(g,"click",(()=>{const e=this.rowOverlay();e&&this.builder.colTool.openImageAdjust(e,g)})),p=l.querySelector(".input-row-bgremove"),p&&n.addEventListener(p,"click",(()=>{const e=this.rowOverlay();if(!e)return;this.builder.uo.saveForUndo(),e.style.backgroundImage="",e.style.backgroundSize="",e.style.backgroundRepeat="",e.style.backgroundPosition="";const t=l.querySelector(".cell-bgimage-preview"),i=this.rowSettings.querySelector(".input-row-bgimageadjust"),n=this.rowSettings.querySelector(".input-row-bgremove");i.style.display="none",n.style.display="none",t.innerHTML="",this.builder.opts.onChange()})),this.builder.opts.onImageSelectClick||""!==this.builder.opts.imageselect||(this.divRowGeneral.querySelector(".input-select").style.display="none");const b=this.divRowGeneral.querySelector(".input-select");this.builder.renderSelectAsset(b,"image",(e=>{const t=this.rowOverlay();if(!t)return;this.builder.uo.saveForUndo(),t.style.backgroundImage=`url("${e}")`,t.style.backgroundSize="cover",t.style.backgroundRepeat="no-repeat";const i=l.querySelector(".cell-bgimage-preview"),n=this.rowSettings.querySelector(".input-row-bgimageadjust"),s=this.rowSettings.querySelector(".input-row-bgremove");n.style.display="none",s.style.display="none",""!==e?(i.innerHTML=`<img src="${e}">`,n.style.display="flex",s.style.display="flex"):i.innerHTML="",this.builder.opts.onChange()}));const f=new ev({colors:this.builder.colors,gradientcolors:this.builder.opts.gradientcolors,lang:this.builder.opts.lang});let v=l.querySelector(".input-row-gradient");v.addEventListener("click",(()=>{this.builder.uo.saveForUndo(!0);const e=this.rowOverlay();e&&(f.open(e,(()=>{this.rowSettings.querySelector(".input-row-bgimageadjust").style.display="none";this.rowSettings.querySelector(".input-row-bgremove").style.display="none";this.rowSettings.querySelector(".cell-bgimage-preview").innerHTML="";this.imageSource.querySelector(".input-src").value="",this.builder.opts.onChange()}),(e=>{v.removeAttribute("data-focus"),v.focus()})),v.setAttribute("data-focus",!0))}));const y=l.querySelector(".chk-row-grayscale");y.addEventListener("click",(()=>{this.builder.uo.saveForUndo();const e=this.rowOverlay();e&&(y.checked?e.style.filter="grayscale(1)":e.style.filter&&(e.style.filter=e.style.filter.replace("grayscale(1)","")),this.builder.opts.onChange())}));let x=this.rowSettings.querySelectorAll(".input-device");x.forEach((e=>{e.addEventListener("click",(()=>{let i=t.rowSelected();i&&(this.rowSettings.querySelectorAll(".input-device").forEach((e=>{e.classList.remove("on")})),e.classList.add("on"),this.realtimeVisibility(i))}))}));let _=this.rowSettings.querySelector(".input-visible"),w=this.rowSettings.querySelector(".input-hidden");_.addEventListener("click",(()=>{let e=t.rowSelected();if(!e)return;this.builder.uo.saveForUndo(),e.classList.remove("hideonmobile");let i=this.rowSettings.querySelector(".div-target"),n=this.builder.responsive.readTarget(i);"xs"===n?e.classList.remove("xs-hidden"):"sm"===n?e.classList.remove("sm-hidden"):"md"===n?e.classList.remove("md-hidden"):""===n&&e.classList.remove("desktop-hidden"),_.classList.add("on"),w.classList.remove("on"),this.builder.opts.onChange()})),w.addEventListener("click",(()=>{let e=t.rowSelected();if(!e)return;this.builder.uo.saveForUndo(),e.classList.remove("hideonmobile");let i=this.rowSettings.querySelector(".div-target"),n=this.builder.responsive.readTarget(i);"xs"===n?e.classList.add("xs-hidden"):"sm"===n?e.classList.add("sm-hidden"):"md"===n?e.classList.add("md-hidden"):""===n&&e.classList.add("desktop-hidden"),_.classList.remove("on"),w.classList.add("on"),this.builder.opts.onChange()})),x=this.rowSettings.querySelectorAll(".input-colsperline"),x.forEach((e=>{e.addEventListener("click",(()=>{let i=t.rowSelected();if(!i)return;this.builder.uo.saveForUndo(),this.rowSettings.querySelectorAll(".input-colsperline").forEach((e=>{e.classList.remove("on")})),e.classList.add("on");let n=e.getAttribute("data-value"),s=this.rowSettings.querySelector(".div-target"),o=this.builder.responsive.readTarget(s);"xs"===o?(i.classList.remove("xs-items-1"),i.classList.remove("xs-items-2"),i.classList.remove("xs-items-3"),i.classList.remove("xs-items-4"),i.classList.remove("xs-items-5"),i.classList.remove("xs-items-6"),""!==n&&i.classList.add(`xs-items-${n}`)):"sm"===o?(i.classList.remove("sm-items-1"),i.classList.remove("sm-items-2"),i.classList.remove("sm-items-3"),i.classList.remove("sm-items-4"),i.classList.remove("sm-items-5"),i.classList.remove("sm-items-6"),""!==n&&i.classList.add(`sm-items-${n}`)):"md"===o?(i.classList.remove("md-items-1"),i.classList.remove("md-items-2"),i.classList.remove("md-items-3"),i.classList.remove("md-items-4"),i.classList.remove("md-items-5"),i.classList.remove("md-items-6"),""!==n&&i.classList.add(`md-items-${n}`)):""===o&&(i.classList.remove("desktop-items-1"),i.classList.remove("desktop-items-2"),i.classList.remove("desktop-items-3"),i.classList.remove("desktop-items-4"),i.classList.remove("desktop-items-5"),i.classList.remove("desktop-items-6"),""!==n&&i.classList.add(`desktop-items-${n}`)),this.builder.settings.onChange()}))}));const S=this.rowSettings.querySelector("#chkReverseColumns");S.addEventListener("click",(()=>{let e=t.rowSelected();if(!e)return;this.builder.uo.saveForUndo();let i=this.rowSettings.querySelector(".div-target"),n=this.builder.responsive.readTarget(i);"xs"===n?S.checked?e.classList.add("xs-column-reverse"):e.classList.remove("xs-column-reverse"):"sm"===n?S.checked?e.classList.add("sm-column-reverse"):e.classList.remove("sm-column-reverse"):"md"===n?S.checked?e.classList.add("md-column-reverse"):e.classList.remove("md-column-reverse"):""===n&&(S.checked?e.classList.add("desktop-column-reverse"):e.classList.remove("desktop-column-reverse")),this.builder.settings.onChange()}));let C=l.querySelector(".input-row-id");C.addEventListener("change",(()=>{let e=t.rowSelected();e&&(this.builder.uo.saveForUndo(),""!==C.value?e.setAttribute("id",C.value):e.removeAttribute("id"),this.builder.opts.onChange())}));let k=l.querySelector(".input-row-classes");k.addEventListener("change",(()=>{let e=t.rowSelected();if(!e)return;this.builder.uo.saveForUndo();let i=[],n=e.getAttribute("data-class");n&&(i=n.split(" "));let s=[],o=k.value;s=o.split(" "),i.forEach((t=>{s.includes(t)||e.classList.remove(t)})),s.forEach((t=>{""!==t&&e.classList.add(t)})),e.setAttribute("data-class",o),""===e.getAttribute("data-class")&&e.removeAttribute("data-class"),this.builder.opts.onChange()})),p=s.querySelector(".row-up"),p&&n.addEventListener(p,"click",(()=>{this.grid.moveRowUp()})),p=s.querySelector(".row-down"),p&&n.addEventListener(p,"click",(()=>{this.grid.moveRowDown()})),p=s.querySelector(".row-duplicate"),p&&n.addEventListener(p,"click",(()=>{this.grid.duplicateRow(),t.hidePop(s),t.hideColumnTool(),t.clearControls()})),p=s.querySelector(".row-html"),p&&n.addEventListener(p,"click",(()=>{let i,n=t.cellSelected();if(i=n?n.parentNode:t.rowSelected(),!i)return;new qo(e).view("row")}));const A=s.querySelector(".row-locking");A&&n.addEventListener(A,"click",(e=>{let i=t.rowSelected();if(!i)return;let o=!1;i.querySelectorAll("[data-noedit]").forEach((e=>{e.hasAttribute("data-html")||(o=!0)})),o?(Array.from(i.children).map((e=>{e.classList.contains("is-row-tool")||e.classList.contains("is-col-tool")||e.classList.contains("is-rowadd-tool")||e.classList.contains("is-row-overlay")||(e.removeAttribute("data-noedit"),e.contentEditable=!0,this.builder.colTool.showHideLockIndicator(e),this.builder.element.applyBehavior(e))})),n.removeClass(A,"on")):(Array.from(i.children).map((e=>{e.classList.contains("is-row-tool")||e.classList.contains("is-col-tool")||e.classList.contains("is-rowadd-tool")||e.classList.contains("is-row-overlay")||(e.setAttribute("data-noedit",""),e.contentEditable=!1,this.util.clearActiveElement(!0),this.builder.colTool.showHideLockIndicator(e),this.builder.element.applyBehavior(e))})),n.addClass(A,"on")),t.hidePop(s),e.preventDefault()}))}this.rowMore=s}realtimeVisibility(e,t){if(t){const e=this.builder.builderStuff.querySelector(".is-modal.content-preview.active");if(e){this.rowSettings.querySelectorAll(".input-device").forEach((e=>{e.classList.remove("on")})),e.classList.contains("is-screen-1920")||e.classList.contains("is-screen-1440")?this.rowSettings.querySelector('.input-device[data-value=""]').classList.add("on"):e.classList.contains("is-screen-1024")?this.rowSettings.querySelector('.input-device[data-value="md"]').classList.add("on"):e.classList.contains("is-screen-768")?this.rowSettings.querySelector('.input-device[data-value="sm"]').classList.add("on"):e.classList.contains("is-screen-375")&&this.rowSettings.querySelector('.input-device[data-value="xs"]').classList.add("on")}}let i=this.rowSettings.querySelector(".div-target"),n=this.rowSettings.querySelector(".div-visibility"),s=this.builder.responsive.readTarget(i),o=this.builder.responsive.getVisibility(e,s);this.builder.responsive.showVisibility(n,o),this.rowSettings.querySelectorAll(".input-colsperline").forEach((e=>{e.classList.remove("on")}));let a=!1;"xs"===s?(a=e.classList.contains("xs-column-reverse"),this.rowSettings.querySelector('.input-colsperline[data-value=""]').style.display="none",e.classList.contains("xs-items-1")?this.rowSettings.querySelector('.input-colsperline[data-value="1"]').classList.add("on"):e.classList.contains("xs-items-2")?this.rowSettings.querySelector('.input-colsperline[data-value="2"]').classList.add("on"):e.classList.contains("xs-items-3")?this.rowSettings.querySelector('.input-colsperline[data-value="3"]').classList.add("on"):e.classList.contains("xs-items-4")?this.rowSettings.querySelector('.input-colsperline[data-value="4"]').classList.add("on"):e.classList.contains("xs-items-5")?this.rowSettings.querySelector('.input-colsperline[data-value="5"]').classList.add("on"):e.classList.contains("xs-items-6")?this.rowSettings.querySelector('.input-colsperline[data-value="6"]').classList.add("on"):this.rowSettings.querySelector('.input-colsperline[data-value="1"]').classList.add("on"),t||this.builder.livePreview.resizePreview(375)):"sm"===s?(a=e.classList.contains("sm-column-reverse"),this.rowSettings.querySelector('.input-colsperline[data-value=""]').style.display="flex",e.classList.contains("sm-items-1")?this.rowSettings.querySelector('.input-colsperline[data-value="1"]').classList.add("on"):e.classList.contains("sm-items-2")?this.rowSettings.querySelector('.input-colsperline[data-value="2"]').classList.add("on"):e.classList.contains("sm-items-3")?this.rowSettings.querySelector('.input-colsperline[data-value="3"]').classList.add("on"):e.classList.contains("sm-items-4")?this.rowSettings.querySelector('.input-colsperline[data-value="4"]').classList.add("on"):e.classList.contains("sm-items-5")?this.rowSettings.querySelector('.input-colsperline[data-value="5"]').classList.add("on"):e.classList.contains("sm-items-6")?this.rowSettings.querySelector('.input-colsperline[data-value="6"]').classList.add("on"):this.rowSettings.querySelector('.input-colsperline[data-value=""]').classList.add("on"),t||this.builder.livePreview.resizePreview(768)):"md"===s?(a=e.classList.contains("md-column-reverse"),this.rowSettings.querySelector('.input-colsperline[data-value=""]').style.display="flex",e.classList.contains("md-items-1")?this.rowSettings.querySelector('.input-colsperline[data-value="1"]').classList.add("on"):e.classList.contains("md-items-2")?this.rowSettings.querySelector('.input-colsperline[data-value="2"]').classList.add("on"):e.classList.contains("md-items-3")?this.rowSettings.querySelector('.input-colsperline[data-value="3"]').classList.add("on"):e.classList.contains("md-items-4")?this.rowSettings.querySelector('.input-colsperline[data-value="4"]').classList.add("on"):e.classList.contains("md-items-5")?this.rowSettings.querySelector('.input-colsperline[data-value="5"]').classList.add("on"):e.classList.contains("md-items-6")?this.rowSettings.querySelector('.input-colsperline[data-value="6"]').classList.add("on"):this.rowSettings.querySelector('.input-colsperline[data-value=""]').classList.add("on"),t||this.builder.livePreview.resizePreview(1024)):(a=e.classList.contains("desktop-column-reverse"),this.rowSettings.querySelector('.input-colsperline[data-value=""]').style.display="flex",e.classList.contains("desktop-items-1")?this.rowSettings.querySelector('.input-colsperline[data-value="1"]').classList.add("on"):e.classList.contains("desktop-items-2")?this.rowSettings.querySelector('.input-colsperline[data-value="2"]').classList.add("on"):e.classList.contains("desktop-items-3")?this.rowSettings.querySelector('.input-colsperline[data-value="3"]').classList.add("on"):e.classList.contains("desktop-items-4")?this.rowSettings.querySelector('.input-colsperline[data-value="4"]').classList.add("on"):e.classList.contains("desktop-items-5")?this.rowSettings.querySelector('.input-colsperline[data-value="5"]').classList.add("on"):e.classList.contains("desktop-items-6")?this.rowSettings.querySelector('.input-colsperline[data-value="6"]').classList.add("on"):this.rowSettings.querySelector('.input-colsperline[data-value=""]').classList.add("on"),t||this.builder.livePreview.resizePreview(1920));this.rowSettings.querySelector("#chkReverseColumns").checked=a}moveRowUp(){this.grid.moveRowUp()}moveRowDown(){this.grid.moveRowDown()}duplicateRow(){this.grid.duplicateRow()}removeRow(){this.grid.removeRow()}render(e){const t=this.dom,i=this.builder.util,n=this.builder.builderStuff;let s=this.rowMore,o=e.querySelector(".is-row-tool");if(!o){let a=`<div class="is-tool is-row-tool">\n                <div title="${i.out("Move")}" role="button" tabindex="-1" class="row-handle" style="width:100%;cursor:move;text-align:center;"><svg class="is-icon-flex"><use xlink:href="#ion-move"></use></svg></div>\n                <button type="button" tabindex="-1" title="${i.out("More")}" class="row-more"><svg class="is-icon-flex"><use xlink:href="#ion-more"></use></svg></button>\n                <button type="button" tabindex="-1" title="${i.out("Grid Editor")}" class="row-grideditor"><svg class="is-icon-flex"><use xlink:href="#ion-grid"></use></svg></button>\n                <button type="button" tabindex="-1" title="${i.out("Delete")}" class="row-remove"><svg class="is-icon-flex"><use xlink:href="#ion-ios-close-empty"></use></svg></button>\n            </div>\n            <div class="is-tool is-col-tool">\n                <button type="button" tabindex="-1" title="${i.out("Add")}" class="cell-add"><svg class="is-icon-flex"><use xlink:href="#ion-ios-plus-empty"></use></svg></button>\n                <button type="button" tabindex="-1" title="${i.out("More")}" class="cell-more"><svg class="is-icon-flex"><use xlink:href="#ion-more"></use></svg></button>\n                <button type="button" tabindex="-1" title="${i.out("Delete")}" class="cell-remove"><svg class="is-icon-flex" style="margin-left:-1px"><use xlink:href="#ion-ios-close-empty"></use></svg></button>\n            </div>\n            `;t.appendHtml(e,a),o=e.querySelector(".is-row-tool");let l=o.querySelectorAll("[title]");Array.prototype.forEach.call(l,(e=>{e.setAttribute("data-title",e.getAttribute("title")),this.builder.iframe?this.builder.tooltip.set(e,5,3,!0):this.builder.tooltip.set(e,5,3)}));let r=e.querySelector(".is-col-tool");l=r.querySelectorAll("[title]"),Array.prototype.forEach.call(l,(e=>{e.setAttribute("data-title",e.getAttribute("title")),this.builder.iframe?this.builder.tooltip.set(e,5,3,!0):this.builder.tooltip.set(e,5,3)}));let d=window.getComputedStyle(r,null).getPropertyValue("margin-left");0===parseInt(d)&&this.builder.backwardCompatible();const c=r.querySelector(".cell-add");c&&t.addEventListener(c,"click",(()=>{if(!i.cellSelected())return;let e,n,s=this.builder.builderStuff.querySelector(".is-pop.quickadd");if(s.querySelector(".is-pop-tabs").style.display="flex",this.builder.iframe){let t=this.builder.iframe.getBoundingClientRect().top+window.pageYOffset,i=this.builder.iframe.getBoundingClientRect().left+window.pageXOffset;e=c.getBoundingClientRect().top+t+10,n=c.getBoundingClientRect().left+i+5}else e=c.getBoundingClientRect().top+window.pageYOffset,n=c.getBoundingClientRect().left+window.pageXOffset;i.showPop(s,!1,c),s.style.top=e+35+"px",s.style.left=n+"px",t.removeClass(s,"arrow-bottom"),t.removeClass(s,"arrow-left"),t.removeClass(s,"arrow-right"),t.removeClass(s,"center"),t.removeClass(s,"right"),t.addClass(s,"arrow-top"),t.addClass(s,"left"),"left"===s.querySelector(".active").getAttribute("data-value")?s.setAttribute("data-mode","cell-left"):s.setAttribute("data-mode","cell-right")}));const u=r.querySelector(".cell-more");u&&t.addEventListener(u,"click",(()=>{let e,s,o=i.cellSelected();if(!o)return;if(this.builder.iframe){let t=this.builder.iframe.getBoundingClientRect().top+window.pageYOffset,i=this.builder.iframe.getBoundingClientRect().left+window.pageXOffset;e=u.getBoundingClientRect().top+t,s=u.getBoundingClientRect().left+i}else e=u.getBoundingClientRect().top+window.pageYOffset,s=u.getBoundingClientRect().left+window.pageXOffset;const a=n.querySelector(".columnmore");i.showPop(a,!1,u),a.style.top=e+35+"px",a.style.left=s-7+"px",t.removeClass(a,"arrow-bottom"),t.removeClass(a,"arrow-left"),t.removeClass(a,"arrow-right"),t.removeClass(a,"center"),t.removeClass(a,"right"),t.addClass(a,"arrow-top"),t.addClass(a,"left");const l=a.querySelector(".cell-locking");o.hasAttribute("data-noedit")?t.addClass(l,"on"):t.removeClass(l,"on")}));const p=r.querySelector(".cell-remove");p&&t.addEventListener(p,"click",(()=>{new Ro(this.builder).removeColumn(),i.clearControls()}));let h=o.querySelector(".row-grideditor");h&&t.addEventListener(h,"click",(()=>{const e=n.querySelector(".grideditor");if(t.hasClass(e,"active")){t.removeClass(e,"active");const i=document.querySelectorAll(this.builder.opts.container);Array.prototype.forEach.call(i,(e=>{e.removeAttribute("grideditor")}))}else{this.util.showModal(e,!1,(()=>{h.removeAttribute("data-focus"),h.focus()})),h.setAttribute("data-focus",!0);const n=document.querySelectorAll(this.builder.opts.container);Array.prototype.forEach.call(n,(e=>{e.setAttribute("grideditor","")}));const s=e.querySelector(".grid-outline");document.querySelector(this.builder.opts.container).hasAttribute("gridoutline")?t.addClass(s,"on"):t.removeClass(s,"on");const o=e.querySelector(".cell-locking");let a=i.cellSelected();a&&a.hasAttribute("data-noedit")?t.addClass(o,"on"):t.removeClass(o,"on")}}));const m=o.querySelector(".row-more");m&&t.addEventListener(m,"click",(()=>{let e,n,o,a=i.cellSelected();if(e=a?a.parentNode:i.rowSelected(),!e)return;if(t.removeClass(e,"row-outline"),i.hideColumnTool(),this.builder.iframe){let e=this.builder.iframe.getBoundingClientRect().top+window.pageYOffset,t=this.builder.iframe.getBoundingClientRect().left+window.pageXOffset;n=m.getBoundingClientRect().top+e,o=m.getBoundingClientRect().left+t}else n=m.getBoundingClientRect().top+window.pageYOffset,o=m.getBoundingClientRect().left+window.pageXOffset;i.showPop(s,!1,m),s.style.top=n-8+"px",t.removeClass(s,"arrow-bottom"),t.removeClass(s,"arrow-left"),t.removeClass(s,"arrow-right"),t.removeClass(s,"center"),t.removeClass(s,"right"),t.removeClass(s,"left"),"right"===this.builder.opts.rowTool?(s.style.left=o-s.offsetWidth-10+"px",t.addClass(s,"arrow-right"),t.addClass(s,"left")):(s.style.left=o+35+"px",t.addClass(s,"arrow-left"),t.addClass(s,"left"));let l=s.querySelector(".row-html"),r=s.querySelector(".row-duplicate");e.querySelector("[data-html]")?(l&&(l.style.display="none"),r&&(r.style.display="none")):(l&&(l.style.display=""),r&&(r.style.display=""));let d=!1;e.querySelectorAll("[data-noedit]").forEach((e=>{e.hasAttribute("data-html")||(d=!0)}));const c=s.querySelector(".row-locking");d?t.addClass(c,"on"):t.removeClass(c,"on")}));let g=o.querySelector(".row-remove");g&&t.addEventListener(g,"click",(()=>{this.grid.removeRow(),i.clearControls()}))}}readRowStyles(e){this.util.clearActiveElement();let t=e.style.backgroundColor,i=this.rowSettings.querySelector(".input-row-bgcolor");i.style.backgroundColor=t||"transparent";let n="";const s=this.rowSettings.querySelector(".cell-bgimage-preview"),o=this.rowSettings.querySelector(".input-row-bgimageadjust");o.style.display="none";const a=this.rowSettings.querySelector(".input-row-bgremove");a.style.display="none",e.style.backgroundImage&&-1!==e.style.backgroundImage.indexOf("url(")?(n=e.style.backgroundImage.slice(4,-1).replace(/["']/g,""),s.innerHTML=`<img src="${n}">`,o.style.display="flex",a.style.display="flex"):s.innerHTML="";const l=this.rowSettings.querySelector(".chk-row-grayscale");l.checked=!1,e.style.filter&&-1!==e.style.filter.indexOf("grayscale")&&(l.checked=!0);let r=e.parentNode;this.realtimeVisibility(r,!0);const d=this.rowSettings.querySelector("#divReverseColumns");let c=3;r.querySelector(".is-row-overlay")&&(c=4),r.childElementCount-c>1?d.style.display="flex":d.style.display="none";let u=this.rowSettings.querySelector(".input-row-id");u.value="";const p=r.getAttribute("id");p&&(u.value=p);let h=this.rowSettings.querySelector(".input-row-classes");h.value="";const m=r.getAttribute("data-class");h.value=m}rowOverlay(){let e=this.util.rowSelected();if(!e)return!1;let t=e.querySelector(".is-row-overlay");return t||(this.dom.appendHtml(e,'<div class="is-row-overlay"></div>'),t=e.querySelector(".is-row-overlay")),e.classList.add("relative"),t}}class av{constructor(e){this.builder=e;const t=this.builder.dom;this.dom=t}render(e){const t=this.dom,i=this.builder.util,n=Oo(this.builder);let s=e.querySelector(".is-rowadd-tool");if(!s){const n=`<div class="is-rowadd-tool" style="height:0">\n                <button type="button" tabindex="-1" title="${i.out("Add")}" title="${i.out("Add")}" style="outline:none;line-height:1;margin:0;padding:0;cursor:pointer;background-color:rgba(255,255,255,0.9);"><svg class="is-icon-flex" style="fill:rgba(0, 0, 0, 0.8);width:17px;height:17px;"><use xlink:href="#ion-ios-plus-empty"></use></svg></button>\n            </div>`;t.appendHtml(e,n),s=e.querySelector(".is-rowadd-tool");let o=s.querySelectorAll("[title]");Array.prototype.forEach.call(o,(e=>{e.setAttribute("data-title",e.getAttribute("title")),this.builder.iframe?this.builder.tooltip.set(e,5,3,!0):this.builder.tooltip.set(e,5,3)}))}let o=s.querySelector("button");t.addEventListener(o,"click",(()=>{n.querySelector(".is-pop-tabs").style.display="none";const e=window.innerHeight;let s,a;if(this.builder.iframe){let e=this.builder.iframe.getBoundingClientRect().top,t=this.builder.iframe.getBoundingClientRect().left;s=o.getBoundingClientRect().top+e,a=o.getBoundingClientRect().left+t}else s=o.getBoundingClientRect().top,a=o.getBoundingClientRect().left;i.showPop(n,!1,o);const l=n.offsetWidth,r=n.offsetHeight;return e-s>r?(n.style.top=s+window.pageYOffset+27+"px",n.style.left=a-l/2+7+"px",t.removeClass(n,"arrow-bottom"),t.removeClass(n,"arrow-right"),t.removeClass(n,"arrow-left"),t.removeClass(n,"center"),t.addClass(n,"arrow-top"),t.addClass(n,"center")):(n.style.top=s+window.pageYOffset-r-8+"px",n.style.left=a-l/2+7+"px",t.removeClass(n,"arrow-top"),t.removeClass(n,"arrow-right"),t.removeClass(n,"arrow-left"),t.removeClass(n,"center"),t.addClass(n,"arrow-bottom"),t.addClass(n,"center")),n.setAttribute("data-mode","row"),!1}))}}class lv{constructor(e){this.builder=e,this.grid=new Ro(e);const t=this.builder.util,i=this.builder.builderStuff;this.util=t,this.builderStuff=i;const n=this.builder.dom;this.dom=n;let s=i.querySelector(".is-pop.columnmore"),o=`\n            <button type="button" title="${t.out("Increase")}" class="cell-increase"><span><svg class="is-icon-flex" style="width:13px;height:13px;"><use xlink:href="#icon-increase"></use></svg></span>${t.out("Increase")}</button>\n            <button type="button" title="${t.out("Decrease")}" class="cell-decrease"><span><svg class="is-icon-flex" style="width:13px;height:13px;"><use xlink:href="#icon-decrease"></use></svg></span>${t.out("Decrease")}</button>      \n        `,a="";if(e.opts.columnHtmlEditor&&(a=`<button type="button" title="${t.out("HTML")}" class="cell-html">\n                <span><svg class="is-icon-flex" style="margin-right:-3px;width:12px;height:12px;"><use xlink:href="#ion-ios-arrow-left"></use></svg><svg class="is-icon-flex" style="margin-left:-2px;width:12px;height:12px;"><use xlink:href="#ion-ios-arrow-right"></use></svg></span>${t.out("HTML")}\n            </button>`),!s){let l,r,d=`\n            <div class="is-tool is-column-tool">\n                <button type="button" tabindex="-1" title="${t.out("Add")}" class="cell-add"><svg class="is-icon-flex"><use xlink:href="#ion-ios-plus-empty"></use></svg></button>\n                <button type="button" tabindex="-1" title="${t.out("More")}" class="cell-more"><svg class="is-icon-flex"><use xlink:href="#ion-more"></use></svg></button>\n                <button type="button" tabindex="-1" title="${t.out("Delete")}" class="cell-remove"><svg class="is-icon-flex" style="margin-left:-1px"><use xlink:href="#ion-ios-close-empty"></use></svg></button>\n            </div>\n            \n            <div class="is-pop columnmore" tabindex="-1" role="dialog" aria-modal="true" aria-hidden="true">\n                <div style="display:flex;flex-flow:wrap;">\n                    <button type="button" title="${t.out("Move Left")}" class="cell-prev"><span><svg class="is-icon-flex" style="width:15px;height:15px;"><use xlink:href="#ion-ios-arrow-thin-left"></use></svg></span>${t.out("Move Left")}</button>\n                    <button type="button" title="${t.out("Move Right")}" class="cell-next"><span><svg class="is-icon-flex" style="width:15px;height:15px;"><use xlink:href="#ion-ios-arrow-thin-right"></use></svg></span>${t.out("Move Right")}</button>\n                    <button type="button" title="${t.out("Move Up")}" class="cell-up"><span><svg class="is-icon-flex" style="width:15px;height:15px;"><use xlink:href="#ion-ios-arrow-thin-up"></use></svg></span>${t.out("Move Up")}</button>\n                    <button type="button" title="${t.out("Move Down")}" class="cell-down"><span><svg class="is-icon-flex" style="width:15px;height:15px;"><use xlink:href="#ion-ios-arrow-thin-down"></use></svg></span>${t.out("Move Down")}</button>\n                    ${o}\n                    <button type="button" title="${t.out("Duplicate")}" class="cell-duplicate"><span><svg class="is-icon-flex" style="width:12px;height:12px;"><use xlink:href="#ion-ios-photos-outline"></use></svg></span>${t.out("Duplicate")}</button>\n                    ${a}\n                    <div class="is-separator"></div>\n                    <button type="button" title="${t.out("Lock")}" class="cell-locking"><span><svg class="is-icon-flex" style="width:13px;height:13px;"><use xlink:href="#icon-lock"></use></svg></span>${t.out("Lock")}</button>\n                    <button type="button" title="${t.out("Settings")}" class="cell-settings"><span><svg class="is-icon-flex" style="width:12px;height:12px;"><use xlink:href="#ion-ios-gear"></use></svg></span>${t.out("Settings")}</button>\n                    \n                    \x3c!--\n                    <button title="${t.out("Lock")}" class="cell-locking">\n                        <svg class="is-icon-flex"><use xlink:href="#icon-lock"></use></svg>\n                    </button>\n                    <button title="${t.out("Settings")}" class="cell-settings">\n                        <svg class="is-icon-flex"><use xlink:href="#ion-ios-gear"></use></svg>\n                        <span>${t.out("Settings")}</span>\n                    </button>\n                    --\x3e\n                </div>\n            </div>\n\n            <div class="is-modal columnsettings" tabindex="-1" role="dialog" aria-modal="true" aria-hidden="true">\n                <div class="is-modal-content">\n                    <div class="is-modal-bar is-draggable">\n                        ${t.out("Column Settings")}\n                        <button class="is-modal-close" title="${t.out("Close")}" tabindex="-1">&#10005;</button>\n                    </div>\n\n                    <div style="padding:0;margin-top:35px;">\n\n                        <div class="is-tabs" data-group="cellsettings">\n                            <a title="${t.out("General")}" id="tabCellGeneral" href="#" data-content="divCellGeneral" class="active">${t.out("General")}</a>\n                            <a title="${t.out("Content")}" id="tabCellContent" href="#" data-content="divCellContent">${t.out("Content")}</a>\n                            ${this.builder.useLightbox?`\n                            <a title="${t.out("On Click")}" id="tabCellClick" href="#" data-content="divCellClick">${t.out("On Click")}</a>\n                            `:""}\n                            <a title="${t.out("More")}" id="tabCellMore" href="#" data-content="divCellMore">${t.out("More")}</a>\n                        </div>\n                        <div id="divCellGeneral" class="is-tab-content active" data-group="cellsettings" style="display:flex" tabindex="-1">\n                        \n                            <div style="padding-bottom: 3px;">${t.out("Background Color")}:</div>\n                            <div style="display:flex;">\n                                <button title="${t.out("Background Color")}" class="input-cell-bgcolor is-btn-color" style="margin-right:15px"></button>\n                                <button title="${t.out("Gradient")}" class="input-cell-gradient classic" data-value="+"> ${t.out("Gradient")} </button>\n                            </div>\n\n                            <div style="padding-top:20px;padding-bottom: 3px;">${t.out("Background Image")}:</div>\n                            <div>\n                                <div class="cell-bgimage-preview"></div>\n                                <div style="display: flex">\n                                    <button title="${t.out("Image")}" class="input-cell-bgimage">\n                                        <svg class="is-icon-flex"><use xlink:href="#ion-image"></use></svg>\n                                        <span>${t.out("Image")}</span>\n                                    </button>\n                                    <button title="${t.out("Select")}" class="input-select">${this.builder.opts.selectIcon}</button>\n                                    <button title="${t.out("Remove")}" class="input-cell-bgremove"><svg class="is-icon-flex" style="width:11px;height:11px;"><use xlink:href="#icon-clean"></use></svg></button>\n                                    <button title="${t.out("Adjust")}" class="input-cell-bgimageadjust" style="width:40px"><svg class="is-icon-flex"><use xlink:href="#ion-wrench"></use></svg></button>\n                                </div>\n                            </div>\n\n                            <div style="padding-top:20px;padding-bottom:3px;">${t.out("Text Color")}:</div>\n                            <div class="div-content-textcolor">\n                                <button title="0" class="input-cell-textcolor" data-command="dark">${t.out("Dark")}</button>\n                                <button title="10" class="input-cell-textcolor" data-command="light">${t.out("Light")}</button>\n                                \n                                <button title="${t.out("Clear")}" class="input-cell-textcolor" data-command=""><svg class="is-icon-flex" style="flex:none;width:18px;height:18px;margin-top: 2px;"><use xlink:href="#ion-ios-close-empty"></use></svg></button>\n                            </div>\n\n                            <div style="padding:30px 0 10px;">\n                                <label class="label-cell-grayscale label-checkbox" for="chkCellGrayscale"><input id="chkCellGrayscale" class="chk-cell-grayscale" type="checkbox" /> ${t.out("Grayscale")}</label>\n                            </div>\n\n                            <div style="display:none;padding:20px 0 10px;">\n                                <label class="label-cell-hideonmobile label-checkbox" for="chkHideColumnOnMobile"><input id="chkHideColumnOnMobile" class="chk-cell-hideonmobile" type="checkbox" /> ${t.out("Hide Column on Mobile")}</label>\n                            </div>\n\n                            <div class="is-separator"></div>\n                         \n                            <div class="div-target" style="display: flex;justify-content: flex-end;padding: 5px 0 0;">\n                                <button title="${t.out("Desktop")}" class="input-device on" data-value="" style="width:40px;height:25px;">\n                                    <svg class="is-icon-flex" style="width:16px;height:16px"><use xlink:href="#icon-device-desktop"></use></svg>\n                                </button>\n                                <button title="${t.out("Laptop/Tablet (Landscape)")}" class="input-device" data-value="md" style="width:40px;height:25px;">\n                                    <svg class="is-icon-flex" style="width:16px;height:16px;transform:rotate(-90deg)"><use xlink:href="#icon-device-tablet"></use></svg>\n                                </button>\n                                <button title="${t.out("Tablet (Portrait)")}" class="input-device" data-value="sm" style="width:40px;height:25px;">\n                                    <svg class="is-icon-flex" style="width:16px;height:16px"><use xlink:href="#icon-device-tablet"></use></svg>\n                                </button>\n                                <button title="${t.out("Mobile")}" class="input-device" data-value="xs" style="width:40px;height:25px;">\n                                    <svg class="is-icon-flex" style="width:13px;height:13px"><use xlink:href="#icon-device-mobile"></use></svg>\n                                </button>\n                            </div>\n\n                            <div style="padding-top:0;padding-bottom:3px;">${t.out("Visibility")}:</div>\n                            <div class="div-visibility" style="display:flex;">\n                                <button title="${t.out("Visible")}" class="input-visible on" style="width:100px;height:34px;">\n                                    <svg class="is-icon-flex" style="width:16px;height:16px"><use xlink:href="#icon-eye"></use></svg>\n                                    <span>${t.out("Visible")}</span>\n                                </button>\n                                <button title="${t.out("Hidden")}" class="input-hidden" style="width:100px;height:34px;">\n                                    <svg class="is-icon-flex" style="width:16px;height:16px"><use xlink:href="#icon-eye-off"></use></svg>\n                                    <span>${t.out("Hidden")}</span>\n                                </button>\n                            </div>\n                            \n                            \x3c!--\n                            <div style="display:none;padding-top:20px;padding-bottom:3px;">${t.out("Enlarge Row")}:</div>\n                            <div style="display: none;">\n                                <button title="${t.out("Normal")}" class="input-row-enlarge" data-command="0" style="margin-right:1px;">${t.out("Normal")}</button>\n                                <button title="+10%" class="input-row-enlarge" data-command="10" style="width:50px;margin-right:1px;">+10%</button>\n                                <button title="+20%" class="input-row-enlarge" data-command="20" style="width:50px;margin-right:1px;">+20%</button>\n                                <button title="+30%" class="input-row-enlarge" data-command="30" style="width:50px;margin-right:1px;">+30%</button>\n                                <button title="+40%" class="input-row-enlarge" data-command="40" style="width:50px;margin-right:1px;">+40%</button>\n                                <button title="+50%" class="input-row-enlarge" data-command="50" style="width:50px;margin-right:1px;">+50%</button>\n                                <button title="+60%" class="input-row-enlarge" data-command="60" style="width:50px;margin-right:1px;">+60%</button>\n                            </div>\n                            --\x3e\n\n                        </div>\n\n                        <div id="divCellContent" class="is-tab-content" data-group="cellsettings" tabindex="-1">\n\n                            <div style="padding-bottom:3px;">${t.out("Padding")}:</div>\n\n                            <div class="div-content-padding-pos" style="align-items:center;${this.builder.useCssClasses?"":"display:none"}">\n                                <div style="width:130px">\n                                    <div style="display: flex;justify-content: center;">\n                                        <button title="${t.out("Top")}" class="input-cell-padding-pos on" data-command="top">${t.out("Top")}</button>\n                                    </div>\n                                    <div style="display: flex;justify-content: center;">\n                                        <button title="${t.out("Left")}" class="input-cell-padding-pos on" data-command="left">${t.out("Left")}</button>\n                                        <button title="${t.out("Right")}" class="input-cell-padding-pos on" data-command="right">${t.out("Right")}</button>\n                                    </div>\n                                    <div style="display: flex;justify-content: center;">\n                                        <button title="${t.out("Bottom")}" class="input-cell-padding-pos on" data-command="bottom">${t.out("Bottom")}</button>\n                                    </div>\n                                </div>\n                                <button title="${t.out("All")}" class="input-cell-padding-pos" data-command="all">${t.out("All")}</button>\n                                <button title="x" class="input-cell-padding-pos" data-command="x" style="width:50px">x</button>\n                                <button title="y" class="input-cell-padding-pos" data-command="y" style="width:50px">y</button>\n                            </div>\n\n                            <div class="div-content-padding" style="flex-flow:wrap;margin-top:7px">\n                                <div style="display:flex;flex-flow:wrap;${this.builder.useCssClasses?"display:none":""}">\n                                    <button title="0" class="input-cell-padding" data-command="0">0</button>\n                                    <button title="10" class="input-cell-padding" data-command="10">10</button>\n                                    <button title="20" class="input-cell-padding" data-command="20">20</button>\n                                    <button title="30" class="input-cell-padding" data-command="30">30</button>\n                                    <button title="40" class="input-cell-padding" data-command="40">40</button>\n                                    <button title="50" class="input-cell-padding" data-command="50">50</button>\n                                    <button title="60" class="input-cell-padding" data-command="60">60</button>\n                                </div>\n\n                                <div style="display:flex;flex-flow:wrap;${this.builder.useCssClasses?"":"display:none"}">\n                                    <button title="0" class="input-cell-padding" data-command="0">0</button>\n                                    <button title="20" class="input-cell-padding" data-command="1">10</button>\n                                    <button title="40" class="input-cell-padding" data-command="2">20</button>\n                                    <button title="60" class="input-cell-padding" data-command="3">30</button>\n                                    <button title="60" class="input-cell-padding" data-command="4">40</button>\n                                    <button title="60" class="input-cell-padding" data-command="5">50</button>\n                                    <button title="60" class="input-cell-padding" data-command="6">60</button>\n                                    <button title="60" class="input-cell-padding" data-command="7">70</button>\n                                    <button title="60" class="input-cell-padding" data-command="8">80</button>\n                                    <button title="60" class="input-cell-padding" data-command="9">90</button>\n                                    <button title="60" class="input-cell-padding" data-command="10">100</button>\n                                    <button title="60" class="input-cell-padding" data-command="11">110</button>\n                                    <button title="60" class="input-cell-padding" data-command="12">120</button>\n                                    <button title="60" class="input-cell-padding" data-command="14">140</button>\n                                    <button title="60" class="input-cell-padding" data-command="16">160</button>\n                                    <button title="${t.out("Clear")}" class="input-cell-padding" data-command=""><svg class="is-icon-flex" style="flex:none;width:18px;height:18px;margin-top: 2px;"><use xlink:href="#ion-ios-close-empty"></use></svg></button>\n                                </div>\n                            </div>\n\n                            <div style="padding-top:20px;padding-bottom:3px;">${t.out("Height")}:</div>\n                            <div class="div-content-height">\n                                <button title="Decrease" class="input-cell-height" data-command="-">-</button>\n                                <button title="Increase" class="input-cell-height" data-command="+">+</button>\n                                <button title="300" class="input-cell-height" data-command="300">300</button>\n                                <button title="400" class="input-cell-height" data-command="400">400</button>\n                                <button title="500" class="input-cell-height" data-command="500">500</button>\n                                <button title="600" class="input-cell-height" data-command="600">600</button>\n                                <button title="700" class="input-cell-height" data-command="700">700</button>\n                                <button title="${t.out("Clear")}" class="input-cell-height" data-command=""><svg class="is-icon-flex" style="flex:none;width:18px;height:18px;margin-top: 2px;"><use xlink:href="#ion-ios-close-empty"></use></svg></button>\n                            </div>\n\n                            <div style="padding-top:20px;padding-bottom:3px;">${t.out("Content Alignment")}:</div>\n                            <div style="display:flex;align-items: flex-end;">\n                                <div style="width:128px">\n                                    <div class="div-content-position">\n                                        <button class="cmd-content-pos" data-pos="topleft" title="${t.out("Top Left")}" type="button" style=""><svg class="is-icon-flex" style="transform: rotate(315deg);"><use xlink:href="#ion-ios-arrow-thin-up"></use></svg></button>\n                                        <button class="cmd-content-pos" data-pos="topcenter" title="${t.out("Top Center")}" type="button"><svg class="is-icon-flex" style=""><use xlink:href="#ion-ios-arrow-thin-up"></use></svg></button>\n                                        <button class="cmd-content-pos" data-pos="topright" topright="${t.out("Top Right")}" type="button"><svg class="is-icon-flex" style="transform: rotate(45deg);"><use xlink:href="#ion-ios-arrow-thin-up"></use></svg></button>\n                                    </div>\n                                    <div class="div-content-position">\n                                        <button class="cmd-content-pos" data-pos="centerleft" title="${t.out("Center Left")}" type="button"><svg class="is-icon-flex" style=""><use xlink:href="#ion-ios-arrow-thin-left"></use></svg></button>\n                                        <button class="cmd-content-pos" data-pos="center" title="${t.out("Center")}" type="button"><svg class="is-icon-flex" style="width:6px;height:6px;"><use xlink:href="#ion-android-contract"></use></svg></button>\n                                        <button class="cmd-content-pos" data-pos="centerright" title="${t.out("Center Right")}" type="button"><svg class="is-icon-flex" style=""><use xlink:href="#ion-ios-arrow-thin-right"></use></svg></button>\n                                    </div>\n                                    <div class="div-content-position">\n                                        <button class="cmd-content-pos" data-pos="bottomleft" title="${t.out("Bottom Left")}" type="button" style=";"><svg class="is-icon-flex" style="transform: rotate(45deg);"><use xlink:href="#ion-ios-arrow-thin-down"></use></svg></button>\n                                        <button class="cmd-content-pos" data-pos="bottomcenter" title="${t.out("Bottom Center")}" type="button"><svg class="is-icon-flex" style=""><use xlink:href="#ion-ios-arrow-thin-down"></use></svg></button>\n                                        <button class="cmd-content-pos" data-pos="bottomright" title="${t.out("Bottom Right")}" type="button"><svg class="is-icon-flex" style="transform: rotate(315deg);"><use xlink:href="#ion-ios-arrow-thin-down"></use></svg></button>\n                                    </div>\n                                </div>\n                                <div class="div-content-position">\n                                    <button title="${t.out("Clear")}" class="cmd-content-pos" data-pos=""><svg class="is-icon-flex" style="flex:none;width:18px;height:18px;margin-top: 2px;"><use xlink:href="#ion-ios-close-empty"></use></svg></button>\n                                </div>\n                            </div>\n                        </div>\n\n                        <div id="divCellClick" class="is-tab-content" data-group="cellsettings" tabindex="-1">\n\n                            <label for="inpCellLinkSource" style="display:block">${t.out("Open")}:</label>\n                            <div class="image-src">\n                                \x3c!--<div class="div-input-text">--\x3e\n                                <input id="inpCellLinkSource" class="input-src" type="text" style="height:38px;">\n                                \x3c!--<button title="${t.out("Clear")}" class="input-clear"><svg class="is-icon-flex"><use xlink:href="#ion-ios-close-empty"></use></svg></button>\n                                </div>--\x3e\n                                <button title="${t.out("Select")}" class="input-select" style="flex:none;width:40px;height:38px;">${this.builder.opts.selectIcon}</button>\n\n                                <button title="${t.out(this.builder.opts.otherSelectCaption)}" class="input-select-other" style="display:none;width:40px;height:38px;">\n                                    ${this.builder.opts.otherSelectIcon}\n                                </button>\n                                \n                                <div class="image-larger4" style="position: relative; flex: 0 0 auto; width: 40px; height: 38px; box-shadow: rgba(0, 0, 0, 0.32) 0px 3px 6px -6px;">\n                                    <form class="form-upload-larger" target="frameTargetLinkUpload" method="post" action="${this.builder.opts.largerImageHandler}" enctype="multipart/form-data" style="position:absolute;top:0;left:0;width:100%;height:100%;border-radius:1px;display:flex;align-items: center;justify-content: center;">\n                                        <input id="hidRefId4" name="hidRefId" type="hidden" value="">\n                                        <svg class="is-icon-flex" style="width:18px;height:18px;"><use xlink:href="#ion-ios-cloud-upload-outline"></use></svg>\n                                        <input onclick="blur()" title="${t.out("Select")}" id="fileImage4" name="fileImage" type="file" accept="image/*,video/mp4" style="position:absolute;top:-30px;left:0;width:100%;height:68px;opacity: 0;cursor: pointer;">\n                                    </form>\n\n                                    <iframe tabindex="-1" id="frameTargetLinkUpload" name="frameTargetLinkUpload" src="about:blank" style="width:1px;height:1px;position:absolute;top:0;right:-100000px"></iframe>\n                                </div>\n                            </div>\n                            <div style="padding-top:20px">\n                                <button class="input-testclick">${t.out("Test")}</button>\n                            </div>\n\n                            <p>${t.out("You can test the On-Click action on page if you lock the column by clicking the lock button")} <svg class="is-icon-flex"><use xlink:href="#icon-lock"></use></svg>.</p>\n\n                        </div>\n\n                        <div id="divCellMore" class="is-tab-content" data-group="cellsettings" tabindex="-1">\n\n                            <label for="inpCellId">${t.out("Add Column ID")}:</label>\n                            <div>\n                                <input id="inpCellId" class="input-cell-id" type="text" onkeypress="return /[0-9a-zA-Z_]/i.test(event.key)" style="height:38px">\n                            </div>\n        \n                            <label for="inpCellCssClasses" style="padding:20px 0 3px;">${t.out("Add Css Classes")}:</label>\n                            <div>\n                                <input id="inpCellCssClasses" class="input-cell-classes" type="text" style="height:38px">\n                            </div>\n\n                        </div>\n\n                    \n                    </div>\n                        \n                </div>\n                \n            </div>\n\n            <div class="is-modal imageadjust" tabindex="-1" role="dialog" aria-modal="true" aria-hidden="true">\n                <div class="is-modal-content" style="max-width:420px;">\n                    <div class="is-modal-bar is-draggable">\n                        ${t.out("Background Image Adjustments")}\n                        <button class="is-modal-close" title="${t.out("Close")}" tabindex="-1">&#10005;</button>\n                    </div>\n\n                    <div style="padding:0;margin-top:25px;">\n\n                        <div class="div-target" style="display: flex;justify-content: flex-end;padding: 5px 0 0;">\n                            <button title="${t.out("Desktop")}" class="input-device on" data-value="" style="width:40px;height:25px;">\n                                <svg class="is-icon-flex" style="width:16px;height:16px"><use xlink:href="#icon-device-desktop"></use></svg>\n                            </button>\n                            <button title="${t.out("Laptop/Tablet (Landscape)")}" class="input-device" data-value="md" style="width:40px;height:25px;">\n                                <svg class="is-icon-flex" style="width:16px;height:16px;transform:rotate(-90deg)"><use xlink:href="#icon-device-tablet"></use></svg>\n                            </button>\n                            <button title="${t.out("Tablet (Portrait)")}" class="input-device" data-value="sm" style="width:40px;height:25px;">\n                                <svg class="is-icon-flex" style="width:16px;height:16px"><use xlink:href="#icon-device-tablet"></use></svg>\n                            </button>\n                            <button title="${t.out("Mobile")}" class="input-device" data-value="xs" style="width:40px;height:25px;">\n                                <svg class="is-icon-flex" style="width:13px;height:13px"><use xlink:href="#icon-device-mobile"></use></svg>\n                            </button>\n                        </div>\n\n                        <div style="padding-bottom:3px;">${t.out("Scale")}:</div>\n                        <div style="padding-top:4px">\n                            <input type="range" min="100" max="500" value="0" class="image-scale-slider is-rangeslider">\n                        </div>\n\n                        <div style="padding-bottom:3px;padding-top: 20px;">${t.out("Horizontal")}:</div>\n                        <div style="padding-top:4px">\n                            <input type="range" min="0" max="100" value="0" class="image-hor-slider is-rangeslider">\n                        </div>\n\n                        <div style="padding-bottom:3px;padding-top: 20px;">${t.out("Vertical")}:</div>\n                        <div style="padding-top:4px">\n                            <input type="range" min="0" max="100" value="0" class="image-vert-slider is-rangeslider">\n                        </div>\n\n                        <div style="padding-bottom:3px;padding-top: 10px;display:flex;justify-content:right;align-items:center;">\n                            <button title="${t.out("Reset")}" class="image-reset" style="display:flex;width:30px;height:30px;"><svg class="is-icon-flex" style="width:11px;height:11px;"><use xlink:href="#icon-clean"></use></svg></button>\n                        </div>\n\n                    </div>\n\n                </div>\n            </div> \n\n            <div class="is-modal imageadjust2" tabindex="-1" role="dialog" aria-modal="true" aria-hidden="true">\n                <div class="is-modal-content" style="max-width:420px;">\n                    <div class="is-modal-bar is-draggable">\n                        ${t.out("Background Image Adjustments")}\n                        <button class="is-modal-close" title="${t.out("Close")}" tabindex="-1">&#10005;</button>\n                    </div>\n\n                    <div style="padding:0;margin-top:25px;">\n\n                        <div style="padding-bottom:3px;display:flex;">\n                            <span>${t.out("Scale")}:</span>\n                        </div>\n                        <div style="padding-top:4px">\n                            <input type="range" min="100" max="500" value="0" class="image-scale-slider is-rangeslider">\n                        </div>\n\n                        <div style="padding-bottom:3px;padding-top: 20px;display:flex;">\n                            <span>${t.out("Horizontal")}:</span>\n                        </div>\n                        <div style="padding-top:4px">\n                            <input type="range" min="-150" max="150" value="0" class="image-hor-slider is-rangeslider">\n                        </div>\n\n                        <div style="padding-bottom:3px;padding-top: 20px;display:flex;">\n                            <span>${t.out("Vertical")}:</span>\n                        </div>\n                        <div style="padding-top:4px">\n                            <input type="range" min="-150" max="150" value="0" class="image-vert-slider is-rangeslider">\n                        </div>\n\n                        <div style="padding-bottom:3px;padding-top: 10px;display:flex;justify-content:right;align-items:center;">\n                            <button title="${t.out("Reset")}" class="image-reset" style="display:flex;width:30px;height:30px;"><svg class="is-icon-flex" style="width:11px;height:11px;"><use xlink:href="#icon-clean"></use></svg></button>\n                        </div>\n                    </div>\n\n                </div>\n            </div> \n\n            <div class="is-modal imagesource" tabindex="-1" role="dialog" aria-modal="true" aria-hidden="true">\n                <div class="is-modal-content" style="max-width:550px;">\n\n                    <label for="inpCellImageBgSource" style="display:block">${t.out("Source")}:</label>\n                    <div class="image-src">\n                        <input id="inpCellImageBgSource" class="input-src" type="text">\n                        <button title="${t.out("Select")}" class="input-select" style="flex:none;">\n                            ${this.builder.opts.selectIcon}\n                        </button>\n                        <div class="image-larger3 input-upload" style="position: relative; flex: 0 0 auto;box-shadow: rgba(0, 0, 0, 0.32) 0px 3px 6px -6px;">\n                            <form class="form-upload-larger" target="frameTargetCellImageUpload" method="post" action="${this.builder.opts.largerImageHandler}" enctype="multipart/form-data" style="position:absolute;display:flex;justify-content: center;align-items: center;top:0;left:0;width:100%;height:100%;">\n                                <input id="hidRefId3" name="hidRefId" type="hidden" value="">\n                                <svg class="is-icon-flex" style="width:18px;height:18px;"><use xlink:href="#ion-ios-cloud-upload-outline"></use></svg>\n                                <input onclick="blur()" title="${t.out("Select")}" id="fileImage3" name="fileImage" type="file" accept="image/*" style="position:absolute;top:-30px;left:0;width:100%;height:80px;opacity: 0;cursor: pointer;">\n                            </form>\n\n                            <iframe tabindex="-1" tabIndex="0" id="frameTargetCellImageUpload" name="frameTargetCellImageUpload" src="about:blank" style="width:1px;height:1px;position:absolute;top:0;right:-100000px"></iframe>\n                        </div>\n                    </div>\n\n                    <div style="text-align:right;margin-top:20px;">\n                        <button title="${t.out("Cancel")}" class="input-cancel classic-secondary">${t.out("Cancel")}</button>\n                        <button title="${t.out("Ok")}" class="input-ok classic-primary">${t.out("Ok")}</button>\n                    </div>\n\n                </div>\n            </div>\n\n            <div class="is-locked-indicator">\n                <svg class="is-icon-flex"><use xlink:href="#icon-lock"></use></svg>\n            </div>\n            `;n.appendHtml(i,d),this.builder.iframe?this.lockIndicator=this.builder.contentStuff.querySelector(".is-locked-indicator"):this.lockIndicator=i.querySelector(".is-locked-indicator"),s=i.querySelector(".columnmore"),this.cellSettings=i.querySelector(".is-modal.columnsettings"),this.divCellClick=i.querySelector("#divCellClick"),this.divCellGeneral=i.querySelector("#divCellGeneral"),Oo(e),r=s.querySelector(".cell-prev"),n.addEventListener(r,"click",(()=>{this.grid.moveColumnPrevious()})),r=s.querySelector(".cell-next"),n.addEventListener(r,"click",(()=>{this.grid.moveColumnNext()})),r=s.querySelector(".cell-up"),n.addEventListener(r,"click",(()=>{this.grid.moveColumnUp(),t.clearControls()})),r=s.querySelector(".cell-down"),n.addEventListener(r,"click",(()=>{this.grid.moveColumnDown(),t.clearControls()})),r=s.querySelector(".cell-increase"),n.addEventListener(r,"click",(()=>{const e=t.cellSelected();if(!e)return;const i=e.parentNode;if(!this.builder.useDefaultGrid){let e=!1;Array.from(i.children).map((t=>{t.classList.contains("is-row-tool")||t.classList.contains("is-rowadd-tool")||t.classList.contains("is-col-tool")||t.style.width&&(e=!0)})),e&&(Array.from(i.children).map((e=>{e.classList.contains("is-row-tool")||e.classList.contains("is-rowadd-tool")||e.classList.contains("is-col-tool")||(e.style.width="",e.style.flex="",e.style.height="",e.style.minHeight="")})),t.fixLayout(i))}this.grid.increaseColumn(),Array.from(e.parentNode.children).map((e=>{e.classList.contains("is-row-tool")||e.classList.contains("is-rowadd-tool")||e.classList.contains("is-col-tool")||e.getAttribute("data-module")&&t.refreshModuleLayout(e)}))})),r=s.querySelector(".cell-decrease"),n.addEventListener(r,"click",(()=>{const e=t.cellSelected();if(!e)return;const i=e.parentNode;if(!this.builder.useDefaultGrid){let e=!1;Array.from(i.children).map((t=>{t.classList.contains("is-row-tool")||t.classList.contains("is-rowadd-tool")||t.classList.contains("is-col-tool")||t.style.width&&(e=!0)})),e&&(Array.from(i.children).map((e=>{e.classList.contains("is-row-tool")||e.classList.contains("is-rowadd-tool")||e.classList.contains("is-col-tool")||(e.style.width="",e.style.flex="",e.style.height="",e.style.minHeight="")})),t.fixLayout(i))}this.grid.decreaseColumn(),Array.from(e.parentNode.children).map((e=>{e.classList.contains("is-row-tool")||e.classList.contains("is-rowadd-tool")||e.classList.contains("is-col-tool")||e.getAttribute("data-module")&&t.refreshModuleLayout(e)}))})),r=s.querySelector(".cell-duplicate"),n.addEventListener(r,"click",(()=>{this.grid.duplicateColumn(),t.hidePop(this.columnMore),t.clearControls()})),r=s.querySelector(".cell-html"),r&&n.addEventListener(r,"click",(()=>{if(!t.cellSelected())return;new qo(this.builder).view("cell")}));const c=document.querySelector(".is-modal.columnsettings"),u=document.querySelector(".is-modal.imagesource"),p=document.querySelector(".is-modal.imageadjust"),h=document.querySelector(".is-modal.imageadjust2");this.cellSettings=c,this.imageSource=u,this.imageAdjust=p,this.imageAdjust2=h;const m=s.querySelector(".cell-locking");m&&n.addEventListener(m,"click",(e=>{let i=t.cellSelected();i&&(i.hasAttribute("data-noedit")?(i.removeAttribute("data-noedit"),i.contentEditable=!0,n.removeClass(m,"on")):(i.setAttribute("data-noedit",""),i.contentEditable=!1,n.addClass(m,"on"),this.util.clearActiveElement(!0)),this.showHideLockIndicator(i),this.builder.element.applyBehavior(i),t.hidePop(this.columnMore),e.preventDefault())})),r=s.querySelector(".cell-settings"),r&&n.addEventListener(r,"click",(()=>{let e=t.cellSelected();e&&(this.readCellStyles(e),t.saveSelection(),t.showModal(c,!1,(()=>{"flex"===i.querySelector(".is-rte-tool").style.display&&t.restoreSelection()})),t.hidePop(this.columnMore))}));let g=c.querySelector(".input-cell-id");g.addEventListener("change",(()=>{let e=t.cellSelected();e&&(this.builder.uo.saveForUndo(),""!==g.value?e.setAttribute("id",g.value):e.removeAttribute("id"),this.builder.opts.onChange())}));let b=c.querySelector(".input-cell-classes");b.addEventListener("change",(()=>{let e=t.cellSelected();if(!e)return;this.builder.uo.saveForUndo();let i=[],n=e.getAttribute("data-class");n&&(i=n.split(" "));let s=[],o=b.value;s=o.split(" "),i.forEach((t=>{s.includes(t)||e.classList.remove(t)})),s.forEach((t=>{""!==t&&e.classList.add(t)})),e.setAttribute("data-class",o),""===e.getAttribute("data-class")&&e.removeAttribute("data-class"),this.builder.opts.onChange()}));let f=c.querySelector(".input-cell-bgcolor");f.addEventListener("click",(e=>{this.builder.uo.saveForUndo(!0);let i=e.target;this.builder.colorPicker.open((e=>{t.cellSelected().style.backgroundColor=e,i.style.backgroundColor=e,this.builder.opts.onChange()}),c.querySelector(".input-cell-bgcolor").style.backgroundColor,(()=>{f.removeAttribute("data-focus"),f.focus()})),f.setAttribute("data-focus",!0)}));const v=c.querySelector(".input-cell-bgimage");v&&n.addEventListener(v,"click",(()=>{let e=t.cellSelected();if(!e)return;let i="";e.style.backgroundImage&&-1!==e.style.backgroundImage.indexOf("url(")&&(i=e.style.backgroundImage.slice(4,-1).replace(/["']/g,"")),this.openImagePicker(i,(e=>{let i=t.cellSelected();if(!i)return;this.builder.uo.saveForUndo(),i.style.backgroundImage=`url("${e}")`,i.style.backgroundSize="cover",i.style.backgroundRepeat="no-repeat";const n=c.querySelector(".cell-bgimage-preview"),s=this.cellSettings.querySelector(".input-cell-bgimageadjust"),o=this.cellSettings.querySelector(".input-cell-bgremove");s.style.display="none",o.style.display="none",""!==e?(n.innerHTML=`<img src="${e}">`,s.style.display="flex",o.style.display="flex"):n.innerHTML="",this.builder.opts.onChange()}),v)}));const y=c.querySelector(".input-cell-bgimageadjust");y&&n.addEventListener(y,"click",(()=>{let e=t.cellSelected();e&&this.openImageAdjust(e,y)})),r=c.querySelector(".input-cell-bgremove"),r&&n.addEventListener(r,"click",(()=>{let e=t.cellSelected();if(!e)return;this.builder.uo.saveForUndo(),e.style.backgroundImage="",e.style.backgroundSize="",e.style.backgroundRepeat="",e.style.backgroundPosition="";const i=c.querySelector(".cell-bgimage-preview"),n=this.cellSettings.querySelector(".input-cell-bgimageadjust"),s=this.cellSettings.querySelector(".input-cell-bgremove");n.style.display="none",s.style.display="none",i.innerHTML="",this.builder.opts.onChange()})),this.builder.opts.onImageSelectClick||""!==this.builder.opts.imageselect||(this.divCellGeneral.querySelector(".input-select").style.display="none");const x=this.divCellGeneral.querySelector(".input-select");this.builder.renderSelectAsset(x,"image",(e=>{let i=t.cellSelected();if(!i)return;this.builder.uo.saveForUndo(),i.style.backgroundImage=`url("${e}")`,i.style.backgroundSize="cover",i.style.backgroundRepeat="no-repeat";const n=c.querySelector(".cell-bgimage-preview"),s=this.cellSettings.querySelector(".input-cell-bgimageadjust"),o=this.cellSettings.querySelector(".input-cell-bgremove");s.style.display="none",o.style.display="none",""!==e?(n.innerHTML=`<img src="${e}">`,s.style.display="flex",o.style.display="flex"):n.innerHTML="",this.builder.opts.onChange()})),""!==this.builder.opts.largerImageHandler||this.builder.opts.onLargerImageUpload||(u.querySelector(".image-larger3").style.display="none"),this.builder.opts.onImageSelectClick||""!==this.builder.opts.imageselect||(u.querySelector(".input-select").style.display="none");let _=u.querySelector(".image-src");if(this.builder.opts.onImageSelectClick||this.builder.opts.imageselect){const e=u.querySelector(".input-select");e&&n.addEventListener(e,"click",(()=>{if(this.builder.opts.onImageSelectClick)this.builder.opts.onImageSelectClick({targetInput:u.querySelector(".input-src"),theTrigger:e});else{let n=i.querySelector(".is-modal.imageselect"),s=n.querySelector("iframe");this.builder.opts.assetRefresh&&(s.src=this.builder.opts.imageselect,this.builder.opts.assetRefresh=!1),"about:blank"===s.src&&(s.src=this.builder.opts.imageselect),t.showModal(n,!1,(()=>{e.removeAttribute("data-focus"),e.focus()}),!1,this.builder.assetPanelFullScreen),e.setAttribute("data-focus",!0)}this.builder.targetInput=u.querySelector(".input-src"),this.builder.targetCallback=null,this.builder.targetAssetType="image"}))}else n.removeClass(_,"image-select");let w=u.querySelector("#fileImage3");n.addEventListener(w,"change",(e=>{let t=w;for(;"form"!==t.nodeName.toLowerCase();)t=t.parentNode;let i=t;n.addClass(i,"please-wait"),u.querySelector("#hidRefId3").value=this.builder.opts.customval,this.builder.opts.onLargerImageUpload?this.builder.opts.onLargerImageUpload(e):i.submit(),w.value=""}));const S=u.querySelector(".input-ok");n.addEventListener(S,"click",(()=>{const e=this.imageSource.querySelector(".input-src").value;this.builder.imageSelectedCallback&&this.builder.imageSelectedCallback(e),this.builder.hideModal(u)}));const C=u.querySelector(".input-cancel");n.addEventListener(C,"click",(()=>{this.builder.hideModal(u)}));const k=p.querySelector(".image-scale-slider");k.onfocus=()=>{this.builder.uo.saveForUndo(!0)},k.oninput=()=>{let e=k.value,t=this.builder.elementSelected;if(document.querySelector(".content-preview.is-screen-375.active")&&this.useTarget){let e=t.getAttribute("data-bg-xs");e||(e="");let i=document.createElement("div");i.style.cssText=e,i.style.backgroundSize="cover",t.setAttribute("data-bg-xs",i.style.cssText)}else if(document.querySelector(".content-preview.is-screen-768.active")&&this.useTarget){let e=t.getAttribute("data-bg-sm");e||(e="");let i=document.createElement("div");i.style.cssText=e,i.style.backgroundSize="cover",t.setAttribute("data-bg-sm",i.style.cssText)}else if(document.querySelector(".content-preview.is-screen-1024.active")&&this.useTarget){let e=t.getAttribute("data-bg-md");e||(e="");let i=document.createElement("div");i.style.cssText=e,i.style.backgroundSize="cover",t.setAttribute("data-bg-md",i.style.cssText)}else t.style.backgroundSize=e+"%";t.style.left="",t.style.top="",t.style.width="",t.style.height="",t.removeAttribute("data-x"),t.removeAttribute("data-y"),t.removeAttribute("data-scale")},k.onchange=()=>{(document.querySelector(".content-preview.is-screen-375.active")||document.querySelector(".content-preview.is-screen-768.active")||document.querySelector(".content-preview.is-screen-1024.active"))&&(k.value=0),this.builder.opts.onChange()};const A=h.querySelector(".image-scale-slider");A.onfocus=()=>{this.builder.uo.saveForUndo(!0)},A.oninput=()=>{let e=this.builder.elementSelected,t=A.value;this.scaleWidth?(e.style.width=t+"%",e.style.height=100*t/A.min+"%"):(e.style.height=t+"%",e.style.width=100*t/A.min+"%"),e.setAttribute("data-scale",t)},A.onchange=()=>{this.builder.opts.onChange()};const E=p.querySelector(".image-hor-slider");E.onfocus=()=>{this.builder.uo.saveForUndo(!0)},E.oninput=()=>{let e=E.value,t=this.builder.elementSelected;if(document.querySelector(".content-preview.is-screen-375.active")&&this.useTarget){let i=t.getAttribute("data-bg-xs");i||(i="");let n=document.createElement("div");n.style.cssText=i,n.style.backgroundPositionX=e+"%",n.style.backgroundSize="cover",t.setAttribute("data-bg-xs",n.style.cssText)}else if(document.querySelector(".content-preview.is-screen-768.active")&&this.useTarget){let i=t.getAttribute("data-bg-sm");i||(i="");let n=document.createElement("div");n.style.cssText=i,n.style.backgroundPositionX=e+"%",n.style.backgroundSize="cover",t.setAttribute("data-bg-sm",n.style.cssText)}else if(document.querySelector(".content-preview.is-screen-1024.active")&&this.useTarget){let i=t.getAttribute("data-bg-md");i||(i="");let n=document.createElement("div");n.style.cssText=i,n.style.backgroundPositionX=e+"%",n.style.backgroundSize="cover",t.setAttribute("data-bg-md",n.style.cssText)}else t.style.backgroundPositionX=e+"%";t.style.left="",t.style.top="",t.style.width="",t.style.height="",t.removeAttribute("data-x"),t.removeAttribute("data-y"),t.removeAttribute("data-scale")},E.onchange=()=>{this.builder.opts.onChange()};const L=h.querySelector(".image-hor-slider");L.onfocus=()=>{this.builder.uo.saveForUndo(!0)},L.oninput=()=>{let e=this.builder.elementSelected,t=parseFloat(L.value);e.style.left=`${t}%`,e.style.right="",e.setAttribute("data-x",t)},L.onchange=()=>{this.builder.opts.onChange()};const q=p.querySelector(".image-vert-slider");q.onfocus=()=>{this.builder.uo.saveForUndo(!0)},q.oninput=()=>{let e=q.value,t=this.builder.elementSelected;if(document.querySelector(".content-preview.is-screen-375.active")&&this.useTarget){let i=t.getAttribute("data-bg-xs");i||(i="");let n=document.createElement("div");n.style.cssText=i,n.style.backgroundPositionY=e+"%",n.style.backgroundSize="cover",t.setAttribute("data-bg-xs",n.style.cssText)}else if(document.querySelector(".content-preview.is-screen-768.active")&&this.useTarget){let i=t.getAttribute("data-bg-sm");i||(i="");let n=document.createElement("div");n.style.cssText=i,n.style.backgroundPositionY=e+"%",n.style.backgroundSize="cover",t.setAttribute("data-bg-sm",n.style.cssText)}else if(document.querySelector(".content-preview.is-screen-1024.active")&&this.useTarget){let i=t.getAttribute("data-bg-md");i||(i="");let n=document.createElement("div");n.style.cssText=i,n.style.backgroundPositionY=e+"%",n.style.backgroundSize="cover",t.setAttribute("data-bg-md",n.style.cssText)}else t.style.backgroundPositionY=e+"%";t.style.left="",t.style.top="",t.style.width="",t.style.height="",t.removeAttribute("data-x"),t.removeAttribute("data-y"),t.removeAttribute("data-scale")},q.onchange=()=>{this.builder.opts.onChange()};const T=h.querySelector(".image-vert-slider");T.onfocus=()=>{this.builder.uo.saveForUndo(!0)},T.oninput=()=>{let e=this.builder.elementSelected,t=parseFloat(T.value);e.style.top=`${t}%`,e.style.bottom="",e.setAttribute("data-y",t)},T.onchange=()=>{this.builder.opts.onChange()};p.querySelector(".image-reset").addEventListener("click",(()=>{this.builder.uo.saveForUndo();let e=this.builder.elementSelected;this.resetImage(e),this.builder.opts.onChange()}));h.querySelector(".image-reset").addEventListener("click",(()=>{this.builder.uo.saveForUndo();let e=this.builder.elementSelected;this.resetImage2(e),this.builder.opts.onChange()})),l=c.querySelectorAll(".input-row-enlarge"),Array.prototype.forEach.call(l,(e=>{n.addEventListener(e,"click",(()=>{this.builder.uo.saveForUndo();let i=e.getAttribute("data-command"),s=t.cellSelected().parentNode;n.removeClass(s,"expand-10"),n.removeClass(s,"expand-20"),n.removeClass(s,"expand-30"),n.removeClass(s,"expand-40"),n.removeClass(s,"expand-50"),n.removeClass(s,"expand-60"),n.addClass(s,"expand-"+i),this.builder.opts.onChange()}))}));const M=new ev({colors:this.builder.colors,gradientcolors:this.builder.opts.gradientcolors,lang:this.builder.opts.lang});let O=c.querySelector(".input-cell-gradient");O.addEventListener("click",(()=>{this.builder.uo.saveForUndo(!0);let e=t.cellSelected();M.open(e,(()=>{this.cellSettings.querySelector(".input-cell-bgimageadjust").style.display="none";this.cellSettings.querySelector(".input-cell-bgremove").style.display="none";this.cellSettings.querySelector(".cell-bgimage-preview").innerHTML="";this.imageSource.querySelector(".input-src").value="",this.builder.opts.onChange()}),(e=>{O.removeAttribute("data-focus"),O.focus()})),O.setAttribute("data-focus",!0)})),l=c.querySelectorAll(".input-cell-textcolor"),Array.prototype.forEach.call(l,(e=>{n.addEventListener(e,"click",(()=>{this.builder.uo.saveForUndo();let i=e.getAttribute("data-command"),s=t.cellSelected();"dark"===i?(n.removeClass(s,"is-light-text"),n.addClass(s,"is-dark-text")):"light"===i?(n.removeClass(s,"is-dark-text"),n.addClass(s,"is-light-text")):(n.removeClass(s,"is-dark-text"),n.removeClass(s,"is-light-text"));let o=s.querySelectorAll("*");Array.prototype.forEach.call(o,(e=>{e.style.color&&(e.style.color="")})),this.builder.opts.onChange()}))})),l=c.querySelectorAll(".input-cell-padding-pos"),Array.prototype.forEach.call(l,(e=>{n.addEventListener(e,"click",(()=>{let t=e.getAttribute("data-command"),i=this.cellSettings.querySelectorAll(".input-cell-padding-pos");Array.prototype.forEach.call(i,(e=>{n.removeClass(e,"on")})),"all"===t?(n.addClass(this.cellSettings.querySelector('button[data-command="top"]'),"on"),n.addClass(this.cellSettings.querySelector('button[data-command="left"]'),"on"),n.addClass(this.cellSettings.querySelector('button[data-command="right"]'),"on"),n.addClass(this.cellSettings.querySelector('button[data-command="bottom"]'),"on")):"x"===t?(n.addClass(this.cellSettings.querySelector('button[data-command="left"]'),"on"),n.addClass(this.cellSettings.querySelector('button[data-command="right"]'),"on")):"y"===t?(n.addClass(this.cellSettings.querySelector('button[data-command="top"]'),"on"),n.addClass(this.cellSettings.querySelector('button[data-command="bottom"]'),"on")):n.addClass(e,"on");let s=this.cellSettings.querySelectorAll(".input-cell-padding");Array.prototype.forEach.call(s,(e=>{n.removeClass(e,"on")}))}))})),l=c.querySelectorAll(".input-cell-padding"),Array.prototype.forEach.call(l,(e=>{n.addEventListener(e,"click",(()=>{this.builder.uo.saveForUndo();let i=e.getAttribute("data-command"),s=t.cellSelected(),o=this.cellSettings.querySelectorAll(".input-cell-padding");if(Array.prototype.forEach.call(o,(e=>{n.removeClass(e,"on")})),this.builder.useCssClasses){let t;n.removeClass(s,"padding-0"),n.removeClass(s,"padding-10"),n.removeClass(s,"padding-20"),n.removeClass(s,"padding-30"),n.removeClass(s,"padding-40"),n.removeClass(s,"padding-50"),n.removeClass(s,"padding-60");let o=this.cellSettings.querySelectorAll(".input-cell-padding-pos.on");if(2===o.length)if(t=o[0].getAttribute("data-command"),"left"===t){let e=this.builder.cssClasses.padding.left;for(let t=0;t<Object.keys(e).length;t++){let i=Object.values(e)[t];n.removeClass(s,i)}e=this.builder.cssClasses.padding.right;for(let t=0;t<Object.keys(e).length;t++){let i=Object.values(e)[t];n.removeClass(s,i)}e=this.builder.cssClasses.padding.x;for(let t=0;t<Object.keys(e).length;t++){let i=Object.values(e)[t];n.removeClass(s,i)}""!==i&&n.addClass(s,this.builder.cssClasses.padding.x[`px_${i}`])}else{let e=this.builder.cssClasses.padding.top;for(let t=0;t<Object.keys(e).length;t++){let i=Object.values(e)[t];n.removeClass(s,i)}e=this.builder.cssClasses.padding.bottom;for(let t=0;t<Object.keys(e).length;t++){let i=Object.values(e)[t];n.removeClass(s,i)}e=this.builder.cssClasses.padding.y;for(let t=0;t<Object.keys(e).length;t++){let i=Object.values(e)[t];n.removeClass(s,i)}""!==i&&n.addClass(s,this.builder.cssClasses.padding.y[`py_${i}`])}else if(4===o.length){let e=this.builder.cssClasses.padding.top;for(let t=0;t<Object.keys(e).length;t++){let i=Object.values(e)[t];n.removeClass(s,i)}e=this.builder.cssClasses.padding.bottom;for(let t=0;t<Object.keys(e).length;t++){let i=Object.values(e)[t];n.removeClass(s,i)}e=this.builder.cssClasses.padding.left;for(let t=0;t<Object.keys(e).length;t++){let i=Object.values(e)[t];n.removeClass(s,i)}e=this.builder.cssClasses.padding.right;for(let t=0;t<Object.keys(e).length;t++){let i=Object.values(e)[t];n.removeClass(s,i)}e=this.builder.cssClasses.padding.all;for(let t=0;t<Object.keys(e).length;t++){let i=Object.values(e)[t];n.removeClass(s,i)}e=this.builder.cssClasses.padding.x;for(let t=0;t<Object.keys(e).length;t++){let i=Object.values(e)[t];n.removeClass(s,i)}e=this.builder.cssClasses.padding.y;for(let t=0;t<Object.keys(e).length;t++){let i=Object.values(e)[t];n.removeClass(s,i)}""!==i&&n.addClass(s,this.builder.cssClasses.padding.all[`p_${i}`])}else if(t=o[0].getAttribute("data-command"),"top"===t){let e=this.builder.cssClasses.padding.top;for(let t=0;t<Object.keys(e).length;t++){let i=Object.values(e)[t];n.removeClass(s,i)}""!==i&&n.addClass(s,this.builder.cssClasses.padding.top[`pt_${i}`])}else if("bottom"===t){let e=this.builder.cssClasses.padding.bottom;for(let t=0;t<Object.keys(e).length;t++){let i=Object.values(e)[t];n.removeClass(s,i)}""!==i&&n.addClass(s,this.builder.cssClasses.padding.bottom[`pb_${i}`])}else if("left"===t){let e=this.builder.cssClasses.padding.left;for(let t=0;t<Object.keys(e).length;t++){let i=Object.values(e)[t];n.removeClass(s,i)}""!==i&&n.addClass(s,this.builder.cssClasses.padding.left[`pl_${i}`])}else if("right"===t){let e=this.builder.cssClasses.padding.right;for(let t=0;t<Object.keys(e).length;t++){let i=Object.values(e)[t];n.removeClass(s,i)}""!==i&&n.addClass(s,this.builder.cssClasses.padding.right[`pr_${i}`])}n.addClass(e,"on")}else n.removeClass(s,"padding-0"),n.removeClass(s,"padding-10"),n.removeClass(s,"padding-20"),n.removeClass(s,"padding-30"),n.removeClass(s,"padding-40"),n.removeClass(s,"padding-50"),n.removeClass(s,"padding-60"),""!==i&&(n.addClass(s,"padding-"+i),n.addClass(e,"on"));this.builder.opts.onChange()}))}));const R=c.querySelector(".chk-cell-grayscale");n.addEventListener(R,"click",(()=>{this.builder.uo.saveForUndo();let e=t.cellSelected();R.checked?e.style.filter="grayscale(1)":e.style.filter&&(e.style.filter=e.style.filter.replace("grayscale(1)","")),this.builder.opts.onChange()}));const I=c.querySelector(".chk-cell-hideonmobile");if(n.addEventListener(I,"click",(()=>{this.builder.uo.saveForUndo();let e=t.cellSelected();I.checked?e.classList.add("hideonmobile"):e.classList.remove("hideonmobile"),this.builder.opts.onChange()})),l=c.querySelectorAll(".input-cell-height"),Array.prototype.forEach.call(l,(e=>{n.addEventListener(e,"click",(()=>{let i=this.builder.colHeight;this.builder.uo.saveForUndo();let s=e.getAttribute("data-command"),o=t.cellSelected(),a=this.cellSettings.querySelectorAll(".input-cell-height");if(Array.prototype.forEach.call(a,(e=>{n.removeClass(e,"on")})),""===s)Array.prototype.forEach.call(i,(e=>{n.removeClass(o,"min-height-"+e)}));else if("-"===s){let e=o.offsetHeight;Array.prototype.forEach.call(i,(t=>{if(e-t>0&&e-t<=50)if(Array.prototype.forEach.call(i,(e=>{n.removeClass(o,"min-height-"+e)})),n.addClass(o,"min-height-"+t),300===t){let e=this.cellSettings.querySelector('.input-cell-height[data-command="300"');n.addClass(e,"on")}else if(400===t){let e=this.cellSettings.querySelector('.input-cell-height[data-command="400"');n.addClass(e,"on")}else if(500===t){let e=this.cellSettings.querySelector('.input-cell-height[data-command="500"');n.addClass(e,"on")}else if(600===t){let e=this.cellSettings.querySelector('.input-cell-height[data-command="600"');n.addClass(e,"on")}else if(700===t){let e=this.cellSettings.querySelector('.input-cell-height[data-command="700"');n.addClass(e,"on")}}))}else if("+"===s){let e=o.offsetHeight;Array.prototype.forEach.call(i,(t=>{if(t-e>0&&t-e<=50)if(Array.prototype.forEach.call(i,(e=>{n.removeClass(o,"min-height-"+e)})),n.addClass(o,"min-height-"+t),300===t){let e=this.cellSettings.querySelector('.input-cell-height[data-command="300"');n.addClass(e,"on")}else if(400===t){let e=this.cellSettings.querySelector('.input-cell-height[data-command="400"');n.addClass(e,"on")}else if(500===t){let e=this.cellSettings.querySelector('.input-cell-height[data-command="500"');n.addClass(e,"on")}else if(600===t){let e=this.cellSettings.querySelector('.input-cell-height[data-command="600"');n.addClass(e,"on")}else if(700===t){let e=this.cellSettings.querySelector('.input-cell-height[data-command="700"');n.addClass(e,"on")}}))}else Array.prototype.forEach.call(i,(e=>{n.removeClass(o,"min-height-"+e)})),n.addClass(o,"min-height-"+s),n.addClass(e,"on");this.builder.opts.onChange()}))})),l=c.querySelectorAll(".cmd-content-pos"),Array.prototype.forEach.call(l,(e=>{n.addEventListener(e,"click",(()=>{this.builder.uo.saveForUndo();let i=e.getAttribute("data-pos"),s=t.cellSelected();const o=this.cellSettings.querySelectorAll(".cmd-content-pos");if(Array.prototype.forEach.call(o,(e=>{n.removeClass(e,"on")})),this.builder.useCssClasses)if(""!==i){let t=this.builder.cssClasses.display;if(n.addCssClass(s,t.flex,t),t=this.builder.cssClasses.flexDirection,n.addCssClass(s,t.column,t),"topleft"===i){let t=this.builder.cssClasses.justifyContent;n.addCssClass(s,t.start,t),t=this.builder.cssClasses.alignItems,n.addCssClass(s,t.start,t),n.addClass(e,"on")}if("topcenter"===i){let t=this.builder.cssClasses.justifyContent;n.addCssClass(s,t.start,t),t=this.builder.cssClasses.alignItems,n.addCssClass(s,t.center,t),n.addClass(e,"on")}if("topright"===i){let t=this.builder.cssClasses.justifyContent;n.addCssClass(s,t.start,t),t=this.builder.cssClasses.alignItems,n.addCssClass(s,t.end,t),n.addClass(e,"on")}if("centerleft"===i){let t=this.builder.cssClasses.justifyContent;n.addCssClass(s,t.center,t),t=this.builder.cssClasses.alignItems,n.addCssClass(s,t.start,t),n.addClass(e,"on")}if("center"===i){let t=this.builder.cssClasses.justifyContent;n.addCssClass(s,t.center,t),t=this.builder.cssClasses.alignItems,n.addCssClass(s,t.center,t),n.addClass(e,"on")}if("centerright"===i){let t=this.builder.cssClasses.justifyContent;n.addCssClass(s,t.center,t),t=this.builder.cssClasses.alignItems,n.addCssClass(s,t.end,t),n.addClass(e,"on")}if("bottomleft"===i){let t=this.builder.cssClasses.justifyContent;n.addCssClass(s,t.end,t),t=this.builder.cssClasses.alignItems,n.addCssClass(s,t.start,t),n.addClass(e,"on")}if("bottomcenter"===i){let t=this.builder.cssClasses.justifyContent;n.addCssClass(s,t.end,t),t=this.builder.cssClasses.alignItems,n.addCssClass(s,t.center,t),n.addClass(e,"on")}if("bottomright"===i){let t=this.builder.cssClasses.justifyContent;n.addCssClass(s,t.end,t),t=this.builder.cssClasses.alignItems,n.addCssClass(s,t.end,t),n.addClass(e,"on")}s.style.justifyContent="",s.style.alignItems=""}else n.removeCssClasses(s,this.builder.cssClasses.display),n.removeCssClasses(s,this.builder.cssClasses.flexDirection),n.removeCssClasses(s,this.builder.cssClasses.justifyContent),n.removeCssClasses(s,this.builder.cssClasses.alignItems),s.style.display="",s.style.flexDirection="",s.style.justifyContent="",s.style.alignItems="";else s.style.display="flex",s.style.flexDirection="column","topleft"===i&&(s.style.justifyContent="flex-start",s.style.alignItems="flex-start",n.addClass(e,"on")),"topcenter"===i&&(s.style.justifyContent="flex-start",s.style.alignItems="center",n.addClass(e,"on")),"topright"===i&&(s.style.justifyContent="flex-start",s.style.alignItems="flex-end",n.addClass(e,"on")),"centerleft"===i&&(s.style.justifyContent="center",s.style.alignItems="flex-start",n.addClass(e,"on")),"center"===i&&(s.style.justifyContent="center",s.style.alignItems="center",n.addClass(e,"on")),"centerright"===i&&(s.style.justifyContent="center",s.style.alignItems="flex-end",n.addClass(e,"on")),"bottomleft"===i&&(s.style.justifyContent="flex-end",s.style.alignItems="flex-start",n.addClass(e,"on")),"bottomcenter"===i&&(s.style.justifyContent="flex-end",s.style.alignItems="center",n.addClass(e,"on")),"bottomright"===i&&(s.style.justifyContent="flex-end",s.style.alignItems="flex-end",n.addClass(e,"on"));this.builder.opts.onChange()}))})),this.builder.opts.onOtherSelectClick||""!==this.builder.opts.otherSelect){this.cellSettings.querySelector(".input-select-other").style.display="flex";let e=this.cellSettings.querySelector(".input-select-other");n.addEventListener(e,"click",(n=>{if(this.builder.opts.onOtherSelectClick)this.builder.opts.onOtherSelectClick({targetInput:this.cellSettings.querySelector(".input-src"),theTrigger:this.cellSettings.querySelector(".input-select-other")});else{let n=i.querySelector(".is-modal.otherselect");this.builder.opts.assetRefresh&&(n.querySelector("iframe").src=this.builder.opts.otherSelect,this.builder.opts.assetRefresh=!1),"about:blank"===n.querySelector("iframe").src&&(n.querySelector("iframe").src=this.builder.opts.otherSelect),t.showModal(n,!1,(()=>{e.removeAttribute("data-focus"),e.focus()}),!1,this.builder.assetPanelFullScreen),e.setAttribute("data-focus",!0)}this.builder.targetInput=this.cellSettings.querySelector(".input-src"),this.builder.targetCallback=()=>{this.applyClick()},this.builder.targetAssetType="all",n.preventDefault(),n.stopImmediatePropagation()}))}if(""!==this.builder.opts.largerImageHandler||this.builder.opts.onLargerImageUpload||(this.cellSettings.querySelector(".image-larger4").style.display="none"),this.builder.opts.onImageSelectClick||""!==this.builder.opts.imageselect||(this.divCellClick.querySelector(".input-select").style.display="none"),this.builder.opts.onMediaSelectClick||this.builder.opts.mediaSelect||this.builder.opts.onImageSelectClick||this.builder.opts.imageselect){const e=this.cellSettings.querySelector(".input-src");r=this.divCellClick.querySelector(".input-select"),r&&n.addEventListener(r,"click",(()=>{if(this.builder.targetInput=e,this.builder.targetCallback=()=>{this.applyClick()},this.builder.targetAssetType="media",this.builder.opts.onMediaSelectClick)this.builder.opts.onMediaSelectClick({targetInput:e,theTrigger:r});else if(this.builder.opts.onImageSelectClick)this.builder.opts.onImageSelectClick({targetInput:e,theTrigger:r});else if(this.builder.opts.mediaSelect){let n=i.querySelector(".is-modal.mediaselect"),s=n.querySelector("iframe");this.builder.opts.assetRefresh&&(s.src=this.builder.opts.mediaSelect,this.builder.opts.assetRefresh=!1),"about:blank"===s.src&&(s.src=this.builder.opts.mediaSelect),t.showModal(n,!1,(()=>{r.removeAttribute("data-focus"),r.focus()}),!1,this.builder.assetPanelFullScreen),r.setAttribute("data-focus",!0),this.builder.targetInput=e,this.builder.targetCallback=()=>{this.applyClick()},this.builder.targetAssetType="media"}else if(this.builder.opts.imageselect){let n=i.querySelector(".is-modal.imageselect"),s=n.querySelector("iframe");this.builder.opts.assetRefresh&&(s.src=this.builder.opts.imageselect,this.builder.opts.assetRefresh=!1),"about:blank"===s.src&&(s.src=this.builder.opts.imageselect),t.showModal(n,!1,(()=>{r.removeAttribute("data-focus"),r.focus()}),!1,this.builder.assetPanelFullScreen),r.setAttribute("data-focus",!0),this.builder.targetInput=e,this.builder.targetCallback=()=>{this.applyClick()},this.builder.targetAssetType="media"}}))}const B=this.cellSettings.querySelector(".input-src");n.observeElement(B,"value",(()=>{this.applyClick()}));let N=this.cellSettings.querySelector("#fileImage4");n.addEventListener(N,"change",(e=>{let t=N;for(;"form"!==t.nodeName.toLowerCase();)t=t.parentNode;let i=t;n.addClass(i,"please-wait"),this.cellSettings.querySelector("#hidRefId4").value=this.builder.opts.customval,this.builder.opts.onMediaUpload?this.builder.opts.onMediaUpload(e):this.builder.opts.onLargerImageUpload?this.builder.opts.onLargerImageUpload(e):i.submit(),N.value=""}));const $=this.cellSettings.querySelector(".input-src");$.addEventListener("focus",(()=>{this.builder.uo.saveForUndo(!0)})),$.addEventListener("keyup",(()=>{let e=this.util.cellSelected();e&&(""===$.value?(n.removeClass(e,"block-click"),e.removeAttribute("data-modal-url")):(n.addClass(e,"block-click"),e.setAttribute("data-modal-url",$.value)),this.builder.opts.onChange())})),this.cellSettings.querySelector(".input-testclick").addEventListener("click",(()=>{let e=this.util.cellSelected();e&&""!==$.value&&this.builder.openMedia(e)}));let z=this.cellSettings.querySelectorAll(".input-device");z.forEach((e=>{e.addEventListener("click",(()=>{let t=this.util.cellSelected();t&&(this.cellSettings.querySelectorAll(".input-device").forEach((e=>{e.classList.remove("on")})),e.classList.add("on"),this.realtimeVisibility(t))}))}));let P=this.cellSettings.querySelector(".input-visible"),H=this.cellSettings.querySelector(".input-hidden");const D=(e,t)=>e.querySelectorAll(`.${t}-hidden`).length>0;P.addEventListener("click",(()=>{let e=this.util.cellSelected();if(!e)return;this.builder.uo.saveForUndo(),e.classList.remove("hideonmobile");let t=this.cellSettings.querySelector(".div-target"),i=this.builder.responsive.readTarget(t);"xs"===i?e.classList.remove("xs-hidden"):"sm"===i?(e.classList.remove("sm-hidden"),D(e.parentNode,"sm")||e.parentNode.classList.remove("sm-autofit")):"md"===i?(e.classList.remove("md-hidden"),D(e.parentNode,"md")||e.parentNode.classList.remove("md-autofit")):""===i&&(e.classList.remove("desktop-hidden"),D(e.parentNode,"desktop")||e.parentNode.classList.remove("desktop-autofit")),P.classList.add("on"),H.classList.remove("on"),this.builder.opts.onChange()})),H.addEventListener("click",(()=>{let e=this.util.cellSelected();if(!e)return;this.builder.uo.saveForUndo(),e.classList.remove("hideonmobile");let t=this.cellSettings.querySelector(".div-target"),i=this.builder.responsive.readTarget(t);"xs"===i?e.classList.add("xs-hidden"):"sm"===i?(e.classList.add("sm-hidden"),e.parentNode.classList.add("sm-autofit")):"md"===i?(e.classList.add("md-hidden"),e.parentNode.classList.add("md-autofit")):""===i&&(e.classList.add("desktop-hidden"),e.parentNode.classList.add("desktop-autofit")),P.classList.remove("on"),H.classList.add("on"),this.builder.opts.onChange()})),z=this.imageAdjust.querySelectorAll(".input-device"),z.forEach((e=>{e.addEventListener("click",(()=>{this.imageAdjust.querySelectorAll(".input-device").forEach((e=>{e.classList.remove("on")})),e.classList.add("on");i.querySelector(".is-modal.content-preview").classList.contains("active")||this.builder.openPreview(),this.realtimeImageAdjust(),this.readImageAdjust(this.builder.elementSelected,this.useTarget)}))}))}this.columnMore=s}moveColumnLeft(){this.grid.moveColumnPrevious()}moveColumnRight(){this.grid.moveColumnNext()}duplicateColumn(){this.grid.duplicateColumn()}removeColumn(){this.grid.removeColumn()}moveColumnUp(){this.grid.moveColumnUp()}moveColumnDown(){this.grid.moveColumnDown()}applyClick(){const e=this.dom;let t=this.util.cellSelected();if(!t)return;const i=this.cellSettings.querySelector(".input-src");let n=t.getAttribute("data-modal-url");n||(n=""),n!==i.value&&(this.builder.uo.saveForUndo(),e.addClass(t,"block-click"),t.setAttribute("data-modal-url",i.value),this.builder.opts.onChange())}readCellStyles(e){const t=this.dom;this.util.clearActiveElement();let i=e.style.backgroundColor,n=this.cellSettings.querySelector(".input-cell-bgcolor");n.style.backgroundColor=i||"transparent";let s="";const o=this.cellSettings.querySelector(".cell-bgimage-preview"),a=this.cellSettings.querySelector(".input-cell-bgimageadjust");a.style.display="none";const l=this.cellSettings.querySelector(".input-cell-bgremove");l.style.display="none",e.style.backgroundImage&&-1!==e.style.backgroundImage.indexOf("url(")?(s=e.style.backgroundImage.slice(4,-1).replace(/["']/g,""),o.innerHTML=`<img src="${s}">`,a.style.display="flex",l.style.display="flex"):o.innerHTML="";const r=this.cellSettings.querySelector(".input-src");r.value="";let d=e.getAttribute("data-modal-url");d&&(r.value=d);let c=this.cellSettings.querySelectorAll(".input-cell-padding");if(Array.prototype.forEach.call(c,(e=>{t.removeClass(e,"on")})),t.hasClass(e,"padding-0")){let e=this.cellSettings.querySelector('.input-cell-padding[data-command="0"');t.addClass(e,"on")}else if(t.hasClass(e,"padding-10")){let e=this.cellSettings.querySelector('.input-cell-padding[data-command="10"');t.addClass(e,"on")}else if(t.hasClass(e,"padding-20")){let e=this.cellSettings.querySelector('.input-cell-padding[data-command="20"');t.addClass(e,"on")}else if(t.hasClass(e,"padding-30")){let e=this.cellSettings.querySelector('.input-cell-padding[data-command="30"');t.addClass(e,"on")}else if(t.hasClass(e,"padding-40")){let e=this.cellSettings.querySelector('.input-cell-padding[data-command="40"');t.addClass(e,"on")}else if(t.hasClass(e,"padding-50")){let e=this.cellSettings.querySelector('.input-cell-padding[data-command="50"');t.addClass(e,"on")}const u=this.cellSettings.querySelector(".chk-cell-grayscale");u.checked=!1,e.style.filter&&-1!==e.style.filter.indexOf("grayscale")&&(u.checked=!0);const p=this.cellSettings.querySelector(".chk-cell-hideonmobile");p.checked=!1,e.classList.contains("hideonmobile")&&(p.checked=!0),c=this.cellSettings.querySelectorAll(".input-cell-height"),Array.prototype.forEach.call(c,(e=>{t.removeClass(e,"on")}));let h=0,m=this.builder.colHeight;if(Array.prototype.forEach.call(m,(i=>{t.hasClass(e,"min-height-"+i)&&(h=i)})),300===h){let e=this.cellSettings.querySelector('.input-cell-height[data-command="300"');t.addClass(e,"on")}else if(400===h){let e=this.cellSettings.querySelector('.input-cell-height[data-command="400"');t.addClass(e,"on")}else if(500===h){let e=this.cellSettings.querySelector('.input-cell-height[data-command="500"');t.addClass(e,"on")}else if(600===h){let e=this.cellSettings.querySelector('.input-cell-height[data-command="600"');t.addClass(e,"on")}else if(700===h){let e=this.cellSettings.querySelector('.input-cell-height[data-command="700"');t.addClass(e,"on")}c=this.cellSettings.querySelectorAll(".cmd-content-pos"),Array.prototype.forEach.call(c,(e=>{t.removeClass(e,"on")}));let g=e.style.alignItems,b=e.style.justifyContent,f="";if("flex-start"===b?"flex-start"===g?f="topleft":"center"===g?f="topcenter":"flex-end"===g&&(f="topright"):"center"===b?"flex-start"===g?f="centerleft":"center"===g?f="center":"flex-end"===g&&(f="centerright"):"flex-end"===b&&("flex-start"===g?f="bottomleft":"center"===g?f="bottomcenter":"flex-end"===g&&(f="bottomright")),"topleft"===f){let e=this.cellSettings.querySelector('.cmd-content-pos[data-pos="topleft"');t.addClass(e,"on")}else if("topcenter"===f){let e=this.cellSettings.querySelector('.cmd-content-pos[data-pos="topcenter"');t.addClass(e,"on")}else if("topright"===f){let e=this.cellSettings.querySelector('.cmd-content-pos[data-pos="topright"');t.addClass(e,"on")}else if("centerleft"===f){let e=this.cellSettings.querySelector('.cmd-content-pos[data-pos="centerleft"');t.addClass(e,"on")}else if("center"===f){let e=this.cellSettings.querySelector('.cmd-content-pos[data-pos="center"');t.addClass(e,"on")}else if("centerright"===f){let e=this.cellSettings.querySelector('.cmd-content-pos[data-pos="centerright"');t.addClass(e,"on")}else if("bottomleft"===f){let e=this.cellSettings.querySelector('.cmd-content-pos[data-pos="bottomleft"');t.addClass(e,"on")}else if("bottomcenter"===f){let e=this.cellSettings.querySelector('.cmd-content-pos[data-pos="bottomcenter"');t.addClass(e,"on")}else if("bottomright"===f){let e=this.cellSettings.querySelector('.cmd-content-pos[data-pos="bottomright"');t.addClass(e,"on")}this.realtimeVisibility(e,!0);let v=this.cellSettings.querySelector(".input-cell-id");v.value="";const y=e.getAttribute("id");y&&(v.value=y);let x=this.cellSettings.querySelector(".input-cell-classes");x.value="";const _=e.getAttribute("data-class");x.value=_}realtimeVisibility(e,t){if(t){const e=this.builder.builderStuff.querySelector(".is-modal.content-preview.active");if(e){this.cellSettings.querySelectorAll(".input-device").forEach((e=>{e.classList.remove("on")})),e.classList.contains("is-screen-1920")||e.classList.contains("is-screen-1440")?this.cellSettings.querySelector('.input-device[data-value=""]').classList.add("on"):e.classList.contains("is-screen-1024")?this.cellSettings.querySelector('.input-device[data-value="md"]').classList.add("on"):e.classList.contains("is-screen-768")?this.cellSettings.querySelector('.input-device[data-value="sm"]').classList.add("on"):e.classList.contains("is-screen-375")&&this.cellSettings.querySelector('.input-device[data-value="xs"]').classList.add("on")}}let i=this.cellSettings.querySelector(".div-target"),n=this.cellSettings.querySelector(".div-visibility"),s=this.builder.responsive.readTarget(i),o=this.builder.responsive.getVisibility(e,s);this.builder.responsive.showVisibility(n,o),"xs"===s?t||this.builder.livePreview.resizePreview(375):"sm"===s?t||this.builder.livePreview.resizePreview(768):"md"===s?t||this.builder.livePreview.resizePreview(1024):t||this.builder.livePreview.resizePreview(1920)}openImagePicker(e,t,i){const n=this.imageSource;n.querySelector(".input-src").value=e,this.builder.imageSelectedCallback=t,n.style.zIndex="10005",this.util.showModal(n,!1,(()=>{i&&(i.removeAttribute("data-focus"),i.focus())}),!1,this.builder.assetPanelFullScreen),i&&i.setAttribute("data-focus",!0)}readImageAdjust(e,t){const i=this.imageAdjust,n=i.querySelector(".image-scale-slider"),s=i.querySelector(".image-hor-slider"),o=i.querySelector(".image-vert-slider");n.value=100,s.value=0,o.value=0,n.disabled=!1,t&&(s.value=50,o.value=60);let a=document.createElement("div");if(document.querySelector(".content-preview.is-screen-375.active")&&t){let t=e.getAttribute("data-bg-xs");t||(t=""),a.style.cssText=t,n.disabled=!0,n.style.opacity=.6}else if(document.querySelector(".content-preview.is-screen-768.active")&&t){let t=e.getAttribute("data-bg-sm");t||(t=""),a.style.cssText=t,n.disabled=!0,n.style.opacity=.6}else if(document.querySelector(".content-preview.is-screen-1024.active")&&t){let t=e.getAttribute("data-bg-md");t||(t=""),a.style.cssText=t,n.disabled=!0,n.style.opacity=.6}else a.style.cssText=e.style.cssText,n.disabled=!1,n.style.opacity="";if(a.style.backgroundSize){let e,t=a.style.backgroundSize;e=isNaN(parseInt(t))?100:parseInt(t),-1!==t.indexOf("%")&&(n.value=e)}if(a.style.backgroundPositionX){let e,t=a.style.backgroundPositionX;e=isNaN(parseInt(t))?0:parseInt(t),-1!==t.indexOf("%")&&(s.value=e)}if(a.style.backgroundPositionY){let e,t=a.style.backgroundPositionY;e=isNaN(parseInt(t))?0:parseInt(t),-1!==t.indexOf("%")&&(o.value=e)}this.builder.elementSelected=e}openImageAdjust(e,t,i){this.useTarget=!!i;const n=this.imageAdjust.querySelector(".div-target");n.style.display=i?"flex":"none";const s=this.builderStuff.querySelector(".is-modal.content-preview");this.imageAdjust.querySelectorAll(".input-device").forEach((e=>{e.classList.remove("on")})),s.classList.contains("active")||this.imageAdjust.querySelector('.input-device[data-value=""]').classList.add("on"),this.readImageAdjust(e,i),this.imageAdjust.style.zIndex="10005",this.util.showModal(this.imageAdjust,!1,(()=>{t&&(t.removeAttribute("data-focus"),t.focus())})),t&&t.setAttribute("data-focus",!0),this.realtimeImageAdjust(!0)}realtimeImageAdjust(e){if(e){const e=this.builder.builderStuff.querySelector(".is-modal.content-preview.active");if(e){this.imageAdjust.querySelectorAll(".input-device").forEach((e=>{e.classList.remove("on")})),e.classList.contains("is-screen-1920")||e.classList.contains("is-screen-1440")?this.imageAdjust.querySelector('.input-device[data-value=""]').classList.add("on"):e.classList.contains("is-screen-1024")?this.imageAdjust.querySelector('.input-device[data-value="md"]').classList.add("on"):e.classList.contains("is-screen-768")?this.imageAdjust.querySelector('.input-device[data-value="sm"]').classList.add("on"):e.classList.contains("is-screen-375")&&this.imageAdjust.querySelector('.input-device[data-value="xs"]').classList.add("on")}}let t=this.imageAdjust.querySelector(".div-target"),i=this.builder.responsive.readTarget(t);"xs"===i?e||this.builder.livePreview.resizePreview(375):"sm"===i?e||this.builder.livePreview.resizePreview(768):"md"===i?e||this.builder.livePreview.resizePreview(1024):e||this.builder.livePreview.resizePreview(1920)}resetImage(e){const t=this.imageAdjust,i=t.querySelector(".image-scale-slider"),n=t.querySelector(".image-hor-slider"),s=t.querySelector(".image-vert-slider");n.value=50,s.value=60,i.value=0,(e.classList.contains("cell-active")||e.classList.contains("is-row-overlay"))&&(n.value=0,s.value=0),e.style.backgroundPositionX="",e.style.backgroundPositionY="",e.style.backgroundSize="cover",e.style.left="",e.style.top="",e.style.width="",e.style.height="",e.removeAttribute("data-x"),e.removeAttribute("data-y"),e.removeAttribute("data-scale"),e.removeAttribute("data-bg-xs"),e.removeAttribute("data-bg-sm"),e.removeAttribute("data-bg-md")}resetImage2(e){const t=this.imageAdjust2,i=t.querySelector(".image-scale-slider"),n=t.querySelector(".image-hor-slider"),s=t.querySelector(".image-vert-slider");let o,a,l=e.parentNode.offsetWidth,r=e.parentNode.offsetHeight;a=new Image,a.src=e.style.backgroundImage.replace(/"/g,"").replace(/url\(|\)$/gi,""),a.onload=()=>{if(o={width:a.naturalWidth,height:a.naturalHeight},this.dimension=o,l/r<=o.width/o.height){this.scaleWidth=!0,this.scaleHeight=!1;let t=r*(o.width/o.height);t=t/l*100,e.style.width||(e.style.width=t+"%",e.style.height=""),i.min=t;let a=.5*-(t-100);n.value=a,e.style.left=a+"%",e.setAttribute("data-x",a),s.value=0,e.style.top="0%",e.setAttribute("data-y",0),i.value=t,e.style.width=t+"%",e.setAttribute("data-scale",t),e.style.height="100%"}else{this.scaleHeight=!0,this.scaleWidth=!1;let t=l*(o.height/o.width);t=t/r*100,e.style.height||(e.style.height=t+"%",e.style.width=""),i.min=t;let a=.6*-(t-100);s.value=a,e.style.top=a+"%",e.setAttribute("data-y",a),n.value=0,e.style.left="0%",e.setAttribute("data-x",0),i.value=t,e.style.height=t+"%",e.setAttribute("data-scale",t),e.style.width="100%"}}}openImageAdjust2(e,t){const i=this.imageAdjust2,n=i.querySelector(".image-scale-slider"),s=i.querySelector(".image-hor-slider"),o=i.querySelector(".image-vert-slider");n.value=0,s.value=0,o.value=15;const a=e.getAttribute("data-scale");a&&(n.value=a);const l=e.getAttribute("data-x");l&&(s.value=l);const r=e.getAttribute("data-y");r&&(o.value=r);let d,c,u=e.parentNode.offsetWidth,p=e.parentNode.offsetHeight;c=new Image,c.src=e.style.backgroundImage.replace(/"/g,"").replace(/url\(|\)$/gi,""),c.onload=()=>{if(d={width:c.naturalWidth,height:c.naturalHeight},this.dimension=d,u/p<=d.width/d.height){this.scaleWidth=!0,this.scaleHeight=!1;let t=p*(d.width/d.height);t=t/u*100,e.style.width||(e.style.width=t+"%",e.style.height=""),n.min=t,l||(s.value=.5*-(t-100),e.style.left=.5*-(t-100)+"%",o.value=0);e.getAttribute("data-scale")||(n.value=t)}else{this.scaleHeight=!0,this.scaleWidth=!1;let t=u*(d.height/d.width);t=t/p*100,e.style.height||(e.style.height=t+"%",e.style.width=""),n.min=t,r||(o.value=.6*-(t-100),e.style.top=.6*-(t-100)+"%",s.value=0);e.getAttribute("data-scale")||(n.value=t)}},this.builder.elementSelected=e,i.style.zIndex="10005",this.util.showModal(i,!1,(()=>{t&&(t.removeAttribute("data-focus"),t.focus())})),t&&t.setAttribute("data-focus",!0)}showHideLockIndicator(e){const t=this.lockIndicator;if(e.hasAttribute("data-noedit")){let i,n;this.builder.iframe?(i=e.getBoundingClientRect().top+this.builder.win.pageYOffset,n=e.getBoundingClientRect().left+this.builder.win.pageXOffset):(i=e.getBoundingClientRect().top+window.pageYOffset,n=e.getBoundingClientRect().left+window.pageXOffset);const s=e.offsetWidth*this.builder.zoom;t.style.display="flex",t.style.top=i+4+"px",t.style.left=n+s-33+"px"}else t.style.display=""}click(e){const t=this.dom;this.columnTool=e.parentNode.querySelector(".is-col-tool"),this.columnTool.style.left=e.offsetLeft+"px",this.columnTool.style.top=e.offsetTop+"px";const i=this.columnMore.querySelector(".cell-increase"),n=this.columnMore.querySelector(".cell-decrease");if(t.parentsHasAttribute(e,"nogrid")){this.columnMore.querySelector(".cell-prev").style.display="none",this.columnMore.querySelector(".cell-next").style.display="none",this.columnMore.querySelector(".cell-up").style.display="none",this.columnMore.querySelector(".cell-down").style.display="none",i&&(i.style.display="none"),n&&(n.style.display="none"),this.columnMore.querySelector(".cell-duplicate").style.display="none",this.columnMore.querySelector(".cell-prev").setAttribute("disabled","disabled"),this.columnMore.querySelector(".cell-next").setAttribute("disabled","disabled"),this.columnMore.querySelector(".cell-up").setAttribute("disabled","disabled"),this.columnMore.querySelector(".cell-down").setAttribute("disabled","disabled"),i.setAttribute("disabled","disabled"),n.setAttribute("disabled","disabled"),this.columnMore.querySelector(".cell-duplicate").setAttribute("disabled","disabled");let t=this.columnMore.querySelector(".cell-html");t&&(t.style.display=""),this.columnTool.querySelector(".cell-add").style.display="none",this.columnTool.querySelector(".cell-remove").style.display="none",this.columnTool.querySelector(".cell-add").setAttribute("disabled","disabled"),this.columnTool.querySelector(".cell-remove").setAttribute("disabled","disabled"),e.getAttribute("data-html")&&(this.columnMore.querySelector(".cell-html").style.display="none",this.columnTool.querySelector(".cell-more").style.display="none",this.columnMore.querySelector(".cell-html").setAttribute("disabled","disabled"),this.columnTool.querySelector(".cell-more").setAttribute("disabled","disabled"))}else{this.columnMore.querySelector(".cell-prev").style.display="",this.columnMore.querySelector(".cell-next").style.display="",this.columnMore.querySelector(".cell-up").style.display="",this.columnMore.querySelector(".cell-down").style.display="",i&&(i.style.display=""),n&&(n.style.display=""),this.columnMore.querySelector(".cell-duplicate").style.display="",this.columnMore.querySelector(".cell-prev").removeAttribute("disabled"),this.columnMore.querySelector(".cell-next").removeAttribute("disabled"),this.columnMore.querySelector(".cell-up").removeAttribute("disabled"),this.columnMore.querySelector(".cell-down").removeAttribute("disabled"),i&&i.removeAttribute("disabled"),n&&n.removeAttribute("disabled"),this.columnMore.querySelector(".cell-duplicate").removeAttribute("disabled");let t=this.columnMore.querySelector(".cell-html");t&&(t.style.display="",t.removeAttribute("disabled")),this.columnTool.querySelector(".cell-add").style.display="",this.columnTool.querySelector(".cell-remove").style.display="",this.columnTool.querySelector(".cell-add").removeAttribute("disabled"),this.columnTool.querySelector(".cell-remove").removeAttribute("disabled");let s=e.parentNode,o=3;s.querySelector(".is-row-overlay")&&(o=4),s.childElementCount-o==1?(this.columnMore.querySelector(".cell-prev").style.display="none",this.columnMore.querySelector(".cell-next").style.display="none",i&&(i.style.display="none"),n&&(n.style.display="none"),this.columnMore.querySelector(".cell-prev").setAttribute("disabled","disabled"),this.columnMore.querySelector(".cell-next").setAttribute("disabled","disabled"),i&&i.setAttribute("disabled","disabled"),n&&n.setAttribute("disabled","disabled")):(this.columnMore.querySelector(".cell-prev").style.display="",this.columnMore.querySelector(".cell-next").style.display="",i&&(i.style.display=""),n&&(n.style.display=""),this.columnMore.querySelector(".cell-prev").removeAttribute("disabled"),this.columnMore.querySelector(".cell-next").removeAttribute("disabled"),i&&i.removeAttribute("disabled"),n&&n.removeAttribute("disabled"));let a=this.columnMore.querySelector(".cell-duplicate");e.getAttribute("data-html")?(t&&(t.style.display="none",t.setAttribute("disabled","disabled")),a&&(a.style.display="none",a.setAttribute("disabled","disabled"))):(t&&(t.style.display="",t.removeAttribute("disabled")),a&&(a.style.display="",a.removeAttribute("disabled")))}let s=e.parentNode;if(s.hasAttribute("data-protected")){s.querySelector(".is-row-tool").style.display="none",this.columnTool.style.display="none";let e=s.querySelector(".is-rowadd-tool");e&&(e.style.display="none")}else{this.columnTool.style.display="",t.parentsHasAttribute(e,"data-protected")?(this.columnTool.querySelector(".cell-add").style.display="none",this.columnTool.querySelector(".cell-remove").style.display="none",this.columnTool.querySelector(".cell-more").style.display="none"):(this.columnTool.querySelector(".cell-add").style.display="",this.columnTool.querySelector(".cell-remove").style.display="",this.columnTool.querySelector(".cell-more").style.display="")}e.classList.contains("column-lock")?(this.columnTool.querySelector(".cell-add").style.display="none",this.columnTool.querySelector(".cell-remove").style.display="none",this.columnMore.querySelector(".cell-prev").style.display="none",this.columnMore.querySelector(".cell-next").style.display="none",this.columnMore.querySelector(".cell-up").style.display="none",this.columnMore.querySelector(".cell-down").style.display="none",this.columnMore.querySelector(".cell-increase").style.display="none",this.columnMore.querySelector(".cell-decrease").style.display="none",this.columnMore.querySelector(".cell-duplicate").style.display="none",this.columnMore.querySelector(".is-separator").style.display="none",this.columnMore.querySelector(".cell-locking").style.display="none"):(this.columnMore.querySelector(".is-separator").style.display="",this.columnMore.querySelector(".cell-locking").style.display="")}}const rv=new si;class dv{constructor(e){this.builder=e;const t=this.builder.util,i=this.builder.builderStuff;this.util=t,this.builderStuff=i;let n=i.querySelector(".editstyles");if(!n){let e=`\n            <div class="is-modal is-modal-content editstyles">\n                <div class="is-modal-bar is-draggable">\n                    <div class="is-modal-close" role="button" tabindex="0" title="${t.out("Close")}">&#10005;</div>\n                </div>\n                <div style="padding:12px">\n                    <div class="is-settings" style="display:inline-block;width:100%;margin-bottom:0;">\n                        <div>${t.out("Style")}:</div>\n                        <div>\n                            <textarea id="inpElmInlineStyle" style="width:100%;height:256px;margin:0px;border:none;font-size: 14px;line-height: 1.5;letter-spacing: 0;"></textarea>\n                        </div>\n                    </div>\n                    <div class="is-settings" style="display:inline-block;width:100%;margin-bottom:0;">\n                        <div>${t.out("Class")}:</div>\n                        <div>\n                            <input type="text" id="inpElmClassName" value="" style="width:100%;padding-left: 16px;font-family: courier, monospace;font-size: 14px;line-height: 2;letter-spacing: 1px;border:none;"/>\n                        </div>\n                    </div>\n                </div>\n            </div>           \n            `;rv.appendHtml(i,e),n=i.querySelector(".editstyles");let s=n.querySelector(".is-modal-close");rv.addEventListener(s,"click",(()=>{rv.removeClass(n,"active");var e=this.builderStuff.querySelector(".is-side.elementstyles");if(!rv.hasClass(e,"active")){let e=document.querySelectorAll("[data-saveforundo]");Array.prototype.forEach.call(e,(e=>{e.removeAttribute("data-saveforundo")})),e=document.querySelectorAll(".elm-inspected"),Array.prototype.forEach.call(e,(e=>{rv.removeClass(e,"elm-inspected")}))}}));let o=n.querySelector("#inpElmClassName");o.addEventListener("keyup",(()=>{let e=this.builder.inspectedElement,t=n.querySelector("#inpElmClassName").value,i=!1;rv.hasClass(e,"elm-active")&&(i=!0);let s=!1;rv.hasClass(e,"elm-active")&&(s=!0);let o=!1;rv.hasClass(e,"row-active")&&(o=!0),e.setAttribute("class",t),i&&rv.addClass(e,"elm-active"),s&&rv.addClass(e,"cell-active"),o&&rv.addClass(e,"row-active"),rv.addClass(e,"elm-inspected"),this.builder.opts.onChange()})),o=n.querySelector("#inpElmInlineStyle"),o.addEventListener("keyup",(()=>{this.builder.inspectedElement.style.cssText=n.querySelector("#inpElmInlineStyle").value,this.builder.opts.onChange()}))}this.modalStyles=n}toggleStyleEditor(){rv.hasClass(this.modalStyles,"active")?rv.removeClass(this.modalStyles,"active"):rv.addClass(this.modalStyles,"active")}refresh(){this.modalStyles.querySelector("#inpElmInlineStyle").value=this.builder.inspectedElement.style.cssText;let e=this.builder.inspectedElement.getAttribute("class");e&&(e=e.replace("elm-active",""),e=e.replace("cell-active",""),e=e.replace("row-active",""),e=e.replace("elm-inspected",""),e=e.replace("  "," ").trim()),this.modalStyles.querySelector("#inpElmClassName").value=e}}const cv=new si;class uv{constructor(e){this.builder=e;const t=this.builder.util,i=this.builder.builderStuff;this.util=t,this.builderStuff=i;const n=new dv(e);let s=i.querySelector("#divElementGeneral");this.panelStuff=s;const o=`\n                <div class="is-settings" style="width: 100%">\n                    <div class="is-label" style="margin:0 0 3px">${t.out("Background Color")}:</div>\n                    <div>\n                        <button title="${t.out("Background Color")}" class="input-elm-bgcolor is-btn-color" style="margin-right:15px"></button>\n                        <button title="${t.out("Gradient")}" class="input-elm-gradient classic" data-value="+"> ${t.out("Gradient")} </button>\n                    </div>\n                </div>\n\n                <div style="padding-top:20px;padding-bottom: 3px;">${t.out("Background Image")}:</div>\n                <div class="is-settings" style="width: 100%">\n                    <div class="elm-bgimage-preview"></div>\n                    <div style="display: flex">\n                        <button title="${t.out("Image")}" class="input-elm-bgimage">\n                            <svg class="is-icon-flex"><use xlink:href="#ion-image"></use></svg>\n                            <span style="margin-left: 5px;">${t.out("Image")}</span>\n                        </button>\n                        <button title="${t.out("Select")}" class="input-select">\n                            ${this.builder.opts.selectIcon}\n                        </button>\n                        <button title="${t.out("Remove")}" class="input-elm-bgremove"><svg class="is-icon-flex" style="width:11px;height:11px;"><use xlink:href="#icon-clean"></use></svg></button>\n                        <button title="${t.out("Adjust")}" class="input-elm-bgimageadjust" style="width:40px"><svg class="is-icon-flex" style="width:13px;height:13px;flex:none"><use xlink:href="#ion-wrench"></use></svg></button>\n                    </div>\n                </div>\n\n                <div class="is-settings" style="padding-top:20px;width: 100%">\n                    <label class="label-elm-grayscale label-checkbox" for="chkElmGrayscale"><input id="chkElmGrayscale" class="chk-elm-grayscale" type="checkbox" /> ${t.out("Grayscale")}</label>\n                </div>\n\n                <div class="is-separator" style="margin-top:28px;margin-bottom:5px;"></div>\n                         \n                <div class="is-settings" style="padding-top:0;margin-top:0;width: 100%">\n                    <div class="div-target" style="display: flex;justify-content: flex-end;padding: 5px 0 0;">\n                        <button title="${t.out("Desktop")}" class="input-device on" data-value="" style="width:40px;height:25px;">\n                            <svg class="is-icon-flex" style="width:16px;height:16px;flex:none"><use xlink:href="#icon-device-desktop"></use></svg>\n                        </button>\n                        \x3c!--<button title="${t.out("Laptop/Tablet (Landscape)")}" class="input-device" data-value="md" style="width:40px;height:25px;">\n                            <svg class="is-icon-flex" style="width:19px;height:19px;flex:none"><use xlink:href="#icon-device-laptop"></use></svg>\n                        </button>--\x3e\n                        <button title="${t.out("Laptop/Tablet (Landscape)")}" class="input-device" data-value="md" style="width:40px;height:25px;">\n                            <svg class="is-icon-flex" style="width:16px;height:16px;flex:none;transform:rotate(-90deg)"><use xlink:href="#icon-device-tablet"></use></svg>\n                        </button>\n                        <button title="${t.out("Tablet (Portrait)")}" class="input-device" data-value="sm" style="width:40px;height:25px;">\n                            <svg class="is-icon-flex" style="width:16px;height:16px;flex:none"><use xlink:href="#icon-device-tablet"></use></svg>\n                        </button>\n                        <button title="${t.out("Mobile")}" class="input-device" data-value="xs" style="width:40px;height:25px;">\n                            <svg class="is-icon-flex" style="width:13px;height:13px;flex:none"><use xlink:href="#icon-device-mobile"></use></svg>\n                        </button>\n                    </div>\n\n                    <div style="padding-top:0;padding-bottom:3px;">${t.out("Visibility")}:</div>\n                    <div class="div-visibility" style="display:flex;">\n                        <button title="${t.out("Visible")}" class="input-visible on" data-value="sm" style="width:100px;height:34px;">\n                            <svg class="is-icon-flex" style="width:16px;height:16px;flex:none"><use xlink:href="#icon-eye"></use></svg>\n                            <span>${t.out("Visible")}</span>\n                        </button>\n                        <button title="${t.out("Hidden")}" class="input-hidden" data-value="xs" style="width:100px;height:34px;">\n                            <svg class="is-icon-flex" style="width:16px;height:16px;flex:none"><use xlink:href="#icon-eye-off"></use></svg>\n                            <span>${t.out("Hidden")}</span>\n                        </button>\n                    </div>\n                </div>\n\n\n        `;cv.appendHtml(s,o);let a=s.querySelector(".input-elm-bgcolor");a.addEventListener("click",(e=>{this.builder.uo.saveForUndo(!0);let t=e.target;this.builder.colorPicker.open((e=>{this.builder.inspectedElement.style.backgroundColor=e,t.style.backgroundColor=e,n.refresh(),this.builder.opts.onChange()}),s.querySelector(".input-elm-bgcolor").style.backgroundColor,(()=>{a.removeAttribute("data-focus"),a.focus()})),a.setAttribute("data-focus",!0)}));const l=new ev({colors:this.builder.colors,gradientcolors:this.builder.opts.gradientcolors,lang:this.builder.opts.lang});let r=s.querySelector(".input-elm-gradient");r.addEventListener("click",(()=>{this.builder.uo.saveForUndo(!0),l.open(this.builder.inspectedElement,(()=>{n.refresh(),this.builder.opts.onChange()}),(e=>{e&&n.refresh(),r.removeAttribute("data-focus"),r.focus()})),r.setAttribute("data-focus",!0)}));const d=s.querySelector(".input-elm-bgimage");d&&cv.addEventListener(d,"click",(()=>{const e=this.builder.inspectedElement;let t="";e.style.backgroundImage&&-1!==e.style.backgroundImage.indexOf("url(")&&(t=e.style.backgroundImage.slice(4,-1).replace(/["']/g,"")),this.builder.colTool.openImagePicker(t,(e=>{this.builder.uo.saveForUndo();const t=this.builder.inspectedElement;this.builder.uo.saveForUndo(),t.style.backgroundImage=`url("${e}")`,t.style.backgroundSize="cover",t.style.backgroundRepeat="no-repeat";const i=s.querySelector(".elm-bgimage-preview"),o=this.panelStuff.querySelector(".input-elm-bgimageadjust"),a=this.panelStuff.querySelector(".input-elm-bgremove");o.style.display="none",a.style.display="none",""!==e?(i.innerHTML=`<img src="${e}">`,o.style.display="flex",a.style.display="flex"):i.innerHTML="",n.refresh(),this.builder.opts.onChange()}),d)}));const c=s.querySelector(".input-elm-bgimageadjust");c&&cv.addEventListener(c,"click",(()=>{const e=this.builder.inspectedElement;this.builder.colTool.openImageAdjust(e,c)}));const u=s.querySelector(".input-elm-bgremove");u&&cv.addEventListener(u,"click",(()=>{const e=this.builder.inspectedElement;this.builder.uo.saveForUndo(),e.style.backgroundImage="",e.style.backgroundSize="",e.style.backgroundRepeat="",e.style.backgroundPosition="";const t=s.querySelector(".elm-bgimage-preview"),i=this.panelStuff.querySelector(".input-elm-bgimageadjust"),o=this.panelStuff.querySelector(".input-elm-bgremove");i.style.display="none",o.style.display="none",t.innerHTML="",n.refresh(),this.builder.opts.onChange()})),this.builder.opts.onImageSelectClick||""!==this.builder.opts.imageselect||(s.querySelector(".input-select").style.display="none");const p=s.querySelector(".input-select");this.builder.renderSelectAsset(p,"image",(e=>{const t=this.builder.inspectedElement;this.builder.uo.saveForUndo(),t.style.backgroundImage=`url("${e}")`,t.style.backgroundSize="cover",t.style.backgroundRepeat="no-repeat";const i=s.querySelector(".elm-bgimage-preview"),o=this.panelStuff.querySelector(".input-elm-bgimageadjust"),a=this.panelStuff.querySelector(".input-elm-bgremove");o.style.display="none",a.style.display="none",""!==e?(i.innerHTML=`<img src="${e}">`,o.style.display="flex",a.style.display="flex"):i.innerHTML="",n.refresh(),this.builder.opts.onChange()}));const h=s.querySelector(".chk-elm-grayscale");h.addEventListener("click",(()=>{this.builder.uo.saveForUndo();const e=this.builder.inspectedElement;h.checked?e.style.filter="grayscale(1)":e.style.filter&&(e.style.filter=e.style.filter.replace("grayscale(1)","")),n.refresh(),this.builder.opts.onChange()})),s.querySelectorAll(".input-device").forEach((e=>{e.addEventListener("click",(()=>{const t=this.builder.inspectedElement;s.querySelectorAll(".input-device").forEach((e=>{e.classList.remove("on")})),e.classList.add("on"),this.realtimeVisibility(t)}))}));let m=s.querySelector(".input-visible"),g=s.querySelector(".input-hidden");m.addEventListener("click",(()=>{const e=this.builder.inspectedElement;this.builder.uo.saveForUndo(),e.classList.remove("hideonmobile");let t=s.querySelector(".div-target"),i=this.builder.responsive.readTarget(t);"xs"===i?e.classList.remove("xs-hidden"):"sm"===i?e.classList.remove("sm-hidden"):"md"===i?e.classList.remove("md-hidden"):""===i&&e.classList.remove("desktop-hidden"),m.classList.add("on"),g.classList.remove("on"),this.builder.opts.onChange()})),g.addEventListener("click",(()=>{const e=this.builder.inspectedElement;this.builder.uo.saveForUndo(),e.classList.remove("hideonmobile");let t=s.querySelector(".div-target"),i=this.builder.responsive.readTarget(t);"xs"===i?e.classList.add("xs-hidden"):"sm"===i?e.classList.add("sm-hidden"):"md"===i?e.classList.add("md-hidden"):""===i&&e.classList.add("desktop-hidden"),m.classList.remove("on"),g.classList.add("on"),this.builder.opts.onChange()}))}readElementStyles(e){let t=this.panelStuff,i=e.style.backgroundColor,n=t.querySelector(".input-elm-bgcolor");n.style.backgroundColor=i||"transparent";let s="";const o=t.querySelector(".elm-bgimage-preview"),a=t.querySelector(".input-elm-bgimageadjust");a.style.display="none";const l=t.querySelector(".input-elm-bgremove");l.style.display="none",e.style.backgroundImage&&-1!==e.style.backgroundImage.indexOf("url(")?(s=e.style.backgroundImage.slice(4,-1).replace(/["']/g,""),o.innerHTML=`<img src="${s}">`,a.style.display="flex",l.style.display="flex"):o.innerHTML="";const r=t.querySelector(".chk-elm-grayscale");r.checked=!1,e.style.filter&&-1!==e.style.filter.indexOf("grayscale")&&(r.checked=!0),this.realtimeVisibility(e,!0)}realtimeVisibility(e,t){if(t){const e=this.builder.builderStuff.querySelector(".is-modal.content-preview.active");if(e){this.panelStuff.querySelectorAll(".input-device").forEach((e=>{e.classList.remove("on")})),e.classList.contains("is-screen-1920")||e.classList.contains("is-screen-1440")?this.panelStuff.querySelector('.input-device[data-value=""]').classList.add("on"):e.classList.contains("is-screen-1024")?this.panelStuff.querySelector('.input-device[data-value="md"]').classList.add("on"):e.classList.contains("is-screen-768")?this.panelStuff.querySelector('.input-device[data-value="sm"]').classList.add("on"):e.classList.contains("is-screen-375")&&this.panelStuff.querySelector('.input-device[data-value="xs"]').classList.add("on")}}let i=this.panelStuff.querySelector(".div-target"),n=this.panelStuff.querySelector(".div-visibility"),s=this.builder.responsive.readTarget(i),o=this.builder.responsive.getVisibility(e,s);this.builder.responsive.showVisibility(n,o),"xs"===s?t||this.builder.livePreview.resizePreview(375):"sm"===s?t||this.builder.livePreview.resizePreview(768):"md"===s?t||this.builder.livePreview.resizePreview(1024):t||this.builder.livePreview.resizePreview(1920)}}const pv=new si;class hv{constructor(e){this.builder=e;const t=this.builder.util,i=this.builder.builderStuff;this.util=t,this.builderStuff=i;const n=new dv(e);let s=i.querySelector("#divElementBox");this.panelStuff=s;const o=`\n                <div class="is-settings" style="width:110px">\n                    <div><label for="inpElmWidth">${t.out("Width")}:</label></div>\n                    <div style="display:flex">\n                        <input type="text" id="inpElmWidth" value="" style="width:45px"/>\n                        <select id="inpElmWidthUnit"">\n                            <option value="px">px</option>\n                            <option value="em">em</option>\n                            <option value="vw">vw</option>\n                            <option value="vh">vh</option>\n                            <option value="%">%</option>\n                        </select>\n                    </div>\n                </div>\n                <div class="is-settings" style="width:110px;">\n                    <div><label for="inpElmHeight">${t.out("Height")}:</label></div>\n                    <div style="display:flex">\n                        <input type="text" id="inpElmHeight" value="" style="width:45px"/>\n                        <select id="inpElmHeightUnit"">\n                            <option value="px">px</option>\n                            <option value="em">em</option>\n                            <option value="vw">vw</option>\n                            <option value="vh">vh</option>\n                            <option value="%">%</option>\n                        </select>\n                    </div>\n                </div>\n                <div class="is-settings" style="width:110px;">\n                    <div><label for="inpElmMaxWidth">${t.out("Max Width")}:</label></div>\n                    <div style="display:flex">\n                        <input type="text" id="inpElmMaxWidth" value="" style="width:45px"/>\n                        <select id="inpElmMaxWidthUnit"">\n                            <option value="px">px</option>\n                            <option value="em">em</option>\n                            <option value="vw">vw</option>\n                            <option value="vh">vh</option>\n                            <option value="%">%</option>\n                        </select>\n                    </div>\n                </div>\n                <div class="is-settings" style="width:110px;">\n                    <div><label for="inpElmMaxHeight">${t.out("Max Height")}:</label></div>\n                    <div style="display:flex">\n                        <input type="text" id="inpElmMaxHeight" value="" style="width:45px"/>\n                        <select id="inpElmMaxHeightUnit"">\n                            <option value="px">px</option>\n                            <option value="em">em</option>\n                            <option value="vw">vw</option>\n                            <option value="vh">vh</option>\n                            <option value="%">%</option>\n                        </select>\n                    </div>\n                </div>\n                <div class="is-settings" style="width:110px;">\n                    <div><label for="inpElmMinWidth">${t.out("Min Width")}:</label></div>\n                    <div style="display:flex">\n                        <input type="text" id="inpElmMinWidth" value="" style="width:45px"/>\n                        <select id="inpElmMinWidthUnit"">\n                            <option value="px">px</option>\n                            <option value="em">em</option>\n                            <option value="vw">vw</option>\n                            <option value="vh">vh</option>\n                            <option value="%">%</option>\n                        </select>\n                    </div>\n                </div>\n                <div class="is-settings" style="width:110px;">\n                    <div><label for="inpElmMinHeight">${t.out("Min Height")}:</label></div>\n                    <div style="display:flex">\n                        <input type="text" id="inpElmMinHeight" value="" style="width:45px"/>\n                        <select id="inpElmMinHeightUnit"">\n                            <option value="px">px</option>\n                            <option value="em">em</option>\n                            <option value="vw">vw</option>\n                            <option value="vh">vh</option>\n                            <option value="%">%</option>\n                        </select>\n                    </div>\n                </div>\n                \n                <div class="is-settings" style="width:110px;">\n                    <div>${t.out("Overflow x")}:</div>\n                    <div>\n                        <select id="inpElmOverflowX"">\n                            <option value=""></option>\n                            <option value="auto">Auto</option>\n                            <option value="hidden">Hidden</option>\n                        </select>\n                    </div>\n                </div>\n                <div class="is-settings" style="width:110px;">\n                    <div>${t.out("Overflow y")}:</div>\n                    <div>\n                        <select id="inpElmOverflowY"">\n                            <option value=""></option>\n                            <option value="auto">Auto</option>\n                            <option value="hidden">Hidden</option>\n                        </select>\n                    </div>\n                </div>\n        `;pv.appendHtml(s,o);let a=s.querySelector("#inpElmMaxWidth");a.addEventListener("click",(()=>{this.builder.uo.saveForUndo()})),a.addEventListener("keyup",(()=>{let e=this.builder.inspectedElement,t=s.querySelector("#inpElmMaxWidth").value,i=s.querySelector("#inpElmMaxWidthUnit").value;isNaN(t)||""===t?e.style.maxWidth="":e.style.maxWidth=t+i,n.refresh(),this.builder.opts.onChange()})),s.querySelector("#inpElmMaxWidthUnit").addEventListener("change",(()=>{this.builder.uo.saveForUndo();let e=this.builder.inspectedElement,t=s.querySelector("#inpElmMaxWidth").value,i=s.querySelector("#inpElmMaxWidthUnit").value;isNaN(t)||""===t?e.style.maxWidth="":e.style.maxWidth=t+i,n.refresh(),this.builder.opts.onChange()}));let l=s.querySelector("#inpElmMaxHeight");l.addEventListener("click",(()=>{this.builder.uo.saveForUndo()})),l.addEventListener("keyup",(()=>{let e=this.builder.inspectedElement,t=s.querySelector("#inpElmMaxHeight").value,i=s.querySelector("#inpElmMaxHeightUnit").value;isNaN(t)||""===t?e.style.maxHeight="":e.style.maxHeight=t+i,n.refresh(),this.builder.opts.onChange()})),s.querySelector("#inpElmMaxHeightUnit").addEventListener("change",(()=>{this.builder.uo.saveForUndo();let e=this.builder.inspectedElement,t=s.querySelector("#inpElmMaxHeight").value,i=s.querySelector("#inpElmMaxHeightUnit").value;isNaN(t)||""===t?e.style.maxHeight="":e.style.maxHeight=t+i,n.refresh(),this.builder.opts.onChange()}));let r=s.querySelector("#inpElmMinWidth");r.addEventListener("click",(()=>{this.builder.uo.saveForUndo()})),r.addEventListener("keyup",(()=>{let e=this.builder.inspectedElement,t=s.querySelector("#inpElmMinWidth").value,i=s.querySelector("#inpElmMinWidthUnit").value;isNaN(t)||""===t?e.style.minWidth="":e.style.minWidth=t+i,n.refresh(),this.builder.opts.onChange()})),s.querySelector("#inpElmMinWidthUnit").addEventListener("change",(()=>{this.builder.uo.saveForUndo();let e=this.builder.inspectedElement,t=s.querySelector("#inpElmMinWidth").value,i=s.querySelector("#inpElmMinWidthUnit").value;isNaN(t)||""===t?e.style.minWidth="":e.style.minWidth=t+i,n.refresh(),this.builder.opts.onChange()}));let d=s.querySelector("#inpElmMinHeight");d.addEventListener("click",(()=>{this.builder.uo.saveForUndo()})),d.addEventListener("keyup",(()=>{let e=this.builder.inspectedElement,t=s.querySelector("#inpElmMinHeight").value,i=s.querySelector("#inpElmMinHeightUnit").value;isNaN(t)||""===t?e.style.minHeight="":e.style.minHeight=t+i,n.refresh(),this.builder.opts.onChange()})),s.querySelector("#inpElmMinHeightUnit").addEventListener("change",(()=>{this.builder.uo.saveForUndo();let e=this.builder.inspectedElement,t=s.querySelector("#inpElmMinHeight").value,i=s.querySelector("#inpElmMinHeightUnit").value;isNaN(t)||""===t?e.style.minHeight="":e.style.minHeight=t+i,n.refresh(),this.builder.opts.onChange()}));let c=s.querySelector("#inpElmWidth");c.addEventListener("click",(()=>{this.builder.uo.saveForUndo()})),c.addEventListener("keyup",(()=>{let e=this.builder.inspectedElement,t=s.querySelector("#inpElmWidth").value,i=s.querySelector("#inpElmWidthUnit").value;isNaN(t)||""===t?e.style.width="":e.style.width=t+i,n.refresh(),this.builder.opts.onChange()})),s.querySelector("#inpElmWidthUnit").addEventListener("change",(()=>{this.builder.uo.saveForUndo();let e=this.builder.inspectedElement,t=s.querySelector("#inpElmWidth").value,i=s.querySelector("#inpElmWidthUnit").value;isNaN(t)||""===t?e.style.width="":e.style.width=t+i,n.refresh(),this.builder.opts.onChange()}));let u=s.querySelector("#inpElmHeight");u.addEventListener("click",(()=>{this.builder.uo.saveForUndo()})),u.addEventListener("keyup",(()=>{let e=this.builder.inspectedElement,t=s.querySelector("#inpElmHeight").value,i=s.querySelector("#inpElmHeightUnit").value;isNaN(t)||""===t?e.style.height="":e.style.height=t+i,n.refresh(),this.builder.opts.onChange()})),s.querySelector("#inpElmHeightUnit").addEventListener("change",(()=>{this.builder.uo.saveForUndo();let e=this.builder.inspectedElement,t=s.querySelector("#inpElmHeight").value,i=s.querySelector("#inpElmHeightUnit").value;isNaN(t)||""===t?e.style.height="":e.style.height=t+i,n.refresh(),this.builder.opts.onChange()})),s.querySelector("#inpElmOverflowX").addEventListener("change",(()=>{this.builder.uo.saveForUndo();let e=this.builder.inspectedElement,t=s.querySelector("#inpElmOverflowX").value;e.style.overflowX=t,n.refresh(),this.builder.opts.onChange()})),s.querySelector("#inpElmOverflowY").addEventListener("change",(()=>{this.builder.uo.saveForUndo();let e=this.builder.inspectedElement,t=s.querySelector("#inpElmOverflowY").value;e.style.overflowY=t,n.refresh(),this.builder.opts.onChange()}))}readElementStyles(e){let t=this.panelStuff;const i=t.querySelector("#inpElmMaxWidth"),n=t.querySelector("#inpElmMaxWidthUnit");i.value="",n.value="px";let s=e.style.maxWidth,o=parseInt(s);isNaN(o)||(-1!==s.indexOf("%")&&(n.value="%"),-1!==s.indexOf("px")&&(n.value="px"),-1!==s.indexOf("vw")&&(n.value="vw"),-1!==s.indexOf("vh")&&(n.value="vh"),-1!==s.indexOf("em")&&(n.value="em"),i.value=o);const a=t.querySelector("#inpElmMaxHeight"),l=t.querySelector("#inpElmMaxHeightUnit");a.value="",l.value="px",s=e.style.maxHeight;let r=parseInt(s);isNaN(r)||(-1!==s.indexOf("%")&&(l.value="%"),-1!==s.indexOf("px")&&(l.value="px"),-1!==s.indexOf("vw")&&(l.value="vw"),-1!==s.indexOf("vh")&&(l.value="vh"),-1!==s.indexOf("em")&&(l.value="em"),a.value=r);const d=t.querySelector("#inpElmMinWidth"),c=t.querySelector("#inpElmMinWidthUnit");d.value="",c.value="px",s=e.style.minWidth;let u=parseInt(s);isNaN(u)||(-1!==s.indexOf("%")&&(c.value="%"),-1!==s.indexOf("px")&&(c.value="px"),-1!==s.indexOf("vw")&&(c.value="vw"),-1!==s.indexOf("vh")&&(c.value="vh"),-1!==s.indexOf("em")&&(c.value="em"),d.value=u);const p=t.querySelector("#inpElmMinHeight"),h=t.querySelector("#inpElmMinHeightUnit");p.value="",h.value="px",s=e.style.minHeight;let m=parseInt(s);isNaN(m)||(-1!==s.indexOf("%")&&(h.value="%"),-1!==s.indexOf("px")&&(h.value="px"),-1!==s.indexOf("vw")&&(h.value="vw"),-1!==s.indexOf("vh")&&(h.value="vh"),-1!==s.indexOf("em")&&(h.value="em"),p.value=m);const g=t.querySelector("#inpElmWidth"),b=t.querySelector("#inpElmWidthUnit");g.value="",b.value="px",s=e.style.width;let f=parseInt(s);isNaN(f)||(-1!==s.indexOf("%")&&(b.value="%"),-1!==s.indexOf("px")&&(b.value="px"),-1!==s.indexOf("vw")&&(b.value="vw"),-1!==s.indexOf("vh")&&(b.value="vh"),-1!==s.indexOf("em")&&(b.value="em"),g.value=f);const v=t.querySelector("#inpElmHeight"),y=t.querySelector("#inpElmHeightUnit");v.value="",y.value="px",s=e.style.height;let x=parseInt(s);isNaN(x)||(-1!==s.indexOf("%")&&(y.value="%"),-1!==s.indexOf("px")&&(y.value="px"),-1!==s.indexOf("vw")&&(y.value="vw"),-1!==s.indexOf("vh")&&(y.value="vh"),-1!==s.indexOf("em")&&(y.value="em"),v.value=x);const _=t.querySelector("#inpElmOverflowX");s=e.style.overflowX,_.value=s;const w=t.querySelector("#inpElmOverflowY");s=e.style.overflowY,w.value=s}}const mv=new si;class gv{constructor(e){this.builder=e;const t=this.builder.util,i=this.builder.builderStuff;this.util=t,this.builderStuff=i;const n=new dv(e);let s=i.querySelector("#divElementSpacing");this.panelStuff=s;const o=`\n            <div style="margin-top: 13px;font-weight: bold;width:100%">${t.out("Padding")}</div>\n            \n            <div class="is-settings" style="width:110px;">\n                <div>${t.out("Top")}:</div>\n                <div style="display:flex;">\n                    <input type="text" id="inpElmPaddingTop" value="" style="width:45px"/>\n                    <select id="inpElmPaddingTopUnit">\n                        <option value="px">px</option>\n                        <option value="em">em</option>\n                        <option value="vw">vw</option>\n                        <option value="vh">vh</option>\n                        <option value="%">%</option>\n                    </select>\n                </div>\n            </div>\n            <div class="is-settings" style="width:110px;">\n                <div>${t.out("Bottom")}:</div>\n                <div style="display:flex;">\n                    <input type="text" id="inpElmPaddingBottom" value="" style="width:45px"/>\n                    <select id="inpElmPaddingBottomUnit">\n                        <option value="px">px</option>\n                        <option value="em">em</option>\n                        <option value="vw">vw</option>\n                        <option value="vh">vh</option>\n                        <option value="%">%</option>\n                    </select>\n                </div>\n            </div>\n            <div class="is-settings" style="width:110px;">\n                <div>${t.out("Left")}:</div>\n                <div style="display:flex;">\n                    <input type="text" id="inpElmPaddingLeft" value="" style="width:45px"/>\n                    <select id="inpElmPaddingLeftUnit">\n                        <option value="px">px</option>\n                        <option value="em">em</option>\n                        <option value="vw">vw</option>\n                        <option value="vh">vh</option>\n                        <option value="%">%</option>\n                    </select>\n                </div>\n            </div>\n            <div class="is-settings" style="width:110px;">\n                <div>${t.out("Right")}:</div>\n                <div style="display:flex;">\n                    <input type="text" id="inpElmPaddingRight" value="" style="width:45px"/>\n                    <select id="inpElmPaddingRightUnit">\n                        <option value="px">px</option>\n                        <option value="em">em</option>\n                        <option value="vw">vw</option>\n                        <option value="vh">vh</option>\n                        <option value="%">%</option>\n                    </select>\n                </div>\n            </div>\n            \n            <div style="margin-top: 25px;font-weight: bold;width:100%">${t.out("Margin")}</div>\n            \n            <div class="is-settings" style="width:110px;">\n                <div>${t.out("Top")}:</div>\n                <div style="display:flex;">\n                    <input type="text" id="inpElmMarginTop" value="" style="width:45px"/>\n                    <select id="inpElmMarginTopUnit">\n                        <option value="px">px</option>\n                        <option value="em">em</option>\n                        <option value="vw">vw</option>\n                        <option value="vh">vh</option>\n                        <option value="%">%</option>\n                        <option value="auto">auto</option>\n                    </select>\n                </div>\n            </div>\n            <div class="is-settings" style="width:110px;">\n                <div>${t.out("Bottom")}:</div>\n                <div style="display:flex;">\n                    <input type="text" id="inpElmMarginBottom" value="" style="width:45px"/>\n                    <select id="inpElmMarginBottomUnit">\n                        <option value="px">px</option>\n                        <option value="em">em</option>\n                        <option value="vw">vw</option>\n                        <option value="vh">vh</option>\n                        <option value="%">%</option>\n                        <option value="auto">auto</option>\n                    </select>\n                </div>\n            </div>\n            <div class="is-settings" style="width:110px;">\n                <div>${t.out("Left")}:</div>\n                <div style="display:flex;">\n                    <input type="text" id="inpElmMarginLeft" value="" style="width:45px"/>\n                    <select id="inpElmMarginLeftUnit">\n                        <option value="px">px</option>\n                        <option value="em">em</option>\n                        <option value="vw">vw</option>\n                        <option value="vh">vh</option>\n                        <option value="%">%</option>\n                        <option value="auto">auto</option>\n                    </select>\n                </div>\n            </div>\n            <div class="is-settings" style="width:110px;">\n                <div>${t.out("Right")}:</div>\n                <div style="display:flex;">\n                    <input type="text" id="inpElmMarginRight" value="" style="width:45px"/>\n                    <select id="inpElmMarginRightUnit">\n                        <option value="px">px</option>\n                        <option value="em">em</option>\n                        <option value="vw">vw</option>\n                        <option value="vh">vh</option>\n                        <option value="%">%</option>\n                        <option value="auto">auto</option>\n                    </select>\n                </div>\n            </div>\n\n            <div style="display:none">\n                <div style="margin-top: 25px;font-weight: bold;width:100%">${t.out("Responsive Positioning")}:</div>\n                \n                <div class="is-settings" style="width:100%;">\n                    <div>\n                        <label for="chkResetMarginLeft" style="letter-spacing: 0.5px;"><input type="checkbox" id="chkResetMarginLeft" value="" /> ${t.out("Reset margin left on small screen")} </label>\n                    </div>\n                </div>\n                <div class="is-settings" style="margin-top:0;width:100%;">\n                    <div>\n                        <label for="chkResetMarginRight" style="letter-spacing: 0.5px;"><input type="checkbox" id="chkResetMarginRight" value="" /> ${t.out("Reset margin right on small screen")} </label>\n                    </div>\n                </div>\n            </div>\n        `;mv.appendHtml(s,o);let a=s.querySelector("#inpElmMarginLeft");a.addEventListener("click",(()=>{this.builder.uo.saveForUndo()}));let l=s.querySelector("#inpElmMarginLeftUnit");a.addEventListener("keyup",(()=>{let e=this.builder.inspectedElement,t=a.value,i=l.value;isNaN(t)||""===t?e.style.marginLeft="":e.style.marginLeft=t+i,"auto"===i&&(e.style.marginLeft="auto"),n.refresh(),this.builder.opts.onChange()})),l.addEventListener("change",(()=>{this.builder.uo.saveForUndo();let e=this.builder.inspectedElement,t=a.value,i=l.value;"auto"===i?(e.style.marginLeft="auto",a.value=""):e.style.marginLeft=t+i,n.refresh(),this.builder.opts.onChange()}));let r=s.querySelector("#inpElmMarginRight");r.addEventListener("click",(()=>{this.builder.uo.saveForUndo()}));let d=s.querySelector("#inpElmMarginRightUnit");r.addEventListener("keyup",(()=>{let e=this.builder.inspectedElement,t=r.value,i=d.value;isNaN(t)||""===t?e.style.marginRight="":e.style.marginRight=t+i,"auto"===i&&(e.style.marginRight="auto"),n.refresh(),this.builder.opts.onChange()})),d.addEventListener("change",(()=>{this.builder.uo.saveForUndo();let e=this.builder.inspectedElement,t=r.value,i=d.value;"auto"===i?(e.style.marginRight="auto",r.value=""):e.style.marginRight=t+i,n.refresh(),this.builder.opts.onChange()}));let c=s.querySelector("#inpElmMarginTop");c.addEventListener("click",(()=>{this.builder.uo.saveForUndo()}));let u=s.querySelector("#inpElmMarginTopUnit");c.addEventListener("keyup",(()=>{let e=this.builder.inspectedElement,t=c.value,i=u.value;isNaN(t)||""===t?e.style.marginTop="":e.style.marginTop=t+i,"auto"===i&&(e.style.marginTop="auto"),n.refresh(),this.builder.opts.onChange()})),u.addEventListener("change",(()=>{this.builder.uo.saveForUndo();let e=this.builder.inspectedElement,t=c.value,i=u.value;"auto"===i?(e.style.marginTop="auto",c.value=""):e.style.marginTop=t+i,n.refresh(),this.builder.opts.onChange()}));let p=s.querySelector("#inpElmMarginBottom");p.addEventListener("click",(()=>{this.builder.uo.saveForUndo()}));let h=s.querySelector("#inpElmMarginBottomUnit");p.addEventListener("keyup",(()=>{let e=this.builder.inspectedElement,t=p.value,i=h.value;isNaN(t)||""===t?e.style.marginBottom="":e.style.marginBottom=t+i,"auto"===i&&(e.style.marginBottom="auto"),n.refresh(),this.builder.opts.onChange()})),h.addEventListener("change",(()=>{this.builder.uo.saveForUndo();let e=this.builder.inspectedElement,t=p.value,i=h.value;"auto"===i?(e.style.marginBottom="auto",p.value=""):e.style.marginBottom=t+i,n.refresh(),this.builder.opts.onChange()}));let m=s.querySelector("#inpElmPaddingLeft");m.addEventListener("click",(()=>{this.builder.uo.saveForUndo()}));let g=s.querySelector("#inpElmPaddingLeftUnit");m.addEventListener("keyup",(()=>{let e=this.builder.inspectedElement,t=m.value,i=g.value;isNaN(t)||""===t?e.style.paddingLeft="":e.style.paddingLeft=t+i,n.refresh(),this.builder.opts.onChange()})),g.addEventListener("change",(()=>{this.builder.uo.saveForUndo();let e=this.builder.inspectedElement,t=m.value,i=g.value;isNaN(t)||""===t?e.style.paddingLeft="":e.style.paddingLeft=t+i,n.refresh(),this.builder.opts.onChange()}));let b=s.querySelector("#inpElmPaddingRight");b.addEventListener("click",(()=>{this.builder.uo.saveForUndo()}));let f=s.querySelector("#inpElmPaddingRightUnit");b.addEventListener("keyup",(()=>{let e=this.builder.inspectedElement,t=b.value,i=f.value;isNaN(t)||""===t?e.style.paddingRight="":e.style.paddingRight=t+i,n.refresh(),this.builder.opts.onChange()})),f.addEventListener("change",(()=>{this.builder.uo.saveForUndo();let e=this.builder.inspectedElement,t=b.value,i=f.value;isNaN(t)||""===t?e.style.paddingRight="":e.style.paddingRight=t+i,n.refresh(),this.builder.opts.onChange()}));let v=s.querySelector("#inpElmPaddingTop");v.addEventListener("click",(()=>{this.builder.uo.saveForUndo()}));let y=s.querySelector("#inpElmPaddingTopUnit");v.addEventListener("keyup",(()=>{let e=this.builder.inspectedElement,t=v.value,i=y.value;isNaN(t)||""===t?e.style.paddingTop="":e.style.paddingTop=t+i,n.refresh(),this.builder.opts.onChange()})),y.addEventListener("change",(()=>{this.builder.uo.saveForUndo();let e=this.builder.inspectedElement,t=v.value,i=y.value;isNaN(t)||""===t?e.style.paddingTop="":e.style.paddingTop=t+i,n.refresh(),this.builder.opts.onChange()}));let x=s.querySelector("#inpElmPaddingBottom");x.addEventListener("click",(()=>{this.builder.uo.saveForUndo()}));let _=s.querySelector("#inpElmPaddingBottomUnit");x.addEventListener("keyup",(()=>{let e=this.builder.inspectedElement,t=x.value,i=_.value;isNaN(t)||""===t?e.style.paddingBottom="":e.style.paddingBottom=t+i,n.refresh(),this.builder.opts.onChange()})),_.addEventListener("change",(()=>{this.builder.uo.saveForUndo();let e=this.builder.inspectedElement,t=x.value,i=_.value;isNaN(t)||""===t?e.style.paddingBottom="":e.style.paddingBottom=t+i,n.refresh(),this.builder.opts.onChange()}));let w=s.querySelector("#chkResetMarginLeft");w.addEventListener("click",(()=>{this.builder.uo.saveForUndo();let e=this.builder.inspectedElement;w.checked?mv.addClass(e,"margin-left-1024-reset"):mv.removeClass(e,"margin-left-1024-reset"),n.refresh(),this.builder.opts.onChange()}));let S=s.querySelector("#chkResetMarginRight");S.addEventListener("click",(()=>{this.builder.uo.saveForUndo();let e=this.builder.inspectedElement;S.checked?mv.addClass(e,"margin-right-1024-reset"):mv.removeClass(e,"margin-right-1024-reset"),n.refresh(),this.builder.opts.onChange()}))}readElementStyles(e){let t,i=this.panelStuff;const n=i.querySelector("#inpElmMarginTop"),s=i.querySelector("#inpElmMarginTopUnit");n.value="",s.value="px",t=e.style.marginTop;let o=parseInt(t);isNaN(o)?t&&-1!==t.indexOf("auto")&&(s.value="auto",n.value=""):(-1!==t.indexOf("%")&&(s.value="%"),-1!==t.indexOf("px")&&(s.value="px"),-1!==t.indexOf("vw")&&(s.value="vw"),-1!==t.indexOf("vh")&&(s.value="vh"),-1!==t.indexOf("em")&&(s.value="em"),n.value=o);const a=i.querySelector("#inpElmMarginBottom"),l=i.querySelector("#inpElmMarginBottomUnit");a.value="",l.value="px",t=e.style.marginBottom;let r=parseInt(t);isNaN(r)?t&&-1!==t.indexOf("auto")&&(l.value="auto",a.value=""):(-1!==t.indexOf("%")&&(l.value="%"),-1!==t.indexOf("px")&&(l.value="px"),-1!==t.indexOf("vw")&&(l.value="vw"),-1!==t.indexOf("vh")&&(l.value="vh"),-1!==t.indexOf("em")&&(l.value="em"),a.value=r);const d=i.querySelector("#inpElmMarginLeft"),c=i.querySelector("#inpElmMarginLeftUnit");d.value="",c.value="px",t=e.style.marginLeft;let u=parseInt(t);isNaN(u)?t&&-1!==t.indexOf("auto")&&(c.value="auto",d.value=""):(-1!==t.indexOf("%")&&(c.value="%"),-1!==t.indexOf("px")&&(c.value="px"),-1!==t.indexOf("vw")&&(c.value="vw"),-1!==t.indexOf("vh")&&(c.value="vh"),-1!==t.indexOf("em")&&(c.value="em"),d.value=u);const p=i.querySelector("#inpElmMarginRight"),h=i.querySelector("#inpElmMarginRightUnit");p.value="",h.value="px",t=e.style.marginRight;let m=parseInt(t);isNaN(m)?t&&-1!==t.indexOf("auto")&&(h.value="auto",p.value=""):(-1!==t.indexOf("%")&&(h.value="%"),-1!==t.indexOf("px")&&(h.value="px"),-1!==t.indexOf("vw")&&(h.value="vw"),-1!==t.indexOf("vh")&&(h.value="vh"),-1!==t.indexOf("em")&&(h.value="em"),p.value=m);const g=i.querySelector("#inpElmPaddingTop"),b=i.querySelector("#inpElmPaddingTopUnit");g.value="",b.value="px",t=e.style.paddingTop;let f=parseInt(t);isNaN(f)||(-1!==t.indexOf("%")&&(b.value="%"),-1!==t.indexOf("px")&&(b.value="px"),-1!==t.indexOf("vw")&&(b.value="vw"),-1!==t.indexOf("vh")&&(b.value="vh"),-1!==t.indexOf("em")&&(b.value="em"),g.value=f);const v=i.querySelector("#inpElmPaddingBottom"),y=i.querySelector("#inpElmPaddingBottomUnit");v.value="",y.value="px",t=e.style.paddingBottom;let x=parseInt(t);isNaN(x)||(-1!==t.indexOf("%")&&(y.value="%"),-1!==t.indexOf("px")&&(y.value="px"),-1!==t.indexOf("vw")&&(y.value="vw"),-1!==t.indexOf("vh")&&(y.value="vh"),-1!==t.indexOf("em")&&(y.value="em"),v.value=x);const _=i.querySelector("#inpElmPaddingLeft"),w=i.querySelector("#inpElmPaddingLeftUnit");_.value="",w.value="px",t=e.style.paddingLeft;let S=parseInt(t);isNaN(S)||(-1!==t.indexOf("%")&&(w.value="%"),-1!==t.indexOf("px")&&(w.value="px"),-1!==t.indexOf("vw")&&(w.value="vw"),-1!==t.indexOf("vh")&&(w.value="vh"),-1!==t.indexOf("em")&&(w.value="em"),_.value=S);const C=i.querySelector("#inpElmPaddingRight"),k=i.querySelector("#inpElmPaddingRightUnit");C.value="",k.value="px",t=e.style.paddingRight;let A=parseInt(t);isNaN(A)||(-1!==t.indexOf("%")&&(k.value="%"),-1!==t.indexOf("px")&&(k.value="px"),-1!==t.indexOf("vw")&&(k.value="vw"),-1!==t.indexOf("vh")&&(k.value="vh"),-1!==t.indexOf("em")&&(k.value="em"),C.value=A),mv.hasClass(e,"margin-left-1024-reset")?i.querySelector("#chkResetMarginLeft").checked=!0:i.querySelector("#chkResetMarginLeft").checked=!1,mv.hasClass(e,"margin-right-1024-reset")?i.querySelector("#chkResetMarginRight").checked=!0:i.querySelector("#chkResetMarginRight").checked=!1}}const bv=new si;class fv{constructor(e){this.builder=e;const t=this.builder.util,i=this.builder.builderStuff;this.util=t,this.builderStuff=i;const n=new dv(e);let s=i.querySelector("#divElementBorder");this.panelStuff=s;const o=`\n                <div style="margin-top: 13px;font-weight: bold;line-height: 1.7;">${t.out("Border")}</div>\n                \n                <div class="is-settings">\n                    <div style="display:flex;">\n                        <input type="text" id="inpElmBorderWidth" value="" style="width:45px"/>\n                        <select id="inpElmBorderWidthUnit" style="margin-right:15px;">\n                            <option value="px">px</option>\n                            <option value="em">em</option>\n                            <option value="vw">vw</option>\n                            <option value="vh">vh</option>\n                            <option value="none">none</option>\n                        </select>\n                        <select id="inpElmBorderStyle" style="margin-right:15px;">\n                            <option value=""></option>\n                            <option value="solid">Solid</option>\n                            <option value="dashed">Dashed</option>\n                            <option value="dotted">Dotted</option>\n                        </select>\n                        <button title="${t.out("Border Color")}" class="input-elm-bordercolor is-btn-color"></button>                             \n                    </div>\n                </div>\n                \n                <div style="margin-top: 25px;font-weight: bold;line-height: 1.7;">${t.out("Individual Sides")}</div>\n                \n                <div class="is-settings">\n                    <div>${t.out("Border Top")}:</div>\n                    <div style="display:flex;">\n                        <input type="text" id="inpElmBorderTopWidth" value="" style="width:45px"/>\n                        <select id="inpElmBorderTopWidthUnit" style="margin-right:15px;">\n                            <option value="px">px</option>\n                            <option value="em">em</option>\n                            <option value="vw">vw</option>\n                            <option value="vh">vh</option>\n                            <option value="none">none</option>\n                        </select>\n                        <select id="inpElmBorderTopStyle" style="margin-right:15px;">\n                            <option value=""></option>\n                            <option value="solid">Solid</option>\n                            <option value="dashed">Dashed</option>\n                            <option value="dotted">Dotted</option>\n                        </select>\n                        <button title="${t.out("Border Top Color")}" class="input-elm-bordertopcolor is-btn-color"></button>\n                    </div>\n                </div>\n                \n                <div class="is-settings">\n                    <div>${t.out("Border Bottom")}:</div>\n                    <div style="display:flex;">\n                        <input type="text" id="inpElmBorderBottomWidth" value="" style="width:45px"/>\n                        <select id="inpElmBorderBottomWidthUnit" style="margin-right:15px;">\n                            <option value="px">px</option>\n                            <option value="em">em</option>\n                            <option value="vw">vw</option>\n                            <option value="vh">vh</option>\n                            <option value="none">none</option>\n                        </select>\n                        <select id="inpElmBorderBottomStyle" style="margin-right:15px;">\n                            <option value=""></option>\n                            <option value="solid">Solid</option>\n                            <option value="dashed">Dashed</option>\n                            <option value="dotted">Dotted</option>\n                        </select>\n                        <button title="${t.out("Border Bottom Color")}" class="input-elm-borderbottomcolor is-btn-color"></button>\n                    </div>\n                </div>\n                \n                <div class="is-settings">\n                    <div>${t.out("Border Left")}:</div>\n                    <div style="display:flex;">\n                        <input type="text" id="inpElmBorderLeftWidth" value="" style="width:45px"/>\n                        <select id="inpElmBorderLeftWidthUnit" style="margin-right:15px;">\n                            <option value="px">px</option>\n                            <option value="em">em</option>\n                            <option value="vw">vw</option>\n                            <option value="vh">vh</option>\n                            <option value="none">none</option>\n                        </select>\n                        <select id="inpElmBorderLeftStyle" style="margin-right:15px;">\n                            <option value=""></option>\n                            <option value="solid">Solid</option>\n                            <option value="dashed">Dashed</option>\n                            <option value="dotted">Dotted</option>\n                        </select>\n                        <button title="${t.out("Border Left Color")}" class="input-elm-borderleftcolor is-btn-color"></button>\n                    </div>\n                </div>\n                \n                <div class="is-settings">\n                    <div>${t.out("Border Right")}:</div>\n                    <div style="display:flex;">\n                        <input type="text" id="inpElmBorderRightWidth" value="" style="width:45px"/>\n                        <select id="inpElmBorderRightWidthUnit" style="margin-right:15px;">\n                            <option value="px">px</option>\n                            <option value="em">em</option>\n                            <option value="vw">vw</option>\n                            <option value="vh">vh</option>\n                            <option value="none">none</option>\n                        </select>\n                        <select id="inpElmBorderRightStyle" style="margin-right:15px;">\n                            <option value=""></option>\n                            <option value="solid">Solid</option>\n                            <option value="dashed">Dashed</option>\n                            <option value="dotted">Dotted</option>\n                        </select>\n                        <button title="${t.out("Border Right Color")}" class="input-elm-borderrightcolor is-btn-color"></button> \n                    </div>\n                </div>                \n        `;bv.appendHtml(s,o);let a=s.querySelector(".input-elm-bordercolor");a.addEventListener("click",(e=>{this.builder.uo.saveForUndo(!0);let t=e.target;this.builder.colorPicker.open((e=>{this.builder.inspectedElement.style.borderColor=e,t.style.backgroundColor=e,n.refresh(),this.builder.opts.onChange()}),a.style.backgroundColor,(()=>{a.removeAttribute("data-focus"),a.focus()})),a.setAttribute("data-focus",!0)}));let l=s.querySelector(".input-elm-bordertopcolor");l.addEventListener("click",(e=>{this.builder.uo.saveForUndo(!0);let t=e.target;this.builder.colorPicker.open((e=>{this.builder.inspectedElement.style.borderTopColor=e,t.style.backgroundColor=e,n.refresh(),this.builder.opts.onChange()}),l.style.backgroundColor,(()=>{l.removeAttribute("data-focus"),l.focus()})),l.setAttribute("data-focus",!0)}));let r=s.querySelector(".input-elm-borderbottomcolor");r.addEventListener("click",(e=>{this.builder.uo.saveForUndo(!0);let t=e.target;this.builder.colorPicker.open((e=>{this.builder.inspectedElement.style.borderBottomColor=e,t.style.backgroundColor=e,n.refresh(),this.builder.opts.onChange()}),r.style.backgroundColor,(()=>{r.removeAttribute("data-focus"),r.focus()})),r.setAttribute("data-focus",!0)}));let d=s.querySelector(".input-elm-borderleftcolor");d.addEventListener("click",(e=>{this.builder.uo.saveForUndo(!0);let t=e.target;this.builder.colorPicker.open((e=>{this.builder.inspectedElement.style.borderLeftColor=e,t.style.backgroundColor=e,n.refresh(),this.builder.opts.onChange()}),d.style.backgroundColor,(()=>{d.removeAttribute("data-focus"),d.focus()})),d.setAttribute("data-focus",!0)}));let c=s.querySelector(".input-elm-borderrightcolor");c.addEventListener("click",(e=>{this.builder.uo.saveForUndo(!0);let t=e.target;this.builder.colorPicker.open((e=>{this.builder.inspectedElement.style.borderRightColor=e,t.style.backgroundColor=e,n.refresh(),this.builder.opts.onChange()}),c.style.backgroundColor,(()=>{c.removeAttribute("data-focus"),c.focus()})),c.setAttribute("data-focus",!0)}));let u=s.querySelector("#inpElmBorderWidth");u.addEventListener("click",(()=>{this.builder.uo.saveForUndo()})),u.addEventListener("keyup",(()=>{let e=this.builder.inspectedElement;var t=s.querySelector("#inpElmBorderWidth").value;isNaN(t)||""===t?(e.style.borderStyle="solid",e.style.borderWidth="",e.style.borderStyle=""):(e.style.borderStyle="solid",e.style.borderWidth=t+s.querySelector("#inpElmBorderWidthUnit").value,e.style.borderStyle=s.querySelector("#inpElmBorderStyle").value),n.refresh(),this.builder.opts.onChange()})),s.querySelector("#inpElmBorderWidthUnit").addEventListener("change",(()=>{this.builder.uo.saveForUndo();let e=this.builder.inspectedElement;var t=s.querySelector("#inpElmBorderWidthUnit").value;"none"===t?(e.style.border="none",e.style.borderWidth="",e.style.borderStyle=""):e.style.borderWidth=s.querySelector("#inpElmBorderWidth").value+t,n.refresh(),this.builder.opts.onChange()})),s.querySelector("#inpElmBorderStyle").addEventListener("change",(()=>{this.builder.uo.saveForUndo();let e=this.builder.inspectedElement;var t=s.querySelector("#inpElmBorderStyle").value;e.style.borderStyle=t,n.refresh(),this.builder.opts.onChange()}));let p=s.querySelector("#inpElmBorderTopWidth");p.addEventListener("click",(()=>{this.builder.uo.saveForUndo()})),p.addEventListener("keyup",(()=>{let e=this.builder.inspectedElement;var t=s.querySelector("#inpElmBorderTopWidth").value;isNaN(t)||""===t?(e.style.borderTopStyle="solid",e.style.borderTopWidth="",e.style.borderTopStyle=""):(e.style.borderTopStyle="solid",e.style.borderTopWidth=t+s.querySelector("#inpElmBorderTopWidthUnit").value,e.style.borderTopStyle=s.querySelector("#inpElmBorderTopStyle").value),n.refresh(),this.builder.opts.onChange()})),s.querySelector("#inpElmBorderTopWidthUnit").addEventListener("change",(()=>{this.builder.uo.saveForUndo();let e=this.builder.inspectedElement;var t=s.querySelector("#inpElmBorderTopWidthUnit").value;"none"===t?(e.style.borderTop="none",e.style.borderTopWidth="",e.style.borderTopStyle="",this.panelStuff.querySelector("#inpElmBorderTopWidth").value="",this.panelStuff.querySelector("#inpElmBorderTopStyle").value=""):e.style.borderTopWidth=s.querySelector("#inpElmBorderTopWidth").value+t,n.refresh(),this.builder.opts.onChange()})),s.querySelector("#inpElmBorderTopStyle").addEventListener("change",(()=>{this.builder.uo.saveForUndo();let e=this.builder.inspectedElement;var t=s.querySelector("#inpElmBorderTopStyle").value;e.style.borderTopStyle=t,n.refresh(),this.builder.opts.onChange()}));let h=s.querySelector("#inpElmBorderBottomWidth");h.addEventListener("click",(()=>{this.builder.uo.saveForUndo()})),h.addEventListener("keyup",(()=>{let e=this.builder.inspectedElement;var t=s.querySelector("#inpElmBorderBottomWidth").value;isNaN(t)||""===t?(e.style.borderBottomStyle="solid",e.style.borderBottomWidth="",e.style.borderBottomStyle=""):(e.style.borderBottomStyle="solid",e.style.borderBottomWidth=t+s.querySelector("#inpElmBorderBottomWidthUnit").value,e.style.borderBottomStyle=s.querySelector("#inpElmBorderBottomStyle").value),n.refresh(),this.builder.opts.onChange()})),s.querySelector("#inpElmBorderBottomWidthUnit").addEventListener("change",(()=>{this.builder.uo.saveForUndo();let e=this.builder.inspectedElement;var t=s.querySelector("#inpElmBorderBottomWidthUnit").value;"none"===t?(e.style.borderBottom="none",e.style.borderBottomWidth="",e.style.borderBottomStyle="",this.panelStuff.querySelector("#inpElmBorderBottomWidth").value="",this.panelStuff.querySelector("#inpElmBorderBottomStyle").value=""):e.style.borderBottomWidth=s.querySelector("#inpElmBorderBottomWidth").value+t,n.refresh(),this.builder.opts.onChange()})),s.querySelector("#inpElmBorderBottomStyle").addEventListener("change",(()=>{this.builder.uo.saveForUndo();let e=this.builder.inspectedElement;var t=s.querySelector("#inpElmBorderBottomStyle").value;e.style.borderBottomStyle=t,n.refresh(),this.builder.opts.onChange()}));let m=s.querySelector("#inpElmBorderLeftWidth");m.addEventListener("click",(()=>{this.builder.uo.saveForUndo()})),m.addEventListener("keyup",(()=>{let e=this.builder.inspectedElement;var t=s.querySelector("#inpElmBorderLeftWidth").value;isNaN(t)||""===t?(e.style.borderLeftStyle="solid",e.style.borderLeftWidth="",e.style.borderLeftStyle=""):(e.style.borderLeftStyle="solid",e.style.borderLeftWidth=t+s.querySelector("#inpElmBorderLeftWidthUnit").value,e.style.borderLeftStyle=s.querySelector("#inpElmBorderLeftStyle").value),n.refresh(),this.builder.opts.onChange()})),s.querySelector("#inpElmBorderLeftWidthUnit").addEventListener("change",(()=>{this.builder.uo.saveForUndo();let e=this.builder.inspectedElement;var t=s.querySelector("#inpElmBorderLeftWidthUnit").value;"none"===t?(e.style.borderLeft="none",e.style.borderLeftWidth="",e.style.borderLeftStyle="",this.panelStuff.querySelector("#inpElmBorderLeftWidth").value="",this.panelStuff.querySelector("#inpElmBorderLeftStyle").value=""):e.style.borderLeftWidth=s.querySelector("#inpElmBorderLeftWidth").value+t,n.refresh(),this.builder.opts.onChange()})),s.querySelector("#inpElmBorderLeftStyle").addEventListener("change",(()=>{this.builder.uo.saveForUndo();let e=this.builder.inspectedElement;var t=s.querySelector("#inpElmBorderLeftStyle").value;e.style.borderLeftStyle=t,n.refresh(),this.builder.opts.onChange()}));let g=s.querySelector("#inpElmBorderRightWidth");g.addEventListener("click",(()=>{this.builder.uo.saveForUndo()})),g.addEventListener("keyup",(()=>{let e=this.builder.inspectedElement;var t=s.querySelector("#inpElmBorderRightWidth").value;isNaN(t)||""===t?(e.style.borderRightStyle="solid",e.style.borderRightWidth="",e.style.borderRightStyle=""):(e.style.borderRightStyle="solid",e.style.borderRightWidth=t+s.querySelector("#inpElmBorderRightWidthUnit").value,e.style.borderRightStyle=s.querySelector("#inpElmBorderRightStyle").value),n.refresh(),this.builder.opts.onChange()})),s.querySelector("#inpElmBorderRightWidthUnit").addEventListener("change",(()=>{this.builder.uo.saveForUndo();let e=this.builder.inspectedElement;var t=s.querySelector("#inpElmBorderRightWidthUnit").value;"none"===t?(e.style.borderRight="none",e.style.borderRightWidth="",e.style.borderRightStyle="",this.panelStuff.querySelector("#inpElmBorderRightWidth").value="",this.panelStuff.querySelector("#inpElmBorderRightStyle").value=""):e.style.borderRightWidth=s.querySelector("#inpElmBorderRightWidth").value+t,n.refresh(),this.builder.opts.onChange()})),s.querySelector("#inpElmBorderRightStyle").addEventListener("change",(()=>{this.builder.uo.saveForUndo();let e=this.builder.inspectedElement;var t=s.querySelector("#inpElmBorderRightStyle").value;e.style.borderRightStyle=t,n.refresh(),this.builder.opts.onChange()}))}readElementStyles(e){this.panelStuff.querySelector(".input-elm-bordercolor").style.backgroundColor=e.style.borderColor,this.panelStuff.querySelector(".input-elm-bordertopcolor").style.backgroundColor=e.style.borderTopColor,this.panelStuff.querySelector(".input-elm-borderbottomcolor").style.backgroundColor=e.style.borderBottomColor,this.panelStuff.querySelector(".input-elm-borderleftcolor").style.backgroundColor=e.style.borderLeftColor,this.panelStuff.querySelector(".input-elm-borderrightcolor").style.backgroundColor=e.style.borderRightColor,this.panelStuff.querySelector("#inpElmBorderWidth").value="",this.panelStuff.querySelector("#inpElmBorderWidthUnit").value="",this.panelStuff.querySelector("#inpElmBorderStyle").value="";var t=e.style.borderWidth,i=parseInt(t);isNaN(i)?-1!==(t=e.style.border).indexOf("none")&&(this.panelStuff.querySelector("#inpElmBorderWidthUnit").value="none",this.panelStuff.querySelector("#inpElmBorderWidth").value="",this.panelStuff.querySelector("#inpElmBorderStyle").value=""):(-1!==t.indexOf("px")&&(this.panelStuff.querySelector("#inpElmBorderWidthUnit").value="px"),-1!==t.indexOf("vw")&&(this.panelStuff.querySelector("#inpElmBorderWidthUnit").value="vw"),-1!==t.indexOf("vh")&&(this.panelStuff.querySelector("#inpElmBorderWidthUnit").value="vh"),-1!==t.indexOf("em")&&(this.panelStuff.querySelector("#inpElmBorderWidthUnit").value="em"),this.panelStuff.querySelector("#inpElmBorderWidth").value=i,-1!==(t=e.style.borderStyle).indexOf("solid")&&(this.panelStuff.querySelector("#inpElmBorderStyle").value="solid"),-1!==t.indexOf("dashed")&&(this.panelStuff.querySelector("#inpElmBorderStyle").value="dashed"),-1!==t.indexOf("dotted")&&(this.panelStuff.querySelector("#inpElmBorderStyle").value="dotted")),this.panelStuff.querySelector("#inpElmBorderTopWidth").value="",this.panelStuff.querySelector("#inpElmBorderTopWidthUnit").value="",this.panelStuff.querySelector("#inpElmBorderTopStyle").value="",t=e.style.borderTopWidth;var n=parseInt(t);isNaN(n)?-1!==(t=e.style.borderTop).indexOf("none")&&(this.panelStuff.querySelector("#inpElmBorderTopWidthUnit").value="none",this.panelStuff.querySelector("#inpElmBorderTopWidth").value="",this.panelStuff.querySelector("#inpElmBorderTopStyle").value=""):(-1!==t.indexOf("px")&&(this.panelStuff.querySelector("#inpElmBorderTopWidthUnit").value="px"),-1!==t.indexOf("vw")&&(this.panelStuff.querySelector("#inpElmBorderTopWidthUnit").value="vw"),-1!==t.indexOf("vh")&&(this.panelStuff.querySelector("#inpElmBorderTopWidthUnit").value="vh"),-1!==t.indexOf("em")&&(this.panelStuff.querySelector("#inpElmBorderTopWidthUnit").value="em"),this.panelStuff.querySelector("#inpElmBorderTopWidth").value=n,-1!==t.indexOf("solid")&&(this.panelStuff.querySelector("#inpElmBorderTopStyle").value="solid"),-1!==t.indexOf("dashed")&&(this.panelStuff.querySelector("#inpElmBorderTopStyle").value="dashed"),-1!==t.indexOf("dotted")&&(this.panelStuff.querySelector("#inpElmBorderTopStyle").value="dotted")),this.panelStuff.querySelector("#inpElmBorderBottomWidth").value="",this.panelStuff.querySelector("#inpElmBorderBottomWidthUnit").value="",this.panelStuff.querySelector("#inpElmBorderBottomStyle").value="",t=e.style.borderBottomWidth;var s=parseInt(t);isNaN(s)?-1!==(t=e.style.borderBottom).indexOf("none")&&(this.panelStuff.querySelector("#inpElmBorderBottomWidthUnit").value="none",this.panelStuff.querySelector("#inpElmBorderBottomWidth").value="",this.panelStuff.querySelector("#inpElmBorderBottomStyle").value=""):(-1!==t.indexOf("px")&&(this.panelStuff.querySelector("#inpElmBorderBottomWidthUnit").value="px"),-1!==t.indexOf("vw")&&(this.panelStuff.querySelector("#inpElmBorderBottomWidthUnit").value="vw"),-1!==t.indexOf("vh")&&(this.panelStuff.querySelector("#inpElmBorderBottomWidthUnit").value="vh"),-1!==t.indexOf("em")&&(this.panelStuff.querySelector("#inpElmBorderBottomWidthUnit").value="em"),this.panelStuff.querySelector("#inpElmBorderBottomWidth").value=s,-1!==t.indexOf("solid")&&(this.panelStuff.querySelector("#inpElmBorderBottomStyle").value="solid"),-1!==t.indexOf("dashed")&&(this.panelStuff.querySelector("#inpElmBorderBottomStyle").value="dashed"),-1!==t.indexOf("dotted")&&(this.panelStuff.querySelector("#inpElmBorderBottomStyle").value="dotted")),this.panelStuff.querySelector("#inpElmBorderLeftWidth").value="",this.panelStuff.querySelector("#inpElmBorderLeftWidthUnit").value="",this.panelStuff.querySelector("#inpElmBorderLeftStyle").value="",t=e.style.borderLeftWidth;var o=parseInt(t);isNaN(o)?-1!==(t=e.style.borderLeft).indexOf("none")&&(this.panelStuff.querySelector("#inpElmBorderLeftWidthUnit").value="none",this.panelStuff.querySelector("#inpElmBorderLeftWidth").value="",this.panelStuff.querySelector("#inpElmBorderLeftStyle").value=""):(-1!==t.indexOf("px")&&(this.panelStuff.querySelector("#inpElmBorderLeftWidthUnit").value="px"),-1!==t.indexOf("vw")&&(this.panelStuff.querySelector("#inpElmBorderLeftWidthUnit").value="vw"),-1!==t.indexOf("vh")&&(this.panelStuff.querySelector("#inpElmBorderLeftWidthUnit").value="vh"),-1!==t.indexOf("em")&&(this.panelStuff.querySelector("#inpElmBorderLeftWidthUnit").value="em"),this.panelStuff.querySelector("#inpElmBorderLeftWidth").value=o,-1!==t.indexOf("solid")&&(this.panelStuff.querySelector("#inpElmBorderLeftStyle").value="solid"),-1!==t.indexOf("dashed")&&(this.panelStuff.querySelector("#inpElmBorderLeftStyle").value="dashed"),-1!==t.indexOf("dotted")&&(this.panelStuff.querySelector("#inpElmBorderLeftStyle").value="dotted")),this.panelStuff.querySelector("#inpElmBorderRightWidth").value="",this.panelStuff.querySelector("#inpElmBorderRightWidthUnit").value="",this.panelStuff.querySelector("#inpElmBorderRightStyle").value="",t=e.style.borderRightWidth;var a=parseInt(t);isNaN(a)?-1!==(t=e.style.borderRight).indexOf("none")&&(this.panelStuff.querySelector("#inpElmBorderRightWidthUnit").value="none",this.panelStuff.querySelector("#inpElmBorderRightWidth").value="",this.panelStuff.querySelector("#inpElmBorderRightStyle").value=""):(-1!==t.indexOf("px")&&(this.panelStuff.querySelector("#inpElmBorderRightWidthUnit").value="px"),-1!==t.indexOf("vw")&&(this.panelStuff.querySelector("#inpElmBorderRightWidthUnit").value="vw"),-1!==t.indexOf("vh")&&(this.panelStuff.querySelector("#inpElmBorderRightWidthUnit").value="vh"),-1!==t.indexOf("em")&&(this.panelStuff.querySelector("#inpElmBorderRightWidthUnit").value="em"),this.panelStuff.querySelector("#inpElmBorderRightWidth").value=a,-1!==t.indexOf("solid")&&(this.panelStuff.querySelector("#inpElmBorderRightStyle").value="solid"),-1!==t.indexOf("dashed")&&(this.panelStuff.querySelector("#inpElmBorderRightStyle").value="dashed"),-1!==t.indexOf("dotted")&&(this.panelStuff.querySelector("#inpElmBorderRightStyle").value="dotted"))}}const vv=new si;class yv{constructor(e){this.builder=e;const t=this.builder.util,i=this.builder.builderStuff;this.util=t,this.builderStuff=i;const n=new dv(e);let s=i.querySelector("#divElementText");this.panelStuff=s;const o=`\n            <div class="is-settings" style="width:115px;">\n                <div>Text Color:</div>\n                <div>\n                    <button title="${t.out("Text Color")}" class="input-elm-color is-btn-color"></button>\n                </div>\n            </div>\n\n            <div class="is-settings" style="width:115px;">\n                <div>${t.out("Font Size")}:</div>\n                <div style="display:flex">\n                    <input type="text" id="inpElmFontSize" value="" style="width:45px"/>\n                    <select id="inpElmFontSizeUnit">\n                        <option value=""></option>\n                        <option value="px">px</option>\n                        <option value="pt">pt</option>\n                        <option value="em">em</option>\n                        <option value="vw">vw</option>\n                        <option value="vh">vh</option>\n                        <option value="vmin">vmin</option>\n                        <option value="vmax">vmax</option>\n                        <option value="%">%</option>\n                    </select>\n                </div>\n            </div>\n\n            <div class="is-settings" style="width:115px;">\n                <div>${t.out("Text Align")}:</div>\n                <div>\n                    <select id="inpElmTextAlign">\n                        <option value=""></option>\n                        <option value="left">${t.out("Left")}</option>\n                        <option value="center">${t.out("Center")}</option>\n                        <option value="right">${t.out("Right")}</option>\n                        <option value="justify">${t.out("Full")}</option>\n                    </select>\n                </div>\n            </div>\n\n            <div class="is-settings" style="width:115px;">\n                <div>${t.out("Line Height")}:</div>\n                <div style="display:flex">\n                    <input type="text" id="inpElmLineHeight" value="" style="width:45px"/>\n                    <select id="inpElmLineHeightUnit">\n                        <option value=""></option>\n                        <option value="px">px</option>\n                        <option value="pt">pt</option>\n                    </select>\n                </div>\n            </div>\n\n            <div class="is-settings" style="width:115px;">\n                <div>${t.out("Font Weight")}:</div>\n                <div>\n                    <select id="inpElmFontWeight">\n                        <option value=""></option>\n                        <option value="100">100</option>\n                        <option value="200">200</option>\n                        <option value="300">300</option>\n                        <option value="400">400</option>\n                        <option value="500">500</option>\n                        <option value="600">600</option>\n                        <option value="700">700</option>\n                        <option value="800">800</option>\n                        <option value="900">900</option>\n                        <option value="bold">${t.out("Bold")}</option>\n                        <option value="normal">${t.out("Normal")}</option>\n                    </select>\n                </div>\n            </div>\n\n            <div class="is-settings" style="width:115px;">\n                <div>${t.out("Font Style")}:</div>\n                <div>\n                    <select id="inpElmFontStyle">\n                        <option value=""></option>\n                        <option value="italic">${t.out("Italic")}</option>\n                        <option value="normal">${t.out("Normal")}</option>\n                    </select>\n                </div>\n            </div>\n\n            <div class="is-settings" style="width:115px;">\n                <div>${t.out("Text Transform")}:</div>\n                <div>\n                    <select id="inpElmTextTransform">\n                        <option value=""></option>\n                        <option value="uppercase">${t.out("Uppercase")}</option>\n                        <option value="lowercase">${t.out("Lowercase")}</option>\n                        <option value="capitalize">${t.out("Capitalize")}</option>\n                        <option value="none">${t.out("None")}</option>\n                    </select>\n                </div>\n            </div>\n\n            <div class="is-settings" style="width:115px;">\n                <div>${t.out("Text Decoration")}:</div>\n                <div>\n                    <select id="inpElmTextDecoration">\n                        <option value=""></option>\n                        <option value="underline">${t.out("Underline")}</option>\n                        <option value="line-through">${t.out("Line Through")}</option>\n                        <option value="overline">${t.out("Overline")}</option>\n                        <option value="none">${t.out("None")}</option>\n                    </select>\n                </div>\n            </div>\n\n            <div class="is-settings" style="width:115px;">\n                <div>${t.out("Letter Spacing")}:</div>\n                <div>\n                    <input type="text" id="inpElmLetterSpacing" value="" style="width:45px"/> &nbsp;px\n                </div>\n            </div>\n\n            <div class="is-settings" style="width:115px;">\n                <div>${t.out("Word Spacing")}:</div>\n                <div>\n                    <input type="text" id="inpElmWordSpacing" value="" style="width:45px"/> &nbsp;px\n                </div>\n            </div>\n\n            <div class="is-settings" style="width:100%;">\n                <div>${t.out("Font Family")}:</div>\n                <div style="display:flex">\n                    <input type="text" id="inpElmFontFamily" value="" style="width:100%"/>\n                    <button title="${t.out("Select Font")}" class="input-elm-fontfamily classic" style="border-left: none;width:45px;padding:0;"><svg class="is-icon-flex"><use xlink:href="#ion-more"></use></svg></button>\n                </div>\n            </div>\n        `;vv.appendHtml(s,o);const a=`\n            <div class="is-modal pickfontfamily" tabindex="-1" role="dialog" aria-modal="true" aria-hidden="true">\n                <div class="is-modal-content">\n                    <div class="is-modal-bar is-draggable"> ${t.out("Font")} </div>\n                    <div style="margin-top:35px;padding:0px;height:300px;position:relative;">\n                        <iframe tabindex="0" src="about:blank" style="width:100%;height:100%;position:absolute;top:0;left:0;border: none;"></iframe>\n                    </div>\n                </div>\n            </div>\n        `;vv.appendHtml(i,a);const l=i.querySelector(".is-modal.pickfontfamily");let r=s.querySelector(".input-elm-color");r.addEventListener("click",(e=>{this.builder.uo.saveForUndo(!0);let t=e.target;this.builder.colorPicker.open((e=>{this.builder.inspectedElement.style.color=e,t.style.backgroundColor=e,n.refresh(),this.builder.opts.onChange()}),r.style.backgroundColor,(()=>{r.removeAttribute("data-focus"),r.focus()})),r.setAttribute("data-focus",!0)})),s.querySelector("#inpElmTextAlign").addEventListener("change",(()=>{this.builder.uo.saveForUndo();let e=this.builder.inspectedElement,t=s.querySelector("#inpElmTextAlign").value;e.style.textAlign=t,n.refresh(),this.builder.opts.onChange()})),s.querySelector("#inpElmFontWeight").addEventListener("change",(()=>{this.builder.uo.saveForUndo();let e=this.builder.inspectedElement,t=s.querySelector("#inpElmFontWeight").value;e.style.fontWeight=t,n.refresh(),this.builder.opts.onChange()})),s.querySelector("#inpElmFontStyle").addEventListener("change",(()=>{this.builder.uo.saveForUndo();let e=this.builder.inspectedElement,t=s.querySelector("#inpElmFontStyle").value;e.style.fontStyle=t,n.refresh(),this.builder.opts.onChange()})),s.querySelector("#inpElmTextTransform").addEventListener("change",(()=>{this.builder.uo.saveForUndo();let e=this.builder.inspectedElement,t=s.querySelector("#inpElmTextTransform").value;e.style.textTransform=t,n.refresh(),this.builder.opts.onChange()})),s.querySelector("#inpElmTextDecoration").addEventListener("change",(()=>{this.builder.uo.saveForUndo();let e=this.builder.inspectedElement,t=s.querySelector("#inpElmTextDecoration").value;e.style.textDecoration=t,n.refresh(),this.builder.opts.onChange()}));let d=s.querySelector("#inpElmFontSize");d.addEventListener("click",(()=>{this.builder.uo.saveForUndo()})),d.addEventListener("keyup",(()=>{let e=this.builder.inspectedElement,t=s.querySelector("#inpElmFontSize").value;if(""===t)return void(e.style.fontSize="");let i=s.querySelector("#inpElmFontSizeUnit").value;""===i&&(s.querySelector("#inpElmFontSizeUnit").value="px",i="px"),isNaN(t)||""===t?e.style.fontSize="":e.style.fontSize=t+i;const o=this.builder.opts.fontSizeClassValues;for(var a=0;a<=o.length-1;a++)vv.hasClass(e,"size-"+o[a])&&vv.removeClass(e,"size-"+o[a]);n.refresh(),this.builder.opts.onChange()})),s.querySelector("#inpElmFontSizeUnit").addEventListener("change",(()=>{this.builder.uo.saveForUndo();let e=this.builder.inspectedElement,t=s.querySelector("#inpElmFontSize").value,i=s.querySelector("#inpElmFontSizeUnit").value;isNaN(t)||""===t?e.style.fontSize="":e.style.fontSize=t+i,n.refresh(),this.builder.opts.onChange()}));let c=s.querySelector("#inpElmLineHeight");c.addEventListener("click",(()=>{this.builder.uo.saveForUndo()})),c.addEventListener("keyup",(()=>{let e=this.builder.inspectedElement,t=s.querySelector("#inpElmLineHeight").value,i=s.querySelector("#inpElmLineHeightUnit").value;isNaN(t)||""===t?e.style.lineHeight="":e.style.lineHeight=t+i,n.refresh(),this.builder.opts.onChange()})),s.querySelector("#inpElmLineHeightUnit").addEventListener("change",(()=>{this.builder.uo.saveForUndo();let e=this.builder.inspectedElement,t=s.querySelector("#inpElmLineHeightUnit").value,i=s.querySelector("#inpElmLineHeight").value;isNaN(i)||""===i?e.style.lineHeight="":e.style.lineHeight=i+t,n.refresh(),this.builder.opts.onChange()}));let u=s.querySelector("#inpElmLetterSpacing");u.addEventListener("click",(()=>{this.builder.uo.saveForUndo()})),u.addEventListener("keyup",(()=>{let e=this.builder.inspectedElement,t=s.querySelector("#inpElmLetterSpacing").value;isNaN(t)||""===t?e.style.letterSpacing="":e.style.letterSpacing=t+"px",n.refresh(),this.builder.opts.onChange()}));let p=s.querySelector("#inpElmWordSpacing");p.addEventListener("click",(()=>{this.builder.uo.saveForUndo()})),p.addEventListener("keyup",(()=>{let e=this.builder.inspectedElement,t=s.querySelector("#inpElmWordSpacing").value;isNaN(t)||""===t?e.style.wordSpacing="":e.style.wordSpacing=t+"px",n.refresh(),this.builder.opts.onChange()}));let h=s.querySelector("#inpElmFontFamily");if(h.addEventListener("click",(()=>{this.builder.uo.saveForUndo()})),h.addEventListener("keyup",(()=>{let e=s.querySelector("#inpElmFontFamily").value;this.builder.inspectedElement.style.fontFamily=e,n.refresh(),this.builder.opts.onChange()})),!this.builder.renderIframeLater){let e=l.querySelector("iframe").contentWindow.document;e.open(),this.builder.opts.emailMode?e.write(this.util.getFontFamilyEmail(!0)):e.write(this.util.getFontFamilyHTML(!0)),e.close()}let m=s.querySelector(".input-elm-fontfamily");m.addEventListener("click",(()=>{let e=this.builder.inspectedElement;this.util.showModal(l,!1,(()=>{m.removeAttribute("data-focus"),m.focus()})),m.setAttribute("data-focus",!0);var t=e.style.fontFamily;const i=l.querySelector("iframe");let n=i.contentDocument||i.contentWindow.document;if(""!==t){let e=t.split(",")[0];if(e=e.replace('"',"").replace('"',""),e=e.toLowerCase().trim(),n){[].forEach.call(n.querySelectorAll("#divFontList > li"),(t=>{var i=t.getAttribute("data-font-family");(i=(i=i.split(",")[0]).trim().toLowerCase())===e&&""!==i?vv.addClass(t,"on"):vv.removeClass(t,"on")}));let t=n.querySelector("#divFontList");var s=t.querySelector(".on");s&&(s.focus(),t.scrollTop=t.scrollTop+s.getBoundingClientRect().top-90)}}else n&&[].forEach.call(n.querySelectorAll("#divFontList > li"),(e=>{vv.removeClass(e,"on")}))}))}readElementStyles(e){this.panelStuff.querySelector(".input-elm-color").style.backgroundColor=e.style.color,this.panelStuff.querySelector("#inpElmTextAlign").value="";var t=e.style.textAlign;this.panelStuff.querySelector("#inpElmTextAlign").value=t,this.panelStuff.querySelector("#inpElmFontSize").value="";var i=parseFloat(e.style.fontSize);let n;isNaN(i)||(this.panelStuff.querySelector("#inpElmFontSize").value=i),this.panelStuff.querySelector("#inpElmFontSizeUnit").value="px";var s=e.style.fontSize;-1!==s.indexOf("px")&&(n="px"),-1!==s.indexOf("pt")&&(n="pt"),-1!==s.indexOf("em")&&(n="em"),-1!==s.indexOf("vw")&&(n="vw"),-1!==s.indexOf("vh")&&(n="vh"),-1!==s.indexOf("vmin")&&(n="vmin"),-1!==s.indexOf("vmax")&&(n="vmax"),-1!==s.indexOf("%")&&(n="%"),this.panelStuff.querySelector("#inpElmFontSizeUnit").value=n,this.panelStuff.querySelector("#inpElmFontWeight").value="";var o=e.style.fontWeight;this.panelStuff.querySelector("#inpElmFontWeight").value=o,this.panelStuff.querySelector("#inpElmFontStyle").value="";var a=e.style.fontStyle;this.panelStuff.querySelector("#inpElmFontStyle").value=a,this.panelStuff.querySelector("#inpElmTextTransform").value="";var l=e.style.textTransform;this.panelStuff.querySelector("#inpElmTextTransform").value=l,this.panelStuff.querySelector("#inpElmTextDecoration").value="";var r=e.style.textDecoration;if(this.panelStuff.querySelector("#inpElmTextDecoration").value=r,this.panelStuff.querySelector("#inpElmLineHeight").value="",isNaN(e.style.lineHeight)){var d=parseFloat(e.style.lineHeight);isNaN(d)||(this.panelStuff.querySelector("#inpElmLineHeight").value=d)}else this.panelStuff.querySelector("#inpElmLineHeight").value=e.style.lineHeight;let c;this.panelStuff.querySelector("#inpElmLineHeightUnit").value="",-1!==(s=e.style.lineHeight).indexOf("px")&&(c="px"),-1!==s.indexOf("pt")&&(c="pt"),this.panelStuff.querySelector("#inpElmLineHeightUnit").value=c,this.panelStuff.querySelector("#inpElmLetterSpacing").value="";var u=parseFloat(e.style.letterSpacing);isNaN(u)||(this.panelStuff.querySelector("#inpElmLetterSpacing").value=u),this.panelStuff.querySelector("#inpElmWordSpacing").value="";var p=parseFloat(e.style.wordSpacing);isNaN(p)||(this.panelStuff.querySelector("#inpElmWordSpacing").value=p),this.panelStuff.querySelector("#inpElmFontFamily").value="";var h=e.style.fontFamily;""!==h&&(this.panelStuff.querySelector("#inpElmFontFamily").value=h)}}const xv=new si;class _v{constructor(e){this.builder=e;const t=this.builder.util,i=this.builder.builderStuff;this.util=t,this.builderStuff=i;const n=new dv(e);let s=i.querySelector("#divElementCorner");this.panelStuff=s;const o=`\n            <div style="margin-top: 13px;font-weight: bold;width:100%;">${t.out("Corners")}</div>\n\n            <div class="is-settings" style="width:100%;margin-bottom:9px;">\n                <div>${t.out("Border Radius")}:</div>\n                <div>\n                    <input type="text" id="inpElmBorderRadius" value="" style="width:45px"/> &nbsp;px\n                </div>\n            </div>\n\n            <div style="margin-top: 25px;font-weight: bold;width:100%;">${t.out("Individual Corners")}</div>\n\n            <div class="is-settings" style="width:110px;">\n                <div>${t.out("Top Left")}:</div>\n                <div>\n                    <input type="text" id="inpElmBorderTopLeftRadius" value="" style="width:45px"/> &nbsp;px\n                </div>\n            </div>\n\n            <div class="is-settings" style="width:110px;">\n                <div>${t.out("Top Right")}:</div>\n                <div>\n                    <input type="text" id="inpElmBorderTopRightRadius" value="" style="width:45px"/> &nbsp;px\n                </div>\n            </div>\n\n            <div class="is-settings" style="width:110px;">\n                <div>${t.out("Bottom Left")}:</div>\n                <div>\n                    <input type="text" id="inpElmBorderBottomLeftRadius" value="" style="width:45px"/> &nbsp;px\n                </div>\n            </div>\n\n            <div class="is-settings" style="width:110px;">\n                <div>${t.out("Bottom Right")}:</div>\n                <div>\n                    <input type="text" id="inpElmBorderBottomRightRadius" value="" style="width:45px"/> &nbsp;px\n                </div>\n            </div>\n        `;xv.appendHtml(s,o);const a=s.querySelector("#inpElmBorderRadius");a.addEventListener("click",(()=>{this.builder.uo.saveForUndo()})),a.addEventListener("keyup",(()=>{let e=this.builder.inspectedElement,t=s.querySelector("#inpElmBorderRadius").value;isNaN(t)||""===t?e.style.borderRadius="":e.style.borderRadius=t+"px",n.refresh(),this.builder.opts.onChange()}));const l=s.querySelector("#inpElmBorderTopLeftRadius");l.addEventListener("click",(()=>{this.builder.uo.saveForUndo()})),l.addEventListener("keyup",(()=>{let e=this.builder.inspectedElement,t=s.querySelector("#inpElmBorderTopLeftRadius").value;isNaN(t)||""===t?e.style.borderTopLeftRadius="":e.style.borderTopLeftRadius=t+"px",n.refresh(),this.builder.opts.onChange()}));const r=s.querySelector("#inpElmBorderTopRightRadius");r.addEventListener("click",(()=>{this.builder.uo.saveForUndo()})),r.addEventListener("keyup",(()=>{let e=this.builder.inspectedElement,t=s.querySelector("#inpElmBorderTopRightRadius").value;isNaN(t)||""===t?e.style.borderTopRightRadius="":e.style.borderTopRightRadius=t+"px",n.refresh(),this.builder.opts.onChange()}));const d=s.querySelector("#inpElmBorderBottomLeftRadius");d.addEventListener("click",(()=>{this.builder.uo.saveForUndo()})),d.addEventListener("keyup",(()=>{let e=this.builder.inspectedElement,t=s.querySelector("#inpElmBorderBottomLeftRadius").value;isNaN(t)||""===t?e.style.borderBottomLeftRadius="":e.style.borderBottomLeftRadius=t+"px",n.refresh(),this.builder.opts.onChange()}));const c=s.querySelector("#inpElmBorderBottomRightRadius");c.addEventListener("click",(()=>{this.builder.uo.saveForUndo()})),c.addEventListener("keyup",(()=>{let e=this.builder.inspectedElement,t=s.querySelector("#inpElmBorderBottomRightRadius").value;isNaN(t)||""===t?e.style.borderBottomRightRadius="":e.style.borderBottomRightRadius=t+"px",n.refresh(),this.builder.opts.onChange()}))}readElementStyles(e){let t=this.panelStuff;const i=t.querySelector("#inpElmBorderRadius");i.value="";let n=e.style.borderRadius,s=parseInt(n);isNaN(s)||(i.value=s);const o=t.querySelector("#inpElmBorderTopLeftRadius");o.value="",n=e.style.borderTopLeftRadius;let a=parseInt(n);isNaN(a)||(o.value=a);const l=t.querySelector("#inpElmBorderTopRightRadius");l.value="",n=e.style.borderTopRightRadius;let r=parseInt(n);isNaN(r)||(l.value=r);const d=t.querySelector("#inpElmBorderBottomLeftRadius");d.value="",n=e.style.borderBottomLeftRadius;let c=parseInt(n);isNaN(c)||(d.value=c);const u=t.querySelector("#inpElmBorderBottomRightRadius");u.value="",n=e.style.borderBottomRightRadius;let p=parseInt(n);isNaN(p)||(u.value=p)}}const wv=new si;class Sv{constructor(e){this.builder=e;const t=this.builder.util,i=this.builder.builderStuff;this.util=t,this.builderStuff=i;const n=new dv(e);let s=i.querySelector("#divElementShadow");this.panelStuff=s;const o=`\n            <div style="margin-top:13px;font-weight:bold;width:100%;">${t.out("Shadow")}</div>\n\n            <div class="is-settings" style="width:110px;">\n                <div>${t.out("x Offset")}:</div>\n                <div style="display:flex">\n                    <input type="text" id="inpElmBoxShadowX" value="" style="width:45px"/>\n                    <select id="inpElmBoxShadowXUnit">\n                        <option value="px">px</option>\n                        <option value="em">em</option>\n                    </select>\n                </div>\n            </div>\n\n            <div class="is-settings" style="width:110px;">\n                <div>${t.out("y Offset")}:</div>\n                <div style="display:flex">\n                    <input type="text" id="inpElmBoxShadowY" value="" style="width:45px"/>\n                    <select id="inpElmBoxShadowYUnit">\n                        <option value="px">px</option>\n                        <option value="em">em</option>\n                    </select>\n                </div>\n            </div>\n\n            <div class="is-settings" style="width:110px;">\n                <div>${t.out("Blur")}:</div>\n                <div style="display:flex">\n                    <input type="text" id="inpElmBoxShadowBlur" value="" style="width:45px"/>\n                    <select id="inpElmBoxShadowBlurUnit">\n                        <option value="px">px</option>\n                        <option value="em">em</option>\n                    </select>\n                </div>\n            </div>\n\n            <div class="is-settings" style="width:110px;">\n                <div>${t.out("Spread")}:</div>\n                <div style="display:flex">\n                    <input type="text" id="inpElmBoxShadowSpread" value="" style="width:45px"/>\n                    <select id="inpElmBoxShadowSpreadUnit">\n                        <option value="px">px</option>\n                        <option value="em">em</option>\n                    </select>\n                </div>\n            </div>\n\n            <div class="is-settings" style="width:100%;">\n                <div>${t.out("Shadow Color")}:</div>\n                <div>\n                <button title="${t.out("Shadow Color")}" class="input-elm-shadowcolor is-btn-color"></button>\n                </div>\n            </div>\n\n            <div class="is-settings" style="width:100%;">\n                <div>${t.out("Outer/Inner Shadow")}:</div>\n                <div>\n                    <select id="inpElmBoxShadowInset">\n                        <option value="">Outset</option>\n                        <option value="inset">Inset</option>\n                    </select>\n                </div>\n            </div>\n        `;wv.appendHtml(s,o);let a=s.querySelector(".input-elm-shadowcolor");a.addEventListener("click",(()=>{this.builder.uo.saveForUndo(!0),this.builder.colorPicker.open((e=>{a.style.backgroundColor=e,this.updateShadow(this.builder.inspectedElement),n.refresh(),this.builder.opts.onChange()}),a.style.backgroundColor,(()=>{a.removeAttribute("data-focus"),a.focus()})),a.setAttribute("data-focus",!0)}));let l=s.querySelectorAll("#inpElmBoxShadowX,#inpElmBoxShadowY,#inpElmBoxShadowBlur,#inpElmBoxShadowSpread");Array.prototype.forEach.call(l,(e=>{e.addEventListener("click",(()=>{this.builder.uo.saveForUndo()})),e.addEventListener("keyup",(()=>{let e=this.builder.inspectedElement;this.updateShadow(e),n.refresh(),this.builder.opts.onChange()}))})),l=s.querySelectorAll("#inpElmBoxShadowXUnit,#inpElmBoxShadowYUnit,#inpElmBoxShadowBlurUnit,#inpElmBoxShadowSpreadUnit"),Array.prototype.forEach.call(l,(e=>{e.addEventListener("change",(()=>{this.builder.uo.saveForUndo();let e=this.builder.inspectedElement;this.updateShadow(e),n.refresh(),this.builder.opts.onChange()}))}));s.querySelector("#inpElmBoxShadowInset").addEventListener("change",(()=>{this.builder.uo.saveForUndo();let e=this.builder.inspectedElement;this.updateShadow(e),n.refresh(),this.builder.opts.onChange()}))}updateShadow(e){let t=this.panelStuff;var i=t.querySelector(".input-elm-shadowcolor").style.backgroundColor,n=t.querySelector("#inpElmBoxShadowInset").value,s=t.querySelector("#inpElmBoxShadowX").value,o=t.querySelector("#inpElmBoxShadowXUnit").value,a="";isNaN(s)||""===s||(a=s+o),s=t.querySelector("#inpElmBoxShadowY").value,o=t.querySelector("#inpElmBoxShadowYUnit").value;var l="";isNaN(s)||""===s||(l=s+o),s=t.querySelector("#inpElmBoxShadowBlur").value,o=t.querySelector("#inpElmBoxShadowBlurUnit").value;var r="";isNaN(s)||""===s||(r=s+o),s=t.querySelector("#inpElmBoxShadowSpread").value,o=t.querySelector("#inpElmBoxShadowSpreadUnit").value;var d="";isNaN(s)||""===s||(d=s+o),e.style.boxShadow=(a+" "+l+" "+r+" "+d+" "+i+" "+n).trim()}readElementStyles(e){let t,i,n=this.panelStuff,s=e.style.boxShadow,o=n.querySelectorAll("#inpElmBoxShadowX,#inpElmBoxShadowY,#inpElmBoxShadowBlur,#inpElmBoxShadowSpread");if(Array.prototype.forEach.call(o,(e=>{e.value=""})),o=n.querySelectorAll("#inpElmBoxShadowXUnit,#inpElmBoxShadowYUnit,#inpElmBoxShadowBlurUnit,#inpElmBoxShadowSpreadUnit"),Array.prototype.forEach.call(o,(e=>{e.value="px"})),n.querySelector("#inpElmBoxShadowInset").value="",-1!==s.indexOf("inset")&&(n.querySelector("#inpElmBoxShadowInset").value="inset",s=s.replace("inset","")),""!==s){-1!==s.indexOf("rgb")&&(t=s.substr(s.indexOf("rgb")),t=t.substr(0,t.indexOf(")")+1),n.querySelector(".input-elm-shadowcolor").style.backgroundColor=t,i=s.split("rgb")[1].indexOf(")"),s=s.split("rgb")[0]+s.split("rgb")[1].substr(i+2)),-1!==s.indexOf("#")&&(t=s.substr(s.indexOf("#")),t=t.substr(0,t.indexOf(" ")),n.querySelector(".input-elm-shadowcolor").style.backgroundColor=t,i=s.split("#")[1].indexOf(" "),s=s.split("#")[0]+s.split("#")[1].substr(i+2));let e=s.split(" "),o=e.length;i=1;for(let t=0;t<o;t++)1===i&&(n.querySelector("#inpElmBoxShadowX").value=parseInt(e[t]),-1!==e[t].indexOf("px")?n.querySelector("#inpElmBoxShadowXUnit").value="px":-1!==e[t].indexOf("em")?n.querySelector("#inpElmBoxShadowXUnit").value="em":n.querySelector("#inpElmBoxShadowX").value=""),2===i&&(n.querySelector("#inpElmBoxShadowY").value=parseInt(e[t]),-1!==e[t].indexOf("px")?n.querySelector("#inpElmBoxShadowYUnit").value="px":-1!==e[t].indexOf("em")?n.querySelector("#inpElmBoxShadowYUnit").value="em":n.querySelector("#inpElmBoxShadowY").value=""),3===i&&(n.querySelector("#inpElmBoxShadowBlur").value=parseInt(e[t]),-1!==e[t].indexOf("px")?n.querySelector("#inpElmBoxShadowBlurUnit").value="px":-1!==e[t].indexOf("em")?n.querySelector("#inpElmBoxShadowBlurUnit").value="em":n.querySelector("#inpElmBoxShadowBlur").value=""),4===i&&(n.querySelector("#inpElmBoxShadowSpread").value=parseInt(e[t]),-1!==e[t].indexOf("px")?n.querySelector("#inpElmBoxShadowSpreadUnit").value="px":-1!==e[t].indexOf("em")?n.querySelector("#inpElmBoxShadowSpreadUnit").value="em":n.querySelector("#inpElmBoxShadowSpread").value=""),i++}}}const Cv=new si;class kv{constructor(e){this.builder=e;const t=this.builder.util,i=this.builder.builderStuff;this.util=t,this.builderStuff=i;const n=new dv(e);let s=i.querySelector("#divElementDisplay");this.panelStuff=s;const o=`\n            <div style="margin-top:13px;font-weight:bold;">${t.out("Display")}</div>\n\n            <div class="is-settings" style="width:100%;">\n                <div style="display:flex">\n                    <select id="inpElmDisplay" style="width:110px;">\n                        <option value=""></option>\n                        <option value="block">Block</option>\n                        <option value="inline-block">Inline Block</option>\n                        <option value="inline">Inline</option>\n                        <option value="flex">Flex</option>\n                        <option value="none">None</option>\n                    </select>\n                </div>\n            </div>\n\n            <div style="margin-top:25px;font-weight:bold;width:100%;">${t.out("Flex")}</div>\n\n            <div class="is-settings" style="width:120px;">\n                <div>${t.out("Direction")}:</div>\n                <div style="display:flex">\n                    <select id="inpElmFlexDirection" style="width:110px;">\n                        <option value=""></option>\n                        <option value="row">Row</option>\n                        <option value="row-reverse">Row Reverse</option>\n                        <option value="column">Column</option>\n                        <option value="column-reverse">Column Reverse</option>\n                    </select>\n                </div>\n            </div>\n\n            <div class="is-settings" style="width:120px;">\n                <div>${t.out("Wrap")}:</div>\n                <div style="display:flex">\n                    <select id="inpElmFlexWrap" style="width:110px;">\n                        <option value=""></option>\n                        <option value="no-wrap">No Wrap</option>\n                        <option value="wrap">Wrap</option>\n                        <option value="wrap-reverse">Wrap Reverse</option>\n                    </select>\n                </div>\n            </div>\n\n            <div class="is-settings" style="width:100%;">\n                <div>${t.out("Justify Content")}:</div>\n                <div style="display:flex">\n                    <select id="inpElmJustifyContent" style="width:110px;">\n                        <option value=""></option>\n                        <option value="center">Center</option>\n                        <option value="flex-start">Flex Start</option>\n                        <option value="flex-end">Flex End</option>\n                        <option value="space-around">Space Around</option>\n                        <option value="space-between">Space Between</option>\n                    </select>\n                </div>\n            </div>\n\n            <div class="is-settings" style="width:120px;">\n                <div>${t.out("Align Items")}:</div>\n                <div style="display:flex">\n                    <select id="inpElmAlignItems" style="width:110px;">\n                        <option value=""></option>\n                        <option value="center">Center</option>\n                        <option value="flex-start">Flex Start</option>\n                        <option value="flex-end">Flex End</option>\n                        <option value="stretch">Stretch</option>\n                        <option value="baseline">Baseline</option>\n                    </select>\n                </div>\n            </div>\n\n            <div class="is-settings" style="width:120px;">\n                <div>${t.out("Align Content")}:</div>\n                <div style="display:flex">\n                    <select id="inpElmAlignContent" style="width:110px;">\n                        <option value=""></option>\n                        <option value="center">Center</option>\n                        <option value="flex-start">Flex Start</option>\n                        <option value="flex-end">Flex End</option>\n                        <option value="stretch">Stretch</option>\n                        <option value="space-around">Space Around</option>\n                        <option value="space-between">Space Between</option>\n                    </select>\n                </div>\n            </div>\n        `;Cv.appendHtml(s,o);s.querySelector("#inpElmDisplay").addEventListener("change",(()=>{this.builder.uo.saveForUndo();let e=this.builder.inspectedElement,t=s.querySelector("#inpElmDisplay").value;e.style.display=t,n.refresh(),this.builder.opts.onChange()}));s.querySelector("#inpElmFlexDirection").addEventListener("change",(()=>{this.builder.uo.saveForUndo();let e=this.builder.inspectedElement,t=s.querySelector("#inpElmFlexDirection").value;e.style.flexDirection=t,n.refresh(),this.builder.opts.onChange()}));s.querySelector("#inpElmFlexWrap").addEventListener("change",(()=>{this.builder.uo.saveForUndo();let e=this.builder.inspectedElement,t=s.querySelector("#inpElmFlexWrap").value;e.style.flexWrap=t,n.refresh(),this.builder.opts.onChange()}));s.querySelector("#inpElmJustifyContent").addEventListener("change",(()=>{this.builder.uo.saveForUndo();let e=this.builder.inspectedElement,t=s.querySelector("#inpElmJustifyContent").value;e.style.justifyContent=t,n.refresh(),this.builder.opts.onChange()}));s.querySelector("#inpElmAlignItems").addEventListener("change",(()=>{this.builder.uo.saveForUndo();let e=this.builder.inspectedElement,t=s.querySelector("#inpElmAlignItems").value;e.style.alignItems=t,n.refresh(),this.builder.opts.onChange()}));s.querySelector("#inpElmAlignContent").addEventListener("change",(()=>{this.builder.uo.saveForUndo();let e=this.builder.inspectedElement,t=s.querySelector("#inpElmAlignContent").value;e.style.alignContent=t,n.refresh(),this.builder.opts.onChange()}))}readElementStyles(e){let t=this.panelStuff;const i=t.querySelector("#inpElmDisplay");i.value="";let n=e.style.display;n&&(i.value=n);const s=t.querySelector("#inpElmFlexDirection");s.value="",n=e.style.flexDirection,n&&(s.value=n);const o=t.querySelector("#inpElmFlexWrap");o.value="",n=e.style.flexWrap,n&&(o.value=n);const a=t.querySelector("#inpElmJustifyContent");a.value="",n=e.style.justifyContent,n&&(a.value=n);const l=t.querySelector("#inpElmAlignItems");l.value="",n=e.style.alignItems,n&&(l.value=n);const r=t.querySelector("#inpElmAlignContent");r.value="",n=e.style.alignContent,n&&(r.value=n)}}const Av=new si;class Ev{constructor(e){this.builder=e;const t=this.builder.util,i=this.builder.builderStuff;this.util=t,this.builderStuff=i;const n=new dv(e);let s=i.querySelector("#divElementPosition");this.panelStuff=s;const o=`\n            <div style="margin-top:13px;font-weight:bold;width:100%;">${t.out("Position")}</div>\n\n            <div class="is-settings" style="width:100%;">\n                <div style="display:flex">\n                    <select id="inpElmPosition">\n                        <option value=""></option>\n                        <option value="relative">Relative</option>\n                        <option value="absolute">Absolute</option>\n                        <option value="fixed">Fixed</option>\n                    </select>\n                </div>\n            </div>\n\n            <div class="is-settings" style="width:120px;">\n                <div>${t.out("Top")}:</div>\n                <div style="display:flex">\n                    <input type="text" id="inpElmTop" value="" style="width:45px"/>\n                    <select id="inpElmTopUnit">\n                        <option value="px">px</option>\n                        <option value="em">em</option>\n                        <option value="vw">vw</option>\n                        <option value="vh">vh</option>\n                        <option value="%">%</option>\n                    </select>\n                </div>\n            </div>\n\n            <div class="is-settings" style="width:120px;">\n                <div>${t.out("Left")}:</div>\n                <div style="display:flex">\n                    <input type="text" id="inpElmLeft" value="" style="width:45px"/>\n                    <select id="inpElmLeftUnit">\n                        <option value="px">px</option>\n                        <option value="em">em</option>\n                        <option value="vw">vw</option>\n                        <option value="vh">vh</option>\n                        <option value="%">%</option>\n                    </select>\n                </div>\n            </div>\n\n            <div class="is-settings" style="width:120px;">\n                <div>${t.out("Bottom")}:</div>\n                <div style="display:flex">\n                    <input type="text" id="inpElmBottom" value="" style="width:45px"/>\n                    <select id="inpElmBottomUnit">\n                        <option value="px">px</option>\n                        <option value="em">em</option>\n                        <option value="vw">vw</option>\n                        <option value="vh">vh</option>\n                        <option value="%">%</option>\n                    </select>\n                </div>\n            </div>\n\n            <div class="is-settings" style="width:120px;">\n                <div>${t.out("Right")}:</div>\n                <div style="display:flex">\n                    <input type="text" id="inpElmRight" value="" style="width:45px"/>\n                    <select id="inpElmRightUnit">\n                        <option value="px">px</option>\n                        <option value="em">em</option>\n                        <option value="vw">vw</option>\n                        <option value="vh">vh</option>\n                        <option value="%">%</option>\n                    </select>\n                </div>\n            </div>\n\n            <div style="margin-top: 25px;font-weight: bold;width:100%;">${t.out("Float")}</div>\n\n            <div class="is-settings" style="width:100%;">\n                <div style="display:flex">\n                    <select id="inpElmFloat">\n                        <option value=""></option>\n                        <option value="left">Left</option>\n                        <option value="right">Right</option>\n                        <option value="none">None</option>\n                    </select>\n                </div>\n            </div>\n        `;Av.appendHtml(s,o);s.querySelector("#inpElmPosition").addEventListener("change",(()=>{this.builder.uo.saveForUndo();let e=this.builder.inspectedElement,t=s.querySelector("#inpElmPosition").value;e.style.position=t,n.refresh(),this.builder.opts.onChange()}));s.querySelector("#inpElmFloat").addEventListener("change",(()=>{this.builder.uo.saveForUndo();let e=this.builder.inspectedElement,t=s.querySelector("#inpElmFloat").value;e.style.float=t,n.refresh(),this.builder.opts.onChange()}));const a=s.querySelector("#inpElmTop");a.addEventListener("click",(()=>{this.builder.uo.saveForUndo()}));const l=s.querySelector("#inpElmTopUnit");a.addEventListener("keyup",(()=>{let e=this.builder.inspectedElement,t=a.value,i=l.value;isNaN(t)||""===t?e.style.top="":e.style.top=t+i,n.refresh(),this.builder.opts.onChange()})),l.addEventListener("change",(()=>{this.builder.uo.saveForUndo();let e=this.builder.inspectedElement,t=a.value,i=l.value;isNaN(t)||""===t?e.style.top="":e.style.top=t+i,n.refresh(),this.builder.opts.onChange()}));const r=s.querySelector("#inpElmBottom");r.addEventListener("click",(()=>{this.builder.uo.saveForUndo()}));const d=s.querySelector("#inpElmBottomUnit");r.addEventListener("keyup",(()=>{let e=this.builder.inspectedElement,t=r.value,i=d.value;isNaN(t)||""===t?e.style.bottom="":e.style.bottom=t+i,n.refresh(),this.builder.opts.onChange()})),d.addEventListener("change",(()=>{this.builder.uo.saveForUndo();let e=this.builder.inspectedElement,t=r.value,i=d.value;isNaN(t)||""===t?e.style.bottom="":e.style.bottom=t+i,n.refresh(),this.builder.opts.onChange()}));const c=s.querySelector("#inpElmLeft");c.addEventListener("click",(()=>{this.builder.uo.saveForUndo()}));const u=s.querySelector("#inpElmLeftUnit");c.addEventListener("keyup",(()=>{let e=this.builder.inspectedElement,t=c.value,i=u.value;isNaN(t)||""===t?e.style.left="":e.style.left=t+i,n.refresh(),this.builder.opts.onChange()})),u.addEventListener("change",(()=>{this.builder.uo.saveForUndo();let e=this.builder.inspectedElement,t=c.value,i=u.value;isNaN(t)||""===t?e.style.left="":e.style.left=t+i,n.refresh(),this.builder.opts.onChange()}));const p=s.querySelector("#inpElmRight");p.addEventListener("click",(()=>{this.builder.uo.saveForUndo()}));const h=s.querySelector("#inpElmRightUnit");p.addEventListener("keyup",(()=>{let e=this.builder.inspectedElement,t=p.value,i=h.value;isNaN(t)||""===t?e.style.right="":e.style.right=t+i,n.refresh(),this.builder.opts.onChange()})),h.addEventListener("change",(()=>{this.builder.uo.saveForUndo();let e=this.builder.inspectedElement,t=p.value,i=h.value;isNaN(t)||""===t?e.style.right="":e.style.right=t+i,n.refresh(),this.builder.opts.onChange()}))}readElementStyles(e){let t=this.panelStuff;const i=t.querySelector("#inpElmPosition");i.value="";let n=e.style.position;i.value=n;const s=t.querySelector("#inpElmFloat");s.value="",n=e.style.float,s.value=n;const o=t.querySelector("#inpElmTop"),a=t.querySelector("#inpElmTopUnit");o.value="",a.value="px",n=e.style.top;let l=parseInt(n);isNaN(l)||(-1!==n.indexOf("%")&&(a.value="%"),-1!==n.indexOf("px")&&(a.value="px"),-1!==n.indexOf("vw")&&(a.value="vw"),-1!==n.indexOf("vh")&&(a.value="vh"),-1!==n.indexOf("em")&&(a.value="em"),o.value=l);const r=t.querySelector("#inpElmBottom"),d=t.querySelector("#inpElmBottomUnit");r.value="",d.value="px",n=e.style.bottom;let c=parseInt(n);isNaN(c)||(-1!==n.indexOf("%")&&(d.value="%"),-1!==n.indexOf("px")&&(d.value="px"),-1!==n.indexOf("vw")&&(d.value="vw"),-1!==n.indexOf("vh")&&(d.value="vh"),-1!==n.indexOf("em")&&(d.value="em"),r.value=c);const u=t.querySelector("#inpElmLeft"),p=t.querySelector("#inpElmLeftUnit");u.value="",p.value="px",n=e.style.left;let h=parseInt(n);isNaN(h)||(-1!==n.indexOf("%")&&(p.value="%"),-1!==n.indexOf("px")&&(p.value="px"),-1!==n.indexOf("vw")&&(p.value="vw"),-1!==n.indexOf("vh")&&(p.value="vh"),-1!==n.indexOf("em")&&(p.value="em"),u.value=h);const m=t.querySelector("#inpElmRight"),g=t.querySelector("#inpElmRightUnit");m.value="",g.value="px",n=e.style.right;let b=parseInt(n);isNaN(b)||(-1!==n.indexOf("%")&&(g.value="%"),-1!==n.indexOf("px")&&(g.value="px"),-1!==n.indexOf("vw")&&(g.value="vw"),-1!==n.indexOf("vh")&&(g.value="vh"),-1!==n.indexOf("em")&&(g.value="em"),m.value=b)}}const Lv=new si;class qv{constructor(e){this.builder=e;const t=this.builder.util,i=this.builder.builderStuff;this.util=t,this.builderStuff=i;const n=new dv(e);let s=i.querySelector("#divElementEffect");this.panelStuff=s;const o=`\n            <div style="margin-top:13px;font-weight:bold;">${t.out("Effects")}</div>\n\n            <div class="is-settings" style="width:100%;">\n                <div>${t.out("Opacity")}:</div>\n                <div style="display:flex">\n                    <input type="text" id="inpElmOpacity" value="" style="width:45px"/>\n                </div>\n            </div>\n\n            <div style="margin-top:25px;font-weight:bold;width:100%;">${t.out("Filters")}</div>\n\n            <div class="is-settings" style="width:110px;">\n                <div>${t.out("Blur")}:</div>\n                <div>\n                    <input type="text" id="inpElmBlur" value="" style="width:45px"/> &nbsp;px\n                </div>\n            </div>\n\n            <div class="is-settings" style="width:110px;">\n                <div>${t.out("Brightness")}:</div>\n                <div>\n                    <input type="text" id="inpElmBrightness" value="" style="width:45px"/>\n                </div>\n            </div>\n\n            <div class="is-settings" style="width:110px;">\n                <div>${t.out("Contrast")}:</div>\n                <div>\n                    <input type="text" id="inpElmContrast" value="" style="width:45px"/> &nbsp;%\n                </div>\n            </div>\n\n            <div class="is-settings" style="width:110px;">\n                <div>${t.out("Grayscale")}:</div>\n                <div>\n                    <input type="text" id="inpElmGrayscale" value="" style="width:45px"/> &nbsp;%\n                </div>\n            </div>\n\n            <div class="is-settings" style="width:110px;">\n                <div>${t.out("Hue Rotate")}:</div>\n                <div>\n                    <input type="text" id="inpElmHueRotate" value="" style="width:45px"/> &nbsp;<span style="font-size:12px">deg</span>\n                </div>\n            </div>\n\n            <div class="is-settings" style="width:110px;">\n                <div>${t.out("Invert")}:</div>\n                <div>\n                    <input type="text" id="inpElmInvert" value="" style="width:45px"/> &nbsp;%\n                </div>\n            </div>\n\n            <div class="is-settings" style="width:110px;">\n                <div>${t.out("Saturate")}:</div>\n                <div>\n                    <input type="text" id="inpElmSaturate" value="" style="width:45px"/>\n                </div>\n            </div>\n\n            <div class="is-settings" style="width:110px;">\n                <div>${t.out("Sepia")}:</div>\n                <div>\n                    <input type="text" id="inpElmSepia" value="" style="width:45px"/> &nbsp;%\n                </div>\n            </div>\n        `;Lv.appendHtml(s,o);const a=s.querySelector("#inpElmOpacity");let l;a.addEventListener("click",(()=>{this.builder.uo.saveForUndo()})),a.addEventListener("keyup",(()=>{let e=this.builder.inspectedElement,t=s.querySelector("#inpElmOpacity").value;e.style.opacity=t,n.refresh(),this.builder.opts.onChange()}));const r=s.querySelector("#inpElmBlur");r.addEventListener("click",(()=>{this.builder.uo.saveForUndo()})),r.addEventListener("keyup",(()=>{let e=this.builder.inspectedElement,t=s.querySelector("#inpElmBlur").value,i=e.style.filter;i=i.replace("none","");let o=i.split(" "),a=!1;for(l=0;l<o.length;l++){-1!==o[l].indexOf("blur")&&(isNaN(t)||""===t?o[l]="":o[l]="blur("+t+"px)",a=!0)}if(a)for(i="",l=0;l<o.length;l++)i+=" "+o[l];else i=i+" blur("+t+"px)";""===i.trim()?e.style.filter="none":e.style.filter=i,n.refresh(),this.builder.opts.onChange()}));const d=s.querySelector("#inpElmBrightness");d.addEventListener("click",(()=>{this.builder.uo.saveForUndo()})),d.addEventListener("keyup",(()=>{let e=this.builder.inspectedElement,t=s.querySelector("#inpElmBrightness").value,i=e.style.filter;i=i.replace("none","");let o=i.split(" "),a=!1;for(l=0;l<o.length;l++){-1!==o[l].indexOf("brightness")&&(isNaN(t)||""===t?o[l]="":o[l]="brightness("+t+")",a=!0)}if(a)for(i="",l=0;l<o.length;l++)i+=" "+o[l];else i=i+" brightness("+t+")";""===i.trim()?e.style.filter="none":e.style.filter=i,n.refresh(),this.builder.opts.onChange()}));const c=s.querySelector("#inpElmContrast");c.addEventListener("click",(()=>{this.builder.uo.saveForUndo()})),c.addEventListener("keyup",(()=>{let e=this.builder.inspectedElement,t=s.querySelector("#inpElmContrast").value,i=e.style.filter;i=i.replace("none","");let o=i.split(" "),a=!1;for(l=0;l<o.length;l++){-1!==o[l].indexOf("contrast")&&(isNaN(t)||""===t?o[l]="":o[l]="contrast("+t+"%)",a=!0)}if(a)for(i="",l=0;l<o.length;l++)i+=" "+o[l];else i=i+" contrast("+t+"%)";""===i.trim()?e.style.filter="none":e.style.filter=i,n.refresh(),this.builder.opts.onChange()}));const u=s.querySelector("#inpElmGrayscale");u.addEventListener("click",(()=>{this.builder.uo.saveForUndo()})),u.addEventListener("keyup",(()=>{let e=this.builder.inspectedElement,t=s.querySelector("#inpElmGrayscale").value,i=e.style.filter;i=i.replace("none","");let o=i.split(" "),a=!1;for(l=0;l<o.length;l++){-1!==o[l].indexOf("grayscale")&&(isNaN(t)||""===t?o[l]="":o[l]="grayscale("+t+"%)",a=!0)}if(a)for(i="",l=0;l<o.length;l++)i+=" "+o[l];else i=i+" grayscale("+t+"%)";""===i.trim()?e.style.filter="none":e.style.filter=i,n.refresh(),this.builder.opts.onChange()}));const p=s.querySelector("#inpElmHueRotate");p.addEventListener("click",(()=>{this.builder.uo.saveForUndo()})),p.addEventListener("keyup",(()=>{let e=this.builder.inspectedElement,t=s.querySelector("#inpElmHueRotate").value,i=e.style.filter;i=i.replace("none","");let o=i.split(" "),a=!1;for(l=0;l<o.length;l++){-1!==o[l].indexOf("hue-rotate")&&(isNaN(t)||""===t?o[l]="":o[l]="hue-rotate("+t+"deg)",a=!0)}if(a)for(i="",l=0;l<o.length;l++)i+=" "+o[l];else i=i+" hue-rotate("+t+"deg)";""===i.trim()?e.style.filter="none":e.style.filter=i,n.refresh(),this.builder.opts.onChange()}));const h=s.querySelector("#inpElmInvert");h.addEventListener("click",(()=>{this.builder.uo.saveForUndo()})),h.addEventListener("keyup",(()=>{let e=this.builder.inspectedElement,t=s.querySelector("#inpElmInvert").value,i=e.style.filter;i=i.replace("none","");let o=i.split(" "),a=!1;for(l=0;l<o.length;l++){-1!==o[l].indexOf("invert")&&(isNaN(t)||""===t?o[l]="":o[l]="invert("+t+"%)",a=!0)}if(a)for(i="",l=0;l<o.length;l++)i+=" "+o[l];else i=i+" invert("+t+"%)";""===i.trim()?e.style.filter="none":e.style.filter=i,n.refresh(),this.builder.opts.onChange()}));const m=s.querySelector("#inpElmSaturate");m.addEventListener("click",(()=>{this.builder.uo.saveForUndo()})),m.addEventListener("keyup",(()=>{let e=this.builder.inspectedElement,t=s.querySelector("#inpElmSaturate").value,i=e.style.filter;i=i.replace("none","");let o=i.split(" "),a=!1;for(l=0;l<o.length;l++){-1!==o[l].indexOf("saturate")&&(isNaN(t)||""===t?o[l]="":o[l]="saturate("+t+")",a=!0)}if(a)for(i="",l=0;l<o.length;l++)i+=" "+o[l];else i=i+" saturate("+t+")";""===i.trim()?e.style.filter="none":e.style.filter=i,n.refresh(),this.builder.opts.onChange()}));const g=s.querySelector("#inpElmSepia");g.addEventListener("click",(()=>{this.builder.uo.saveForUndo()})),g.addEventListener("keyup",(()=>{let e=this.builder.inspectedElement,t=s.querySelector("#inpElmSepia").value,i=e.style.filter;i=i.replace("none","");let o=i.split(" "),a=!1;for(l=0;l<o.length;l++){-1!==o[l].indexOf("sepia")&&(isNaN(t)||""===t?o[l]="":o[l]="sepia("+t+"%)",a=!0)}if(a)for(i="",l=0;l<o.length;l++)i+=" "+o[l];else i=i+" sepia("+t+"%)";""===i.trim()?e.style.filter="none":e.style.filter=i,n.refresh(),this.builder.opts.onChange()}))}readElementStyles(e){let t=this.panelStuff;const i=t.querySelector("#inpElmOpacity");i.value="";let n=e.style.opacity;n&&(i.value=n);let s=e.style.filter.split(" ");const o=t.querySelector("#inpElmBlur");o.value="";const a=t.querySelector("#inpElmBrightness");a.value="";const l=t.querySelector("#inpElmGrayscale");l.value="";const r=t.querySelector("#inpElmContrast");r.value="";const d=t.querySelector("#inpElmHueRotate");d.value="";const c=t.querySelector("#inpElmInvert");c.value="";const u=t.querySelector("#inpElmSaturate");u.value="";const p=t.querySelector("#inpElmSepia");let h;p.value="";for(let e=0;e<s.length;e++)n=s[e],-1!==n.indexOf("blur")&&(h=n.replace("blur(","").replace(")",""),h=parseInt(h),o.value=h),-1!==n.indexOf("brightness")&&(h=n.replace("brightness(","").replace(")",""),h=parseInt(h),a.value=h),-1!==n.indexOf("grayscale")&&(h=n.replace("grayscale(","").replace(")",""),h=parseInt(h),l.value=h),-1!==n.indexOf("contrast")&&(h=n.replace("contrast(","").replace(")",""),h=parseInt(h),r.value=h),-1!==n.indexOf("hue-rotate")&&(h=n.replace("hue-rotate(","").replace(")",""),h=parseInt(h),d.value=h),-1!==n.indexOf("invert")&&(h=n.replace("invert(","").replace(")",""),h=parseInt(h),c.value=h),-1!==n.indexOf("saturate")&&(h=n.replace("saturate(","").replace(")",""),h=parseInt(h),u.value=h),-1!==n.indexOf("sepia")&&(h=n.replace("sepia(","").replace(")",""),h=parseInt(h),p.value=h)}}const Tv=new si;class Mv{constructor(e){this.builder=e;const t=this.builder.util,i=this.builder.builderStuff;this.util=t,this.builderStuff=i;let n=i.querySelector("#divElementAttribute");this.panelStuff=n;const s=`\n            <div style="margin-top:13px;font-weight:bold;width:100%;">${t.out("Attributes")}</div>\n\n            <div class="is-settings" style="width:120px;">\n                <div style="width:100%">${t.out("Names")}:</div>\n                <div style="display:flex">\n                    <input type="text" id="inpElmAttr1" value="" style="width:90%"/>\n                </div>\n            </div>\n\n            <div class="is-settings" style="width:120px;">\n                <div style="width:100%">${t.out("Values")}:</div>\n                <div style="display:flex">\n                    <input type="text" id="inpElmAttrVal1" value="" style="width:90%"/>\n                </div>\n            </div>\n\n            <div class="is-settings" style="width:120px;">\n                <div style="display:flex">\n                    <input type="text" id="inpElmAttr2" value="" style="width:90%"/>\n                </div>\n            </div>\n\n            <div class="is-settings" style="width:120px;">\n                <div style="display:flex">\n                    <input type="text" id="inpElmAttrVal2" value="" style="width:90%"/>\n                </div>\n            </div>\n\n            <div class="is-settings" style="width:120px;">\n                <div style="display:flex">\n                    <input type="text" id="inpElmAttr3" value="" style="width:90%"/>\n                </div>\n            </div>\n\n            <div class="is-settings" style="width:120px;">\n                <div style="display:flex">\n                    <input type="text" id="inpElmAttrVal3" value="" style="width:90%"/>\n                </div>\n            </div>\n\n            <div class="is-settings" style="width:120px;">\n                <div style="display:flex">\n                    <input type="text" id="inpElmAttr4" value="" style="width:90%"/>\n                </div>\n            </div>\n\n            <div class="is-settings" style="width:120px;">\n                <div style="display:flex">\n                    <input type="text" id="inpElmAttrVal4" value="" style="width:90%"/>\n                </div>\n            </div>\n\n            <div class="is-settings" style="width:120px;">\n                <div style="display:flex">\n                    <input type="text" id="inpElmAttr5" value="" style="width:90%"/>\n                </div>\n            </div>\n\n            <div class="is-settings" style="width:120px;float:left;">\n                <div style="display:flex">\n                    <input type="text" id="inpElmAttrVal5" value="" style="width:90%"/>\n                </div>\n            </div>\n        `;Tv.appendHtml(n,s);let o=n.querySelectorAll("#inpElmAttr1,#inpElmAttr2,#inpElmAttr3,#inpElmAttr4,#inpElmAttr5,#inpElmAttrVal1,#inpElmAttrVal2,#inpElmAttrVal3,#inpElmAttrVal4,#inpElmAttrVal5");Array.prototype.forEach.call(o,(e=>{e.addEventListener("click",(()=>{this.builder.uo.saveForUndo()})),e.addEventListener("keyup",(()=>{let e=this.builder.inspectedElement;this.updateAttributes(e),this.builder.opts.onChange()}))}))}updateAttributes(e){let t={};Array.prototype.forEach.call(e.attributes,(e=>{t[e.name]=e.value}));for(let i in t)Object.prototype.hasOwnProperty.call(t,i)&&"id"!==i&&"style"!==i&&"class"!==i&&"href"!==i&&"src"!==i&&"contenteditable"!==i&&"data-filename"!==i&&e.removeAttribute(i);const i=this.panelStuff;let n,s;n=i.querySelector("#inpElmAttr1").value,s=i.querySelector("#inpElmAttrVal1").value,""!==n&&e.setAttribute(n,s),n=i.querySelector("#inpElmAttr2").value,s=i.querySelector("#inpElmAttrVal2").value,""!==n&&e.setAttribute(n,s),n=i.querySelector("#inpElmAttr3").value,s=i.querySelector("#inpElmAttrVal3").value,""!==n&&e.setAttribute(n,s),n=i.querySelector("#inpElmAttr4").value,s=i.querySelector("#inpElmAttrVal4").value,""!==n&&e.setAttribute(n,s),n=i.querySelector("#inpElmAttr5").value,s=i.querySelector("#inpElmAttrVal5").value,""!==n&&e.setAttribute(n,s)}readElementStyles(e){const t=this.panelStuff;let i=t.querySelectorAll("#inpElmAttr1,#inpElmAttr2,#inpElmAttr3,#inpElmAttr4,#inpElmAttr5,#inpElmAttrVal1,#inpElmAttrVal2,#inpElmAttrVal3,#inpElmAttrVal4,#inpElmAttrVal5");Array.prototype.forEach.call(i,(e=>{e.value=""}));var n=1;Array.prototype.forEach.call(e.attributes,(e=>{"id"!==e.name&&"style"!==e.name&&"class"!==e.name&&"href"!==e.name&&"src"!==e.name&&"contenteditable"!==e.name&&"data-filename"!==e.name&&"data-saveforundo"!==e.name&&(t.querySelector("#inpElmAttr"+n).value=e.name,t.querySelector("#inpElmAttrVal"+n).value=e.value,n+=1)}))}}const Ov=new si;class Rv{constructor(e){this.builder=e;const t=this.builder.util,i=this.builder.builderStuff;this.util=t,this.builderStuff=i;let n=i.querySelector("#divElementMore");this.panelStuff=n;const s=`\n\n            <div class="is-settings" style="width:100%;margin-bottom:9px;">\n                <div>${t.out("Add Element ID")}:</div>\n                <div>\n                    <input type="text" id="inpElmId" value="" style="width:100%"/>\n                </div>\n            </div>\n\n            <div class="is-settings" style="width:100%;margin-bottom:9px;">\n                <div>${t.out("Add Css Classes")}:</div>\n                <div>\n                    <input type="text" id="inpElmCssClasses" value="" style="width:100%"/>\n                </div>\n            </div>\n\n        `;Ov.appendHtml(n,s);const o=n.querySelector("#inpElmId");o.addEventListener("change",(()=>{let e=this.builder.inspectedElement;this.builder.uo.saveForUndo(),""!==o.value?e.setAttribute("id",o.value):e.removeAttribute("id"),this.builder.opts.onChange()}));const a=n.querySelector("#inpElmCssClasses");a.addEventListener("change",(()=>{let e=this.builder.inspectedElement;this.builder.uo.saveForUndo();let t=[],i=e.getAttribute("data-class");i&&(t=i.split(" "));let n=[],s=a.value;n=s.split(" "),t.forEach((t=>{n.includes(t)||e.classList.remove(t)})),n.forEach((t=>{""!==t&&e.classList.add(t)})),e.setAttribute("data-class",s),""===e.getAttribute("data-class")&&e.removeAttribute("data-class"),this.builder.opts.onChange()}))}readElementStyles(e){let t=this.panelStuff;const i=t.querySelector("#inpElmId");i.value="";const n=e.getAttribute("id");n&&(i.value=n);const s=t.querySelector("#inpElmCssClasses");s.value="";const o=e.getAttribute("data-class");s.value=o}}const Iv=new si;class Bv{constructor(e){this.builder=e;const t=this.builder.util,i=this.builder.builderStuff;this.util=t,this.builderStuff=i;let n=i.querySelector("#divElementAnimation");this.panelStuff=n;const s=`\n            <div style="margin-top:13px;font-weight:bold;">${t.out("Animate")}</div>\n\n            <div class="is-settings" style="width:100%;">\n                <div style="display:flex">\n                    <select id="selElmAnim">\n                        <option value=""></option>\n                        <option value="fade">fade</option>\n                        <option value="fade-up">fade-up</option>\n                        <option value="fade-down">fade-down</option>\n                        <option value="fade-left">fade-left</option>\n                        <option value="fade-right">fade-right</option>\n                        <option value="fade-up-right">fade-up-right</option>\n                        <option value="fade-up-left">fade-up-left</option>\n                        <option value="fade-down-right">fade-down-right</option>\n                        <option value="fade-down-left">fade-down-left</option>\n                        <option value="flip-up">flip-up</option>\n                        <option value="flip-down">flip-down</option>\n                        <option value="flip-left">flip-left</option>\n                        <option value="flip-right">flip-right</option>\n                        <option value="slide-up">slide-up</option>\n                        <option value="slide-down">slide-down</option>\n                        <option value="slide-left">slide-left</option>\n                        <option value="slide-right">slide-right</option>\n                        <option value="zoom-in">zoom-in</option>\n                        <option value="zoom-in-up">zoom-in-up</option>\n                        <option value="zoom-in-down">zoom-in-down</option>\n                        <option value="zoom-in-left">zoom-in-left</option>\n                        <option value="zoom-in-right">zoom-in-right</option>\n                        <option value="zoom-out">zoom-out</option>\n                        <option value="zoom-out-up">zoom-out-up</option>\n                        <option value="zoom-out-down">zoom-out-down</option>\n                        <option value="zoom-out-left">zoom-out-left</option>\n                        <option value="zoom-out-right">zoom-out-right</option>\n                    </select>\n                </div>\n            </div>\n\n            <div class="is-settings" style="width:110px;">\n                <div> ${t.out("Delay")}:</div>\n                <div>\n                    <select id="selElmAnimDelay">\n                        <option value=""></option>\n                        <option value="0">0</option>\n                        <option value="100">100</option>\n                        <option value="200">200</option>\n                        <option value="300">300</option>\n                        <option value="400">400</option>\n                        <option value="500">500</option>\n                        <option value="600">600</option>\n                        <option value="700">700</option>\n                        <option value="800">800</option>\n                        <option value="900">900</option>\n                        <option value="1000">1000</option>\n                        <option value="1100">1100</option>\n                        <option value="1200">1200</option>\n                        <option value="1300">1300</option>\n                        <option value="1400">1400</option>\n                        <option value="1500">1500</option>\n                        <option value="1600">1600</option>\n                        <option value="1700">1700</option>\n                        <option value="1800">1800</option>\n                        <option value="1900">1900</option>\n                        <option value="2000">2000</option>\n                        <option value="2100">2100</option>\n                        <option value="2200">2200</option>\n                        <option value="2300">2300</option>\n                        <option value="2400">2400</option>\n                        <option value="2500">2500</option>\n                        <option value="2600">2600</option>\n                        <option value="2700">2700</option>\n                        <option value="2800">2800</option>\n                        <option value="2900">2900</option>\n                        <option value="3000">3000</option>\n                    </select> &nbsp;ms\n                </div>\n            </div>\n\n            <div class="is-settings" style="width:110px;">\n                <div> ${t.out("Duration")}:</div>\n                <div>\n                    <select id="selElmAnimDuration">\n                        <option value=""></option>\n                        <option value="0">0</option>\n                        <option value="100">100</option>\n                        <option value="200">200</option>\n                        <option value="300">300</option>\n                        <option value="400">400</option>\n                        <option value="500">500</option>\n                        <option value="600">600</option>\n                        <option value="700">700</option>\n                        <option value="800">800</option>\n                        <option value="900">900</option>\n                        <option value="1000">1000</option>\n                        <option value="1100">1100</option>\n                        <option value="1200">1200</option>\n                        <option value="1300">1300</option>\n                        <option value="1400">1400</option>\n                        <option value="1500">1500</option>\n                        <option value="1600">1600</option>\n                        <option value="1700">1700</option>\n                        <option value="1800">1800</option>\n                        <option value="1900">1900</option>\n                        <option value="2000">2000</option>\n                        <option value="2100">2100</option>\n                        <option value="2200">2200</option>\n                        <option value="2300">2300</option>\n                        <option value="2400">2400</option>\n                        <option value="2500">2500</option>\n                        <option value="2600">2600</option>\n                        <option value="2700">2700</option>\n                        <option value="2800">2800</option>\n                        <option value="2900">2900</option>\n                        <option value="3000">3000</option>\n                    </select> &nbsp;ms\n                </div>\n            </div>\n\n            <div class="is-settings" style="width:100%;">\n                <div style="margin-top:15px">\n                    <label for="chkAnimateOnce"><input type="checkbox" id="chkAnimateOnce" value=""> ${t.out("Animate Once")} </label>\n                </div>\n            </div>\n\n            <div class="is-settings" style="width:100%;">\n                <div style="display:flex">\n                    <button title="${t.out("Test")}" id="btnPreviewAnim" class="classic" value=""> ${t.out("TEST")} </button>\n                </div>\n            </div>\n        `;Iv.appendHtml(n,s);let o=n.querySelector("#selElmAnim");o.addEventListener("change",(()=>{this.builder.uo.saveForUndo();let e=this.builder.inspectedElement,t=n.querySelector("#selElmAnim").value;""===t?e.removeAttribute("data-aos"):(e.setAttribute("data-aos",t),n.querySelector("#btnPreviewAnim").click()),this.builder.opts.onChange()})),o=n.querySelector("#selElmAnimDelay"),o.addEventListener("change",(()=>{this.builder.uo.saveForUndo();let e=this.builder.inspectedElement,t=n.querySelector("#selElmAnimDelay").value;""===t?e.removeAttribute("data-aos-delay"):e.setAttribute("data-aos-delay",t),this.builder.opts.onChange()})),o=n.querySelector("#selElmAnimDuration"),o.addEventListener("change",(()=>{this.builder.uo.saveForUndo();let e=this.builder.inspectedElement,t=n.querySelector("#selElmAnimDuration").value;""===t?e.removeAttribute("data-aos-duration"):e.setAttribute("data-aos-duration",t),this.builder.opts.onChange()}));let a=n.querySelector("#chkAnimateOnce");a.addEventListener("click",(()=>{this.builder.uo.saveForUndo();let e=this.builder.inspectedElement;n.querySelector("#chkAnimateOnce").checked?e.setAttribute("data-aos-once","true"):e.removeAttribute("data-aos-once"),this.builder.opts.onChange()})),a=n.querySelector("#btnPreviewAnim"),a.addEventListener("click",(()=>{let e=this.builder.inspectedElement,t=e.getAttribute("data-aos-duration");e.removeAttribute("data-aos-duration"),e.style.visibility="hidden",window.AOS&&window.AOS.init({duration:1}),Iv.removeClass(e,"aos-init"),Iv.removeClass(e,"aos-animate"),setTimeout((function(){e.style.visibility="",window.AOS&&window.AOS.init({duration:1200}),t&&e.setAttribute("data-aos-duration",t)}),10)}))}readElementStyles(e){this.panelStuff.querySelector("#selElmAnimDelay").value="";let t=e.getAttribute("data-aos-delay");this.panelStuff.querySelector("#selElmAnimDelay").value=t,this.panelStuff.querySelector("#selElmAnimDuration").value="",t=e.getAttribute("data-aos-duration"),this.panelStuff.querySelector("#selElmAnimDuration").value=t,this.panelStuff.querySelector("#chkAnimateOnce").checked=!1;let i=e.getAttribute("data-aos-once");i&&"true"===i&&(this.panelStuff.querySelector("#chkAnimateOnce").checked=!0),this.panelStuff.querySelector("#selElmAnim").value="",t=e.getAttribute("data-aos"),this.panelStuff.querySelector("#selElmAnim").value=t}}const Nv=new si;let $v=[];class zv{constructor(e){this.builder=e;const t=this.builder.util,i=this.builder.builderStuff;this.util=t,this.builderStuff=i;let n=i.querySelector(".elementstyles");if(!n){let s=`\n            <div class="is-side${"right"===this.builder.opts.sidePanel?"":" fromleft"} elementstyles" style="display:none;" tabindex="-1" role="dialog" aria-modal="true" aria-hidden="true">\n                    <div class="elm-list" style="z-index:1;width:100%;height:100px;position:absolute;top:0px;left:0px;box-sizing:border-box;display:flex;align-items:center;flex-wrap: wrap;padding:10px 23px 10px 18px;"></div>\n                    \n                    <button tabindex="-1" title="${t.out("Close")}" class="is-side-close" style="z-index:1;background:transparent;width:25px;height:25px;position:absolute;top:10px;right:13px;box-sizing:border-box;padding:0;line-height:25px;font-size: 12px;text-align:center;cursor:pointer;"><svg class="is-icon-flex" style="width:25px;height:25px;"><use xlink:href="#ion-ios-close-empty"></use></svg></button>\n                    \n                    <div style="position: absolute;bottom:7px;right:7px;width:40px;height:25px;z-index:1;display:flex">\n                        <button title="${t.out("css")}" class="elm-editstyle classic" style="width: 40px;height: 25px;font-family: sans-serif;font-size: 10px;padding: 0px;font-weight: bold;">${t.out("css")}</button>\n                    </div>\n                        \n                    <div style="width:100%;height:100%;overflow-y:auto;overflow-x:hidden;position:absolute;top:0px;left:0px;box-sizing:border-box;border-top:100px solid transparent;padding:0px;">\n                            \n                        <div class="is-tabs" data-group="element" style="padding-right:0;padding-bottom:0;">\n                            <a title="${t.out("General")}" id="tabElementGeneral" href="" data-content="divElementGeneral" class="active">${t.out("General")}</a>\n                            <a title="${t.out("Box")}" id="tabElementBox" href="" data-content="divElementBox">${t.out("Box")}</a>\n                            <a title="${t.out("Spacing")}" id="tabElementSpacing" href="" data-content="divElementSpacing">${t.out("Spacing")}</a>\n                            <a title="${t.out("Text")}" id="tabElementText" href="" data-content="divElementText">${t.out("Text")}</a>\n                            <a title="${t.out("More")}" id="tabElementMore" data-menu="divElementMoreItems" href=""><svg class="is-icon-flex" style="width:15px;height:15px;"><use xlink:href="#ion-more"></use></svg></a>\n                        </div>\n                        \n                        <ul id="divElementMoreItems" style="top: 50px;left: 140px;" class="is-tabs-more" data-group="element" tabindex="-1" aria-modal="true" aria-hidden="true">\n                            <li title="${t.out("Border")}" id="tabElementBorder" data-content="divElementBorder" tabindex="0">${t.out("Border")}</li>\n                            <li title="${t.out("Corners")}" id="tabElementCorner" data-content="divElementCorner" tabindex="0">${t.out("Corners")}</li>\n                            <li title="${t.out("Shadow")}" id="tabElementShadow" data-content="divElementShadow" tabindex="0">${t.out("Shadow")}</li>\n                            <li title="${t.out("Display")}" id="tabElementDisplay" data-content="divElementDisplay" tabindex="0">${t.out("Display")}</li>\n                            <li title="${t.out("Position")}" id="tabElementPosition" data-content="divElementPosition" tabindex="0">${t.out("Position")}</li>\n                            <li title="${t.out("Effects")}" id="tabElementEffect" data-content="divElementEffect" tabindex="0">${t.out("Effects")}</li>\n                            <li style="display:none" title="${t.out("Attributes")}" id="tabElementAttribute" data-content="divElementAttribute" tabindex="0">${t.out("Attributes")}</li>\n                            ${!0===this.builder.opts.elementAnimate?`<li title="${t.out("Animation")}" id="tabElementAnimation" data-content="divElementAnimation" tabindex="0">${t.out("Animation")}</li>`:""}\n                            <li title="${t.out("More")}" id="tabElementMore" data-content="divElementMore" tabindex="0">${t.out("More")}</li>\n                        </ul>\n                        \n                        <div id="divElementGeneral" class="is-tab-content active" tabindex="-1" data-group="element" style="display:flex;flex-flow:wrap;padding:12px 20px;">\n                        </div>\n                        \n                        <div id="divElementBox" class="is-tab-content active" tabindex="-1" data-group="element" style="display:none;flex-flow:wrap;padding:12px 20px;">\n                        </div>\n\n                        <div id="divElementSpacing" class="is-tab-content" tabindex="-1" data-group="element" style="display:none;flex-flow:wrap;padding:12px 20px;">\n                        </div>\n\n                        <div id="divElementBorder" class="is-tab-content" tabindex="-1" data-group="element" style="display:none;flex-flow:wrap;padding:12px 20px;">\n                        </div>\n\n                        <div id="divElementText" class="is-tab-content" tabindex="-1" data-group="element" style="display:none;flex-flow:wrap;padding:12px 20px;">\n                        </div>\n\n                        <div id="divElementCorner" class="is-tab-content" tabindex="-1" data-group="element" style="display:none;flex-flow:wrap;padding:12px 20px;">\n                        </div>\n\n                        <div id="divElementShadow" class="is-tab-content" tabindex="-1" data-group="element" style="display:none;flex-flow:wrap;padding:12px 20px;">\n                        </div>\n                        \n                        <div id="divElementDisplay" class="is-tab-content" tabindex="-1" data-group="element" style="display:none;flex-flow:wrap;padding:12px 20px;">\n                        </div>\n                        \n                        <div id="divElementPosition" class="is-tab-content" tabindex="-1" data-group="element" style="display:none;flex-flow:wrap;padding:12px 20px;">\n                        </div>\n                        \n                        <div id="divElementEffect" class="is-tab-content" tabindex="-1" data-group="element" style="display:none;flex-flow:wrap;padding:12px 20px;">\n                        </div>\n                        \n                        <div id="divElementAttribute" class="is-tab-content" tabindex="-1" data-group="element" style="display:none;flex-flow:wrap;padding:12px 20px;">\n                        </div>\n                        \n                        <div id="divElementAnimation" class="is-tab-content" tabindex="-1" data-group="element" style="display:none;flex-flow:wrap;padding:12px 20px;">\n                        </div>\n\n                        <div id="divElementMore" class="is-tab-content" tabindex="-1" data-group="element" style="display:none;flex-flow:wrap;padding:12px 20px;">\n                        </div>\n                    </div>\n            </div>              \n            `;Nv.appendHtml(i,s),this.elementStyleEditor=new dv(e),n=i.querySelector(".elementstyles");let o=n.querySelector(".is-side-close");Nv.addEventListener(o,"click",(()=>{this.hidePanel()})),o=n.querySelector(".elm-editstyle"),Nv.addEventListener(o,"click",(()=>{this.elementStyleEditor.toggleStyleEditor()}))}this.panel=n;const s=new hv(e);this.elementBoxStyles=s;const o=new uv(e);this.elementGeneralStyles=o;const a=new gv(e);this.elementSpacingStyles=a;const l=new fv(e);this.elementBorderStyles=l;const r=new yv(e);this.elementTextStyles=r;const d=new _v(e);this.elementCornerStyles=d;const c=new Sv(e);this.elementShadowStyles=c;const u=new kv(e);this.elementDisplayStyles=u;const p=new Ev(e);this.elementPositionStyles=p;const h=new qv(e);this.elementEffectStyles=h;const m=new Mv(e);this.elementAttributeStyles=m;const g=new Rv(e);this.elementMoreStyles=g;const b=new Bv(e);this.elementAnimationStyles=b}click(){(Nv.hasClass(this.panel,"active")||Nv.hasClass(this.elementStyleEditor.modalStyles,"active"))&&this.inspect(this.builder.inspectedElement)}inspect(e){this.elementGeneralStyles.readElementStyles(e),this.elementBoxStyles.readElementStyles(e),this.elementSpacingStyles.readElementStyles(e),this.elementBorderStyles.readElementStyles(e),this.elementTextStyles.readElementStyles(e),this.elementCornerStyles.readElementStyles(e),this.elementShadowStyles.readElementStyles(e),this.elementDisplayStyles.readElementStyles(e),this.elementPositionStyles.readElementStyles(e),this.elementEffectStyles.readElementStyles(e),this.elementAttributeStyles.readElementStyles(e),this.elementMoreStyles.readElementStyles(e),this.elementAnimationStyles.readElementStyles(e);let t=this.panel,i=this.builder.doc.querySelectorAll("[data-saveforundo]");Array.prototype.forEach.call(i,(e=>{e.removeAttribute("data-saveforundo")})),e.setAttribute("data-saveforundo",""),i=this.builder.doc.querySelectorAll(".elm-inspected"),Array.prototype.forEach.call(i,(e=>{Nv.removeClass(e,"elm-inspected")})),setTimeout((()=>{Nv.addClass(e,"elm-inspected")}),10),t.querySelector(".elm-list").innerHTML="";let n=e,s=0;for($v=[];!Nv.hasClass(n,"is-builder")&&($v.push(n),n)&&n.tagName;){var o=n.tagName.toLowerCase(),a=Nv.createElement("a");a.setAttribute("data-index",s),s++,a.setAttribute("href","#"),a.innerHTML=o,""===t.querySelector(".elm-list").innerHTML?(Nv.addClass(a,"active"),t.querySelector(".elm-list").insertAdjacentHTML("afterbegin",a.outerHTML)):(t.querySelector(".elm-list").insertAdjacentHTML("afterbegin","&nbsp;>&nbsp; "),t.querySelector(".elm-list").insertAdjacentHTML("afterbegin",a.outerHTML)),n=n.parentNode}const l=t.querySelectorAll(".elm-list a");Array.prototype.forEach.call(l,(e=>{Nv.addEventListener(e,"click",(t=>{let i=e.getAttribute("data-index");this.builder.inspectedElement=$v[i],this.inspect($v[i]),this.builder.doc.querySelector(".elm-inspected.elm-active")||(this.builderStuff.querySelector(".is-element-tool").style.display="none"),t.preventDefault(),t.stopImmediatePropagation()}))})),this.elementStyleEditor.refresh()}showPanel(){var e=this.builderStuff.querySelector(".is-side.elementstyles");e.style.display="block";let t=this.builderStuff.querySelectorAll(".is-side");Array.prototype.forEach.call(t,(e=>{Nv.removeClass(e,"active")})),setTimeout((()=>{Nv.addClass(e,"active");let t=e.querySelector(".is-tab-content.active");t.focus(),this.builder.tabs.setupTabKey(t);e.addEventListener("keydown",(e=>{27===e.keyCode&&this.hidePanel()}))}),10),this.inspect(this.builder.inspectedElement)}hidePanel(){var e=this.builderStuff.querySelector(".is-side.elementstyles");Nv.removeClass(e,"active");let t=this.builder.doc.querySelectorAll("[data-saveforundo]");Array.prototype.forEach.call(t,(e=>{e.removeAttribute("data-saveforundo")})),t=this.builder.doc.querySelectorAll(".elm-inspected"),Array.prototype.forEach.call(t,(e=>{Nv.removeClass(e,"elm-inspected")}))}}class Pv{constructor(e){this.builder=e;const t=this.builder.util,i=this.builder.builderStuff;this.util=t,this.builderStuff=i;const n=this.builder.dom;this.dom=n;const s=new zv(e);this.elementPanel=s;let o=i.querySelector(".is-element-tool"),a=i.querySelector(".elmmore");if(!o){let e=`<div class="is-tool is-element-tool">\n                <button type="button" tabindex="-1" title="${t.out("Add")}" class="elm-add"><svg class="is-icon-flex"><use xlink:href="#ion-ios-plus-empty"></use></svg></button>\n                <button type="button" tabindex="-1" title="${t.out("More")}" class="elm-more"><svg class="is-icon-flex"><use xlink:href="#ion-more"></use></svg></button>\n                <button type="button" tabindex="-1" title="${t.out("Delete")}" class="elm-remove"><svg class="is-icon-flex" style="margin-left:-1px"><use xlink:href="#ion-ios-close-empty"></use></svg></button>\n                <button type="button" tabindex="-1" title="${t.out("Settings")}" class="elm-settings"><svg class="is-icon-flex"><use xlink:href="#ion-ios-gear"></use></svg></button>\n            </div>\n            <div class="is-pop elmmore" style="z-index:10002;" tabindex="-1" role="dialog" aria-modal="true" aria-hidden="true">\n                <div style="display:flex;flex-flow:wrap;">\n                    <button type="button" title="${t.out("Move Up")}" class="elm-up"><span><svg class="is-icon-flex" style="width:15px;height:15px;"><use xlink:href="#ion-ios-arrow-thin-up"></use></svg></span>${t.out("Move Up")}</button>\n                    <button type="button" title="${t.out("Move Down")}" class="elm-down"><span><svg class="is-icon-flex" style="width:15px;height:15px;"><use xlink:href="#ion-ios-arrow-thin-down"></use></svg></span>${t.out("Move Down")}</button>\n                    <button type="button" title="${t.out("Duplicate")}" class="elm-duplicate"><span><svg class="is-icon-flex" style="width:12px;height:12px;"><use xlink:href="#ion-ios-photos-outline"></use></svg></span>${t.out("Duplicate")}</button>\n                    ${this.builder.opts.elementEditor?`\n                    <button type="button" title="${t.out("Settings")}" class="elm-settings"><span><svg class="is-icon-flex" style="width:12px;height:12px;"><use xlink:href="#ion-ios-gear"></use></svg></span>${t.out("Settings")}</button>\n                    `:""} \n                </div>\n            </div>\n            `;n.appendHtml(i,e),o=this.builder.iframe?this.builder.contentStuff.querySelector(".is-element-tool"):i.querySelector(".is-element-tool"),a=i.querySelector(".elmmore");let s=o.querySelectorAll("[title]");Array.prototype.forEach.call(s,(e=>{e.setAttribute("data-title",e.getAttribute("title"))}))}this.elementTool=o,this.elementMore=a;const l=Oo(e),r=o.querySelector(".elm-add");n.addEventListener(r,"click",(()=>{l.querySelector(".is-pop-tabs").style.display="none";const e=window.innerHeight;let i,s;if(this.builder.iframe){let e=this.builder.iframe.getBoundingClientRect().top,t=this.builder.iframe.getBoundingClientRect().left;i=r.getBoundingClientRect().top+e,s=r.getBoundingClientRect().left+t}else i=r.getBoundingClientRect().top,s=r.getBoundingClientRect().left;t.showPop(l,!1,r);const o=l.offsetWidth,a=l.offsetHeight;return e-i>a?(l.style.top=i+window.pageYOffset+27+"px",l.style.left=s-o/2+10+"px",n.removeClass(l,"arrow-bottom"),n.removeClass(l,"arrow-right"),n.removeClass(l,"arrow-left"),n.removeClass(l,"center"),n.addClass(l,"arrow-top"),n.addClass(l,"center")):(l.style.top=i+window.pageYOffset-a-8+"px",l.style.left=s-o/2+10+"px",n.removeClass(l,"arrow-top"),n.removeClass(l,"arrow-right"),n.removeClass(l,"arrow-left"),n.removeClass(l,"center"),n.addClass(l,"arrow-bottom"),n.addClass(l,"center")),l.setAttribute("data-mode","elm"),!1}));const d=o.querySelector(".elm-remove");n.addEventListener(d,"click",(()=>{t.confirm(t.out("Are you sure you want to delete this element?"),(e=>{if(e){this.builder.uo.saveForUndo();let e=this.builder.activeElement,s=!1;e.closest(".is-subblock")&&(s=!0),e.parentNode.removeChild(e),this.elementTool.style.display="none";let o=this.builder.activeCol;if(o){let e=o.parentNode;0===o.childElementCount&&4===e.childElementCount?(e.parentNode.removeChild(e),t.checkEmpty()):0===o.childElementCount&&(e.removeChild(o),t.fixLayout(e))}const a=this.builder.doc.querySelectorAll(".is-subblock");if(Array.prototype.forEach.call(a,(e=>{const t=n.elementChildren(e);let i=!0;t.forEach((()=>{i=!1})),i&&(e.innerHTML='<div class="spacer height-40" contentEditable="false"></div>')})),t.clearControls(),s){let e=this.builder.activeCol,n=e.querySelectorAll("[data-subblock]");var i=1;Array.prototype.forEach.call(n,(t=>{if(t.closest(".glide__slide--clone"))return;let n=t.innerHTML;e.setAttribute("data-html-"+i,encodeURIComponent(n)),i++})),t.refreshModuleLayout(e)}this.builder.opts.onChange()}}))}));const c=o.querySelector(".elm-more");n.addEventListener(c,"click",(()=>{const e=window.innerHeight;let i,s;if(this.builder.iframe){let e=this.builder.iframe.getBoundingClientRect().top,t=this.builder.iframe.getBoundingClientRect().left;i=c.getBoundingClientRect().top+e,s=c.getBoundingClientRect().left+t}else i=c.getBoundingClientRect().top,s=c.getBoundingClientRect().left;t.showPop(a,!1,c);const o=a.offsetWidth,l=a.offsetHeight;e-i>l?(a.style.top=i+window.pageYOffset+27+"px",a.style.left=s-o/2+10+"px",n.removeClass(a,"arrow-bottom"),n.removeClass(a,"arrow-right"),n.removeClass(a,"arrow-left"),n.removeClass(a,"center"),n.addClass(a,"arrow-top"),n.addClass(a,"center")):(a.style.top=i+window.pageYOffset-l-8+"px",a.style.left=s-o/2+10+"px",n.removeClass(a,"arrow-top"),n.removeClass(a,"arrow-right"),n.removeClass(a,"arrow-left"),n.removeClass(a,"center"),n.addClass(a,"arrow-bottom"),n.addClass(a,"center"))}));const u=a.querySelector(".elm-up");n.addEventListener(u,"click",(()=>{let e=this.builder.activeElement;if(e.previousElementSibling)this.builder.uo.saveForUndo(),e.parentNode.insertBefore(e,e.previousElementSibling),setTimeout((()=>{this.position()}),30),this.builder.opts.onChange();else{let t=e;for(;!n.hasClass(t.parentNode,"cell-active")&&!t.parentNode.hasAttribute("data-subblock");)t=t.parentNode;t.previousElementSibling&&t!==e&&(this.builder.uo.saveForUndo(),t.parentNode.insertBefore(t,t.previousElementSibling),setTimeout((()=>{this.position()}),30),this.builder.opts.onChange())}}));const p=a.querySelector(".elm-down");n.addEventListener(p,"click",(()=>{let e=this.builder.activeElement;if(e.nextElementSibling)this.builder.uo.saveForUndo(),e.parentNode.insertBefore(e.nextElementSibling,e),setTimeout((()=>{this.position()}),30),this.builder.opts.onChange();else{let t=e;for(;!n.hasClass(t.parentNode,"cell-active")&&!t.parentNode.hasAttribute("data-subblock");)t=t.parentNode;t.nextElementSibling&&t!==e&&(this.builder.uo.saveForUndo(),t.parentNode.insertBefore(t.nextElementSibling,t),setTimeout((()=>{this.position()}),30),this.builder.opts.onChange())}}));const h=a.querySelector(".elm-duplicate");n.addEventListener(h,"click",(()=>{this.builder.uo.saveForUndo();let e=this.builder.activeElement;const t=e.cloneNode(!0);n.moveAfter(t,e),setTimeout((()=>{t.click(),this.position(t);let e=this.builder.doc.querySelector(".builder-active");e&&this.builder.applyBehaviorOn(e),this.builder.opts.onChange()}),100)}));const m=o.querySelector(".elm-settings");m&&n.addEventListener(m,"click",(()=>{t.hidePop(a),this.elementPanel.showPanel()}));const g=a.querySelector(".elm-settings");g&&n.addEventListener(g,"click",(()=>{t.hidePop(a),this.elementPanel.showPanel()}))}hide(){const e=this.dom;this.elementTool.style.display="";let t=this.builder.doc.querySelectorAll(".elm-active");Array.prototype.forEach.call(t,(t=>{e.removeClass(t,"elm-active")}))}position(){const e=this.dom;let t=this.elementTool,i=this.elementMore;e.addClass(i,"transition1");let n=t.querySelector(".elm-more");const s=window.innerHeight;let o,a;if(this.builder.iframe){let e=this.builder.iframe.getBoundingClientRect().top,t=this.builder.iframe.getBoundingClientRect().left;o=n.getBoundingClientRect().top,a=n.getBoundingClientRect().left,o+=e,a+=t}else o=n.getBoundingClientRect().top,a=n.getBoundingClientRect().left;const l=t.querySelector(".elm-more");this.util.showPop(i,!1,l);const r=i.offsetWidth,d=i.offsetHeight;s-o>d?(i.style.top=o+window.pageYOffset+27+"px",i.style.left=a-r/2+10+"px",e.removeClass(i,"arrow-bottom"),e.removeClass(i,"arrow-right"),e.removeClass(i,"arrow-left"),e.removeClass(i,"center"),e.addClass(i,"arrow-top"),e.addClass(i,"center")):(i.style.top=o+window.pageYOffset-d-8+"px",i.style.left=a-r/2+10+"px",e.removeClass(i,"arrow-top"),e.removeClass(i,"arrow-right"),e.removeClass(i,"arrow-left"),e.removeClass(i,"center"),e.addClass(i,"arrow-bottom"),e.addClass(i,"center")),setTimeout((()=>{e.removeClass(i,"transition1")}),300)}click(e,t){const i=this.dom,n=t.target;this.elementTool.style.display="none";let s=this.builder.doc.querySelectorAll(".elm-active");Array.prototype.forEach.call(s,(e=>{i.removeClass(e,"elm-active")}));let o=null,a=!1;e.hasAttribute("data-noedit")&&(a=!0);let l=!1;e.hasAttribute("data-protected")&&(l=!0);let r=!1;e.hasAttribute("data-html")&&(r=!0);let d=!1;if(i.parentsHasClass(n,"is-subblock")&&(d=!0),(r||a||l)&&!d);else{const e=n.tagName.toLowerCase();if("h1"===e||"h2"===e||"h3"===e||"h4"===e||"h5"===e||"h6"===e||"p"===e||"pre"===e||"blockquote"===e||"li"===e||"img"===e||"iframe"===e){if(o=n,"img"===e){i.hasClass(n.parentNode,"img-circular")&&(o=n.parentNode),i.getParentByTag(n,"a")&&(o=n.parentNode)}}else if(i.hasClass(n,"cell-active")||n.hasAttribute("data-subblock"));else if(i.hasClass(n,"cell-active")||n.parentNode.hasAttribute("data-subblock"))o=n;else{let e=n;for(;"BODY"!==e.tagName&&"HTML"!==e.tagName;){let t=e.tagName.toLowerCase();if(i.hasClass(e,"spacer")||"h1"===t||"h2"===t||"h3"===t||"h4"===t||"h5"===t||"h6"===t||"p"===t||"pre"===t||"blockquote"===t||"li"===t||"img"===t||"iframe"===t){o=e;break}if(i.hasClass(e.parentNode,"cell-active")||e.parentNode.hasAttribute("data-subblock")){o=e;break}e=e.parentNode}}}if(this.builder.activeElement=o,o){let e=o;this.pos(),i.addClass(e,"elm-active")}this.builder.inspectedElement=t.target,this.elementPanel.click(t)}refresh(){if(this.builder.activeElement){this.elementTool.style.display="",setTimeout((()=>{this.pos()}),300)}}repositionElementTool(e){if(this.builder.activeElement)try{if(e){"flex"===this.elementTool.style.display&&this.pos()}else this.pos()}catch(e){}}pos(){let e,t,i=this.elementTool,n=this.builder.activeElement;if(n.closest(".is-dock"))return;this.builder.iframe?(e=n.getBoundingClientRect().top+this.builder.win.pageYOffset,t=n.getBoundingClientRect().left+this.builder.win.pageXOffset):(e=n.getBoundingClientRect().top+window.pageYOffset,t=n.getBoundingClientRect().left+window.pageXOffset);const s=n.offsetWidth*this.builder.opts.zoom,o=n.offsetHeight*this.builder.opts.zoom;i.style.display="flex",i.style.top=e+o+"px",i.style.left=t+s-i.offsetWidth+"px";const a=window.innerWidth;t+s>a&&(i.style.left=a-i.offsetWidth+"px")}}class Hv{constructor(e){this.builder=e;const t=this.builder.util,i=this.builder.builderStuff,n=this.builder.dom;this.dom=n;let s="";if(this.builder.themes){s='<div class="div-themes">';let e=0;this.builder.themes.forEach((i=>{""===i[1]?s+=`<button type="button" title="${t.out("Set theme")}" class="input-setcolor" data-index="${e}" style="background:${i[0]};border:rgba(0,0,0,0.15) 1px solid;"></button>`:"light"===i[1]?s+=`<button type="button" title="${t.out("Set theme")}" class="input-setcolor" data-index="${e}" style="background:${i[0]};border:rgb(132 132 132 / 16%) 1px solid;"></button>`:s+=`<button type="button" title="${t.out("Set theme")}" class="input-setcolor" data-index="${e}" style="background:${i[0]};"></button>`,e++})),s+="</div>"}let o=i.querySelector(".viewconfig");if(!o){let a=`<div class="is-modal viewconfig" tabindex="-1" role="dialog" aria-modal="true" aria-hidden="true">\n                <div class="is-modal-content">\n                    <div class="is-modal-bar is-draggable">${t.out("Preferences")}</div>\n                \n                    <div style="display:flex;flex-wrap:wrap;width:100%;padding-top:32px;">\n                        <div style="width:50%">\n                            <label id="divBuilderMode" style="display:block;margin-top:10px;margin-bottom:5px;">\n                                ${t.out("Builder Mode")}:&nbsp;\n                                <select class="select-buildermode">\n                                    <option value="">${t.out("Default")}</option>\n                                    <option value="minimal">${t.out("Minimal")}</option>\n                                    <option value="clean">${t.out("Clean")}</option>\n                                </select>\n                            </label>\n                            \n                            <label id="divOutlineMode" style="display:block;margin-top:10px;margin-bottom:5px;">\n                                ${t.out("Outline Mode")}:&nbsp;\n                                <select class="select-outlinemode">\n                                    <option value="">${t.out("Row & column")}</option>\n                                    <option value="row">${t.out("Row only")}</option>\n                                </select>\n                            </label>\n\n                            <label style="display:block;margin-top:10px;margin-bottom:5px;">\n                                ${t.out("Outline Style")}:&nbsp;\n                                <select class="select-outlinestyle">\n                                    <option value="">${t.out("Colored")}</option>\n                                    <option value="grayoutline">${t.out("Gray")}</option>\n                                </select>\n                            </label>\n                            \n                            <label style="display:block;margin-top:10px;margin-bottom:10px;">\n                                <input class="input-hiderowcoloutline" type="checkbox" /> ${t.out("Hide Outline")}&nbsp;\n                            </label>  \n\n                            <label id="divHideCellTool" style="display:block;margin-top:10px;margin-bottom:10px;">\n                                <input class="input-hidecelltool" type="checkbox" />  ${t.out("Hide Column Tool")}&nbsp;\n                            </label>\n\n\n                            <label style="display:block;margin-top:10px;margin-bottom:10px;">\n                                <input class="input-hidesnippetaddtool" type="checkbox" />  ${t.out("Hide Snippet (+) Tool")}&nbsp;\n                            </label>\n\n                            <label style="display:block;margin-top:10px;margin-bottom:10px;">\n                                <input class="input-hideelementtool" type="checkbox" /> ${t.out("Hide element tool")}&nbsp;\n                            </label>  \n\n                            <label style="display:block;margin-top:10px;margin-bottom:10px;">\n                                <input class="input-hideelementhighlight" type="checkbox" /> ${t.out("Hide element highlight")}&nbsp;\n                            </label>  \n                            <label style="display:block;margin-top:10px;margin-bottom:5px;">\n                                ${t.out("Row Tool Position")}:&nbsp;\n                                <select class="select-rowtool">\n                                    <option value="right">${t.out("Right")}</option>\n                                    <option value="left">${t.out("Left")}</option>\n                                </select>\n                            </label>   \n\n                            <label style="display:block;margin-top:10px;margin-bottom:5px;">\n                                ${t.out("Tool Style")}:&nbsp;\n                                <select class="select-toolstyle">\n                                    <option value="">${t.out("Colored")}</option>\n                                    <option value="gray">${t.out("Mono")}</option>\n                                </select>\n                            </label>  \n\n                        </div>\n                        <div style="width:50%">\n\n                            <label class="option-opensnippets" style="display:block;margin-top:10px;margin-bottom:10px;">\n                                <input class="input-opensnippets" type="checkbox" />  ${t.out("Open snippets sidebar on start")}&nbsp;\n                            </label>\n\n                            <label style="display:${"#divSnippetList"===e.opts.snippetList?"block":"none"};margin-top:10px;margin-bottom:5px;">\n                               ${t.out("Snippets sidebar visibility")}:&nbsp;\n                                <select class="select-snippetssidebardisplay">\n                                    <option value="auto">${t.out("Auto")}</option>\n                                    <option value="always">${t.out("Always Visible")}</option>\n                                </select>\n                            </label>\n\n                            <label style="display:block;margin-top:10px;margin-bottom:5px;">\n                                ${t.out("Toolbar visibility")}:&nbsp;\n                                <select class="select-editingtoolbardisplay">\n                                    <option value="auto">${t.out("Auto")}</option>\n                                    <option value="always">${t.out("Always Visible")}</option>\n                                </select>\n                            </label>\n\n                            <label style="${this.builder.isTouchSupport?"display:none;":"display:block;"}margin-top:10px;margin-bottom:5px;">\n                                ${t.out("Toolbar position")}:&nbsp;\n                                <select class="select-editingtoolbar">\n                                    <option value="topfull">${t.out("Top (Full Width)")}</option>\n                                    <option value="top">${t.out("Top")}</option>\n                                    <option value="left">${t.out("Left")}</option>\n                                    <option value="right">${t.out("Right")}</option>\n                                </select>\n                            </label> \n\n                            <label style="display:block;margin-top:10px;margin-bottom:5px;">\n                                ${t.out("Paste result")}:&nbsp;\n                                <select class="select-pasteresult">\n                                    <option value="html-without-styles">${t.out("HTML (without styles)")}</option>\n                                    <option value="html">${t.out("HTML (with styles)")}</option>\n                                    <option value="text">${t.out("Text only")}</option>\n                                </select>\n                            </label>  \n\n                            <label style="display:block;margin-top:10px;margin-bottom:5px;">\n                                ${t.out("HTML View")}:&nbsp;\n                                <select class="select-htmlview">\n                                    <option value="shorten">${t.out("Shorten HTML")}</option>\n                                    <option value="actual">${t.out("Actual")}</option>\n                                </select>\n                            </label>  \n\n                            ${this.builder.themes?`\n                                <label style="${this.builder.isTouchSupport?"display:none;":"display:block;"}margin-top:10px;margin-bottom:5px;">\n                                    ${t.out("Theme")}:&nbsp;\n                                </label> \n                                ${s}\n                            `:""}\n\n                        </div>\n                    </div>\n                    <div style="text-align:right;margin-top:30px">\n                        <button title="${t.out("Cancel")}" class="input-cancel classic-secondary">${t.out("Cancel")}</button>\n                        <button title="${t.out("Ok")}" class="input-ok classic-primary">${t.out("Ok")}</button>\n                    </div>\n                </div>\n            </div>`;n.appendHtml(i,a),o=i.querySelector(".viewconfig"),"#divSnippetList"===e.opts.snippetList&&e.opts.snippetJSON.snippets.length>0||(o.querySelector(".option-opensnippets").style.display="none");let l=o.querySelector(".input-cancel");if(n.addEventListener(l,"click",(()=>{t.hideModal(o)})),l=o.querySelector(".input-ok"),n.addEventListener(l,"click",(()=>{this.update(),t.hideModal(o)})),null!==localStorage.getItem("_hiderowcoloutline")&&("1"===localStorage.getItem("_hiderowcoloutline")?this.builder.opts.rowcolOutline=!1:this.builder.opts.rowcolOutline=!0),this.setOutline(!this.builder.opts.rowcolOutline),null!==localStorage.getItem("_outlinemode")&&(this.builder.opts.outlineMode=localStorage.getItem("_outlinemode")),this.setOutlineMode(this.builder.opts.outlineMode),null!==localStorage.getItem("_outlinestyle")&&(this.builder.opts.outlineStyle=localStorage.getItem("_outlinestyle")),this.setOutlineStyle(this.builder.opts.outlineStyle),null!==localStorage.getItem("_pasteresult")&&(this.builder.opts.paste=localStorage.getItem("_pasteresult")),null!==localStorage.getItem("_htmlview")){let e=localStorage.getItem("_htmlview");this.builder.opts.shortenHTML="shorten"===e}if(null!==localStorage.getItem("_hidecelltool")&&("1"===localStorage.getItem("_hidecelltool")?this.builder.opts.columnTool=!1:this.builder.opts.columnTool=!0),this.setColumnTool(!this.builder.opts.columnTool),null!==localStorage.getItem("_hidesnippetaddtool")&&("1"===localStorage.getItem("_hidesnippetaddtool")?this.builder.opts.snippetAddTool=!1:this.builder.opts.snippetAddTool=!0),this.setSnippetAddTool(!this.builder.opts.snippetAddTool),null!==localStorage.getItem("_hideelementtool")&&("1"===localStorage.getItem("_hideelementtool")?this.builder.opts.elementTool=!1:this.builder.opts.elementTool=!0),this.setElementTool(!this.builder.opts.elementTool),null!==localStorage.getItem("_hideelementhighlight")&&("1"===localStorage.getItem("_hideelementhighlight")?this.builder.opts.elementHighlight=!1:this.builder.opts.elementHighlight=!0),this.setElementHighlight(!this.builder.opts.elementHighlight),null!==localStorage.getItem("_opensnippets")&&("1"===localStorage.getItem("_opensnippets")?this.builder.opts.snippetOpen=!0:this.builder.opts.snippetOpen=!1),null!==localStorage.getItem("_buildermode")&&(this.builder.opts.builderMode=localStorage.getItem("_buildermode")),this.setBuilderMode(this.builder.opts.builderMode),null!==localStorage.getItem("_rowtool")&&(this.builder.opts.rowTool=localStorage.getItem("_rowtool")),this.setRowToolPosition(this.builder.opts.rowTool),null!==localStorage.getItem("_toolstyle")&&(this.builder.opts.toolStyle=localStorage.getItem("_toolstyle")),this.setToolStyle(this.builder.opts.toolStyle),null!==localStorage.getItem("_editingtoolbardisplay")&&(this.builder.opts.toolbarDisplay=localStorage.getItem("_editingtoolbardisplay")),null!==localStorage.getItem("_snippetssidebardisplay")&&(this.builder.opts.snippetsSidebarDisplay=localStorage.getItem("_snippetssidebardisplay")),null!=localStorage.getItem("_editingtoolbar")&&(this.builder.opts.toolbar=localStorage.getItem("_editingtoolbar")),this.setToolbar(this.builder.opts.toolbar),null!=localStorage.getItem("_theme")){const e=localStorage.getItem("_theme");if(this.builder.themeIndex=e,this.builder.themes&&this.builder.themes.length>0){const t=this.builder.themes[e];t&&(this.builder.setUIColor(t[1],t[2]),this.builder.renderIframeLater=!0)}}else this.builder.setUIColor("",""),this.builder.renderIframeLater=!0;this.builder.renderIframeLater||t.getUIStyles(),this.builder.opts.emailMode&&(this.builder.opts.outlineMode="row",this.builder.opts.columnTool=!1,this.builder.opts.builderMode="",null!=localStorage.getItem("_outlinemode")&&localStorage.setItem("_outlinemode","row"),null!==localStorage.getItem("_hidecelltool")&&localStorage.setItem("_hidecelltool","1"),null!==localStorage.getItem("_buildermode")&&localStorage.setItem("_buildermode",""),this.setColumnTool(!0),this.setBuilderMode(""),this.setEmailMode(),i.querySelector("#divHideCellTool").style.display="none",i.querySelector("#divOutlineMode").style.display="none",i.querySelector("#divBuilderMode").style.display="none")}this.config=o;document.querySelectorAll(".input-setcolor").forEach((e=>{e.addEventListener("click",(t=>{const i=e.getAttribute("data-index"),n=this.builder.themes[i];this.builder.setUIColor(n[1],n[2]),this.builder.themeIndex=i,t.preventDefault(),t.stopImmediatePropagation()}))}))}view(){const e=new ni(this.builder);let t=this.config;e.showModal(t,!1,null,!1),this.builder.opts.rowcolOutline?t.querySelector(".input-hiderowcoloutline").checked=!1:t.querySelector(".input-hiderowcoloutline").checked=!0,this.builder.opts.columnTool?t.querySelector(".input-hidecelltool").checked=!1:t.querySelector(".input-hidecelltool").checked=!0,this.builder.opts.snippetAddTool?t.querySelector(".input-hidesnippetaddtool").checked=!1:t.querySelector(".input-hidesnippetaddtool").checked=!0,this.builder.opts.elementTool?t.querySelector(".input-hideelementtool").checked=!1:t.querySelector(".input-hideelementtool").checked=!0,this.builder.opts.elementHighlight?t.querySelector(".input-hideelementhighlight").checked=!1:t.querySelector(".input-hideelementhighlight").checked=!0,this.builder.opts.snippetOpen?t.querySelector(".input-opensnippets").checked=!0:t.querySelector(".input-opensnippets").checked=!1,this.config.querySelector(".select-buildermode").value=this.builder.opts.builderMode,this.config.querySelector(".select-rowtool").value=this.builder.opts.rowTool,this.config.querySelector(".select-outlinemode").value=this.builder.opts.outlineMode,this.config.querySelector(".select-outlinestyle").value=this.builder.opts.outlineStyle,this.config.querySelector(".select-toolstyle").value=this.builder.opts.toolStyle,this.config.querySelector(".select-pasteresult").value=this.builder.opts.paste,this.config.querySelector(".select-editingtoolbardisplay").value=this.builder.opts.toolbarDisplay,this.config.querySelector(".select-editingtoolbar").value=this.builder.opts.toolbar,this.config.querySelector(".select-snippetssidebardisplay").value=this.builder.opts.snippetsSidebarDisplay,this.builder.opts.shortenHTML?this.config.querySelector(".select-htmlview").value="shorten":this.config.querySelector(".select-htmlview").value="actual"}update(){let e=this.config.querySelector(".input-hiderowcoloutline").checked;e?(this.builder.opts.rowcolOutline=!1,localStorage.setItem("_hiderowcoloutline","1")):(this.builder.opts.rowcolOutline=!0,localStorage.setItem("_hiderowcoloutline","0")),this.setOutline(e),this.config.querySelector(".input-hidecelltool").checked?(this.builder.opts.columnTool=!1,localStorage.setItem("_hidecelltool","1"),this.setColumnTool(!0)):(this.builder.opts.columnTool=!0,localStorage.setItem("_hidecelltool","0"),this.setColumnTool(!1)),this.config.querySelector(".input-hidesnippetaddtool").checked?(this.builder.opts.snippetAddTool=!1,localStorage.setItem("_hidesnippetaddtool","1"),this.setSnippetAddTool(!0)):(this.builder.opts.snippetAddTool=!0,localStorage.setItem("_hidesnippetaddtool","0"),this.setSnippetAddTool(!1)),this.config.querySelector(".input-hideelementtool").checked?(this.builder.opts.elementTool=!1,localStorage.setItem("_hideelementtool","1"),this.setElementTool(!0)):(this.builder.opts.elementTool=!0,localStorage.setItem("_hideelementtool","0"),this.setElementTool(!1)),this.config.querySelector(".input-hideelementhighlight").checked?(this.builder.opts.elementHighlight=!1,localStorage.setItem("_hideelementhighlight","1"),this.setElementHighlight(!0)):(this.builder.opts.elementHighlight=!0,localStorage.setItem("_hideelementhighlight","0"),this.setElementHighlight(!1)),this.config.querySelector(".input-opensnippets").checked?(this.builder.opts.snippetOpen=!0,localStorage.setItem("_opensnippets","1")):(this.builder.opts.snippetOpen=!1,localStorage.setItem("_opensnippets","0"));let t=this.config.querySelector(".select-buildermode").value;this.builder.opts.builderMode=t,localStorage.setItem("_buildermode",t),this.setBuilderMode(t);let i=this.config.querySelector(".select-rowtool").value;this.builder.opts.rowTool=i,localStorage.setItem("_rowtool",i),this.setRowToolPosition(i);let n=this.config.querySelector(".select-outlinemode").value;this.builder.opts.outlineMode=n,localStorage.setItem("_outlinemode",n),this.setOutlineMode(n);let s=this.config.querySelector(".select-outlinestyle").value;this.builder.opts.outlineStyle=s,localStorage.setItem("_outlinestyle",s),this.setOutlineStyle(s);let o=this.config.querySelector(".select-toolstyle").value;this.builder.opts.toolStyle=o,localStorage.setItem("_toolstyle",o),this.setToolStyle(o);let a=this.config.querySelector(".select-pasteresult").value;this.builder.opts.paste=a,localStorage.setItem("_pasteresult",a);let l=this.config.querySelector(".select-editingtoolbardisplay").value;this.builder.opts.toolbarDisplay=l,localStorage.setItem("_editingtoolbardisplay",l);let r=this.config.querySelector(".select-snippetssidebardisplay").value;this.builder.opts.snippetsSidebarDisplay=r,localStorage.setItem("_snippetssidebardisplay",r);let d=this.config.querySelector(".select-editingtoolbar").value;this.builder.opts.toolbar=d,localStorage.setItem("_editingtoolbar",d),this.setToolbar(d);let c=this.config.querySelector(".select-htmlview").value;if(this.builder.opts.shortenHTML="shorten"===c,localStorage.setItem("_htmlview",c),this.builder.themes){const e=this.builder.themeIndex;this.builder.themeIndex&&localStorage.setItem("_theme",e)}let u=this.builder.builderStuff.querySelectorAll(".is-rte-pop");Array.prototype.forEach.call(u,(e=>{e.style.display=""}))}setToolbar(e){const t=this.dom,i=this.builder.builderStuff,n=this.builder.contentStuff;"topfull"===e?(i.setAttribute("toolbarfull",""),i.removeAttribute("toolbarleft",""),i.removeAttribute("toolbarright",""),this.builder.iframe&&(n.removeAttribute("toolbarleft",""),n.removeAttribute("toolbarright",""))):"top"===e?(i.removeAttribute("toolbarleft",""),i.removeAttribute("toolbarright",""),i.removeAttribute("toolbarfull",""),this.builder.iframe&&(n.removeAttribute("toolbarleft",""),n.removeAttribute("toolbarright",""))):"left"===e?(i.setAttribute("toolbarleft",""),i.removeAttribute("toolbarright",""),i.removeAttribute("toolbarfull",""),this.builder.iframe&&(n.setAttribute("toolbarleft",""),n.removeAttribute("toolbarright",""))):"right"===e&&(i.setAttribute("toolbarright",""),i.removeAttribute("toolbarleft",""),i.removeAttribute("toolbarfull",""),this.builder.iframe&&(n.setAttribute("toolbarright",""),n.removeAttribute("toolbarleft","")));const s=i.querySelector(".is-rte-tool"),o=i.querySelector(".rte-more-options"),a=i.querySelector(".elementrte-more-options");s&&this.builder.rte.positionToolbar(),o&&(t.removeClass(o,"active"),t.addClass(o,"deactive"),t.removeClass(a,"active"),t.addClass(a,"deactive"))}setEmailMode(){if(this.builder.builderStuff.setAttribute("emailmode",""),this.builder.iframe){this.builder.contentStuff.setAttribute("emailmode","")}}setElementTool(e){const t=this.builder.builderStuff;if(e?t.setAttribute("hideelementtool",""):t.removeAttribute("hideelementtool",""),this.builder.iframe){const t=this.builder.contentStuff;e?t.setAttribute("hideelementtool",""):t.removeAttribute("hideelementtool","")}}setElementHighlight(e){const t=this.builder.doc.querySelectorAll(this.builder.opts.container);Array.prototype.forEach.call(t,(t=>{e?t.setAttribute("hideelementhighlight",""):t.removeAttribute("hideelementhighlight","")}))}setOutlineStyle(e){const t=this.builder.doc.querySelectorAll(this.builder.opts.container);Array.prototype.forEach.call(t,(t=>{"grayoutline"===e?t.setAttribute("grayoutline",""):t.removeAttribute("grayoutline")}))}setColumnTool(e){const t=this.builder.doc.querySelectorAll(this.builder.opts.container);e?Array.prototype.forEach.call(t,(e=>{e.setAttribute("hidecolumntool","")})):Array.prototype.forEach.call(t,(e=>{e.removeAttribute("hidecolumntool")}))}setSnippetAddTool(e){const t=this.builder.doc.querySelectorAll(this.builder.opts.container);Array.prototype.forEach.call(t,(t=>{e?t.setAttribute("hidesnippetaddtool",""):t.removeAttribute("hidesnippetaddtool","")}))}setToolStyle(e){const t=this.builder.builderStuff;if("gray"===e?t.setAttribute("gray",""):t.removeAttribute("gray",""),this.builder.iframe){const t=this.builder.contentStuff;"gray"===e?t.setAttribute("gray",""):t.removeAttribute("gray","")}const i=this.builder.doc.querySelectorAll(this.builder.opts.container);Array.prototype.forEach.call(i,(t=>{"gray"===e?t.setAttribute("gray",""):t.removeAttribute("gray")}))}setOutlineMode(e){const t=this.builder.doc.querySelectorAll(this.builder.opts.container);Array.prototype.forEach.call(t,(t=>{"row"===e?t.setAttribute("rowoutline",""):t.removeAttribute("rowoutline")}))}setOutline(e){const t=this.builder.doc.querySelectorAll(this.builder.opts.container);Array.prototype.forEach.call(t,(t=>{e?t.setAttribute("hideoutline",""):t.removeAttribute("hideoutline")}))}setRowToolPosition(e){const t=this.builder.doc.querySelectorAll(this.builder.opts.container);Array.prototype.forEach.call(t,(t=>{"right"===e?t.removeAttribute("leftrowtool"):t.setAttribute("leftrowtool","")}))}setBuilderMode(e){const t=this.builder.builderStuff;if(""===e?(t.removeAttribute("minimal"),t.removeAttribute("clean")):"minimal"===e?(t.setAttribute("minimal",""),t.removeAttribute("clean")):"clean"===e&&(t.setAttribute("clean",""),t.removeAttribute("minimal")),this.builder.iframe){const t=this.builder.contentStuff;""===e?(t.removeAttribute("minimal"),t.removeAttribute("clean")):"minimal"===e?(t.setAttribute("minimal",""),t.removeAttribute("clean")):"clean"===e&&(t.setAttribute("clean",""),t.removeAttribute("minimal"))}const i=this.builder.doc.querySelectorAll(this.builder.opts.container);Array.prototype.forEach.call(i,(t=>{""===e?(t.removeAttribute("minimal"),t.removeAttribute("clean")):"minimal"===e?(t.setAttribute("minimal",""),t.removeAttribute("clean")):"clean"===e&&(t.setAttribute("clean",""),t.removeAttribute("minimal"))}))}initBuilder(e){const t=this.builder.opts.builderMode;""===t?(e.removeAttribute("minimal"),e.removeAttribute("clean")):"minimal"===t?(e.setAttribute("minimal",""),e.removeAttribute("clean")):"clean"===t&&(e.setAttribute("clean",""),e.removeAttribute("minimal"));"right"===this.builder.opts.rowTool?e.removeAttribute("leftrowtool"):e.setAttribute("leftrowtool","");!this.builder.opts.rowcolOutline?e.setAttribute("hideoutline",""):e.removeAttribute("hideoutline");"row"===this.builder.opts.outlineMode?e.setAttribute("rowoutline",""):e.removeAttribute("rowoutline");"gray"===this.builder.opts.toolStyle?e.setAttribute("gray",""):e.removeAttribute("gray");!this.builder.opts.snippetAddTool?e.setAttribute("hidesnippetaddtool",""):e.removeAttribute("hidesnippetaddtool","");"grayoutline"===this.builder.opts.outlineStyle?e.setAttribute("grayoutline",""):e.removeAttribute("grayoutline");!this.builder.opts.elementHighlight?e.setAttribute("hideelementhighlight",""):e.removeAttribute("hideelementhighlight","")}}const Dv=new si;class jv{constructor(e={},t){this.opts=Object.assign(this,{onPick:function(){},quickColors:{black:"bg-black",white:"bg-white",transparent:""},baseColors:{amber:{preview:"bg-amber-500",colors:["bg-amber-50","bg-amber-100","bg-amber-200","bg-amber-300","bg-amber-400","bg-amber-500","bg-amber-600","bg-amber-700","bg-amber-800","bg-amber-900"]},orange:{preview:"bg-orange-500",colors:["bg-orange-50","bg-orange-100","bg-orange-200","bg-orange-300","bg-orange-400","bg-orange-500","bg-orange-600","bg-orange-700","bg-orange-800","bg-orange-900"]},red:{preview:"bg-red-600",colors:["bg-red-50","bg-red-100","bg-red-200","bg-red-300","bg-red-400","bg-red-500","bg-red-600","bg-red-700","bg-red-800","bg-red-900"]},rose:{preview:"bg-rose-700",colors:["bg-rose-50","bg-rose-100","bg-rose-200","bg-rose-300","bg-rose-400","bg-rose-500","bg-rose-600","bg-rose-700","bg-rose-800","bg-rose-900"]},fuchsia:{preview:"bg-fuchsia-700",colors:["bg-fuchsia-50","bg-fuchsia-100","bg-fuchsia-200","bg-fuchsia-300","bg-fuchsia-400","bg-fuchsia-500","bg-fuchsia-600","bg-fuchsia-700","bg-fuchsia-800","bg-fuchsia-900"]},gray:{preview:"bg-gray-700",colors:["bg-gray-50","bg-gray-100","bg-gray-200","bg-gray-300","bg-gray-400","bg-gray-500","bg-gray-600","bg-gray-700","bg-gray-800","bg-gray-900"]},yellow:{preview:"bg-yellow-500",colors:["bg-yellow-50","bg-yellow-100","bg-yellow-200","bg-yellow-300","bg-yellow-400","bg-yellow-500","bg-yellow-600","bg-yellow-700","bg-yellow-800","bg-yellow-900"]},lime:{preview:"bg-lime-600",colors:["bg-lime-50","bg-lime-100","bg-lime-200","bg-lime-300","bg-lime-400","bg-lime-500","bg-lime-600","bg-lime-700","bg-lime-800","bg-lime-900"]},green:{preview:"bg-green-700",colors:["bg-green-50","bg-green-100","bg-green-200","bg-green-300","bg-green-400","bg-green-500","bg-green-600","bg-green-700","bg-green-800","bg-green-900"]},pink:{preview:"bg-pink-600",colors:["bg-pink-50","bg-pink-100","bg-pink-200","bg-pink-300","bg-pink-400","bg-pink-500","bg-pink-600","bg-pink-700","bg-pink-800","bg-pink-900"]},violet:{preview:"bg-violet-700",colors:["bg-violet-50","bg-violet-100","bg-violet-200","bg-violet-300","bg-violet-400","bg-violet-500","bg-violet-600","bg-violet-700","bg-violet-800","bg-violet-900"]},purple:{preview:"bg-purple-700",colors:["bg-purple-50","bg-purple-100","bg-purple-200","bg-purple-300","bg-purple-400","bg-purple-500","bg-purple-600","bg-purple-700","bg-purple-800","bg-purple-900"]},cyan:{preview:"bg-cyan-400",colors:["bg-cyan-50","bg-cyan-100","bg-cyan-200","bg-cyan-300","bg-cyan-400","bg-cyan-500","bg-cyan-600","bg-cyan-700","bg-cyan-800","bg-cyan-900"]},teal:{preview:"bg-teal-500",colors:["bg-teal-50","bg-teal-100","bg-teal-200","bg-teal-300","bg-teal-400","bg-teal-500","bg-teal-600","bg-teal-700","bg-teal-800","bg-teal-900"]},emerald:{preview:"bg-emerald-600",colors:["bg-emerald-50","bg-emerald-100","bg-emerald-200","bg-emerald-300","bg-emerald-400","bg-emerald-500","bg-emerald-600","bg-emerald-700","bg-emerald-800","bg-emerald-900"]},sky:{preview:"bg-sky-500",colors:["bg-sky-50","bg-sky-100","bg-sky-200","bg-sky-300","bg-sky-400","bg-sky-500","bg-sky-600","bg-sky-700","bg-sky-800","bg-sky-900"]},blue:{preview:"bg-blue-600",colors:["bg-blue-50","bg-blue-100","bg-blue-200","bg-blue-300","bg-blue-400","bg-blue-500","bg-blue-600","bg-blue-700","bg-blue-800","bg-blue-900"]},indigo:{preview:"bg-indigo-600",colors:["bg-indigo-50","bg-indigo-100","bg-indigo-200","bg-indigo-300","bg-indigo-400","bg-indigo-500","bg-indigo-600","bg-indigo-700","bg-indigo-800","bg-indigo-900"]}},stuffPlacement:"#_cbhtml",lang:[]},e);let i=document.querySelector(this.opts.stuffPlacement);i||(i=document.createElement("div"),i.id="_cbhtml",i.className="is-ui",document.body.appendChild(i)),this.builderStuff=i,this.mode=t;const n=new Hf({stuffPlacement:this.opts.stuffPlacement});this.modal=n;let s=document.querySelector(".pickcolorclass");if(!s){let e=`<div class="is-modal pickcolorclass" style="z-index:10005">\n                <div class="is-modal-content" style="padding: 12px;max-width:295px;">\n                    <div class="is-modal-bar is-draggable" style="height:12px"></div>\n                    <div>\n                        <div class="color-list"></div>\n                        <div class="color-details"></div>\n                        <div class="color-quick" style="display:flex">\n                            <button class="quick-color" data-value="${this.opts.quickColors.black}" style="background-color:#222;color:#f7f7f7;display:flex;justify-content:center;align-items:center;width:54px;height:54px;cursor:pointer;">${this.out("B")}</button>\n                            <button class="quick-color" data-value="${this.opts.quickColors.white}" style="border: rgb(0 0 0 / 6%) 1px solid;border-top:none;border-left:none;background-color:#fff;color:#333;display:flex;justify-content:center;align-items:center;width:54px;height:54px;cursor:pointer;">${this.out("W")}</button>\n                            <button class="quick-color" data-value="${this.opts.quickColors.transparent}" style="display:flex;justify-content:center;align-items:center;width:162px;height:54px;cursor:pointer;">${this.out("Clear")}</button>\n                        </div>\n                    </div>\n                </div>\n            </div>`;i.insertAdjacentHTML("beforeend",e),s=document.querySelector(".pickcolorclass")}this.modalPicker=s;const o=s.querySelector(".color-list"),a=this.opts.baseColors;let l="";for(let e=0;e<Object.keys(a).length;e++){let t=Object.values(a)[e];l+=`<div class="${t.preview} base-color" data-value="${t.preview}" data-base="${Object.keys(a)[e]}" style="width:45px;height:45px;cursor:pointer;"></div>`}l=`<div style="display:flex;flex-flow:wrap;width:270px;height:135px;flex-direction:row;">${l}</div>`,o.innerHTML=l,this.showColorGradient("gray");let r=document.querySelectorAll(".base-color");Array.prototype.forEach.call(r,(e=>{Dv.addEventListener(e,"click",(()=>{const t=e.getAttribute("data-base");this.showColorGradient(t);let i=e.getAttribute("data-value");"text"===this.mode&&(i=i.replace("bg-","text-")),this.opts.onPick(i)}))})),r=document.querySelectorAll(".quick-color"),Array.prototype.forEach.call(r,(e=>{Dv.addEventListener(e,"click",(t=>{t.preventDefault();let i=e.getAttribute("data-value");"text"===this.mode&&(i=i.replace("bg-","text-")),this.opts.onPick(i)}))}))}showColorGradient(e){const t=this.modalPicker.querySelector(".color-details"),i=this.opts.baseColors[e].colors;let n="";for(let e=i.length-1;e>=0;e--){const t=i[e];n+=`<div class="${t} detail-color" data-value="${t}" style="width:54px;height:54px;cursor:pointer;"></div>`}n=`<div style="display:flex;flex-flow:wrap;width:270px;height:108px;flex-direction:column;">${n}</div>`,t.innerHTML=n;const s=document.querySelectorAll(".detail-color");Array.prototype.forEach.call(s,(e=>{Dv.addEventListener(e,"click",(()=>{let t=e.getAttribute("data-value");"text"===this.mode&&(t=t.replace("bg-","text-")),this.opts.onPick(t)}))}))}open(e,t){e&&(this.opts.onPick=e),this.mode=t,this.modal.show(this.modalPicker,!1,null,!1)}out(e){if(this.opts.lang){let t=this.opts.lang[e];return t||e}return e}}class Uv{constructor(e){this.builder=e;const t=this.builder.util,i=this.builder.builderStuff;this.util=t,this.builderStuff=i,this.dom=this.builder.dom;const n=this.dom;this.elementStyleEditor=new dv(e),this.hyperlink=new Ef(e);let s,o,a,l,r,d,c,u,p,h,m,g,b,f,v,y=i.querySelector("#divRteTool");if(!y){if(e.plugins.length>0){let t=["|","addsnippet","bold","italic","underline","formatting","color","removeformat","align","textsettings","createlink","tags","undo","redo","zoom","livepreview","icon","image","list","font","formatpara","gridtool","html","preferences","more","left","center","right","full"];const i=i=>{let n=i;return i.forEach((i=>{i=i.toLowerCase();let s=t.filter((e=>e===i));0===s.length&&(s=e.plugins.filter((e=>e.name===i)),0===s.length&&(n=n.filter((e=>e!==i))))})),n};e.opts.buttons=i(e.opts.buttons),e.opts.buttonsMore=i(e.opts.buttonsMore),e.opts.elementButtons=i(e.opts.elementButtons),e.opts.elementButtonsMore=i(e.opts.elementButtonsMore),e.opts.iconButtons=i(e.opts.iconButtons),e.opts.iconButtonsMore=i(e.opts.iconButtonsMore)}let S="";var x="";if(e.opts.customTags.length>0){S=`<button tabindex="-1" title="${t.out("Tags")}" class="rte-tags"><svg class="is-icon-flex" style="width:14px;height:14px"><use xlink:href="#ion-code-working"></use></svg></button>`;for(let t=0;t<e.opts.customTags.length;t++)x+=`<button data-value="${e.opts.customTags[t][1]}"> ${e.opts.customTags[t][0]} </button>`}let C="";for(var _=0;_<e.opts.buttonsMore.length;_++){var w=e.opts.buttonsMore[_].toLowerCase();"createlink"===w?C+=`<button tabindex="-1" title="${t.out("Hyperlink")}" class="rte-link"><svg class="is-icon-flex" style="width:14px;height:14px;"><use xlink:href="#ion-link"></use></svg></button>`:"icon"!==w||this.builder.opts.emailMode?C+="removeformat"===w?`<button tabindex="-1" title="${t.out("Clean")}" class="rte-clean"><svg class="is-icon-flex" style="width:11px;height:11px;"><use xlink:href="#icon-clean"></use></svg></button>`:"bold"===w?`<button tabindex="-1" title="${t.out("Bold")}" class="rte-format" data-command="bold"><span style="font-family:serif;font-size:14px;">B</span></button>`:"italic"===w?`<button tabindex="-1" title="${t.out("Italic")}" class="rte-format" data-command="italic"><span style="font-family:serif;font-size:16px;font-style:italic;">i</span></button>`:"underline"===w?`<button tabindex="-1" title="${t.out("Underline")}" class="rte-format" data-command="underline"><span style="font-family:serif;font-size:14px;text-decoration:underline;">U</span></button>`:"align"===w?`<button tabindex="-1" title="${t.out("Align")}" class="rte-align"><svg class="is-icon-flex" style="width:12px;height:12px;margin-top:-2px;"><use xlink:href="#icon-align-full"></use></svg></button>`:"list"===w?`<button tabindex="-1" title="${t.out("List")}" class="rte-list"><svg class="is-icon-flex" style="width:12px;height:12px;"><use xlink:href="#icon-list-bullet"></use></svg></button>`:"color"===w?`<button tabindex="-1" title="${t.out("Color")}" class="rte-color"><svg class="is-icon-flex" style="width:12px;height:12px;"><use xlink:href="#ion-contrast"></use></svg></button>`:"formatting"===w?`<button tabindex="-1" title="${t.out("Formatting")}" class="rte-formatting"><span style="font-family:serif;font-size:15px;display:inline-block;">A</span></button>`:"tags"===w?S:"image"===w?`<button tabindex="-1" title="${t.out("Image")}" class="rte-image"><svg class="is-icon-flex" style="width:13px;height:13px;"><use xlink:href="#ion-image"></use></svg></button>`:"gridtool"===w?`<button tabindex="-1" title="${t.out("Grid Tool")}" class="rte-grideditor"><svg class="is-icon-flex" style="margin-right:-3px;"><use xlink:href="#ion-grid"></use></svg></button>`:"html"===w?`<button tabindex="-1" title="${t.out("HTML")}" class="rte-html"><svg class="is-icon-flex" style="margin-right:-3px;width:14px;height:14px;"><use xlink:href="#ion-ios-arrow-left"></use></svg><svg class="is-icon-flex" style="margin-left:-2px;width:14px;height:14px;"><use xlink:href="#ion-ios-arrow-right"></use></svg></button>`:"preferences"===w?`<button tabindex="-1" title="${t.out("Preferences")}" class="rte-preferences"><svg class="is-icon-flex" style="width:13px;height:13px;"><use xlink:href="#ion-wrench"></use></svg></button>`:"addsnippet"===w?`<button tabindex="-1" title="${t.out("Add Snippet")}" class="rte-addsnippet"><svg class="is-icon-flex" style="width:18px;height:18px;margin-top:-1px;"><use xlink:href="#ion-ios-plus-empty"></use></svg></button>`:"formatpara"===w?`<button tabindex="-1" title="${t.out("Paragraph")}" class="rte-paragraph"><span style="font-family:serif;font-size:14px;display:inline-block;margin-top:2px;">H</span></button>`:"font"===w?`<button tabindex="-1" title="${t.out("Font")}" class="rte-fontfamily"><span style="font-family:serif;font-size:18px;text-transform:none;display:inline-block;margin-top: -3px;">a</span></button>`:"textsettings"===w?`<button tabindex="-1" title="${t.out("Text Settings")}" class="rte-textsettings"><svg class="is-icon-flex" style="width:16px;height:16px;"><use xlink:href="#ion-ios-settings"></use></svg></button>`:"undo"===w?`<button tabindex="-1" title="${t.out("Undo")}" class="rte-undo"><svg class="is-icon-flex" style="margin-top:2px;width:15px;height:15px;"><use xlink:href="#ion-ios-undo"></use></svg></button>`:"redo"===w?`<button tabindex="-1" title="${t.out("Redo")}" class="rte-redo"><svg class="is-icon-flex" style="margin-top:2px;width:15px;height:15px;"><use xlink:href="#ion-ios-redo"></use></svg></button>`:"zoom"===w?`<button tabindex="-1" title="${t.out("Zoom")}" class="rte-zoom"><svg class="is-icon-flex" style="margin-top:2px;width:15px;height:15px;"><use xlink:href="#icon-zoom-in"></use></svg></button>`:"livepreview"===w?`<button tabindex="-1" title="${t.out("Live Preview")}" class="rte-livepreview"><svg class="is-icon-flex" style="margin-top:2px;width:15px;height:15px;"><use xlink:href="#icon-device-desktop"></use></svg></button>`:"|"===w?'<div class="rte-separator"></div>':`<button tabindex="-1" title="button not found" data-plugin="${w}"></button>`:C+=`<button tabindex="-1" title="${t.out("Icon")}" class="rte-icon"><svg class="is-icon-flex" style="width:14px;height:14px;margin-top:2px;"><use xlink:href="#ion-android-happy"></use></svg></button>`}let k="";for(_=0;_<e.opts.buttons.length;_++)"bold"===(w=e.opts.buttons[_].toLowerCase())?k+=`<button tabindex="-1" title="${t.out("Bold")}" class="rte-format" data-command="bold"><span style="font-family:serif;font-size:14px;">B</span></button>`:"italic"===w?k+=`<button tabindex="-1" title="${t.out("Italic")}" class="rte-format" data-command="italic"><span style="font-family:serif;font-size:16px;font-style:italic;">i</span></button>`:"underline"===w?k+=`<button tabindex="-1" title="${t.out("Underline")}" class="rte-format" data-command="underline"><span style="font-family:serif;font-size:14px;text-decoration:underline;">U</span></button>`:"createlink"===w?k+=`<button tabindex="-1" title="${t.out("Hyperlink")}" class="rte-link"><svg class="is-icon-flex" style="width:14px;height:14px;"><use xlink:href="#ion-link"></use></svg></button>`:"align"===w?k+=`<button tabindex="-1" title="${t.out("Align")}" class="rte-align"><svg class="is-icon-flex" style="width:12px;height:12px;margin-top:-2px;"><use xlink:href="#icon-align-full"></use></svg></button>`:"formatpara"===w?k+=`<button tabindex="-1" title="${t.out("Paragraph")}" class="rte-paragraph"><span style="font-family:serif;font-size:14px;display:inline-block;margin-top:2px;">H</span></button>`:"color"===w?k+=`<button tabindex="-1" title="${t.out("Color")}" class="rte-color"><svg class="is-icon-flex" style="width:12px;height:12px;"><use xlink:href="#ion-contrast"></use></svg></button>`:"formatting"===w?k+=`<button tabindex="-1" title="${t.out("Formatting")}" class="rte-formatting"><span style="font-family:serif;font-size:15px;display:inline-block;">A</span></button>`:"list"===w?k+=`<button tabindex="-1" title="${t.out("List")}" class="rte-list"><svg class="is-icon-flex" style="width:12px;height:12px;"><use xlink:href="#icon-list-bullet"></use></svg></button>`:"textsettings"===w?k+=`<button tabindex="-1" title="${t.out("Text Settings")}" class="rte-textsettings"><svg class="is-icon-flex" style="width:16px;height:16px;"><use xlink:href="#ion-ios-settings"></use></svg></button>`:"icon"!==w||this.builder.opts.emailMode?k+="tags"===w?S:"removeformat"===w?`<button tabindex="-1" title="${t.out("Clean")}" class="rte-format" data-command="clean"><svg class="is-icon-flex" style="width:11px;height:11px;"><use xlink:href="#icon-clean"></use></svg></button>`:"font"===w?`<button tabindex="-1" title="${t.out("Font")}" class="rte-fontfamily"><span style="font-family:serif;font-size:18px;text-transform:none;display:inline-block;margin-top: -3px;">a</span></button>`:"image"===w?`<button tabindex="-1" title="${t.out("Image")}" class="rte-image"><svg class="is-icon-flex" style="width:13px;height:13px;"><use xlink:href="#ion-image"></use></svg></button>`:"gridtool"===w?`<button tabindex="-1" title="${t.out("Grid Tool")}" class="rte-grideditor"><svg class="is-icon-flex" style="margin-right:-3px;width:17px;height:17px;"><use xlink:href="#ion-grid"></use></svg></button>`:"html"===w?`<button tabindex="-1" title="${t.out("HTML")}" class="rte-html"><svg class="is-icon-flex" style="margin-right:-3px;width:14px;height:14px;"><use xlink:href="#ion-ios-arrow-left"></use></svg><svg class="is-icon-flex" style="margin-left:-2px;width:14px;height:14px;"><use xlink:href="#ion-ios-arrow-right"></use></svg></button>`:"preferences"===w?`<button tabindex="-1" title="${t.out("Preferences")}" class="rte-preferences"><svg class="is-icon-flex" style="width:13px;height:13px;"><use xlink:href="#ion-wrench"></use></svg></button>`:"addsnippet"===w?`<button tabindex="-1" title="${t.out("Add Snippet")}" class="rte-addsnippet"><svg class="is-icon-flex" style="width:18px;height:18px;margin-top:-1px;"><use xlink:href="#ion-ios-plus-empty"></use></svg></button>`:"undo"===w?`<button tabindex="-1" title="${t.out("Undo")}" class="rte-undo"><svg class="is-icon-flex" style="margin-top:2px;width:15px;height:15px;"><use xlink:href="#ion-ios-undo"></use></svg></button>`:"redo"===w?`<button tabindex="-1" title="${t.out("Redo")}" class="rte-redo"><svg class="is-icon-flex" style="margin-top:2px;width:15px;height:15px;"><use xlink:href="#ion-ios-redo"></use></svg></button>`:"more"===w&&""!==C?`<button tabindex="-1" title="${t.out("More")}" class="rte-more"><svg class="is-icon-flex" style="width:13px;height:13px;"><use xlink:href="#ion-more"></use></svg></button>`:"zoom"===w?`<button tabindex="-1" title="${t.out("Zoom")}" class="rte-zoom"><svg class="is-icon-flex" style="margin-top:2px;width:15px;height:15px;"><use xlink:href="#icon-zoom-in"></use></svg></button>`:"livepreview"===w?`<button tabindex="-1" title="${t.out("Live Preview")}" class="rte-livepreview"><svg class="is-icon-flex" style="margin-top:2px;width:15px;height:15px;"><use xlink:href="#icon-device-desktop"></use></svg></button>`:"|"===w?'<div class="rte-separator"></div>':`<button tabindex="-1" title="button not found" data-plugin="${w}"></button>`:k+=`<button tabindex="-1" title="${t.out("Icon")}" class="rte-icon"><svg class="is-icon-flex" style="width:14px;height:14px;margin-top:2px"><use xlink:href="#ion-android-happy"></use></svg></button>`;this.builder.opts.toolbarAddSnippetButton&&-1===k.indexOf("rte-addsnippet")&&-1===C.indexOf("rte-addsnippet")&&(k=`<button tabindex="-1" title="${t.out("Add Snippet")}" class="rte-addsnippet"><svg class="is-icon-flex" style="width:18px;height:18px;margin-top:-1px;"><use xlink:href="#ion-ios-plus-empty"></use></svg></button>`+k),""!==C&&-1===k.indexOf("rte-more")&&(k+=`<button tabindex="-1" title="${t.out("More")}" class="rte-more"><svg class="is-icon-flex" style="width:13px;height:13px;"><use xlink:href="#ion-more"></use></svg></button>`);let A="";for(_=0;_<e.opts.elementButtonsMore.length;_++)A+="left"===(w=e.opts.elementButtonsMore[_].toLowerCase())?`<button tabindex="-1" title="${t.out("Align Left")}" data-align="left"><svg class="is-icon-flex" style="width:14px;height:14px;"><use xlink:href="#icon-align-left"></use></svg></button>`:"center"===w?`<button tabindex="-1" title="${t.out("Align Center")}" data-align="center"><svg class="is-icon-flex" style="width:14px;height:14px;"><use xlink:href="#icon-align-center"></use></svg></button>`:"right"===w?`<button tabindex="-1" title="${t.out("Align Right")}" data-align="right"><svg class="is-icon-flex" style="width:14px;height:14px;"><use xlink:href="#icon-align-right"></use></svg></button>`:"full"===w?`<button tabindex="-1" title="${t.out("Align Full")}" data-align="justify"><svg class="is-icon-flex" style="width:14px;height:14px;"><use xlink:href="#icon-align-full"></use></svg></button>`:"gridtool"===w?`<button tabindex="-1" title="${t.out("Grid Tool")}" class="rte-grideditor"><svg class="is-icon-flex" style="margin-right:-3px;"><use xlink:href="#ion-grid"></use></svg></button>`:"html"===w?`<button tabindex="-1" title="${t.out("HTML")}" class="rte-html"><svg class="is-icon-flex" style="margin-right:-3px;width:14px;height:14px;"><use xlink:href="#ion-ios-arrow-left"></use></svg><svg class="is-icon-flex" style="margin-left:-2px;width:14px;height:14px;"><use xlink:href="#ion-ios-arrow-right"></use></svg></button>`:"preferences"===w?`<button tabindex="-1" title="${t.out("Preferences")}" class="rte-preferences"><svg class="is-icon-flex" style="width:13px;height:13px;"><use xlink:href="#ion-wrench"></use></svg></button>`:"addsnippet"===w?`<button tabindex="-1" title="${t.out("Add Snippet")}" class="rte-addsnippet"><svg class="is-icon-flex" style="width:18px;height:18px;margin-top:-1px;"><use xlink:href="#ion-ios-plus-empty"></use></svg></button>`:"undo"===w?`<button tabindex="-1" title="${t.out("Undo")}" class="rte-undo"><svg class="is-icon-flex" style="margin-top:2px;width:15px;height:15px;"><use xlink:href="#ion-ios-undo"></use></svg></button>`:"redo"===w?`<button tabindex="-1" title="${t.out("Redo")}" class="rte-redo"><svg class="is-icon-flex" style="margin-top:2px;width:15px;height:15px;"><use xlink:href="#ion-ios-redo"></use></svg></button>`:"zoom"===w?`<button tabindex="-1" title="${t.out("Zoom")}" class="rte-zoom"><svg class="is-icon-flex" style="margin-top:2px;width:15px;height:15px;"><use xlink:href="#icon-zoom-in"></use></svg></button>`:"livepreview"===w?`<button tabindex="-1" title="${t.out("Live Preview")}" class="rte-livepreview"><svg class="is-icon-flex" style="margin-top:2px;width:15px;height:15px;"><use xlink:href="#icon-device-desktop"></use></svg></button>`:"|"===w?'<div class="rte-separator"></div>':`<button tabindex="-1" title="button not found" data-plugin="${w}"></button>`;let E="";for(_=0;_<e.opts.elementButtons.length;_++)E+="left"===(w=e.opts.elementButtons[_].toLowerCase())?`<button tabindex="-1" title="${t.out("Align Left")}" data-align="left"><svg class="is-icon-flex" style="width:14px;height:14px;"><use xlink:href="#icon-align-left"></use></svg></button>`:"center"===w?`<button tabindex="-1" title="${t.out("Align Center")}" data-align="center"><svg class="is-icon-flex" style="width:14px;height:14px;"><use xlink:href="#icon-align-center"></use></svg></button>`:"right"===w?`<button tabindex="-1" title="${t.out("Align Right")}" data-align="right"><svg class="is-icon-flex" style="width:14px;height:14px;"><use xlink:href="#icon-align-right"></use></svg></button>`:"full"===w?`<button tabindex="-1" title="${t.out("Align Full")}" data-align="justify"><svg class="is-icon-flex" style="width:14px;height:14px;"><use xlink:href="#icon-align-full"></use></svg></button>`:"gridtool"===w?`<button tabindex="-1" title="${t.out("Grid Tool")}" class="rte-grideditor"><svg class="is-icon-flex" style="margin-right:-3px;width:17px;height:17px;"><use xlink:href="#ion-grid"></use></svg></button>`:"html"===w?`<button tabindex="-1" title="${t.out("HTML")}" class="rte-html"><svg class="is-icon-flex" style="margin-right:-3px;width:14px;height:14px;"><use xlink:href="#ion-ios-arrow-left"></use></svg><svg class="is-icon-flex" style="margin-left:-2px;width:14px;height:14px;"><use xlink:href="#ion-ios-arrow-right"></use></svg></button>`:"preferences"===w?`<button tabindex="-1" title="${t.out("Preferences")}" class="rte-preferences"><svg class="is-icon-flex" style="width:13px;height:13px;"><use xlink:href="#ion-wrench"></use></svg></button>`:"addsnippet"===w?`<button tabindex="-1" title="${t.out("Add Snippet")}" class="rte-addsnippet"><svg class="is-icon-flex" style="width:18px;height:18px;margin-top:-1px;"><use xlink:href="#ion-ios-plus-empty"></use></svg></button>`:"undo"===w?`<button tabindex="-1" title="${t.out("Undo")}" class="rte-undo"><svg class="is-icon-flex" style="margin-top:2px;width:15px;height:15px;"><use xlink:href="#ion-ios-undo"></use></svg></button>`:"redo"===w?`<button tabindex="-1" title="${t.out("Redo")}" class="rte-redo"><svg class="is-icon-flex" style="margin-top:2px;width:15px;height:15px;"><use xlink:href="#ion-ios-redo"></use></svg></button>`:"more"===w&&""!==A?`<button tabindex="-1" title="${t.out("More")}" class="rte-more"><svg class="is-icon-flex" style="width:13px;height:13px;"><use xlink:href="#ion-more"></use></svg></button>`:"zoom"===w?`<button tabindex="-1" title="${t.out("Zoom")}" class="rte-zoom"><svg class="is-icon-flex" style="margin-top:2px;width:15px;height:15px;"><use xlink:href="#icon-zoom-in"></use></svg></button>`:"livepreview"===w?`<button tabindex="-1" title="${t.out("Live Preview")}" class="rte-livepreview"><svg class="is-icon-flex" style="margin-top:2px;width:15px;height:15px;"><use xlink:href="#icon-device-desktop"></use></svg></button>`:"|"===w?'<div class="rte-separator"></div>':`<button tabindex="-1" title="button not found" data-plugin="${w}"></button>`;this.builder.opts.toolbarAddSnippetButton&&-1===E.indexOf("rte-addsnippet")&&-1===A.indexOf("rte-addsnippet")&&(E=`<button tabindex="-1" title="${t.out("Add Snippet")}" class="rte-addsnippet"><svg class="is-icon-flex" style="width:18px;height:18px;margin-top:-1px;"><use xlink:href="#ion-ios-plus-empty"></use></svg></button>`+E),""!==A&&-1===E.indexOf("rte-more")&&(E+=`<button title="${t.out("More")}" class="rte-more"><svg class="is-icon-flex" style="width:13px;height:13px;"><use xlink:href="#ion-more"></use></svg></button>`);let L="",q="";for(_=0;_<e.opts.iconButtonsMore.length;_++)"createlink"===(w=e.opts.iconButtonsMore[_].toLowerCase())?L+=`<button tabindex="-1" title="${t.out("Hyperlink")}" class="rte-link"><svg class="is-icon-flex" style="width:14px;height:14px;"><use xlink:href="#ion-link"></use></svg></button>`:"icon"!==w||this.builder.opts.emailMode?L+="align"===w?`<button tabindex="-1" title="${t.out("Align")}" class="rte-align"><svg class="is-icon-flex" style="width:12px;height:12px;margin-top:-2px;"><use xlink:href="#icon-align-full"></use></svg></button>`:"color"===w?`<button tabindex="-1" title="${t.out("Color")}" class="rte-color"><svg class="is-icon-flex" style="width:12px;height:12px;"><use xlink:href="#ion-contrast"></use></svg></button>`:"gridtool"===w?`<button tabindex="-1" title="${t.out("Grid Tool")}" class="rte-grideditor"><svg class="is-icon-flex" style="margin-right:-3px;"><use xlink:href="#ion-grid"></use></svg></button>`:"html"===w?`<button tabindex="-1" title="${t.out("HTML")}" class="rte-html"><svg class="is-icon-flex" style="margin-right:-3px;width:14px;height:14px;"><use xlink:href="#ion-ios-arrow-left"></use></svg><svg class="is-icon-flex" style="margin-left:-2px;width:14px;height:14px;"><use xlink:href="#ion-ios-arrow-right"></use></svg></button>`:"preferences"===w?`<button tabindex="-1" title="${t.out("Preferences")}" class="rte-preferences"><svg class="is-icon-flex" style="width:13px;height:13px;"><use xlink:href="#ion-wrench"></use></svg></button>`:"addsnippet"===w?`<button tabindex="-1" title="${t.out("Add Snippet")}" class="rte-addsnippet"><svg class="is-icon-flex" style="width:18px;height:18px;margin-top:-1px;"><use xlink:href="#ion-ios-plus-empty"></use></svg></button>`:"textsettings"===w?`<button tabindex="-1" title="${t.out("Text Settings")}" class="rte-textsettings"><svg class="is-icon-flex" style="width:16px;height:16px;"><use xlink:href="#ion-ios-settings"></use></svg></button>`:"undo"===w?`<button tabindex="-1" title="${t.out("Undo")}" class="rte-undo"><svg class="is-icon-flex" style="margin-top:2px;width:15px;height:15px;"><use xlink:href="#ion-ios-undo"></use></svg></button>`:"redo"===w?`<button tabindex="-1" title="${t.out("Redo")}" class="rte-redo"><svg class="is-icon-flex" style="margin-top:2px;width:15px;height:15px;"><use xlink:href="#ion-ios-redo"></use></svg></button>`:"zoom"===w?`<button tabindex="-1" title="${t.out("Zoom")}" class="rte-zoom"><svg class="is-icon-flex" style="margin-top:2px;width:15px;height:15px;"><use xlink:href="#icon-zoom-in"></use></svg></button>`:"livepreview"===w?`<button tabindex="-1" title="${t.out("Live Preview")}" class="rte-livepreview"><svg class="is-icon-flex" style="margin-top:2px;width:15px;height:15px;"><use xlink:href="#icon-device-desktop"></use></svg></button>`:"|"===w?'<div class="rte-separator"></div>':`<button tabindex="-1" title="button not found" data-plugin="${w}"></button>`:L+=`<button tabindex="-1" title="${t.out("Icon")}" class="rte-icon"><svg class="is-icon-flex" style="width:14px;height:14px;margin-top:2px;"><use xlink:href="#ion-android-happy"></use></svg></button>`;for(_=0;_<e.opts.iconButtons.length;_++)"createlink"===(w=e.opts.iconButtons[_].toLowerCase())?q+=`<button tabindex="-1" title="${t.out("Hyperlink")}" class="rte-link"><svg class="is-icon-flex" style="width:14px;height:14px;"><use xlink:href="#ion-link"></use></svg></button>`:"icon"!==w||this.builder.opts.emailMode?q+="align"===w?`<button tabindex="-1" title="${t.out("Align")}" class="rte-align"><svg class="is-icon-flex" style="width:12px;height:12px;margin-top:-2px;"><use xlink:href="#icon-align-full"></use></svg></button>`:"color"===w?`<button tabindex="-1" title="${t.out("Color")}" class="rte-color"><svg class="is-icon-flex" style="width:12px;height:12px;"><use xlink:href="#ion-contrast"></use></svg></button>`:"gridtool"===w?`<button tabindex="-1" title="${t.out("Grid Tool")}" class="rte-grideditor"><svg class="is-icon-flex" style="margin-right:-3px;"><use xlink:href="#ion-grid"></use></svg></button>`:"html"===w?`<button tabindex="-1" title="${t.out("HTML")}" class="rte-html"><svg class="is-icon-flex" style="margin-right:-3px;width:14px;height:14px;"><use xlink:href="#ion-ios-arrow-left"></use></svg><svg class="is-icon-flex" style="margin-left:-2px;width:14px;height:14px;"><use xlink:href="#ion-ios-arrow-right"></use></svg></button>`:"preferences"===w?`<button tabindex="-1" title="${t.out("Preferences")}" class="rte-preferences"><svg class="is-icon-flex" style="width:13px;height:13px;"><use xlink:href="#ion-wrench"></use></svg></button>`:"addsnippet"===w?`<button tabindex="-1" title="${t.out("Add Snippet")}" class="rte-addsnippet"><svg class="is-icon-flex" style="width:18px;height:18px;margin-top:-1px;"><use xlink:href="#ion-ios-plus-empty"></use></svg></button>`:"textsettings"===w?`<button tabindex="-1" title="${t.out("Text Settings")}" class="rte-textsettings"><svg class="is-icon-flex" style="width:16px;height:16px;"><use xlink:href="#ion-ios-settings"></use></svg></button>`:"undo"===w?`<button tabindex="-1" title="${t.out("Undo")}" class="rte-undo"><svg class="is-icon-flex" style="margin-top:2px;width:15px;height:15px;"><use xlink:href="#ion-ios-undo"></use></svg></button>`:"redo"===w?`<button tabindex="-1" title="${t.out("Redo")}" class="rte-redo"><svg class="is-icon-flex" style="margin-top:2px;width:15px;height:15px;"><use xlink:href="#ion-ios-redo"></use></svg></button>`:"zoom"===w?`<button tabindex="-1" title="${t.out("Zoom")}" class="rte-zoom"><svg class="is-icon-flex" style="margin-top:2px;width:15px;height:15px;"><use xlink:href="#icon-zoom-in"></use></svg></button>`:"livepreview"===w?`<button tabindex="-1" title="${t.out("Live Preview")}" class="rte-livepreview"><svg class="is-icon-flex" style="margin-top:2px;width:15px;height:15px;"><use xlink:href="#icon-device-desktop"></use></svg></button>`:"more"===w&&""!==C?`<button tabindex="-1" title="${t.out("More")}" class="rte-more"><svg class="is-icon-flex" style="width:13px;height:13px;"><use xlink:href="#ion-more"></use></svg></button>`:"|"===w?'<div class="rte-separator"></div>':`<button tabindex="-1" title="button not found" data-plugin="${w}"></button>`:q+=`<button tabindex="-1" title="${t.out("Icon")}" class="rte-icon"><svg class="is-icon-flex" style="width:14px;height:14px;margin-top:2px;"><use xlink:href="#ion-android-happy"></use></svg></button>`;this.builder.opts.toolbarAddSnippetButton&&-1===q.indexOf("rte-addsnippet")&&-1===L.indexOf("rte-addsnippet")&&(q=`<button tabindex="-1" title="${t.out("Add Snippet")}" class="rte-addsnippet"><svg class="is-icon-flex" style="width:18px;height:18px;margin-top:-1px;"><use xlink:href="#ion-ios-plus-empty"></use></svg></button>`+q),""!==L&&-1===q.indexOf("rte-more")&&(q+=`<button tabindex="-1" title="${t.out("More")}" class="rte-more"><svg class="is-icon-flex" style="width:13px;height:13px;"><use xlink:href="#ion-more"></use></svg></button>`);let T="";for(_=0;_<e.opts.defaultFontSizes.length;_++)T+=`<button title="${e.opts.defaultFontSizes[_]}px" data-value="${e.opts.defaultFontSizes[_]}">${e.opts.defaultFontSizes[_]}</button>`;let M="";this.builder.leadingPreset.forEach((e=>{M+=`<button title="${e}" data-value="${e}">${e}</button>`}));let O=`<div class="is-rte-tool" style="position:fixed;flex-direction:column;display:none;">\n                <div class="rte-for-text" style="display:flex">\n                    ${k}\n                </div>\n                <div class="rte-for-icon" class="" style="display:flex">\n                    ${q}\n                </div>\n            </div>\n\n            <div class="is-elementrte-tool" style="position:fixed;flex-direction:column;display:none;">\n                <div style="display:flex">\n                    ${E}\n                </div>\n            </div>\n\n            <div class="rte-formatting-options is-rte-pop" tabindex="-1" role="dialog" aria-modal="true" aria-hidden="true">\n                <div>\n                    <button tabindex="-1" title="${t.out("Strikethrough")}" class="rte-format" data-command="strikethrough" style="float:left"><svg class="is-icon-flex" style="width:17px;height:17px;"><use xlink:href="#icon-strike"></use></svg></button>\n                    <button tabindex="-1" title="${t.out("Superscript")}" class="rte-format" data-command="superscript" style="float:left"><span style="font-family:serif;font-size:13px;">x</span><sup style="font-size:10px">2</sup></button>\n                    <button tabindex="-1" title="${t.out("Subscript")}" class="rte-format" data-command="subscript" style="float:left"><span style="font-family:serif;font-size:13px;">x</span><sub style="font-size:10px">2</sub></button>\n                    <button tabindex="-1" title="${t.out("Uppercase")}" class="rte-format" data-command="uppercase" style="float:left"><span style="font-family:serif;font-size:14px;display:inline-block;text-transform: none;">Aa</span></button>\n                    <button tabindex="-1" title="${t.out("Clean")}" class="rte-format" data-command="clean"><svg class="is-icon-flex" style="width:11px;height:11px;"><use xlink:href="#icon-clean"></use></svg></button>\n                </div>\n            </div>\n\n            <div class="rte-align-options is-rte-pop" tabindex="-1" role="dialog" aria-modal="true" aria-hidden="true">\n                <div>\n                    <button tabindex="-1" title="${t.out("Align Left")}" data-align="left"><svg class="is-icon-flex" style="width:14px;height:14px;"><use xlink:href="#icon-align-left"></use></svg></button>\n                    <button tabindex="-1" title="${t.out("Align Center")}" data-align="center"><svg class="is-icon-flex" style="width:14px;height:14px;"><use xlink:href="#icon-align-center"></use></svg></button>\n                    <button tabindex="-1" title="${t.out("Align Right")}" data-align="right"><svg class="is-icon-flex" style="width:14px;height:14px;"><use xlink:href="#icon-align-right"></use></svg></button>\n                    <button tabindex="-1" title="${t.out("Align Full")}" data-align="justify"><svg class="is-icon-flex" style="width:14px;height:14px;"><use xlink:href="#icon-align-full"></use></svg></button>\n                </div>\n            </div>\n\n            <div class="rte-list-options is-rte-pop" tabindex="-1" role="dialog" aria-modal="true" aria-hidden="true">\n                <div>\n                    <button tabindex="-1" title="${t.out("Bullets")}" data-action="insertUnorderedList"><svg class="is-icon-flex" style="width:14px;height:14px;"><use xlink:href="#icon-list-bullet"></use></svg></button>\n                    <button tabindex="-1" title="${t.out("Numbering")}" data-action="insertOrderedList"><svg class="is-icon-flex" style="width:14px;height:14px;"><use xlink:href="#icon-list-number"></use></svg></button>\n                    <button tabindex="-1" title="${t.out("Indent")}" data-action="indent"><svg class="is-icon-flex" style="width:14px;height:14px;"><use xlink:href="#icon-indent"></use></svg></button>\n                    <button tabindex="-1" title="${t.out("Outdent")}" data-action="outdent"><svg class="is-icon-flex" style="width:14px;height:14px;"><use xlink:href="#icon-outdent"></use></svg></use></svg></svg></button>\n                </div>\n            </div>\n\n            <div class="rte-paragraph-options is-rte-pop" tabindex="-1" role="dialog" aria-modal="true" aria-hidden="true">\n                <ul>\n                    <li style="height:58px" title="${t.out("Heading 1")}" data-block="h1" tabindex="0"><h1>Heading 1</h1></li>\n                    <li style="height:50px" title="${t.out("Heading 2")}" data-block="h2" tabindex="0"><h2>Heading 2</h2></li>\n                    <li style="height:45px" title="${t.out("Heading 3")}" data-block="h3" tabindex="0"><h3>Heading 3</h3></li>\n                    <li style="height:40px" title="${t.out("Heading 4")}" data-block="h4" tabindex="0"><h4>Heading 4</h4></li>\n                    <li style="height:28px" title="${t.out("Paragraph")}" data-block="p" tabindex="0"><p>Paragraph</p></li>\n                    <li style="height:28px" title="${t.out("DIV")}" data-block="div" tabindex="0"><p>div</p></li>\n                    <li style="height:28px" title="${t.out("Preformatted")}" data-block="pre" tabindex="0"><p style="font-family:courier, monospace;">Preformatted</p></li>\n                </ul>\n            </div>\n\n            <div class="rte-fontfamily-options is-rte-pop" tabindex="-1" role="dialog" aria-modal="true" aria-hidden="true">\n                <iframe tabindex="0" src="about:blank"></iframe>\n            </div>\n\n            <div class="rte-color-picker is-rte-pop" data-command="forecolor" tabindex="-1" role="dialog" aria-modal="true" aria-hidden="true">\n                <div class="is-pop-tabs">\n                    <div class="is-pop-tab-item active" data-value="forecolor">${t.out("Forecolor")}</div>\n                    <div class="is-pop-tab-item" data-value="backcolor">${t.out("Backcolor")}</div>\n                </div>\n                <div class="rte-color-picker-area"></div>\n            </div>\n            \n            <div class="rte-textsetting-options ${this.builder.simpleTextSettings?"simple":""} is-rte-pop" tabindex="-1" role="dialog" aria-modal="true" aria-hidden="true">\n                <div>\n                    <div class="is-label">${t.out("Font Size")}</div>\n                    <div class="rte-fontsize-options" style="display: flex;flex-flow: wrap;">\n                        ${T}\n\n                        <button title="${t.out("Decrease")}" data-value="-" style="font-size:13px">-</button>\n                        <button title="${t.out("Increase")}" data-value="+" style="font-size:13px">+</button>\n                        <button title="${t.out("Clear")}" data-value=""><svg class="is-icon-flex" style="width:18px;height:18px;margin-top: 2px;"><use xlink:href="#ion-ios-close-empty"></use></svg></button>\n                    </div>\n                    <div class="is-label separator label-fontweight">${t.out("Font Weight")}</div>\n                    <div class="rte-fontweight-options" style="display: flex;flex-flow: wrap;">\n                        <button title="100" data-value="100">100</button>\n                        <button title="200" data-value="200">200</button>\n                        <button title="300" data-value="300">300</button>\n                        <button title="400" data-value="400">400</button>\n                        <button title="500" data-value="500">500</button>\n                        <button title="600" data-value="600">600</button>\n                        <button title="700" data-value="700">700</button>\n                        <button title="800" data-value="800">800</button>\n                        <button title="900" data-value="900">900</button>\n                        <button title="${t.out("Clear")}" data-value=""><svg class="is-icon-flex" style="width:18px;height:18px;margin-top: 2px;"><use xlink:href="#ion-ios-close-empty"></use></svg></button>\n                    </div>\n                    <div class="is-label separator">${t.out("Line Spacing")}</div>\n                    <div class="rte-lineheight-options" style="display: flex;flex-flow: wrap;">\n                        \n                        ${M}\n\n                        <button title="${t.out("Decrease")}" data-value="-" style="font-size:13px">-</button>\n                        <button title="${t.out("Increase")}" data-value="+" style="font-size:13px">+</button>\n                        <button title="${t.out("Clear")}" data-value=""><svg class="is-icon-flex" style="width:18px;height:18px;margin-top: 2px;"><use xlink:href="#ion-ios-close-empty"></use></svg></button>\n                    </div>\n                    <div class="is-label separator">${t.out("Letter Spacing")}</div>\n                    <div class="rte-letterspacing-options" style="display: flex;flex-flow: wrap;">\n                        <button title="1" data-value="1">1</button>\n                        <button title="2" data-value="2">2</button>\n                        <button title="${t.out("Decrease")}" data-value="-" style="font-size:13px">-</button>\n                        <button title="${t.out("Increase")}" data-value="+" style="font-size:13px">+</button>\n                        <button title="${t.out("Clear")}" data-value=""><svg class="is-icon-flex" style="width:18px;height:18px;margin-top: 2px;"><use xlink:href="#ion-ios-close-empty"></use></svg></button>\n                    </div>\n                </div>\n            </div>\n\n            <div class="rte-zoom-options is-rte-pop" tabindex="-1" role="dialog" aria-modal="true" aria-hidden="true">\n                <div>\n                    <div class="is-label">${t.out("Zoom")}</div>\n                    <div style="padding-top:4px">\n                        <input type="range" min="50" max="100" value="1" class="rte-zoom-slider is-rangeslider">\n                    </div>\n                </div>\n            </div>\n\n            <div class="is-modal viewzoom" tabindex="-1" role="dialog" aria-modal="true" aria-hidden="true">\n                <div class="is-modal-content" style="max-width:250px;height:150px;display:flex;flex-flow:column;justify-content:center;">\n                    <div class="is-modal-bar is-draggable">${t.out("Zoom")}</div>\n                \n                    <div style="display:flex;flex-wrap:wrap;width:100%;padding-top:32px;">\n                        <input type="range" min="50" max="100" value="1" class="inp-zoom-slider is-rangeslider">\n                    </div>\n                </div>\n            </div>\n\n            <div class="is-modal insertimage" tabindex="-1" role="dialog" aria-modal="true" aria-hidden="true">\n                <div class="is-modal-content" style="max-width:560px;">\n                    <div class="is-browse-area">\n                        <div class="is-drop-area">\n                            <input id="fileInsertImage" type="file" accept="image/*" />\n                            <div class="drag-text">\n                                <p style="display:flex;justify-content:center;align-items:center;"><svg class="is-icon-flex" style="width:20px;height:20px;"><use xlink:href="#ion-camera"></use></svg> <span style="margin-left:5px;margin-top:3px;"> ${t.out("Drag and drop an image or click to browse.")} </span></p>\n                            </div>\n                        </div>\n                        <div class="is-preview-area">\n                            <div><img id="imgInsertImagePreview" alt="" /><button><i class="ion-ios-close-empty"></i></button></div>\n                        </div>\n                    </div>    \n                    <label for="inpInsertImageSrc" style="margin:10px 0 5px;display:block;">${t.out("Or Specify Image Source")}:</label>\n                    ${"function(){}"!==(this.builder.opts.onImageSelectClick+"").replace(/\s/g,"")||""!==this.builder.opts.imageselect?`<div class="image-src" style="margin-bottom: 12px;"><input id="inpInsertImageSrc" class="input-src" type="text" placeholder="${t.out("Source")}">\n                    <button title="${t.out("Select")}" class="input-select" style="flex:none;">\n                        ${this.builder.opts.selectIcon}\n                    </button></div>`:`<div class="image-src" style="margin-bottom: 12px;"><input id="inpInsertImageSrc" class="input-src" type="text" placeholder="${t.out("Source")}"></div>`}\n                    <div style="text-align:right">\n                        <button title="${t.out("Cancel")}" class="input-cancel classic-secondary">${t.out("Cancel")}</button>\n                        <button title="${t.out("Ok")}" class="input-ok classic-primary">${t.out("Ok")}</button>\n                    </div>\n                </div>\n            </div>\n\n            <div class="rte-icon-options is-rte-pop" tabindex="-1" role="dialog" aria-modal="true" aria-hidden="true">\n                <iframe tabindex="0" id="ifrIconInsert" src="about:blank"></iframe>\n            </div>\n\n            <div class="rte-customtag-options is-rte-pop scroll" tabindex="-1" role="dialog" aria-modal="true" aria-hidden="true">\n                <div>${x}</div>\n            </div>\n\n            <div class="rte-more-options is-rte-pop" tabindex="-1" role="dialog" aria-modal="true" aria-hidden="true">\n                <div class="rte-for-text">\n                ${C}\n                </div>\n                <div class="rte-for-icon">\n                ${L}\n                </div>\n            </div>\n\n            <div class="elementrte-more-options is-rte-pop" tabindex="-1" role="dialog" aria-modal="true" aria-hidden="true">\n                <div>\n                ${A}\n                </div>\n            </div>\n            `;n.appendHtml(i,O),y=i.querySelector(".is-rte-tool"),s=i.querySelector(".is-elementrte-tool"),u=i.querySelector(".rte-more-options"),p=i.querySelector(".elementrte-more-options"),o=i.querySelector(".rte-align-options"),a=i.querySelector(".rte-formatting-options"),l=i.querySelector(".rte-color-picker"),r=i.querySelector(".rte-list-options"),d=i.querySelector(".rte-fontfamily-options"),c=i.querySelector(".rte-paragraph-options"),h=i.querySelector(".rte-textsetting-options"),m=i.querySelector(".rte-zoom-options"),g=i.querySelector(".rte-icon-options"),b=i.querySelector(".rte-customtag-options"),f=i.querySelector(".rte-zoom-slider"),v=i.querySelector(".inp-zoom-slider");let R=y.querySelectorAll("[title]");Array.prototype.forEach.call(R,(e=>{e.setAttribute("data-title",e.getAttribute("title"))})),R=s.querySelectorAll("[title]"),Array.prototype.forEach.call(R,(e=>{e.setAttribute("data-title",e.getAttribute("title"))})),R=o.querySelectorAll("[title]"),Array.prototype.forEach.call(R,(e=>{e.setAttribute("data-title",e.getAttribute("title"))})),R=a.querySelectorAll("[title]"),Array.prototype.forEach.call(R,(e=>{e.setAttribute("data-title",e.getAttribute("title"))})),R=r.querySelectorAll("[title]"),Array.prototype.forEach.call(R,(e=>{e.setAttribute("data-title",e.getAttribute("title"))})),R=u.querySelectorAll("[title]"),Array.prototype.forEach.call(R,(e=>{e.setAttribute("data-title",e.getAttribute("title"))})),R=p.querySelectorAll("[title]"),Array.prototype.forEach.call(R,(e=>{e.setAttribute("data-title",e.getAttribute("title"))})),this.builder.isTouchSupport&&this.builder.doc.addEventListener("selectionchange",(function(){n.checkEditable()&&(""!==n.getSelected().trim()&&t.saveSelection())}),!1)}this.rteTool=y,this.elementRteTool=s,this.rteAlignOptions=o,this.rteFormattingOptions=a,this.rteColorPicker=l,this.rteListOptions=r,this.rteFontFamilyOptions=d,this.rteParagraphOptions=c,this.rteMoreOptions=u,this.elementRteMoreOptions=p,this.rteTextSettingOptions=h,this.rteZoomOptions=m,this.rteIconOptions=g,this.rteCustomTagOptions=b,this.rteZoomSlider=f,this.inpZoomSlider=v,this.positionToolbar(),i.querySelectorAll("button.rte-formatting").forEach((e=>{e.addEventListener("click",(()=>{const t=this.rteFormattingOptions,i=e.getBoundingClientRect().top,s=e.getBoundingClientRect().left;t.style.display="flex";const o=t.offsetWidth,a=t.offsetHeight;n.hasClass(t,"active")?this.util.hideRtePop(t):this.util.showRtePop(t,(()=>{if("left"===this.builder.opts.toolbar)t.style.top=i-a/2+20+"px",t.style.left=s+54+"px",t.style.right="auto";else if("right"===this.builder.opts.toolbar){t.style.top=i-a/2+20+"px",t.style.left="auto";const e=document.body.clientWidth;t.style.right=e-s+9+"px"}else t.style.top=i+54-6+"px",t.style.left=s-o/2+23+"px",t.style.right="auto";t.focus()}),e)}))})),i.querySelectorAll("button.rte-align").forEach((e=>{e.addEventListener("click",(()=>{const t=this.rteAlignOptions,i=e.getBoundingClientRect().top,s=e.getBoundingClientRect().left;t.style.display="flex";const o=t.offsetWidth,a=t.offsetHeight;n.hasClass(t,"active")?this.util.hideRtePop(t):this.util.showRtePop(t,(()=>{if("left"===this.builder.opts.toolbar)t.style.top=i-a/2+20+"px",t.style.left=s+54+"px",t.style.right="auto";else if("right"===this.builder.opts.toolbar){t.style.top=i-a/2+20+"px",t.style.left="auto";const e=document.body.clientWidth;t.style.right=e-s+9+"px"}else t.style.top=i+54-6+"px",t.style.left=s-o/2+23+"px",t.style.right="auto";t.focus()}),e)}))})),i.querySelectorAll("button.rte-list").forEach((e=>{e.addEventListener("click",(()=>{const t=this.rteListOptions;n.hasClass(t,"active")?(n.removeClass(t,"active"),n.addClass(t,"deactive")):this.util.showRtePop(t,(()=>{const i=e.getBoundingClientRect().top,n=e.getBoundingClientRect().left,s=t.offsetWidth,o=t.offsetHeight;if("left"===this.builder.opts.toolbar)t.style.top=i-o/2+20+"px",t.style.left=n+54+"px",t.style.right="auto";else if("right"===this.builder.opts.toolbar){t.style.top=i-o/2+20+"px",t.style.left="auto";const e=document.body.clientWidth;t.style.right=e-n+9+"px"}else t.style.top=i+54-6+"px",t.style.left=n-s/2+23+"px",t.style.right="auto";t.focus()}),e)}))}));const S=e=>{this.builder.uo.saveForUndo(),t.restoreSelection();const i=e.getAttribute("data-value");t.pasteHtmlAtCaret(i,!0),this.util.hideRtePop(this.rteCustomTagOptions)},C=e=>{e.preventDefault(),S(e.target)},k=e=>{e.preventDefault(),e.stopImmediatePropagation(),38===e.keyCode&&e.target.previousElementSibling?e.target.previousElementSibling.focus():40===e.keyCode&&e.target.nextElementSibling?e.target.nextElementSibling.focus():27===e.keyCode?this.util.hideRtePop(this.rteCustomTagOptions):13!==e.keyCode&&32!==e.keyCode||S(e.target)};i.querySelectorAll(".rte-customtag-options button").forEach((e=>{e.addEventListener("keydown",k),e.addEventListener("click",C)})),this.rteCustomTagOptions.addEventListener("keydown",(e=>{if(40===e.keyCode&&e.target.nextElementSibling){this.rteCustomTagOptions.querySelector("button").focus()}}));const A=this.rteCustomTagOptions.querySelectorAll("[data-value]");Array.prototype.forEach.call(A,(e=>{n.addEventListener(e,"click",(e=>{S(e.target)}))})),i.querySelectorAll("button.rte-tags").forEach((e=>{e.addEventListener("click",(()=>{t.saveSelection();const i=this.rteCustomTagOptions;n.hasClass(i,"active")?this.util.hideRtePop(i):this.util.showRtePop(i,(()=>{const t=e.getBoundingClientRect().top,s=e.getBoundingClientRect().left,o=i.offsetWidth,a=i.offsetHeight;if("left"===this.builder.opts.toolbar)i.style.top=t-a/2+20+"px",i.style.left=s+54+"px",i.style.right="auto";else if("right"===this.builder.opts.toolbar){i.style.top=t-a/2+20+"px",i.style.left="auto";const e=document.body.clientWidth;i.style.right=e-s+9+"px"}else i.style.top=t+54-6+"px",i.style.left=s-o/2+23+"px",i.style.right="auto";if(n.parentsHasClass(e,"rte-more-options"))if("left"===this.builder.opts.toolbar)i.style.top=parseInt(this.rteMoreOptions.style.top)+this.rteMoreOptions.offsetHeight-a+"px",i.style.left=s+54+"px",i.style.right="auto";else if("right"===this.builder.opts.toolbar){i.style.top=parseInt(this.rteMoreOptions.style.top)+this.rteMoreOptions.offsetHeight-a+"px",i.style.left="auto";const e=document.body.clientWidth;i.style.right=e-s+9+"px"}else i.style.top=t+54-6+"px",e.getBoundingClientRect().left+45-parseInt(this.rteMoreOptions.style.left)<i.offsetWidth?i.style.left=parseInt(this.rteMoreOptions.style.left)+"px":parseInt(this.rteMoreOptions.style.left)+this.rteMoreOptions.offsetWidth-e.getBoundingClientRect().left+45<i.offsetWidth&&(i.style.left=parseInt(this.rteMoreOptions.style.left)+this.rteMoreOptions.offsetWidth-o+"px"),i.style.right="auto";i.focus()}),e)}))}));const E=e=>{this.builder.uo.saveForUndo(),t.restoreSelection();const s=e.getAttribute("data-block"),o=n.getSelection();if(!o)return;const a=o.anchorNode;let l;if(a&&(l=a.nodeType!==Node.TEXT_NODE&&a.nodeType!==Node.COMMENT_NODE?a:a.parentElement),!l)return;let r=l.closest("h1")||l.closest("h2")||l.closest("h3")||l.closest("h4")||l.closest("h5")||l.closest("h6")||l.closest("pre")||l.closest("p")||l.closest("div");if(r){r.setAttribute("data-replacetagname","1");const e=document.createElement(s);for(var d=0,c=r.attributes.length;d<c;++d){var u=r.attributes.item(d).nodeName,p=r.attributes.item(d).nodeValue;e.setAttribute(u,p)}for(;r.firstChild;)e.appendChild(r.firstChild);r.parentNode.replaceChild(e,r);const t=document.querySelector('[data-replacetagname="1"]');t&&(t.removeAttribute("data-replacetagname"),n.selectElementContents(t))}t.saveSelection(),this.builder.opts.onChange(),i.querySelectorAll(".rte-paragraph-options li").forEach((e=>{e.classList.remove("on")})),e.classList.add("on"),e.focus()},L=e=>{e.preventDefault();let t=e.target;E(t)},q=e=>{e.preventDefault(),38===e.keyCode&&e.target.previousElementSibling?e.target.previousElementSibling.focus():40===e.keyCode&&e.target.nextElementSibling?e.target.nextElementSibling.focus():13!==e.keyCode&&32!==e.keyCode||E(e.target)};if(i.querySelectorAll(".rte-paragraph-options li").forEach((e=>{e.addEventListener("keydown",q),e.addEventListener("click",L)})),i.querySelectorAll("button.rte-paragraph").forEach((e=>{e.addEventListener("click",(()=>{const t=this.rteParagraphOptions;n.hasClass(t,"active")?this.util.hideRtePop(t):this.util.showRtePop(t,(()=>{const i=e.getBoundingClientRect().top,s=e.getBoundingClientRect().left,o=t.offsetWidth,a=t.offsetHeight;if("left"===this.builder.opts.toolbar)t.style.top=i-a/2+20+"px",t.style.left=s+54+"px",t.style.right="auto";else if("right"===this.builder.opts.toolbar){t.style.top=i-a/2+20+"px",t.style.left="auto";const e=document.body.clientWidth;t.style.right=e-s+9+"px"}else t.style.top=i+54-6+"px",t.style.left=s-o/2+23+"px",t.style.right="auto";if(n.parentsHasClass(e,"rte-more-options"))if("left"===this.builder.opts.toolbar)t.style.top=parseInt(this.rteMoreOptions.style.top)+this.rteMoreOptions.offsetHeight-a+"px",t.style.left=s+54+"px",t.style.right="auto";else if("right"===this.builder.opts.toolbar){t.style.top=parseInt(this.rteMoreOptions.style.top)+this.rteMoreOptions.offsetHeight-a+"px",t.style.left="auto";const e=document.body.clientWidth;t.style.right=e-s+9+"px"}else t.style.top=i+54-6+"px",t.style.left=parseInt(this.rteMoreOptions.style.left)+this.rteMoreOptions.offsetWidth-o+"px",t.style.right="auto"}),e),this.getState();var i=t.querySelector(".on");i&&i.focus()}))})),!this.builder.renderIframeLater){let e=d.querySelector("iframe").contentWindow.document;e.open(),this.builder.opts.emailMode?e.write(t.getFontFamilyEmail()):e.write(t.getFontFamilyHTML()),e.close()}if(i.querySelectorAll("button.rte-fontfamily").forEach((e=>{e.addEventListener("click",(()=>{const t=this.rteFontFamilyOptions;if(n.hasClass(t,"active"))this.util.hideRtePop(t);else{this.util.showRtePop(t,(()=>{const i=e.getBoundingClientRect().top,s=e.getBoundingClientRect().left,o=t.offsetWidth,a=t.offsetHeight;if("left"===this.builder.opts.toolbar)t.style.top=i-a/2+20+"px",t.style.left=s+54+"px",t.style.right="auto";else if("right"===this.builder.opts.toolbar){t.style.top=i-a/2+20+"px",t.style.left="auto";const e=document.body.clientWidth;t.style.right=e-s+9+"px"}else t.style.top=i+54-6+"px",t.style.left=s-o/2+23+"px",t.style.right="auto";if(n.parentsHasClass(e,"rte-more-options"))if("left"===this.builder.opts.toolbar)t.style.top=parseInt(this.rteMoreOptions.style.top)+this.rteMoreOptions.offsetHeight-a+"px",t.style.left=s+54+"px",t.style.right="auto";else if("right"===this.builder.opts.toolbar){t.style.top=parseInt(this.rteMoreOptions.style.top)+this.rteMoreOptions.offsetHeight-a+"px",t.style.left="auto";const e=document.body.clientWidth;t.style.right=e-s+9+"px"}else t.style.top=i+54-6+"px",t.style.left=parseInt(this.rteMoreOptions.style.left)+this.rteMoreOptions.offsetWidth-o+"px",t.style.right="auto"}),e),this.getState();let s=t.querySelector("iframe").contentWindow.document.querySelector("#divFontList");var i=s.querySelector(".on");i?(i.focus(),s.scrollTop=s.scrollTop+i.getBoundingClientRect().top-90):s.querySelector("li").focus()}}))})),!this.builder.renderIframeLater){let e=g.querySelector("iframe").contentWindow.document;e.open(),e.write(this.getIconsHTML()),e.close()}let T=i.querySelectorAll("button.rte-icon");T.forEach((e=>{e.addEventListener("click",(e=>{t.saveSelection(),this.openIcon(e)}))})),i.querySelectorAll("button.rte-color").forEach((e=>{e.addEventListener("click",(()=>{const t=this.rteColorPicker;if(n.hasClass(t,"active"))this.util.hideRtePop(t);else{this.util.showRtePop(t,(()=>{const i=e.getBoundingClientRect().top,n=e.getBoundingClientRect().left,s=t.offsetWidth;if("left"===this.builder.opts.toolbar)t.style.top=this.rteTool.style.top,t.style.left=n+54+"px",t.style.right="auto";else if("right"===this.builder.opts.toolbar){t.style.top=this.rteTool.style.top,t.style.left="auto";const e=document.body.clientWidth;t.style.right=e-n+9+"px"}else t.style.top=i+54-6+"px",t.style.left=n-s/2+23+"px",t.style.right="auto"}),e),this.builder.uo.saveForUndo(!0),t.querySelector(".input-text").focus()}}))})),i.querySelectorAll("button.rte-preferences").forEach((e=>{e.addEventListener("click",(()=>{this.builder.viewPreferences()}))})),i.querySelectorAll("button.rte-html").forEach((e=>{e.addEventListener("click",(()=>{this.builder.viewHtml()}))})),i.querySelectorAll("button.rte-grideditor").forEach((e=>{e.addEventListener("click",(()=>{const e=this.builderStuff.querySelector(".grideditor");n.addClass(e,"active");const t=this.builder.doc.querySelectorAll(this.builder.opts.container);Array.prototype.forEach.call(t,(e=>{e.setAttribute("grideditor","")}))}))})),i.querySelectorAll("button.rte-undo").forEach((e=>{e.addEventListener("click",(()=>{this.builder.uo.doUndo()}))})),i.querySelectorAll("button.rte-redo").forEach((e=>{e.addEventListener("click",(()=>{this.builder.uo.doRedo()}))})),i.querySelectorAll("button.rte-addsnippet").forEach((e=>{e.addEventListener("click",(()=>{this.viewSnippets()}))})),i.querySelectorAll("button.rte-link").forEach((e=>{e.addEventListener("click",(()=>{this.hyperlink.createLink()}))})),i.querySelectorAll("button.rte-image").forEach((e=>{e.addEventListener("click",(()=>{this.insertImage()}))}));const M=this.builderStuff.querySelector(".insertimage"),O=M.querySelector("#fileInsertImage");n.addEventListener(O,"change",(e=>{var t=e.target;if(t.files&&t.files[0]){var i=new FileReader;i.onload=function(e){M.querySelector(".is-drop-area").style.display="none",M.querySelector("#imgInsertImagePreview").src=e.target.result,M.querySelector(".is-preview-area").style.display="block",O.setAttribute("disabled","disabled");let i=t.files[0].name;M.querySelector("#imgInsertImagePreview").setAttribute("data-filename",i)},i.readAsDataURL(t.files[0]),M.querySelector(".input-src").value=""}}));const R=M.querySelector(".input-ok");n.addEventListener(R,"click",(()=>{if(!this.builder.activeCol)return void t.hideModal(M);this.builder.uo.saveForUndo(),t.restoreSelection();let e="";if(e="none"===M.querySelector(".is-drop-area").style.display?M.querySelector("#imgInsertImagePreview").src:M.querySelector(".input-src").value,""===e)return;let i=M.querySelector("#imgInsertImagePreview").getAttribute("data-filename");t.pasteHtmlAtCaret('<img data-filename="'+i+'" src="'+e+'" alt="" />',!1),t.hideModal(M);let n=this.builder.doc.querySelector(".builder-active");n&&this.builder.applyBehaviorOn(n),t.saveSelection(),this.builder.opts.onChange(),this.builder.opts.onRender()}));const I=M.querySelector(".input-cancel");n.addEventListener(I,"click",(()=>{t.hideModal(M)}));const B=M.querySelector(".is-drop-area");n.addEventListener(B,"dragover",(()=>{n.addClass(B,"image-dropping")})),n.addEventListener(B,"dragleave",(()=>{n.removeClass(B,"image-dropping")}));const N=M.querySelector(".is-preview-area button");n.addEventListener(N,"click",(()=>{M.querySelector("#fileInsertImage").value="",M.querySelector(".is-preview-area").style.display="none",O.removeAttribute("disabled"),B.style.display="block",n.removeClass(B,"image-dropping")}));const $=M.querySelector(".input-src");if(n.addEventListener($,"keyup",(()=>{""!==$.value&&(M.querySelector("#fileInsertImage").value="",M.querySelector(".is-preview-area").style.display="none",O.removeAttribute("disabled"),B.style.display="block",n.removeClass(B,"image-dropping"))})),this.builder.opts.onImageSelectClick||""!==this.builder.opts.imageselect||(M.querySelector(".input-select").style.display="none"),this.builder.opts.onImageSelectClick||""!==this.builder.opts.imageselect){n.addClass(M.querySelector(".image-src"),"image-select");const e=M.querySelector(".input-select");e&&n.addEventListener(e,"click",(()=>{if(this.builder.opts.onImageSelectClick)this.builder.opts.onImageSelectClick({targetInput:M.querySelector(".input-src"),theTrigger:e});else{let i=this.builderStuff.querySelector(".is-modal.imageselect"),n=i.querySelector("iframe");this.builder.opts.assetRefresh&&(n.src=this.builder.opts.imageselect,this.builder.opts.assetRefresh=!1),"about:blank"===n.src&&(n.src=this.builder.opts.imageselect),t.showModal(i,!1,(()=>{e.removeAttribute("data-focus"),e.focus()}),!1,this.builder.assetPanelFullScreen)}this.builder.targetInput=M.querySelector(".input-src"),this.builder.targetCallback=null,this.builder.targetAssetType="image"}))}else n.removeClass($,"image-select");i.querySelectorAll("button.rte-livepreview").forEach((e=>{n.addEventListener(e,"click",(()=>{i.querySelector(".is-modal.content-preview").classList.contains("active")?this.builder.closePreview():this.builder.openPreview()}))})),i.querySelectorAll("button.rte-zoom").forEach((e=>{n.addEventListener(e,"click",(()=>{this.rteZoomSlider.value=100*this.builder.opts.zoom;const t=this.rteZoomOptions,i=e.getBoundingClientRect().top,s=e.getBoundingClientRect().left;t.style.display="flex";const o=t.offsetWidth,a=t.offsetHeight;n.hasClass(t,"active")?this.util.hideRtePop(t):this.util.showRtePop(t,(()=>{if("none"!==this.rteTool.style.display){if("left"===this.builder.opts.toolbar)t.style.top=i-a/2+20+"px",t.style.left=s+54+"px",t.style.right="auto";else if("right"===this.builder.opts.toolbar){t.style.top=i-a/2+20+"px",t.style.left="auto";const e=document.body.clientWidth;t.style.right=e-s+9+"px"}else{t.style.top=i+54-6+"px";const e=parseInt(this.rteTool.style.left)+this.rteTool.offsetWidth,n=s-o/2+23+o,a=0;t.style.left=n>e?parseInt(this.rteTool.style.left)+this.rteTool.offsetWidth-o+a+"px":s-o/2+23+"px",t.style.right="auto"}if(n.parentsHasClass(e,"rte-more-options"))if("left"===this.builder.opts.toolbar)t.style.top=parseInt(this.rteMoreOptions.style.top)+this.rteMoreOptions.offsetHeight-a+"px",t.style.left=s+54+"px",t.style.right="auto";else if("right"===this.builder.opts.toolbar){t.style.top=parseInt(this.rteMoreOptions.style.top)+this.rteMoreOptions.offsetHeight-a+"px",t.style.left="auto";const e=document.body.clientWidth;t.style.right=e-s+9+"px"}else t.style.top=i+54-6+"px",t.style.left=parseInt(this.rteMoreOptions.style.left)+this.rteMoreOptions.offsetWidth-o+"px",t.style.right="auto"}else{if("left"===this.builder.opts.toolbar)t.style.top=i-a/2+20+"px",t.style.left=s+54+"px",t.style.right="auto";else if("right"===this.builder.opts.toolbar){t.style.top=i-a/2+20+"px",t.style.left="auto";const e=document.body.clientWidth;t.style.right=e-s+9+"px"}else{t.style.top=i+54-6+"px";const e=parseInt(this.elementRteTool.style.left)+this.elementRteTool.offsetWidth,n=s-o/2+23+o;t.style.left=n>e?parseInt(this.elementRteTool.style.left)+this.elementRteTool.offsetWidth-o+"px":s-o/2+23+"px",t.style.right="auto"}if(n.parentsHasClass(e,"elementrte-more-optionss"))if("left"===this.builder.opts.toolbar)t.style.top=parseInt(this.elementRteMoreOptions.style.top)+this.elementRteMoreOptions.offsetHeight-a+"px",t.style.left=s+54+"px",t.style.right="auto";else if("right"===this.builder.opts.toolbar){t.style.top=parseInt(this.elementRteMoreOptions.style.top)+this.elementRteMoreOptions.offsetHeight-a+"px",t.style.left="auto";const e=document.body.clientWidth;t.style.right=e-s+9+"px"}else t.style.top=i+54-6+"px",t.style.left=parseInt(this.elementRteMoreOptions.style.left)+this.elementRteMoreOptions.offsetWidth-o+"px",t.style.right="auto"}t.focus()}),e)}))})),this.rteZoomSlider.value=100*this.builder.opts.zoom,this.rteZoomSlider.onfocus=()=>{this.builder.onZoomStart&&this.builder.onZoomStart()},this.rteZoomSlider.oninput=()=>{let e=this.rteZoomSlider.value/100;this.builder.opts.zoom=e,localStorage.setItem("_zoom",e),this.builder.setZoomOnArea();let t=this.builder.doc.querySelectorAll(".is-tool");if(Array.prototype.forEach.call(t,(e=>{e.style.display=""})),t=this.builder.doc.querySelectorAll(".is-row-tool"),t.forEach((e=>{e.style.display="none"})),t=this.builder.doc.querySelectorAll(".is-col-tool"),t.forEach((e=>{e.style.display="none"})),t=this.builder.doc.querySelectorAll(".is-rowadd-tool"),t.forEach((e=>{e.style.opacity=0})),this.builder.onZoom){let e=this.rteZoomSlider.value/100;this.builder.onZoom(e)}},this.rteZoomSlider.onchange=()=>{setTimeout((()=>{if(""!==this.builder.opts.page){const e=this.builder.doc.querySelector(this.builder.opts.page);this.builder.setZoomOnControl(e)}else{this.builder.doc.querySelectorAll(this.builder.opts.container).forEach((e=>{this.builder.setZoomOnControl(e)}))}this.builder.elmTool.repositionElementTool();let e=this.builder.doc.querySelectorAll(".is-row-tool");if(e.forEach((e=>{e.style.display=""})),e=this.builder.doc.querySelectorAll(".is-rowadd-tool"),e.forEach((e=>{e.style.opacity=""})),e=this.builder.doc.querySelectorAll(".is-col-tool"),e.forEach((e=>{e.style.display=""})),this.builder.onZoomEnd){let e=this.rteZoomSlider.value/100;this.builder.onZoomEnd(e)}}),300)},this.inpZoomSlider.onfocus=()=>{this.builder.onZoomStart&&this.builder.onZoomStart()},this.inpZoomSlider.oninput=()=>{let e=this.inpZoomSlider.value/100;this.builder.opts.zoom=e,localStorage.setItem("_zoom",e),this.builder.setZoomOnArea();let t=this.builder.doc.querySelectorAll(".is-tool");if(Array.prototype.forEach.call(t,(e=>{e.style.display=""})),t=this.builder.doc.querySelectorAll(".is-row-tool"),t.forEach((e=>{e.style.display="none"})),t=this.builder.doc.querySelectorAll(".is-col-tool"),t.forEach((e=>{e.style.display="none"})),t=this.builder.doc.querySelectorAll(".is-rowadd-tool"),t.forEach((e=>{e.style.opacity=0})),this.builder.onZoom){let e=this.inpZoomSlider.value/100;this.builder.onZoom(e)}},this.inpZoomSlider.onchange=()=>{setTimeout((()=>{if(""!==this.builder.opts.page){const e=this.builder.doc.querySelector(this.builder.opts.page);this.builder.setZoomOnControl(e)}else{this.builder.doc.querySelectorAll(this.builder.opts.container).forEach((e=>{this.builder.setZoomOnControl(e)}))}this.builder.elmTool.repositionElementTool();let e=this.builder.doc.querySelectorAll(".is-row-tool");if(e.forEach((e=>{e.style.display=""})),e=this.builder.doc.querySelectorAll(".is-rowadd-tool"),e.forEach((e=>{e.style.opacity=""})),e=this.builder.doc.querySelectorAll(".is-col-tool"),e.forEach((e=>{e.style.display=""})),this.builder.onZoomEnd){let e=this.rteZoomSlider.value/100;this.builder.onZoomEnd(e)}if(this.builder.onZoomEnd){let e=this.inpZoomSlider.value/100;this.builder.onZoomEnd(e)}this.rteZoomSlider.value=this.inpZoomSlider.value}),300)},i.querySelectorAll("button.rte-textsettings").forEach((e=>{n.addEventListener(e,"click",(()=>{const t=this.rteTextSettingOptions,i=e.getBoundingClientRect().top,s=e.getBoundingClientRect().left;t.style.display="flex";const o=t.offsetWidth,a=t.offsetHeight;n.hasClass(t,"active")?this.util.hideRtePop(t):(this.getTextSettingsState(),this.util.showRtePop(t,(()=>{if("left"===this.builder.opts.toolbar)t.style.top=i-a/2+20+"px",t.style.left=s+54+"px",t.style.right="auto";else if("right"===this.builder.opts.toolbar){t.style.top=i-a/2+20+"px",t.style.left="auto";const e=document.body.clientWidth;t.style.right=e-s+9+"px"}else t.style.top=i+54-6+"px",t.style.left=s-o/2+23+"px",t.style.right="auto";if(n.parentsHasClass(e,"rte-more-options"))if("left"===this.builder.opts.toolbar)t.style.top=parseInt(this.rteMoreOptions.style.top)+this.rteMoreOptions.offsetHeight-a+"px",t.style.left=s+54+"px",t.style.right="auto";else if("right"===this.builder.opts.toolbar){t.style.top=parseInt(this.rteMoreOptions.style.top)+this.rteMoreOptions.offsetHeight-a+"px",t.style.left="auto";const e=document.body.clientWidth;t.style.right=e-s+9+"px"}else t.style.top=i+54-6+"px",t.style.left=s-o/2+23+"px",t.style.right="auto";t.focus()}),e))}))}));const z=e=>{9!==e.which||e.shiftKey?9===e.which&&e.shiftKey&&e.target===document.querySelector(".rte-textsetting-options button")&&(document.querySelector(".rte-letterspacing-options button:last-child").focus(),e.preventDefault()):e.target===document.querySelector(".rte-letterspacing-options button:last-child")&&(document.querySelector(".rte-textsetting-options button").focus(),e.preventDefault())};(H=h.querySelectorAll("button")).forEach((e=>{e.addEventListener("keydown",z)})),this.rteTool.querySelectorAll("button.rte-more").forEach((e=>{e.addEventListener("click",(()=>{this.showRteMore()}))}));let P=this.elementRteTool.querySelector("button.rte-more");P&&n.addEventListener(P,"click",(()=>{this.showElementRteMore()}));var H=Array.prototype.slice.call(this.rteTool.querySelectorAll(".rte-format")).concat(Array.prototype.slice.call(this.rteFormattingOptions.querySelectorAll(".rte-format"))).concat(Array.prototype.slice.call(this.rteMoreOptions.querySelectorAll(".rte-format")));Array.prototype.forEach.call(H,(e=>{n.addEventListener(e,"click",(()=>{this.builder.uo.saveForUndo();const i=e.getAttribute("data-command");var s=n.getSelected();if(this.formatText(i),this.builder.isTouchSupport||t.saveSelection(),""===s.trim()&&(t.restoreSelection(),this.builder.isTouchSupport)){this.rteTool.querySelector("button").focus()}this.builder.opts.onChange()}))})),H=this.rteAlignOptions.querySelectorAll("button[data-align]"),Array.prototype.forEach.call(H,(e=>{n.addEventListener(e,"click",(()=>{if(this.builder.uo.saveForUndo(),t.restoreSelection(),this.builder.isTouchSupport){this.rteTool.querySelector("button").focus()}const i=e.getAttribute("data-align");let s;try{let e;this.builder.win.getSelection?(e=this.builder.win.getSelection().getRangeAt(0).commonAncestorContainer,s=3===e.nodeType?e.parentNode:e):this.builder.doc.selection&&(e=this.builder.doc.selection.createRange(),s=this.builder.doc.selection.createRange().parentElement())}catch(e){return}let o=s,a=o.closest("table.button");if(a){if("center"===i)if("center"!==a.parentNode.tagName.toLowerCase()){let e=document.createElement("CENTER");a.parentNode.insertBefore(e,a),e.appendChild(a)}else a.setAttribute("align","");else a.setAttribute("align",i);n.removeClass(a,"float-center")}else{for(;"p"!==o.tagName.toLowerCase()&&"h1"!==o.tagName.toLowerCase()&&"h2"!==o.tagName.toLowerCase()&&"h3"!==o.tagName.toLowerCase()&&"h4"!==o.tagName.toLowerCase()&&"h5"!==o.tagName.toLowerCase()&&"h6"!==o.tagName.toLowerCase()&&"pre"!==o.tagName.toLowerCase()&&"blockquote"!==o.tagName.toLowerCase()&&"div"!==o.tagName.toLowerCase()&&"td"!==o.tagName.toLowerCase()&&"th"!==o.tagName.toLowerCase();)o=o.parentNode;this.builder.useCssClasses?(o.style.textAlign="",n.removeClass(o,this.builder.cssClasses.textAlign.left),n.removeClass(o,this.builder.cssClasses.textAlign.center),n.removeClass(o,this.builder.cssClasses.textAlign.right),n.removeClass(o,this.builder.cssClasses.textAlign.justify),"left"===i&&n.addClass(o,this.builder.cssClasses.textAlign.left),"center"===i&&n.addClass(o,this.builder.cssClasses.textAlign.center),"right"===i&&n.addClass(o,this.builder.cssClasses.textAlign.right),"justify"===i&&n.addClass(o,this.builder.cssClasses.textAlign.justify)):o.style.textAlign=i}this.getState(),t.saveSelection(),this.builder.opts.onChange()}))})),H=this.elementRteTool.querySelectorAll("button[data-align]"),Array.prototype.forEach.call(H,(e=>{n.addEventListener(e,"click",(()=>{this.builder.uo.saveForUndo();const t=e.getAttribute("data-align");let i=this.builder.inspectedElement;for(;"p"!==i.tagName.toLowerCase()&&"h1"!==i.tagName.toLowerCase()&&"h2"!==i.tagName.toLowerCase()&&"h3"!==i.tagName.toLowerCase()&&"h4"!==i.tagName.toLowerCase()&&"h5"!==i.tagName.toLowerCase()&&"h6"!==i.tagName.toLowerCase()&&"pre"!==i.tagName.toLowerCase()&&"blockquote"!==i.tagName.toLowerCase()&&"div"!==i.tagName.toLowerCase()&&"td"!==i.tagName.toLowerCase()&&"th"!==i.tagName.toLowerCase();)i=i.parentNode;this.builder.useCssClasses?(i.style.textAlign="",n.removeClass(i,this.builder.cssClasses.textAlign.left),n.removeClass(i,this.builder.cssClasses.textAlign.center),n.removeClass(i,this.builder.cssClasses.textAlign.right),n.removeClass(i,this.builder.cssClasses.textAlign.justify),"left"===t&&n.addClass(i,this.builder.cssClasses.textAlign.left),"center"===t&&n.addClass(i,this.builder.cssClasses.textAlign.center),"right"===t&&n.addClass(i,this.builder.cssClasses.textAlign.right),"justify"===t&&n.addClass(i,this.builder.cssClasses.textAlign.justify)):i.style.textAlign=t,this.getState(),this.builder.opts.onChange()}))})),H=this.elementRteMoreOptions.querySelectorAll("button[data-align]"),Array.prototype.forEach.call(H,(e=>{n.addEventListener(e,"click",(()=>{this.builder.uo.saveForUndo();const t=e.getAttribute("data-align");let i=this.builder.inspectedElement;for(;"p"!==i.tagName.toLowerCase()&&"h1"!==i.tagName.toLowerCase()&&"h2"!==i.tagName.toLowerCase()&&"h3"!==i.tagName.toLowerCase()&&"h4"!==i.tagName.toLowerCase()&&"h5"!==i.tagName.toLowerCase()&&"h6"!==i.tagName.toLowerCase()&&"pre"!==i.tagName.toLowerCase()&&"blockquote"!==i.tagName.toLowerCase()&&"div"!==i.tagName.toLowerCase()&&"td"!==i.tagName.toLowerCase()&&"th"!==i.tagName.toLowerCase();)i=i.parentNode;this.builder.useCssClasses?(i.style.textAlign="",n.removeClass(i,this.builder.cssClasses.textAlign.left),n.removeClass(i,this.builder.cssClasses.textAlign.center),n.removeClass(i,this.builder.cssClasses.textAlign.right),n.removeClass(i,this.builder.cssClasses.textAlign.justify),"left"===t&&n.addClass(i,this.builder.cssClasses.textAlign.left),"center"===t&&n.addClass(i,this.builder.cssClasses.textAlign.center),"right"===t&&n.addClass(i,this.builder.cssClasses.textAlign.right),"justify"===t&&n.addClass(i,this.builder.cssClasses.textAlign.justify)):i.style.textAlign=t,this.getState(),this.builder.opts.onChange()}))})),H=this.rteListOptions.querySelectorAll("button[data-action]"),Array.prototype.forEach.call(H,(e=>{n.addEventListener(e,"click",(()=>{this.builder.uo.saveForUndo(),t.restoreSelection();let i=this.builder.activeCol,s=i.querySelectorAll("span");Array.prototype.forEach.call(s,(e=>{e.setAttribute("data-keep","")}));const o=e.getAttribute("data-action");if(this.builder.doc.execCommand(o,!1,null),i=this.builder.activeCol,s=i.querySelectorAll("span"),Array.prototype.forEach.call(s,(e=>{e.getAttribute("data-keep")||(e.outerHTML=e.innerHTML)})),Array.prototype.forEach.call(s,(e=>{e.getAttribute("data-keep")&&n.removeAttribute(e,"data-keep")})),this.getState(),t.saveSelection(),this.builder.opts.onChange(),this.builder.isTouchSupport){this.rteTool.querySelector("button").focus()}}))}));let D=l.querySelectorAll(".is-pop-tab-item");Array.prototype.forEach.call(D,(e=>{n.addEventListener(e,"click",(e=>{this.builder.uo.saveForUndo(!0);let t=l.querySelectorAll(".is-pop-tab-item");Array.prototype.forEach.call(t,(e=>{n.removeClass(e,"active")})),n.addClass(e.target,"active"),"forecolor"===l.querySelector(".active").getAttribute("data-value")?l.setAttribute("data-command","forecolor"):l.setAttribute("data-command","backcolor")}))})),new Df({colors:this.builder.opts.colors,onPick:e=>{let i;t.restoreSelection();try{let e;this.builder.win.getSelection?(e=this.builder.win.getSelection().getRangeAt(0).commonAncestorContainer,i=3===e.nodeType?e.parentNode:e):this.builder.doc.selection&&(e=this.builder.doc.selection.createRange(),i=this.builder.doc.selection.createRange().parentElement())}catch(e){if(!this.builder.activeIcon)return;i=this.builder.activeIcon}this.builder.activeIcon&&(i=this.builder.activeIcon);const s=l.getAttribute("data-command");var o=n.getSelected();if(""===o.trim())"forecolor"===s?i.style.color=e:i.style.backgroundColor=e;else if(i.innerText===o)"forecolor"===s?i.style.color=e:i.style.backgroundColor=e;else{"forecolor"===s?this.builder.doc.execCommand("ForeColor",!1,e):this.builder.doc.execCommand("BackColor",!1,e);for(var a=this.builder.doc.getElementsByTagName("font"),r=0,d=a.length;r<d;++r){""!==a[r].color&&"forecolor"===s&&(a[r].removeAttribute("color"),a[r].style.color=e)}}if(this.builder.isTouchSupport||t.saveSelection(),""===o.trim()&&t.restoreSelection(),this.builder.isTouchSupport){this.rteTool.querySelector("button").focus()}this.builder.opts.onChange()},renderOn:".rte-color-picker-area",animateModal:this.builder.opts.animateModal,elementToAnimate:this.builder.opts.container,lang:this.builder.opts.lang}),H=h.querySelectorAll(".rte-fontsize-options button"),Array.prototype.forEach.call(H,(e=>{n.addEventListener(e,"click",(()=>{let i=e.getAttribute("data-value");t.restoreSelection(),this.builder.uo.saveForUndo();const s=n.getSelection();if(!s)return;const o=s.anchorNode;let a=1;if(o){const e=o.nodeType!==Node.TEXT_NODE&&o.nodeType!==Node.COMMENT_NODE?o:o.parentElement;a=Number(window.getComputedStyle(e).getPropertyValue("font-size").match(/\d+/)[0])}const l=h.querySelectorAll(".rte-fontsize-options button");Array.prototype.forEach.call(l,(e=>{e.classList.remove("on")})),n.execCommand("font-size",a+1+"px",((e,t)=>{if(!e&&this.builder.activeIcon){let e=this.builder.activeIcon;this.builder.opts.fontSizeClassValues.length>0?this.applyClassFontSize(e,i):this.applyInlineFontSize(e,i)}t&&(this.builder.opts.fontSizeClassValues.length>0?this.applyClassFontSize(t,i):this.applyInlineFontSize(t,i),t.style.fontSize="")})),t.saveSelection(),this.getTextSettingsState(),this.builder.opts.onChange()}))})),H=h.querySelectorAll(".rte-fontweight-options button"),Array.prototype.forEach.call(H,(e=>{n.addEventListener(e,"click",(()=>{let i=e.getAttribute("data-value");t.restoreSelection(),this.builder.uo.saveForUndo();const s=h.querySelectorAll(".rte-fontweight-options button");Array.prototype.forEach.call(s,(e=>{e.classList.remove("on")})),n.execCommand("font-weight",i,((e,t)=>{this.builder.useCssClasses&&t&&this.applyClassFontWeight(t,i)})),t.saveSelection(),this.getState(),this.getTextSettingsState(),this.builder.opts.onChange()}))})),H=h.querySelectorAll(".rte-lineheight-options button"),Array.prototype.forEach.call(H,(e=>{n.addEventListener(e,"click",(()=>{let i=e.getAttribute("data-value");t.restoreSelection(),this.builder.uo.saveForUndo();const s=h.querySelectorAll(".rte-lineheight-options button");if(Array.prototype.forEach.call(s,(e=>{e.classList.remove("on")})),this.builder.useCssClasses){const e=n.getSelection();if(!e)return;const t=e.anchorNode;let s,o;if(t&&(s=t.nodeType!==Node.TEXT_NODE&&t.nodeType!==Node.COMMENT_NODE?t:t.parentElement),!s)return;const a=this.builder.cssClasses.leading;if(""===i)o="";else if("+"===i||"-"===i)for(let e=0;e<Object.keys(a).length;e++){let t=Object.values(a)[e];if(s.closest(`.${t}`)){if("+"===i){if(e+1===Object.keys(a).length)return;o=Object.values(a)[e+1];break}if("-"===i){if(e-1<0)return;o=Object.values(a)[e-1];break}}}else"0.8"===i?o=a.leading_8:"0.9"===i?o=a.leading_9:"1"===i?o=a.leading_10:"1.1"===i?o=a.leading_11:"1.2"===i?o=a.leading_12:"1.3"===i?o=a.leading_13:"1.4"===i?o=a.leading_14:"1.5"===i?o=a.leading_15:"1.6"===i?o=a.leading_16:"1.7"===i?o=a.leading_17:"1.8"===i?o=a.leading_18:"1.9"===i?o=a.leading_19:"2"===i?o=a.leading_20:"2.1"===i?o=a.leading_21:"2.2"===i&&(o=a.leading_22);o||("+"===i?o=a.leading_16:"-"===i&&(o=a.leading_14));const l=n.getParentBlock(s);l&&(l.style.lineHeight=""),n.execCommandClass(o,a,!0,"block")}else{let e;try{let t;this.builder.win.getSelection?(t=this.builder.win.getSelection().getRangeAt(0).commonAncestorContainer,e=3===t.nodeType?t.parentNode:t):this.builder.doc.selection&&(t=this.builder.doc.selection.createRange(),e=this.builder.doc.selection.createRange().parentElement())}catch(t){if(!this.builder.activeIcon)return;e=this.builder.activeIcon}this.builder.activeIcon&&(e=this.builder.activeIcon);let t=e;for(;t;){if("BODY"===t.tagName||"HTML"===t.tagName)return!1;if("inline"!==window.getComputedStyle(t).getPropertyValue("display")){e=t;break}t=t.parentNode}let s,o=!1,a=e.style.lineHeight;if(a&&-1===a.indexOf("px")?a=parseFloat(a):o=!0,o){let t=Number(window.getComputedStyle(e).getPropertyValue("font-size").match(/\d+/)[0]);a=Number(window.getComputedStyle(e).getPropertyValue("line-height").match(/\d+/)[0]),t>a?a=t/a:t<a?a/=t:a=1}"+"===i?s=a+.1:"-"===i?(s=a-.1,s<.2&&(s=.2)):s=""===i?"":i,n.doFunction(e,(function(e){"inline"!==window.getComputedStyle(e).getPropertyValue("display")&&(e.style.lineHeight=s)}),!0)}t.saveSelection(),this.getTextSettingsState(),this.builder.opts.onChange()}))})),H=h.querySelectorAll(".rte-letterspacing-options button"),Array.prototype.forEach.call(H,(e=>{n.addEventListener(e,"click",(()=>{let i=e.getAttribute("data-value");t.restoreSelection(),this.builder.uo.saveForUndo();const s=h.querySelectorAll(".rte-letterspacing-options button");if(Array.prototype.forEach.call(s,(e=>{e.classList.remove("on")})),this.builder.useCssClasses){const e=n.getSelection();if(!e)return;const t=e.anchorNode;let s,o;if(t&&(s=t.nodeType!==Node.TEXT_NODE&&t.nodeType!==Node.COMMENT_NODE?t:t.parentElement),!s)return;const a=this.builder.cssClasses.tracking;if(""===i)o="";else if("+"===i||"-"===i)for(let e=0;e<Object.keys(a).length;e++){let t=Object.values(a)[e];if(n.hasClass(s,t)){if("+"===i){if(e+1===Object.keys(a).length)return;o=Object.values(a)[e+1];break}if("-"===i){if(e-1<0)return;o=Object.values(a)[e-1];break}}}else"1"===i&&(o=a.tracking_025),"2"===i&&(o=a.tracking_050);o||("+"===i?o=a.tracking_025:"-"===i&&(o=a.tracking__025)),this.builder.activeElement&&(this.builder.activeElement.style.letterSpacing=""),s.style.letterSpacing="",o===a.tracking_000&&(o=""),n.execCommandClass(o,a)}else{let e;try{let t;this.builder.win.getSelection?(t=this.builder.win.getSelection().getRangeAt(0).commonAncestorContainer,e=3===t.nodeType?t.parentNode:t):this.builder.doc.selection&&(t=this.builder.doc.selection.createRange(),e=this.builder.doc.selection.createRange().parentElement())}catch(t){if(!this.builder.activeIcon)return;e=this.builder.activeIcon}this.builder.activeIcon&&(e=this.builder.activeIcon);let t,s=parseInt(window.getComputedStyle(e).getPropertyValue("letter-spacing"));isNaN(s)&&(s=0),t="+"===i?s+1+"px":"-"===i?s-1+"px":""===i?"":i+"px",n.doFunction(e,(function(e){e.style.letterSpacing=t}),!0)}t.saveSelection(),this.getTextSettingsState(),this.builder.opts.onChange()}))})),this.builder.doc.addEventListener("click",this.builder.doRteClick=e=>{var t=(e=e||window.event).target||e.srcElement;if(!this.builderStuff)return;if(this.builderStuff.getAttribute("preventDevault"))return void setTimeout((()=>{this.builderStuff.removeAttribute("preventDevault")}),30);let i,s,o,a,l;"flex"===this.rteMoreOptions.style.display&&(i=n.parentsHasClass(t,"rte-more"),s=n.parentsHasClass(t,"rte-more-options"),o=n.parentsHasClass(t,"is-rte-pop"),a=n.parentsHasClass(t,"is-modal"),l=!1,t.tagName&&(l="i"===t.tagName.toLowerCase()&&""===t.innerHTML&&n.parentsHasClass(T,"rte-more-options")),i||s||o||a||l||(this.rteMoreOptions.style.display="",n.removeClass(this.rteMoreOptions,"active"),n.addClass(this.rteMoreOptions,"deactive"))),"flex"===this.elementRteMoreOptions.style.display&&(i=n.parentsHasClass(t,"rte-more"),s=n.parentsHasClass(t,"elementrte-more-options"),o=n.parentsHasClass(t,"is-rte-pop"),a=n.parentsHasClass(t,"is-modal"),l=!1,i||s||o||a||l||(this.elementRteMoreOptions.style.display="",n.removeClass(this.elementRteMoreOptions,"active"),n.addClass(this.elementRteMoreOptions,"deactive")))}),this.builderStuff.insertAdjacentHTML("afterbegin","\n        <style>\n            #_cbhtml[toolbarfull] .is-rte-tool,\n            #_cbhtml[toolbarfull] .is-elementrte-tool {\n                top: 0;\n                left: 0;\n                width: 100vw;\n                align-items: center;\n                box-shadow: rgba(0, 0, 0, 0.07) -1px 1px 0px 0px;\n            }\n            #_cbhtml[toolbarfull] .is-rte-pop {\n                box-shadow: rgba(0, 0, 0, 0.05) 0px 1px 0px 1px;\n            }\n        </style>\n        "),"auto"!==this.builder.toolbarDisplay&&this.showDefaultToolbar()}zoomStart(){this.builder.onZoomStart&&this.builder.onZoomStart()}zoom(e){let t=e.value/100;this.builder.opts.zoom=t,localStorage.setItem("_zoom",t),this.builder.setZoomOnArea();let i=this.builder.doc.querySelectorAll(".is-tool");if(Array.prototype.forEach.call(i,(e=>{e.style.display=""})),i=this.builder.doc.querySelectorAll(".is-row-tool"),i.forEach((e=>{e.style.display="none"})),i=this.builder.doc.querySelectorAll(".is-col-tool"),i.forEach((e=>{e.style.display="none"})),i=this.builder.doc.querySelectorAll(".is-rowadd-tool"),i.forEach((e=>{e.style.opacity=0})),this.builder.onZoom){let t=e.value/100;this.builder.onZoom(t)}}zoomEnd(e){setTimeout((()=>{if(""!==this.builder.opts.page){const e=this.builder.doc.querySelector(this.builder.opts.page);this.builder.setZoomOnControl(e)}else{this.builder.doc.querySelectorAll(this.builder.opts.container).forEach((e=>{this.builder.setZoomOnControl(e)}))}this.builder.elmTool.repositionElementTool();let t=this.builder.doc.querySelectorAll(".is-row-tool");if(t.forEach((e=>{e.style.display=""})),t=this.builder.doc.querySelectorAll(".is-rowadd-tool"),t.forEach((e=>{e.style.opacity=""})),t=this.builder.doc.querySelectorAll(".is-col-tool"),t.forEach((e=>{e.style.display=""})),this.builder.onZoomEnd){let t=e.value/100;this.builder.onZoomEnd(t)}}),300)}formatText(e){const t=this.builder.dom;let i;try{let e;this.builder.win.getSelection?(e=this.builder.win.getSelection().getRangeAt(0).commonAncestorContainer,i=3===e.nodeType?e.parentNode:e):this.builder.doc.selection&&(e=this.builder.doc.selection.createRange(),i=this.builder.doc.selection.createRange().parentElement())}catch(e){return}var n=t.getSelected();if("bold"===e)if(this.builder.useCssClasses)t.execCommandToggle("fontWeight","",this.builder.cssClasses);else if(""===n.trim()){var s=i.tagName.toLowerCase();"b"===s?(t.selectElementContents(i),this.builder.doc.execCommand("bold",!1,null)):"bold"===i.style.fontWeight||i.style.fontWeight>400?i.style.fontWeight="":i.style.fontWeight="bold"}else this.builder.doc.execCommand("bold",!1,null);if("italic"===e)if(this.builder.useCssClasses)t.execCommandToggle("fontStyle","",this.builder.cssClasses);else if(""===n.trim())if("i"===(s=i.tagName.toLowerCase()))t.selectElementContents(i),this.builder.doc.execCommand("italic",!1,null);else{let e=window.getComputedStyle(i).getPropertyValue("font-style");i.style.fontStyle="italic"===e?"normal":"italic"}else this.builder.doc.execCommand("italic",!1,null);if("underline"===e&&(this.builder.useCssClasses?t.execCommandToggle("textUnderline","",this.builder.cssClasses):""===n.trim()?"u"===(s=i.tagName.toLowerCase())?(t.selectElementContents(i),this.builder.doc.execCommand("underline",!1,null)):-1!==i.style.textDecoration.indexOf("underline")?i.style.textDecoration="":i.style.textDecoration="underline":this.builder.doc.execCommand("underline",!1,null)),"strikethrough"===e&&(this.builder.useCssClasses?t.execCommandToggle("textLinethrough","",this.builder.cssClasses):""===n.trim()?"strike"===(s=i.tagName.toLowerCase())?(t.selectElementContents(i),this.builder.doc.execCommand("strikethrough",!1,null)):-1!==i.style.textDecoration.indexOf("line-through")?i.style.textDecoration="":i.style.textDecoration="line-through":this.builder.doc.execCommand("strikethrough",!1,null)),"superscript"===e&&(this.builder.useCssClasses?t.execCommandToggle("extend","superscript",this.builder.cssClasses):this.builder.doc.execCommand("superscript",!1,null)),"subscript"===e&&(this.builder.useCssClasses?t.execCommandToggle("extend","subscript",this.builder.cssClasses):this.builder.doc.execCommand("subscript",!1,null)),"uppercase"===e)if(this.builder.useCssClasses)t.execCommandToggle("textTransform","",this.builder.cssClasses);else{let e=window.getComputedStyle(i).getPropertyValue("text-transform");i.style.textTransform="uppercase"===e?"lowercase":"lowercase"===e?"capitalize":"capitalize"===e?"none":"none"===e?"uppercase":"none"}"clean"===e&&(this.builder.useCssClasses?(this.builder.doc.execCommand("removeFormat",!1,null),t.execCommandToggle("clean","",this.builder.cssClasses)):""===n.trim()?(i.style.cssText="",i.className=""):i.innerText.replace(/(\r\n|\n|\r)/gm,"")===n.trim().replace(/(\r\n|\n|\r)/gm,"")?(i.style.cssText="",i.className="",this.builder.doc.execCommand("removeFormat",!1,null),this.builder.doc.execCommand("removeFormat",!1,null)):(this.builder.doc.execCommand("removeFormat",!1,null),this.builder.doc.execCommand("removeFormat",!1,null))),this.getState()}formatTextNonToggle(e){const t=this.builder.dom;let i;try{let e;this.builder.win.getSelection?(e=this.builder.win.getSelection().getRangeAt(0).commonAncestorContainer,i=3===e.nodeType?e.parentNode:e):this.builder.doc.selection&&(e=this.builder.doc.selection.createRange(),i=this.builder.doc.selection.createRange().parentElement())}catch(e){return}var n=t.getSelected();"bold"===e&&t.execCommand("text-weight","bold",((e,i)=>{if(this.builder.useCssClasses&&i){const e=this.builder.cssClasses;i.classList.remove(e.fontWeight.thin),i.classList.remove(e.fontWeight.extralight),i.classList.remove(e.fontWeight.light),i.classList.remove(e.fontWeight.normal),i.classList.remove(e.fontWeight.semibold),i.classList.remove(e.fontWeight.bold),i.classList.remove(e.fontWeight.extrabold),i.classList.remove(e.fontWeight.black),i.classList.remove(e.fontWeight.defaultBold),i.classList.remove(e.fontWeight.defaultNormal),i.classList.add(e.fontWeight.semibold),t.doFunction(i,(function(e){e.style.fontWeight=""}),!0)}})),"italic"===e&&t.execCommand("text-style","italic",((e,i)=>{if(this.builder.useCssClasses&&i){const e=this.builder.cssClasses;i.classList.remove(e.fontStyle.italic),i.classList.remove(e.fontStyle.normal),i.classList.add(e.fontStyle.italic),t.doFunction(i,(function(e){e.style.fontStyle=""}),!0)}})),"underline"===e&&t.execCommand("text-decoration","underline",((e,i)=>{if(this.builder.useCssClasses&&i){const e=this.builder.cssClasses;i.classList.remove(e.textDecoration.underline),i.classList.remove(e.textDecoration.linethrough),i.classList.remove(e.textDecoration.normal),i.classList.add(e.textDecoration.underline),t.doFunction(i,(function(e){e.style.textDecoration=""}),!0)}})),"strikethrough"===e&&t.execCommand("text-decoration","line-through",((e,i)=>{if(this.builder.useCssClasses&&i){const e=this.builder.cssClasses;i.classList.remove(e.textDecoration.underline),i.classList.remove(e.textDecoration.linethrough),i.classList.remove(e.textDecoration.normal),i.classList.add(e.textDecoration.linethrough),t.doFunction(i,(function(e){e.style.textDecoration=""}),!0)}})),"superscript"===e&&(this.builder.useCssClasses?t.execCommandToggle("extend","superscript",this.builder.cssClasses):this.builder.doc.execCommand("superscript",!1,null)),"subscript"===e&&(this.builder.useCssClasses?t.execCommandToggle("extend","subscript",this.builder.cssClasses):this.builder.doc.execCommand("subscript",!1,null)),"uppercase"===e&&t.execCommand("text-transform","uppercase",((e,i)=>{if(this.builder.useCssClasses&&i){const e=this.builder.cssClasses;i.classList.remove(e.textTransform.uppercase),i.classList.remove(e.textTransform.lowercase),i.classList.remove(e.textTransform.capitalize),i.classList.remove(e.textTransform.normal),i.classList.add(e.textTransform.uppercase),t.doFunction(i,(function(e){e.style.textTransform=""}),!0)}})),"lowercase"===e&&t.execCommand("text-transform","lowercase",((e,i)=>{if(this.builder.useCssClasses&&i){const e=this.builder.cssClasses;i.classList.remove(e.textTransform.uppercase),i.classList.remove(e.textTransform.lowercase),i.classList.remove(e.textTransform.capitalize),i.classList.remove(e.textTransform.normal),i.classList.add(e.textTransform.lowercase),t.doFunction(i,(function(e){e.style.textTransform=""}),!0)}})),"capitalize"===e&&t.execCommand("text-transform","capitalize",((e,i)=>{if(this.builder.useCssClasses&&i){const e=this.builder.cssClasses;i.classList.remove(e.textTransform.uppercase),i.classList.remove(e.textTransform.lowercase),i.classList.remove(e.textTransform.capitalize),i.classList.remove(e.textTransform.normal),i.classList.add(e.textTransform.capitalize),t.doFunction(i,(function(e){e.style.textTransform=""}),!0)}})),"clean"===e&&(this.builder.useCssClasses?(this.builder.doc.execCommand("removeFormat",!1,null),t.execCommandToggle("clean","",this.builder.cssClasses)):""===n.trim()?(i.style.cssText="",i.className=""):i.innerText.replace(/(\r\n|\n|\r)/gm,"")===n.trim().replace(/(\r\n|\n|\r)/gm,"")?(i.style.cssText="",i.className="",this.builder.doc.execCommand("removeFormat",!1,null),this.builder.doc.execCommand("removeFormat",!1,null)):(this.builder.doc.execCommand("removeFormat",!1,null),this.builder.doc.execCommand("removeFormat",!1,null))),this.getState()}insertImage(){const e=this.dom,t=this.builderStuff.querySelector(".insertimage").querySelector("#fileInsertImage"),i=this.builderStuff.querySelector(".insertimage");this.util.showModal(i,!0,(function(){}),!1),i.querySelector("#inpInsertImageSrc").focus(),i.querySelector("#fileInsertImage").value="",i.querySelector(".is-preview-area").style.display="none",t.removeAttribute("disabled"),i.querySelector(".is-drop-area").style.display="block",e.removeClass(i.querySelector(".is-drop-area"),"image-dropping"),i.querySelector(".input-src").value=""}viewSnippets(){const e=new Mo(this.builder);let t=this.builderStuff.querySelector(".snippets");this.util.showModal(t,!1,null,!1);var i=t.querySelector("iframe").contentWindow.document;""===i.body.innerHTML&&(i.open(),i.write(e.getSnippetsHtml()),i.close())}openIcon(e){const t=this.dom;let i=e.target;const n=this.rteIconOptions,s=i.getBoundingClientRect().top,o=i.getBoundingClientRect().left;n.style.display="flex";const a=n.offsetWidth,l=n.offsetHeight;t.hasClass(n,"active")?this.util.hideRtePop(n):this.util.showRtePop(n,(()=>{if("left"===this.builder.opts.toolbar)n.style.top=s-l/2+20+"px",n.style.left=o+54+"px",n.style.right="auto";else if("right"===this.builder.opts.toolbar){n.style.top=s-l/2+20+"px",n.style.left="auto";const e=document.body.clientWidth;n.style.right=e-o+9+"px"}else n.style.top=s+54-6+"px",n.style.left=o-a/2+23+"px",n.style.right="auto",i.getBoundingClientRect().left+45-parseInt(this.rteTool.style.left)<n.offsetWidth?n.style.left=parseInt(this.rteTool.style.left)+"px":parseInt(this.rteTool.style.left)+this.rteTool.offsetWidth-i.getBoundingClientRect().left+45<n.offsetWidth&&(n.style.left=parseInt(this.rteTool.style.left)+this.rteTool.offsetWidth-a+"px");if(t.parentsHasClass(i,"rte-more-options"))if("left"===this.builder.opts.toolbar)n.style.top=parseInt(this.rteMoreOptions.style.top)+this.rteMoreOptions.offsetHeight-l+"px",n.style.left=o+54+"px",n.style.right="auto";else if("right"===this.builder.opts.toolbar){n.style.top=parseInt(this.rteMoreOptions.style.top)+this.rteMoreOptions.offsetHeight-l+"px",n.style.left="auto";const e=document.body.clientWidth;n.style.right=e-o+9+"px"}else n.style.top=s+54-6+"px",i.getBoundingClientRect().left+45-parseInt(this.rteMoreOptions.style.left)<n.offsetWidth?n.style.left=parseInt(this.rteMoreOptions.style.left)+"px":parseInt(this.rteMoreOptions.style.left)+this.rteMoreOptions.offsetWidth-i.getBoundingClientRect().left+45<n.offsetWidth&&(n.style.left=parseInt(this.rteMoreOptions.style.left)+this.rteMoreOptions.offsetWidth-a+"px"),t.hasClass(this.builder.inspectedElement,"icon")&&(n.style.left=parseInt(this.rteMoreOptions.style.left)+this.rteMoreOptions.offsetWidth-a+"px"),n.style.right="auto";n.focus()}),i)}showRteMore(){const e=this.dom,t=this.rteMoreOptions;e.hasClass(t,"active")?(e.removeClass(t,"active"),e.addClass(t,"deactive")):(this.positionRteMore(),e.removeClass(t,"deactive"),e.addClass(t,"active"))}positionRteMore(){let e,t;const i=this.rteTool.querySelectorAll("button.rte-more");let n=0;i.forEach((i=>{i.getBoundingClientRect().top>0&&(e=i.getBoundingClientRect().top,t=i.getBoundingClientRect().left,n=i.offsetWidth)}));const s=this.rteMoreOptions;s.style.display="flex";const o=s.offsetWidth,a=s.offsetHeight;if("left"===this.builder.opts.toolbar)s.style.top=parseFloat(this.rteTool.style.top)+this.rteTool.offsetHeight-a+"px",s.style.left=t+54+"px",s.style.right="auto";else if("right"===this.builder.opts.toolbar){s.style.top=parseFloat(this.rteTool.style.top)+this.rteTool.offsetHeight-a+"px",s.style.left="auto";const e=document.body.clientWidth;s.style.right=e-t+9+"px"}else{const i=0;s.style.top=e+54-6+"px",s.style.left=parseFloat(this.rteTool.style.left)+this.rteTool.offsetWidth-o+i+"px",s.style.right="auto",this.builderStuff.hasAttribute("toolbarfull")&&(s.style.left=t-o+n+"px")}}showElementRteMore(){const e=this.dom,t=this.elementRteMoreOptions;e.hasClass(t,"active")?(e.removeClass(t,"active"),e.addClass(t,"deactive")):(this.positionElementRteMore(),e.removeClass(t,"deactive"),e.addClass(t,"active"))}positionElementRteMore(){const e=this.elementRteTool.querySelector("button.rte-more"),t=this.elementRteMoreOptions,i=e.getBoundingClientRect().top,n=e.getBoundingClientRect().left;t.style.display="flex";const s=t.offsetWidth,o=t.offsetHeight;if("left"===this.builder.opts.toolbar)t.style.top=parseFloat(this.elementRteTool.style.top)+this.elementRteTool.offsetHeight-o+"px",t.style.left=n+54+"px",t.style.right="auto";else if("right"===this.builder.opts.toolbar){t.style.top=parseFloat(this.elementRteTool.style.top)+this.elementRteTool.offsetHeight-o+"px",t.style.left="auto";const e=document.body.clientWidth;t.style.right=e-n+9+"px"}else{const o=0;t.style.top=i+54-6+"px",t.style.left=parseFloat(this.elementRteTool.style.left)+this.elementRteTool.offsetWidth-s+o+"px",t.style.right="auto",this.builderStuff.hasAttribute("toolbarfull")&&(t.style.left=n-s+e.offsetWidth+"px")}}applyInlineFontSize(e,t){const i=this.dom;let n,s=Number(window.getComputedStyle(e).getPropertyValue("font-size").match(/\d+/)[0]);n="+"===t?s+1+"px":"-"===t?s-1+"px":""===t?"":t+"px",i.doFunction(e,(function(e){e.style.fontSize=n}),!0)}applyClassFontSize(e,t){const i=this.dom;let n=Number(window.getComputedStyle(e).getPropertyValue("font-size").match(/\d+/)[0]),s="";s="+"===t||"-"===t||""===t?t:"size-"+t;const o=this.builder.opts.fontSizeClassValues;for(var a="",l=0;l<=o.length-1;l++)if(i.hasClass(e,"size-"+o[l])){a="size-"+o[l];let t=o[l];i.doFunction(e,(e=>{i.removeClass(e,"size-"+t)}),!0)}else{let t=o[l];i.doFunction(e,(e=>{i.removeClass(e,"size-"+t)}),!0)}if(""===a&&("+"===s||"-"===s))for(l=0;l<=o.length-1;l++)n>=o[l]&n<o[l+1]&&(a="size-"+o[l]);if("+"===s){l=1*a.replace("size-","");var r=o.indexOf(l);r<o.length-1&&(a="size-"+o[r+1]),i.doFunction(e,(function(e){i.addClass(e,a)}),!0)}else"-"===s?(l=1*a.replace("size-",""),(r=o.indexOf(l))>=1&&(a="size-"+o[r-1]),i.doFunction(e,(function(e){i.addClass(e,a)}),!0)):""===s||i.doFunction(e,(function(e){i.addClass(e,s)}),!0);i.doFunction(e,(function(e){e.style.fontSize=""}),!0),i.cleanClassSize(e,s)}applyClassFontWeight(e,t){const i=this.dom;let n=this.builder.cssClasses.fontWeight;for(let t=0;t<Object.keys(n).length;t++){let s=Object.values(n)[t];i.hasClass(e,s)&&i.removeClass(e,s),i.doFunction(e,(e=>{i.hasClass(e,s)&&i.removeClass(e,s)}),!0)}let s="";"100"===t&&(s=this.builder.cssClasses.fontWeight.thin),"200"===t&&(s=this.builder.cssClasses.fontWeight.extralight),"300"===t&&(s=this.builder.cssClasses.fontWeight.light),"400"===t&&(s=this.builder.cssClasses.fontWeight.normal),"500"===t&&(s=this.builder.cssClasses.fontWeight.medium),"600"===t&&(s=this.builder.cssClasses.fontWeight.semibold),"700"===t&&(s=this.builder.cssClasses.fontWeight.bold),"800"===t&&(s=this.builder.cssClasses.fontWeight.extrabold),"900"===t&&(s=this.builder.cssClasses.fontWeight.black),""===s||i.addClass(e,s),i.doFunction(e,(function(e){e.style.fontWeight=""}),!0),i.cleanClassSize(e,s)}hideAlignButtons(){let e,t,i=this.elementRteTool.querySelectorAll("button[data-align]");Array.prototype.forEach.call(i,(i=>{i.style.display="none",i.previousElementSibling&&i.previousElementSibling.classList.contains("rte-separator")&&(e=i.previousElementSibling),i.nextElementSibling&&i.nextElementSibling.classList.contains("rte-separator")&&(t=i.nextElementSibling)})),e&&t&&(t.style.display="none"),i=this.elementRteMoreOptions.querySelectorAll("button[data-align]"),Array.prototype.forEach.call(i,(e=>{e.style.display="none"}))}showAlignButtons(){let e=this.elementRteTool.querySelectorAll(".rte-separator");Array.prototype.forEach.call(e,(e=>{e.style.display=""}));let t=this.elementRteTool.querySelectorAll("button[data-align]");Array.prototype.forEach.call(t,(e=>{e.style.display=""})),t=this.elementRteMoreOptions.querySelectorAll("button[data-align]"),Array.prototype.forEach.call(t,(e=>{e.style.display=""}))}showDefaultToolbar(){this.elementRteTool.style.display="flex",this.rteTool.style.display="none",this.hideAlignButtons(),this.positionToolbar()}click(e){const t=this.dom;let i=this.builder.inspectedElement;this.rteTool.style.display="none",this.elementRteTool.style.display="none";let n=!1;e.hasAttribute("data-noedit")&&(n=!0);let s=!1;e.hasAttribute("data-protected")&&(s=!0);let o=!1,a=!1;e.hasAttribute("data-html")&&(o=!0,i.closest(".is-subblock")&&(a=!0)),this.rteTool.querySelector(".rte-for-text").style.display="flex",this.rteTool.querySelector(".rte-for-icon").style.display="none",this.rteMoreOptions.querySelector(".rte-for-text").style.display="flex",this.rteMoreOptions.querySelector(".rte-for-icon").style.display="none",!o&&!n&&!s||a?("img"===i.tagName.toLowerCase()||t.hasClass(i,"is-social")||t.hasClass(i,"is-rounded-button-medium")||t.hasClass(i,"cell-active"))&&!t.getSelected()?"none"!==this.elementRteTool.style.display&&""!==this.elementRteTool.style.display||(this.elementRteTool.style.display="flex",this.rteTool.style.display="none",this.showAlignButtons(),this.positionToolbar()):t.hasClass(i,"spacer")||"video"===i.tagName.toLowerCase()||t.hasClass(i,"ovl")||e.getAttribute("data-html")&&!a?"none"!==this.elementRteTool.style.display&&""!==this.elementRteTool.style.display||(this.elementRteTool.style.display="flex",this.rteTool.style.display="none",this.hideAlignButtons(),this.positionToolbar()):t.hasClass(i,"icon")?"none"!==this.rteTool.style.display&&""!==this.rteTool.style.display||(this.rteTool.style.display="flex",this.elementRteTool.style.display="none",this.rteTool.querySelector(".rte-for-text").style.display="none",this.rteTool.querySelector(".rte-for-icon").style.display="flex",this.rteMoreOptions.querySelector(".rte-for-text").style.display="none",this.rteMoreOptions.querySelector(".rte-for-icon").style.display="flex",this.positionToolbar()):t.textSelection()?"none"!==this.rteTool.style.display&&""!==this.rteTool.style.display||(this.rteTool.style.display="flex",this.elementRteTool.style.display="none",this.positionToolbar()):"none"!==this.elementRteTool.style.display&&""!==this.elementRteTool.style.display||(this.elementRteTool.style.display="flex",this.rteTool.style.display="none",this.showAlignButtons(),this.positionToolbar()):"none"!==this.elementRteTool.style.display&&""!==this.elementRteTool.style.display||(this.elementRteTool.style.display="flex",this.rteTool.style.display="none",this.hideAlignButtons(),this.positionToolbar()),this.util.saveSelection(),this.getState()}getState(){const e=this.dom;this.builder.doc.queryCommandState("bold")?e.addClass(this.rteTool.querySelector("button[data-command=bold]"),"on"):e.removeClass(this.rteTool.querySelector("button[data-command=bold]"),"on"),this.builder.doc.queryCommandState("italic")?e.addClass(this.rteTool.querySelector("button[data-command=italic]"),"on"):e.removeClass(this.rteTool.querySelector("button[data-command=italic]"),"on"),this.builder.doc.queryCommandState("underline")?e.addClass(this.rteTool.querySelector("button[data-command=underline]"),"on"):e.removeClass(this.rteTool.querySelector("button[data-command=underline]"),"on"),this.builder.doc.queryCommandState("strikethrough")?e.addClass(this.rteFormattingOptions.querySelector("[data-command=strikethrough]"),"on"):e.removeClass(this.rteFormattingOptions.querySelector("[data-command=strikethrough]"),"on"),this.builder.doc.queryCommandState("superscript")?e.addClass(this.rteFormattingOptions.querySelector("[data-command=superscript]"),"on"):e.removeClass(this.rteFormattingOptions.querySelector("[data-command=superscript]"),"on"),this.builder.doc.queryCommandState("subscript")?e.addClass(this.rteFormattingOptions.querySelector("[data-command=subscript]"),"on"):e.removeClass(this.rteFormattingOptions.querySelector("[data-command=subscript]"),"on");let t=e.textSelection();if(!t)return;"uppercase"===t.style.textTransform?e.addClass(this.rteFormattingOptions.querySelector("[data-command=uppercase]"),"on"):e.removeClass(this.rteFormattingOptions.querySelector("[data-command=uppercase]"),"on"),this.builder.doc.queryCommandState("JustifyFull")?e.addClass(this.rteAlignOptions.querySelector("[data-align=justify]"),"on"):e.removeClass(this.rteAlignOptions.querySelector("[data-align=justify]"),"on"),this.builder.doc.queryCommandState("JustifyLeft")?e.addClass(this.rteAlignOptions.querySelector("[data-align=left]"),"on"):e.removeClass(this.rteAlignOptions.querySelector("[data-align=left]"),"on"),this.builder.doc.queryCommandState("JustifyRight")?e.addClass(this.rteAlignOptions.querySelector("[data-align=right]"),"on"):e.removeClass(this.rteAlignOptions.querySelector("[data-align=right]"),"on"),this.builder.doc.queryCommandState("JustifyCenter")?e.addClass(this.rteAlignOptions.querySelector("[data-align=center]"),"on"):e.removeClass(this.rteAlignOptions.querySelector("[data-align=center]"),"on");var i=this.builder.doc.queryCommandValue("FontName").split(",")[0];i=(i=(i=(i=i.replace(/"/g,"")).replace(/'/g,"")).replace(/&quot;/g,"")).trim().toLowerCase();let n=this.rteTool.querySelector("button.rte-fontfamily");if(n=n||this.rteMoreOptions.querySelector("button.rte-fontfamily"),n){const t=this.rteFontFamilyOptions.querySelector("iframe");let n=t.contentDocument||t.contentWindow.document;n&&[].forEach.call(n.querySelectorAll("#divFontList > li"),(t=>{var n=t.getAttribute("data-font-family");(n=(n=(n=n.split(",")[0]).replace(/'/g,"")).trim().toLowerCase())===i&&""!==n?e.addClass(t,"on"):e.removeClass(t,"on")}))}let s=this.rteParagraphOptions.querySelectorAll("[data-block]");Array.prototype.forEach.call(s,(t=>{e.removeClass(t,"on")}));var o=this.builder.doc.queryCommandValue("FormatBlock");"normal"===(o=o.toLowerCase())&&(o="p"),"heading 1"===o&&(o="h1"),"heading 2"===o&&(o="h2"),"heading 3"===o&&(o="h3"),"heading 4"===o&&(o="h4"),"formatted"===o&&(o="pre"),"p"!==o&&"h1"!==o&&"h2"!==o&&"h3"!==o&&"h4"!==o&&"div"!==o&&"pre"!==o||e.addClass(this.rteParagraphOptions.querySelector('[data-block="'+o+'"]'),"on")}getTextSettingsState(){const e=this.dom,t=this.rteTextSettingOptions,i=e.getSelection();if(!i)return;const n=i.anchorNode;let s;n&&(s=n.nodeType!==Node.TEXT_NODE&&n.nodeType!==Node.COMMENT_NODE?n:n.parentElement);let o=t.querySelectorAll(".rte-fontsize-options button");if(Array.prototype.forEach.call(o,(e=>{e.classList.remove("on")})),s){const i=this.builder.opts.fontSizeClassValues;for(let n=0;n<=i.length-1;n++)if(e.hasClass(s,"size-"+i[n])){const e=t.querySelectorAll(".rte-fontsize-options button");Array.prototype.forEach.call(e,(e=>{let t=e.getAttribute("data-value");parseInt(t)===i[n]&&e.classList.add("on")}))}}if(o=t.querySelectorAll(".rte-fontweight-options button"),Array.prototype.forEach.call(o,(e=>{e.classList.remove("on")})),s){let i=this.builder.cssClasses.fontWeight;for(let n=0;n<Object.keys(i).length;n++){let o=Object.values(i)[n];if(e.hasClass(s,o)){const e=t.querySelectorAll(".rte-fontweight-options button");Array.prototype.forEach.call(e,(e=>{let t,n=e.getAttribute("data-value");o===i.thin&&(t="100"),o===i.extralight&&(t="200"),o===i.light&&(t="300"),o===i.normal&&(t="400"),o===i.medium&&(t="500"),o===i.semibold&&(t="600"),o===i.bold&&(t="700"),o===i.extrabold&&(t="800"),o===i.black&&(t="900"),n===t&&e.classList.add("on")}))}}}o=t.querySelectorAll(".rte-lineheight-options button"),Array.prototype.forEach.call(o,(e=>{e.classList.remove("on")}));const a=e.getParentBlock(s);if(a){let i=this.builder.cssClasses.leading;for(let n=0;n<Object.keys(i).length;n++){let s=Object.values(i)[n];if(e.hasClass(a,s)){const e=t.querySelectorAll(".rte-lineheight-options button");Array.prototype.forEach.call(e,(e=>{let t,n=e.getAttribute("data-value");s===i.leading_8&&(t="0.8"),s===i.leading_9&&(t="0.9"),s===i.leading_10&&(t="1"),s===i.leading_11&&(t="1.1"),s===i.leading_12&&(t="1.2"),s===i.leading_13&&(t="1.3"),s===i.leading_14&&(t="1.4"),s===i.leading_15&&(t="1.5"),s===i.leading_16&&(t="1.6"),s===i.leading_17&&(t="1.7"),s===i.leading_18&&(t="1.8"),s===i.leading_19&&(t="1.9"),s===i.leading_20&&(t="2"),s===i.leading_21&&(t="2.1"),s===i.leading_22&&(t="2.2"),n===t&&e.classList.add("on")}))}}}if(o=t.querySelectorAll(".rte-letterspacing-options button"),Array.prototype.forEach.call(o,(e=>{e.classList.remove("on")})),s){let i=this.builder.cssClasses.tracking;for(let n=0;n<Object.keys(i).length;n++){let o=Object.values(i)[n];if(e.hasClass(s,o)){const e=t.querySelectorAll(".rte-letterspacing-options button");Array.prototype.forEach.call(e,(e=>{let t,n=e.getAttribute("data-value");o===i.tracking_025&&(t="1"),o===i.tracking_050&&(t="2"),n===t&&e.classList.add("on")}))}}}}getIconsStyle(){return`\n            html, body {height:100%}\n            body {overflow:hidden;margin:0;\n                font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;\n                font-size:100%; \n                line-height:1.7;\n            }\n            button {\n                border: none;\n                background: transparent;\n                border-radius: 1px;\n            }\n            #divIcons {display:flex;flex-direction:row;flex-wrap:wrap;margin:0;padding:9px 11px 9px 9px;height:100%;overflow-y:scroll !important;box-sizing:border-box;}\n            #divIcons > button {\n                width:38px;height:36px;font-size:14px;cursor:pointer;overflow:hidden;\n                text-align:center;position:relative;\n                display: flex;\n                justify-content: center;\n                align-items: center;\n                margin: 1px;\n            }                \n            // #divIcons > button:hover {background:#f5f5f5;}\n\n            #divIcons {\n                background: ${this.builder.styleToolBackground};\n            }\n            #divIcons > button {\n                color: ${this.builder.styleButtonColor};\n            }\n            #divIcons > button * {\n                pointer-events: none;\n            }\n            #divIcons > button svg {\n                fill: ${this.builder.styleButtonSvgFill};\n            }\n\n            #divIcons > button:hover {\n                background: ${this.builder.styleButtonBackgroundHover};\n            }\n            #divIcons > button:focus {\n                // outline: ${this.builder.styleOutlineColor} 2px solid;\n                outline: none;\n                background: ${this.builder.styleButtonBackgroundHover};\n            }\n\n            .dark #divIcons > button {\n                opacity: 0.93;\n            }\n\n            /* Scrollbar for toolbar/RTE, not modal */\n\n            .dark * {\n                scrollbar-width: thin;\n                scrollbar-color: rgba(255, 255, 255, 0.3) auto;\n            }\n            .dark *::-webkit-scrollbar {\n                width: 12px;\n            }\n            .dark *::-webkit-scrollbar-track {\n                background: transparent;\n            }\n            .dark *::-webkit-scrollbar-thumb {\n                background-color:rgba(255, 255, 255, 0.3);\n            } \n\n            .colored-dark * {\n                scrollbar-width: thin;\n                scrollbar-color: rgb(100, 100, 100) auto;\n            }\n            .colored-dark *::-webkit-scrollbar {\n                width: 12px;\n            }\n            .colored-dark *::-webkit-scrollbar-track {\n                background: transparent;\n            }\n            .colored-dark *::-webkit-scrollbar-thumb {\n                background-color:rgb(100, 100, 100);\n            } \n\n            .colored * {\n                scrollbar-width: thin;\n                scrollbar-color: rgba(0, 0, 0, 0.4) auto;\n            }\n            .colored *::-webkit-scrollbar {\n                width: 12px;\n            }\n            .colored *::-webkit-scrollbar-track {\n                background: transparent;\n            }\n            .colored *::-webkit-scrollbar-thumb {\n                background-color: rgba(0, 0, 0, 0.4);\n            } \n\n            .light * {\n                scrollbar-width: thin;\n                scrollbar-color: rgba(0, 0, 0, 0.4) auto;\n            }\n            .light *::-webkit-scrollbar {\n                width: 12px;\n            }\n            .light *::-webkit-scrollbar-track {\n                background: transparent;\n            }\n            .light *::-webkit-scrollbar-thumb {\n                background-color: rgba(0, 0, 0, 0.4);\n            }`}refreshIconsStyle(){this.builder.rte.rteIconOptions.querySelector("iframe").contentWindow.document.querySelector("#mainstyle").innerHTML=this.getIconsStyle()}getIcons(){return'\n        <button><i class="icon ion-alert"> </i></button>\n        <button><i class="icon ion-alert-circled"> </i></button>\n        <button><i class="icon ion-android-add"> </i></button>\n        <button><i class="icon ion-android-add-circle"> </i></button>\n        <button><i class="icon ion-android-alarm-clock"> </i></button>\n        <button><i class="icon ion-android-alert"> </i></button>\n        <button><i class="icon ion-android-apps"> </i></button>\n        <button><i class="icon ion-android-archive"> </i></button>\n        <button><i class="icon ion-android-arrow-back"> </i></button>\n        <button><i class="icon ion-android-arrow-down"> </i></button>\n        <button><i class="icon ion-android-arrow-dropdown"> </i></button>\n        <button><i class="icon ion-android-arrow-dropdown-circle"> </i></button>\n        <button><i class="icon ion-android-arrow-dropleft"> </i></button>\n        <button><i class="icon ion-android-arrow-dropleft-circle"> </i></button>\n        <button><i class="icon ion-android-arrow-dropright"> </i></button>\n        <button><i class="icon ion-android-arrow-dropright-circle"> </i></button>\n        <button><i class="icon ion-android-arrow-dropup"> </i></button>\n        <button><i class="icon ion-android-arrow-dropup-circle"> </i></button>\n        <button><i class="icon ion-android-arrow-forward"> </i></button>\n        <button><i class="icon ion-android-arrow-up"> </i></button>\n        <button><i class="icon ion-android-attach"> </i></button>\n        <button><i class="icon ion-android-bar"> </i></button>\n        <button><i class="icon ion-android-bicycle"> </i></button>\n        <button><i class="icon ion-android-boat"> </i></button>\n        <button><i class="icon ion-android-bookmark"> </i></button>\n        <button><i class="icon ion-android-bulb"> </i></button>\n        <button><i class="icon ion-android-bus"> </i></button>\n        <button><i class="icon ion-android-calendar"> </i></button>\n        <button><i class="icon ion-android-call"> </i></button>\n        <button><i class="icon ion-android-camera"> </i></button>\n        <button><i class="icon ion-android-cancel"> </i></button>\n        <button><i class="icon ion-android-car"> </i></button>\n        <button><i class="icon ion-android-cart"> </i></button>\n        <button><i class="icon ion-android-chat"> </i></button>\n        <button><i class="icon ion-android-checkbox"> </i></button>\n        <button><i class="icon ion-android-checkbox-blank"> </i></button>\n        <button><i class="icon ion-android-checkbox-outline"> </i></button>\n        <button><i class="icon ion-android-checkbox-outline-blank"> </i></button>\n        <button><i class="icon ion-android-checkmark-circle"> </i></button>\n        <button><i class="icon ion-android-clipboard"> </i></button>\n        <button><i class="icon ion-android-close"> </i></button>\n        <button><i class="icon ion-android-cloud"> </i></button>\n        <button><i class="icon ion-android-cloud-circle"> </i></button>\n        <button><i class="icon ion-android-cloud-done"> </i></button>\n        <button><i class="icon ion-android-cloud-outline"> </i></button>\n        <button><i class="icon ion-android-color-palette"> </i></button>\n        <button><i class="icon ion-android-compass"> </i></button>\n        <button><i class="icon ion-android-contact"> </i></button>\n        <button><i class="icon ion-android-contacts"> </i></button>\n        <button><i class="icon ion-android-contract"> </i></button>\n        <button><i class="icon ion-android-create"> </i></button>\n        <button><i class="icon ion-android-delete"> </i></button>\n        <button><i class="icon ion-android-desktop"> </i></button>\n        <button><i class="icon ion-android-document"> </i></button>\n        <button><i class="icon ion-android-done"> </i></button>\n        <button><i class="icon ion-android-done-all"> </i></button>\n        <button><i class="icon ion-android-download"> </i></button>\n        <button><i class="icon ion-android-drafts"> </i></button>\n        <button><i class="icon ion-android-exit"> </i></button>\n        <button><i class="icon ion-android-expand"> </i></button>\n        <button><i class="icon ion-android-favorite"> </i></button>\n        <button><i class="icon ion-android-favorite-outline"> </i></button>\n        <button><i class="icon ion-android-film"> </i></button>\n        <button><i class="icon ion-android-folder"> </i></button>\n        <button><i class="icon ion-android-folder-open"> </i></button>\n        <button><i class="icon ion-android-funnel"> </i></button>\n        <button><i class="icon ion-android-globe"> </i></button>\n        <button><i class="icon ion-android-hand"> </i></button>\n        <button><i class="icon ion-android-hangout"> </i></button>\n        <button><i class="icon ion-android-happy"> </i></button>\n        <button><i class="icon ion-android-home"> </i></button>\n        <button><i class="icon ion-android-image"> </i></button>\n        <button><i class="icon ion-android-laptop"> </i></button>\n        <button><i class="icon ion-android-list"> </i></button>\n        <button><i class="icon ion-android-locate"> </i></button>\n        <button><i class="icon ion-android-lock"> </i></button>\n        <button><i class="icon ion-android-mail"> </i></button>\n        <button><i class="icon ion-android-map"> </i></button>\n        <button><i class="icon ion-android-menu"> </i></button>\n        <button><i class="icon ion-android-microphone"> </i></button>\n        <button><i class="icon ion-android-microphone-off"> </i></button>\n        <button><i class="icon ion-android-more-horizontal"> </i></button>\n        <button><i class="icon ion-android-more-vertical"> </i></button>\n        <button><i class="icon ion-android-navigate"> </i></button>\n        <button><i class="icon ion-android-notifications"> </i></button>\n        <button><i class="icon ion-android-notifications-none"> </i></button>\n        <button><i class="icon ion-android-notifications-off"> </i></button>\n        <button><i class="icon ion-android-open"> </i></button>\n        <button><i class="icon ion-android-options"> </i></button>\n        <button><i class="icon ion-android-people"> </i></button>\n        <button><i class="icon ion-android-person"> </i></button>\n        <button><i class="icon ion-android-person-add"> </i></button>\n        <button><i class="icon ion-android-phone-landscape"> </i></button>\n        <button><i class="icon ion-android-phone-portrait"> </i></button>\n        <button><i class="icon ion-android-pin"> </i></button>\n        <button><i class="icon ion-android-plane"> </i></button>\n        <button><i class="icon ion-android-playstore"> </i></button>\n        <button><i class="icon ion-android-print"> </i></button>\n        <button><i class="icon ion-android-radio-button-off"> </i></button>\n        <button><i class="icon ion-android-radio-button-on"> </i></button>\n        <button><i class="icon ion-android-refresh"> </i></button>\n        <button><i class="icon ion-android-remove"> </i></button>\n        <button><i class="icon ion-android-remove-circle"> </i></button>\n        <button><i class="icon ion-android-restaurant"> </i></button>\n        <button><i class="icon ion-android-sad"> </i></button>\n        <button><i class="icon ion-android-search"> </i></button>\n        <button><i class="icon ion-android-send"> </i></button>\n        <button><i class="icon ion-android-settings"> </i></button>\n        <button><i class="icon ion-android-share"> </i></button>\n        <button><i class="icon ion-android-share-alt"> </i></button>\n        <button><i class="icon ion-android-star"> </i></button>\n        <button><i class="icon ion-android-star-half"> </i></button>\n        <button><i class="icon ion-android-star-outline"> </i></button>\n        <button><i class="icon ion-android-stopwatch"> </i></button>\n        <button><i class="icon ion-android-subway"> </i></button>\n        <button><i class="icon ion-android-sunny"> </i></button>\n        <button><i class="icon ion-android-sync"> </i></button>\n        <button><i class="icon ion-android-textsms"> </i></button>\n        <button><i class="icon ion-android-time"> </i></button>\n        <button><i class="icon ion-android-train"> </i></button>\n        <button><i class="icon ion-android-unlock"> </i></button>\n        <button><i class="icon ion-android-upload"> </i></button>\n        <button><i class="icon ion-android-volume-down"> </i></button>\n        <button><i class="icon ion-android-volume-mute"> </i></button>\n        <button><i class="icon ion-android-volume-off"> </i></button>\n        <button><i class="icon ion-android-volume-up"> </i></button>\n        <button><i class="icon ion-android-walk"> </i></button>\n        <button><i class="icon ion-android-warning"> </i></button>\n        <button><i class="icon ion-android-watch"> </i></button>\n        <button><i class="icon ion-android-wifi"> </i></button>\n        <button><i class="icon ion-aperture"> </i></button>\n        <button><i class="icon ion-archive"> </i></button>\n        <button><i class="icon ion-arrow-down-a"> </i></button>\n        <button><i class="icon ion-arrow-down-b"> </i></button>\n        <button><i class="icon ion-arrow-down-c"> </i></button>\n        <button><i class="icon ion-arrow-expand"> </i></button>\n        <button><i class="icon ion-arrow-graph-down-left"> </i></button>\n        <button><i class="icon ion-arrow-graph-down-right"> </i></button>\n        <button><i class="icon ion-arrow-graph-up-left"> </i></button>\n        <button><i class="icon ion-arrow-graph-up-right"> </i></button>\n        <button><i class="icon ion-arrow-left-a"> </i></button>\n        <button><i class="icon ion-arrow-left-b"> </i></button>\n        <button><i class="icon ion-arrow-left-c"> </i></button>\n        <button><i class="icon ion-arrow-move"> </i></button>\n        <button><i class="icon ion-arrow-resize"> </i></button>\n        <button><i class="icon ion-arrow-return-left"> </i></button>\n        <button><i class="icon ion-arrow-return-right"> </i></button>\n        <button><i class="icon ion-arrow-right-a"> </i></button>\n        <button><i class="icon ion-arrow-right-b"> </i></button>\n        <button><i class="icon ion-arrow-right-c"> </i></button>\n        <button><i class="icon ion-arrow-shrink"> </i></button>\n        <button><i class="icon ion-arrow-swap"> </i></button>\n        <button><i class="icon ion-arrow-up-a"> </i></button>\n        <button><i class="icon ion-arrow-up-b"> </i></button>\n        <button><i class="icon ion-arrow-up-c"> </i></button>\n        <button><i class="icon ion-asterisk"> </i></button>\n        <button><i class="icon ion-at"> </i></button>\n        <button><i class="icon ion-backspace"> </i></button>\n        <button><i class="icon ion-backspace-outline"> </i></button>\n        <button><i class="icon ion-bag"> </i></button>\n        <button><i class="icon ion-battery-charging"> </i></button>\n        <button><i class="icon ion-battery-empty"> </i></button>\n        <button><i class="icon ion-battery-full"> </i></button>\n        <button><i class="icon ion-battery-half"> </i></button>\n        <button><i class="icon ion-battery-low"> </i></button>\n        <button><i class="icon ion-beaker"> </i></button>\n        <button><i class="icon ion-beer"> </i></button>\n        <button><i class="icon ion-bluetooth"> </i></button>\n        <button><i class="icon ion-bonfire"> </i></button>\n        <button><i class="icon ion-bookmark"> </i></button>\n        <button><i class="icon ion-bowtie"> </i></button>\n        <button><i class="icon ion-briefcase"> </i></button>\n        <button><i class="icon ion-bug"> </i></button>\n        <button><i class="icon ion-calculator"> </i></button>\n        <button><i class="icon ion-calendar"> </i></button>\n        <button><i class="icon ion-camera"> </i></button>\n        <button><i class="icon ion-card"> </i></button>\n        <button><i class="icon ion-cash"> </i></button>\n        <button><i class="icon ion-chatbox"> </i></button>\n        <button><i class="icon ion-chatbox-working"> </i></button>\n        <button><i class="icon ion-chatboxes"> </i></button>\n        <button><i class="icon ion-chatbubble"> </i></button>\n        <button><i class="icon ion-chatbubble-working"> </i></button>\n        <button><i class="icon ion-chatbubbles"> </i></button>\n        <button><i class="icon ion-checkmark"> </i></button>\n        <button><i class="icon ion-checkmark-circled"> </i></button>\n        <button><i class="icon ion-checkmark-round"> </i></button>\n        <button><i class="icon ion-chevron-down"> </i></button>\n        <button><i class="icon ion-chevron-left"> </i></button>\n        <button><i class="icon ion-chevron-right"> </i></button>\n        <button><i class="icon ion-chevron-up"> </i></button>\n        <button><i class="icon ion-clipboard"> </i></button>\n        <button><i class="icon ion-clock"> </i></button>\n        <button><i class="icon ion-close"> </i></button>\n        <button><i class="icon ion-close-circled"> </i></button>\n        <button><i class="icon ion-close-round"> </i></button>\n        <button><i class="icon ion-closed-captioning"> </i></button>\n        <button><i class="icon ion-cloud"> </i></button>\n        <button><i class="icon ion-code"> </i></button>\n        <button><i class="icon ion-code-download"> </i></button>\n        <button><i class="icon ion-code-working"> </i></button>\n        <button><i class="icon ion-coffee"> </i></button>\n        <button><i class="icon ion-compass"> </i></button>\n        <button><i class="icon ion-compose"> </i></button>\n        <button><i class="icon ion-connection-bars"> </i></button>\n        <button><i class="icon ion-contrast"> </i></button>\n        <button><i class="icon ion-crop"> </i></button>\n        <button><i class="icon ion-cube"> </i></button>\n        <button><i class="icon ion-disc"> </i></button>\n        <button><i class="icon ion-document"> </i></button>\n        <button><i class="icon ion-document-text"> </i></button>\n        <button><i class="icon ion-drag"> </i></button>\n        <button><i class="icon ion-earth"> </i></button>\n        <button><i class="icon ion-easel"> </i></button>\n        <button><i class="icon ion-edit"> </i></button>\n        <button><i class="icon ion-egg"> </i></button>\n        <button><i class="icon ion-eject"> </i></button>\n        <button><i class="icon ion-email"> </i></button>\n        <button><i class="icon ion-email-unread"> </i></button>\n        <button><i class="icon ion-erlenmeyer-flask"> </i></button>\n        <button><i class="icon ion-erlenmeyer-flask-bubbles"> </i></button>\n        <button><i class="icon ion-eye"> </i></button>\n        <button><i class="icon ion-eye-disabled"> </i></button>\n        <button><i class="icon ion-female"> </i></button>\n        <button><i class="icon ion-filing"> </i></button>\n        <button><i class="icon ion-film-marker"> </i></button>\n        <button><i class="icon ion-fireball"> </i></button>\n        <button><i class="icon ion-flag"> </i></button>\n        <button><i class="icon ion-flame"> </i></button>\n        <button><i class="icon ion-flash"> </i></button>\n        <button><i class="icon ion-flash-off"> </i></button>\n        <button><i class="icon ion-folder"> </i></button>\n        <button><i class="icon ion-fork"> </i></button>\n        <button><i class="icon ion-fork-repo"> </i></button>\n        <button><i class="icon ion-forward"> </i></button>\n        <button><i class="icon ion-funnel"> </i></button>\n        <button><i class="icon ion-gear-a"> </i></button>\n        <button><i class="icon ion-gear-b"> </i></button>\n        <button><i class="icon ion-grid"> </i></button>\n        <button><i class="icon ion-hammer"> </i></button>\n        <button><i class="icon ion-happy"> </i></button>\n        <button><i class="icon ion-happy-outline"> </i></button>\n        <button><i class="icon ion-headphone"> </i></button>\n        <button><i class="icon ion-heart"> </i></button>\n        <button><i class="icon ion-heart-broken"> </i></button>\n        <button><i class="icon ion-help"> </i></button>\n        <button><i class="icon ion-help-buoy"> </i></button>\n        <button><i class="icon ion-help-circled"> </i></button>\n        <button><i class="icon ion-home"> </i></button>\n        <button><i class="icon ion-icecream"> </i></button>\n        <button><i class="icon ion-image"> </i></button>\n        <button><i class="icon ion-images"> </i></button>\n        <button><i class="icon ion-information"> </i></button>\n        <button><i class="icon ion-information-circled"> </i></button>\n        <button><i class="icon ion-ionic"> </i></button>\n        <button><i class="icon ion-ios-alarm"> </i></button>\n        <button><i class="icon ion-ios-alarm-outline"> </i></button>\n        <button><i class="icon ion-ios-albums"> </i></button>\n        <button><i class="icon ion-ios-albums-outline"> </i></button>\n        <button><i class="icon ion-ios-americanfootball"> </i></button>\n        <button><i class="icon ion-ios-americanfootball-outline"> </i></button>\n        <button><i class="icon ion-ios-analytics"> </i></button>\n        <button><i class="icon ion-ios-analytics-outline"> </i></button>\n        <button><i class="icon ion-ios-arrow-back"> </i></button>\n        <button><i class="icon ion-ios-arrow-down"> </i></button>\n        <button><i class="icon ion-ios-arrow-forward"> </i></button>\n        <button><i class="icon ion-ios-arrow-left"> </i></button>\n        <button><i class="icon ion-ios-arrow-right"> </i></button>\n        <button><i class="icon ion-ios-arrow-thin-down"> </i></button>\n        <button><i class="icon ion-ios-arrow-thin-left"> </i></button>\n        <button><i class="icon ion-ios-arrow-thin-right"> </i></button>\n        <button><i class="icon ion-ios-arrow-thin-up"> </i></button>\n        <button><i class="icon ion-ios-arrow-up"> </i></button>\n        <button><i class="icon ion-ios-at"> </i></button>\n        <button><i class="icon ion-ios-at-outline"> </i></button>\n        <button><i class="icon ion-ios-barcode"> </i></button>\n        <button><i class="icon ion-ios-barcode-outline"> </i></button>\n        <button><i class="icon ion-ios-baseball"> </i></button>\n        <button><i class="icon ion-ios-baseball-outline"> </i></button>\n        <button><i class="icon ion-ios-basketball"> </i></button>\n        <button><i class="icon ion-ios-basketball-outline"> </i></button>\n        <button><i class="icon ion-ios-bell"> </i></button>\n        <button><i class="icon ion-ios-bell-outline"> </i></button>\n        <button><i class="icon ion-ios-body"> </i></button>\n        <button><i class="icon ion-ios-body-outline"> </i></button>\n        <button><i class="icon ion-ios-bolt"> </i></button>\n        <button><i class="icon ion-ios-bolt-outline"> </i></button>\n        <button><i class="icon ion-ios-book"> </i></button>\n        <button><i class="icon ion-ios-book-outline"> </i></button>\n        <button><i class="icon ion-ios-bookmarks"> </i></button>\n        <button><i class="icon ion-ios-bookmarks-outline"> </i></button>\n        <button><i class="icon ion-ios-box"> </i></button>\n        <button><i class="icon ion-ios-box-outline"> </i></button>\n        <button><i class="icon ion-ios-briefcase"> </i></button>\n        <button><i class="icon ion-ios-briefcase-outline"> </i></button>\n        <button><i class="icon ion-ios-browsers"> </i></button>\n        <button><i class="icon ion-ios-browsers-outline"> </i></button>\n        <button><i class="icon ion-ios-calculator"> </i></button>\n        <button><i class="icon ion-ios-calculator-outline"> </i></button>\n        <button><i class="icon ion-ios-calendar"> </i></button>\n        <button><i class="icon ion-ios-calendar-outline"> </i></button>\n        <button><i class="icon ion-ios-camera"> </i></button>\n        <button><i class="icon ion-ios-camera-outline"> </i></button>\n        <button><i class="icon ion-ios-cart"> </i></button>\n        <button><i class="icon ion-ios-cart-outline"> </i></button>\n        <button><i class="icon ion-ios-chatboxes"> </i></button>\n        <button><i class="icon ion-ios-chatboxes-outline"> </i></button>\n        <button><i class="icon ion-ios-chatbubble"> </i></button>\n        <button><i class="icon ion-ios-chatbubble-outline"> </i></button>\n        <button><i class="icon ion-ios-checkmark"> </i></button>\n        <button><i class="icon ion-ios-checkmark-empty"> </i></button>\n        <button><i class="icon ion-ios-checkmark-outline"> </i></button>\n        <button><i class="icon ion-ios-circle-filled"> </i></button>\n        <button><i class="icon ion-ios-circle-outline"> </i></button>\n        <button><i class="icon ion-ios-clock"> </i></button>\n        <button><i class="icon ion-ios-clock-outline"> </i></button>\n        <button><i class="icon ion-ios-close"> </i></button>\n        <button><i class="icon ion-ios-close-empty"> </i></button>\n        <button><i class="icon ion-ios-close-outline"> </i></button>\n        <button><i class="icon ion-ios-cloud"> </i></button>\n        <button><i class="icon ion-ios-cloud-download"> </i></button>\n        <button><i class="icon ion-ios-cloud-download-outline"> </i></button>\n        <button><i class="icon ion-ios-cloud-outline"> </i></button>\n        <button><i class="icon ion-ios-cloud-upload"> </i></button>\n        <button><i class="icon ion-ios-cloud-upload-outline"> </i></button>\n        <button><i class="icon ion-ios-cloudy"> </i></button>\n        <button><i class="icon ion-ios-cloudy-night"> </i></button>\n        <button><i class="icon ion-ios-cloudy-night-outline"> </i></button>\n        <button><i class="icon ion-ios-cloudy-outline"> </i></button>\n        <button><i class="icon ion-ios-cog"> </i></button>\n        <button><i class="icon ion-ios-cog-outline"> </i></button>\n        <button><i class="icon ion-ios-color-filter"> </i></button>\n        <button><i class="icon ion-ios-color-filter-outline"> </i></button>\n        <button><i class="icon ion-ios-color-wand"> </i></button>\n        <button><i class="icon ion-ios-color-wand-outline"> </i></button>\n        <button><i class="icon ion-ios-compose"> </i></button>\n        <button><i class="icon ion-ios-compose-outline"> </i></button>\n        <button><i class="icon ion-ios-contact"> </i></button>\n        <button><i class="icon ion-ios-contact-outline"> </i></button>\n        <button><i class="icon ion-ios-copy"> </i></button>\n        <button><i class="icon ion-ios-copy-outline"> </i></button>\n        <button><i class="icon ion-ios-crop"> </i></button>\n        <button><i class="icon ion-ios-crop-strong"> </i></button>\n        <button><i class="icon ion-ios-download"> </i></button>\n        <button><i class="icon ion-ios-download-outline"> </i></button>\n        <button><i class="icon ion-ios-drag"> </i></button>\n        <button><i class="icon ion-ios-email"> </i></button>\n        <button><i class="icon ion-ios-email-outline"> </i></button>\n        <button><i class="icon ion-ios-eye"> </i></button>\n        <button><i class="icon ion-ios-eye-outline"> </i></button>\n        <button><i class="icon ion-ios-fastforward"> </i></button>\n        <button><i class="icon ion-ios-fastforward-outline"> </i></button>\n        <button><i class="icon ion-ios-filing"> </i></button>\n        <button><i class="icon ion-ios-filing-outline"> </i></button>\n        <button><i class="icon ion-ios-film"> </i></button>\n        <button><i class="icon ion-ios-film-outline"> </i></button>\n        <button><i class="icon ion-ios-flag"> </i></button>\n        <button><i class="icon ion-ios-flag-outline"> </i></button>\n        <button><i class="icon ion-ios-flame"> </i></button>\n        <button><i class="icon ion-ios-flame-outline"> </i></button>\n        <button><i class="icon ion-ios-flask"> </i></button>\n        <button><i class="icon ion-ios-flask-outline"> </i></button>\n        <button><i class="icon ion-ios-flower"> </i></button>\n        <button><i class="icon ion-ios-flower-outline"> </i></button>\n        <button><i class="icon ion-ios-folder"> </i></button>\n        <button><i class="icon ion-ios-folder-outline"> </i></button>\n        <button><i class="icon ion-ios-football"> </i></button>\n        <button><i class="icon ion-ios-football-outline"> </i></button>\n        <button><i class="icon ion-ios-game-controller-a"> </i></button>\n        <button><i class="icon ion-ios-game-controller-a-outline"> </i></button>\n        <button><i class="icon ion-ios-game-controller-b"> </i></button>\n        <button><i class="icon ion-ios-game-controller-b-outline"> </i></button>\n        <button><i class="icon ion-ios-gear"> </i></button>\n        <button><i class="icon ion-ios-gear-outline"> </i></button>\n        <button><i class="icon ion-ios-glasses"> </i></button>\n        <button><i class="icon ion-ios-glasses-outline"> </i></button>\n        <button><i class="icon ion-ios-grid-view"> </i></button>\n        <button><i class="icon ion-ios-grid-view-outline"> </i></button>\n        <button><i class="icon ion-ios-heart"> </i></button>\n        <button><i class="icon ion-ios-heart-outline"> </i></button>\n        <button><i class="icon ion-ios-help"> </i></button>\n        <button><i class="icon ion-ios-help-empty"> </i></button>\n        <button><i class="icon ion-ios-help-outline"> </i></button>\n        <button><i class="icon ion-ios-home"> </i></button>\n        <button><i class="icon ion-ios-home-outline"> </i></button>\n        <button><i class="icon ion-ios-infinite"> </i></button>\n        <button><i class="icon ion-ios-infinite-outline"> </i></button>\n        <button><i class="icon ion-ios-information"> </i></button>\n        <button><i class="icon ion-ios-information-empty"> </i></button>\n        <button><i class="icon ion-ios-information-outline"> </i></button>\n        <button><i class="icon ion-ios-ionic-outline"> </i></button>\n        <button><i class="icon ion-ios-keypad"> </i></button>\n        <button><i class="icon ion-ios-keypad-outline"> </i></button>\n        <button><i class="icon ion-ios-lightbulb"> </i></button>\n        <button><i class="icon ion-ios-lightbulb-outline"> </i></button>\n        <button><i class="icon ion-ios-list"> </i></button>\n        <button><i class="icon ion-ios-list-outline"> </i></button>\n        <button><i class="icon ion-ios-location"> </i></button>\n        <button><i class="icon ion-ios-location-outline"> </i></button>\n        <button><i class="icon ion-ios-locked"> </i></button>\n        <button><i class="icon ion-ios-locked-outline"> </i></button>\n        <button><i class="icon ion-ios-loop"> </i></button>\n        <button><i class="icon ion-ios-loop-strong"> </i></button>\n        <button><i class="icon ion-ios-medical"> </i></button>\n        <button><i class="icon ion-ios-medical-outline"> </i></button>\n        <button><i class="icon ion-ios-medkit"> </i></button>\n        <button><i class="icon ion-ios-medkit-outline"> </i></button>\n        <button><i class="icon ion-ios-mic"> </i></button>\n        <button><i class="icon ion-ios-mic-off"> </i></button>\n        <button><i class="icon ion-ios-mic-outline"> </i></button>\n        <button><i class="icon ion-ios-minus"> </i></button>\n        <button><i class="icon ion-ios-minus-empty"> </i></button>\n        <button><i class="icon ion-ios-minus-outline"> </i></button>\n        <button><i class="icon ion-ios-monitor"> </i></button>\n        <button><i class="icon ion-ios-monitor-outline"> </i></button>\n        <button><i class="icon ion-ios-moon"> </i></button>\n        <button><i class="icon ion-ios-moon-outline"> </i></button>\n        <button><i class="icon ion-ios-more"> </i></button>\n        <button><i class="icon ion-ios-more-outline"> </i></button>\n        <button><i class="icon ion-ios-musical-note"> </i></button>\n        <button><i class="icon ion-ios-musical-notes"> </i></button>\n        <button><i class="icon ion-ios-navigate"> </i></button>\n        <button><i class="icon ion-ios-navigate-outline"> </i></button>\n        <button><i class="icon ion-ios-nutrition"> </i></button>\n        <button><i class="icon ion-ios-nutrition-outline"> </i></button>\n        <button><i class="icon ion-ios-paper"> </i></button>\n        <button><i class="icon ion-ios-paper-outline"> </i></button>\n        <button><i class="icon ion-ios-paperplane"> </i></button>\n        <button><i class="icon ion-ios-paperplane-outline"> </i></button>\n        <button><i class="icon ion-ios-partlysunny"> </i></button>\n        <button><i class="icon ion-ios-partlysunny-outline"> </i></button>\n        <button><i class="icon ion-ios-pause"> </i></button>\n        <button><i class="icon ion-ios-pause-outline"> </i></button>\n        <button><i class="icon ion-ios-paw"> </i></button>\n        <button><i class="icon ion-ios-paw-outline"> </i></button>\n        <button><i class="icon ion-ios-people"> </i></button>\n        <button><i class="icon ion-ios-people-outline"> </i></button>\n        <button><i class="icon ion-ios-person"> </i></button>\n        <button><i class="icon ion-ios-person-outline"> </i></button>\n        <button><i class="icon ion-ios-personadd"> </i></button>\n        <button><i class="icon ion-ios-personadd-outline"> </i></button>\n        <button><i class="icon ion-ios-photos"> </i></button>\n        <button><i class="icon ion-ios-photos-outline"> </i></button>\n        <button><i class="icon ion-ios-pie"> </i></button>\n        <button><i class="icon ion-ios-pie-outline"> </i></button>\n        <button><i class="icon ion-ios-pint"> </i></button>\n        <button><i class="icon ion-ios-pint-outline"> </i></button>\n        <button><i class="icon ion-ios-play"> </i></button>\n        <button><i class="icon ion-ios-play-outline"> </i></button>\n        <button><i class="icon ion-ios-plus"> </i></button>\n        <button><i class="icon ion-ios-plus-empty"> </i></button>\n        <button><i class="icon ion-ios-plus-outline"> </i></button>\n        <button><i class="icon ion-ios-pricetag"> </i></button>\n        <button><i class="icon ion-ios-pricetag-outline"> </i></button>\n        <button><i class="icon ion-ios-pricetags"> </i></button>\n        <button><i class="icon ion-ios-pricetags-outline"> </i></button>\n        <button><i class="icon ion-ios-printer"> </i></button>\n        <button><i class="icon ion-ios-printer-outline"> </i></button>\n        <button><i class="icon ion-ios-pulse"> </i></button>\n        <button><i class="icon ion-ios-pulse-strong"> </i></button>\n        <button><i class="icon ion-ios-rainy"> </i></button>\n        <button><i class="icon ion-ios-rainy-outline"> </i></button>\n        <button><i class="icon ion-ios-recording"> </i></button>\n        <button><i class="icon ion-ios-recording-outline"> </i></button>\n        <button><i class="icon ion-ios-redo"> </i></button>\n        <button><i class="icon ion-ios-redo-outline"> </i></button>\n        <button><i class="icon ion-ios-refresh"> </i></button>\n        <button><i class="icon ion-ios-refresh-empty"> </i></button>\n        <button><i class="icon ion-ios-refresh-outline"> </i></button>\n        <button><i class="icon ion-ios-reload"> </i></button>\n        <button><i class="icon ion-ios-reverse-camera"> </i></button>\n        <button><i class="icon ion-ios-reverse-camera-outline"> </i></button>\n        <button><i class="icon ion-ios-rewind"> </i></button>\n        <button><i class="icon ion-ios-rewind-outline"> </i></button>\n        <button><i class="icon ion-ios-rose"> </i></button>\n        <button><i class="icon ion-ios-rose-outline"> </i></button>\n        <button><i class="icon ion-ios-search"> </i></button>\n        <button><i class="icon ion-ios-search-strong"> </i></button>\n        <button><i class="icon ion-ios-settings"> </i></button>\n        <button><i class="icon ion-ios-settings-strong"> </i></button>\n        <button><i class="icon ion-ios-shuffle"> </i></button>\n        <button><i class="icon ion-ios-shuffle-strong"> </i></button>\n        <button><i class="icon ion-ios-skipbackward"> </i></button>\n        <button><i class="icon ion-ios-skipbackward-outline"> </i></button>\n        <button><i class="icon ion-ios-skipforward"> </i></button>\n        <button><i class="icon ion-ios-skipforward-outline"> </i></button>\n        <button><i class="icon ion-ios-snowy"> </i></button>\n        <button><i class="icon ion-ios-speedometer"> </i></button>\n        <button><i class="icon ion-ios-speedometer-outline"> </i></button>\n        <button><i class="icon ion-ios-star"> </i></button>\n        <button><i class="icon ion-ios-star-half"> </i></button>\n        <button><i class="icon ion-ios-star-outline"> </i></button>\n        <button><i class="icon ion-ios-stopwatch"> </i></button>\n        <button><i class="icon ion-ios-stopwatch-outline"> </i></button>\n        <button><i class="icon ion-ios-sunny"> </i></button>\n        <button><i class="icon ion-ios-sunny-outline"> </i></button>\n        <button><i class="icon ion-ios-telephone"> </i></button>\n        <button><i class="icon ion-ios-telephone-outline"> </i></button>\n        <button><i class="icon ion-ios-tennisball"> </i></button>\n        <button><i class="icon ion-ios-tennisball-outline"> </i></button>\n        <button><i class="icon ion-ios-thunderstorm"> </i></button>\n        <button><i class="icon ion-ios-thunderstorm-outline"> </i></button>\n        <button><i class="icon ion-ios-time"> </i></button>\n        <button><i class="icon ion-ios-time-outline"> </i></button>\n        <button><i class="icon ion-ios-timer"> </i></button>\n        <button><i class="icon ion-ios-timer-outline"> </i></button>\n        <button><i class="icon ion-ios-toggle"> </i></button>\n        <button><i class="icon ion-ios-toggle-outline"> </i></button>\n        <button><i class="icon ion-ios-trash"> </i></button>\n        <button><i class="icon ion-ios-trash-outline"> </i></button>\n        <button><i class="icon ion-ios-undo"> </i></button>\n        <button><i class="icon ion-ios-undo-outline"> </i></button>\n        <button><i class="icon ion-ios-unlocked"> </i></button>\n        <button><i class="icon ion-ios-unlocked-outline"> </i></button>\n        <button><i class="icon ion-ios-upload"> </i></button>\n        <button><i class="icon ion-ios-upload-outline"> </i></button>\n        <button><i class="icon ion-ios-videocam"> </i></button>\n        <button><i class="icon ion-ios-videocam-outline"> </i></button>\n        <button><i class="icon ion-ios-volume-high"> </i></button>\n        <button><i class="icon ion-ios-volume-low"> </i></button>\n        <button><i class="icon ion-ios-wineglass"> </i></button>\n        <button><i class="icon ion-ios-wineglass-outline"> </i></button>\n        <button><i class="icon ion-ios-world"> </i></button>\n        <button><i class="icon ion-ios-world-outline"> </i></button>\n        <button><i class="icon ion-ipad"> </i></button>\n        <button><i class="icon ion-iphone"> </i></button>\n        <button><i class="icon ion-ipod"> </i></button>\n        <button><i class="icon ion-jet"> </i></button>\n        <button><i class="icon ion-key"> </i></button>\n        <button><i class="icon ion-knife"> </i></button>\n        <button><i class="icon ion-laptop"> </i></button>\n        <button><i class="icon ion-leaf"> </i></button>\n        <button><i class="icon ion-levels"> </i></button>\n        <button><i class="icon ion-lightbulb"> </i></button>\n        <button><i class="icon ion-link"> </i></button>\n        <button><i class="icon ion-load-a"> </i></button>\n        <button><i class="icon ion-load-b"> </i></button>\n        <button><i class="icon ion-load-c"> </i></button>\n        <button><i class="icon ion-load-d"> </i></button>\n        <button><i class="icon ion-location"> </i></button>\n        <button><i class="icon ion-lock-combination"> </i></button>\n        <button><i class="icon ion-locked"> </i></button>\n        <button><i class="icon ion-log-in"> </i></button>\n        <button><i class="icon ion-log-out"> </i></button>\n        <button><i class="icon ion-loop"> </i></button>\n        <button><i class="icon ion-magnet"> </i></button>\n        <button><i class="icon ion-male"> </i></button>\n        <button><i class="icon ion-man"> </i></button>\n        <button><i class="icon ion-map"> </i></button>\n        <button><i class="icon ion-medkit"> </i></button>\n        <button><i class="icon ion-merge"> </i></button>\n        <button><i class="icon ion-mic-a"> </i></button>\n        <button><i class="icon ion-mic-b"> </i></button>\n        <button><i class="icon ion-mic-c"> </i></button>\n        <button><i class="icon ion-minus"> </i></button>\n        <button><i class="icon ion-minus-circled"> </i></button>\n        <button><i class="icon ion-minus-round"> </i></button>\n        <button><i class="icon ion-model-s"> </i></button>\n        <button><i class="icon ion-monitor"> </i></button>\n        <button><i class="icon ion-more"> </i></button>\n        <button><i class="icon ion-mouse"> </i></button>\n        <button><i class="icon ion-music-note"> </i></button>\n        <button><i class="icon ion-navicon"> </i></button>\n        <button><i class="icon ion-navicon-round"> </i></button>\n        <button><i class="icon ion-navigate"> </i></button>\n        <button><i class="icon ion-network"> </i></button>\n        <button><i class="icon ion-no-smoking"> </i></button>\n        <button><i class="icon ion-nuclear"> </i></button>\n        <button><i class="icon ion-outlet"> </i></button>\n        <button><i class="icon ion-paintbrush"> </i></button>\n        <button><i class="icon ion-paintbucket"> </i></button>\n        <button><i class="icon ion-paper-airplane"> </i></button>\n        <button><i class="icon ion-paperclip"> </i></button>\n        <button><i class="icon ion-pause"> </i></button>\n        <button><i class="icon ion-person"> </i></button>\n        <button><i class="icon ion-person-add"> </i></button>\n        <button><i class="icon ion-person-stalker"> </i></button>\n        <button><i class="icon ion-pie-graph"> </i></button>\n        <button><i class="icon ion-pin"> </i></button>\n        <button><i class="icon ion-pinpoint"> </i></button>\n        <button><i class="icon ion-pizza"> </i></button>\n        <button><i class="icon ion-plane"> </i></button>\n        <button><i class="icon ion-planet"> </i></button>\n        <button><i class="icon ion-play"> </i></button>\n        <button><i class="icon ion-playstation"> </i></button>\n        <button><i class="icon ion-plus"> </i></button>\n        <button><i class="icon ion-plus-circled"> </i></button>\n        <button><i class="icon ion-plus-round"> </i></button>\n        <button><i class="icon ion-podium"> </i></button>\n        <button><i class="icon ion-pound"> </i></button>\n        <button><i class="icon ion-power"> </i></button>\n        <button><i class="icon ion-pricetag"> </i></button>\n        <button><i class="icon ion-pricetags"> </i></button>\n        <button><i class="icon ion-printer"> </i></button>\n        <button><i class="icon ion-pull-request"> </i></button>\n        <button><i class="icon ion-qr-scanner"> </i></button>\n        <button><i class="icon ion-quote"> </i></button>\n        <button><i class="icon ion-radio-waves"> </i></button>\n        <button><i class="icon ion-record"> </i></button>\n        <button><i class="icon ion-refresh"> </i></button>\n        <button><i class="icon ion-reply"> </i></button>\n        <button><i class="icon ion-reply-all"> </i></button>\n        <button><i class="icon ion-ribbon-a"> </i></button>\n        <button><i class="icon ion-ribbon-b"> </i></button>\n        <button><i class="icon ion-sad"> </i></button>\n        <button><i class="icon ion-sad-outline"> </i></button>\n        <button><i class="icon ion-scissors"> </i></button>\n        <button><i class="icon ion-search"> </i></button>\n        <button><i class="icon ion-settings"> </i></button>\n        <button><i class="icon ion-share"> </i></button>\n        <button><i class="icon ion-shuffle"> </i></button>\n        <button><i class="icon ion-skip-backward"> </i></button>\n        <button><i class="icon ion-skip-forward"> </i></button>\n        <button><i class="icon ion-social-android"> </i></button>\n        <button><i class="icon ion-social-android-outline"> </i></button>\n        <button><i class="icon ion-social-angular"> </i></button>\n        <button><i class="icon ion-social-angular-outline"> </i></button>\n        <button><i class="icon ion-social-apple"> </i></button>\n        <button><i class="icon ion-social-apple-outline"> </i></button>\n        <button><i class="icon ion-social-bitcoin"> </i></button>\n        <button><i class="icon ion-social-bitcoin-outline"> </i></button>\n        <button><i class="icon ion-social-buffer"> </i></button>\n        <button><i class="icon ion-social-buffer-outline"> </i></button>\n        <button><i class="icon ion-social-chrome"> </i></button>\n        <button><i class="icon ion-social-chrome-outline"> </i></button>\n        <button><i class="icon ion-social-codepen"> </i></button>\n        <button><i class="icon ion-social-codepen-outline"> </i></button>\n        <button><i class="icon ion-social-css3"> </i></button>\n        <button><i class="icon ion-social-css3-outline"> </i></button>\n        <button><i class="icon ion-social-designernews"> </i></button>\n        <button><i class="icon ion-social-designernews-outline"> </i></button>\n        <button><i class="icon ion-social-dribbble"> </i></button>\n        <button><i class="icon ion-social-dribbble-outline"> </i></button>\n        <button><i class="icon ion-social-dropbox"> </i></button>\n        <button><i class="icon ion-social-dropbox-outline"> </i></button>\n        <button><i class="icon ion-social-euro"> </i></button>\n        <button><i class="icon ion-social-euro-outline"> </i></button>\n        <button><i class="icon ion-social-facebook"> </i></button>\n        <button><i class="icon ion-social-facebook-outline"> </i></button>\n        <button><i class="icon ion-social-foursquare"> </i></button>\n        <button><i class="icon ion-social-foursquare-outline"> </i></button>\n        <button><i class="icon ion-social-freebsd-devil"> </i></button>\n        <button><i class="icon ion-social-github"> </i></button>\n        <button><i class="icon ion-social-github-outline"> </i></button>\n        <button><i class="icon ion-social-google"> </i></button>\n        <button><i class="icon ion-social-google-outline"> </i></button>\n        <button><i class="icon ion-social-googleplus"> </i></button>\n        <button><i class="icon ion-social-googleplus-outline"> </i></button>\n        <button><i class="icon ion-social-hackernews"> </i></button>\n        <button><i class="icon ion-social-hackernews-outline"> </i></button>\n        <button><i class="icon ion-social-html5"> </i></button>\n        <button><i class="icon ion-social-html5-outline"> </i></button>\n        <button><i class="icon ion-social-instagram"> </i></button>\n        <button><i class="icon ion-social-instagram-outline"> </i></button>\n        <button><i class="icon ion-social-javascript"> </i></button>\n        <button><i class="icon ion-social-javascript-outline"> </i></button>\n        <button><i class="icon ion-social-linkedin"> </i></button>\n        <button><i class="icon ion-social-linkedin-outline"> </i></button>\n        <button><i class="icon ion-social-markdown"> </i></button>\n        <button><i class="icon ion-social-nodejs"> </i></button>\n        <button><i class="icon ion-social-octocat"> </i></button>\n        <button><i class="icon ion-social-pinterest"> </i></button>\n        <button><i class="icon ion-social-pinterest-outline"> </i></button>\n        <button><i class="icon ion-social-python"> </i></button>\n        <button><i class="icon ion-social-reddit"> </i></button>\n        <button><i class="icon ion-social-reddit-outline"> </i></button>\n        <button><i class="icon ion-social-rss"> </i></button>\n        <button><i class="icon ion-social-rss-outline"> </i></button>\n        <button><i class="icon ion-social-sass"> </i></button>\n        <button><i class="icon ion-social-skype"> </i></button>\n        <button><i class="icon ion-social-skype-outline"> </i></button>\n        <button><i class="icon ion-social-snapchat"> </i></button>\n        <button><i class="icon ion-social-snapchat-outline"> </i></button>\n        <button><i class="icon ion-social-tumblr"> </i></button>\n        <button><i class="icon ion-social-tumblr-outline"> </i></button>\n        <button><i class="icon ion-social-tux"> </i></button>\n        <button><i class="icon ion-social-twitch"> </i></button>\n        <button><i class="icon ion-social-twitch-outline"> </i></button>\n        <button><i class="icon ion-social-twitter"> </i></button>\n        <button><i class="icon ion-social-twitter-outline"> </i></button>\n        <button><i class="icon ion-social-usd"> </i></button>\n        <button><i class="icon ion-social-usd-outline"> </i></button>\n        <button><i class="icon ion-social-vimeo"> </i></button>\n        <button><i class="icon ion-social-vimeo-outline"> </i></button>\n        <button><i class="icon ion-social-whatsapp"> </i></button>\n        <button><i class="icon ion-social-whatsapp-outline"> </i></button>\n        <button><i class="icon ion-social-windows"> </i></button>\n        <button><i class="icon ion-social-windows-outline"> </i></button>\n        <button><i class="icon ion-social-wordpress"> </i></button>\n        <button><i class="icon ion-social-wordpress-outline"> </i></button>\n        <button><i class="icon ion-social-yahoo"> </i></button>\n        <button><i class="icon ion-social-yahoo-outline"> </i></button>\n        <button><i class="icon ion-social-yen"> </i></button>\n        <button><i class="icon ion-social-yen-outline"> </i></button>\n        <button><i class="icon ion-social-youtube"> </i></button>\n        <button><i class="icon ion-social-youtube-outline"> </i></button>\n        <button><i class="icon ion-soup-can"> </i></button>\n        <button><i class="icon ion-soup-can-outline"> </i></button>\n        <button><i class="icon ion-speakerphone"> </i></button>\n        <button><i class="icon ion-speedometer"> </i></button>\n        <button><i class="icon ion-spoon"> </i></button>\n        <button><i class="icon ion-star"> </i></button>\n        <button><i class="icon ion-stats-bars"> </i></button>\n        <button><i class="icon ion-steam"> </i></button>\n        <button><i class="icon ion-stop"> </i></button>\n        <button><i class="icon ion-thermometer"> </i></button>\n        <button><i class="icon ion-thumbsdown"> </i></button>\n        <button><i class="icon ion-thumbsup"> </i></button>\n        <button><i class="icon ion-toggle"> </i></button>\n        <button><i class="icon ion-toggle-filled"> </i></button>\n        <button><i class="icon ion-transgender"> </i></button>\n        <button><i class="icon ion-trash-a"> </i></button>\n        <button><i class="icon ion-trash-b"> </i></button>\n        <button><i class="icon ion-trophy"> </i></button>\n        <button><i class="icon ion-tshirt"> </i></button>\n        <button><i class="icon ion-tshirt-outline"> </i></button>\n        <button><i class="icon ion-umbrella"> </i></button>\n        <button><i class="icon ion-university"> </i></button>\n        <button><i class="icon ion-unlocked"> </i></button>\n        <button><i class="icon ion-upload"> </i></button>\n        <button><i class="icon ion-usb"> </i></button>\n        <button><i class="icon ion-videocamera"> </i></button>\n        <button><i class="icon ion-volume-high"> </i></button>\n        <button><i class="icon ion-volume-low"> </i></button>\n        <button><i class="icon ion-volume-medium"> </i></button>\n        <button><i class="icon ion-volume-mute"> </i></button>\n        <button><i class="icon ion-wand"> </i></button>\n        <button><i class="icon ion-waterdrop"> </i></button>\n        <button><i class="icon ion-wifi"> </i></button>\n        <button><i class="icon ion-wineglass"> </i></button>\n        <button><i class="icon ion-woman"> </i></button>\n        <button><i class="icon ion-wrench"> </i></button>\n        <button><i class="icon ion-xbox"> </i></button>        \n        '}getIconsHTML(){return`\n        <!DOCTYPE HTML>\n        <html>\n        <head>\n            <meta charset="utf-8">\n            <title>Fonts</title>\n            <meta name="viewport" content="width=device-width, initial-scale=1">\n            <meta name="description" content="">  \n            <link href="${this.builder.assetPath+"ionicons/"}css/ionicons.min.css" rel="stylesheet">\n            <style id="mainstyle">\n                html, body {height:100%}\n                body {overflow:hidden;margin:0;\n                    font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;\n                    font-size:100%; \n                    line-height:1.7;\n                }\n                button {\n                    border: none;\n                    background: transparent;\n                    border-radius: 1px;\n                }\n                #divIcons {display:flex;flex-direction:row;flex-wrap:wrap;margin:0;padding:9px 11px 9px 9px;height:100%;overflow-y:scroll !important;box-sizing:border-box;}\n                #divIcons > button {\n                    width:38px;height:36px;font-size:14px;cursor:pointer;overflow:hidden;\n                    text-align:center;position:relative;\n                    display: flex;\n                    justify-content: center;\n                    align-items: center;\n                    margin: 1px;\n                }                \n                // #divIcons > button:hover {background:#f5f5f5;}\n\n                #divIcons {\n                    background: ${this.builder.styleToolBackground};\n                }\n                #divIcons > button {\n                    color: ${this.builder.styleButtonColor};\n                }\n                #divIcons > button * {\n                    pointer-events: none;\n                }\n                #divIcons > button svg {\n                    fill: ${this.builder.styleButtonSvgFill};\n                }\n\n                #divIcons > button:hover {\n                    background: ${this.builder.styleButtonBackgroundHover};\n                }\n                #divIcons > button:focus {\n                    // outline: ${this.builder.styleOutlineColor} 2px solid;\n                    outline: none;\n                    background: ${this.builder.styleButtonBackgroundHover};\n                }\n\n                .dark #divIcons > button {\n                    opacity: 0.93;\n                }\n\n                /* Scrollbar for toolbar/RTE, not modal */\n\n                .dark * {\n                    scrollbar-width: thin;\n                    scrollbar-color: rgba(255, 255, 255, 0.3) auto;\n                }\n                .dark *::-webkit-scrollbar {\n                    width: 12px;\n                }\n                .dark *::-webkit-scrollbar-track {\n                    background: transparent;\n                }\n                .dark *::-webkit-scrollbar-thumb {\n                    background-color:rgba(255, 255, 255, 0.3);\n                } \n\n                .colored-dark * {\n                    scrollbar-width: thin;\n                    scrollbar-color: rgb(100, 100, 100) auto;\n                }\n                .colored-dark *::-webkit-scrollbar {\n                    width: 12px;\n                }\n                .colored-dark *::-webkit-scrollbar-track {\n                    background: transparent;\n                }\n                .colored-dark *::-webkit-scrollbar-thumb {\n                    background-color:rgb(100, 100, 100);\n                } \n\n                .colored * {\n                    scrollbar-width: thin;\n                    scrollbar-color: rgba(0, 0, 0, 0.4) auto;\n                }\n                .colored *::-webkit-scrollbar {\n                    width: 12px;\n                }\n                .colored *::-webkit-scrollbar-track {\n                    background: transparent;\n                }\n                .colored *::-webkit-scrollbar-thumb {\n                    background-color: rgba(0, 0, 0, 0.4);\n                } \n\n                .light * {\n                    scrollbar-width: thin;\n                    scrollbar-color: rgba(0, 0, 0, 0.4) auto;\n                }\n                .light *::-webkit-scrollbar {\n                    width: 12px;\n                }\n                .light *::-webkit-scrollbar-track {\n                    background: transparent;\n                }\n                .light *::-webkit-scrollbar-thumb {\n                    background-color: rgba(0, 0, 0, 0.4);\n                } \n            </style>\n        </head>\n        <body${this.builder.styleDark?' class="dark"':""}${this.builder.styleColored?' class="colored"':""}${this.builder.styleColoredDark?' class="colored-dark"':""}${this.builder.styleLight?' class="light"':""}>\n\n        <div id="divIcons">\n        ${this.getIcons()}\n        </div>\n\n        <script${this.builder.nonce?` nonce="${this.builder.nonce}"`:""}>\n            const setValue = (elm) => {\n                if(!elm.className) elm = elm.childNodes[0];\n                parent._cb.addIcon(elm.className);\n                setTimeout(()=>{\n                    elm.focus();\n\n                },100);\n            }\n\n            let elms = document.querySelectorAll('#divIcons > button');\n            for(var i=0;i<elms.length;i++) {\n                elms[i].addEventListener('click', function(e){\n\n                    setValue(e.target);\n\n                });\n            }\n\n            const handleItemClick = (e) => {\n                e.preventDefault();\n\n                let item = e.target;\n                setValue(item);\n            }\n\n            const handleItemKeyDown = (e) => {\n                e.preventDefault();\n\n                if(e.keyCode === 27) { // escape key\n                    const pop = parent.document.querySelector('.rte-icon-options.active');\n                    if(pop) pop.classList.remove('active');\n                } else if(e.keyCode === 13 || e.keyCode === 32) { // enter or spacebar key\n                    setValue(e.target);\n                } else if ((e.which === 9 && !e.shiftKey)) { // tab key pressed\n                    if(e.target.nextElementSibling) {\n                        e.target.nextElementSibling.focus();\n                    } else {\n                        document.querySelector('#divIcons > button').focus();\n                    }\n                } else if ((e.which === 9 && e.shiftKey)) { // tab key pressed\n                    if(e.target.previousElementSibling) {\n                        e.target.previousElementSibling.focus();\n                    } else {\n                        document.querySelector('#divIcons > button:last-child').focus();\n                    }\n                }\n            }\n            \n            elms = document.querySelectorAll('#divIcons button');\n            elms.forEach(elm=>{\n                elm.addEventListener('keydown', handleItemKeyDown);\n                elm.addEventListener('click', handleItemClick);\n            });\n        <\/script>\n\n        </body>\n        </html>\n                \n        \n        `}addIcon(e){const t=this.dom;if(this.util.restoreSelection(),this.builder.activeIcon){this.builder.uo.saveForUndo();const s=this.builder.opts.fontSizeClassValues;for(var i="",n=0;n<=s.length-1;n++)t.hasClass(this.builder.activeIcon,"size-"+s[n])&&(i="size-"+s[n]);this.builder.activeIcon.className=e+(""!==i?" "+i:""),t.addClass(this.builder.activeIcon,"icon-active"),t.selectElementContents(this.builder.activeIcon),this.util.saveSelection()}else{if(!t.textSelection())return;this.builder.uo.saveForUndo(),this.util.pasteHtmlAtCaret('<i class="'+e+' icon-active"></i>',!0),this.builder.activeIcon=this.builder.doc.querySelector(".icon-active"),t.selectElementContents(this.builder.activeIcon),this.util.saveSelection()}this.builder.opts.onChange(),this.builder.opts.onRender()}clearFont(){this.builder.uo.saveForUndo(),this.applyFont("","","")}applyFont(e,t,i){const n=this.dom;let s;var o=this.builderStuff.querySelector(".is-side.elementstyles");if(n.hasClass(o,"active"))this.builder.uo.saveForUndo(),s=this.builder.inspectedElement,s.style.fontFamily=e,this.builderStuff.querySelector("#inpElmFontFamily").value=e,this.elementStyleEditor.refresh();else{try{let e;this.builder.win.getSelection?(e=this.builder.win.getSelection().getRangeAt(0).commonAncestorContainer,s=3===e.nodeType?e.parentNode:e,"H1"!==s.tagName&&"H2"!==s.tagName&&"H3"!==s.tagName&&"H4"!==s.tagName&&"H5"!==s.tagName&&"H6"!==s.tagName&&"P"!==s.tagName&&(s=s.parentNode)):this.builder.doc.selection&&(e=this.builder.doc.selection.createRange(),s=this.builder.doc.selection.createRange().parentElement(),"H1"!==s.tagName&&"H2"!==s.tagName&&"H3"!==s.tagName&&"H4"!==s.tagName&&"H5"!==s.tagName&&"H6"!==s.tagName&&"P"!==s.tagName&&(s=s.parentElement()))}catch(e){return}this.builder.uo.saveForUndo();var a=n.getSelected();if(""!==a.trim()&&s.innerText!==a){this.builder.doc.execCommand("fontName",!1,e);for(var l=this.builder.doc.getElementsByTagName("font"),r=0,d=l.length;r<d;++r)l[r].face===e&&(l[r].removeAttribute("face"),l[r].style.fontFamily=e,n.selectElementContents(l[r]))}else""!==a.trim()&&s.innerText,s.style.fontFamily=e}var c=t;c=c?":"+c:"";var u=e.split(",")[0];if("google"===i){var p=!1,h=this.builder.doc.getElementsByTagName("link");for(r=0;r<h.length;r++){var m=h[r].href.toLowerCase();-1!==(m=m.replace(/\+/g," ").replace(/%20/g," ")).indexOf(u.toLowerCase())&&(p=!0)}if(!p){for(var g=s;!n.hasClass(g,"is-builder");)g=g.parentNode;n.appendHtml(g,'<link href="//fonts.googleapis.com/css2?family='+u+c+'" rel="stylesheet" property="stylesheet">')}}if(!this.builder.inspectedElement){if(this.util.saveSelection(),this.builder.isTouchSupport){this.rteTool.querySelector("button").focus()}this.getState()}for(this.builder.opts.onChange(),setTimeout((()=>{this.builder.opts.onChange()}),300),h=this.builder.doc.getElementsByTagName("link"),r=0;r<h.length;r++){if(-1!==(m=h[r].href.toLowerCase()).indexOf("googleapis"))if(-1!==(u=(m=m.replace(/\+/g," ").replace(/%20/g," ")).substr(m.indexOf("family=")+7)).indexOf(":")&&(u=u.split(":")[0]),-1!==u.indexOf("|")&&(u=u.split("|")[0]),this.builder.doc.body.innerHTML.toLowerCase().split(u).length<3){h[r].getAttribute("data-protect")||h[r].setAttribute("data-rel","_del")}}[].forEach.call(this.builder.doc.querySelectorAll('link[data-rel="_del"]'),(function(e){e.parentNode.removeChild(e)}))}setFont(e,t,i,n){const s=this.dom;let o;var a=this.builderStuff.querySelector(".is-side.elementstyles");if(s.hasClass(a,"active"))this.builder.uo.saveForUndo(),o=this.builder.inspectedElement,o.style.fontFamily=e,this.builderStuff.querySelector("#inpElmFontFamily").value=e,this.elementStyleEditor.refresh();else{this.builder.isIE&&this.util.restoreSelection();try{let e;this.builder.win.getSelection?(e=this.builder.win.getSelection().getRangeAt(0).commonAncestorContainer,o=3===e.nodeType?e.parentNode:e,"H1"!==o.tagName&&"H2"!==o.tagName&&"H3"!==o.tagName&&"H4"!==o.tagName&&"H5"!==o.tagName&&"H6"!==o.tagName&&"P"!==o.tagName&&(o=o.parentNode)):this.builder.doc.selection&&(e=this.builder.doc.selection.createRange(),o=this.builder.doc.selection.createRange().parentElement(),"H1"!==o.tagName&&"H2"!==o.tagName&&"H3"!==o.tagName&&"H4"!==o.tagName&&"H5"!==o.tagName&&"H6"!==o.tagName&&"P"!==o.tagName&&(o=o.parentElement()))}catch(e){return}this.builder.uo.saveForUndo();var l=s.getSelected();if(""!==l.trim()&&o.innerText!==l){this.builder.doc.execCommand("fontName",!1,e);for(var r=this.builder.doc.getElementsByTagName("font"),d=0,c=r.length;d<c;++d)r[d].face.replace(/'/g,"")===e.replace(/'/g,"")&&(r[d].removeAttribute("face"),r[d].style.fontFamily=e,s.selectElementContents(r[d]));for(d=0,c=(r=this.builder.doc.querySelectorAll("[face]")).length;d<c;++d){let e=r[d].getAttribute("face");if(-1!==e.indexOf(",")){var u=e.split(",")[0],p=e.split(",")[1];-1!==u.indexOf(" ")&&(e=`'${u}',${p}`)}r[d].style.fontFamily=e,r[d].removeAttribute("face")}}else if(""!==l.trim()&&o.innerText===l){o.style.fontFamily=e;let t=o.querySelectorAll("*");Array.prototype.forEach.call(t,(e=>{""!==e.style.fontFamily&&(e.style.fontFamily="")}))}else o.style.fontFamily=e}var h=t;h=h?":"+h:"";var m="";i&&(m="&display=swap");var g=e.split(",")[0];if(g=g.replace(/'/g,""),"google"===n){let t=!1;if(t=this.checkIfFontCssLinkExists(e),!t){let t=o;for(;!s.hasClass(t,"is-builder");)t=t.parentNode;let i="";if(this.builder.fontPath){const n=e.split(",")[0].toLowerCase().replace(/'/g,"").replace(/"/g,"").replace(/\s/g,"-")+".css";i=this.builder.fontPath+n,s.appendHtml(t,`<link data-name="fontfamily" href="${i}" rel="stylesheet" property="stylesheet">`)}else s.appendHtml(t,'<link href="//fonts.googleapis.com/css2?family='+g+m+h+'" rel="stylesheet" property="stylesheet">')}}if("others"===n){let t=!1;if(t=this.checkIfFontCssLinkExists(e),!t){let t=o;for(;!s.hasClass(t,"is-builder");)t=t.parentNode;let i="";if(this.builder.fontPath){const n=e.split(",")[0].toLowerCase().replace(/'/g,"").replace(/"/g,"").replace(/\s/g,"-")+".css";i=this.builder.fontPath+n,s.appendHtml(t,`<link data-name="fontfamily" href="${i}" rel="stylesheet" property="stylesheet">`)}}}if(!this.builder.inspectedElement){if(this.util.saveSelection(),this.builder.isTouchSupport){this.rteTool.querySelector("button").focus()}this.getState()}this.builder.opts.onChange(),this.cleanupFontCssLink()}cleanupFontCssLink(){const e=[];if(""!==this.builder.opts.page){this.builder.doc.querySelector(this.builder.opts.page).querySelectorAll("*").forEach((function(t){let i=window.getComputedStyle(t).getPropertyValue("font-family");-1===e.indexOf(i)&&e.push(i)}))}else{this.builder.doc.querySelectorAll(this.builder.opts.container).forEach((t=>{t.querySelectorAll("*").forEach((function(t){let i=window.getComputedStyle(t).getPropertyValue("font-family");-1===e.indexOf(i)&&e.push(i)}))}))}let t=this.builder.doc.getElementsByTagName("link");for(let i=0;i<t.length;i++){let n=t[i].href.toLowerCase();if(-1!==n.indexOf("googleapis")){n=n.replace(/\+/g," ").replace(/%20/g," ");let s=n.substr(n.indexOf("family=")+7);-1!==s.indexOf(":")&&(s=s.split(":")[0]),-1!==s.indexOf("|")&&(s=s.split("|")[0]),s=s.replace("&display=swap","");let o=!1;if(e.forEach((e=>{let t=e.split(",")[0].replace(/"/g,"").replace(/'/g,"").toLowerCase();s===t&&(o=!0)})),!o){t[i].getAttribute("data-protect")||t[i].setAttribute("data-rel","_del")}}else if("fontfamily"===t[i].getAttribute("data-name")){let s=!1;if(e.forEach((e=>{const t=e.split(",")[0].replace(/'/g,"").replace(/"/g,"").replace(/\s/g,"-").toLowerCase()+".css";-1===n.toLowerCase().indexOf("/"+t)||(s=!0)})),!s){t[i].getAttribute("data-protect")||t[i].setAttribute("data-rel","_del")}}}[].forEach.call(this.builder.doc.querySelectorAll('link[data-rel="_del"]'),(function(e){e.parentNode.removeChild(e)}))}checkIfFontCssLinkExists(e){let t=!1,i=e.split(",")[0];i=i.replace(/'/g,""),i=i.replace(/"/g,""),i=i.toLowerCase();let n=this.builder.doc.getElementsByTagName("link");for(let e=0;e<n.length;e++){let s=n[e].href.toLowerCase();if(-1!==s.indexOf("googleapis")){if(!this.builder.fontPath){s=s.replace(/\+/g," ").replace(/%20/g," ");let e=s.substr(s.indexOf("family=")+7);-1!==e.indexOf(":")&&(e=e.split(":")[0]),-1!==e.indexOf("|")&&(e=e.split("|")[0]),e=e.replace("&display=swap",""),e===i.toLowerCase()&&(t=!0)}}else if("fontfamily"===n[e].getAttribute("data-name")&&this.builder.fontPath){let e=i.replace(/\s/g,"-").toLowerCase()+".css";-1!==s.toLowerCase().indexOf("/"+e)&&(t=!0)}}return t}positionToolbar(){const e=document.body.clientWidth,t=window.innerHeight;if("left"===this.builder.opts.toolbar||"right"===this.builder.opts.toolbar){let e=this.rteTool.offsetHeight,i=t/2-e/2;this.rteTool.style.left="",this.rteTool.style.top=i+"px",e=this.elementRteTool.offsetHeight,i=t/2-e/2,this.elementRteTool.style.left="",this.elementRteTool.style.top=i+"px"}else{let t=this.rteTool.offsetWidth,i=e/2-t/2;this.rteTool.style.top="",this.rteTool.style.left=i+"px",t=this.elementRteTool.offsetWidth,i=e/2-t/2,this.elementRteTool.style.top="",this.elementRteTool.style.left=i+"px"}}viewZoom(){this.builder.onZoomOpen&&this.builder.onZoomOpen(),this.inpZoomSlider.value=100*this.builder.opts.zoom,document.activeElement&&(this.elmFocus=document.activeElement);const e=this.builderStuff.querySelector(".viewzoom");this.util.showModal(e,!1,(()=>{this.elmFocus&&this.elmFocus.focus()}),!1)}}class Fv{constructor(e={},t){this.opts=Object.assign(this,{page:"",container:".container",handler:"saveimage.php",onComplete:function(){},customval:"",stuffPlacement:"#_cbhtml",hiquality:!1},e),this.builder=t;const i=this.builder.dom;this.dom=i,this.count=0;let n=document.querySelector(this.opts.stuffPlacement);n||(n=document.createElement("div"),n.id="_cbhtml",n.className="is-ui",i.appendChild(document.body,n)),this.builderStuff=n}save(){if(""!==this.opts.page){let e=this.builder.doc.querySelector(this.opts.page);this.uploadImages(e)}else{let e=this.builder.doc.querySelectorAll(this.opts.container);Array.prototype.forEach.call(e,(e=>{this.uploadImages(e)}))}var e=setInterval((()=>{let t=!0;if(""!==this.opts.page){let e=this.builder.doc.querySelector(this.opts.page);t=this.checkImages(e)}else{let e=this.builder.doc.querySelectorAll(this.opts.container);Array.prototype.forEach.call(e,(e=>{!1===this.checkImages(e)&&(t=!1)}))}t&&(this.opts.onComplete(),window.clearInterval(e))}),2e3)}checkImages(e){const t=e.querySelectorAll("img");let i=!0;return Array.prototype.forEach.call(t,(e=>{let t=e.getAttribute("src");void 0!==t&&!1!==t&&-1!==t.indexOf("base64")&&(i=!1)})),i}uploadImages(e){if(!e)return;const t=e.querySelectorAll("img");Array.prototype.forEach.call(t,(e=>{let t=e.getAttribute("src");if(void 0!==t&&!1!==t&&-1!==t.indexOf("base64"))if(this.opts.onBase64Upload){let i=t;i=i.replace(/^data:image\/(png|jpeg);base64,/,"");let n=e.getAttribute("data-filename");this.opts.onBase64Upload(e,i,n)}else{this.count++;let s=t;if(s=s.replace(/^data:image\/(png|jpeg);base64,/,""),!this.builderStuff.querySelector("#form-"+this.count)){var i='<form id="form-'+this.count+'" target="frame-'+this.count+'" method="post" enctype="multipart/form-data"><input id="hidimg-'+this.count+'" name="hidimg-'+this.count+'" type="hidden" /><input id="hidname-'+this.count+'" name="hidname-'+this.count+'" type="hidden" /><input id="hidtype-'+this.count+'" name="hidtype-'+this.count+'" type="hidden" /><input id="hidcustomval-'+this.count+'" name="hidcustomval-'+this.count+'" type="hidden" /><input name="count" value="'+this.count+'" type="hidden" /><iframe tabindex="0" id="frame-'+this.count+'" name="frame-'+this.count+'" style="width:1px;height:1px;border:none;position:absolute;z-index:-100000;left:-5px;"></iframe></form>';this.builderStuff.insertAdjacentHTML("beforeend",i)}e.setAttribute("id","img-"+this.count),this.builderStuff.querySelector("#hidimg-"+this.count).value=s,this.builderStuff.querySelector("#hidcustomval-"+this.count).value=this.customval;let o=e.getAttribute("data-filename");if(o){let e=o.substr(0,o.lastIndexOf("."))||o;e=e.toLowerCase().replace(/ /g,"-"),this.builderStuff.querySelector("#hidname-"+this.count).value=e}if(this.opts.hiquality)this.builderStuff.querySelector("#hidtype-"+this.count).value="png";else{var n=o.substr(o.lastIndexOf(".")+1);n=n.toLowerCase(),this.builderStuff.querySelector("#hidtype-"+this.count).value="jpg"===n||"jpeg"===n?"jpg":"png"}this.builderStuff.querySelector("#form-"+this.count).setAttribute("action",this.opts.handler+(this.opts.handler.indexOf("?")>=0?"&":"?")+"count="+this.count),this.builderStuff.querySelector("#form-"+this.count).submit()}}))}}const Wv=new si;class Yv{constructor(e){this.builder=e;const t=this.builder.util,i=this.builder.builderStuff;this.util=t,this.builderStuff=i;let n=i.querySelector(".is-tooltip");if(!n){let e='<div class="is-tooltip"></div>';Wv.appendHtml(i,e),n=i.querySelector(".is-tooltip")}this.tooltip=n}setAll(e){let t;t=e||this.builderStuff;let i=t.querySelectorAll("[data-title]");if(Array.prototype.forEach.call(i,(e=>{this.set(e,0,0)})),this.builder.iframe&&!e){let e=this.builder.contentStuff.querySelectorAll("[data-title]");Array.prototype.forEach.call(e,(e=>{this.set(e,0,0,!0)}))}}set(e,t,i,n){t||(t=0),i||(i=0);let s=this.tooltip;e.addEventListener("mouseover",(o=>{var a=o.relatedTarget;if(this===a||Xv(this,a))return;let l,r,d=window.getComputedStyle(e.parentNode).getPropertyValue("flex-direction"),c=e.getAttribute("data-title");if(s.innerHTML=c,l=e.getBoundingClientRect().top+window.pageYOffset,r=e.getBoundingClientRect().left+window.pageXOffset,n){let t=this.builder.iframe.getBoundingClientRect().top+window.pageYOffset,i=this.builder.iframe.getBoundingClientRect().left+window.pageXOffset;l=e.getBoundingClientRect().top+t,r=e.getBoundingClientRect().left+i}s.style.display="flex",s.style.whiteSpace="nowrap";const u=e.offsetWidth,p=e.offsetHeight;s.style.marginRight="";const h=window.innerWidth;if(s.style.top=l+p+5+t+"px",p<30&&(s.style.top=l+p+2+t+"px"),"column"===d)s.style.top=l+p/2-s.offsetHeight/2+t+"px",s.style.left=r+u+3+i+"px",h-(r+u)<100&&(s.style.left=r-s.offsetWidth-3+i+"px");else{let e=r+u/2-s.offsetWidth/2+i;s.style.left=e+"px";let t=e+s.offsetWidth;if(t>h){let i=t-h;s.style.left=e-i-3+"px",s.offsetHeight>25&&(s.style.marginRight="5px")}e<0&&(s.style.left="3px")}e.hasAttribute("data-tooltip-top")&&(s.style.top=l-s.offsetHeight-3+"px"),e.removeAttribute("title")}),!1),e.addEventListener("mouseout",(t=>{var i=t.relatedTarget;this===i||Xv(this,i)||(e.setAttribute("title",e.getAttribute("data-title")),s.style.display="none")}),!1),e.addEventListener("click",(t=>{var i=t.relatedTarget;this===i||Xv(this,i)||(e.setAttribute("title",e.getAttribute("data-title")),s.style.display="none")}),!1)}set2(e,t,i){t||(t=0),i||(i=0);let n=this.tooltip;e.addEventListener("mouseover",(s=>{var o=s.relatedTarget;if(this===o||Xv(this,o))return;let a=window.getComputedStyle(e.parentNode).getPropertyValue("flex-direction"),l=e.getAttribute("data-title");n.innerHTML=l;const r=e.getBoundingClientRect().top+window.pageYOffset,d=e.getBoundingClientRect().left+window.pageXOffset;n.style.display="flex",n.style.whiteSpace="nowrap";const c=e.offsetWidth,u=e.offsetHeight;n.style.marginRight="";const p=window.innerWidth;if(n.style.top=r+u+5+t+"px",u<30&&(n.style.top=r+u+2+t+"px"),"column"===a)n.style.top=r+u/2-n.offsetHeight/2+t+"px",n.style.left=d+c+3+i+"px",p-(d+c)<100&&(n.style.left=d-n.offsetWidth-3+i+"px");else{let e=d+c/2-n.offsetWidth/2+i;n.style.left=e+"px";let t=e+n.offsetWidth;if(t>p){let i=t-p;n.style.left=e-i-3+"px",n.offsetHeight>25&&(n.style.marginRight="5px")}e<0&&(n.style.left="3px")}e.hasAttribute("data-tooltip-top")&&(n.style.top=r-n.offsetHeight-3+"px"),e.removeAttribute("title")}),!1),e.addEventListener("mouseout",(t=>{var i=t.relatedTarget;this===i||Xv(this,i)||(e.setAttribute("title",e.getAttribute("data-title")),n.style.display="none")}),!1),e.addEventListener("click",(t=>{var i=t.relatedTarget;this===i||Xv(this,i)||(e.setAttribute("title",e.getAttribute("data-title")),n.style.display="none")}),!1)}}function Xv(e,t){if(e===t)return!1;for(;t&&t!==e;)t=t.parentNode;return t===e}class Gv{constructor(e){this.builder=e,this.arrow=this.builder.lightboxArrow;const t=this.builder.util,i=this.builder.builderStuff;this.util=t,this.builderStuff=i;const n=this.builder.dom;this.dom=n,this.id=this.makeid();let s=`\n\n                <div class="is-lightbox lightbox-edit" tabindex="-1" role="dialog" aria-modal="true" aria-hidden="true">\n                    <button class="cmd-lightbox-close" title="${t.out("Close")}" type="button">\n                        <svg><use xlink:href="#__${this.id}svgLightboxClose"></use></svg>\n                    </button>\n\n                    <div class="lightbox-content" style="width:100%;">\n                    </div>\n\n                    <button class="cmd-lightbox-prev" title="${t.out("Previous")}" type="button" style="top:50%;left:3px;">\n                        <svg><use xlink:href="#__${this.id}svgLightboxLeft"></use></svg>\n                    </button>\n                    <button class="cmd-lightbox-next" title="${t.out("Next")}" type="button" style="top:50%;left:auto;right:3px">\n                        <svg><use xlink:href="#__${this.id}svgLightboxRight"></use></svg>\n                    </button>\n                </div>\n\n                <svg width="0" height="0" style="position:absolute;display:none;">\n                    <defs>\n                        <symbol viewBox="0 0 24 24" id="__${this.id}svgLightboxClose" stroke-width="0.7" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">\n                            <path stroke="none" d="M0 0h24v24H0z" fill="none"></path><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line>\n                        </symbol>\n                        <symbol viewBox="0 0 24 24" id="__${this.id}svgLightboxLeft" stroke-width="0.7" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">\n                            <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>\n                            <polyline points="15 6 9 12 15 18"></polyline>\n                        </symbol>\n                        <symbol viewBox="0 0 24 24" id="__${this.id}svgLightboxRight" stroke-width="0.7" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">\n                            <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>\n                            <polyline points="9 6 15 12 9 18"></polyline>\n                        </symbol>\n                    </defs>\n                </svg>\n            `;n.appendHtml(this.builderStuff,s);const o=()=>{let e=document.querySelector(".is-lightbox.lightbox-edit.active");n.removeClass(e,"active");e.querySelector(".cmd-lightbox-close").style.opacity=0,document.body.style.overflowY="",setTimeout((()=>{let t=e.querySelector("iframe");t&&t.setAttribute("src","about:blank");const i=e.querySelector(".lightbox-content");e.querySelector("video")&&(i.innerHTML=""),e.style.display="",this.builder.preserveSelection=!1,this.elmFocus&&this.elmFocus.focus()}),300)},a=()=>{const e=this.getList();let t=document.querySelector(".is-lightbox.lightbox-edit.active"),i=t.getAttribute("data-url");e.forEach((n=>{if(i===n.url){let i;i=(e.indexOf(n)-1)%e.length,-1===i&&(i=e.length-1),this.openThen(e[i]);t.querySelector(".cmd-lightbox-prev").focus()}}))},l=()=>{const e=this.getList();let t=document.querySelector(".is-lightbox.lightbox-edit.active"),i=t.getAttribute("data-url");e.forEach((n=>{if(i===n.url){const i=(e.indexOf(n)+1)%e.length;this.openThen(e[i]);t.querySelector(".cmd-lightbox-next").focus()}}))},r=e=>{27===e.keyCode&&(o(),e.preventDefault()),this.arrow&&(37!==e.which||e.shiftKey||a(),39!==e.which||e.shiftKey||l())};this.builderStuff.querySelectorAll("div.lightbox-edit").forEach((e=>{e.addEventListener("keydown",r);const t=e.querySelector(".cmd-lightbox-close");t.addEventListener("click",(e=>{o(),e.preventDefault(),e.stopImmediatePropagation()})),t.addEventListener("keydown",(e=>{13!==e.keyCode&&32!==e.keyCode||o(),e.preventDefault(),e.stopImmediatePropagation()}));const i=e.querySelector(".cmd-lightbox-prev");i&&i.addEventListener("click",(e=>{a(),e.preventDefault(),e.stopImmediatePropagation()})),i&&i.addEventListener("keydown",(e=>{13!==e.keyCode&&32!==e.keyCode||(a(),e.preventDefault())}));const n=e.querySelector(".cmd-lightbox-next");n&&n.addEventListener("click",(e=>{l(),e.preventDefault(),e.stopImmediatePropagation()})),n&&n.addEventListener("keydown",(e=>{13!==e.keyCode&&32!==e.keyCode||(l(),e.preventDefault())}))}))}openThen(e){"image"===e.type&&(this.programmatically=!0,this.openImage(e.url,e.theme,e.color)),"video"===e.type&&(this.programmatically=!0,this.openVideo(e.url,e.theme,e.color)),"externalvideo"===e.type&&(this.programmatically=!0,this.openExternalVideo(e.url,e.theme,e.color))}openImage(e,t,i){const n=this.dom;if(this.builder.doc.activeElement&&(this.elmFocus=this.builder.doc.activeElement,!this.programmatically)){const e=this.builder.doc.activeElement.closest("[data-gallery]");this.parent=e}this.builder.preserveSelection=!0;let s=document.querySelector(".is-lightbox.lightbox-edit");if(window.frameElement&&!s&&(s=parent.document.querySelector(".is-lightbox.lightbox-edit")),!this.programmatically){const e=this.getList(),t=s.querySelector(".cmd-lightbox-prev");t.style.opacity=0;const i=s.querySelector(".cmd-lightbox-next");i.style.opacity=0,t.style.display="none",i.style.display="none",e.length>1&&this.arrow&&(t.style.display="flex",i.style.display="flex",setTimeout((()=>{s.querySelector(".cmd-lightbox-prev").style.opacity=1;s.querySelector(".cmd-lightbox-next").style.opacity=1}),500));const o=s.querySelector(".cmd-lightbox-close");o.style.opacity=0,setTimeout((()=>{n.addClass(s,"active"),setTimeout((()=>{o.style.opacity=1}),450)}),10)}s.setAttribute("data-url",e),s.classList.remove("lightbox-video"),s.classList.remove("lightbox-externalvideo"),s.classList.add("lightbox-image"),i&&(s.style.backgroundColor=i);const o=s.querySelector(".lightbox-content");this.programmatically?(o.style.transition="all 200ms ease",o.style.opacity="0",setTimeout((()=>{o.innerHTML=`<img src="${e}">`,o.style.opacity="1"}),200)):o.innerHTML=`<img src="${e}">`,"light"===t?(n.addClass(s,"light"),n.removeClass(s,"dark")):(n.addClass(s,"dark"),n.removeClass(s,"light")),s.style.display="flex",window.frameElement||(document.body.style.overflowY="hidden"),s.focus({preventScroll:!0}),this.programmatically=!1}openVideo(e,t,i){const n=this.dom;if(this.builder.doc.activeElement&&(this.elmFocus=this.builder.doc.activeElement,!this.programmatically)){const e=this.builder.doc.activeElement.closest("[data-gallery]");this.parent=e}this.builder.preserveSelection=!0;let s=document.querySelector(".is-lightbox.lightbox-edit");if(window.frameElement&&!s&&(s=parent.document.querySelector(".is-lightbox.lightbox-edit")),!this.programmatically){const e=this.getList(),t=s.querySelector(".cmd-lightbox-prev");t.style.opacity=0;const i=s.querySelector(".cmd-lightbox-next");i.style.opacity=0,t.style.display="none",i.style.display="none",e.length>1&&this.arrow&&(t.style.display="flex",i.style.display="flex",setTimeout((()=>{s.querySelector(".cmd-lightbox-prev").style.opacity=1;s.querySelector(".cmd-lightbox-next").style.opacity=1}),500));const o=s.querySelector(".cmd-lightbox-close");o.style.opacity=0,setTimeout((()=>{n.addClass(s,"active"),setTimeout((()=>{o.style.opacity=1}),450)}),10)}s.setAttribute("data-url",e),s.classList.add("lightbox-video"),s.classList.remove("lightbox-externalvideo"),s.classList.remove("lightbox-image"),i&&(s.style.backgroundColor=i);const o=s.querySelector(".lightbox-content");this.programmatically?(o.style.transition="all 200ms ease",o.style.opacity="0",setTimeout((()=>{o.innerHTML=`<video playsinline controls autoplay width="100%">\n                    <source src="${e}" type="video/mp4">\n                </video>`,o.style.opacity="1"}),200)):o.innerHTML=`<video playsinline controls autoplay width="100%">\n                <source src="${e}" type="video/mp4">\n            </video>`,"light"===t?(n.addClass(s,"light"),n.removeClass(s,"dark")):(n.addClass(s,"dark"),n.removeClass(s,"light")),s.style.display="flex",window.frameElement||(document.body.style.overflowY="hidden"),s.focus({preventScroll:!0}),this.programmatically=!1}openExternalVideo(e,t,i){const n=this.dom;if(this.builder.doc.activeElement&&(this.elmFocus=this.builder.doc.activeElement,!this.programmatically)){const e=this.builder.doc.activeElement.closest("[data-gallery]");this.parent=e}this.builder.preserveSelection=!0;let s=document.querySelector(".is-lightbox.lightbox-edit");if(window.frameElement&&!s&&(s=parent.document.querySelector(".is-lightbox.lightbox-edit")),!this.programmatically){const e=this.getList(),t=s.querySelector(".cmd-lightbox-prev");t.style.opacity=0;const i=s.querySelector(".cmd-lightbox-next");i.style.opacity=0,t.style.display="none",i.style.display="none",e.length>1&&this.arrow&&(t.style.display="flex",i.style.display="flex",setTimeout((()=>{s.querySelector(".cmd-lightbox-prev").style.opacity=1;s.querySelector(".cmd-lightbox-next").style.opacity=1}),500));const o=s.querySelector(".cmd-lightbox-close");o.style.opacity=0,setTimeout((()=>{n.addClass(s,"active"),setTimeout((()=>{o.style.opacity=1}),450)}),10)}s.setAttribute("data-url",e),s.classList.remove("lightbox-video"),s.classList.add("lightbox-externalvideo"),s.classList.remove("lightbox-image"),i&&(s.style.backgroundColor=i),"light"===t?(n.addClass(s,"light"),n.removeClass(s,"dark")):(n.addClass(s,"dark"),n.removeClass(s,"light"));const o=s.querySelector(".lightbox-content");if(this.programmatically)o.style.transition="all 200ms ease",o.style.opacity="0",setTimeout((()=>{o.innerHTML='<div class="embed-responsive embed-responsive-16by9" style="width:100%;">\n                    <iframe width="560" height="315" src="about:blank" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>\n                </div>',o.style.opacity="1";const t=s.querySelector("iframe");""!==(e=this.getIframeVideoUrl(e))&&t.setAttribute("src",e)}),200);else{o.innerHTML='<div class="embed-responsive embed-responsive-16by9" style="width:100%;">\n                <iframe width="560" height="315" src="about:blank" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>\n            </div>';const t=s.querySelector("iframe");""!==(e=this.getIframeVideoUrl(e))&&t.setAttribute("src",e)}s.style.display="flex",window.frameElement||(document.body.style.overflowY="hidden"),s.focus({preventScroll:!0}),this.programmatically=!1}getIframeVideoUrl(e){let t=e.match(/^.*(?:https?:)?(?:\/\/)?(?:[0-9A-Z-]+\.)?(?:youtu\.be\/|youtube(?:-nocookie)?\.com\/\S*?[^\w\s-])((?!videoseries)[\w-]{11})(?=[^\w-]|$)(?![?=&+%\w.-]*(?:['"][^<>]*>|<\/a>))[?=&+%\w.-]*/),i=/^.*(vimeo\.com\/)((channels\/[A-z]+\/)|(groups\/[A-z]+\/videos\/)|(video\/))?([0-9]+)\/?/.exec(e);if(null===t&&null===i||-1!==e.indexOf("player.vimeo.com")||-1!==e.indexOf("youtube.com/embed/")||-1!==e.indexOf("youtube-nocookie.com/embed/"))-1!==e.indexOf("youtube-nocookie.com/embed/")&&-1===e.indexOf("?")&&(e+="?rel=0&autoplay=1&color=white");else{if(null!==t){e="https://www.youtube-nocookie.com/embed/"+t[1]+"?rel=0&autoplay=1&color=white"}if(null!==i&&i.length>=7){e="https://player.vimeo.com/video/"+i[6]}}return e}makeid(){let e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(let i=0;i<2;i++)e+=t.charAt(Math.floor(Math.random()*t.length));let i="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let e=0;e<5;e++)i+=n.charAt(Math.floor(Math.random()*n.length));return e+i}getList(){const e=[];let t=this.builder.doc.querySelectorAll(".block-click,.button-click,.is-lightbox");return this.parent&&(t=this.parent.querySelectorAll(".block-click,.button-click,.is-lightbox")),t.forEach((t=>{if(!this.parent&&t.closest("[data-gallery"))return;let i,n;"a"===t.tagName.toLowerCase()?(i=t.getAttribute("href"),n=i.split(".").pop().split("?")[0].split("#")[0]):t.getAttribute("data-modal-url")&&(i=t.getAttribute("data-modal-url"),n=i.split(".").pop().split("?")[0].split("#")[0]);let s=t.getAttribute("data-modal-theme");s||(s="light");const o=t.getAttribute("data-modal-color");i&&("jpg"===n||"jpeg"===n||"png"===n||"gif"===n||"webm"===n||"webp"===n?e.push({type:"image",url:i,theme:s,color:o}):"mp4"===n?e.push({type:"video",url:i,theme:"dark",color:o}):-1===i.toLowerCase().indexOf("youtube.com")&&-1===i.toLowerCase().indexOf("youtube-nocookie.com")&&-1===i.toLowerCase().indexOf("vimeo.com")||e.push({type:"externalvideo",url:i,theme:"dark",color:o})),t.getAttribute("data-modal-image")?(i=t.getAttribute("data-modal-image"),e.push({type:"image",url:i,theme:s,color:o})):t.getAttribute("data-modal-video")?(i=t.getAttribute("data-modal-video"),e.push({type:"video",url:i,theme:"dark",color:o})):t.getAttribute("data-modal-externalvideo")&&(i=t.getAttribute("data-modal-externalvideo"),e.push({type:"externalvideo",url:i,theme:"dark",color:o}))})),e}}class Vv{constructor(e){this.builder=e;const t=this.builder.util;this.util=t;const i=this.builder.dom;this.dom=i;const n=this.builder.builderStuff;this.builderStuff=n;let s=n.querySelector(".is-modal.shortcuts");if(!s){let e=`<div class="is-modal shortcuts" tabindex="-1" role="dialog" aria-modal="true" aria-hidden="true">\n            <div class="is-modal-content">\n                <div class="is-modal-bar is-draggable">${t.out("Shortcuts")}</div>\n\n                <table>\n                    <tr>\n                        <td class="shortcut-title" colspan="2">${t.out("Basic")}</td>\n                    </tr>\n                    <tr>\n                        <td>${t.out("Copy")}</td><td>⌘C</td>\n                    </tr>\n                    <tr>\n                        <td>${t.out("Cut")}</td><td>⌘X</td>\n                    </tr>\n                    <tr>\n                        <td>${t.out("Paste")}</td><td>⌘V</td>\n                    </tr>\n                    <tr>\n                        <td>${t.out("Undo")}</td><td>⌘Z</td>\n                    </tr>\n                    <tr>\n                        <td>${t.out("Redo")}</td><td>⌘Shift+Z</td>\n                    </tr>\n\n                    <tr>\n                        <td class="shortcut-title" colspan="2">${t.out("Editing")}</td>\n                    </tr>\n                    <tr>\n                        <td>${t.out("Bold")}</td><td>⌘B</td>\n                    </tr>\n                    <tr>\n                        <td>${t.out("Italic")}</td><td>⌘I</td>\n                    </tr>\n                    <tr>\n                        <td>${t.out("Underline")}</td><td>⌘U</td>\n                    </tr>\n                    <tr>\n                        <td>${t.out("Strikethrough")}</td><td>⌘S</td>\n                    </tr>\n                    <tr>\n                        <td>${t.out("Indent")}</td><td>⌘]</td>\n                    </tr>\n                    <tr>\n                        <td>${t.out("Outdent")}</td><td>⌘[</td>\n                    </tr>\n                    <tr>\n                        <td>${t.out("Insert Link")}</td><td>⌘K</td>\n                    </tr>\n                    <tr>\n                        <td>${t.out("Insert Image")}</td><td>⌘P</td>\n                    </tr>\n\n                    <tr>\n                        <td class="shortcut-title" colspan="2">${t.out("Navigation")}</td>\n                    </tr>\n                    <tr>\n                        <td>${t.out("Show shortcut info")}</td><td>⌘/</td>\n                    </tr>\n                    <tr>\n                        <td>${t.out("Navigate to the next control")}</td><td>${t.out("Tab")}</td>\n                    </tr>\n                    <tr>\n                        <td>${t.out("Navigate to the previous control")}</td><td>${t.out("Shift")}+${t.out("Tab")}</td>\n                    </tr>\n                    <tr>\n                        <td>${t.out("Select control that has focus")}<br></td><td>${t.out("Enter")} ${t.out("or")} ${t.out("Spacebar")}</td>\n                    </tr>\n                    <tr>\n                        <td>${t.out("Select option that has focus (eg. checkbox)")}<br></td><td>${t.out("Spacebar")}</td>\n                    </tr>\n                    <tr>\n                        <td>${t.out("Move up in selection list or menu")}</td><td>${t.out("Up arrow")}</td>\n                    </tr>\n                    <tr>\n                        <td>${t.out("Move down in selection list or menu")}</td><td>${t.out("Down arrow")}</td>\n                    </tr>\n                    <tr>\n                        <td>${t.out("Close modal or popup")}</td><td>${t.out("Esc")}</td>\n                    </tr>\n                </table>\n            \n            </div>\n            </div>\n            `;i.appendHtml(n,e),s=n.querySelector(".is-modal.shortcuts");let o=s.querySelector(".is-modal-close");i.addEventListener(o,"click",(()=>{i.removeClass(s,"active")}))}this.shortcutModal=s}open(){this.builder.util.showModal(this.shortcutModal,!1)}}const Kv=new si;class Zv{constructor(){const e=()=>{let e=document.querySelectorAll(".is-tabs-more");Array.prototype.forEach.call(e,(e=>{e.style.display="none",e.setAttribute("aria-expanded",!1)})),document.removeEventListener("click",t)},t=t=>{t.target.closest(".is-tab-more")||t.target.closest("[data-menu]")||e()},i=i=>{const n=i.parentNode.getAttribute("data-group"),s=i.getAttribute("data-menu");if(s){document.addEventListener("click",t),i.setAttribute("aria-expanded",!0),document.querySelector("#"+s).style.display="block";let e=document.querySelector('.is-tabs-more[data-group="'+n+'"] > li.active');if(e)e.focus();else{document.querySelector('.is-tabs-more[data-group="'+n+'"]').focus()}return!1}if(Kv.hasClass(i,"active"))return!1;const o=i.getAttribute("data-content");if(!o)return!1;let a=document.querySelectorAll('.is-tabs[data-group="'+n+'"] > a');Array.prototype.forEach.call(a,(e=>{Kv.removeClass(e,"active")})),a=document.querySelectorAll('.is-tabs-more[data-group="'+n+'"] > li'),Array.prototype.forEach.call(a,(e=>{Kv.removeClass(e,"active")})),Kv.addClass(i,"active");let l=document.querySelectorAll('.is-tab-content[data-group="'+n+'"]');Array.prototype.forEach.call(l,(e=>{e.style.display="none",Kv.removeClass(e,"active")}));const r=document.querySelector("#"+o);return r.style.display="flex",Kv.addClass(r,"active"),document.querySelector(".is-tabs-more").style.display="none",e(),this.setupTabKey(r),!1};let n=document.querySelectorAll(".is-tabs a");Array.prototype.forEach.call(n,(e=>{e.addEventListener("keydown",(t=>{if(t.preventDefault(),39===t.which&&t.target.nextElementSibling)t.target.nextElementSibling.focus();else if(37===t.which&&t.target.previousElementSibling)t.target.previousElementSibling.focus();else if(13===t.keyCode||32===t.keyCode)i(t.target);else if(9===t.which&&!t.shiftKey){let t=[];const i=e.parentNode.getAttribute("data-group");if(e.parentNode.parentNode.querySelector('.is-tab-content[data-group="'+i+'"].active').querySelectorAll('.is-tabs.active, a[href], input:not([disabled]):not([type="hidden"]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex]').forEach((e=>{t.push(e)})),0===t.length)return;t[0].focus()}})),e.addEventListener("click",(e=>{e.preventDefault(),i(e.target)}))}));const s=document.querySelectorAll(".is-tabs-more");Array.prototype.forEach.call(s,(t=>{t.addEventListener("keydown",(i=>{i.preventDefault(),40===i.keyCode&&i.target.nextElementSibling?t.querySelector("li").focus():27===i.keyCode&&e()}))})),n=document.querySelectorAll(".is-tabs-more li"),Array.prototype.forEach.call(n,(t=>{t.addEventListener("keydown",(n=>{if(n.preventDefault(),n.stopImmediatePropagation(),38===n.keyCode&&n.target.previousElementSibling)n.target.previousElementSibling.focus();else if(40===n.keyCode&&n.target.nextElementSibling)n.target.nextElementSibling.focus();else if(27===n.keyCode)e();else if((13===n.keyCode||32===n.keyCode)&&(i(n.target),n.target.closest(".is-tabs-more"))){const e=t.parentNode.getAttribute("id"),i=document.querySelector('.is-tabs a[data-menu="'+e+'"]');i&&i.focus()}})),t.addEventListener("click",(e=>{if(e.preventDefault(),i(e.target),e.target.closest(".is-tabs-more")){const e=t.parentNode.getAttribute("id"),i=document.querySelector('.is-tabs a[data-menu="'+e+'"]');i&&i.focus()}}))}))}setupTabKey(e){let t=[];if(e.querySelectorAll('.is-tabs.active, a[href], input:not([disabled]):not([type="hidden"]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex]').forEach((e=>{t.push(e)})),0===t.length)return;let i=t[0];t[t.length-1].addEventListener("keydown",(t=>{if(9===t.which&&!t.shiftKey){t.preventDefault();let i=e.getAttribute("id");const n=document.querySelector('li[data-content="'+i+'"],a[data-content="'+i+'"]');if(n.closest(".is-tabs-more")){i=n.parentNode.getAttribute("id");const e=document.querySelector('.is-tabs a[data-menu="'+i+'"]');e&&e.focus()}else n.focus()}})),i.addEventListener("keydown",(t=>{if(9===t.which&&t.shiftKey){t.preventDefault();let i=e.getAttribute("id");const n=document.querySelector('li[data-content="'+i+'"],a[data-content="'+i+'"]');if(n.closest(".is-tabs-more")){i=n.parentNode.getAttribute("id");const e=document.querySelector('.is-tabs a[data-menu="'+i+'"]');e&&e.focus()}else n.focus()}}))}}class Qv{constructor(e={}){this.opts=Object.assign(this,{treshholds:13,minWidth:50,minHeight:50,adj:4,onResize:function(){},resizeHeight:!1},e);const t=this.pane,i=t.closest(".is-builder");let n=this.getScale(i);if(!n){const e=i.closest(".is-wrapper");n=this.getScale(e)}const s=this.minWidth,o=this.minHeight,a=this.treshholds,l=this.adj;let r,d,c,u,p,h,m,g=null,b=!1;const f=e=>{p=this.pane.getBoundingClientRect(),h=e.clientX-p.left,m=e.clientY-p.top,u=m<a,c=h<a,r=h>=p.width-a,d=m>=p.height-a},v=e=>{if(f(e),e.target.closest(".glide__arrows"))return!1;const t=r||d||u||c;g={x:h,y:m,cx:e.clientX,cy:e.clientY,w:p.width,h:p.height,isResizing:t,onTopEdge:u,onLeftEdge:c,onRightEdge:r,onBottomEdge:d}},y=e=>{v(e)},x=e=>{v(e.touches[0])};let _;function w(e){if(f(e),_=e,b=!0,g&&g.isResizing)return e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.cancelBubble=!0,e.returnValue=!1,!1}const S=e=>{w(e.touches[0])},C=e=>{let t=!!g&&g.isResizing;f(e),g=null,t&&this.resizeEnd&&this.resizeEnd()},k=e=>{0==e.touches.length&&C(e.changedTouches[0])};this.onMouseDown=y,this.onMove=w,this.onUp=C,this.onTouchDown=x,this.onTouchMove=S,this.onTouchEnd=k,t.addEventListener("mousedown",y),t.ownerDocument.addEventListener("mousemove",w),t.ownerDocument.addEventListener("mouseup",C),t.addEventListener("touchstart",x),t.ownerDocument.addEventListener("touchmove",S),t.ownerDocument.addEventListener("touchend",k);const A=()=>{if(requestAnimationFrame(A),b)if(b=!1,g&&g.isResizing){let e,i;if(this.resizeHeight&&g.onBottomEdge&&(i=Math.max(m/n,o)+l,t.style.height=i+"px"),g.onRightEdge){let i=Math.max(_.clientX-g.cx+g.w,s);i>s&&(e=i/n,t.style.width=e+"px")}if(g.onLeftEdge){let i=Math.max(g.cx-_.clientX+g.w,s);i>s&&(e=i/n,t.style.width=e+"px")}this.onResize(e,i)}else r&&d?this.resizeHeight&&(t.style.cursor="nwse-resize"):d&&c?this.resizeHeight&&(t.style.cursor="nesw-resize"):r||c?t.style.cursor="ew-resize":d?this.resizeHeight&&(t.style.cursor="ns-resize"):t.style.cursor=""};A()}getScale(e){let t=window.getComputedStyle(e).transform;if("none"===t)return!1;let i=t.split("(")[1];i=i.split(")")[0],i=i.split(",");let n=i[0],s=i[1];return Math.sqrt(n*n+s*s)}destroy(){const e=this.pane;e.removeEventListener("mousedown",this.onMouseDown),e.ownerDocument.removeEventListener("mousemove",this.onMove),e.ownerDocument.removeEventListener("mouseup",this.onUp),e.removeEventListener("touchstart",this.onTouchDown),e.ownerDocument.removeEventListener("touchmove",this.onTouchMove),e.ownerDocument.removeEventListener("touchend",this.onTouchEnd),e.style.cursor=""}}class Jv{constructor(e,t,i={}){this.opts=Object.assign(this,{filterSiblingClass:"is-row-tool"},i),this.builder=t,this.element=e}enable(){const e=this.element,t=e.parentNode;this.resize=new Qv({pane:e,resizeHeight:this.builder.resizeHeight,onResize:(i,n)=>{this.builder.util.hideControls();let s=1;if(Array.from(e.parentNode.children).map((t=>{t.classList.contains("is-row-tool")||t.classList.contains("is-rowadd-tool")||t.classList.contains("is-col-tool")||t!==e&&s++})),i){e.style.flex="none",e.style.width=`${i}px`;const n=(()=>{let i=0;return Array.from(e.parentNode.children).map((t=>{t.classList.contains("is-row-tool")||t.classList.contains("is-rowadd-tool")||t.classList.contains("is-col-tool")||t!==e&&(i+=t.offsetWidth)})),t.offsetWidth-i})();parseInt(e.style.width)>n?(Array.from(e.parentNode.children).map((t=>{if(!t.classList.contains("is-row-tool")&&!t.classList.contains("is-rowadd-tool")&&!t.classList.contains("is-col-tool")&&t!==e&&(2===s&&(t.getAttribute("data-html")||(t.style.width="100%",t.style.flex="")),2===s&&t.getAttribute("data-html"))){let i=e.offsetWidth/e.parentNode.offsetWidth*100;t.style.width=100-i+"%",t.style.flex="0 0 auto"}})),1===s&&(e.style.width="100%")):Array.from(e.parentNode.children).map((t=>{if(!t.classList.contains("is-row-tool")&&!t.classList.contains("is-rowadd-tool")&&!t.classList.contains("is-col-tool")&&t!==e&&(""===t.style.width&&(t.getAttribute("data-html")||(t.style.width="100%"),t.style.flex=""),2===s&&t.getAttribute("data-html"))){let i=e.offsetWidth/e.parentNode.offsetWidth*100;t.style.width=100-i+"%",t.style.flex="0 0 auto"}}))}n&&(e.style.height=`${n}px`,e.style.minHeight="")},resizeEnd:()=>{let i=1;if(Array.from(e.parentNode.children).map((t=>{t.classList.contains("is-row-tool")||t.classList.contains("is-rowadd-tool")||t.classList.contains("is-col-tool")||t!==e&&i++})),e.style.width){e.style.width=e.offsetWidth+"px";let n=parseInt(e.style.width)/t.offsetWidth*100;const s=(()=>{let i=0;return Array.from(e.parentNode.children).map((t=>{t.classList.contains("is-row-tool")||t.classList.contains("is-rowadd-tool")||t.classList.contains("is-col-tool")||t.classList.contains("row-tool")||t!==e&&(i+=t.offsetWidth)})),t.offsetWidth-i})();parseInt(e.style.width)>s&&Array.from(e.parentNode.children).map((t=>{t.classList.contains("is-row-tool")||t.classList.contains("is-rowadd-tool")||t.classList.contains("is-col-tool")||t!==e&&2===i&&(t.getAttribute("data-html")||(t.style.width="100%",t.style.flex=""))}));let o=0,a=0;Array.from(e.parentNode.children).map((t=>{t.classList.contains("is-row-tool")||t.classList.contains("is-rowadd-tool")||t.classList.contains("is-col-tool")||(t===e?a=t.offsetWidth:o+=t.offsetWidth)}));let l=t.offsetWidth-o;a>l&&(n=l/t.offsetWidth*100),e.style.width=n+"%",Array.from(e.parentNode.children).map((e=>{if(!e.classList.contains("is-row-tool")&&!e.classList.contains("is-rowadd-tool")&&!e.classList.contains("is-col-tool")&&e.getAttribute("data-html")){let i=e.offsetWidth/t.offsetWidth*100;e.style.width=i+"%",e.style.flex="none",this.builder.util.refreshModuleLayout(e)}}))}e.style.height&&(e.style.minHeight=e.style.height,e.style.height="",Array.from(e.parentNode.children).map((t=>{t.classList.contains("is-row-tool")||t.classList.contains("is-rowadd-tool")||t.classList.contains("is-col-tool")||t!==e&&(t.style.height="",t.style.minHeight="")}))),this.builder.opts.onChange()}})}destroy(){this.resize.destroy()}}class ey{constructor(e){this.builder=e;const t=e.util,i=`<div class="is-tool is-column-tool">\n            <button type="button" tabindex="-1" title="${t.out("Add")}" class="cell-add"><svg class="is-icon-flex"><use xlink:href="#ion-ios-plus-empty"></use></svg></button>\n            <button type="button" tabindex="-1" title="${t.out("More")}" class="cell-more"><svg class="is-icon-flex"><use xlink:href="#ion-more"></use></svg></button>\n            <button type="button" tabindex="-1" title="${t.out("Delete")}" class="cell-remove"><svg class="is-icon-flex" style="margin-left:-1px"><use xlink:href="#ion-ios-close-empty"></use></svg></button>\n        </div>\n        <div class="is-tool is-element-tool">\n            <button type="button" tabindex="-1" title="${t.out("Add")}" class="elm-add"><svg class="is-icon-flex"><use xlink:href="#ion-ios-plus-empty"></use></svg></button>\n            <button type="button" tabindex="-1" title="${t.out("More")}" class="elm-more"><svg class="is-icon-flex"><use xlink:href="#ion-more"></use></svg></button>\n            <button type="button" tabindex="-1" title="${t.out("Delete")}" class="elm-remove"><svg class="is-icon-flex" style="margin-left:-1px"><use xlink:href="#ion-ios-close-empty"></use></svg></button>\n            <button type="button" tabindex="-1" title="${t.out("Settings")}" class="elm-settings"><svg class="is-icon-flex"><use xlink:href="#ion-ios-gear"></use></svg></button>\n        </div>\n\n        <div id="divButtonTool" class="is-tool">\n            <button title="${t.out("Edit Button")}" data-title="${t.out("Edit Button")}" class="button-edit"><svg class="is-icon-flex" style="width:12px;height:12px;"><use xlink:href="#ion-android-create"></use></svg></button>\n            <button title="${t.out("Duplicate")}" data-title="${t.out("Duplicate")}" class="button-duplicate"><svg class="is-icon-flex" style="width:11px;height:11px;"><use xlink:href="#ion-ios-photos-outline"></use></svg></button>\n            <button title="${t.out("Delete")}" data-title="${t.out("Delete")}" class="button-remove"><svg class="is-icon-flex" style="width:20px;height:20px;"><use xlink:href="#ion-ios-close-empty"></use></svg></button>\n        </div>\n        <div class="is-tool is-code-tool">\n            <button title="${t.out("Settings")}" data-title="${t.out("Settings")}" style="width:40px;height:40px;"><svg class="is-icon-flex"><use xlink:href="#ion-ios-gear"></use></svg></button>\n        </div>\n        <div id="divLinkTool" class="is-tool">\n            <button title="${t.out("Edit Button")}" data-title="${t.out("Edit Button")}" class="link-button-edit" style="display:none;"><svg class="is-icon-flex" style="width:12px;height:12px;"><use xlink:href="#ion-android-create"></use></svg></button>\n            <button title="${t.out("Link")}" data-title="${t.out("Link")}" class="link-edit"><svg class="is-icon-flex" style="width:13px;height:13px;"><use xlink:href="#ion-link"></use></svg></button>\n            <button title="${t.out("Duplicate")}" data-title="${t.out("Duplicate")}" class="link-duplicate"><svg class="is-icon-flex" style="width:11px;height:11px;"><use xlink:href="#ion-ios-photos-outline"></use></svg></button>\n            <button title="${t.out("Delete")}" data-title="${t.out("Delete")}" class="link-remove"><svg class="is-icon-flex" style="width:20px;height:20px;"><use xlink:href="#ion-ios-close-empty"></use></svg></button>\n        </div>\n        <div class="is-tool is-iframe-tool">\n            <button title="${t.out("Settings")}" data-title="${t.out("Settings")}" style="width:40px;height:40px;background:none;"><svg class="is-icon-flex"><use xlink:href="#ion-ios-gear"></use></svg></button>\n        </div>\n        <div class="is-tool is-module-tool">\n            <button title="${t.out("Settings")}" data-title="${t.out("Settings")}" style="width:40px;height:40px;"><svg class="is-icon-flex"><use xlink:href="#ion-ios-gear"></use></svg></button>\n        </div>\n        <div id="divSpacerTool" class="is-tool is-spacer-tool">\n            <button title="${t.out("Decrease")}" data-value="-"><svg class="is-icon-flex"><use xlink:href="#ion-ios-minus-empty"></use></svg></button>\n            <button title="${t.out("Increase")}" data-value="+" style="border-left: none;"><svg class="is-icon-flex"><use xlink:href="#ion-ios-plus-empty"></use></svg></button>\n        </div>\n        <div class="is-tool is-table-tool">\n            <button title="${t.out("Settings")}" style="width:40px;height:40px;"><svg class="is-icon-flex"><use xlink:href="#ion-ios-gear"></use></svg></button>\n        </div>\n        <div class="is-tool is-video-tool">\n            <button title="${t.out("Settings")}" data-title="${t.out("Settings")}" style="width:40px;height:40px;background:none;"><svg class="is-icon-flex"><use xlink:href="#ion-ios-gear"></use></svg></button>\n        </div>\n        <div class="is-tool is-audio-tool">\n            <button title="${t.out("Settings")}" data-title="${t.out("Settings")}" style="width:37px;height:37px;background:none;"><svg class="is-icon-flex"><use xlink:href="#ion-ios-gear"></use></svg></button>\n        </div>\n        \n\n        <div class="is-locked-indicator">\n            <svg class="is-icon-flex"><use xlink:href="#icon-lock"></use></svg>\n        </div>\n\n        <svg width="0" height="0" style="position:absolute;display:none;">\n            <defs>\n            <symbol viewBox="0 0 512 512" id="ion-ios-arrow-left"><path d="M352 115.4L331.3 96 160 256l171.3 160 20.7-19.3L201.5 256z"></path></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-ios-arrow-right"><path d="M160 115.4L180.7 96 352 256 180.7 416 160 396.7 310.5 256z"></path></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-ios-plus-outline"><path d="M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7S150.9 65.3 256 65.3 446.7 150.9 446.7 256 361.1 446.7 256 446.7z"></path><path d="M264.1 128h-16.8v119.9H128v16.8h119.3V384h16.8V264.7H384v-16.8H264.1z"></path></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-image"><path d="M368 224c26.5 0 48-21.5 48-48s-21.5-48-48-48-48 21.5-48 48 21.5 48 48 48z"></path><path d="M452 64H60c-15.6 0-28 12.7-28 28.3v327.4c0 15.6 12.4 28.3 28 28.3h392c15.6 0 28-12.7 28-28.3V92.3c0-15.6-12.4-28.3-28-28.3zM348.9 261.7c-3-3.5-7.6-6.2-12.8-6.2-5.1 0-8.7 2.4-12.8 5.7L304.6 277c-3.9 2.8-7 4.7-11.5 4.7-4.3 0-8.2-1.6-11-4.1-1-.9-2.8-2.6-4.3-4.1L224 215.3c-4-4.6-10-7.5-16.7-7.5-6.7 0-12.9 3.3-16.8 7.8L64 368.2V107.7c1-6.8 6.3-11.7 13.1-11.7h357.7c6.9 0 12.5 5.1 12.9 12l.3 260.4-99.1-106.7z"></path></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-ios-photos-outline"><path d="M96 128v320h384V128H96zm368 304H112V144h352v288z"></path><path d="M32 64v320h48v-16H48V80h352v32h16V64z"></path></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-ios-settings-strong"><path d="M32 376h283.35c6.186-14.112 20.281-24 36.65-24s30.465 9.888 36.65 24H480v32h-91.35c-6.186 14.112-20.281 24-36.65 24s-30.465-9.888-36.65-24H32M32 240h91.35c6.186-14.112 20.281-24 36.65-24s30.465 9.888 36.65 24H480v32H196.65c-6.186 14.112-20.281 24-36.65 24s-30.465-9.888-36.65-24H32M32 104h283.35c6.186-14.112 20.281-24 36.65-24s30.465 9.888 36.65 24H480v32h-91.35c-6.186 14.112-20.281 24-36.65 24s-30.465-9.888-36.65-24H32"></path></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-ios-settings"><path d="M352 104c8.837 0 16 7.163 16 16s-7.163 16-16 16-16-7.163-16-16 7.163-16 16-16m0-16c-17.645 0-32 14.355-32 32s14.355 32 32 32 32-14.355 32-32-14.355-32-32-32zM352 376c8.837 0 16 7.163 16 16s-7.163 16-16 16-16-7.163-16-16 7.163-16 16-16m0-16c-17.645 0-32 14.355-32 32s14.355 32 32 32 32-14.355 32-32-14.355-32-32-32zM160 240c8.837 0 16 7.163 16 16s-7.163 16-16 16-16-7.163-16-16 7.163-16 16-16m0-16c-17.645 0-32 14.355-32 32s14.355 32 32 32 32-14.355 32-32-14.355-32-32-32zM207.32 248H480v16H207.32c.439-2.604.68-5.273.68-8s-.24-5.396-.68-8zM112 256c0 2.727.24 5.396.68 8H32v-16h80.68a47.955 47.955 0 0 0-.68 8zM399.32 384H480v16h-80.68c.439-2.604.68-5.273.68-8s-.24-5.396-.68-8zM304 392c0 2.727.24 5.396.68 8H32v-16h272.68a47.955 47.955 0 0 0-.68 8zM399.32 112H480v16h-80.68c.439-2.604.68-5.273.68-8s-.24-5.396-.68-8zM304.68 112c-.439 2.604-.68 5.273-.68 8s.24 5.396.68 8H32v-16h272.68z"></path></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-android-options"><path d="M32 384h272v32H32zM400 384h80v32h-80zM384 447.5c0 17.949-14.327 32.5-32 32.5-17.673 0-32-14.551-32-32.5v-95c0-17.949 14.327-32.5 32-32.5 17.673 0 32 14.551 32 32.5v95z"></path><g><path d="M32 240h80v32H32zM208 240h272v32H208zM192 303.5c0 17.949-14.327 32.5-32 32.5-17.673 0-32-14.551-32-32.5v-95c0-17.949 14.327-32.5 32-32.5 17.673 0 32 14.551 32 32.5v95z"></path></g><g><path d="M32 96h272v32H32zM400 96h80v32h-80zM384 159.5c0 17.949-14.327 32.5-32 32.5-17.673 0-32-14.551-32-32.5v-95c0-17.949 14.327-32.5 32-32.5 17.673 0 32 14.551 32 32.5v95z"></path></g></symbol>\n            <symbol viewBox="0 0 2048.0 2048.0" id="icon-list-number"><rect x="0" y="0" width="2048.00" height="2048.00" fill="none" /><g transform="matrix(1,0,0,1,1024.0,1024.0)"><path d="M-1043.45,1024 C-1039.25,946.283 -1023.18,878.648 -995.249,821.096 C-967.313,763.544 -912.806,711.242 -831.728,664.192 L-710.742,594.247 C-656.55,562.74 -618.532,535.854 -596.687,513.589 C-562.24,478.722 -545.016,438.813 -545.016,393.863 C-545.016,341.352 -560.769,299.658 -592.276,268.781 C-623.783,237.904 -665.792,222.466 -718.304,222.466 C-796.02,222.466 -849.792,251.873 -879.619,310.685 C-895.582,342.192 -904.404,385.882 -906.084,441.754 L-1021.4,441.754 C-1020.14,363.197 -1005.65,299.133 -977.92,249.562 C-928.769,162.183 -842.02,118.494 -717.673,118.494 C-614.331,118.494 -538.82,146.43 -491.139,202.302 C-443.459,258.174 -419.619,320.347 -419.619,388.822 C-419.619,461.078 -445.034,522.831 -495.865,574.082 C-525.272,603.909 -577.993,640.037 -654.03,682.466 L-740.358,730.356 C-781.527,753.041 -813.874,774.676 -837.399,795.26 C-879.408,831.808 -905.874,872.347 -916.797,916.877 L-424.03,916.877 L-424.03,1024 L-1043.45,1024 Z "  /><path d="M-922.391,-764.384 L-922.391,-851.343 C-840.474,-859.324 -783.341,-872.662 -750.994,-891.356 C-718.647,-910.05 -694.492,-954.265 -678.529,-1024 L-589.049,-1024 L-589.049,-125.425 L-710.035,-125.425 L-710.035,-764.384 L-922.391,-764.384 Z "  /><path d="M-198.618,-510.942 L-198.618,-667.156 L1004.57,-667.156 L1004.57,-510.942 L-198.618,-510.942 Z "  /><path d="M-198.618,78.1071 L-198.618,-78.1071 L1004.57,-78.1071 L1004.57,78.1071 L-198.618,78.1071 Z "  /><path d="M-179.185,649.354 L-179.185,493.14 L1024,493.14 L1024,649.354 L-179.185,649.354 Z "  /></g></symbol>\n            <symbol viewBox="0 0 2048.0 2048.0" id="icon-list-bullet"><rect x="0" y="0" width="2048.00" height="2048.00" fill="none" /><g transform="matrix(1,0,0,1,1024.0,1024.0)"><path d="M-379.801,-514.33 L-379.801,-670.545 L914.662,-670.545 L914.662,-514.33 L-379.801,-514.33 Z "  /><path d="M-379.801,78.1071 L-379.801,-78.1071 L914.662,-78.1071 L914.662,78.1071 L-379.801,78.1071 Z "  /><path d="M-379.801,670.545 L-379.801,514.33 L914.662,514.33 L914.662,670.545 L-379.801,670.545 Z "  /><path d="M-929.642,-469.441 L-929.642,-715.434 L-669.092,-715.434 L-669.092,-469.441 L-929.642,-469.441 Z "  /><path d="M-929.642,127.109 L-929.642,-118.885 L-669.092,-118.885 L-669.092,127.109 L-929.642,127.109 Z "  /><path d="M-929.642,715.434 L-929.642,469.441 L-669.092,469.441 L-669.092,715.434 L-929.642,715.434 Z "  /></g></symbol>\n            <symbol viewBox="0 0 2048.0 2048.0" id="icon-clean">\n                <g transform="matrix(1,0,0,1,1024.0,1024.0)">\n                    <path d="M75.0013,893.849 L-1030.73,900.993 L-32.1518,-880.838 L1009.54,-880.838 L75.0013,893.849 Z " fill="currentColor" />\n                    <path d="M-30.8571,780.685 L-845.2,787.828 L-508.893,193.749 L305.26,194.963 L-30.8571,780.685 Z " fill="#ffffff" fill-opacity="1.00" />\n                </g>\n            </symbol>\n            <symbol viewBox="0 0 512 512" id="ion-location"><path d="M256 64c-65.9 0-119.3 53.7-119.3 120 0 114.6 119.3 264 119.3 264s119.3-149.4 119.3-264c0-66.3-53.4-120-119.3-120zm0 178.2c-31.2 0-56.4-25.4-56.4-56.7 0-31.3 25.3-56.8 56.4-56.8 31.2 0 56.4 25.4 56.4 56.8 0 31.3-25.2 56.7-56.4 56.7z"></path></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-ios-film-outline"><path d="M0 360h400v-336h-400v336zM72 40v48h-56v-48h56zM72 104v48h-56v-48h56zM72 168v48h-56v-48h56zM72 232v48h-56v-48h56zM72 296v48h-56v-48h56zM312 40v144h-224v-144h224zM312 200v144h-224v-144h224zM384 40v48h-56v-48h56zM384 104v48h-56v-48h56zM384 168v48h-56v-48\n                h56zM384 232v48h-56v-48h56zM384 296v48h-56v-48h56z"></path></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-social-youtube-outline"><path d="M265 96c65.3 0 118.7 1.1 168.1 3.3h1.4c23.1 0 42 22 42 49.1v1.1l.1 1.1c2.3 34 3.4 69.3 3.4 104.9.1 35.6-1.1 70.9-3.4 104.9l-.1 1.1v1.1c0 13.8-4.7 26.6-13.4 36.1-7.8 8.6-18 13.4-28.6 13.4h-1.6c-52.9 2.5-108.8 3.8-166.4 3.8h-10.6.1-10.9c-57.8 0-113.7-1.3-166.2-3.7h-1.6c-10.6 0-20.7-4.8-28.5-13.4-8.6-9.5-13.4-22.3-13.4-36.1v-1.1l-.1-1.1c-2.4-34.1-3.5-69.4-3.3-104.7v-.2c-.1-35.3 1-70.5 3.3-104.6l.1-1.1v-1.1c0-27.2 18.8-49.3 41.9-49.3h1.4c49.5-2.3 102.9-3.3 168.2-3.3H265m0-32.2h-18c-57.6 0-114.2.8-169.6 3.3-40.8 0-73.9 36.3-73.9 81.3C1 184.4-.1 220 0 255.7c-.1 35.7.9 71.3 3.4 107 0 45 33.1 81.6 73.9 81.6 54.8 2.6 110.7 3.8 167.8 3.8h21.6c57.1 0 113-1.2 167.9-3.8 40.9 0 74-36.6 74-81.6 2.4-35.7 3.5-71.4 3.4-107.1.1-35.7-1-71.3-3.4-107.1 0-45-33.1-81.1-74-81.1C379.2 64.8 322.7 64 265 64z"></path><path d="M207 353.8V157.4l145 98.2-145 98.2z"></path></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-ios-play"><path d="M128 96v320l256-160L128 96z"></path></symbol>\n            <symbol viewBox="0 0 2048.0 2048.0" id="icon-align-full"><rect x="0" y="0" width="2048.00" height="2048.00" fill="none" /><g transform="matrix(1,0,0,1,1024.0,1024.0)"><path d="M-770.727,738.299 L-770.727,582.085 L769.712,582.085 L769.712,738.299 L-770.727,738.299 Z " /><path d="M-770.727,-534.628 L-770.727,-690.842 L769.712,-690.842 L769.712,-534.628 L-770.727,-534.628 Z " /><path d="M-770.219,-115.563 L-770.219,-271.777 L770.219,-271.777 L770.219,-115.563 L-770.219,-115.563 Z " /><path d="M-770.219,303.503 L-770.219,147.288 L770.219,147.288 L770.219,303.503 L-770.219,303.503 Z " /></g></symbol>\n            <symbol viewBox="0 0 2048.0 2048.0" id="icon-align-center"><rect x="0" y="0" width="2048.00" height="2048.00" fill="none" /><g transform="matrix(1,0,0,1,1024.0,1024.0)"><path d="M-770.727,738.299 L-770.727,582.085 L769.712,582.085 L769.712,738.299 L-770.727,738.299 Z " /><path d="M-552.286,-107.697 L-552.286,-263.911 L552.286,-263.911 L552.286,-107.697 L-552.286,-107.697 Z " /><path d="M-467.355,319.234 L-467.355,163.02 L466.34,163.02 L466.34,319.234 L-467.355,319.234 Z " /><path d="M-770.727,-534.628 L-770.727,-690.842 L769.712,-690.842 L769.712,-534.628 L-770.727,-534.628 Z " /></g></symbol>\n            <symbol viewBox="0 0 2048.0 2048.0" id="icon-align-left"><rect x="0" y="0" width="2048.00" height="2048.00" fill="none" /><g transform="matrix(1,0,0,1,1024.0,1024.0)"><path d="M-770.727,738.299 L-770.727,582.085 L769.712,582.085 L769.712,738.299 L-770.727,738.299 Z " /><path d="M-770.727,-534.628 L-770.727,-690.842 L769.712,-690.842 L769.712,-534.628 L-770.727,-534.628 Z " /><path d="M-770.219,-115.563 L-770.219,-271.777 L482.839,-271.777 L482.839,-115.563 L-770.219,-115.563 Z " /><path d="M-770.219,303.503 L-770.219,147.288 L122.787,147.288 L122.787,303.503 L-770.219,303.503 Z " /></g></symbol>\n            <symbol viewBox="0 0 2048.0 2048.0" id="icon-align-right"><rect x="0" y="0" width="2048.00" height="2048.00" fill="none" /><g transform="matrix(1,0,0,1,1024.0,1024.0)"><path d="M-770.727,738.299 L-770.727,582.085 L769.712,582.085 L769.712,738.299 L-770.727,738.299 Z " /><path d="M-770.727,-534.628 L-770.727,-690.842 L769.712,-690.842 L769.712,-534.628 L-770.727,-534.628 Z " /><path d="M-483.346,-118.081 L-483.346,-274.295 L769.712,-274.295 L769.712,-118.081 L-483.346,-118.081 Z " /><path d="M-123.871,303.503 L-123.871,147.288 L769.136,147.288 L769.136,303.503 L-123.871,303.503 Z " /></g></symbol>\n            <symbol viewBox="0 0 2048.0 2048.0" id="icon-indent"><rect x="0" y="0" width="2048.00" height="2048.00" fill="none" /><g transform="matrix(1,0,0,1,1024.0,1024.0)"><path d="M-829.04,-514.33 L-829.04,-670.545 L808.959,-670.545 L808.959,-514.33 L-829.04,-514.33 Z " /><path d="M-829.04,670.545 L-829.04,514.33 L808.959,514.33 L808.959,670.545 L-829.04,670.545 Z " /><path d="M-254.279,-110.244 L-254.279,-266.458 L808.959,-266.458 L808.959,-110.244 L-254.279,-110.244 Z " /><path d="M-254.279,266.458 L-254.279,110.244 L808.959,110.244 L808.959,266.458 L-254.279,266.458 Z " /><path d="M-829.04,-195.117 L-490.958,-1.03508e-14 L-829.04,195.117 L-829.04,-195.117 Z " /></g></symbol>\n            <symbol viewBox="0 0 2048.0 2048.0" id="icon-outdent"><rect x="0" y="0" width="2048.00" height="2048.00" fill="none" /><g transform="matrix(1,0,0,1,1024.0,1024.0)"><path d="M-829.04,-514.33 L-829.04,-670.545 L808.959,-670.545 L808.959,-514.33 L-829.04,-514.33 Z " /><path d="M-829.04,670.545 L-829.04,514.33 L808.959,514.33 L808.959,670.545 L-829.04,670.545 Z " /><path d="M-829.04,-110.244 L-829.04,-266.458 L234.198,-266.458 L234.198,-110.244 L-829.04,-110.244 Z " /><path d="M-829.04,266.458 L-829.04,110.244 L234.198,110.244 L234.198,266.458 L-829.04,266.458 Z " /><path d="M808.959,-195.117 L470.877,-1.03508e-14 L808.959,195.117 L808.959,-195.117 Z " /></g></symbol>\n            <symbol viewBox="0 0 2048.0 2048.0" id="icon-table"><rect x="0" y="0" width="2048.00" height="2048.00" fill="none" /><g transform="matrix(1,0,0,1,1024.0,1024.0)"><path d="M-660.783,660.783 L660.783,660.783 L660.783,-660.783 L-660.783,-660.783 L-660.783,660.783 Z " fill="none" stroke-width="75.82" stroke="currentColor" stroke-linecap="square" stroke-linejoin="miter" /><path d="M-37.9645,698.933 L37.9645,698.933 L37.9645,-698.569 L-37.9645,-698.569 L-37.9645,698.933 Z " fill="currentColor" fill-opacity="1.00" stroke-width="0.25" stroke="currentColor" stroke-linecap="square" stroke-linejoin="miter" /><path d="M-698.933,-37.7825 L-698.933,38.1465 L698.569,38.1465 L698.569,-37.7825 L-698.933,-37.7825 Z " fill="currentColor" fill-opacity="1.00" stroke-width="0.25" stroke="currentColor" stroke-linecap="square" stroke-linejoin="miter" /></g></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-android-happy"><path d="M256 48C140.563 48 48 141.6 48 256s92.563 208 208 208 208-93.6 208-208S370.401 48 256 48zm0 374.4c-91.518 0-166.404-74.883-166.404-166.4 0-91.518 74.887-166.4 166.404-166.4S422.404 164.482 422.404 256 347.518 422.4 256 422.4zm72.8-187.2c17.683 0 31.201-13.518 31.201-31.2s-13.519-31.2-31.201-31.2c-17.682 0-31.2 13.518-31.2 31.2s13.518 31.2 31.2 31.2zm-145.6 0c17.682 0 31.2-13.518 31.2-31.2s-13.519-31.2-31.2-31.2c-17.683 0-31.201 13.518-31.201 31.2s13.519 31.2 31.201 31.2zM256 370.4c48.883 0 89.436-30.164 106.081-72.801H149.919C166.564 340.236 207.117 370.4 256 370.4z"></path></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-android-create"><path d="M64 368v80h80l235.727-235.729-79.999-79.998L64 368zm377.602-217.602c8.531-8.531 8.531-21.334 0-29.865l-50.135-50.135c-8.531-8.531-21.334-8.531-29.865 0l-39.468 39.469 79.999 79.998 39.469-39.467z"></path></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-ios-minus-empty"><path d="M384 265H128v-17h256v17z"></path></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-eye"><path d="M256 128c-81.9 0-145.7 48.8-224 128 67.4 67.7 124 128 224 128 99.9 0 173.4-76.4 224-126.6C428.2 198.6 354.8 128 256 128zm0 219.3c-49.4 0-89.6-41-89.6-91.3 0-50.4 40.2-91.3 89.6-91.3s89.6 41 89.6 91.3c0 50.4-40.2 91.3-89.6 91.3z"></path><path d="M256 224c0-7.9 2.9-15.1 7.6-20.7-2.5-.4-5-.6-7.6-.6-28.8 0-52.3 23.9-52.3 53.3s23.5 53.3 52.3 53.3 52.3-23.9 52.3-53.3c0-2.3-.2-4.6-.4-6.9-5.5 4.3-12.3 6.9-19.8 6.9-17.8 0-32.1-14.3-32.1-32z"></path></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-reply"><path d="M448 400s-36.8-208-224-208v-80L64 256l160 134.4v-92.3c101.6 0 171 8.9 224 101.9z"></path></symbol>\n            \n            <symbol viewBox="0 0 512 512" id="ion-wrench"><path d="M461.9 114.9l-56.5 56.7-55.1-10-9.9-55.1 56.5-56.7c-12.7-12.7-30.8-18.5-44.2-17.8-13.5.7-42.3 8.3-64.6 32-21.6 22.8-44.3 65.3-24.2 112.5 2.4 5.7 5.1 13.2-2.9 21.2-8.1 8-215 202.8-215 202.8-19.4 16.7-18 47.6-.1 65.6 18.2 17.9 48.9 19 65.6-.3 0 0 193.2-205.8 202.7-215.1 8.5-8.3 16.1-5.5 21.2-2.9 35.6 18.4 86.3 2.4 112.6-23.9 26.3-26.3 31.1-51.7 31.9-64.7.8-12.9-3.7-30-18-44.3zM91.3 443.2c-6.3 6.2-16.5 6.2-22.7 0-6.2-6.3-6.2-16.5 0-22.7 6.3-6.2 16.5-6.2 22.7 0 6.2 6.3 6.2 16.5 0 22.7z"></path></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-more"><path d="M113.7 304C86.2 304 64 282.6 64 256c0-26.5 22.2-48 49.7-48 27.6 0 49.8 21.5 49.8 48 0 26.6-22.2 48-49.8 48zM256 304c-27.5 0-49.8-21.4-49.8-48 0-26.5 22.3-48 49.8-48 27.5 0 49.7 21.5 49.7 48 0 26.6-22.2 48-49.7 48zM398.2 304c-27.5 0-49.8-21.4-49.8-48 0-26.5 22.2-48 49.8-48 27.5 0 49.8 21.5 49.8 48 0 26.6-22.2 48-49.8 48z"></path></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-code-working"><circle cx="184.166" cy="256.166" r="24"></circle><circle cx="256.166" cy="256.166" r="24"></circle><circle cx="328.166" cy="256.166" r="24"></circle><g><path d="M168 392a23.929 23.929 0 0 1-16.971-7.029l-112-112c-9.373-9.373-9.373-24.569 0-33.941l112-112c9.373-9.372 24.568-9.372 33.941 0 9.371 9.372 9.371 24.568 0 33.941L89.941 256l95.029 95.029c9.371 9.372 9.371 24.568 0 33.941A23.925 23.925 0 0 1 168 392zM344 392a23.929 23.929 0 0 0 16.971-7.029l112-112c9.373-9.373 9.373-24.569 0-33.941l-112-112c-9.373-9.372-24.568-9.372-33.941 0-9.371 9.372-9.371 24.568 0 33.941L422.059 256l-95.029 95.029c-9.371 9.372-9.371 24.568 0 33.941A23.925 23.925 0 0 0 344 392z"></path></g></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-ios-gear"><path d="M416.349 256.046c-.001-21.013 13.143-38.948 31.651-46.062a196.302 196.302 0 0 0-23.664-57.139 49.423 49.423 0 0 1-20.082 4.254c-12.621 0-25.238-4.811-34.871-14.442-14.863-14.863-18.248-36.846-10.18-54.97A196.274 196.274 0 0 0 302.074 64C294.971 82.529 277.027 95.69 256 95.69c-21.025 0-38.969-13.161-46.073-31.69a196.243 196.243 0 0 0-57.128 23.688c8.068 18.122 4.683 40.104-10.181 54.97-9.631 9.631-22.25 14.443-34.871 14.443a49.429 49.429 0 0 1-20.083-4.255A196.273 196.273 0 0 0 64 209.984c18.509 7.112 31.652 25.049 31.652 46.062 0 21.008-13.132 38.936-31.63 46.054a196.318 196.318 0 0 0 23.692 57.128 49.428 49.428 0 0 1 20.032-4.232c12.622 0 25.239 4.812 34.871 14.443 14.841 14.841 18.239 36.781 10.215 54.889a196.257 196.257 0 0 0 57.13 23.673c7.128-18.479 25.046-31.596 46.038-31.596 20.992 0 38.91 13.115 46.037 31.596a196.234 196.234 0 0 0 57.132-23.675c-8.023-18.106-4.626-40.046 10.216-54.887 9.629-9.632 22.248-14.444 34.868-14.444 6.836 0 13.67 1.411 20.033 4.233a196.318 196.318 0 0 0 23.692-57.128c-18.498-7.119-31.629-25.048-31.629-46.054zM256.9 335.9c-44.3 0-80-35.9-80-80 0-44.101 35.7-80 80-80 44.299 0 80 35.899 80 80 0 44.1-35.701 80-80 80z"></path></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-arrow-expand"><path d="M274 209.7l63.9-63.8L288 96h128v128l-49.9-49.9-63.8 63.9zM274 302.3l63.9 63.8L288 416h128V288l-49.9 49.9-63.8-63.9zM238 302.3l-63.9 63.8L224 416H96V288l49.9 49.9 63.8-63.9zM238 209.7l-63.9-63.8L224 96H96v128l49.9-49.9 63.8 63.9z"></path></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-android-expand"><path d="M396.795 396.8H320V448h128V320h-51.205zM396.8 115.205V192H448V64H320v51.205zM115.205 115.2H192V64H64v128h51.205zM115.2 396.795V320H64v128h128v-51.205z"></path></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-arrow-move"><path d="M480 256l-96-96v76H276V128h76l-96-96-96 96h76v108H128v-76l-96 96 96 96v-76h108v108h-76l96 96 96-96h-76.2l-.4-108.5 108.6.3V352z"></path></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-drag"><path d="M0 144h512v32H0zM0 240h512v32H0zM0 336h512v32H0z"></path></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-link"><path d="M74.6 256c0-38.3 31.1-69.4 69.4-69.4h88V144h-88c-61.8 0-112 50.2-112 112s50.2 112 112 112h88v-42.6h-88c-38.3 0-69.4-31.1-69.4-69.4zm85.4 22h192v-44H160v44zm208-134h-88v42.6h88c38.3 0 69.4 31.1 69.4 69.4s-31.1 69.4-69.4 69.4h-88V368h88c61.8 0 112-50.2 112-112s-50.2-112-112-112z"/></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-contrast"><path d="M256 32C132.3 32 32 132.3 32 256s100.3 224 224 224 224-100.3 224-224S379.7 32 256 32zm135.8 359.8C355.5 428 307 448 256 448V64c51 0 99.5 20 135.8 56.2C428 156.5 448 204.7 448 256c0 51.3-20 99.5-56.2 135.8z"></path></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-ios-plus-empty"><path d="M384 265H264v119h-17V265H128v-17h119V128h17v120h120v17z"></path></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-ios-arrow-thin-up"><path d="M349.7 189.8c-3.1 3.1-8 3-11.3 0L264 123.4V408c0 4.4-3.6 8-8 8s-8-3.6-8-8V123.4l-74.4 66.3c-3.4 2.9-8.1 3.2-11.2.1-3.1-3.1-3.3-8.5-.1-11.4 0 0 87-79.2 88-80s2.8-2.4 5.7-2.4 4.9 1.6 5.7 2.4 88 80 88 80c1.5 1.5 2.3 3.6 2.3 5.7s-.8 4.1-2.3 5.7z"></path></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-ios-arrow-thin-down"><path d="M349.7 322.2c-3.1-3.1-8-3-11.3 0L264 388.6V104c0-4.4-3.6-8-8-8s-8 3.6-8 8v284.6l-74.4-66.3c-3.4-2.9-8.1-3.2-11.2-.1-3.1 3.1-3.3 8.5-.1 11.4 0 0 87 79.2 88 80s2.8 2.4 5.7 2.4 4.9-1.6 5.7-2.4 88-80 88-80c1.5-1.5 2.3-3.6 2.3-5.7s-.8-4.1-2.3-5.7z"></path></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-ios-arrow-thin-left"><path d="M189.8 349.7c3.1-3.1 3-8 0-11.3L123.4 264H408c4.4 0 8-3.6 8-8s-3.6-8-8-8H123.4l66.3-74.4c2.9-3.4 3.2-8.1.1-11.2-3.1-3.1-8.5-3.3-11.4-.1 0 0-79.2 87-80 88S96 253.1 96 256s1.6 4.9 2.4 5.7 80 88 80 88c1.5 1.5 3.6 2.3 5.7 2.3s4.1-.8 5.7-2.3z"></path></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-ios-arrow-thin-right"><path d="M322.2 349.7c-3.1-3.1-3-8 0-11.3l66.4-74.4H104c-4.4 0-8-3.6-8-8s3.6-8 8-8h284.6l-66.3-74.4c-2.9-3.4-3.2-8.1-.1-11.2 3.1-3.1 8.5-3.3 11.4-.1 0 0 79.2 87 80 88s2.4 2.8 2.4 5.7-1.6 4.9-2.4 5.7-80 88-80 88c-1.5 1.5-3.6 2.3-5.7 2.3s-4.1-.8-5.7-2.3z"></path></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-ios-close-empty"><path d="M340.2 160l-84.4 84.3-84-83.9-11.8 11.8 84 83.8-84 83.9 11.8 11.7 84-83.8 84.4 84.2 11.8-11.7-84.4-84.3 84.4-84.2z"></path></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-android-more-vertical"><path d="M296 136c0-22.002-17.998-40-40-40s-40 17.998-40 40 17.998 40 40 40 40-17.998 40-40zm0 240c0-22.002-17.998-40-40-40s-40 17.998-40 40 17.998 40 40 40 40-17.998 40-40zm0-120c0-22.002-17.998-40-40-40s-40 17.998-40 40 17.998 40 40 40 40-17.998 40-40z"></path></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-quote"><path d="M192 64c-40.646 0-72.483 11.229-94.627 33.373C75.229 119.517 64 151.354 64 192v256h160V192h-96c0-23.056 4.922-39.666 14.627-49.373C152.334 132.922 168.944 128 192 128M416 64c-40.646 0-72.483 11.229-94.627 33.373C299.229 119.517 288 151.354 288 192v256h160V192h-96c0-23.056 4.922-39.666 14.627-49.373C376.334 132.922 392.944 128 416 128"></path></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-code"><path d="M168 392a23.929 23.929 0 0 1-16.971-7.029l-112-112c-9.373-9.373-9.373-24.569 0-33.941l112-112c9.373-9.372 24.568-9.372 33.941 0 9.371 9.372 9.371 24.568 0 33.941L89.941 256l95.029 95.029c9.371 9.373 9.371 24.568 0 33.941A23.925 23.925 0 0 1 168 392zM344 392a23.929 23.929 0 0 0 16.971-7.029l112-112c9.373-9.373 9.373-24.569 0-33.941l-112-112c-9.373-9.372-24.568-9.372-33.941 0-9.371 9.372-9.371 24.568 0 33.941L422.059 256l-95.029 95.029c-9.371 9.373-9.371 24.568 0 33.941A23.925 23.925 0 0 0 344 392z"></path></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-camera"><path d="M430.4 147h-67.5l-40.4-40.8s-.2-.2-.3-.2l-.2-.2c-6-6-14.1-9.8-23.3-9.8h-84c-9.8 0-18.5 4.2-24.6 10.9v.1l-39.5 40h-69C63 147 48 161.6 48 180.2v202.1c0 18.6 15 33.7 33.6 33.7h348.8c18.5 0 33.6-15.1 33.6-33.7V180.2c0-18.6-15.1-33.2-33.6-33.2zM256 365.5c-50.9 0-92.4-41.6-92.4-92.6 0-51.1 41.5-92.6 92.4-92.6 51 0 92.4 41.5 92.4 92.6 0 51-41.4 92.6-92.4 92.6zm168.1-165c-7.7 0-14-6.3-14-14.1s6.3-14.1 14-14.1 14 6.3 14 14.1-6.3 14.1-14 14.1z"></path><path d="M256 202.9c-38.6 0-69.8 31.3-69.8 70 0 38.6 31.2 70 69.8 70 38.5 0 69.8-31.3 69.8-70s-31.3-70-69.8-70z"></path></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-move"><path d="M475.9 246.2l-79.4-79.4c-5.4-5.4-14.2-5.4-19.6 0l-.2.2c-5.4 5.4-5.4 14.2 0 19.6l54.9 54.9-161.8.5.5-161.8 54.9 54.9c5.4 5.4 14.2 5.4 19.6 0l.2-.2c5.4-5.4 5.4-14.2 0-19.6l-79.4-79.4c-5.4-5.4-14.2-5.4-19.6 0l-79.4 79.4c-5.4 5.4-5.4 14.2 0 19.6l.2.2c5.4 5.4 14.2 5.4 19.6 0l54.9-54.9.5 161.8-161.8-.5 54.9-54.9c5.4-5.4 5.4-14.2 0-19.6l-.2-.2c-5.4-5.4-14.2-5.4-19.6 0l-79.4 79.4c-5.4 5.4-5.4 14.2 0 19.6l79.4 79.4c5.4 5.4 14.2 5.4 19.6 0l.2-.2c5.4-5.4 5.4-14.2 0-19.6L80 270.5l161.8-.5-.5 161.8-54.9-54.9c-5.4-5.4-14.2-5.4-19.6 0l-.2.2c-5.4 5.4-5.4 14.2 0 19.6l79.4 79.4c5.4 5.4 14.2 5.4 19.6 0l79.4-79.4c5.4-5.4 5.4-14.2 0-19.6l-.2-.2c-5.4-5.4-14.2-5.4-19.6 0l-54.9 54.9-.5-161.8 161.8.5-54.9 54.9c-5.4 5.4-5.4 14.2 0 19.6l.2.2c5.4 5.4 14.2 5.4 19.6 0l79.4-79.4c5.5-5.4 5.5-14.2 0-19.6z"/></symbol>\n            <symbol viewBox="0 0 2048.0 2048.0" id="icon-ok">\n                <rect x="0" y="0" width="2048.00" height="2048.00" fill="none" />\n                <g transform="matrix(1,0,0,1,1024.0,1024.0)">\n                <path d="M330.323,493.628 L330.323,398.406 L-330.323,398.406 L-330.323,493.628 L330.323,493.628 Z " fill="currentColor" fill-opacity="1.00" />\n                <path d="M230.718,468.568 L328.59,468.568 L328.59,-599.718 L230.718,-599.718 L230.718,468.568 Z " fill="currentColor" fill-opacity="1.00" />\n                <path d="M-300.714,376.053 L-373.748,449.088 L-68.5805,754.255 L4.45387,681.221 L-300.714,376.053 Z " fill="currentColor" fill-opacity="1.00" />\n                <path d="M-9.9476e-14,216.241 L-73.0344,143.207 L-378.202,448.375 L-305.168,521.409 L-9.9476e-14,216.241 Z " fill="currentColor" fill-opacity="1.00" />\n                </g>\n            </symbol>\n            <symbol viewBox="0 0 512 512" id="ion-grid"><path d="M160 153.3c0 3.7-3 6.7-6.7 6.7h-50.5c-3.7 0-6.7-3-6.7-6.7v-50.5c0-3.7 3-6.7 6.7-6.7h50.5c3.7 0 6.7 3 6.7 6.7v50.5zM288 153.3c0 3.7-3 6.7-6.7 6.7h-50.5c-3.7 0-6.7-3-6.7-6.7v-50.5c0-3.7 3-6.7 6.7-6.7h50.5c3.7 0 6.7 3 6.7 6.7v50.5zM416 153.3c0 3.7-3 6.7-6.7 6.7h-50.5c-3.7 0-6.7-3-6.7-6.7v-50.5c0-3.7 3-6.7 6.7-6.7h50.5c3.7 0 6.7 3 6.7 6.7v50.5z"></path><g><path d="M160 281.3c0 3.7-3 6.7-6.7 6.7h-50.5c-3.7 0-6.7-3-6.7-6.7v-50.5c0-3.7 3-6.7 6.7-6.7h50.5c3.7 0 6.7 3 6.7 6.7v50.5zM288 281.3c0 3.7-3 6.7-6.7 6.7h-50.5c-3.7 0-6.7-3-6.7-6.7v-50.5c0-3.7 3-6.7 6.7-6.7h50.5c3.7 0 6.7 3 6.7 6.7v50.5zM416 281.3c0 3.7-3 6.7-6.7 6.7h-50.5c-3.7 0-6.7-3-6.7-6.7v-50.5c0-3.7 3-6.7 6.7-6.7h50.5c3.7 0 6.7 3 6.7 6.7v50.5z"></path></g><g><path d="M160 409.3c0 3.7-3 6.7-6.7 6.7h-50.5c-3.7 0-6.7-3-6.7-6.7v-50.5c0-3.7 3-6.7 6.7-6.7h50.5c3.7 0 6.7 3 6.7 6.7v50.5zM288 409.3c0 3.7-3 6.7-6.7 6.7h-50.5c-3.7 0-6.7-3-6.7-6.7v-50.5c0-3.7 3-6.7 6.7-6.7h50.5c3.7 0 6.7 3 6.7 6.7v50.5zM416 409.3c0 3.7-3 6.7-6.7 6.7h-50.5c-3.7 0-6.7-3-6.7-6.7v-50.5c0-3.7 3-6.7 6.7-6.7h50.5c3.7 0 6.7 3 6.7 6.7v50.5z"></path></g></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-gear-b"><path d="M448 294.4v-76.8h-42.8c-3.4-14.4-8.9-28-16.1-40.5l29.8-29.7-54.3-54.3-29.1 29.1c-12.6-7.7-26.4-13.5-41.1-17.3V64h-76.8v40.9c-14.7 3.8-28.5 9.7-41.1 17.3l-29.1-29.1-54.3 54.3 29.8 29.7c-7.2 12.5-12.6 26.1-16.1 40.5H64v76.8h44.1c3.8 13.7 9.5 26.6 16.7 38.6l-31.7 31.7 54.3 54.3 32.3-32.3c11.7 6.8 24.5 11.9 37.9 15.4v46h76.8v-46c13.5-3.5 26.2-8.6 37.9-15.4l32.3 32.3 54.3-54.3-31.6-31.7c7.2-11.9 12.9-24.8 16.7-38.6h44zm-192 15.4c-29.7 0-53.7-24.1-53.7-53.8s24-53.8 53.7-53.8 53.8 24.1 53.8 53.8-24.1 53.8-53.8 53.8z"></path></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-ios-grid-view-outline"><path d="M448 192v-16H336V64h-16v112H192V64h-16v112H64v16h112v128H64v16h112v112h16V336h128v112h16V336h112v-16H336V192h112zM320 320H192V192h128v128z"></path></symbol>\n            <symbol viewBox="0 0 2048.0 2048.0" id="icon-increase"><g transform="matrix(1,0,0,1,1024.0,1024.0)"><path d="M852.574,595.004 L852.574,507.837 L-852.574,507.837 L-852.574,595.004 L852.574,595.004 Z " /><path d="M852.574,224.232 L852.574,137.066 L-852.574,137.066 L-852.574,224.232 L852.574,224.232 Z " /><path d="M852.574,-134.971 L852.574,-222.138 L-852.574,-222.138 L-852.574,-134.971 L852.574,-134.971 Z " /><path d="M852.574,-505.743 L852.574,-592.909 L-852.574,-592.909 L-852.574,-505.743 L852.574,-505.743 Z " /></g></symbol>\n            <symbol viewBox="0 0 2048.0 2048.0" id="icon-decrease"><g transform="matrix(1,0,0,1,1024.0,1024.0)"><path d="M509.832,595.004 L509.832,507.837 L-509.832,507.837 L-509.832,595.004 L509.832,595.004 Z " /><path d="M509.832,224.232 L509.832,137.066 L-509.832,137.066 L-509.832,224.232 L509.832,224.232 Z " /><path d="M509.832,-136.947 L509.832,-224.113 L-509.832,-224.113 L-509.832,-136.947 L509.832,-136.947 Z " /><path d="M509.832,-505.743 L509.832,-592.909 L-509.832,-592.909 L-509.832,-505.743 L509.832,-505.743 Z " /></g></symbol>\n            <symbol viewBox="0 0 2048.0 2048.0" id="icon-strike">\n                <g transform="matrix(1,0,0,1,1024.0,1024.0)">\n                <path d="M298.298,-653.766 C292.151,-624.873 284.005,-605.663 273.862,-596.135 C263.719,-586.607 250.656,-581.842 234.673,-581.842 C220.535,-581.842 196.253,-589.526 161.828,-604.895 C87.4454,-637.475 17.0588,-653.766 -49.3321,-653.766 C-155.68,-653.766 -243.28,-621.339 -312.129,-556.485 C-380.979,-491.631 -415.404,-414.328 -415.404,-324.578 C-415.404,-272.94 -403.724,-225.606 -380.364,-182.575 C-357.005,-139.544 -322.733,-100.201 -277.551,-64.5467 C-232.368,-28.8923 -156.295,18.903 -49.3321,78.8392 C57.631,138.775 123.1,177.964 147.074,196.406 C182.729,223.455 209.008,252.654 225.913,284.005 C242.819,315.357 251.271,346.401 251.271,377.137 C251.271,432.463 228.987,480.412 184.419,520.984 C139.851,561.556 79.1465,581.842 2.30524,581.842 C-64.0856,581.842 -125.098,567.089 -180.731,537.582 C-236.364,508.075 -277.704,471.037 -304.753,426.469 C-331.801,381.901 -353.316,314.742 -369.299,224.991 L-403.417,224.991 L-403.417,653.766 L-369.299,653.766 C-364.996,624.873 -358.388,605.817 -349.474,596.596 C-340.561,587.375 -328.42,582.764 -313.051,582.764 C-297.068,582.764 -259.109,592.446 -199.173,611.81 C-139.236,631.174 -99.74,642.393 -80.6834,645.467 C-48.7174,651 -14.5998,653.766 21.6692,653.766 C137.239,653.766 231.753,619.495 305.214,550.952 C378.674,482.41 415.404,400.804 415.404,306.136 C415.404,256.343 403.878,208.701 380.826,163.211 C357.773,117.721 324.885,78.2244 282.161,44.7216 C239.438,11.2188 159.676,-36.8838 42.8774,-99.5863 C-100.355,-176.428 -191.027,-237.901 -229.141,-284.005 C-255.574,-315.357 -268.791,-350.089 -268.791,-388.202 C-268.791,-437.995 -247.89,-482.41 -206.088,-521.445 C-164.287,-560.48 -111.42,-579.998 -47.4879,-579.998 C9.06727,-579.998 63.7783,-565.552 116.645,-536.66 C169.512,-507.767 210.238,-468.732 238.823,-419.554 C267.408,-370.375 287.233,-304.292 298.298,-221.303 L332.415,-221.303 L332.415,-653.766 L298.298,-653.766 Z " fill="currentColor" fill-opacity="1.00" /><path d="M-530.954,-41.4477 L-530.954,41.4477 L530.954,41.4477 L530.954,-41.4477 L-530.954,-41.4477 Z " fill="currentColor" fill-opacity="1.00" /></g></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-ios-undo"><path d="M447.9 368.2c0-16.8 3.6-83.1-48.7-135.7-35.2-35.4-80.3-53.4-143.3-56.2V96L64 224l192 128v-79.8c40 1.1 62.4 9.1 86.7 20 30.9 13.8 55.3 44 75.8 76.6l19.2 31.2H448c0-10.1-.1-22.9-.1-31.8z"></path></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-ios-redo"><path d="M64 400h10.3l19.2-31.2c20.5-32.7 44.9-62.8 75.8-76.6 24.4-10.9 46.7-18.9 86.7-20V352l192-128L256 96v80.3c-63 2.8-108.1 20.7-143.3 56.2C60.4 285.2 64 351.5 64 368.2c.1 8.9 0 21.7 0 31.8z"></path></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-android-arrow-dropdown"><path d="M128 192l128 128 128-128z"></path></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-social-twitter"><path d="M492 109.5c-17.4 7.7-36 12.9-55.6 15.3 20-12 35.4-31 42.6-53.6-18.7 11.1-39.4 19.2-61.5 23.5C399.8 75.8 374.6 64 346.8 64c-53.5 0-96.8 43.4-96.8 96.9 0 7.6.8 15 2.5 22.1-80.5-4-151.9-42.6-199.6-101.3-8.3 14.3-13.1 31-13.1 48.7 0 33.6 17.2 63.3 43.2 80.7-16-.4-31-4.8-44-12.1v1.2c0 47 33.4 86.1 77.7 95-8.1 2.2-16.7 3.4-25.5 3.4-6.2 0-12.3-.6-18.2-1.8 12.3 38.5 48.1 66.5 90.5 67.3-33.1 26-74.9 41.5-120.3 41.5-7.8 0-15.5-.5-23.1-1.4C62.8 432 113.7 448 168.3 448 346.6 448 444 300.3 444 172.2c0-4.2-.1-8.4-.3-12.5C462.6 146 479 129 492 109.5z"></path></symbol>\n            <symbol viewBox="0 0 24 24" id="icon-zoom-in" stroke-width="1" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">\n                <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>\n                <circle cx="10" cy="10" r="7"></circle>\n                <line x1="7" y1="10" x2="13" y2="10"></line>\n                <line x1="10" y1="7" x2="10" y2="13"></line>\n                <line x1="21" y1="21" x2="15" y2="15"></line>\n            </symbol>\n            <symbol viewBox="0 0 512 512" id="ion-android-contract"><path d="M64 371.2h76.795V448H192V320H64v51.2zm76.795-230.4H64V192h128V64h-51.205v76.8zM320 448h51.2v-76.8H448V320H320v128zm51.2-307.2V64H320v128h128v-51.2h-76.8z"></path></symbol>\n            \n            <symbol viewBox="0 0 24 24" id="icon-lock-off" stroke-width="1" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">\n                <path stroke="none" d="M0 0h24v24H0z" fill="none"/>\n                <line x1="3" y1="3" x2="21" y2="21" />\n                <path d="M19 19a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2v-6a2 2 0 0 1 2 -2h4m4 0h2a2 2 0 0 1 2 2v2" />\n                <circle cx="12" cy="16" r="1" />\n                <path d="M8 11v-3m.712 -3.278a4 4 0 0 1 7.288 2.278v4" />\n            </symbol>\n            <symbol viewBox="0 0 24 24" id="icon-lock" stroke-width="1" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">\n                <path stroke="none" d="M0 0h24v24H0z" fill="none"/>\n                <rect x="5" y="11" width="14" height="10" rx="2" />\n                <circle cx="12" cy="16" r="1" />\n                <path d="M8 11v-4a4 4 0 0 1 8 0v4" />\n            </symbol>\n            <symbol viewBox="0 0 24 24" id="icon-code" stroke-width="1" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">\n                <path stroke="none" d="M0 0h24v24H0z"/>\n                <polyline points="7 8 3 12 7 16" />\n                <polyline points="17 8 21 12 17 16" />\n                <line x1="14" y1="4" x2="10" y2="20" />\n            </symbol>\n            <symbol viewBox="0 0 512 512" id="ion-ios-cloud-upload-outline">\n                <path d="M193.3 260.4l-11.6-11.6 74.5-74.3 74.5 74.3-11.7 11.6-54.6-54.6v241.8h-16.5V205.8z"/>\n                <path d="M399.3 183.6c0-1.2.2-2.4.2-3.6 0-64.3-52.8-116.4-116.8-116.4-46.1 0-85.8 27.1-104.4 66.3-8.1-4.1-17.1-6.4-26.8-6.4-29.6 0-54.1 23.6-58.9 52C57.4 187.6 32 222.2 32 261.8c0 49.7 40.1 90.2 89.6 90.2H213v-16h-90.6c-40.9 0-74.2-33.5-74.2-74.6 0-31.8 20.2-61.2 50.2-71.6l8.4-2.9 1.5-8.8c3.6-21.6 22.1-39.3 43.9-39.3 6.9 0 13.7 1.6 19.9 4.8l13.5 6.8 6.5-13.7c16.6-34.9 52.1-57.4 90.4-57.4 55.3 0 100.9 43.3 100.9 98.9 0 13.3-.2 20.3-.2 20.3l15.2.1c36.6.5 65.6 33.4 65.6 70.3 0 36.8-29.8 66.9-66.5 67.1H297v16h101c45 0 82-37.3 82-82.8s-35.5-85.5-80.7-85.6z"/>\n            </symbol>\n            <symbol viewBox="0 0 512 512" id="ion-volume-medium">\n                <path d="M270 407.7V104.4L175.3 192H71v128h104.3zm56.3-52.1c20.5-27.8 32.8-62.3 32.8-99.6 0-37.4-12.3-71.8-32.8-99.6l-20.4 15.3c17.4 23.6 27.8 52.7 27.8 84.3 0 31.6-10.4 60.7-27.8 84.3l20.4 15.3zm66.5 46c30-40.7 48-91 48-145.6s-18-104.9-48-145.6l-20.4 15.3c26.9 36.4 43 81.4 43 130.3 0 48.9-16.1 93.8-43 130.3l20.4 15.3z"/>\n            </symbol>\n            </defs>\n        </svg>\n\n\n        <div class="is-locked-indicator">\n            <svg class="is-icon-flex"><use xlink:href="#icon-lock"></use></svg>\n        </div>\n        `;e.contentStuff.insertAdjacentHTML("afterbegin",i);e.contentStuff.insertAdjacentHTML("afterbegin",'\n        <style>\n            \n\n\n        /* General */\n\n        body {\n            overflow-x: hidden !important;\n        }\n\n        svg {\n            overflow: hidden;\n            vertical-align: middle;\n            pointer-events: none;\n        }\n        [contenteditable] svg {\n            pointer-events: initial;\n        }\n\n        .is-icon-flex {\n            width: 16px;\n            height: 16px;\n        }\n\n        a:focus,\n        button:focus {\n            outline:none; \n        }\n\n        .transition1 { \n            transition: all ease 0.1s; \n        }\n\n        /* Editable Area */\n\n        .is-builder {\n            transition: all ease 0.3s;\n            transform-origin: top;\n        }\n        .is-builder > div > div:focus {\n            outline: none;\n        }\n        .is-builder .is-subblock:focus {\n            outline: none;\n        }\n        .is-builder > div {\n            position: relative;\n            transition: none;\n            margin-left: 0;\n            margin-right: 0;\n            width: auto;\n        }\n        .is-builder[gridoutline] > div > div {\n            outline: 1px solid rgba(132, 132, 132, 0.27);\n            outline-offset: 1px;\n        }\n        .is-builder > div > div.cell-active:not([data-protected]) {\n            outline: 1px solid #00da89;\n        }\n        .is-builder .row-active:not([data-protected]) {\n            outline: 1px solid #00da89;\n            z-index: 1;\n        }\n        .is-builder .row-active:not([data-protected]).row-outline {\n            outline: 1px solid rgba(132, 132, 132, 0.2);\n        }\n        .is-builder .row-active:not([data-protected]):not(.row-outline) > div.cell-active {\n            outline: none;\n        }\n\n        .is-builder table.default td {\n            border: transparent 1px dashed;\n        }\n        .is-builder .cell-active .elm-active:not(button) {\n            background: rgba(200, 200, 201, 0.11);\n        }\n        .is-builder .cell-active table.elm-active {\n            background-color: transparent;\n        }\n        .is-builder .cell-active table.default td {\n            border: #cccccc 1px dashed;\n        }\n        .is-builder .cell-active hr {\n            cursor: pointer;\n        }\n        .is-builder .cell-active[data-html] {\n            background-color: rgba(200, 200, 201, 0.11);\n        }\n        .is-builder .cell-active .icon-active {\n            background-color: rgba(200, 200, 201, 0.4);\n        }\n        .is-builder .elm-inspected {\n            animation-name: elm-inspected-anim;\n            animation-duration: 0.6s;\n            outline: 1px solid #ffb84a !important;\n        }\n        .is-builder .elm-inspected .elm-active {\n            background: none;\n        }\n        @keyframes elm-inspected-anim {\n            0% {\n                transform: scale(1);\n            }\n            50% {\n                transform: scale(0.97);\n            }\n            100% {\n                transform: scale(1);\n            }\n        }\n\n\n        @media (min-width: 640px) {\n            .is-builder > div {\n                display:flex\n            }\n        }\n\n        /* sortable */\n        .sortable-drag {\n            background: transparent;\n            outline:none !important;\n        }\n        .sortable-drag * {\n            opacity:0;\n        }\n        \n        .sortable-ghost {\n            background: rgba(0, 0, 0 , 0.03);\n            width: 100%;\n            outline: none !important;\n        }\n        .sortable-ghost * {\n            outline: none !important;\n        }\n        .sortable-ghost .is-row-tool {\n            display:none !important;\n        }\n        \n        .sortable-drag::before {\n            content: \' \';\n            width: 100%;\n            height: 100%;\n            position: absolute;\n            top: 0; left:0;\n            background: rgba(0, 0, 0 , 0.03);\n            transform-origin: top left;\n        }\n\n        /* Moveable (Image resizer) */\n        .moveable-control {\n            border: none !important; \n            width: 7px !important; \n            height: 7px !important; \n            margin-top: -3px !important; \n            margin-left: -3px !important;  \n            background: #2196f3 !important;\n        }\n        .moveable-control.moveable-origin {\n            display: none !important;\n        }\n        .moveable-direction.moveable-s, .moveable-direction.moveable-n { \n            display:none !important; \n        }\n        .moveable-direction.moveable-e, .moveable-direction.moveable-w { \n            display:none !important; \n        }\n        .moveable-line { \n            display:none !important; \n        }\n\n        /* Tool */\n        .is-tool.is-video-tool,\n        .is-tool.is-audio-tool,\n        .is-tool.is-iframe-tool {\n            background: rgba(0, 0, 0, 0.15);\n            border: transparent 1px solid;\n        }\n        .is-tool.is-video-tool > div,\n        .is-tool.is-audio-tool > div,\n        .is-tool.is-iframe-tool > div,\n        .is-tool.is-video-tool > button,\n        .is-tool.is-audio-tool > button,\n        .is-tool.is-iframe-tool > button {\n            background: transparent;\n        }\n        .is-tool.is-video-tool svg,\n        .is-tool.is-audio-tool svg,\n        .is-tool.is-iframe-tool svg {\n            fill: #fff;\n        }\n\n\n        .is-tool.is-spacer-tool,\n        .is-tool.is-table-tool,\n        .is-tool.is-code-tool,\n        .is-tool.is-module-tool,\n        .is-tool#divLinkTool,\n        .is-tool#divButtonTool,\n        .is-tool#divSvgTool { \n            border: none;\n            background: none;\n        }\n\n        .is-tool.is-spacer-tool > button,\n        .is-tool.is-table-tool > button,\n        .is-tool.is-code-tool > button,\n        .is-tool.is-module-tool > button,\n        .is-tool#divLinkTool > button,\n        .is-tool#divButtonTool > button,\n        .is-tool#divSvgTool > button { \n            width: 30px;\n            height: 30px;\n            background: rgba(240, 240, 240, 0.9);\n        }\n\n        .is-tool.is-spacer-tool > button svg,\n        .is-tool.is-table-tool > button svg,\n        .is-tool.is-code-tool > button svg,\n        .is-tool.is-module-tool > button svg,\n        .is-tool#divLinkTool > button svg,\n        .is-tool#divButtonTool > button svg,\n        .is-tool#divSvgTool > button svg {\n            fill: #111;\n        }\n\n        .is-tool.is-table-tool:hover {\n            z-index:10001 !important\n        }\n\n\n        .dot {\n            height: 7px;\n            width: 7px;\n            border-radius: 50%;\n            display: inline-block;\n            margin: 25px 2px 0;\n            animation: jump 1.5s linear infinite;\n        }\n        @keyframes jump {\n            0%, 100% {transform: translateY(0px);}\n            20% {transform: translateY(-10px);}\n            40% {transform: translateY(0px);}\n        }\n        .dot:nth-of-type(2) {\n            animation-delay: 0.2s;\n        }\n        .dot:nth-of-type(3) {\n            animation-delay: 0.4s;\n        }\n\n        /* Lock Indicator */\n\n        .is-locked-indicator {\n            display: none;\n            width: 28px;\n            height: 28px;\n            position: absolute;\n            align-items: center;\n            justify-content: center;\n            background: rgba(243, 243, 243, 0.9);\n            border-radius: 500px;\n            pointer-events: none;\n        }\n\n        /* Tools */\n        .is-tool {\n            position: absolute;\n            top: 0;\n            left: 0;\n            display: none;\n            z-index: 10001;\n            box-sizing: border-box;\n            padding: 0;\n            outline: none;\n           \n        } \n        .is-tool:hover { \n            z-index:10003; \n        }\n        .is-tool.active { \n            display:flex; \n        }\n        .is-tool button {\n            width:100%; height: 25px;\n            background-color:transparent;\n            border: none;\n            cursor: pointer;\n            user-select: none;\n            -moz-user-select: none;\n            -khtml-user-select: none;\n            -webkit-user-select: none;\n            -o-user-select: none; \n    \n           \n            color: #000;\n            display: inline-block;\n            box-sizing:border-box;\n            margin: 0;\n            padding: 0;\n            font-family: sans-serif;\n            letter-spacing: 1px;\n            font-size: 12px;\n            font-weight: 300;\n            text-transform: uppercase;\n            text-align: center;  \n            line-height: unset;\n            position: relative;\n            border-radius: 1px;\n            transition: all ease 0.3s; \n        }\n        .is-tool button:focus {\n            outline: none !important;\n            outline-offset: 0;\n        }\n        .is-tool svg {\n            fill: #000;\n        }\n\n        /* is-element-tool */\n\n        .is-tool.is-element-tool {\n            background: rgba(243, 243, 243, 0.9);\n        } \n        .is-tool.is-element-tool button {\n            width: 25px; \n            height: 25px;\n            background: transparent;\n        }\n        .is-tool.is-element-tool svg {\n            width: 14px;\n            height: 14px;\n            fill: #111;\n        }\n        .is-tool.is-element-tool .elm-more svg {\n            width: 11px;\n            height: 11px;\n        }\n        .is-tool.is-element-tool .elm-settings { display: none; }\n\n        /* is-column-tool */\n\n        .is-tool.is-column-tool {\n            flex-direction: row;\n            margin-top: 0px;\n        }\n        .is-tool.is-column-tool button {\n            width: 25px; \n            height: 25px;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n        }\n        .is-tool.is-column-tool .cell-add {background: #0fcc52;}\n        .is-tool.is-column-tool .cell-more {background: rgba(216, 200, 6, 0.9);}\n        .is-tool.is-column-tool .cell-remove {background: rgba(255, 85, 4, 0.9);} \n        .is-tool.is-column-tool svg {\n            width: 23px;\n            height:23px;\n            fill: #fff;\n        }\n        .is-tool.is-column-tool .cell-more svg {width:14px;height:14px;}\n\n        /* is-row-tool */\n        \n        .is-tool.is-row-tool {\n            flex-direction: column;\n            width: auto;\n            left: auto;\n            right: -40px;\n        }\n        .is-tool.is-row-tool button {\n            width: 25px; \n            height: 25px;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n        }\n        .is-tool.is-row-tool svg {\n            fill: #fff;\n        }\n        .is-tool.is-row-tool .row-handle {\n            display: flex;\n            height: 25px;\n            justify-content: center;\n            align-items: center;\n            background: #169af7;\n            \n        }\n        .is-tool.is-row-tool .row-handle svg { \n            width: 13px; height: 13px; \n        }\n        .is-tool.is-row-tool .row-grideditor {\n            background: rgba(216, 200, 6, 0.9);\n        }\n        .is-tool.is-row-tool .row-grideditor svg {\n            width: 14px; height: 14px; margin-top: -1px;\n        }\n        .is-tool.is-row-tool .row-more {\n            background: rgba(216, 200, 6, 0.9);\n        }\n        .is-tool.is-row-tool .row-more svg {\n            width: 14px; height: 14px;\n        }\n        .is-tool.is-row-tool .row-remove {\n            background: rgba(255, 85, 4, 0.9);\n        }  \n        .is-tool.is-row-tool .row-remove svg {\n            width: 23px; height: 23px;\n        }\n        .row-outline .is-row-tool, \n        .row-active .is-row-tool {\n            display:flex;\n        }\n\n\n        .row-outline .is-rowadd-tool, \n        .row-active .is-rowadd-tool {\n            display:block;\n        }\n        .is-tool.is-row-tool .row-grideditor {\n            display:none;\n        }\n\n        /* is-rowadd-tool */\n\n        .is-rowadd-tool {\n            display: none;\n            position: absolute;\n            bottom: -1px;\n            left: -20px;\n            width: calc(100% + 40px);\n            height: 1px;\n            border: none;\n            border-bottom: 1px solid rgb(255, 183, 132);\n            z-index: 1;\n            background: transparent;\n            transition:none;\n        }\n        .is-rowadd-tool button {\n            position:absolute;\n            top: -9px;\n            left:calc(50% - 10px);\n            border:  1px solid rgb(255, 142, 62);\n            border-radius: 500px;\n            height:auto;\n        }\n        .row-outline .is-rowadd-tool, \n        .row-active .is-rowadd-tool {\n            display:block;\n        }\n\n        .row-add-initial {\n            width: 100%;\n            height: 120px;\n            font-family: sans-serif;\n            font-size: 12px;\n            text-transform: uppercase;\n            letter-spacing: 1px;\n            justify-content: center;\n            align-items: center;\n            color:#333;\n            border: 1px dashed rgba(169, 169, 169, 0.8);\n            background: rgba(255, 255, 255, 0.5);\n            cursor: pointer;\n            transition: all ease 0.3s;\n            outline: none !important;\n        }\n        .row-add-initial:hover {\n            background: rgba(248, 248, 248, 0.35);\n        }\n        .row-add-initial:focus {\n            outline:none;\n        }\n        .row-add-initial span {\n            text-transform: none;\n            display: block;\n            margin-top: 5px;\n            font-size: 13px;\n            opacity: 0.5;\n            color: #333;\n        }\n        .is-builder .row-active.row-add-initial {\n            outline:none;\n        }\n\n        /* is-col-tool */\n\n        .row-active .is-col-tool {\n            display: flex;\n        }\n        .is-builder[rowoutline] .row-active .is-col-tool {\n            display: none;\n        }\n        .is-builder[hidecolumntool] .row-active .is-col-tool {\n            display: none;\n        }\n        \n\n        .is-tool.is-col-tool {\n            flex-direction: row;\n            margin-top: 0px;\n            margin-left: -1px;\n        }\n        .is-tool.is-col-tool button {\n            width: 25px;\n            height: 25px;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n        }\n        .is-tool.is-col-tool .cell-add {\n            background: #0fcc52;\n        }\n        .is-tool.is-col-tool .cell-more {\n            background: rgba(216, 200, 6, 0.9);\n        }\n        .is-tool.is-col-tool .cell-remove {\n            background: rgba(255, 85, 4, 0.9);\n        }\n        .is-tool.is-col-tool svg {\n            width: 23px;\n            height: 23px;\n            fill: #fff !important;\n        }\n        .is-tool.is-col-tool .cell-more svg {\n            width: 14px;\n            height: 14px;\n        }\n\n        \n        .is-builder[gray] .is-tool.is-col-tool {\n            background: rgba(243, 243, 243, 0.9);\n            flex-direction: row;\n            margin-top: -2px;\n        }\n        .is-builder[gray] .is-tool.is-col-tool button {\n            width: 27px;\n            height: 27px;\n        }\n        .is-builder[gray] .is-tool.is-col-tool .cell-add {\n            background: transparent;\n        }\n        .is-builder[gray] .is-tool.is-col-tool .cell-more {\n            background: transparent;\n        }\n        .is-builder[gray] .is-tool.is-col-tool .cell-remove {\n            background: transparent;\n        }\n        .is-builder[gray] .is-tool.is-col-tool svg {\n            width: 18px;\n            height: 18px;\n            fill: #000 !important;\n        }\n        .is-builder[gray] .is-tool.is-col-tool .cell-more svg {\n            width: 12px;\n            height: 12px;\n        }\n\n\n        .is-builder[gridoutline] > div > div {\n            outline: 1px solid rgba(132, 132, 132, 0.27);\n            outline-offset: 1px;\n        }\n\n\n        \n\n        /* Preferences */\n\n        #_cbhtml[gray] .is-tool.is-column-tool {\n            background: rgba(243, 243, 243, 0.9);\n            flex-direction: row;\n            margin-top: -2px;\n        }\n        #_cbhtml[gray] .is-tool.is-column-tool button {\n            width: 27px;\n            height: 27px;\n        }\n        #_cbhtml[gray] .is-tool.is-column-tool .cell-add {\n            background: transparent;\n        }\n        #_cbhtml[gray] .is-tool.is-column-tool .cell-more {\n            background: transparent;\n        }\n        #_cbhtml[gray] .is-tool.is-column-tool .cell-remove {\n            background: transparent;\n        }\n        #_cbhtml[gray] .is-tool.is-column-tool svg {\n            width: 18px;\n            height: 18px;\n            fill: #000;\n        }\n        #_cbhtml[gray] .is-tool.is-column-tool .cell-more svg {\n            width: 12px;\n            height: 12px;\n        }\n\n\n\n        .is-builder[gray] .is-tool.is-row-tool {\n            background: rgba(243, 243, 243, 0.9);\n        }\n        .is-builder[gray] .is-tool.is-row-tool button {\n            width: 27px;\n            height: 27px;\n        }\n        .is-builder[gray] .is-tool.is-row-tool svg {\n            fill: #000;\n        }\n        .is-builder[gray] .is-tool.is-row-tool .row-handle {\n            display: flex;\n            height: 27px;\n            justify-content: center;\n            align-items: center;\n            background: transparent;\n        }\n        .is-builder[gray] .is-tool.is-row-tool .row-handle svg {\n            width: 11px;\n            height: 11px;\n        }\n        .is-builder[gray] .is-tool.is-row-tool .row-grideditor {\n            background: transparent;\n        }\n        .is-builder[gray] .is-tool.is-row-tool .row-grideditor svg {\n            width: 13px;\n            height: 13px;\n        }\n        .is-builder[gray] .is-tool.is-row-tool .row-more {\n            background: transparent;\n        }\n        .is-builder[gray] .is-tool.is-row-tool .row-more svg {\n            width: 12px;\n            height: 12px;\n        }\n        .is-builder[gray] .is-tool.is-row-tool .row-remove {\n            background: transparent;\n        }\n        .is-builder[gray] .is-tool.is-row-tool .row-remove svg {\n            width: 19px;\n            height: 19px;\n        }\n\n\n\n        .is-builder[gray] .is-rowadd-tool {\n            border-bottom: 1px solid rgba(222, 222, 222, 0.32);\n        }\n        .is-builder[gray] .is-rowadd-tool button {\n            border: 1px solid rgba(0, 0, 0, 0.13);\n        }\n\n\n        /* Preferences */\n\n        .is-tool.is-row-tool .row-grideditor {\n            display: none;\n        }\n        \n        .is-builder {\n            /*\n            &[grideditor] {\n                & > div > div.cell-active {\n                    outline: $ui-grideditor-cell-outline-active;\n                } \n                .row-active {\n                    outline: $ui-grideditor-row-outline-active;\n                    z-index: 1;\n                } \n                .row-active.row-outline {\n                    outline: $ui-grideditor-rowoutline-row-outline-active;\n                } \n            }\n            */\n        }\n        .is-builder[minimal] .is-tool.is-row-tool .row-grideditor {\n            display: block;\n        }\n        .is-builder[minimal] .is-tool.is-row-tool .row-more {\n            display: none;\n        }\n        .is-builder[clean] .is-tool.is-row-tool {\n            background: rgba(243, 243, 243, 0.9);\n            outline: none;\n        }\n        .is-builder[clean] .is-tool.is-row-tool .row-grideditor {\n            display: block;\n            background: transparent;\n        }\n        .is-builder[clean] .is-tool.is-row-tool .row-grideditor svg {\n            fill: #000;\n            width: 13px;\n            height: 13px;\n            margin-left: -1px;\n        }\n        .is-builder[clean] .is-tool.is-row-tool .row-more {\n            display: none;\n        }\n        .is-builder[clean] .is-tool.is-row-tool .row-handle {\n            display: none;\n        }\n        .is-builder[clean] .is-tool.is-row-tool .row-remove {\n            display: none;\n        }\n        .is-builder[clean] .row-outline {\n            outline: none;\n        }\n        .is-builder[clean] .cell-active {\n            outline: none;\n        }\n        .is-builder[clean] .row-active:not([data-protected]) {\n            outline: 1px solid rgba(132, 132, 132, 0.2);\n        }\n        .is-builder[leftrowtool] .is-tool.is-row-tool {\n            right: auto;\n            left: -40px;\n        }\n        .is-builder.builder-active > div:not(.row-active) {\n            border-right: 120px rgba(0, 0, 0, 0) solid;\n            margin-right: -120px;\n        }\n        .is-builder[leftrowtool].builder-active > div:not(.row-active) {\n            border-left: 120px rgba(0, 0, 0, 0) solid;\n            margin-left: -120px;\n        }\n        .is-builder[rowoutline] .row-outline {\n            outline: none;\n        }\n        .is-builder[rowoutline] .cell-active {\n            outline: none !important; /* ADDED IMPORTANT */\n        }\n        .is-builder[rowoutline] .row-active:not([data-protected]) {\n            outline: 1px solid #00da89;\n        }\n        .is-builder[grayoutline] .row-outline {\n            outline: none;\n        }\n        .is-builder[grayoutline] .cell-active:not([data-protected]) {\n            outline: 1px solid rgba(132, 132, 132, 0.1);\n        }\n        .is-builder[grayoutline] .row-active:not([data-protected]) {\n            outline: 1px solid rgba(132, 132, 132, 0.2);\n        }\n        .is-builder[rowoutline][grayoutline] .row-outline {\n            outline: none;\n        }\n        .is-builder[rowoutline][grayoutline] .cell-active {\n            outline: none;\n        }\n        .is-builder[rowoutline][grayoutline] .row-active:not([data-protected]) {\n            outline: 1px solid rgba(132, 132, 132, 0.2);\n        }\n        .is-builder[hideoutline] .row-outline {\n            outline: none !important;\n        }\n        .is-builder[hideoutline] .cell-active {\n            outline: none !important;\n        }\n        .is-builder[hideoutline] .row-active {\n            outline: none !important;\n        }\n        .is-builder[hideoutline] .row-active.row-outline {\n            outline: none !important;\n        }\n        .is-builder[hidesnippetaddtool] .row-outline .is-rowadd-tool,\n        .is-builder[hidesnippetaddtool] .row-active .is-rowadd-tool {\n            display: none;\n        }\n        .is-builder[hideelementhighlight] .elm-active {\n            background-color: transparent !important; /* ADDED IMPORTANT */\n        }\n        \n        #_cbhtml[minimal] .is-tool.is-column-tool .cell-more {\n            display: none;\n        }\n        #_cbhtml[clean] .is-tool.is-column-tool {\n            display: none;\n        }\n        #_cbhtml[hidecolumntool] .is-tool.is-column-tool {\n            display: none;\n        }\n        #_cbhtml[hideelementtool] .is-tool.is-element-tool {\n            display: none !important;\n        }\n        #_cbhtml .is-element-tool .elm-settings {\n            display: none;\n        }\n        #_cbhtml[emailmode] .is-element-tool .elm-add,\n        #_cbhtml[emailmode] .is-element-tool .elm-more,\n        #_cbhtml[emailmode] .is-element-tool .elm-remove {\n            display: none !important;\n        }\n        #_cbhtml[emailmode] .is-element-tool .elm-settings {\n            display: block;\n        }\n\n\n\n\n\n        .is-builder.builder-active > div:not(.row-active) { \n            border-right: 120px rgba(0,0,0,0) solid;\n            margin-right: -120px;\n        }\n        .is-builder[leftrowtool].builder-active > div:not(.row-active) { \n            border-left: 120px rgba(0,0,0,0) solid;\n            margin-left: -120px;\n        }\n\n\n\n\n        /* Prevent css framework overide (Materialize) */\n        .is-ui [type="checkbox"]:not(:checked), .is-ui [type="checkbox"]:checked {\n            position: unset !important;\n        }\n        .is-ui input[type=range] {\n            border: none;\n        }\n        .is-ui form {\n            background: unset;\n            margin: unset;\n            padding: unset;\n            border: unset;\n        }\n        .is-ui svg {\n            max-width: unset;\n        }\n        \n        /* Prevent css framework overide (Tailwind) */\n        .is-ui svg {\n            display: initial !important;\n        }\n        .is-section-tool svg,\n        .is-row-tool svg,\n        .is-col-tool svg {\n            display: initial !important;\n        }\n        \n        /* Make slider block resizable */\n        .is-builder > div > div[data-module=slider-builder].cell-active {\n            /*padding: 0 2px 4px !important;*/\n            z-index: 1 !important;\n        }\n                \n        div[data-html] {\n            min-height: 70px;\n        }\n        \n        [data-module="slider-builder"] *,\n        [data-module="text-builder"] * {\n            outline: none !important;\n        }\n\n        /* Make slider block resizable */\n        .padding-0[data-module="slider-builder"],\n        .padding-0[data-module="text-builder"] {\n            padding: 0 2px 4px !important;\n        }\n        \n        </style>\n        ')}}class ty{constructor(e){this.builder=e;const t=this.builder.util;this.util=t;const i=this.builder.builderStuff,n=this.builder.dom;this.dom=n,this.id=this.builder.util.makeId();const s=`\n        <div class="is-modal mediasource" tabindex="-1" role="dialog" aria-modal="true" aria-hidden="true">\n            <div class="is-modal-content" style="max-width:550px;">\n\n                <label for="inpMediaSource" style="display:block">${t.out("Source")}:</label>\n                <div class="image-src">\n                    <input id="inpMediaSource" class="input-src" type="text">\n                    <button title="${t.out("Select")}" class="input-select" style="flex:none;">\n                        ${this.builder.opts.selectIcon}\n                    </button>\n                    <div class="input-upload" style="position: relative; flex: 0 0 auto;box-shadow: rgba(0, 0, 0, 0.32) 0px 3px 6px -6px;">\n                        <form class="form-upload-larger" target="frameTarget${this.id}" method="post" action="${this.builder.opts.largerImageHandler}" enctype="multipart/form-data" style="position:absolute;display:flex;justify-content: center;align-items: center;top:0;left:0;width:100%;height:100%;">\n                            <input name="hidRefId" class="input-ref-id" type="hidden" value="">\n                            <svg class="is-icon-flex" style="width:18px;height:18px;"><use xlink:href="#ion-ios-cloud-upload-outline"></use></svg>\n                            <input title="${t.out("Select")}" name="fileImage" class="input-file-select" type="file" accept="image/*,video/mp4" style="position:absolute;top:-30px;left:0;width:100%;height:80px;opacity: 0;cursor: pointer;">\n                        </form>\n                        <iframe tabIndex="0" id="frameTarget${this.id}" name="frameTarget${this.id}" src="about:blank" style="width:1px;height:1px;position:absolute;top:0;right:-100000px"></iframe>\n                    </div>\n                </div>\n\n                <div style="text-align:right;margin-top:20px;">\n                    <button title="${t.out("Cancel")}" class="input-cancel classic-secondary">${t.out("Cancel")}</button>\n                    <button title="${t.out("Ok")}" class="input-ok classic-primary">${t.out("Ok")}</button>\n                </div>\n\n            </div>\n        </div>\n        `;n.appendHtml(i,s);const o=document.querySelector(".mediasource");if(this.modalMediaSelect=o,""!==this.builder.opts.largerImageHandler||this.builder.opts.onLargerImageUpload||(o.querySelector(".input-upload").style.display="none"),this.builder.opts.onImageSelectClick||""!==this.builder.opts.imageselect||(o.querySelector(".input-select").style.display="none"),this.builder.opts.onImageSelectClick||this.builder.opts.imageselect||this.builder.opts.onFileSelectClick||this.builder.opts.fileselect){const e=o.querySelector(".input-src"),t=o.querySelector(".input-select");t&&n.addEventListener(t,"click",(()=>{let i=this.builder.targetAssetType,n=e,s=t;if("media"===i&&(this.builder.opts.onMediaSelectClick||this.builder.opts.onImageSelectClick))this.builder.opts.onMediaSelectClick?this.builder.opts.onMediaSelectClick({targetInput:n,theTrigger:s}):this.builder.opts.onImageSelectClick({targetInput:n,theTrigger:s});else if("video"===i&&this.builder.opts.onVideoSelectClick)this.builder.opts.onVideoSelectClick({targetInput:n,theTrigger:s});else if("image"===i&&this.builder.opts.onImageSelectClick)this.builder.opts.onImageSelectClick({targetInput:n,theTrigger:s});else if("audio"===i&&this.builder.opts.onAudioSelectClick)this.builder.opts.onAudioSelectClick({targetInput:n,theTrigger:s});else if("all"===i&&this.builder.opts.onFileSelectClick)this.builder.opts.onFileSelectClick({targetInput:n,theTrigger:s});else{let n,s;"media"===i?(s=this.builder.builderStuff.querySelector(".is-modal.mediaselect"),n=s.querySelector("iframe"),"about:blank"===n.src&&(this.builder.opts.mediaSelect?n.src=this.builder.opts.mediaSelect:this.builder.opts.imageSelect&&(n.src=this.builder.opts.imageSelect))):"video"===i?(s=this.builder.builderStuff.querySelector(".is-modal.videoselect"),n=s.querySelector("iframe"),"about:blank"===n.src&&(n.src=this.builder.opts.videoSelect)):"image"===i?(s=this.builder.builderStuff.querySelector(".is-modal.imageselect"),n=s.querySelector("iframe"),"about:blank"===n.src&&(n.src=this.builder.opts.imageSelect)):"audio"===i?(s=this.builder.builderStuff.querySelector(".is-modal.audioselect"),n=s.querySelector("iframe"),"about:blank"===n.src&&(n.src=this.builder.opts.audioSelect)):"all"===i&&(s=this.builder.builderStuff.querySelector(".is-modal.fileselect"),n=s.querySelector("iframe"),"about:blank"===n.src&&(n.src=this.builder.opts.fileSelect)),this.builder.util.showModal(s,!1,(()=>{t.removeAttribute("data-focus"),t.focus()}),!1,this.builder.assetPanelFullScreen),t.setAttribute("data-focus",!0),this.builder.targetInput=e,this.builder.targetCallback=null}}))}let a=o.querySelector(".input-file-select"),l=o.querySelector(".form-upload-larger");n.addEventListener(a,"change",(e=>{let t=a;for(;"form"!==t.nodeName.toLowerCase();)t=t.parentNode;let i=t;n.addClass(i,"please-wait"),o.querySelector(".input-ref-id").value=this.builder.opts.customval;let s=this.builder.targetAssetType;"media"===s&&this.builder.opts.onMediaUpload?this.builder.opts.onMediaUpload(e):"video"===s&&this.builder.opts.onVideoUpload?this.builder.opts.onVideoUpload(e):"image"===s&&this.builder.opts.onLargerImageUpload?this.builder.opts.onLargerImageUpload(e):"audio"===s&&this.builder.opts.onAudioUpload?this.builder.opts.onAudioUpload(e):"all"===s&&this.builder.opts.onFileUpload?this.builder.opts.onFileUpload(e):this.builder.opts.onLargerImageUpload?this.builder.opts.onLargerImageUpload(e):("media"===s?l.setAttribute("action",this.builder.opts.mediaHandler):"video"===s?l.setAttribute("action",this.builder.opts.videoHandler):"image"===s?l.setAttribute("action",this.builder.opts.largerImageHandler):"audio"===s?l.setAttribute("action",this.builder.opts.audioHandler):"all"===s&&(l.setAttribute("action",this.builder.opts.fileHandler),this.builder.opts.fileHandler||l.setAttribute("action",this.builder.opts.mediaHandler)),i.submit()),a.value=""}));const r=o.querySelector(".input-ok");n.addEventListener(r,"click",(()=>{const e=o.querySelector(".input-src").value;this.builder.mediaSelectedCallback&&this.builder.mediaSelectedCallback(e),this.builder.hideModal(o)}));const d=o.querySelector(".input-cancel");n.addEventListener(d,"click",(()=>{this.builder.hideModal(o)}))}openMediaPicker(e,t,i,n){this.builder.targetAssetType=t;const s=this.modalMediaSelect;let o=s.querySelector(".input-file-select");"all"===t?o.setAttribute("accept","*"):"media"===t?o.setAttribute("accept","image/*,video/mp4"):"video"===t?o.setAttribute("accept","video/mp4"):"image"===t?o.setAttribute("accept","image/*"):"audio"===t&&o.setAttribute("accept","audio/mp3");s.querySelector(".input-src").value=e,this.builder.mediaSelectedCallback=i,s.style.zIndex="10005",this.util.showModal(s,!1,(()=>{n&&(n.removeAttribute("data-focus"),n.focus())}),!1,this.builder.assetPanelFullScreen),n&&n.setAttribute("data-focus",!0)}}class iy{constructor(e){this.builder=e;const t=this.builder.util,i=this.builder.builderStuff;this.util=t,this.builderStuff=i;const n=this.builder.dom;this.dom=n}getVisibility(e,t){return"xs"===t?!e.classList.contains("xs-hidden"):"sm"===t?!e.classList.contains("sm-hidden"):"md"===t?!e.classList.contains("md-hidden"):""===t?!e.classList.contains("desktop-hidden"):void 0}setVisibility(e,t,i){"xs"===i&&(e?t.classList.remove("xs-hidden"):t.classList.add("xs-hidden")),"sm"===i&&(e?t.classList.remove("sm-hidden"):t.classList.add("sm-hidden")),"md"===i&&(e?t.classList.remove("md-hidden"):t.classList.add("md-hidden")),""===i&&(e?t.classList.remove("desktop-hidden"):t.classList.add("desktop-hidden"))}readTarget(e){const t=e.querySelector(".input-device.on"),i=t.getAttribute("data-value");return""===i&&this.builder.livePreview.resizePreview(1920),"md"===i&&this.builder.livePreview.resizePreview(1024),"sm"===i&&this.builder.livePreview.resizePreview(768),"xs"===i&&this.builder.livePreview.resizePreview(375),t.getAttribute("data-value")}showVisibility(e,t){t?(e.querySelector(".input-visible").classList.add("on"),e.querySelector(".input-hidden").classList.remove("on")):(e.querySelector(".input-visible").classList.remove("on"),e.querySelector(".input-hidden").classList.add("on"))}}class ny{constructor(e){this.builder=e;const t=this.builder.util,i=this.builder.builderStuff;this.util=t,this.builderStuff=i;const n=this.builder.dom;if(this.dom=n,!i.querySelector(".content-preview")){let e=`\n            <style>\n            .is-modal.content-preview {\n                transition: all 0.1s ease;\n            }\n            .is-modal.content-preview > div > div {\n                transition: all 0.1s ease;\n            }\n            .is-modal.content-preview .is-modal-refresh,\n            .is-modal.content-preview .is-modal-device,\n            .is-modal.content-preview .is-modal-close {\n                background:transparent !important;\n                width:32px !important;\n                height:32px !important;\n                position:absolute !important;\n                box-shadow:none !important;\n            }\n            .is-modal.content-preview .is-modal-device {\n                top:2px;\n                left:2px;\n            }\n            .is-modal.content-preview .is-modal-refresh {\n                top:2px;\n                right:34px;\n            }\n            .is-modal.content-preview .is-modal-close {\n                top:2px;\n                right:2px;\n            }\n    \n            .is-screen-1920 { \n                width: 576px !important;\n                height: 332px !important; \n            }\n            .is-screen-1440 { \n                width: 431px !important; \n                height: 258px !important; \n            }\n            .is-screen-768 { \n                width: 245px !important;\n                height: 363px !important;\n            }\n            .is-screen-1024 { \n                width: 328px !important;\n                height: 281px !important;\n            }\n            .is-screen-375 { \n                width: 167px !important; \n                height: 332px !important;\n            }\n    \n            .is-screen-1920 .preview-screen {\n                width: 1920px;height: 992px;transform: scale(0.3);\n            }\n            .is-screen-1440 .preview-screen {\n                width: 1440px;height: 744px;transform: scale(0.3);\n            }\n            .is-screen-768 .preview-screen {\n                width: 768px;height: 1024px;transform: scale(0.32);\n            }\n            .is-screen-1024 .preview-screen {\n                width: 1024px;height: 768px;transform: scale(0.32);\n            }\n            .is-screen-375 .preview-screen {\n                width: 375px;height: 667px;transform: scale(0.446);\n            }\n            .is-screen-375 .is-modal-bar > span {\n                display: none;\n            }\n    \n            .content-preview:focus-within {\n                z-index:100021 !important\n            }\n            </style>\n            <div style="z-index:10002;${this.builder.previewStyle}" class="is-modal is-modal-content content-preview is-screen-1920" tabindex="-1" role="dialog" aria-modal="true" aria-hidden="true">\n                <div class="is-modal-bar is-draggable" draggable=""> \n                    <span>${t.out("Live Preview")}</span>\n                    <button class="is-modal-device" tabindex="-1" style="user-select:none;cursor:default">\n                        \n                    </button>\n                    <button class="is-modal-refresh" tabindex="-1" title="${t.out("Reload")}">\n                        <svg class="is-icon-flex" style="width:16px;height:16px;"><use xlink:href="#icon-reload"></use></svg>\n                    </button>\n                    <button class="is-modal-close" tabindex="-1" title="${t.out("Close")}">\n                        <svg class="is-icon-flex" style="width:23px;height:23px;"><use xlink:href="#ion-ios-close-empty"></use></svg>\n                    </button>\n                </div>\n                <div style="position:relative;position:absolute;top:0;left:0;width:100%;height:100%;border-top:transparent 35px solid;">\n                    <div class="preview-screen" style="padding:0;position: absolute;top: 0;left: 0;box-sizing: border-box;transform-origin: top left;">\n                        <iframe src="about:blank" style="box-sizing:border-box;width: 100%;height: 100%;position:absolute;"></iframe>\n                    </div>\n                </div>\n                <div style="position:absolute;left:3px;bottom:3px;border-radius:3px;display:flex;overflow:hidden;">\n                    <button class="is-modal-size" tabindex="-1" title="${t.out("Screen Sizes")}" style="width:30px;height:30px;">\n                        <svg class="is-icon-flex" style="width:23px;height:23px;"><use xlink:href="#icon-devices"></use></svg>\n                    </button>\n                </div>\n            </div>\n            `;n.appendHtml(i,e);const s=i.querySelector(".is-modal.content-preview");this.modal=s;s.querySelector(".is-modal-close").addEventListener("click",(()=>{this.closePreview()}));s.querySelector(".is-modal-size").addEventListener("click",(()=>{s.classList.contains("is-screen-1920")?this.resizePreview(1440):s.classList.contains("is-screen-1440")?this.resizePreview(1024):s.classList.contains("is-screen-1024")?this.resizePreview(768):s.classList.contains("is-screen-768")?this.resizePreview(375):s.classList.contains("is-screen-375")&&this.resizePreview(1920)}));s.querySelector(".is-modal-refresh").addEventListener("click",(()=>{this.previewRefresh(!1,!0)}));let o=this.builder.settings.onChange;this.builder.settings.onChange=()=>{o.call(this),this.builder.doc.querySelector(".is-wrapper")||this.previewRefresh()}}}resizePreview(e){let t=this.modal,i=this.util;t.classList.remove("is-screen-1920"),t.classList.remove("is-screen-1440"),t.classList.remove("is-screen-1920"),t.classList.remove("is-screen-1024"),t.classList.remove("is-screen-768"),t.classList.remove("is-screen-375");const n=t.querySelector(".is-modal-device"),s=t.querySelector(".preview-screen");s.style.transition="none",s.style.opacity="0",1440===e?(t.classList.add("is-screen-1440"),localStorage.setItem("_livepreviewscreen","is-screen-1440"),n.setAttribute("title",i.out("Laptop")),n.innerHTML='<svg class="is-icon-flex" style="width:18px;height:18px"><use xlink:href="#icon-device-laptop"></use></svg>'):1024===e?(t.classList.add("is-screen-1024"),n.setAttribute("title",i.out("Tablet (Landscape)")),localStorage.setItem("_livepreviewscreen","is-screen-1024"),n.innerHTML='<svg class="is-icon-flex" style="width:16px;height:16px;transform:rotate(-90deg)"><use xlink:href="#icon-device-tablet"></use></svg>'):768===e?(t.classList.add("is-screen-768"),localStorage.setItem("_livepreviewscreen","is-screen-768"),n.setAttribute("title",i.out("Tablet (Portrait)")),n.innerHTML='<svg class="is-icon-flex" style="width:16px;height:16px"><use xlink:href="#icon-device-tablet"></use></svg>'):375===e?(t.classList.add("is-screen-375"),localStorage.setItem("_livepreviewscreen","is-screen-375"),n.setAttribute("title",i.out("Mobile")),n.innerHTML='<svg class="is-icon-flex" style="width:16px;height:16px"><use xlink:href="#icon-device-mobile"></use></svg>'):1920===e&&(t.classList.add("is-screen-1920"),localStorage.setItem("_livepreviewscreen","is-screen-1920"),n.setAttribute("title",i.out("Desktop")),n.innerHTML='<svg class="is-icon-flex" style="width:16px;height:16px"><use xlink:href="#icon-device-desktop"></use></svg>'),this.previewRefresh(!0),setTimeout((()=>{s.style.opacity="",s.style.transition=""}),100)}previewRefresh(e,t){if(this.modal.classList.contains("active")){this.builder.onPreviewOpen&&this.builder.onPreviewOpen();const i=this.modal.querySelector("iframe");if(this.builder.doc.querySelector(".is-wrapper")){this.builder.count||(this.builder.count=0),this.builder.count++;let e=this.builder.livePreviewAlwaysReload;if(this.builder.count===this.builder.livePreviewReloadEvery&&(this.builder.livePreviewAlwaysReload=!0,this.builder.count=0),this.builder.livePreviewAlwaysReload||t)i.src=this.builder.previewURL+"?"+Math.floor(Date.now()/1e3);else{let e=i.contentDocument||i.contentWindow.document;if(e)if(e.body)if(""===e.body.innerHTML)i.src=this.builder.previewURL+"?"+Math.floor(Date.now()/1e3);else{let t=localStorage.getItem("preview-html"),i=e.querySelector(".is-wrapper"),n=this.builder.doc.createRange();i.innerHTML="",i.appendChild(n.createContextualFragment(t));let s=e.querySelectorAll("link"),o=this.builder.doc.getElementsByTagName("link");Array.from(o).map((t=>{let i=t.href.toLowerCase();if(-1!==i.indexOf("/basetype-")||-1!==i.indexOf("/type-")){let n=!1;if(s.forEach((e=>{let t=e.href.toLowerCase();t&&(-1===t.indexOf("/basetype-")&&-1===t.indexOf("/type-")||i===t&&(n=!0))})),!n){const i=t.cloneNode(!0);e.head.appendChild(i)}}})),s.forEach((t=>{let i=t.href.toLowerCase();if(-1!==i.indexOf("/basetype-")||-1!==i.indexOf("/type-")){let n=!1;Array.from(o).map((e=>{let t=e.href.toLowerCase();t&&(-1===t.indexOf("/basetype-")&&-1===t.indexOf("/type-")||i===t&&(n=!0))})),n||e.head.removeChild(t)}})),s=e.querySelectorAll("script"),s.forEach((t=>{let i=t.getAttribute("src");if(i&&(-1!==i.indexOf("box-flex.js")||-1!==i.indexOf("box.js"))){t.parentElement.removeChild(t);let n=document.createElement("script");n.setAttribute("src",i),e.body.appendChild(n)}})),s=i.querySelectorAll(".is-animated"),s.forEach((e=>{e.style.opacity="0",e.style.transition="none"})),setTimeout((()=>{let e=i.querySelectorAll(".is-animated");e.forEach((e=>{e.classList.remove("is-inview")})),setTimeout((()=>{e=i.querySelectorAll(".is-animated"),e.forEach((e=>{e.style.opacity="",e.style.transition="",e.classList.add("is-inview")}))}),30)}),200)}else i.src=this.builder.previewURL+"?"+Math.floor(Date.now()/1e3);else i.src=this.builder.previewURL+"?"+Math.floor(Date.now()/1e3)}this.builder.livePreviewAlwaysReload=e}else if(this.builder.previewURL)if(this.builder.livePreviewAlwaysReload)i.src=this.builder.previewURL+"?"+Math.floor(Date.now()/1e3);else{let e=i.contentDocument||i.contentWindow.document;if(e)if(e.body)if(""===e.body.innerHTML)i.src=this.builder.previewURL+"?"+Math.floor(Date.now()/1e3);else{let t=this.builder.html(),n=e.querySelector(".container");if(n||(n=e.querySelector(".is-container")),n){let e=this.builder.doc.createRange();n.innerHTML="",n.appendChild(e.createContextualFragment(t))}else i.src=this.builder.previewURL+"?"+Math.floor(Date.now()/1e3)}else i.src=this.builder.previewURL+"?"+Math.floor(Date.now()/1e3);else i.src=this.builder.previewURL+"?"+Math.floor(Date.now()/1e3)}else try{this.writeHtml(i)}catch(e){}i.onload=()=>{this.builder.onPreviewContentLoad&&!e&&this.builder.onPreviewContentLoad(),i.contentWindow.document.addEventListener("click",(()=>{i.focus()}))}}}openPreview(){if(this.modal.classList.contains("active"))return;const e=this.util,t=this.modal;if(t.classList.add("active"),null!=localStorage.getItem("_livepreviewscreen")){t.classList.remove("is-screen-1920"),t.classList.remove("is-screen-1440"),t.classList.remove("is-screen-1024"),t.classList.remove("is-screen-768"),t.classList.remove("is-screen-375"),t.classList.add(localStorage.getItem("_livepreviewscreen"));const i=t.querySelector(".is-modal-device");t.classList.contains("is-screen-1920")?(i.setAttribute("title",e.out("Desktop")),i.innerHTML='<svg class="is-icon-flex" style="width:16px;height:16px"><use xlink:href="#icon-device-desktop"></use></svg>'):t.classList.contains("is-screen-1440")?(i.setAttribute("title",e.out("Laptop")),i.innerHTML='<svg class="is-icon-flex" style="width:18px;height:18px"><use xlink:href="#icon-device-laptop"></use></svg>'):t.classList.contains("is-screen-1024")?(i.setAttribute("title",e.out("Tablet (Landscape)")),i.innerHTML='<svg class="is-icon-flex" style="width:16px;height:16px;transform:rotate(-90deg)"><use xlink:href="#icon-device-tablet"></use></svg>'):t.classList.contains("is-screen-768")?(i.setAttribute("title",e.out("Tablet (Portrait)")),i.innerHTML='<svg class="is-icon-flex" style="width:16px;height:16px"><use xlink:href="#icon-device-tablet"></use></svg>'):t.classList.contains("is-screen-375")&&(i.setAttribute("title",e.out("Mobile")),i.innerHTML='<svg class="is-icon-flex" style="width:16px;height:16px"><use xlink:href="#icon-device-mobile"></use></svg>')}this.previewRefresh(),localStorage.setItem("_livepreview","1")}closePreview(){this.modal.classList.remove("active"),this.builder.onPreviewClose&&this.builder.onPreviewClose(),localStorage.removeItem("_livepreview")}writeHtml(e){let t=this.builder.doc,i="",n=t.querySelectorAll("base[href]");n.length>0&&(i='<base href="'+n[0].href+'" />');let s="",o=t.querySelectorAll("link[href]");for(let e=0;e<o.length;e++)-1!=o[e].href.indexOf(".css")&&-1==o[e].href.indexOf("contentbox.css")&&-1==o[e].href.indexOf("contentbuilder.css")&&(s+='<link href="'+o[e].href+'" rel="stylesheet">');let a="",l=t.head.querySelectorAll("script[src]");for(let e=0;e<l.length;e++)-1!=l[e].src.indexOf(".js")&&-1==l[e].src.indexOf("_next/")&&-1==l[e].src.indexOf("static/js/")&&-1==l[e].src.indexOf("src/")&&-1==l[e].src.indexOf("index")&&-1==l[e].src.indexOf("contentbox.js")&&-1==l[e].src.indexOf("contentbox.min.js")&&-1==l[e].src.indexOf("contentbuilder.js")&&-1==l[e].src.indexOf("contentbuilder.min.js")&&-1==l[e].src.indexOf("plugin.js")&&-1==l[e].src.indexOf("config.js")&&-1==l[e].src.indexOf("en.js")&&-1==l[e].src.indexOf("rangy")&&-1==l[e].src.indexOf("monaco-editor")&&-1==l[e].src.indexOf("minimalist-blocks")&&(a+='<script src="'+l[e].src+'"><\/script>');let r="";l=t.body.querySelectorAll("script[src]");for(let e=0;e<l.length;e++)-1!=l[e].src.indexOf(".js")&&-1==l[e].src.indexOf("_next/")&&-1==l[e].src.indexOf("static/js/")&&-1==l[e].src.indexOf("src/")&&-1==l[e].src.indexOf("index")&&-1==l[e].src.indexOf("contentbox.js")&&-1==l[e].src.indexOf("contentbox.min.js")&&-1==l[e].src.indexOf("contentbuilder.js")&&-1==l[e].src.indexOf("contentbuilder.min.js")&&-1==l[e].src.indexOf("plugin.js")&&-1==l[e].src.indexOf("config.js")&&-1==l[e].src.indexOf("en.js")&&-1==l[e].src.indexOf("rangy")&&-1==l[e].src.indexOf("monaco-editor")&&-1==l[e].src.indexOf("minimalist-blocks")&&(r+='<script src="'+l[e].src+'"><\/script>');let d="800px",c=window.getComputedStyle(t.querySelector(".is-builder")).getPropertyValue("max-width");isNaN(parseInt(c))||(d=c);let u=this.builder.html();t=e.contentWindow.document,t.open(),t.write("<html><head>"+i+'<meta charset="utf-8"><title></title><style>#_cbhtml > *:not(.is-lightbox) {display:none}</style>'+s+(this.builder.useLightbox?'<link href="'+this.builder.assetPath+'scripts/lightbox/lightbox.css" rel="stylesheet">':"")+"<style>.slider-image { display:block !important; }.container {margin:35px auto 0; max-width: "+d+'; width:100%; padding:0 20px; box-sizing: border-box;}</style><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"><\/script>'+a+'</head><body><div class="container preview">'+u+"</div>"+r+(this.builder.useLightbox?'<script src="'+this.builder.assetPath+'scripts/lightbox/lightbox.js"><\/script><script>window.lightbox.init();<\/script>':"")+"</body></html>"),t.close()}}class sy{constructor(e){this.builder=e}getHtml(e){var t,i;return t=e.outerHTML,i=this.builder.readHtml(e,!1,!0),`<${t.match(/<([a-zA-Z]+\b[^>]*)>/)[1]}>${i}</div>`}processShortCommand(e){e=e.toLowerCase();let t=this.builder.shortCommandList;const i=(e=>{for(const i in t)if(t[i].includes(e))return i;return!1})(e);if("undo"===i)return this.builder.undo(),!1;if("redo"===i)return this.builder.redo(),!1;let n=this.builder.activeElement;if(!n)return e;const s=e=>{const t=e.tagName.toUpperCase();return["H1","H2","H3","H4","H5","H6","P","PRE"].includes(t)};if("increase"===i){if(n.classList.contains("spacer"))return this.builder.saveForUndo(),this.builder.lib.increaseElementHeight(n),!1;if(s(n))return this.builder.saveForUndo(),this.builder.lib.increaseFontSize(n),!1}if("decrease"===i){if(n.classList.contains("spacer"))return this.builder.saveForUndo(),this.builder.lib.decreaseElementHeight(n),!1;if(s(n))return this.builder.saveForUndo(),this.builder.lib.decreaseFontSize(n),!1}const o=e=>{this.builder.saveForUndo(),this.builder.util.restoreSelection(),this.builder.formatTextNonToggle(e),this.builder.util.saveSelection()};return"bold"===i?(o("bold"),!1):"italic"===i?(o("italic"),!1):"underline"===i?(o("underline"),!1):"strikethrough"===i?(o("strikethrough"),!1):"superscript"===i?(o("superscript"),!1):"subscript"===i?(o("subscript"),!1):"uppercase"===i?(o("uppercase"),!1):"lowercase"===i?(o("lowercase"),!1):"capitalize"===i?(o("capitalize"),!1):"clean"===i?(o("clean"),!1):e}getCurrentBackground(e){let t="";return e.querySelectorAll(".is-overlay-bg").forEach((e=>{if(e.style.backgroundImage&&-1!==e.style.backgroundImage.indexOf("url(")){let i=e.style.backgroundImage.slice(4,-1).replace(/["']/g,"");""!==t&&(t=", "),t+=`${i}`}})),t}clearBackgroundColor(e){let t=e.querySelector(".is-overlay");t&&(t.style.backgroundColor="")}clearBackgroundImage(e){let t=e.querySelector(".is-overlay-bg");t&&t.parentNode.removeChild(t)}updateBackgroundImage(e,t){let i=e.querySelector(".is-overlay");i||(e.insertAdjacentHTML("afterbegin",'<div class="is-overlay"></div>'),i=e.querySelector(".is-overlay")),e.classList.contains("is-section")&&(e.classList.contains("min-height-20")||e.classList.contains("min-height-25")||e.classList.contains("min-height-30")||e.classList.contains("min-height-40")||e.classList.contains("min-height-50")||e.classList.contains("min-height-60")||e.classList.contains("min-height-70")||e.classList.contains("min-height-75")||e.classList.contains("min-height-80")||e.classList.contains("min-height-90")||e.classList.contains("min-height-100")||e.classList.add("min-height-60"));let n=i.querySelector(".is-overlay-bg");n||(i.insertAdjacentHTML("beforeend",'<div class="is-overlay-bg"></div>'),n=i.querySelector(".is-overlay-bg")),n.style.backgroundImage="url('"+t+"')",n.style.backgroundPosition="50% 60%",n.style.filter="",i.style.filter=""}moveContent(e,t){const i=e.querySelector(".is-container");"left"!==t&&"center"!==t&&"right"!==t||(i.classList.remove("is-content-left"),i.classList.remove("is-content-right"),i.classList.remove("edge-x--1"),i.classList.remove("edge-x--0-75"),i.classList.remove("edge-x--0-5"),i.classList.remove("edge-x--0-25"),i.classList.remove("edge-x-0"),i.classList.remove("edge-x-0-25"),i.classList.remove("edge-x-0-5"),i.classList.remove("edge-x-0-75"),i.classList.remove("edge-x-1"),i.classList.remove("edge-x-2"),i.classList.remove("edge-x-3"),i.classList.remove("edge-x-4"),i.classList.remove("edge-x-5"),i.classList.remove("edge-x-6")),"left"===t&&(i.classList.add("is-content-left"),e.querySelector(".glide")?i.classList.add("edge-x-3"):i.classList.add("edge-x-2")),"right"===t&&(i.classList.add("is-content-right"),e.querySelector(".glide")?i.classList.add("edge-x-3"):i.classList.add("edge-x-2")),"top"!==t&&"middle"!==t&&"bottom"!==t||(e.classList.remove("is-content-top"),e.classList.remove("is-content-bottom"),e.classList.remove("edge-y--5"),e.classList.remove("edge-y--4"),e.classList.remove("edge-y--3"),e.classList.remove("edge-y--2"),e.classList.remove("edge-y--1"),e.classList.remove("edge-y-0"),e.classList.remove("edge-y-0-25"),e.classList.remove("edge-y-0-5"),e.classList.remove("edge-y-0-75"),e.classList.remove("edge-y-1"),e.classList.remove("edge-y-2"),e.classList.remove("edge-y-3"),e.classList.remove("edge-y-4"),e.classList.remove("edge-y-5"),e.classList.remove("edge-y-6"),e.classList.remove("edge-y-7"),e.classList.remove("edge-y-8")),"top"===t&&(e.classList.add("is-content-top"),e.classList.add("edge-y-2")),"bottom"===t&&(e.classList.add("is-content-bottom"),e.classList.add("edge-y-2")),this.builder.hideElementTools()}updateContentSize(e,t){const i=e.querySelector(".is-container"),n=[320,400,500,600,700,800,900,1e3,1100,1200,1300,1400,1500,1600,1700,1800,1900,2e3];if(""===t)return i.style.maxWidth="",i.classList.forEach((e=>{-1!==e.indexOf("is-content-")&&"is-content-left"!==e&&"is-content-right"!==e&&i.classList.remove(e)})),void i.classList.add("is-content-none");let s;for(let e=0;e<n.length;e++)if(i.classList.contains(`is-content-${n[e]}`)){if("+"===t){s=e+1>=n.length?n[e]:n[e+1];break}if("-"===t){s=e-1<0?n[e]:n[e-1];break}}if(!s){const e=i.offsetWidth;for(let i=0;i<n.length;i++){if(n[i]<=e&&e<n[i+1]&&"+"===t){s=n[i+1];break}if(n[i]<e&&e<=n[i+1]&&"-"===t){s=n[i];break}}}s||(s=800),i.style.maxWidth="",i.classList.forEach((e=>{-1!==e.indexOf("is-content-")&&"is-content-left"!==e&&"is-content-right"!==e&&i.classList.remove(e)})),i.classList.add("is-content-"+s)}updateContentColor(e,t){"light"==t&&(e.classList.remove("is-dark-text"),e.classList.add("is-light-text")),"dark"==t&&(e.classList.remove("is-light-text"),e.classList.add("is-dark-text")),""==t&&(e.classList.remove("is-light-text"),e.classList.remove("is-dark-text"))}chooseHeadline(){let e=this.builder.headlineList;return e[Math.floor(Math.random()*e.length)]}_addBlock(e,t,i){let n,s,o,a=e.querySelector(".is-container");if(a){if(e.classList.contains("is-container")&&(a=e),e.querySelector(".row-active"))n=e.querySelector(".row-active");else{const e=this.builder.dom.elementChildren(a);n=e[e.length-1]}if(n){if(""===this.builder.opts.row){s=this.htmlToElement(this.builder.opts.rowFormat);let e=this.builder.opts.cellFormat,i=e.indexOf("</");t=e.substring(0,i)+t+e.substring(i);let n=this.builder.dom.elementChildren(s);for(;n.length>0&&(n=n[0],this.builder.dom.elementChildren(n).length>0);)n=this.builder.dom.elementChildren(n);n.innerHTML=t,o=n.firstChild}else o=document.createElement("div"),o.classList.add(this.builder.opts.cols[this.builder.opts.cols.length-1]),o.innerHTML=t,s=document.createElement("div"),s.classList.add(this.builder.opts.row),s.appendChild(o);n.parentNode.insertBefore(s,n),"after"===i&&this.builder.dom.moveAfter(s,n),this.builder.applyBehaviorOn(a),o.click()}}}addBlock(e,t,i){let n="";"headline"===t&&(n=`\n            <h1 class="font-normal leading-11 size-54">${this.chooseHeadline()}</h1>\n            `),"paragraph"===t&&(n="\n            <p>Lorem Ipsum is simply dummy text of the printing and typesetting industry.\n        Lorem Ipsum has been the industry's standard dummy text ever since the 1500s,\n        when an unknown printer took a galley of type and scrambled it to make a type specimen book.</p>\n            "),"image"===t&&(n=`<img src="${this.builder.opts.snippetPath}example.png" alt="" />`,this.builder.opts.snippetSampleImage&&(n=`<img src="${this.builder.opts.snippetSampleImage}" alt="" />`)),"space"===t&&(n='<div class="spacer height-40"></div>'),"button"===t&&(n='\n            <div>\n                <a href="#" role="button" class="transition-all inline-block whitespace-nowrap cursor-pointer no-underline border-2 border-solid mr-2 mt-2 mb-1 py-2 size-17 px-6 text-black leading-14 rounded border-transparent hover:border-transparent font-normal tracking-wide" style="background-color: rgb(240, 240, 240);">Read More</a>\n            </div>\n            '),"twobuttons"===t&&(n='\n            <div>\n                <a href="#" role="button" class="transition-all inline-block whitespace-nowrap cursor-pointer no-underline border-2 border-solid mr-2 mt-2 mb-1 py-2 size-17 px-6 text-black leading-14 rounded border-transparent hover:border-transparent font-normal tracking-wide" style="background-color: rgb(240, 240, 240);">Read More</a>\n                <a href="#" role="button" class="transition-all inline-block whitespace-nowrap cursor-pointer no-underline border-2 border-solid mr-2 mt-2 mb-1 py-2 size-17 px-6 border-current hover:border-current font-normal leading-14 rounded tracking-wide">Get Started</a>\n            </div>\n            '),"icon"===t&&(n='\n            <div class="text-center">\n                <i class="icon ion-android-alarm-clock size-80"></i>\n            </div>\n            '),"youtube"===t&&(n='\n            <div class="embed-responsive embed-responsive-16by9">\n                <iframe width="560" height="315" src="https://www.youtube.com/embed/P5yHEKqx86U?rel=0" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>\n            </div>\n            '),"video"===t&&(n=`<video style="width: 100%;" loop="" autoplay="">\n                <source src="${this.builder.opts.snippetPath}example.mp4" type="video/mp4"></video>`,this.builder.opts.snippetSampleVideo&&(n=`<video style="width: 100%;" loop="" autoplay="">\n                    <source src="${this.builder.opts.snippetSampleVideo}" type="video/mp4"></video>`)),"audio"===t&&(n=`<div style="display:flex;width:100%;position:relative;margin:15px 0;background:transparent;">\n                    <audio controls="" style="width:100%">\n                        <source src="${this.builder.opts.snippetPath}example.mp3" type="audio/mpeg">\n                        Your browser does not support the audio element.\n                    </audio>\n                </div>`,this.builder.opts.snippetSampleAudio&&(n=`<div style="display:flex;width:100%;position:relative;margin:15px 0;background:transparent;">\n                        <audio controls="" style="width:100%">\n                            <source src="${this.builder.opts.snippetSampleAudio}" type="audio/mpeg">\n                            Your browser does not support the audio element.\n                        </audio>\n                </div>`)),"map"===t&&(n='<div class="embed-responsive embed-responsive-16by9">\n            <iframe width="100%" height="400" frameborder="0" scrolling="no" marginheight="0" marginwidth="0" class="mg1" src="https://maps.google.com/maps?q=Melbourne,+Victoria,+Australia&amp;hl=en&amp;sll=-7.981898,112.626504&amp;sspn=0.009084,0.016512&amp;oq=melbourne&amp;hnear=Melbourne+Victoria,+Australia&amp;t=m&amp;z=10&amp;output=embed"></iframe>\n            </div>'),"social"===t&&(n='<div class="is-social" style="text-align: center;">\n                <a href="https://twitter.com/"><i class="icon ion-social-twitter" style="margin-right: 1em"></i></a>\n                <a href="https://www.facebook.com/"><i class="icon ion-social-facebook" style="margin-right: 1em"></i></a>\n                <a href="mailto:you@example.com"><i class="icon ion-android-drafts"></i></a>\n            </div>'),"table"===t&&(n='<table class="default" style="border-collapse:collapse;width:100%;">\n                <thead>\n                <tr>\n                    <td style="vertical-align:top;"><br></td>\n                    <td style="vertical-align:top;"><br></td>\n                </tr>\n                </thead>\n                <tr>\n                    <td style="vertical-align:top;"><br></td>\n                    <td style="vertical-align:top;"><br></td>\n                </tr>\n            </table>'),this._addBlock(e,n,i)}alignContent(e,t){e.classList.remove("is-align-left"),e.classList.remove("is-align-center"),e.classList.remove("is-align-right"),e.classList.remove("is-align-justify"),"left"===t&&e.classList.add("is-align-left"),"center"===t&&e.classList.add("is-align-center"),"right"===t&&e.classList.add("is-align-right"),"justify"===t&&e.classList.add("is-align-justify"),e.querySelectorAll(".is-builder > div > div, .is-builder > div > div > *").forEach((e=>{e.closest(".is-section-tool")||e.closest(".is-box-tool")||e.closest(".is-tool")||e.closest(".is-rowadd-tool")||(e.style.textAlign="",e.classList.remove("left"),e.classList.remove("right"),e.classList.remove("center"),e.classList.remove(this.builder.cssClasses.textAlign.left),e.classList.remove(this.builder.cssClasses.textAlign.center),e.classList.remove(this.builder.cssClasses.textAlign.right),e.classList.remove(this.builder.cssClasses.textAlign.justify),this.builder.dom.doFunction(e,(t=>{t.closest(".is-section-tool")||t.closest(".is-box-tool")||t.closest(".is-tool")||t.closest(".is-rowadd-tool")||(t.style.textAlign="",e.classList.remove("left"),e.classList.remove("right"),e.classList.remove("center"),e.classList.remove(this.builder.cssClasses.textAlign.left),e.classList.remove(this.builder.cssClasses.textAlign.center),e.classList.remove(this.builder.cssClasses.textAlign.right),e.classList.remove(this.builder.cssClasses.textAlign.justify))}),!0))}))}alignText(e,t){this.builder.useCssClasses?(e.style.textAlign="",e.classList.remove(this.builder.cssClasses.textAlign.left),e.classList.remove(this.builder.cssClasses.textAlign.center),e.classList.remove(this.builder.cssClasses.textAlign.right),e.classList.remove(this.builder.cssClasses.textAlign.justify),"left"===t&&e.classList.add(this.builder.cssClasses.textAlign.left),"center"===t&&e.classList.add(this.builder.cssClasses.textAlign.center),"right"===t&&e.classList.add(this.builder.cssClasses.textAlign.right),"justify"===t&&e.classList.add(this.builder.cssClasses.textAlign.justify)):e.style.textAlign=t}increaseLineHeight(e,t){let i=Object.values(this.builder.cssClasses.leading);if(t){const e=this.builder.cssClasses.leading;i=[e.leading_10,e.leading_11,e.leading_12,e.leading_13,e.leading_14,"leading-15",e.leading_16,e.leading_17,e.leading_18,e.leading_19,"leading-20"]}const n=this.getCurrentLineHeightClass(e,t),s=i.indexOf(n);if(-1!==s&&s<i.length-1){const t=i[s+1];e.classList.remove(n),e.classList.add(t)}}decreaseLineHeight(e,t){let i=Object.values(this.builder.cssClasses.leading);if(t){const e=this.builder.cssClasses.leading;i=[e.leading_10,e.leading_11,e.leading_12,e.leading_13,e.leading_14,"leading-15",e.leading_16,e.leading_17,e.leading_18,e.leading_19,"leading-20"]}const n=this.getCurrentLineHeightClass(e,t),s=i.indexOf(n);if(-1!==s&&s>0){const t=i[s-1];e.classList.remove(n),e.classList.add(t)}}getCurrentLineHeightClass(e,t){const i=e.classList;for(let e=0;e<i.length;e++){const t=i[e];if(t.startsWith("leading-"))return t}const n=window.getComputedStyle(e);let s=parseFloat(n.lineHeight),o="";s=(s/parseFloat(n.fontSize)).toFixed(1);const a=this.builder.cssClasses.leading;return t?"1"===s?o=a.leading_10:"1.1"===s?o=a.leading_11:"1.2"===s?o=a.leading_12:"1.3"===s?o=a.leading_13:"1.4"===s?o=a.leading_14:"1.5"===s?o="leading-15":"1.6"===s?o=a.leading_16:"1.7"===s?o=a.leading_17:"1.8"===s?o=a.leading_18:"1.9"===s?o=a.leading_19:"2"===s&&(o=a.leading_20):"0.5"===s?o=a.leading_5:"0.6"===s?o=a.leading_6:"0.7"===s?o=a.leading_7:"0.8"===s?o=a.leading_8:"0.9"===s?o=a.leading_9:"1"===s?o=a.leading_10:"1.1"===s?o=a.leading_11:"1.2"===s?o=a.leading_12:"1.3"===s?o=a.leading_13:"1.4"===s?o=a.leading_14:"1.5"===s?o=a.leading_15:"1.6"===s?o=a.leading_16:"1.7"===s?o=a.leading_17:"1.8"===s?o=a.leading_18:"1.9"===s?o=a.leading_19:"2"===s?o=a.leading_20:"2.1"===s?o=a.leading_21:"2.2"===s?o=a.leading_22:"2.3"===s?o=a.leading_23:"2.4"===s?o=a.leading_24:"2.5"===s?o=a.leading_25:"2.6"===s?o=a.leading_26:"2.7"===s?o=a.leading_27:"2.8"===s?o=a.leading_28:"2.9"===s?o=a.leading_29:"3"===s&&(o=a.leading_30),""!==o?o:a.leading_14}increaseFontSize(e,t){const i=this.builder.opts.fontSizeClassValues,n=this.getCurrentFontSize(e),s=i.indexOf(n);if(s<i.length-1){const n=`size-${i[s+1]}`;if(t&&"size-24"===n)return;this.hasSizeClass(e)&&e.classList.remove(this.getSizeClass(e)),e.classList.add(n)}}decreaseFontSize(e,t){const i=this.builder.opts.fontSizeClassValues,n=this.getCurrentFontSize(e),s=i.indexOf(n);if(s>0){const n=i[s-1],o=`size-${n}`;if(t&&"size-16"===n)return;this.hasSizeClass(e)&&e.classList.remove(this.getSizeClass(e)),e.classList.add(o)}}clearFontSize(e){e.classList.remove(this.getSizeClass(e))}getCurrentFontSize(e){const t=this.builder.opts.fontSizeClassValues;if(this.hasSizeClass(e)){const t=this.getSizeClass(e).split("-")[1];return Number(t)}{const i=window.getComputedStyle(e).getPropertyValue("font-size"),n=Number(i.match(/\d+/)[0]);if(t.includes(n))return n;return this.findClosestFontSize(n)}}hasSizeClass(e){return!!Array.from(e.classList).some((e=>e.startsWith("size-")))}getSizeClass(e){return Array.from(e.classList).find((e=>e.startsWith("size-")))}findClosestFontSize(e){const t=this.builder.opts.fontSizeClassValues;let i=null;for(let n=t.length-1;n>=0;n--)if(t[n]<e){i=t[n];break}if(null===i)for(let n=0;n<t.length;n++)if(t[n]>e){i=t[n];break}return null===i&&(i=t[0]),i}increaseElementHeight(e){const t=this.getCurrentHeightClass(e),i=this.getNextHeightClass(t,!0);i&&(e.classList.remove(t),e.classList.add(i))}decreaseElementHeight(e){const t=this.getCurrentHeightClass(e),i=this.getNextHeightClass(t,!1);i&&(e.classList.remove(t),e.classList.add(i))}getCurrentHeightClass(e){return Array.from(e.classList).find((e=>e.startsWith("height-")))}getNextHeightClass(e,t){const i=["height-20","height-40","height-60","height-80","height-100","height-120","height-140","height-160","height-180","height-200","height-220","height-240","height-260","height-280","height-300"],n=i.indexOf(e),s=t?n+1:n-1;return s>=0&&s<i.length?i[s]:null}moveBlockContent(e){const t=this.builder.activeCol;if(!t)return!1;if("top"!==e&&"bottom"!==e&&"left"!==e&&"right"!==e&&"topleft"!==e&&"topcenter"!==e&&"topright"!==e&&"bottomleft"!==e&&"bottomcenter"!==e&&"bottomright"!==e&&"center"!==e)return;this.builder.saveForUndo();const i=this.builder.dom;let n=this.builder.cssClasses.display;if(i.addCssClass(t,n.flex,n),n=this.builder.cssClasses.flexDirection,i.addCssClass(t,n.column,n),"top"===e){let e=this.builder.cssClasses.justifyContent;i.addCssClass(t,e.start,e),e=this.builder.cssClasses.alignItems,i.addCssClass(t,e.center,e)}else if("bottom"===e){let e=this.builder.cssClasses.justifyContent;i.addCssClass(t,e.end,e),e=this.builder.cssClasses.alignItems,i.addCssClass(t,e.center,e)}else if("left"===e){let e=this.builder.cssClasses.justifyContent;i.addCssClass(t,e.center,e),e=this.builder.cssClasses.alignItems,i.addCssClass(t,e.start,e)}else if("right"===e){let e=this.builder.cssClasses.justifyContent;i.addCssClass(t,e.center,e),e=this.builder.cssClasses.alignItems,i.addCssClass(t,e.end,e)}else if("topleft"===e){let e=this.builder.cssClasses.justifyContent;i.addCssClass(t,e.start,e),e=this.builder.cssClasses.alignItems,i.addCssClass(t,e.start,e)}else if("topcenter"===e){let e=this.builder.cssClasses.justifyContent;i.addCssClass(t,e.start,e),e=this.builder.cssClasses.alignItems,i.addCssClass(t,e.center,e)}else if("topright"===e){let e=this.builder.cssClasses.justifyContent;i.addCssClass(t,e.start,e),e=this.builder.cssClasses.alignItems,i.addCssClass(t,e.end,e)}else if("bottomleft"===e){let e=this.builder.cssClasses.justifyContent;i.addCssClass(t,e.end,e),e=this.builder.cssClasses.alignItems,i.addCssClass(t,e.start,e)}else if("bottomcenter"===e){let e=this.builder.cssClasses.justifyContent;i.addCssClass(t,e.end,e),e=this.builder.cssClasses.alignItems,i.addCssClass(t,e.center,e)}else if("bottomright"===e){let e=this.builder.cssClasses.justifyContent;i.addCssClass(t,e.end,e),e=this.builder.cssClasses.alignItems,i.addCssClass(t,e.end,e)}else if("center"===e){let e=this.builder.cssClasses.justifyContent;i.addCssClass(t,e.center,e),e=this.builder.cssClasses.alignItems,i.addCssClass(t,e.center,e)}else{let e=this.builder.cssClasses.justifyContent;i.addCssClass(t,e.center,e),e=this.builder.cssClasses.alignItems,i.addCssClass(t,e.center,e)}t.style.justifyContent="",t.style.alignItems="",this.builder.onChange()}}const oy=new si;class ay{constructor(e={},t){this.opts=Object.assign(this,{send:()=>{},abort:()=>{}},e),this.builder=t;const i=this.builder.util;this.util=i;const n=this.builder.builderStuff;this.builderStuff=n,null===localStorage.getItem("_mic")&&localStorage.setItem("_mic","0"),this.builder.isInProgress=!1;let s=`\n        <style>\n            #_cbhtml .is-modal.page-command {\n                width: 25vw;\n                min-width: 500px;\n                max-width: 600px;\n                height: 230px; \n                top: auto; \n                bottom: 30px; \n                left: auto; \n                right: 30px; \n                z-index: 10005;\n                font-size: 12px;\n                border-radius: 6px;\n            }\n            #_cbhtml .is-modal.page-command textarea {\n                border:none;border-top: rgb(133 133 133 / 14%) 1px solid;resize:none;width:100%;\n                height:170px;outline:none;background:transparent;line-height: 1.2;\n                font-family: sans-serif;font-weight: 300;font-size: 17px;padding-top:12px;\n            }\n            .page-command-overlay {\n                position: fixed;\n                background: rgb(148 148 148 / 22%);\n                display: none;\n                z-index: 10004;\n                justify-content: center;\n                align-items:center;\n            }\n            #_cbhtml .div-assistant-mode button {\n                padding: 0 17px;height:26px;border-radius:20px;box-shadow:none;\n            }\n            #_cbhtml .div-assistant-mode button[disabled] {\n                pointer-events: none;\n                opacity: 0.5;\n                background: transparent;\n            }\n            /*\n            .is-modal.commandconfig, \n            #_cbhtml .is-modal.commandconfig label {\n                font-size: 14px;\n            }\n            */\n            .is-modal.commandconfig ul {\n                margin: 0;\n                padding: 0 0 0 16px;\n            }\n            .is-modal.commandconfig ul li {\n                font-size: inherit;\n                line-height: 1.2;\n            }\n            .is-modal.commandlist {\n                z-index: 10005 !important\n            }\n            .is-modal.commandlist .is-modal-content {\n                max-width:calc(100% - 150px);\n                height:calc(100% - 150px);\n                padding:0 !important;\n            }\n            .is-modal.commandlist .is-modal-close {\n                position: absolute !important;\n                top: 5px;\n                right: 15px;\n                box-shadow: none !important;\n            }\n            .is-modal.commandlist .is-modal-close {\n                background: transparent !important;\n            }\n            .is-modal.commandlist .is-modal-close svg {\n                width:50px;height:50px;\n            }\n            .is-modal.commandlist .is-modal-content > div {\n                display: flex;\n                flex-flow: wrap;\n                align-items: flex-start;\n                /*align-items: inherits;*/\n                justify-content: flex-start;\n                padding: 2.2rem;\n                box-sizing: border-box;\n                overflow-y: auto;\n                overflow-x: hidden;\n                width: 100%;\n                height: 100%;\n            }\n            .is-modal.commandlist .is-modal-content > div > h2 {\n                display: block;\n                width: 100%;\n                flex: none;\n                font-family: "Open Sans", sans-serif;\n                font-weight: 300;\n                margin-bottom: 10px;\n                font-size: 28px;\n            }\n            .is-modal.commandlist .is-modal-content > div > p {\n                display: block;\n                width: 100%;\n                flex: none;\n                font-family: "Open Sans", sans-serif;\n                font-weight: 300;\n                font-size: 17px !important;\n                margin: 0 0 30px;\n            }\n            .is-modal.commandlist .is-modal-content > div > div {\n                margin-right: 2.2rem;\n                margin-bottom: 2.2rem;\n                display: flex;\n                flex: none;\n                width: 350px;\n                height: auto;\n                flex-direction: column;\n                justify-content: space-between;\n                border-radius: 0.25rem;\n                border: 1px solid rgb(156 163 175/.75);\n                padding: 1.5rem 2rem;\n                box-sizing: border-box;\n                letter-spacing: .025em;\n                box-shadow: 5px 5px 0px rgb(0 0 0 / 3%);\n                font-size: 19px;\n                font-weight: 300;\n                font-family: sans-serif;\n                line-height: 1.3;\n                cursor:pointer;\n                transition: all 0.3s ease;\n            }\n            .is-modal.commandlist .is-modal-content > div > div:hover {\n                background: rgba(0, 0, 0, 0.03);\n            }\n            .dark .is-modal.commandlist .is-modal-content > div > div:hover {\n                background: rgba(255, 255, 255, 0.05);\n            }\n\n            .spinner {\n                -webkit-animation: rotator 1.4s linear infinite;\n                        animation: rotator 1.4s linear infinite;\n            }\n            @-webkit-keyframes rotator {\n                0% {\n                    transform: rotate(0deg);\n                }\n                100% {\n                    transform: rotate(270deg);\n                }\n            }\n            @keyframes rotator {\n                0% {\n                    transform: rotate(0deg);\n                }\n                100% {\n                    transform: rotate(270deg);\n                }\n            }\n            .path {\n                stroke: #232323; /* #b7b7b7; */\n                stroke-dasharray: 187;\n                stroke-dashoffset: 0;\n                transform-origin: center;\n                -webkit-animation: dash 1.4s ease-in-out infinite;\n                        animation: dash 1.4s ease-in-out infinite;\n            }\n            @-webkit-keyframes dash {\n                0% {\n                    stroke-dashoffset: 187;\n                }\n                50% {\n                    stroke-dashoffset: 46.75;\n                    transform: rotate(135deg);\n                }\n                100% {\n                    stroke-dashoffset: 187;\n                    transform: rotate(450deg);\n                }\n            }\n            @keyframes dash {\n                0% {\n                    stroke-dashoffset: 187;\n                }\n                50% {\n                    stroke-dashoffset: 46.75;\n                    transform: rotate(135deg);\n                }\n                100% {\n                    stroke-dashoffset: 187;\n                    transform: rotate(450deg);\n                }\n            }\n            .inp-command::placeholder {\n                color: #aaa;\n            }\n\n            .label-chk-autosend-command,\n            .label-input-autosend-command {\n                display: none !important;\n            }\n        </style>\n        <div class="is-overlay page-command-overlay">\n            <svg class="spinner" width="40px" height="40px" viewBox="0 0 66 66" xmlns="http://www.w3.org/2000/svg">\n                <circle class="path" fill="none" stroke-width="6" stroke-linecap="round" cx="33" cy="33" r="30"></circle>\n            </svg>\n        </div>\n        <div class="is-modal is-modal-content page-command" tabindex="-1" role="dialog" aria-modal="true" aria-hidden="true">\n            <div class="is-modal-bar is-draggable" draggable=""> \n                <span style="display: flex;\n                justify-content: center;\n                align-items: center;">\n                    ${i.out("AI Assistant")}</span>\n    \n                <button class="is-modal-close" tabindex="-1" title="${i.out("Close")}">\n                    <svg class="is-icon-flex"style="width:22px;height:22px"><use xlink:href="#ion-ios-close-empty"></use></svg>\n                </button>\n            </div>\n            <div style="display:flex;flex-direction:column;justify-content:space-between;position:absolute;box-sizing:border-box;top:0;left:0;width:100%;height:100%;border-top:transparent 35px solid;overflow-y:hidden;overflow-x:auto;">\n                <div style="display:flex;align-items:center;justify-content:center;padding: 2px 13px 10px;">\n                    <div class="div-assistant-mode" style="display:flex;align-items: center;">\n                        <button class="scope-section on" title="${i.out("General")}" data-value="general" style="margin-right:5px">${i.out("General")}</button> \n                        <button class="scope-others" title="${i.out("Ask Questions")}" data-value="others">${i.out("Ask Questions")}</button>\n                        <button class="scope-block" title="${i.out("Edit Selected Block")}" data-value="block" style="">${i.out("Edit Selected Block")}</button>\n                        <button class="scope-image" title="${i.out("Image")}" data-value="image" style="display:none;margin-right:5px">${i.out("Image")}</button> \n                    </div>\n                </div>\n                <textarea class="inp-command"></textarea>\n                <div style="display:flex;padding-left:3px;">\n                    <button title="${i.out("Settings")}" class="cmd-command-config classic-secondary" style="width:40px;height:43px;flex:none;padding:0;outline-offset:-2px;">\n                        <svg class="is-icon-flex" style="width:15px;height:15px;flex:none;"><use xlink:href="#icon-settings"></use></svg>\n                    </button>\n                    <button title="${i.out("Mic")}" class="cmd-enable-dictation classic-secondary" style="width:40px;height:43px;flex:none;padding:0;outline-offset:-2px;">\n                        <svg class="is-icon-flex" style="width: 18px; height: 18px;"><use xlink:href="#icon-microphone"></use></svg> \n                    </button>\n                    <button title="${i.out("Command Examples")}" class="cmd-command-list classic-secondary" style="width:40px;height:43px;flex:none;padding:0;outline-offset:-2px;">\n                        <svg class="is-icon-flex" style="width: 18px; height: 18px;"><use xlink:href="#icon-message-search"></use></svg> \n                    </button>\n                    <button title="${i.out("Clear")}" class="cmd-clear-command classic-secondary" style="margin-right:6px;width:40px;height:43px;flex:none;padding:0;outline-offset:-2px;">\n                        <svg class="is-icon-flex" style="width: 18px; height: 18px;"><use xlink:href="#icon-eraser"></use></svg> \n                    </button>\n\n                    <label class="label-chk-autosend-command" for="chkAutoSendCommand" style="margin:0;display:flex;padding-left:10px;padding-right:25px;white-space:nowrap;align-items:center;letter-spacing:0"><input id="chkAutoSendCommand" type="checkbox"> <span style="margin-left:3px">${i.out("Auto Send")}</span></label>\n                    \n                    <button title="${i.out("Send")}" class="cmd-send-command classic-primary" style="width:100%;padding-left:5px;padding-right:5px;height:43px;outline-offset:-2px;">Send</button>\n                </div>\n            </div>\n        </div>\n\n        <div class="is-modal commandlist" tabindex="-1" role="dialog" aria-modal="true" aria-hidden="false">\n            <div class="is-modal-overlay"></div>\n\n            <div class="is-modal-content scroll-darker"">\n                <button class="is-modal-close" tabindex="-1" title="${i.out("Close")}">\n                    <svg class="is-icon-flex"><use xlink:href="#ion-ios-close-empty"></use></svg>\n                </button>\n                <div class="div-command-list">\n\n                </div>\n            </div>\n        </div>\n\n        <div class="is-modal commandconfig" tabindex="-1" role="dialog" aria-modal="true" aria-hidden="true">\n            <div class="is-modal-content" style="max-width:380px;padding:55px 40px 35px;">\n                <div class="is-modal-bar is-draggable">\n                    ${i.out("Settings")}\n                    <button class="is-modal-close" tabindex="-1" title="${i.out("Close")}">&#10005;</button>\n                </div>\n              \n                <div class="is-label"><span>${i.out("Temperature")}</span>: <span class="val-temp">0.6</span></div>\n                <div style="padding-top:4px">\n                    <input type="range" min="0" max="2" step="0.01" value="0.6" class="temperature-slider is-rangeslider" style="margin:0 !important;">\n                </div>\n                \n                <div class="is-label" style="margin-top:15px"><span>${i.out("Top P")}</span>: <span class="val-top-p">0.9</span></div>\n                <div style="padding-top:4px">\n                    <input type="range" min="0" max="1" step="0.01" value="0.9" class="top-p-slider is-rangeslider" style="margin:0 !important;">\n                </div>\n\n                <div style="text-align:right">\n                    <button title="${i.out("Reset")}" class="input-reset classic-secondary" style="text-decoration: underline;padding: 0;box-shadow: none;">${i.out("Reset")}</button>\n                </div>\n\n                <label for="chkAutoEditBlock" style="margin:0;display:flex;align-items:center;letter-spacing:0">\n                    <input id="chkAutoEditBlock" type="checkbox" style="margin:0 5px 0 0;"> \n                    <span style="line-height: 1;">${i.out("Auto select 'Edit Selected Block' mode.")}</span>\n                </label>\n\n                <label class="label-input-autosend-command" style="margin:18px 0 0 0;display:flex;align-items:center;letter-spacing:0">\n                    <span>${i.out("Auto send command delay")}</soan>:\n                    <input class="input-autosend-delay" style="width:60px;text-align:center;padding-left:0;height:33px;margin-right:3px;" type="text" value="4000"> <span>ms</span>\n                </label>\n\n                <div class="command-settings-info" style="display:none"></div>\n\n                <label class="label-input-command-lang" style="display:none;flex-direction:column;letter-spacing:0;margin:18px 0 0 0;">\n                    <span>${i.out("Language")}:</span>\n                    <div style="display:flex; align-items: baseline;flex-direction: row;">\n                        <input class="input-command-lang" style="width:70px;text-align:center;padding-left:0;height:33px;margin-top:5px;margin-right:10px" type="text" value="en-us">\n                        <span>(${i.out("BCP-47 format")})</span>\n                    </div>\n                </label>\n\n                <div style="text-align:right;margin-top:25px;">\n                    <button title="${i.out("Ok")}" class="input-ok classic-primary" style="width:100%;">${i.out("Ok")}</button>\n                </div>\n            </div>\n        </div>\n        `;oy.appendHtml(n,s);const o=n.querySelector(".page-command");this.modalCommand=o;const a=n.querySelector(".commandlist");this.modalCommandList=a;const l=n.querySelector(".commandconfig");this.modalConfig=l;const r=n.querySelector(".cmd-command-config"),d=n.querySelector(".cmd-enable-dictation"),c=n.querySelector(".cmd-clear-command"),u=n.querySelector("#chkAutoSendCommand"),p=n.querySelector(".cmd-command-list"),h=n.querySelector(".command-settings-info");let m=`\n        <div style="font-weight:500;margin: 25px 0 7px;">${i.out("Dictation")}</div>\n        <div style="line-height: 1.4;margin: 0 0 7px;">${i.out("These words trigger command actions")}:</div>\n        <ul>`;const g=this.builder.triggerWords;for(const e in g){if("send"===e){let t="";g[e].forEach((e=>{t+=`, ${e}`})),t=t.substring(1),m+=`<li><span>${t}</span></li>`}if("abort"===e){let t="";g[e].forEach((e=>{t+=`, ${e}`})),t=t.substring(1),m+=`<li><span>${t}</span></li>`}if("clear"===e){let t="";g[e].forEach((e=>{t+=`, ${e}`})),t=t.substring(1),m+=`<li><span>${t}</span></li>`}}m+="</ul>",h.innerHTML=m;const b=this.builderStuff.querySelector(".inp-command");if(this.builder.commandText="",this.builder.autoSendCommand=!1,null!==localStorage.getItem("_dictation")&&"1"===localStorage.getItem("_dictation")&&(this.modalCommand.classList.add("active"),this.doOpen(),null!==localStorage.getItem("_mic")?"1"===localStorage.getItem("_mic")&&this.startDictation():this.startDictation()),null!==localStorage.getItem("_mic")&&"0"===localStorage.getItem("_mic")&&(d.innerHTML='<svg class="is-icon-flex" style="width:18px; height:18px;"><use xlink:href="#icon-microphone-off"></use></svg>',u.parentNode.style.display="none"),null!==localStorage.getItem("_autosendcommand")&&"1"===localStorage.getItem("_autosendcommand")&&(u.checked=!0,this.builder.autoSendCommand=!0,localStorage.setItem("_autosendcommand","1")),this.modalCommand.addEventListener("focus",(()=>{i.saveSelection()})),r.addEventListener("click",(()=>{this.config()})),null!==localStorage.getItem("_temp")){let e=localStorage.getItem("_temp");this.builder.temperature=e}if(null!==localStorage.getItem("_top_p")){let e=localStorage.getItem("_top_p");this.builder.topP=e}if(null!==localStorage.getItem("_autosend_delay")){let e=localStorage.getItem("_autosend_delay");this.builder.autoSendDelay=e}if(null!==localStorage.getItem("_auto_editblock")){let e=localStorage.getItem("_auto_editblock");this.builder.autoEditBlock=e}if(null!==localStorage.getItem("_command_lang")){let e=localStorage.getItem("_command_lang");this.builder.speechRecognitionLang=e}this.modalConfig.querySelector(".input-ok").addEventListener("click",(()=>{const e=this.modalConfig.querySelector(".temperature-slider");localStorage.setItem("_temp",e.value),this.builder.temperature=e.value;const t=this.modalConfig.querySelector(".top-p-slider");localStorage.setItem("_top_p",t.value),this.builder.topP=t.value;this.modalConfig.querySelector("#chkAutoEditBlock").checked?(localStorage.setItem("_auto_editblock",1),this.builder.autoEditBlock=!0):(localStorage.setItem("_auto_editblock",0),this.builder.autoEditBlock=!1);const i=this.modalConfig.querySelector(".input-autosend-delay");localStorage.setItem("_autosend_delay",i.value),this.builder.autoSendDelay=i.value;const n=this.modalConfig.querySelector(".input-command-lang");localStorage.setItem("_command_lang",n.value),this.builder.speechRecognitionLang=n.value,this.builder.hideModal(this.modalConfig)}));this.modalConfig.querySelector(".input-reset").addEventListener("click",(()=>{this.resetConfig()}));const f=this.modalConfig.querySelector(".val-temp"),v=this.modalConfig.querySelector(".temperature-slider");v.oninput=()=>{f.innerHTML=v.value};const y=this.modalConfig.querySelector(".val-top-p"),x=this.modalConfig.querySelector(".top-p-slider");x.oninput=()=>{y.innerHTML=x.value},p.addEventListener("click",(()=>{let e="";const t=this.builder.commandInfo;let n=!1;this.builder.textToImageUrl&&(n=!0);for(const i in t)if(Object.prototype.hasOwnProperty.call(t,i)&&("image"!==i||"image"===i&&n)){const{title:n,description:s,list:o,width:a}=t[i];if(this.builder.enableShortCommands){e+=`<h2>${n}</h2>`;for(const t of o)e+=a?`<div role="button" tabindex="0" class="command-item" style="width:${a}">${t}</div>`:`<div role="button" tabindex="0" class="command-item">${t}</div>`}else{s?(e+=`<h2>${n}</h2>`,e+=`<p>${s}</p>`):e+=`<h2 style="margin-bottom:30px">${n}</h2>`;for(const t of o)e+=a?`<div role="button" tabindex="0" class="command-item" style="width:${a}">${t}</div>`:`<div role="button" tabindex="0" class="command-item">${t}</div>`}}this.modalCommandList.querySelector(".div-command-list").innerHTML=e;const s=e=>{const t=this.builderStuff.querySelector(".inp-command");t.value=e,this.builder.commandText=t.value,i.hideModal(this.modalCommandList)};this.modalCommandList.querySelectorAll(".command-item").forEach((e=>{e.addEventListener("click",(()=>{s(e.innerText),b.focus()})),e.addEventListener("keydown",(t=>{13!==t.which||t.shiftKey||(t.preventDefault(),t.stopImmediatePropagation(),s(e.innerText),setTimeout((()=>{b.focus()}),300))}))})),i.showModal(this.modalCommandList,!1,(()=>{p.removeAttribute("data-focus"),p.focus()}),!1),p.setAttribute("data-focus",!0)})),d.addEventListener("click",(()=>{this.checkMic()?(this.stopDictation(),d.innerHTML='<svg class="is-icon-flex" style="width:18px; height:18px;"><use xlink:href="#icon-microphone-off"></use></svg>',localStorage.setItem("_mic","0"),u.parentNode.style.display="none"):(this.startDictation(),d.innerHTML='<svg class="is-icon-flex" style="width:18px; height:18px;"><use xlink:href="#icon-microphone"></use></svg>',localStorage.setItem("_mic","1"),u.parentNode.style.display="flex")})),u.addEventListener("change",(()=>{u.checked?(this.builder.autoSendCommand=!0,localStorage.setItem("_autosendcommand","1")):(this.builder.autoSendCommand=!1,localStorage.setItem("_autosendcommand","0"))})),c.addEventListener("click",(()=>{const e=this.builderStuff.querySelector(".inp-command");this.builder.commandText="",e.value="",e.focus()}));const _=n.querySelector(".cmd-send-command");_.addEventListener("click",(async()=>{if(this.builder.isInProgress){this.opts.abort();const e=this.builderStuff.querySelector(".inp-command");return void(this.builder.commandText=e.value)}let e=this.modalCommand.querySelector(".inp-command").value;e=e.trim(),""!==e&&(this.builder.commandText="",this.opts.send(e))})),b.addEventListener("keydown",(e=>{13!==e.keyCode||e.shiftKey||e.preventDefault()})),b.addEventListener("keyup",(e=>{if(13===e.keyCode&&!e.shiftKey)return _.click(),void e.preventDefault();this.builder.commandText=b.value}));this.modalCommand.querySelector(".is-modal-close").addEventListener("click",(()=>{this.modalCommand.classList.remove("active"),this.stopDictation(),localStorage.setItem("_dictation","0")}));const w=this.modalCommand.querySelector(".scope-section"),S=this.modalCommand.querySelector(".scope-block"),C=this.modalCommand.querySelector(".scope-others"),k=this.modalCommand.querySelector(".scope-image");S.disabled=!0,this.builder.textToImageUrl&&(k.style.display="");const A=o.querySelectorAll(".div-assistant-mode button");A.forEach((e=>{e.addEventListener("click",(()=>{A.forEach((e=>{e.classList.remove("on")})),e.classList.add("on");const t=e.getAttribute("data-value");this.builder.assistantMode=t,this.builder.hidePlaceholder?b.setAttribute("placeholder",""):"general"===t?b.setAttribute("placeholder",this.builder.commandPlaceholders.general||""):"block"===t?b.setAttribute("placeholder",this.builder.commandPlaceholders.edit_block||""):"others"===t?b.setAttribute("placeholder",this.builder.commandPlaceholders.ask_questions||""):"image"===t&&b.setAttribute("placeholder",this.builder.commandPlaceholders.generate_image||"")}))}));let E=this.builder.settings.onSelectionChange;this.builder.settings.onSelectionChange=()=>{if(E&&E.call(this),this.builder.activeCol)this.builder.autoEditBlock&&(this.builder.assistantMode="block",S.classList.add("on"),w.classList.remove("on"),C.classList.remove("on"),k.classList.remove("on")),S.removeAttribute("disabled");else{if(S.disabled=!0,C.classList.contains("on"))return;if(k.classList.contains("on"))return;this.builder.assistantMode="general",w.classList.add("on"),S.classList.remove("on"),C.classList.remove("on"),k.classList.remove("on")}},this.initialStart=!1}resetConfig(){const e=this.modalConfig.querySelector(".temperature-slider"),t=this.modalConfig.querySelector(".val-temp");e.value=this.builder.temperature,t.innerHTML=this.builder.temperature;const i=this.modalConfig.querySelector(".top-p-slider"),n=this.modalConfig.querySelector(".val-top-p");i.value=this.builder.topP,n.innerHTML=this.builder.topP}config(){this.builder.showModal(this.modalConfig,!1);const e=this.modalConfig.querySelector(".temperature-slider"),t=this.modalConfig.querySelector(".val-temp");if(null!==localStorage.getItem("_temp")){let i=localStorage.getItem("_temp");e.value=i,t.innerHTML=i}else e.value=this.builder.temperature,t.innerHTML=this.builder.temperature;const i=this.modalConfig.querySelector(".top-p-slider"),n=this.modalConfig.querySelector(".val-top-p");if(null!==localStorage.getItem("_top_p")){let e=localStorage.getItem("_top_p");i.value=e,n.innerHTML=e}else i.value=this.builder.topP,n.innerHTML=this.builder.topP;const s=this.modalConfig.querySelector("#chkAutoEditBlock");if(null!==localStorage.getItem("_auto_editblock")){let e=localStorage.getItem("_auto_editblock");s.checked="1"===e}else s.checked=this.builder.autoEditBlock;const o=this.modalConfig.querySelector(".input-autosend-delay");if(null!==localStorage.getItem("_autosend_delay")){let e=localStorage.getItem("_autosend_delay");o.value=e}else o.value=this.builder.autoSendDelay;const a=this.modalConfig.querySelector(".input-command-lang");if(null!==localStorage.getItem("_command_lang")){let e=localStorage.getItem("_command_lang");a.value=e}else a.value=this.builder.speechRecognitionLang}checkMic(){return null===localStorage.getItem("_mic")||"0"!==localStorage.getItem("_mic")}doOpen(){this.builder.hidePlaceholder=!1;if(null===localStorage.getItem("_ai_panel_open"))localStorage.setItem("_ai_panel_open",1);else{let e=parseInt(localStorage.getItem("_ai_panel_open"));e<4&&(e++,localStorage.setItem("_ai_panel_open",e))}const e=this.builderStuff.querySelector(".inp-command");"4"===localStorage.getItem("_ai_panel_open")?(this.builder.hidePlaceholder=!0,e.setAttribute("placeholder","")):(this.builder.commandPlaceholders||(this.builder.commandPlaceholders={},this.builder.commandPlaceholders.general=""),e.setAttribute("placeholder",this.builder.commandPlaceholders.general||""))}openDictation(){this.doOpen();const e=this.modalCommand.querySelector(".inp-command");if(this.modalCommand.classList.contains("active"))return void setTimeout((()=>{e.focus()}),600);this.modalCommand.classList.add("active"),e.focus(),localStorage.setItem("_dictation","1");const t=this.builderStuff.querySelector("#chkAutoSendCommand");if(!this.checkMic()){return this.builderStuff.querySelector(".cmd-enable-dictation").innerHTML='<svg class="is-icon-flex" style="width:18px; height:18px;"><use xlink:href="#icon-microphone-off"></use></svg>',void(t.parentNode.style.display="none")}t.parentNode.style.display="flex",this.startDictation()}stopDictation(){this.recognition&&this.recognition.abort(),this.aborted=!0,this.builder.useMediaRecorder&&this.mediaRecorder&&"inactive"!==this.mediaRecorder.state&&(this.mediaRecorder.stop(),this.localStream.getTracks().forEach((e=>e.stop()))),this.websocket&&this.websocket.readyState===WebSocket.OPEN&&this.websocket.close()}async startDictation(){const e=this.modalCommand.querySelector(".inp-command");if(this.builder.onlineDemo)return setTimeout((()=>{const e=this.builderStuff.querySelector(".cmd-enable-dictation"),t=this.builderStuff.querySelector("#chkAutoSendCommand");this.stopDictation(),e.innerHTML='<svg class="is-icon-flex" style="width:18px; height:18px;"><use xlink:href="#icon-microphone-off"></use></svg>',localStorage.setItem("_mic","0"),t.parentNode.style.display="none"}),1),void this.util.showMessage(this.util.out("Speech recognition is disabled in this online demo. You can type your command/prompt in the textbox."),!0,(()=>{e.focus()}));if(this.builder.speechTranscribeUrl){this.websocket=new WebSocket(this.builder.speechTranscribeUrl);try{this.localStream=await navigator.mediaDevices.getUserMedia({audio:!0})}catch(e){return setTimeout((()=>{const e=this.builderStuff.querySelector(".cmd-enable-dictation"),t=this.builderStuff.querySelector("#chkAutoSendCommand");this.stopDictation(),e.innerHTML='<svg class="is-icon-flex" style="width:18px; height:18px;"><use xlink:href="#icon-microphone-off"></use></svg>',localStorage.setItem("_mic","0"),t.parentNode.style.display="none"}),1),void this.util.showMessage(this.util.out("No microphone found. Please activate your microphone and refresh the page."))}const t=16e3;this.builder.useMediaRecorder&&navigator.mediaDevices.getUserMedia({audio:{sampleSize:16,channelCount:1,sampleRate:t}}).then((e=>{this.localStream=e,this.mediaRecorder=new MediaRecorder(e),this.mediaRecorder.addEventListener("dataavailable",(e=>{this.aborted||this.websocket.send(e.data)}))})).catch((e=>{console.log(e)}));(/constructor/i.test(window.HTMLElement)||"[object SafariRemoteNotification]"===(!window.safari||"undefined"!=typeof safari&&window.safari.pushNotification).toString())&&!this.initialStart&&(this.stopDictation(),this.initialStart=!0,setTimeout((()=>{this.startDictation()}),2e3)),this.builder.commandText="";let i,n="";this.websocket.onmessage=t=>{const s=JSON.parse(t.data);if("can-open-mic"===s.event&&(this.builder.useMediaRecorder&&this.mediaRecorder.start(1e3),this.aborted=!1),"transcript-result"===s.event){const t=s.data.channel.alternatives[0].transcript,o=this.builder.triggerWords,a=e=>{e=(e=e.toLowerCase()).replace(".","");for(const t in o){if(o[t].some((t=>e.includes(t))))return t;let i;if(o[t].forEach((n=>{this.builder.similarity.checkSimilarity(e,n)>.5&&(i=t)})),i)return i}return null};if(t&&s.data.is_final){const i=a(t);if(i){if("send"===i){if(""===e.value.trim())return;return void this.modalCommand.querySelector(".cmd-send-command").click()}if("abort"===i){if(this.builder.isInProgress){this.opts.abort();const e=this.builderStuff.querySelector(".inp-command");this.builder.commandText=e.value}return}if("clear"===i)return this.builder.commandText="",void(e.value="")}}if(this.builder.isInProgress||this.aborted)return;n=this.builder.commandText,t&&s.data.is_final&&(n+=" "+t.trim()),n=n.charAt(0).toUpperCase()+n.slice(1),n=n.trim(),this.builder.commandText=n,t&&s.data.is_final&&(this.builder.commandText=n,e.value=n),clearTimeout(i),i=setTimeout((()=>{if(this.builder.autoSendCommand){if(""===e.value.trim())return;this.modalCommand.querySelector(".cmd-send-command").click()}}),this.builder.autoSendDelay)}}}else if("SpeechRecognition"in window||"webkitSpeechRecognition"in window||"mozSpeechRecognition"in window){const t=window.SpeechRecognition||window.webkitSpeechRecognition||window.mozSpeechRecognition;this.recognition=new t,this.recognition.continuous=!0,this.recognition.interimResults=!0;let i=this.builder.speechRecognitionLang;this.recognition.lang=i,this.recognition.start(),this.speechTimeout,this.builder.commandText="";let n="";this.recognition.onresult=t=>{let i="";for(var s=t.resultIndex;s<t.results.length;++s)t.results[s].isFinal&&(i=t.results[s][0].transcript);if(!i)return;const o=this.builder.triggerWords,a=(e=>{e=e.toLowerCase();for(const t in o){if(o[t].some((t=>e.includes(t))))return t;let i;if(o[t].forEach((n=>{this.builder.similarity.checkSimilarity(e,n)>.5&&(i=t)})),i)return i}return null})(i);if(a){if("send"===a){if(""===e.value.trim())return;return void this.modalCommand.querySelector(".cmd-send-command").click()}if("abort"===a){if(this.builder.isInProgress){this.opts.abort();const e=this.builderStuff.querySelector(".inp-command");this.builder.commandText=e.value}return}if("clear"===a)return this.builder.commandText="",void(e.value="")}this.builder.isInProgress||(n=this.builder.commandText,n+=" "+i.trim(),n=n.trim(),n=n.charAt(0).toUpperCase()+n.slice(1),this.builder.commandText=n,e.value=n,clearTimeout(this.speechTimeout),this.speechTimeout=setTimeout((()=>{if(this.builder.autoSendCommand){if(""===e.value.trim())return;this.modalCommand.querySelector(".cmd-send-command").click()}}),this.builder.autoSendDelay))},this.recognition.onend=()=>{this.aborted||this.startDictation()},this.recognition.onstart=()=>{this.aborted=!1},this.recognition.onerror=e=>{console.log(e.message)}}else setTimeout((()=>{const e=this.builderStuff.querySelector(".cmd-enable-dictation"),t=this.builderStuff.querySelector("#chkAutoSendCommand");this.stopDictation(),e.innerHTML='<svg class="is-icon-flex" style="width:18px; height:18px;"><use xlink:href="#icon-microphone-off"></use></svg>',localStorage.setItem("_mic","0"),t.parentNode.style.display="none"}),1),this.util.showMessage(this.util.out("Speech recognition not supported in this browser."))}startSending(){this.modalCommand.querySelector(".cmd-send-command").innerHTML=`\n        <svg class="spinner" width="14px" height="14px" viewBox="0 0 66 66" xmlns="http://www.w3.org/2000/svg">\n            <circle class="path" fill="none" stroke-width="6" stroke-linecap="round" cx="33" cy="33" r="30"></circle>\n        </svg>\n        <span style="margin-left:5px">${this.util.out("Abort")}</span>\n        `;const e=this.builderStuff.querySelector(".page-command-overlay");e&&(e.style.display="flex"),this.builder.isInProgress=!0}finish(){this.builder.isInProgress=!1;this.modalCommand.querySelector(".cmd-send-command").innerText=this.util.out("Send");const e=this.builderStuff.querySelector(".page-command-overlay");e&&(e.style.display="none")}}var ly={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.stringSimilarity=void 0;e.stringSimilarity=function(e,t,i,n){if(void 0===i&&(i=2),void 0===n&&(n=!1),n||(e=e.toLowerCase(),t=t.toLowerCase()),e.length<i||t.length<i)return 0;for(var s=new Map,o=0;o<e.length-(i-1);o++){var a=e.substr(o,i);s.set(a,s.has(a)?s.get(a)+1:1)}for(var l=0,r=0;r<t.length-(i-1);r++){var d=t.substr(r,i),c=s.has(d)?s.get(d):0;c>0&&(s.set(d,c-1),l++)}return 2*l/(e.length+t.length-2*(i-1))},e.default=e.stringSimilarity}(ly);class ry{constructor(e){this.builder=e}checkSimilarity(e,t){e=e.toLowerCase(),t=t.toLowerCase();return ly.stringSimilarity(e,t)}check(e){const{commandList:t}=this.builder.settings;let i=0,n="";for(const[s,o]of Object.entries(t)){const t=this.calculate(e,o);t>i&&(i=t,n=s)}return i>=this.builder.similarityThreshold&&n}calculate(e,t){const i=e.toLowerCase();let n=0;for(const e of t){const t=ly.stringSimilarity(i,e);t>n&&(n=t)}return n}}class dy{constructor(e={}){let t,i,n={page:"",container:".container",row:"",cols:[],colequal:[],colsizes:[],imageQuality:.92,elementSelection:!0,paste:"text",snippetJSON:{snippets:[]},onPreviewOpen:()=>{let e=this.html();localStorage.setItem("preview-html",e)},previewStyle:"top:auto;bottom:50px;left:50px;right:auto;",livePreviewOpen:!1,livePreviewAlwaysReload:!1,livePreviewReloadEvery:30,scriptPath:"",plugins:[],pluginPath:"contentbuilder/",disableConfig:!1,modulePath:"assets/modules/",assetPath:"assets/",fontAssetPath:"assets/fonts/",snippetData:"assets/minimalist-blocks/snippetlist.html",snippetUrl:"assets/minimalist-blocks/content.js",snippetPath:"assets/minimalist-blocks/",snippetPathReplace:[],snippetCategories:[[120,"Basic"],[118,"Article"],[101,"Headline"],[119,"Buttons"],[102,"Photos"],[103,"Profile"],[116,"Contact"],[104,"Products, Services"],[105,"Features"],[108,"Skills"],[109,"Achievements"],[106,"Process"],[107,"Pricing"],[110,"Quotes"],[111,"Partners"],[112,"As Featured On"],[113,"Page Not Found"],[114,"Coming Soon"],[115,"Help, FAQ"]],defaultSnippetCategory:120,snippetHandle:!0,sidePanel:"right",snippetList:"#divSnippetList",onRender:function(){},onChange:function(){},largerImageHandler:"",imageHandler:"",fileHandler:"",mediaHandler:"",videoHandler:"",audioHandler:"",colors:["#ff8f00","#ef6c00","#d84315","#c62828","#58362f","#37474f","#353535","#f9a825","#9e9d24","#558b2f","#ad1457","#6a1b9a","#4527a0","#616161","#00b8c9","#009666","#2e7d32","#0277bd","#1565c0","#283593","#9e9e9e"],builderMode:"",rowTool:"right",rowcolOutline:!0,columnTool:!0,outlineMode:"",toolStyle:"",outlineStyle:"",snippetAddTool:!0,elementTool:!0,elementHighlight:!0,columnHtmlEditor:!0,rowHtmlEditor:!0,htmlSyntaxHighlighting:!0,snippetOpen:!1,toolbar:"top",toolbarDisplay:"auto",shortenHTML:!0,resizeHeight:!1,snippetsSidebarDisplay:"auto",imageEmbed:!0,imageselect:"",fileselect:"",imageSelect:"",fileSelect:"",videoSelect:"",audioSelect:"",mediaSelect:"",selectIcon:'<svg class="is-icon-flex" style="width:16px;height:16px;"><use xlink:href="#icon-folder"></use></svg>',otherSelect:"",otherSelectCaption:"Select Document",otherSelectIcon:'<svg class="is-icon-flex" style="width:16px;height:16px;"><use xlink:href="#icon-list-search"></use></svg>',imageSelectWidth:"88vw",imageSelectHeight:"88vh",fileSelectWidth:"88vw",fileSelectHeight:"88vh",videoSelectWidth:"88vw",videoSelectHeight:"88vh",audioSelectWidth:"88vw",audioSelectHeight:"88vh",mediaSelectWidth:"88vw",mediaSelectHeight:"88vh",otherSelectWidth:"88vw",otherSelectHeight:"88vh",imageSelectMaxWidth:"1600px",fileSelectMaxWidth:"1600px",videoSelectMaxWidth:"1600px",audioSelectMaxWidth:"1600px",mediaSelectMaxWidth:"1600px",otherSelectMaxWidth:"1600px",assetPanelFullScreen:!1,codeEditorWidth:"80vw",codeEditorHeight:"80vh",codeEditorMaxWidth:"1600px",blockCodeEditorWidth:"80vw",blockCodeEditorHeight:"45vh",blockCodeEditorMaxWidth:"960px",assetRefresh:!1,customTags:[],buttons:["bold","italic","underline","formatting","color","align","textsettings","createLink","tags","|","undo","redo","zoom","livepreview","more"],buttonsMore:["icon","image","|","list","font","formatPara","|","html","preferences"],elementButtons:["left","center","right","full","undo","redo","zoom","livepreview","more"],elementButtonsMore:["|","html","preferences"],iconButtons:["icon","color","textsettings","createLink","|","undo","redo","zoom","livepreview","more"],iconButtonsMore:["|","html","preferences"],lang:[],checkLang:!1,clearPreferences:!1,toolbarAddSnippetButton:!1,animateModal:!0,defaultFontSizes:[16,17,18,19,24,32,48,76,96,120,200,300],fontSizeClassValues:[12,14,15,16,17,18,19,21,24,28,32,35,38,42,46,48,50,54,60,64,68,72,76,80,84,88,92,96,100,104,108,112,116,120,124,128,132,136,140,144,148,152,156,160,164,168,172,176,180,184,188,192,196,200,204,208,212,216,220,224,228,232,236,240,244,248,252,256,260,264,268,272,276,280,284,288,292,296,300,304,308,312,316,320,324,328,332,336,340,344,348,352,356,360,364,368,372,376,380,384,388,392,396,400],gradientcolors:[["linear-gradient(0deg, rgb(255, 57, 25), rgb(249, 168, 37))"],["linear-gradient(0deg, rgb(255, 57, 25), rgb(255, 104, 15))"],["linear-gradient(0deg, #FF5722, #FF9800)"],["linear-gradient(0deg, #613ca2, rgb(110, 123, 217))"],["linear-gradient(0deg, rgb(65, 70, 206), rgb(236, 78, 130))"],["linear-gradient(0deg, rgb(0, 150, 102), rgb(90, 103, 197))"],["linear-gradient(30deg, rgb(249, 119, 148), rgb(98, 58, 162))"],["linear-gradient(0deg, rgb(223, 70, 137), rgb(90, 103, 197))"],["linear-gradient(0deg, rgb(40, 53, 147), rgb(90, 103, 197))"],["linear-gradient(0deg, rgb(21, 101, 192), rgb(52, 169, 239))"],["linear-gradient(0deg, rgb(32, 149, 219), rgb(139, 109, 230))"],["linear-gradient(0deg, rgb(90, 103, 197), rgb(0, 184, 201))"],["linear-gradient(0deg, rgb(0, 184, 201), rgb(253, 187, 45))"],["linear-gradient(0deg, rgb(255, 208, 100), rgb(239, 98, 159))"],["linear-gradient(0deg, rgb(0, 214, 223), rgb(130, 162, 253))"],["linear-gradient(0deg, rgb(50, 234, 251), rgb(248, 247, 126))"],["linear-gradient(0deg, rgb(141, 221, 255), rgb(255, 227, 255))"],["linear-gradient(0deg, rgb(255, 170, 170), rgb(255, 255, 200))"],["linear-gradient(0deg, rgb(239, 239, 239), rgb(252, 252, 252))"]],elementEditor:!0,customval:"",moduleConfig:[],elementAnimate:!1,framework:"",cellFormat:"",rowFormat:"",emailMode:!1,absolutePath:!1,emailSnippetCategories:[[1,"Logo"],[14,"Call to Action"],[2,"Title"],[3,"Title, Subtitle"],[4,"Info, Title"],[7,"Paragraph"],[6,"Heading"],[8,"Buttons"],[9,"Callouts"],[10,"Images + Caption"],[12,"Images"],[13,"List"],[15,"Pricing"],[16,"Quotes"],[17,"Profile"],[18,"Contact Info"],[19,"Footer"],[20,"Separator"]],defaultEmailSnippetCategory:14,undoRedoStyles:!1,maxEmbedImageWidth:1600,zoom:1,useLightbox:!1,lightboxArrow:!0,imageRenameOnEdit:!0,disableAutoEmbedVideo:!1,deleteConfirm:!1,sectionTemplate:'\n            <div class="is-section is-box is-section-100 type-opensans">\n                <div class="is-overlay"></div>\n                <div class="is-boxes">\n                    <div class="is-box-centered">\n                        <div class="is-container is-content-1100 v2 size-17 leading-13">\n                            [%CONTENT%]\n                        </div>\n                    </div>\n                </div>\n            </div>\n            ',colHeight:[300,350,400,450,500,550,600,650,700],maxColumns:6,leadingPreset:[1,1.2,1.4,1.6,1.8,2,2.2],cssClasses:{fontWeight:{thin:"font-thin",extralight:"font-extralight",light:"font-light",normal:"font-normal",medium:"font-medium",semibold:"font-semibold",bold:"font-bold",extrabold:"font-extrabold",black:"font-black",defaultBold:"font-semibold",defaultNormal:"font-light"},fontStyle:{italic:"italic",normal:"not-italic"},textDecoration:{underline:"underline",linethrough:"line-through",normal:"no-underline"},textTransform:{uppercase:"uppercase",lowercase:"lowercase",capitalize:"capitalize",normal:"normal-case"},tracking:{tracking__100:"tracking--100",tracking__075:"tracking--75",tracking__050:"tracking-tighter",tracking__025:"tracking-tight",tracking_000:"tracking-normal",tracking_025:"tracking-wide",tracking_050:"tracking-wider",tracking_075:"tracking-75",tracking_100:"tracking-widest",tracking_125:"tracking-125",tracking_150:"tracking-150",tracking_175:"tracking-175",tracking_200:"tracking-200",tracking_225:"tracking-225",tracking_250:"tracking-250",tracking_275:"tracking-275",tracking_300:"tracking-300",tracking_325:"tracking-325",tracking_350:"tracking-350",tracking_375:"tracking-375",tracking_400:"tracking-400",tracking_425:"tracking-425",tracking_450:"tracking-450",tracking_475:"tracking-475",tracking_500:"tracking-500"},leading:{leading_5:"leading-05",leading_6:"leading-06",leading_7:"leading-07",leading_8:"leading-08",leading_9:"leading-09",leading_10:"leading-none",leading_11:"leading-11",leading_12:"leading-12",leading_125:"leading-tight",leading_13:"leading-13",leading_1375:"leading-snug",leading_14:"leading-14",leading_15:"leading-normal",leading_16:"leading-16",leading_1625:"leading-relaxed",leading_17:"leading-17",leading_18:"leading-18",leading_19:"leading-19",leading_20:"leading-loose",leading_21:"leading-21",leading_22:"leading-22",leading_23:"leading-23",leading_24:"leading-24",leading_25:"leading-25",leading_26:"leading-26",leading_27:"leading-27",leading_28:"leading-28",leading_29:"leading-29",leading_30:"leading-30"},opacity:{opacity_0:"opacity-0",opacity_2:"opacity-2",opacity_4:"opacity-4",opacity_5:"opacity-5",opacity_6:"opacity-6",opacity_8:"opacity-8",opacity_10:"opacity-10",opacity_12:"opacity-12",opacity_15:"opacity-15",opacity_20:"opacity-20",opacity_25:"opacity-25",opacity_30:"opacity-30",opacity_35:"opacity-35",opacity_40:"opacity-40",opacity_45:"opacity-45",opacity_50:"opacity-50",opacity_55:"opacity-55",opacity_60:"opacity-60",opacity_65:"opacity-65",opacity_70:"opacity-70",opacity_75:"opacity-75",opacity_80:"opacity-80",opacity_85:"opacity-85",opacity_90:"opacity-90",opacity_95:"opacity-95",opacity_100:"opacity-100"},padding:{all:{p_0:"p-0",p_1:"p-1",p_2:"p-2",p_3:"p-3",p_4:"p-4",p_5:"p-5",p_6:"p-6",p_7:"p-7",p_8:"p-8",p_9:"p-9",p_10:"p-10",p_11:"p-11",p_12:"p-12",p_14:"p-14",p_16:"p-16",p_20:"p-20"},x:{px_0:"px-0",px_1:"px-1",px_2:"px-2",px_3:"px-3",px_4:"px-4",px_5:"px-5",px_6:"px-6",px_7:"px-7",px_8:"px-8",px_9:"px-9",px_10:"px-10",px_11:"px-11",px_12:"px-12",px_14:"px-14",px_16:"px-16",px_20:"px-20"},y:{py_0:"py-0",py_1:"py-1",py_2:"py-2",py_3:"py-3",py_4:"py-4",py_5:"py-5",py_6:"py-6",py_7:"py-7",py_8:"py-8",py_9:"py-9",py_10:"py-10",py_11:"py-11",py_12:"py-12",py_14:"py-14",py_16:"py-16",py_20:"py-20"},top:{pt_0:"pt-0",pt_1:"pt-1",pt_2:"pt-2",pt_3:"pt-3",pt_4:"pt-4",pt_5:"pt-5",pt_6:"pt-6",pt_7:"pt-7",pt_8:"pt-8",pt_9:"pt-9",pt_10:"pt-10",pt_11:"pt-11",pt_12:"pt-12",pt_14:"pt-14",pt_16:"pt-16",pt_20:"pt-20"},right:{pr_0:"pr-0",pr_1:"pr-1",pr_2:"pr-2",pr_3:"pr-3",pr_4:"pr-4",pr_5:"pr-5",pr_6:"pr-6",pr_7:"pr-7",pr_8:"pr-8",pr_9:"pr-9",pr_10:"pr-10",pr_11:"pr-11",pr_12:"pr-12",pr_14:"pr-14",pr_16:"pr-16",pr_20:"pr-20"},bottom:{pb_0:"pb-0",pb_1:"pb-1",pb_2:"pb-2",pb_3:"pb-3",pb_4:"pb-4",pb_5:"pb-5",pb_6:"pb-6",pb_7:"pb-7",pb_8:"pb-8",pb_9:"pb-9",pb_10:"pb-10",pb_11:"pb-11",pb_12:"pb-12",pb_14:"pb-14",pb_16:"pb-16",pb_20:"pb-20"},left:{pl_0:"pl-0",pl_1:"pl-1",pl_2:"pl-2",pl_3:"pl-3",pl_4:"pl-4",pl_5:"pl-5",pl_6:"pl-6",pl_7:"pl-7",pl_8:"pl-8",pl_9:"pl-9",pl_10:"pl-10",pl_11:"pl-11",pl_12:"pl-12",pl_14:"pl-14",pl_16:"pl-16",pl_20:"pl-20"}},extend:{superscript:"sup",subscript:"sub"},textAlign:{left:"text-left",center:"text-center",right:"text-right",justify:"text-justify"},display:{flex:"flex",block:"block",inline:"inline",inline_block:"inline-block"},flexDirection:{row:"flex-row",column:"flex-col",row_reverse:"flex-row-reverse",column_reverse:"flex-col-reverse"},flexWrap:{wrap:"flex-wrap",nowrap:"flex-nowrap",wrap_reverse:"flex-wrap-reverse"},justifyContent:{start:"justify-start",end:"justify-end",center:"justify-center",between:"justify-between",around:"justify-around",evenly:"justify-evenly"},alignItems:{start:"items-start",end:"items-end",center:"items-center",baseline:"items-baseline",stretch:"items-stretch"}},useCssClasses:!0,useButtonPlugin:!1,enableDragResize:!0,simpleTextSettings:!1,enableColumnsPerLine:!0,isContentBox:!1,sendCommandUrl:"http://localhost:8081/answer",onlineDemo:!1,autoSendDelay:4e3,autoEditBlock:!1,enableShortCommands:!0,speechRecognitionLang:"en-US",assistantMode:"general",triggerWords:{send:["send","okay","ok","execute","run"],abort:["abort","cancel"],clear:["clear","erase"]},temperature:.6,topP:.9,useMediaRecorder:!0,encoderPath:"",imageAutoUpscale:!0,headlineList:["We create simple and effective designs.","Ultimate Experiences With Story, Emotion, And Purpose.","Build Anything Beautifully","With Less Stuff and More Compassion","We're [CompanyName]. Full stack development with a spark of creativity.","Transforming your digital experience with [CompanyName]. Achieve your online goals with our customized solutions.","Revolutionizing web development with [CompanyName]. Unleash your digital potential with our high-performance solutions.","Creative and Inspiring"],shortCommandList:{undo:["undo"],redo:["undo"],increase:["increase","bigger","larger","enlarge"],decrease:["decrease","smaller"],bold:["bold"],italic:["italic"],underline:["underline"],strikethrough:["strikethrough"],superscript:["superscript"],subscript:["subscript"],uppercase:["uppercase"],lowercase:["lowercase"],capitalize:["capitalize"],clean:["clean"]},similarityThreshold:.65,commandList:{select:["select","select first"],select_next:["select next","select after"],select_previous:["select previous","select before"],select_last:["select last"],select_headline:["select headline"],select_paragraph:["select paragraph"],select_button:["select button"],select_space:["select space"],select_image:["select image"],change_font:["change font","change typography","change style"],fade_in:["fade in"],fade_in_slow:["fade in slow"],fade_in_up:["fade in up"],fade_in_up_slow:["fade in up slow"],slide_up:["slide up"],slide_up_slow:["slide up slow"],zoom_in:["zoom in"],zoom_out:["zoom out"],animate_once:["animate once"],always_animate:["always animate"],remove_animation:["remove animation","clear animation","remove fade in","clear fade in","remove slide up","clear slide up","remove zoom in","clear zoom in","remove zoom out","clear zoom out"],add_bg_color:["add background color"],add_bg_image:["add background image","add background"],change_bg_color:["change background color"],change_bg_image:["change background image","change background"],remove_bg_color:["remove background color","clear background color"],remove_bg:["remove background","remove background image","clear background","clear background image"],increase_content_width:["increase content width","enlarge content width"],decrease_content_width:["decrease content width","reduce content width"],clear_content_width:["clear content width","remove content width","make content full","full width content"],make_content_light:["make content white","make content light","make text white","make text light","change content white","change content light","change text white","change text light","change to white content","change to light content","change to white text","change to light text"],make_content_dark:["make content black","make content dark","make text black","make text dark","change content black","change content dark","change text black","change text dark","change to black content","change to dark content","change to black text","change to dark text"],make_section_height_10:["make section height 10"],make_section_height_15:["make section height 15"],make_section_height_20:["make section height 20"],make_section_height_25:["make section height 25"],make_section_height_30:["make section height 30"],make_section_height_40:["make section height 40"],make_section_height_50:["make section height 50"],make_section_height_60:["make section height 60"],make_section_height_70:["make section height 70"],make_section_height_75:["make section height 75"],make_section_height_80:["make section height 80"],make_section_height_85:["make section height 85"],make_section_height_90:["make section height 90"],make_section_height_100:["make section height 100"],make_section_height_auto:["make section height auto"],suggest_headline:["suggest headline","suggest header","suggest title","write headline","write header","write title"],suggest_tagline:["suggest tagline","write tagline"],add_headline:["add headline","add header","add title"],add_paragraph:["add paragraph"],add_image:["add image"],add_youtube:["add youtube"],add_video:["add video"],remove_video:["remove video","clear video"],add_bg_video:["add background video"],remove_bg_video:["remove background video","clear background video"],add_slider:["add slider"],remove_slider:["remove slider","clear slider"],add_bg_slider:["add background slider"],remove_bg_slider:["remove background slider","clear background slider"],add_audio:["add audio","add music","add mp3"],add_map:["add map","add google map"],add_table:["add table"],add_social:["add social"],add_icon:["add icon"],add_button:["add button"],add_2buttons:["add 2 button","add 2 buttons"],add_space:["add space"],position_before:["above","before"],increase_line_height:["increase line height","increase line spacing","increase text spacing","enlarge line height","enlarge line spacing","enlarge text spacing","bigger line height","bigger line spacing","bigger text spacing","make line height bigger","make line spacing bigger","make text spacing bigger"],increase_default_line_height:["increase default line height","increase default line spacing","increase default text spacing","enlarge default line height","enlarge default line spacing","enlarge default text spacing","bigger default line height","bigger default line spacing","bigger default text spacing","make default line height bigger","make default line spacing bigger","make default text spacing bigger"],decrease_line_height:["decrease line height","decrease line spacing","decrease text spacing","reduce line height","reduce line spacing","reduce text spacing","smaller line height","smaller line spacing","smaller text spacing","make line height smaller","make line spacing smaller","make text spacing smaller"],decrease_default_line_height:["decrease default line height","decrease default line spacing","decrease default text spacing","reduce default line height","reduce default line spacing","reduce default text spacing","smaller default line height","smaller default line spacing","smaller default text spacing","make default line height smaller","make default line spacing smaller","make default text spacing smaller"],increase_font_size:["increase font","increase size","increase font size","increase text","increase size","increase text size","enlarge font","enlarge size","enlarge font size","enlarge text","enlarge size","enlarge text size","text bigger","font bigger","size bigger"],decrease_font_size:["decrease font","decrease size","decrease font size","decrease text","decrease size","decrease text size","reduce font","reduce size","reduce font size","reduce text","reduce size","reduce text size","text smaller","font smaller","size smaller"],increase_default_font_size:["increase default font","increase default size","increase default font size","increase default text","increase default size","increase default text size","enlarge default font","enlarge default size","enlarge default font size","enlarge default text","enlarge default text size","default text bigger","default font bigger","default size bigger","increase default content","increase default content size","enlarge default content","enlarge default content size"],decrease_default_font_size:["decrease default font","decrease default size","decrease default font size","decrease default text","decrease default size","decrease default text size","reduce default font","reduce default size","reduce default font size","reduce default text","reduce default text size","default text smaller","default font smaller","default size smaller","decrease default content","decrease default content size","reduce default content","reduce default content size"],clear_font_size:["clear font size","remove font size","clear text size","remove text size","use default font size"],align_left:["align left","align text left","left aligned"],align_center:["align center","align text center","center aligned"],align_right:["align right","align text right","right aligned"],align_full:["align full","align justify","justify","justify text","justify full"],clear_alignment:["clear alignment","remove alignment","clear text alignment","remove text alignment"],make_content_centered:["make content center"],move_content_left:["move content left","place content left"],move_content_center:["move content center","place content center"],move_content_right:["move content right","place content right"],move_content_top:["move content top","place content top"],move_content_middle:["move content middle","place content middle"],move_content_bottom:["move content bottom","place content bottom"],increase_space:["more space","increase space","enlarge space"],decrease_space:["less space","decrease space","reduce space"],move_up:["move up"],move_down:["move down"],move_row_up:["move row up"],move_row_down:["move row down"],duplicate_row:["duplicate row","copy row"],remove_row:["remove row","delete row"],move_col_left:["move left","move column left"],move_col_right:["move right","move column right"],duplicate_col:["duplicate column","copy column"],remove_col:["remove column","delete column"],move_column_up:["move column up"],move_column_down:["move column down"],move_section_up:["move section up"],move_section_down:["move section down"],move_section_top:["move section top"],move_section_bottom:["move section bottom"],duplicate_section:["duplicate section","copy section"],remove_section:["remove section","delete section"],remove_content:["remove content","remove all text","remove all content","delete content","delete all text","delete all content","clear content","clear all text","clear all content"],add_content:["add content","add text"]},commandInfo:{general:{title:"General",list:["Let's redesign the layout to enhance its visual appeal and user experience.","Rewrite all the text to improve the overall copywriting quality.","Can you come up with another rendition of the content or offer an alternative wording?","Can you suggest a captivating headline for us?","Undo","Redo"]},selection:{title:"Selection",list:["Select the headline","Select the next block","Move up","Move down","Duplicate row","Remove row","Move column left","Move column right","Duplicate column","Remove column"]},element:{title:"Element",list:["Add a paragraph","Add an image","Add a youtube","Add a button","Add two buttons","Add a space","Increase the space","Reduce the space"]},text:{title:"Text Formatting",list:["Increase font size","Clear font size","Align center","Align right","Align justify","Clear alignment","Bold","Italic","Underline","Strikethrough","Uppercase","Clean"]}}};if(this.opts=Object.assign(this,n,e),window.data_basic&&(this.opts.snippetJSON=window.data_basic,""===this.opts.snippetPath&&(this.opts.snippetPath=window._snippets_path)),this.opts.snippetDisplay&&("auto"===this.opts.snippetDisplay?this.opts.snippetsSidebarDisplay="auto":this.opts.snippetsSidebarDisplay="always"),""===this.opts.scriptPath&&(this.opts.scriptPath=this.currentScriptPath()),window._txt&&(this.opts.lang=window._txt),this.settings=this.opts,""!==this.opts.imageSelect?this.opts.imageselect=this.opts.imageSelect:""!==this.opts.imageselect&&(this.opts.imageSelect=this.opts.imageselect),""!==this.opts.fileSelect?this.opts.fileselect=this.opts.fileSelect:""!==this.opts.fileselect&&(this.opts.fileSelect=this.opts.fileselect),""!==this.opts.videoSelect?this.opts.videoselect=this.opts.videoSelect:""!==this.opts.videoselect&&(this.opts.videoSelect=this.opts.videoselect),this.assetPanelFullScreen&&(this.imageSelectWidth="100vw",this.imageSelectHeight="100vh",this.fileSelectWidth="100vw",this.fileSelectHeight="100vh",this.videoSelectWidth="100vw",this.videoSelectHeight="100vh",this.audioSelectWidth="100vw",this.audioSelectHeight="100vh",this.mediaSelectWidth="100vw",this.mediaSelectHeight="100vh",this.otherSelectWidth="100vw",this.otherSelectHeight="100vh",this.imageSelectMaxWidth="100vw",this.fileSelectMaxWidth="100vw",this.videoSelectMaxWidth="100vw",this.audioSelectMaxWidth="100vw",this.mediaSelectMaxWidth="100vw",this.otherSelectMaxWidth="100vw"),this.opts.onImageUpload||this.opts.onLargerImageUpload||(this.opts.onImageUpload=this.opts.onMediaUpload),this.opts.imageHandler||this.opts.largerImageHandler||(this.opts.imageHandler=this.opts.mediaHandler),""!==this.opts.imageHandler&&(this.opts.largerImageHandler=this.opts.imageHandler),this.opts.onImageUpload&&(this.opts.onLargerImageUpload=this.opts.onImageUpload),this.opts.emailMode&&(this.useButtonPlugin=!0),!this.useButtonPlugin){let e=this.plugins.filter((e=>"buttoneditor"!==e.name));this.plugins=[...e]}if("bootstrap"===this.opts.framework?(this.opts.row="row",this.opts.cols=["col-md-1","col-md-2","col-md-3","col-md-4","col-md-5","col-md-6","col-md-7","col-md-8","col-md-9","col-md-10","col-md-11","col-md-12"],this.opts.colequal=[],this.opts.colsizes=[]):"tailwind"===this.opts.framework?(this.opts.row="flex flex-col md:flex-row",this.opts.cols=["w-full md:w-1/12 px-4","w-full md:w-2/12 px-4","w-full md:w-3/12 px-4","w-full md:w-4/12 px-4","w-full md:w-5/12 px-4","w-full md:w-6/12 px-4","w-full md:w-7/12 px-4","w-full md:w-8/12 px-4","w-full md:w-9/12 px-4","w-full md:w-10/12 px-4","w-full md:w-11/12 px-4","w-full px-4"],this.opts.colequal=[],this.opts.colsizes=[]):"foundation"===this.opts.framework?(this.opts.row="row",this.opts.cols=["large-1 columns","large-2 columns","large-3 columns","large-4 columns","large-5 columns","large-6 columns","large-7 columns","large-8 columns","large-9 columns","large-10 columns","large-11 columns","large-12 columns"],this.opts.colequal=[],this.opts.colsizes=[]):"material"===this.opts.framework?(this.opts.row="mdl-grid",this.opts.cols=["mdl-cell mdl-cell--1-col","mdl-cell mdl-cell--2-col","mdl-cell mdl-cell--3-col","mdl-cell mdl-cell--4-col","mdl-cell mdl-cell--5-col","mdl-cell mdl-cell--6-col","mdl-cell mdl-cell--7-col","mdl-cell mdl-cell--8-col","mdl-cell mdl-cell--9-col","mdl-cell mdl-cell--10-col","mdl-cell mdl-cell--11-col","mdl-cell mdl-cell--12-col"],this.opts.colequal=[],this.opts.colsizes=[]):"uikit"===this.opts.framework?(this.opts.row="",this.opts.cols=[],this.opts.colequal=[],this.opts.colsizes=[],this.opts.cellFormat='<div class="uk-width-1-1"></div>',this.opts.rowFormat='<div class="uk-grid"></div>'):""!==this.opts.row&&this.opts.cols.length>0||""===this.opts.cellFormat&&""===this.opts.rowFormat&&(this.useDefaultGrid=!0,this.opts.row="row",this.opts.cols=["column twelfth","column eleventh","column tenth","column ninth","column eighth","column seventh","column sixth","column fifth","column fourth","column third","column half","column two-third","column two-fourth","column two-fifth","column two-sixth","column"],this.opts.colequal=[["column twelfth","column twelfth","column twelfth","column twelfth","column twelfth","column twelfth","column twelfth","column twelfth","column twelfth","column twelfth","column twelfth","column twelfth"],["column eleventh","column eleventh","column eleventh","column eleventh","column eleventh","column eleventh","column eleventh","column eleventh","column eleventh","column eleventh","column eleventh"],["column tenth","column tenth","column tenth","column tenth","column tenth","column tenth","column tenth","column tenth","column tenth","column tenth"],["column ninth","column ninth","column ninth","column ninth","column ninth","column ninth","column ninth","column ninth","column ninth"],["column eighth","column eighth","column eighth","column eighth","column eighth","column eighth","column eighth","column eighth"],["column seventh","column seventh","column seventh","column seventh","column seventh","column seventh","column seventh"],["column sixth","column sixth","column sixth","column sixth","column sixth","column sixth"],["column fifth","column fifth","column fifth","column fifth","column fifth"],["column fourth","column fourth","column fourth","column fourth"],["column third","column third","column third"],["column half","column half"]],this.opts.colsizes=[[["column third","column third","column third"],["column half","column fourth","column fourth"]],[["column sixth","column two-sixth"],["column fifth","column two-fifth"],["column fourth","column two-fourth"],["column third","column two-third"],["column half","column half"],["column two-third","column third"],["column two-fourth","column fourth"],["column two-fifth","column fifth"],["column two-sixth","column sixth"]]]),this.sortableObjects=[],this.iframe){t=this.iframe.contentWindow;let e=this.iframe.contentDocument||this.iframe.contentWindow.document;i=e,this.iframeDocument=e}else t=window,i=document;this.win=t,this.doc=i,this.doc.body.classList.add("data-editor");const s=new si(this);this.dom=s;const o=new ni(this);this.util=o,this.pageTemplate||(this.pageTemplate=o.getPageTemplate(this.framework));const a=new iy(this);if(this.responsive=a,this.iframe){let e=i.querySelector(".content-stuff");e||(e=document.createElement("div"),e.className="content-stuff is-ui",e.id="_cbhtml",i.body.appendChild(e)),this.contentStuff=e,this.stuff=new ey(this)}this.isTouchSupport=o.isTouchSupport(),this.isIE=o.detectIE(),this.opts.clearPreferences&&o.clearPreferences(),this.uoTm=null,this.uo=new To(this),this.cbDom=s,this.autoclean=!1,this.filesAdded="",this.opts.emailMode&&this.applyStyle("emailmode",".is-builder > div {display: block}");let l=document.querySelector("#_cbhtml");var r;l||(l=this.dom.createElement("div"),l.id="_cbhtml",l.className="is-ui",this.dom.appendChild(document.body,l)),this.builderStuff=l,(r=this).dom.appendHtml(r.builderStuff,'<svg width="0" height="0" style="position:absolute;display:none;">\n        <defs>\n            <symbol viewBox="0 0 512 512" id="ion-ios-arrow-left"><path d="M352 115.4L331.3 96 160 256l171.3 160 20.7-19.3L201.5 256z"></path></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-ios-arrow-right"><path d="M160 115.4L180.7 96 352 256 180.7 416 160 396.7 310.5 256z"></path></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-ios-plus-outline"><path d="M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7S150.9 65.3 256 65.3 446.7 150.9 446.7 256 361.1 446.7 256 446.7z"></path><path d="M264.1 128h-16.8v119.9H128v16.8h119.3V384h16.8V264.7H384v-16.8H264.1z"></path></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-image"><path d="M368 224c26.5 0 48-21.5 48-48s-21.5-48-48-48-48 21.5-48 48 21.5 48 48 48z"></path><path d="M452 64H60c-15.6 0-28 12.7-28 28.3v327.4c0 15.6 12.4 28.3 28 28.3h392c15.6 0 28-12.7 28-28.3V92.3c0-15.6-12.4-28.3-28-28.3zM348.9 261.7c-3-3.5-7.6-6.2-12.8-6.2-5.1 0-8.7 2.4-12.8 5.7L304.6 277c-3.9 2.8-7 4.7-11.5 4.7-4.3 0-8.2-1.6-11-4.1-1-.9-2.8-2.6-4.3-4.1L224 215.3c-4-4.6-10-7.5-16.7-7.5-6.7 0-12.9 3.3-16.8 7.8L64 368.2V107.7c1-6.8 6.3-11.7 13.1-11.7h357.7c6.9 0 12.5 5.1 12.9 12l.3 260.4-99.1-106.7z"></path></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-ios-photos-outline"><path d="M96 128v320h384V128H96zm368 304H112V144h352v288z"></path><path d="M32 64v320h48v-16H48V80h352v32h16V64z"></path></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-ios-settings-strong"><path d="M32 376h283.35c6.186-14.112 20.281-24 36.65-24s30.465 9.888 36.65 24H480v32h-91.35c-6.186 14.112-20.281 24-36.65 24s-30.465-9.888-36.65-24H32M32 240h91.35c6.186-14.112 20.281-24 36.65-24s30.465 9.888 36.65 24H480v32H196.65c-6.186 14.112-20.281 24-36.65 24s-30.465-9.888-36.65-24H32M32 104h283.35c6.186-14.112 20.281-24 36.65-24s30.465 9.888 36.65 24H480v32h-91.35c-6.186 14.112-20.281 24-36.65 24s-30.465-9.888-36.65-24H32"></path></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-ios-settings"><path d="M352 104c8.837 0 16 7.163 16 16s-7.163 16-16 16-16-7.163-16-16 7.163-16 16-16m0-16c-17.645 0-32 14.355-32 32s14.355 32 32 32 32-14.355 32-32-14.355-32-32-32zM352 376c8.837 0 16 7.163 16 16s-7.163 16-16 16-16-7.163-16-16 7.163-16 16-16m0-16c-17.645 0-32 14.355-32 32s14.355 32 32 32 32-14.355 32-32-14.355-32-32-32zM160 240c8.837 0 16 7.163 16 16s-7.163 16-16 16-16-7.163-16-16 7.163-16 16-16m0-16c-17.645 0-32 14.355-32 32s14.355 32 32 32 32-14.355 32-32-14.355-32-32-32zM207.32 248H480v16H207.32c.439-2.604.68-5.273.68-8s-.24-5.396-.68-8zM112 256c0 2.727.24 5.396.68 8H32v-16h80.68a47.955 47.955 0 0 0-.68 8zM399.32 384H480v16h-80.68c.439-2.604.68-5.273.68-8s-.24-5.396-.68-8zM304 392c0 2.727.24 5.396.68 8H32v-16h272.68a47.955 47.955 0 0 0-.68 8zM399.32 112H480v16h-80.68c.439-2.604.68-5.273.68-8s-.24-5.396-.68-8zM304.68 112c-.439 2.604-.68 5.273-.68 8s.24 5.396.68 8H32v-16h272.68z"></path></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-android-options"><path d="M32 384h272v32H32zM400 384h80v32h-80zM384 447.5c0 17.949-14.327 32.5-32 32.5-17.673 0-32-14.551-32-32.5v-95c0-17.949 14.327-32.5 32-32.5 17.673 0 32 14.551 32 32.5v95z"></path><g><path d="M32 240h80v32H32zM208 240h272v32H208zM192 303.5c0 17.949-14.327 32.5-32 32.5-17.673 0-32-14.551-32-32.5v-95c0-17.949 14.327-32.5 32-32.5 17.673 0 32 14.551 32 32.5v95z"></path></g><g><path d="M32 96h272v32H32zM400 96h80v32h-80zM384 159.5c0 17.949-14.327 32.5-32 32.5-17.673 0-32-14.551-32-32.5v-95c0-17.949 14.327-32.5 32-32.5 17.673 0 32 14.551 32 32.5v95z"></path></g></symbol>\n            <symbol viewBox="0 0 2048.0 2048.0" id="icon-list-number"><rect x="0" y="0" width="2048.00" height="2048.00" fill="none" /><g transform="matrix(1,0,0,1,1024.0,1024.0)"><path d="M-1043.45,1024 C-1039.25,946.283 -1023.18,878.648 -995.249,821.096 C-967.313,763.544 -912.806,711.242 -831.728,664.192 L-710.742,594.247 C-656.55,562.74 -618.532,535.854 -596.687,513.589 C-562.24,478.722 -545.016,438.813 -545.016,393.863 C-545.016,341.352 -560.769,299.658 -592.276,268.781 C-623.783,237.904 -665.792,222.466 -718.304,222.466 C-796.02,222.466 -849.792,251.873 -879.619,310.685 C-895.582,342.192 -904.404,385.882 -906.084,441.754 L-1021.4,441.754 C-1020.14,363.197 -1005.65,299.133 -977.92,249.562 C-928.769,162.183 -842.02,118.494 -717.673,118.494 C-614.331,118.494 -538.82,146.43 -491.139,202.302 C-443.459,258.174 -419.619,320.347 -419.619,388.822 C-419.619,461.078 -445.034,522.831 -495.865,574.082 C-525.272,603.909 -577.993,640.037 -654.03,682.466 L-740.358,730.356 C-781.527,753.041 -813.874,774.676 -837.399,795.26 C-879.408,831.808 -905.874,872.347 -916.797,916.877 L-424.03,916.877 L-424.03,1024 L-1043.45,1024 Z "  /><path d="M-922.391,-764.384 L-922.391,-851.343 C-840.474,-859.324 -783.341,-872.662 -750.994,-891.356 C-718.647,-910.05 -694.492,-954.265 -678.529,-1024 L-589.049,-1024 L-589.049,-125.425 L-710.035,-125.425 L-710.035,-764.384 L-922.391,-764.384 Z "  /><path d="M-198.618,-510.942 L-198.618,-667.156 L1004.57,-667.156 L1004.57,-510.942 L-198.618,-510.942 Z "  /><path d="M-198.618,78.1071 L-198.618,-78.1071 L1004.57,-78.1071 L1004.57,78.1071 L-198.618,78.1071 Z "  /><path d="M-179.185,649.354 L-179.185,493.14 L1024,493.14 L1024,649.354 L-179.185,649.354 Z "  /></g></symbol>\n            <symbol viewBox="0 0 2048.0 2048.0" id="icon-list-bullet"><rect x="0" y="0" width="2048.00" height="2048.00" fill="none" /><g transform="matrix(1,0,0,1,1024.0,1024.0)"><path d="M-379.801,-514.33 L-379.801,-670.545 L914.662,-670.545 L914.662,-514.33 L-379.801,-514.33 Z "  /><path d="M-379.801,78.1071 L-379.801,-78.1071 L914.662,-78.1071 L914.662,78.1071 L-379.801,78.1071 Z "  /><path d="M-379.801,670.545 L-379.801,514.33 L914.662,514.33 L914.662,670.545 L-379.801,670.545 Z "  /><path d="M-929.642,-469.441 L-929.642,-715.434 L-669.092,-715.434 L-669.092,-469.441 L-929.642,-469.441 Z "  /><path d="M-929.642,127.109 L-929.642,-118.885 L-669.092,-118.885 L-669.092,127.109 L-929.642,127.109 Z "  /><path d="M-929.642,715.434 L-929.642,469.441 L-669.092,469.441 L-669.092,715.434 L-929.642,715.434 Z "  /></g></symbol>\n            <symbol viewBox="0 0 2048.0 2048.0" id="icon-clean">\n                <g transform="matrix(1,0,0,1,1024.0,1024.0)">\n                    <path d="M75.0013,893.849 L-1030.73,900.993 L-32.1518,-880.838 L1009.54,-880.838 L75.0013,893.849 Z " fill="currentColor" />\n                    <path d="M-30.8571,780.685 L-845.2,787.828 L-508.893,193.749 L305.26,194.963 L-30.8571,780.685 Z " fill="#ffffff" fill-opacity="1.00" />\n                </g>\n            </symbol>\n            <symbol viewBox="0 0 512 512" id="ion-location"><path d="M256 64c-65.9 0-119.3 53.7-119.3 120 0 114.6 119.3 264 119.3 264s119.3-149.4 119.3-264c0-66.3-53.4-120-119.3-120zm0 178.2c-31.2 0-56.4-25.4-56.4-56.7 0-31.3 25.3-56.8 56.4-56.8 31.2 0 56.4 25.4 56.4 56.8 0 31.3-25.2 56.7-56.4 56.7z"></path></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-ios-film-outline"><path d="M0 360h400v-336h-400v336zM72 40v48h-56v-48h56zM72 104v48h-56v-48h56zM72 168v48h-56v-48h56zM72 232v48h-56v-48h56zM72 296v48h-56v-48h56zM312 40v144h-224v-144h224zM312 200v144h-224v-144h224zM384 40v48h-56v-48h56zM384 104v48h-56v-48h56zM384 168v48h-56v-48\n                h56zM384 232v48h-56v-48h56zM384 296v48h-56v-48h56z"></path></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-social-youtube-outline"><path d="M265 96c65.3 0 118.7 1.1 168.1 3.3h1.4c23.1 0 42 22 42 49.1v1.1l.1 1.1c2.3 34 3.4 69.3 3.4 104.9.1 35.6-1.1 70.9-3.4 104.9l-.1 1.1v1.1c0 13.8-4.7 26.6-13.4 36.1-7.8 8.6-18 13.4-28.6 13.4h-1.6c-52.9 2.5-108.8 3.8-166.4 3.8h-10.6.1-10.9c-57.8 0-113.7-1.3-166.2-3.7h-1.6c-10.6 0-20.7-4.8-28.5-13.4-8.6-9.5-13.4-22.3-13.4-36.1v-1.1l-.1-1.1c-2.4-34.1-3.5-69.4-3.3-104.7v-.2c-.1-35.3 1-70.5 3.3-104.6l.1-1.1v-1.1c0-27.2 18.8-49.3 41.9-49.3h1.4c49.5-2.3 102.9-3.3 168.2-3.3H265m0-32.2h-18c-57.6 0-114.2.8-169.6 3.3-40.8 0-73.9 36.3-73.9 81.3C1 184.4-.1 220 0 255.7c-.1 35.7.9 71.3 3.4 107 0 45 33.1 81.6 73.9 81.6 54.8 2.6 110.7 3.8 167.8 3.8h21.6c57.1 0 113-1.2 167.9-3.8 40.9 0 74-36.6 74-81.6 2.4-35.7 3.5-71.4 3.4-107.1.1-35.7-1-71.3-3.4-107.1 0-45-33.1-81.1-74-81.1C379.2 64.8 322.7 64 265 64z"></path><path d="M207 353.8V157.4l145 98.2-145 98.2z"></path></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-ios-play"><path d="M128 96v320l256-160L128 96z"></path></symbol>\n            <symbol viewBox="0 0 2048.0 2048.0" id="icon-align-full"><rect x="0" y="0" width="2048.00" height="2048.00" fill="none" /><g transform="matrix(1,0,0,1,1024.0,1024.0)"><path d="M-770.727,738.299 L-770.727,582.085 L769.712,582.085 L769.712,738.299 L-770.727,738.299 Z " /><path d="M-770.727,-534.628 L-770.727,-690.842 L769.712,-690.842 L769.712,-534.628 L-770.727,-534.628 Z " /><path d="M-770.219,-115.563 L-770.219,-271.777 L770.219,-271.777 L770.219,-115.563 L-770.219,-115.563 Z " /><path d="M-770.219,303.503 L-770.219,147.288 L770.219,147.288 L770.219,303.503 L-770.219,303.503 Z " /></g></symbol>\n            <symbol viewBox="0 0 2048.0 2048.0" id="icon-align-center"><rect x="0" y="0" width="2048.00" height="2048.00" fill="none" /><g transform="matrix(1,0,0,1,1024.0,1024.0)"><path d="M-770.727,738.299 L-770.727,582.085 L769.712,582.085 L769.712,738.299 L-770.727,738.299 Z " /><path d="M-552.286,-107.697 L-552.286,-263.911 L552.286,-263.911 L552.286,-107.697 L-552.286,-107.697 Z " /><path d="M-467.355,319.234 L-467.355,163.02 L466.34,163.02 L466.34,319.234 L-467.355,319.234 Z " /><path d="M-770.727,-534.628 L-770.727,-690.842 L769.712,-690.842 L769.712,-534.628 L-770.727,-534.628 Z " /></g></symbol>\n            <symbol viewBox="0 0 2048.0 2048.0" id="icon-align-left"><rect x="0" y="0" width="2048.00" height="2048.00" fill="none" /><g transform="matrix(1,0,0,1,1024.0,1024.0)"><path d="M-770.727,738.299 L-770.727,582.085 L769.712,582.085 L769.712,738.299 L-770.727,738.299 Z " /><path d="M-770.727,-534.628 L-770.727,-690.842 L769.712,-690.842 L769.712,-534.628 L-770.727,-534.628 Z " /><path d="M-770.219,-115.563 L-770.219,-271.777 L482.839,-271.777 L482.839,-115.563 L-770.219,-115.563 Z " /><path d="M-770.219,303.503 L-770.219,147.288 L122.787,147.288 L122.787,303.503 L-770.219,303.503 Z " /></g></symbol>\n            <symbol viewBox="0 0 2048.0 2048.0" id="icon-align-right"><rect x="0" y="0" width="2048.00" height="2048.00" fill="none" /><g transform="matrix(1,0,0,1,1024.0,1024.0)"><path d="M-770.727,738.299 L-770.727,582.085 L769.712,582.085 L769.712,738.299 L-770.727,738.299 Z " /><path d="M-770.727,-534.628 L-770.727,-690.842 L769.712,-690.842 L769.712,-534.628 L-770.727,-534.628 Z " /><path d="M-483.346,-118.081 L-483.346,-274.295 L769.712,-274.295 L769.712,-118.081 L-483.346,-118.081 Z " /><path d="M-123.871,303.503 L-123.871,147.288 L769.136,147.288 L769.136,303.503 L-123.871,303.503 Z " /></g></symbol>\n            <symbol viewBox="0 0 2048.0 2048.0" id="icon-indent"><rect x="0" y="0" width="2048.00" height="2048.00" fill="none" /><g transform="matrix(1,0,0,1,1024.0,1024.0)"><path d="M-829.04,-514.33 L-829.04,-670.545 L808.959,-670.545 L808.959,-514.33 L-829.04,-514.33 Z " /><path d="M-829.04,670.545 L-829.04,514.33 L808.959,514.33 L808.959,670.545 L-829.04,670.545 Z " /><path d="M-254.279,-110.244 L-254.279,-266.458 L808.959,-266.458 L808.959,-110.244 L-254.279,-110.244 Z " /><path d="M-254.279,266.458 L-254.279,110.244 L808.959,110.244 L808.959,266.458 L-254.279,266.458 Z " /><path d="M-829.04,-195.117 L-490.958,-1.03508e-14 L-829.04,195.117 L-829.04,-195.117 Z " /></g></symbol>\n            <symbol viewBox="0 0 2048.0 2048.0" id="icon-outdent"><rect x="0" y="0" width="2048.00" height="2048.00" fill="none" /><g transform="matrix(1,0,0,1,1024.0,1024.0)"><path d="M-829.04,-514.33 L-829.04,-670.545 L808.959,-670.545 L808.959,-514.33 L-829.04,-514.33 Z " /><path d="M-829.04,670.545 L-829.04,514.33 L808.959,514.33 L808.959,670.545 L-829.04,670.545 Z " /><path d="M-829.04,-110.244 L-829.04,-266.458 L234.198,-266.458 L234.198,-110.244 L-829.04,-110.244 Z " /><path d="M-829.04,266.458 L-829.04,110.244 L234.198,110.244 L234.198,266.458 L-829.04,266.458 Z " /><path d="M808.959,-195.117 L470.877,-1.03508e-14 L808.959,195.117 L808.959,-195.117 Z " /></g></symbol>\n            <symbol viewBox="0 0 2048.0 2048.0" id="icon-table"><rect x="0" y="0" width="2048.00" height="2048.00" fill="none" /><g transform="matrix(1,0,0,1,1024.0,1024.0)"><path d="M-660.783,660.783 L660.783,660.783 L660.783,-660.783 L-660.783,-660.783 L-660.783,660.783 Z " fill="none" stroke-width="75.82" stroke="currentColor" stroke-linecap="square" stroke-linejoin="miter" /><path d="M-37.9645,698.933 L37.9645,698.933 L37.9645,-698.569 L-37.9645,-698.569 L-37.9645,698.933 Z " fill="currentColor" fill-opacity="1.00" stroke-width="0.25" stroke="currentColor" stroke-linecap="square" stroke-linejoin="miter" /><path d="M-698.933,-37.7825 L-698.933,38.1465 L698.569,38.1465 L698.569,-37.7825 L-698.933,-37.7825 Z " fill="currentColor" fill-opacity="1.00" stroke-width="0.25" stroke="currentColor" stroke-linecap="square" stroke-linejoin="miter" /></g></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-android-happy"><path d="M256 48C140.563 48 48 141.6 48 256s92.563 208 208 208 208-93.6 208-208S370.401 48 256 48zm0 374.4c-91.518 0-166.404-74.883-166.404-166.4 0-91.518 74.887-166.4 166.404-166.4S422.404 164.482 422.404 256 347.518 422.4 256 422.4zm72.8-187.2c17.683 0 31.201-13.518 31.201-31.2s-13.519-31.2-31.201-31.2c-17.682 0-31.2 13.518-31.2 31.2s13.518 31.2 31.2 31.2zm-145.6 0c17.682 0 31.2-13.518 31.2-31.2s-13.519-31.2-31.2-31.2c-17.683 0-31.201 13.518-31.201 31.2s13.519 31.2 31.201 31.2zM256 370.4c48.883 0 89.436-30.164 106.081-72.801H149.919C166.564 340.236 207.117 370.4 256 370.4z"></path></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-android-create"><path d="M64 368v80h80l235.727-235.729-79.999-79.998L64 368zm377.602-217.602c8.531-8.531 8.531-21.334 0-29.865l-50.135-50.135c-8.531-8.531-21.334-8.531-29.865 0l-39.468 39.469 79.999 79.998 39.469-39.467z"></path></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-ios-minus-empty"><path d="M384 265H128v-17h256v17z"></path></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-eye"><path d="M256 128c-81.9 0-145.7 48.8-224 128 67.4 67.7 124 128 224 128 99.9 0 173.4-76.4 224-126.6C428.2 198.6 354.8 128 256 128zm0 219.3c-49.4 0-89.6-41-89.6-91.3 0-50.4 40.2-91.3 89.6-91.3s89.6 41 89.6 91.3c0 50.4-40.2 91.3-89.6 91.3z"></path><path d="M256 224c0-7.9 2.9-15.1 7.6-20.7-2.5-.4-5-.6-7.6-.6-28.8 0-52.3 23.9-52.3 53.3s23.5 53.3 52.3 53.3 52.3-23.9 52.3-53.3c0-2.3-.2-4.6-.4-6.9-5.5 4.3-12.3 6.9-19.8 6.9-17.8 0-32.1-14.3-32.1-32z"></path></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-reply"><path d="M448 400s-36.8-208-224-208v-80L64 256l160 134.4v-92.3c101.6 0 171 8.9 224 101.9z"></path></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-ios-folder-outline">\n                <path d="M457 96H215c-2.791 0-4.271-.585-6.094-2.408l-22.501-22.501-.168-.162C181.365 66.333 177.361 64 169 64H57c-13.785 0-25 10.317-25 23v336c0 13.317 11.683 25 25 25h400c12.683 0 23-11.215 23-25V119c0-13.327-9.673-23-23-23zM57 80h112c3.497 0 3.737.189 6.175 2.488l22.417 22.418c4.84 4.84 10.372 7.094 17.408 7.094h242c4.448 0 7 2.552 7 7v42.376a23.885 23.885 0 0 0-8-1.376H56c-2.805 0-5.496.488-8 1.376V87c0-4.323 4.672-7 9-7zm407 343c0 4.328-2.677 9-7 9H57c-4.458 0-9-4.542-9-9V184c0-4.411 3.589-8 8-8h400c4.411 0 8 3.589 8 8v239z"/>\n            </symbol>\n            <symbol viewBox="0 0 512 512" id="ion-ios-cloud-outline">\n                <path d="M399.3 232.8c0-1.2.2-2.4.2-3.6 0-64.3-52.8-117.2-116.8-117.2-46.1 0-85.8 27.9-104.4 67-8.1-4.1-17.1-6.4-26.8-6.4-29.6 0-54.1 23.7-58.9 52C57.4 236.8 32 268.8 32 308.4c0 49.8 40.1 91.6 89.6 91.6H398c45 0 82-38.9 82-84.3 0-45.6-35.4-82.8-80.7-82.9zm-1.8 150.8l-3.2.4H122.4c-40.9 0-74.2-34.9-74.2-76.1 0-31.9 20.2-58.4 50.2-68.8l8.4-3 1.5-8.8c3.6-21.6 22.1-39.3 43.9-39.3 6.9 0 13.7 1.6 19.9 4.8l13.5 6.8 6.5-13.7c16.6-34.9 52.1-58.2 90.4-58.2 55.3 0 100.9 44.1 100.9 99.7 0 13.3-.2 20.3-.2 20.3l15.2.1c36.7.5 65.6 30.5 65.6 67.4 0 36.9-29.8 68.2-66.5 68.4z"/>\n            </symbol>\n            <symbol viewBox="0 0 512 512" id="ion-wrench"><path d="M461.9 114.9l-56.5 56.7-55.1-10-9.9-55.1 56.5-56.7c-12.7-12.7-30.8-18.5-44.2-17.8-13.5.7-42.3 8.3-64.6 32-21.6 22.8-44.3 65.3-24.2 112.5 2.4 5.7 5.1 13.2-2.9 21.2-8.1 8-215 202.8-215 202.8-19.4 16.7-18 47.6-.1 65.6 18.2 17.9 48.9 19 65.6-.3 0 0 193.2-205.8 202.7-215.1 8.5-8.3 16.1-5.5 21.2-2.9 35.6 18.4 86.3 2.4 112.6-23.9 26.3-26.3 31.1-51.7 31.9-64.7.8-12.9-3.7-30-18-44.3zM91.3 443.2c-6.3 6.2-16.5 6.2-22.7 0-6.2-6.3-6.2-16.5 0-22.7 6.3-6.2 16.5-6.2 22.7 0 6.2 6.3 6.2 16.5 0 22.7z"></path></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-more"><path d="M113.7 304C86.2 304 64 282.6 64 256c0-26.5 22.2-48 49.7-48 27.6 0 49.8 21.5 49.8 48 0 26.6-22.2 48-49.8 48zM256 304c-27.5 0-49.8-21.4-49.8-48 0-26.5 22.3-48 49.8-48 27.5 0 49.7 21.5 49.7 48 0 26.6-22.2 48-49.7 48zM398.2 304c-27.5 0-49.8-21.4-49.8-48 0-26.5 22.2-48 49.8-48 27.5 0 49.8 21.5 49.8 48 0 26.6-22.2 48-49.8 48z"></path></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-code-working"><circle cx="184.166" cy="256.166" r="24"></circle><circle cx="256.166" cy="256.166" r="24"></circle><circle cx="328.166" cy="256.166" r="24"></circle><g><path d="M168 392a23.929 23.929 0 0 1-16.971-7.029l-112-112c-9.373-9.373-9.373-24.569 0-33.941l112-112c9.373-9.372 24.568-9.372 33.941 0 9.371 9.372 9.371 24.568 0 33.941L89.941 256l95.029 95.029c9.371 9.372 9.371 24.568 0 33.941A23.925 23.925 0 0 1 168 392zM344 392a23.929 23.929 0 0 0 16.971-7.029l112-112c9.373-9.373 9.373-24.569 0-33.941l-112-112c-9.373-9.372-24.568-9.372-33.941 0-9.371 9.372-9.371 24.568 0 33.941L422.059 256l-95.029 95.029c-9.371 9.372-9.371 24.568 0 33.941A23.925 23.925 0 0 0 344 392z"></path></g></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-ios-gear"><path d="M416.349 256.046c-.001-21.013 13.143-38.948 31.651-46.062a196.302 196.302 0 0 0-23.664-57.139 49.423 49.423 0 0 1-20.082 4.254c-12.621 0-25.238-4.811-34.871-14.442-14.863-14.863-18.248-36.846-10.18-54.97A196.274 196.274 0 0 0 302.074 64C294.971 82.529 277.027 95.69 256 95.69c-21.025 0-38.969-13.161-46.073-31.69a196.243 196.243 0 0 0-57.128 23.688c8.068 18.122 4.683 40.104-10.181 54.97-9.631 9.631-22.25 14.443-34.871 14.443a49.429 49.429 0 0 1-20.083-4.255A196.273 196.273 0 0 0 64 209.984c18.509 7.112 31.652 25.049 31.652 46.062 0 21.008-13.132 38.936-31.63 46.054a196.318 196.318 0 0 0 23.692 57.128 49.428 49.428 0 0 1 20.032-4.232c12.622 0 25.239 4.812 34.871 14.443 14.841 14.841 18.239 36.781 10.215 54.889a196.257 196.257 0 0 0 57.13 23.673c7.128-18.479 25.046-31.596 46.038-31.596 20.992 0 38.91 13.115 46.037 31.596a196.234 196.234 0 0 0 57.132-23.675c-8.023-18.106-4.626-40.046 10.216-54.887 9.629-9.632 22.248-14.444 34.868-14.444 6.836 0 13.67 1.411 20.033 4.233a196.318 196.318 0 0 0 23.692-57.128c-18.498-7.119-31.629-25.048-31.629-46.054zM256.9 335.9c-44.3 0-80-35.9-80-80 0-44.101 35.7-80 80-80 44.299 0 80 35.899 80 80 0 44.1-35.701 80-80 80z"></path></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-arrow-expand"><path d="M274 209.7l63.9-63.8L288 96h128v128l-49.9-49.9-63.8 63.9zM274 302.3l63.9 63.8L288 416h128V288l-49.9 49.9-63.8-63.9zM238 302.3l-63.9 63.8L224 416H96V288l49.9 49.9 63.8-63.9zM238 209.7l-63.9-63.8L224 96H96v128l49.9-49.9 63.8 63.9z"></path></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-android-expand"><path d="M396.795 396.8H320V448h128V320h-51.205zM396.8 115.205V192H448V64H320v51.205zM115.205 115.2H192V64H64v128h51.205zM115.2 396.795V320H64v128h128v-51.205z"></path></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-arrow-move"><path d="M480 256l-96-96v76H276V128h76l-96-96-96 96h76v108H128v-76l-96 96 96 96v-76h108v108h-76l96 96 96-96h-76.2l-.4-108.5 108.6.3V352z"></path></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-drag"><path d="M0 144h512v32H0zM0 240h512v32H0zM0 336h512v32H0z"></path></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-link"><path d="M74.6 256c0-38.3 31.1-69.4 69.4-69.4h88V144h-88c-61.8 0-112 50.2-112 112s50.2 112 112 112h88v-42.6h-88c-38.3 0-69.4-31.1-69.4-69.4zm85.4 22h192v-44H160v44zm208-134h-88v42.6h88c38.3 0 69.4 31.1 69.4 69.4s-31.1 69.4-69.4 69.4h-88V368h88c61.8 0 112-50.2 112-112s-50.2-112-112-112z"/></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-contrast"><path d="M256 32C132.3 32 32 132.3 32 256s100.3 224 224 224 224-100.3 224-224S379.7 32 256 32zm135.8 359.8C355.5 428 307 448 256 448V64c51 0 99.5 20 135.8 56.2C428 156.5 448 204.7 448 256c0 51.3-20 99.5-56.2 135.8z"></path></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-ios-plus-empty"><path d="M384 265H264v119h-17V265H128v-17h119V128h17v120h120v17z"></path></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-ios-arrow-thin-up"><path d="M349.7 189.8c-3.1 3.1-8 3-11.3 0L264 123.4V408c0 4.4-3.6 8-8 8s-8-3.6-8-8V123.4l-74.4 66.3c-3.4 2.9-8.1 3.2-11.2.1-3.1-3.1-3.3-8.5-.1-11.4 0 0 87-79.2 88-80s2.8-2.4 5.7-2.4 4.9 1.6 5.7 2.4 88 80 88 80c1.5 1.5 2.3 3.6 2.3 5.7s-.8 4.1-2.3 5.7z"></path></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-ios-arrow-thin-down"><path d="M349.7 322.2c-3.1-3.1-8-3-11.3 0L264 388.6V104c0-4.4-3.6-8-8-8s-8 3.6-8 8v284.6l-74.4-66.3c-3.4-2.9-8.1-3.2-11.2-.1-3.1 3.1-3.3 8.5-.1 11.4 0 0 87 79.2 88 80s2.8 2.4 5.7 2.4 4.9-1.6 5.7-2.4 88-80 88-80c1.5-1.5 2.3-3.6 2.3-5.7s-.8-4.1-2.3-5.7z"></path></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-ios-arrow-thin-left"><path d="M189.8 349.7c3.1-3.1 3-8 0-11.3L123.4 264H408c4.4 0 8-3.6 8-8s-3.6-8-8-8H123.4l66.3-74.4c2.9-3.4 3.2-8.1.1-11.2-3.1-3.1-8.5-3.3-11.4-.1 0 0-79.2 87-80 88S96 253.1 96 256s1.6 4.9 2.4 5.7 80 88 80 88c1.5 1.5 3.6 2.3 5.7 2.3s4.1-.8 5.7-2.3z"></path></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-ios-arrow-thin-right"><path d="M322.2 349.7c-3.1-3.1-3-8 0-11.3l66.4-74.4H104c-4.4 0-8-3.6-8-8s3.6-8 8-8h284.6l-66.3-74.4c-2.9-3.4-3.2-8.1-.1-11.2 3.1-3.1 8.5-3.3 11.4-.1 0 0 79.2 87 80 88s2.4 2.8 2.4 5.7-1.6 4.9-2.4 5.7-80 88-80 88c-1.5 1.5-3.6 2.3-5.7 2.3s-4.1-.8-5.7-2.3z"></path></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-ios-close-empty"><path d="M340.2 160l-84.4 84.3-84-83.9-11.8 11.8 84 83.8-84 83.9 11.8 11.7 84-83.8 84.4 84.2 11.8-11.7-84.4-84.3 84.4-84.2z"></path></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-android-more-vertical"><path d="M296 136c0-22.002-17.998-40-40-40s-40 17.998-40 40 17.998 40 40 40 40-17.998 40-40zm0 240c0-22.002-17.998-40-40-40s-40 17.998-40 40 17.998 40 40 40 40-17.998 40-40zm0-120c0-22.002-17.998-40-40-40s-40 17.998-40 40 17.998 40 40 40 40-17.998 40-40z"></path></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-quote"><path d="M192 64c-40.646 0-72.483 11.229-94.627 33.373C75.229 119.517 64 151.354 64 192v256h160V192h-96c0-23.056 4.922-39.666 14.627-49.373C152.334 132.922 168.944 128 192 128M416 64c-40.646 0-72.483 11.229-94.627 33.373C299.229 119.517 288 151.354 288 192v256h160V192h-96c0-23.056 4.922-39.666 14.627-49.373C376.334 132.922 392.944 128 416 128"></path></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-code"><path d="M168 392a23.929 23.929 0 0 1-16.971-7.029l-112-112c-9.373-9.373-9.373-24.569 0-33.941l112-112c9.373-9.372 24.568-9.372 33.941 0 9.371 9.372 9.371 24.568 0 33.941L89.941 256l95.029 95.029c9.371 9.373 9.371 24.568 0 33.941A23.925 23.925 0 0 1 168 392zM344 392a23.929 23.929 0 0 0 16.971-7.029l112-112c9.373-9.373 9.373-24.569 0-33.941l-112-112c-9.373-9.372-24.568-9.372-33.941 0-9.371 9.372-9.371 24.568 0 33.941L422.059 256l-95.029 95.029c-9.371 9.373-9.371 24.568 0 33.941A23.925 23.925 0 0 0 344 392z"></path></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-camera"><path d="M430.4 147h-67.5l-40.4-40.8s-.2-.2-.3-.2l-.2-.2c-6-6-14.1-9.8-23.3-9.8h-84c-9.8 0-18.5 4.2-24.6 10.9v.1l-39.5 40h-69C63 147 48 161.6 48 180.2v202.1c0 18.6 15 33.7 33.6 33.7h348.8c18.5 0 33.6-15.1 33.6-33.7V180.2c0-18.6-15.1-33.2-33.6-33.2zM256 365.5c-50.9 0-92.4-41.6-92.4-92.6 0-51.1 41.5-92.6 92.4-92.6 51 0 92.4 41.5 92.4 92.6 0 51-41.4 92.6-92.4 92.6zm168.1-165c-7.7 0-14-6.3-14-14.1s6.3-14.1 14-14.1 14 6.3 14 14.1-6.3 14.1-14 14.1z"></path><path d="M256 202.9c-38.6 0-69.8 31.3-69.8 70 0 38.6 31.2 70 69.8 70 38.5 0 69.8-31.3 69.8-70s-31.3-70-69.8-70z"></path></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-move"><path d="M475.9 246.2l-79.4-79.4c-5.4-5.4-14.2-5.4-19.6 0l-.2.2c-5.4 5.4-5.4 14.2 0 19.6l54.9 54.9-161.8.5.5-161.8 54.9 54.9c5.4 5.4 14.2 5.4 19.6 0l.2-.2c5.4-5.4 5.4-14.2 0-19.6l-79.4-79.4c-5.4-5.4-14.2-5.4-19.6 0l-79.4 79.4c-5.4 5.4-5.4 14.2 0 19.6l.2.2c5.4 5.4 14.2 5.4 19.6 0l54.9-54.9.5 161.8-161.8-.5 54.9-54.9c5.4-5.4 5.4-14.2 0-19.6l-.2-.2c-5.4-5.4-14.2-5.4-19.6 0l-79.4 79.4c-5.4 5.4-5.4 14.2 0 19.6l79.4 79.4c5.4 5.4 14.2 5.4 19.6 0l.2-.2c5.4-5.4 5.4-14.2 0-19.6L80 270.5l161.8-.5-.5 161.8-54.9-54.9c-5.4-5.4-14.2-5.4-19.6 0l-.2.2c-5.4 5.4-5.4 14.2 0 19.6l79.4 79.4c5.4 5.4 14.2 5.4 19.6 0l79.4-79.4c5.4-5.4 5.4-14.2 0-19.6l-.2-.2c-5.4-5.4-14.2-5.4-19.6 0l-54.9 54.9-.5-161.8 161.8.5-54.9 54.9c-5.4 5.4-5.4 14.2 0 19.6l.2.2c5.4 5.4 14.2 5.4 19.6 0l79.4-79.4c5.5-5.4 5.5-14.2 0-19.6z"/></symbol>\n            <symbol viewBox="0 0 2048.0 2048.0" id="icon-ok">\n                <rect x="0" y="0" width="2048.00" height="2048.00" fill="none" />\n                <g transform="matrix(1,0,0,1,1024.0,1024.0)">\n                <path d="M330.323,493.628 L330.323,398.406 L-330.323,398.406 L-330.323,493.628 L330.323,493.628 Z " fill="currentColor" fill-opacity="1.00" />\n                <path d="M230.718,468.568 L328.59,468.568 L328.59,-599.718 L230.718,-599.718 L230.718,468.568 Z " fill="currentColor" fill-opacity="1.00" />\n                <path d="M-300.714,376.053 L-373.748,449.088 L-68.5805,754.255 L4.45387,681.221 L-300.714,376.053 Z " fill="currentColor" fill-opacity="1.00" />\n                <path d="M-9.9476e-14,216.241 L-73.0344,143.207 L-378.202,448.375 L-305.168,521.409 L-9.9476e-14,216.241 Z " fill="currentColor" fill-opacity="1.00" />\n                </g>\n            </symbol>\n            <symbol viewBox="0 0 512 512" id="ion-grid"><path d="M160 153.3c0 3.7-3 6.7-6.7 6.7h-50.5c-3.7 0-6.7-3-6.7-6.7v-50.5c0-3.7 3-6.7 6.7-6.7h50.5c3.7 0 6.7 3 6.7 6.7v50.5zM288 153.3c0 3.7-3 6.7-6.7 6.7h-50.5c-3.7 0-6.7-3-6.7-6.7v-50.5c0-3.7 3-6.7 6.7-6.7h50.5c3.7 0 6.7 3 6.7 6.7v50.5zM416 153.3c0 3.7-3 6.7-6.7 6.7h-50.5c-3.7 0-6.7-3-6.7-6.7v-50.5c0-3.7 3-6.7 6.7-6.7h50.5c3.7 0 6.7 3 6.7 6.7v50.5z"></path><g><path d="M160 281.3c0 3.7-3 6.7-6.7 6.7h-50.5c-3.7 0-6.7-3-6.7-6.7v-50.5c0-3.7 3-6.7 6.7-6.7h50.5c3.7 0 6.7 3 6.7 6.7v50.5zM288 281.3c0 3.7-3 6.7-6.7 6.7h-50.5c-3.7 0-6.7-3-6.7-6.7v-50.5c0-3.7 3-6.7 6.7-6.7h50.5c3.7 0 6.7 3 6.7 6.7v50.5zM416 281.3c0 3.7-3 6.7-6.7 6.7h-50.5c-3.7 0-6.7-3-6.7-6.7v-50.5c0-3.7 3-6.7 6.7-6.7h50.5c3.7 0 6.7 3 6.7 6.7v50.5z"></path></g><g><path d="M160 409.3c0 3.7-3 6.7-6.7 6.7h-50.5c-3.7 0-6.7-3-6.7-6.7v-50.5c0-3.7 3-6.7 6.7-6.7h50.5c3.7 0 6.7 3 6.7 6.7v50.5zM288 409.3c0 3.7-3 6.7-6.7 6.7h-50.5c-3.7 0-6.7-3-6.7-6.7v-50.5c0-3.7 3-6.7 6.7-6.7h50.5c3.7 0 6.7 3 6.7 6.7v50.5zM416 409.3c0 3.7-3 6.7-6.7 6.7h-50.5c-3.7 0-6.7-3-6.7-6.7v-50.5c0-3.7 3-6.7 6.7-6.7h50.5c3.7 0 6.7 3 6.7 6.7v50.5z"></path></g></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-gear-b"><path d="M448 294.4v-76.8h-42.8c-3.4-14.4-8.9-28-16.1-40.5l29.8-29.7-54.3-54.3-29.1 29.1c-12.6-7.7-26.4-13.5-41.1-17.3V64h-76.8v40.9c-14.7 3.8-28.5 9.7-41.1 17.3l-29.1-29.1-54.3 54.3 29.8 29.7c-7.2 12.5-12.6 26.1-16.1 40.5H64v76.8h44.1c3.8 13.7 9.5 26.6 16.7 38.6l-31.7 31.7 54.3 54.3 32.3-32.3c11.7 6.8 24.5 11.9 37.9 15.4v46h76.8v-46c13.5-3.5 26.2-8.6 37.9-15.4l32.3 32.3 54.3-54.3-31.6-31.7c7.2-11.9 12.9-24.8 16.7-38.6h44zm-192 15.4c-29.7 0-53.7-24.1-53.7-53.8s24-53.8 53.7-53.8 53.8 24.1 53.8 53.8-24.1 53.8-53.8 53.8z"></path></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-ios-grid-view-outline"><path d="M448 192v-16H336V64h-16v112H192V64h-16v112H64v16h112v128H64v16h112v112h16V336h128v112h16V336h112v-16H336V192h112zM320 320H192V192h128v128z"></path></symbol>\n            <symbol viewBox="0 0 2048.0 2048.0" id="icon-increase"><g transform="matrix(1,0,0,1,1024.0,1024.0)"><path d="M852.574,595.004 L852.574,507.837 L-852.574,507.837 L-852.574,595.004 L852.574,595.004 Z " /><path d="M852.574,224.232 L852.574,137.066 L-852.574,137.066 L-852.574,224.232 L852.574,224.232 Z " /><path d="M852.574,-134.971 L852.574,-222.138 L-852.574,-222.138 L-852.574,-134.971 L852.574,-134.971 Z " /><path d="M852.574,-505.743 L852.574,-592.909 L-852.574,-592.909 L-852.574,-505.743 L852.574,-505.743 Z " /></g></symbol>\n            <symbol viewBox="0 0 2048.0 2048.0" id="icon-decrease"><g transform="matrix(1,0,0,1,1024.0,1024.0)"><path d="M509.832,595.004 L509.832,507.837 L-509.832,507.837 L-509.832,595.004 L509.832,595.004 Z " /><path d="M509.832,224.232 L509.832,137.066 L-509.832,137.066 L-509.832,224.232 L509.832,224.232 Z " /><path d="M509.832,-136.947 L509.832,-224.113 L-509.832,-224.113 L-509.832,-136.947 L509.832,-136.947 Z " /><path d="M509.832,-505.743 L509.832,-592.909 L-509.832,-592.909 L-509.832,-505.743 L509.832,-505.743 Z " /></g></symbol>\n            <symbol viewBox="0 0 2048.0 2048.0" id="icon-strike">\n                <g transform="matrix(1,0,0,1,1024.0,1024.0)">\n                <path d="M298.298,-653.766 C292.151,-624.873 284.005,-605.663 273.862,-596.135 C263.719,-586.607 250.656,-581.842 234.673,-581.842 C220.535,-581.842 196.253,-589.526 161.828,-604.895 C87.4454,-637.475 17.0588,-653.766 -49.3321,-653.766 C-155.68,-653.766 -243.28,-621.339 -312.129,-556.485 C-380.979,-491.631 -415.404,-414.328 -415.404,-324.578 C-415.404,-272.94 -403.724,-225.606 -380.364,-182.575 C-357.005,-139.544 -322.733,-100.201 -277.551,-64.5467 C-232.368,-28.8923 -156.295,18.903 -49.3321,78.8392 C57.631,138.775 123.1,177.964 147.074,196.406 C182.729,223.455 209.008,252.654 225.913,284.005 C242.819,315.357 251.271,346.401 251.271,377.137 C251.271,432.463 228.987,480.412 184.419,520.984 C139.851,561.556 79.1465,581.842 2.30524,581.842 C-64.0856,581.842 -125.098,567.089 -180.731,537.582 C-236.364,508.075 -277.704,471.037 -304.753,426.469 C-331.801,381.901 -353.316,314.742 -369.299,224.991 L-403.417,224.991 L-403.417,653.766 L-369.299,653.766 C-364.996,624.873 -358.388,605.817 -349.474,596.596 C-340.561,587.375 -328.42,582.764 -313.051,582.764 C-297.068,582.764 -259.109,592.446 -199.173,611.81 C-139.236,631.174 -99.74,642.393 -80.6834,645.467 C-48.7174,651 -14.5998,653.766 21.6692,653.766 C137.239,653.766 231.753,619.495 305.214,550.952 C378.674,482.41 415.404,400.804 415.404,306.136 C415.404,256.343 403.878,208.701 380.826,163.211 C357.773,117.721 324.885,78.2244 282.161,44.7216 C239.438,11.2188 159.676,-36.8838 42.8774,-99.5863 C-100.355,-176.428 -191.027,-237.901 -229.141,-284.005 C-255.574,-315.357 -268.791,-350.089 -268.791,-388.202 C-268.791,-437.995 -247.89,-482.41 -206.088,-521.445 C-164.287,-560.48 -111.42,-579.998 -47.4879,-579.998 C9.06727,-579.998 63.7783,-565.552 116.645,-536.66 C169.512,-507.767 210.238,-468.732 238.823,-419.554 C267.408,-370.375 287.233,-304.292 298.298,-221.303 L332.415,-221.303 L332.415,-653.766 L298.298,-653.766 Z " fill="currentColor" fill-opacity="1.00" /><path d="M-530.954,-41.4477 L-530.954,41.4477 L530.954,41.4477 L530.954,-41.4477 L-530.954,-41.4477 Z " fill="currentColor" fill-opacity="1.00" /></g></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-ios-undo"><path d="M447.9 368.2c0-16.8 3.6-83.1-48.7-135.7-35.2-35.4-80.3-53.4-143.3-56.2V96L64 224l192 128v-79.8c40 1.1 62.4 9.1 86.7 20 30.9 13.8 55.3 44 75.8 76.6l19.2 31.2H448c0-10.1-.1-22.9-.1-31.8z"></path></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-ios-redo"><path d="M64 400h10.3l19.2-31.2c20.5-32.7 44.9-62.8 75.8-76.6 24.4-10.9 46.7-18.9 86.7-20V352l192-128L256 96v80.3c-63 2.8-108.1 20.7-143.3 56.2C60.4 285.2 64 351.5 64 368.2c.1 8.9 0 21.7 0 31.8z"></path></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-android-arrow-dropdown"><path d="M128 192l128 128 128-128z"></path></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-social-twitter"><path d="M492 109.5c-17.4 7.7-36 12.9-55.6 15.3 20-12 35.4-31 42.6-53.6-18.7 11.1-39.4 19.2-61.5 23.5C399.8 75.8 374.6 64 346.8 64c-53.5 0-96.8 43.4-96.8 96.9 0 7.6.8 15 2.5 22.1-80.5-4-151.9-42.6-199.6-101.3-8.3 14.3-13.1 31-13.1 48.7 0 33.6 17.2 63.3 43.2 80.7-16-.4-31-4.8-44-12.1v1.2c0 47 33.4 86.1 77.7 95-8.1 2.2-16.7 3.4-25.5 3.4-6.2 0-12.3-.6-18.2-1.8 12.3 38.5 48.1 66.5 90.5 67.3-33.1 26-74.9 41.5-120.3 41.5-7.8 0-15.5-.5-23.1-1.4C62.8 432 113.7 448 168.3 448 346.6 448 444 300.3 444 172.2c0-4.2-.1-8.4-.3-12.5C462.6 146 479 129 492 109.5z"></path></symbol>\n            <symbol viewBox="0 0 24 24" id="icon-zoom-in" stroke-width="1" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">\n                <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>\n                <circle cx="10" cy="10" r="7"></circle>\n                <line x1="7" y1="10" x2="13" y2="10"></line>\n                <line x1="10" y1="7" x2="10" y2="13"></line>\n                <line x1="21" y1="21" x2="15" y2="15"></line>\n            </symbol>\n            <symbol viewBox="0 0 512 512" id="ion-android-contract"><path d="M64 371.2h76.795V448H192V320H64v51.2zm76.795-230.4H64V192h128V64h-51.205v76.8zM320 448h51.2v-76.8H448V320H320v128zm51.2-307.2V64H320v128h128v-51.2h-76.8z"></path></symbol>\n            \n            <symbol viewBox="0 0 24 24" id="icon-lock-off" stroke-width="1" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">\n                <path stroke="none" d="M0 0h24v24H0z" fill="none"/>\n                <line x1="3" y1="3" x2="21" y2="21" />\n                <path d="M19 19a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2v-6a2 2 0 0 1 2 -2h4m4 0h2a2 2 0 0 1 2 2v2" />\n                <circle cx="12" cy="16" r="1" />\n                <path d="M8 11v-3m.712 -3.278a4 4 0 0 1 7.288 2.278v4" />\n            </symbol>\n            <symbol viewBox="0 0 24 24" id="icon-lock" stroke-width="1" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">\n                <path stroke="none" d="M0 0h24v24H0z" fill="none"/>\n                <rect x="5" y="11" width="14" height="10" rx="2" />\n                <circle cx="12" cy="16" r="1" />\n                <path d="M8 11v-4a4 4 0 0 1 8 0v4" />\n            </symbol>\n            <symbol viewBox="0 0 24 24" id="icon-code" stroke-width="1" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">\n                <path stroke="none" d="M0 0h24v24H0z"/>\n                <polyline points="7 8 3 12 7 16" />\n                <polyline points="17 8 21 12 17 16" />\n                <line x1="14" y1="4" x2="10" y2="20" />\n            </symbol>\n            <symbol viewBox="0 0 512 512" id="ion-ios-cloud-upload-outline">\n                <path d="M193.3 260.4l-11.6-11.6 74.5-74.3 74.5 74.3-11.7 11.6-54.6-54.6v241.8h-16.5V205.8z"/>\n                <path d="M399.3 183.6c0-1.2.2-2.4.2-3.6 0-64.3-52.8-116.4-116.8-116.4-46.1 0-85.8 27.1-104.4 66.3-8.1-4.1-17.1-6.4-26.8-6.4-29.6 0-54.1 23.6-58.9 52C57.4 187.6 32 222.2 32 261.8c0 49.7 40.1 90.2 89.6 90.2H213v-16h-90.6c-40.9 0-74.2-33.5-74.2-74.6 0-31.8 20.2-61.2 50.2-71.6l8.4-2.9 1.5-8.8c3.6-21.6 22.1-39.3 43.9-39.3 6.9 0 13.7 1.6 19.9 4.8l13.5 6.8 6.5-13.7c16.6-34.9 52.1-57.4 90.4-57.4 55.3 0 100.9 43.3 100.9 98.9 0 13.3-.2 20.3-.2 20.3l15.2.1c36.6.5 65.6 33.4 65.6 70.3 0 36.8-29.8 66.9-66.5 67.1H297v16h101c45 0 82-37.3 82-82.8s-35.5-85.5-80.7-85.6z"/>\n            </symbol>\n            <symbol viewBox="0 0 512 512" id="ion-volume-medium">\n                <path d="M270 407.7V104.4L175.3 192H71v128h104.3zm56.3-52.1c20.5-27.8 32.8-62.3 32.8-99.6 0-37.4-12.3-71.8-32.8-99.6l-20.4 15.3c17.4 23.6 27.8 52.7 27.8 84.3 0 31.6-10.4 60.7-27.8 84.3l20.4 15.3zm66.5 46c30-40.7 48-91 48-145.6s-18-104.9-48-145.6l-20.4 15.3c26.9 36.4 43 81.4 43 130.3 0 48.9-16.1 93.8-43 130.3l20.4 15.3z"/>\n            </symbol>\n\n            <symbol id="icon-list-search" viewBox="0 0 24 24" stroke-width="1" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">\n                <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>\n                <path d="M15 15m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0"></path>\n                <path d="M18.5 18.5l2.5 2.5"></path>\n                <path d="M4 6h16"></path>\n                <path d="M4 12h4"></path>\n                <path d="M4 18h4"></path>\n            </symbol>\n            <symbol id="icon-folder-media" viewBox="0 0 24 24" stroke-width="1" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">\n                <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>\n                <path d="M5 4h4l3 3h7a2 2 0 0 1 2 2v8a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-11a2 2 0 0 1 2 -2"></path>\n\n                <path d="M12 20h-5a3 3 0 0 1 -3 -3v-10a3 3 0 0 1 3 -3h10a3 3 0 0 1 3 3v5"></path>\n                <path d="M4 15l4 -4c.928 -.893 2.072 -.893 3 0l4 4"></path>\n                <path d="M14 14l1 -1c.617 -.593 1.328 -.793 2.009 -.598"></path>\n            </symbol>\n\n            <symbol id="icon-reload" viewBox="0 0 24 24" stroke-width="1" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">\n                <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>\n                <path d="M19.933 13.041a8 8 0 1 1 -9.925 -8.788c3.899 -1.002 7.935 1.007 9.425 4.747"></path>\n                <path d="M20 4v5h-5"></path>\n            </symbol>\n            <symbol id="icon-devices" viewBox="0 0 24 24" stroke-width="1" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">\n                <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>\n                <rect x="13" y="8" width="8" height="12" rx="1"></rect>\n                <path d="M18 8v-3a1 1 0 0 0 -1 -1h-13a1 1 0 0 0 -1 1v12a1 1 0 0 0 1 1h9"></path>\n                <line x1="16" y1="9" x2="18" y2="9"></line>\n            </symbol>  \n            <symbol id="icon-device-desktop" viewBox="0 0 24 24" stroke-width="1" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">\n                <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>\n                <rect x="3" y="4" width="18" height="12" rx="1"></rect>\n                <line x1="7" y1="20" x2="17" y2="20"></line>\n                <line x1="9" y1="16" x2="9" y2="20"></line>\n                <line x1="15" y1="16" x2="15" y2="20"></line>\n            </symbol>\n            <symbol id="icon-device-mobile" viewBox="0 0 24 24" stroke-width="1" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">\n                <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>\n                <rect x="6" y="3" width="12" height="18" rx="2"></rect>\n                <line x1="11" y1="4" x2="13" y2="4"></line>\n                <line x1="12" y1="17" x2="12" y2="17.01"></line>\n            </symbol>\n            <symbol id="icon-device-laptop" viewBox="0 0 24 24" stroke-width="1" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">\n                <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>\n                <line x1="3" y1="19" x2="21" y2="19"></line>\n                <rect x="5" y="6" width="14" height="10" rx="1"></rect>\n            </symbol>\n            <symbol id="icon-device-tablet" viewBox="0 0 24 24" stroke-width="1" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">\n                <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>\n                <rect x="5" y="3" width="14" height="18" rx="1"></rect>\n                <circle cx="12" cy="17" r="1"></circle>\n            </symbol>\n\n            <symbol id="icon-eye" viewBox="0 0 24 24" stroke-width="1" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">\n                <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>\n                <path d="M12 12m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0m13 0c-2.667 4.667 -6 7 -10 7s-7.333 -2.333 -10 -7c2.667 -4.667 6 -7 10 -7s7.333 2.333 10 7"></path>\n            </symbol>\n            <symbol id="icon-eye-off" viewBox="0 0 24 24" stroke-width="1" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">\n                <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>\n                <path d="M9.88 9.878a3 3 0 1 0 4.243 4.242m.581 -3.42a3.012 3.012 0 0 0 -1.45 -1.426m-3.877 -3.913a9.469 9.469 0 0 1 2.623 -.361c4 0 7.333 2.333 10 7c-.778 1.362 -1.613 2.524 -2.504 3.489m-2.138 1.859c-1.629 1.101 -3.415 1.652 -5.358 1.652c-4 0 -7.333 -2.333 -10 -7c1.374 -2.404 2.924 -4.189 4.652 -5.354m-3.652 -3.646l18 18"></path>\n            </symbol>\n\n            <symbol id="icon-download" viewBox="0 0 24 24" stroke-width="1" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">\n                <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>\n                <path d="M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2"></path>\n                <path d="M7 11l5 5l5 -5"></path>\n                <path d="M12 4l0 12"></path>\n            </symbol>\n\n            <symbol id="icon-message-search" viewBox="0 0 24 24" stroke-width="1" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">\n                <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>\n                <path d="M8 9h8"></path>\n                <path d="M8 13h5"></path>\n                <path d="M12 21l-.5 -.5l-2.5 -2.5h-3a3 3 0 0 1 -3 -3v-8a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v4.5"></path>\n                <path d="M18 18m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0"></path>\n                <path d="M20.2 20.2l1.8 1.8"></path>\n            </symbol>\n\n            <symbol id="icon-folder-old" viewBox="0 0 24 24" stroke-width="1" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">\n                <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>\n                <path d="M5 4h4l3 3h7a2 2 0 0 1 2 2v8a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-11a2 2 0 0 1 2 -2"></path>\n            </symbol>\n            <symbol id="icon-folder" viewBox="0 0 24 24" stroke-width="1" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">\n                <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>\n                <path d="M11 19h-6a2 2 0 0 1 -2 -2v-11a2 2 0 0 1 2 -2h4l3 3h7a2 2 0 0 1 2 2v2.5"></path>\n                <path d="M18 18m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0"></path>\n                <path d="M20.2 20.2l1.8 1.8"></path>\n            </symbol>\n            <symbol id="icon-folder2" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">\n                <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>\n                <path d="M11 19h-6a2 2 0 0 1 -2 -2v-11a2 2 0 0 1 2 -2h4l3 3h7a2 2 0 0 1 2 2v2.5"></path>\n                <path d="M18 18m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0"></path>\n                <path d="M20.2 20.2l1.8 1.8"></path>\n            </symbol>\n            <symbol id="icon-message" viewBox="0 0 24 24" stroke-width="1" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">\n                <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>\n                <path d="M8 9h8"></path>\n                <path d="M8 13h6"></path>\n                <path d="M18 4a3 3 0 0 1 3 3v8a3 3 0 0 1 -3 3h-5l-5 3v-3h-2a3 3 0 0 1 -3 -3v-8a3 3 0 0 1 3 -3h12z"></path>\n            </symbol>\n            \n            </defs>\n        </svg>'),this.preferences=new Hv(this),(e=>{const t=e.util,i=e.builderStuff,n=new Ro(e),s=new qo(e),o=e.dom;let a="";e.opts.rowHtmlEditor&&(a=`<button tabindex="-1" title="${t.out("HTML")}" class="row-html">\n            <svg class="is-icon-flex" style="margin-right:-3px;width:12px;height:12px;"><use xlink:href="#ion-ios-arrow-left"></use></svg><svg class="is-icon-flex" style="margin-left:-2px;width:12px;height:12px;"><use xlink:href="#ion-ios-arrow-right"></use></svg>\n        </button>`);let l="";e.opts.columnHtmlEditor&&(l=`<button tabindex="-1" title="${t.out("HTML")}" class="cell-html">\n            <svg class="is-icon-flex" style="margin-right:-3px;width:12px;height:12px;"><use xlink:href="#ion-ios-arrow-left"></use></svg><svg class="is-icon-flex" style="margin-left:-2px;width:12px;height:12px;"><use xlink:href="#ion-ios-arrow-right"></use></svg>\n        </button>`);const r=`<div class="is-modal is-modal-content grideditor" tabindex="-1" role="dialog" aria-modal="true" aria-hidden="true">\n        <div class="is-modal-bar is-draggable">\n            <button class="is-modal-close" tabindex="-1" title="${t.out("Close")}">&#10005;</button>\n        </div>\n        <div style="padding:13px 0 5px 18px;font-size:10px;text-transform:uppercase;letter-spacing:1px;">${t.out("Row")}</div>\n        <div style="display:flex;flex-flow:wrap;">\n            <button tabindex="-1" title="${t.out("Add")}" class="row-add"><svg class="is-icon-flex" style="width:19px;height:19px;"><use xlink:href="#ion-ios-plus-empty"></use></svg></button>\n            <button tabindex="-1" title="${t.out("Duplicate")}" class="row-duplicate" style="display: block;"><svg class="is-icon-flex" style="width:12px;height:12px;"><use xlink:href="#ion-ios-photos-outline"></use></svg></button>\n            <button tabindex="-1" title="${t.out("Move Up")}" class="row-up" style="display: block;"><svg class="is-icon-flex" style="width:15px;height:15px;"><use xlink:href="#ion-ios-arrow-thin-up"></use></svg></button>\n            <button tabindex="-1" title="${t.out("Move Down")}" class="row-down" style="display: block;"><svg class="is-icon-flex" style="width:15px;height:15px;"><use xlink:href="#ion-ios-arrow-thin-down"></use></svg></button>\n            ${a}\n            <button tabindex="-1" title="${t.out("Delete")}" class="row-remove"><svg class="is-icon-flex" style="width:20px;height:20px;"><use xlink:href="#ion-ios-close-empty"></use></svg></button>\n        </div>\n        <div style="padding:8px 0 5px 18px;font-size:11px;text-transform:uppercase;letter-spacing:1px;">${t.out("Column")}</div>\n        <div style="display:flex;flex-flow:wrap;">\n            <button tabindex="-1" title="${t.out("Add")}" class="cell-add"><svg class="is-icon-flex" style="width:19px;height:19px;"><use xlink:href="#ion-ios-plus-empty"></use></svg></button>\n            <button tabindex="-1" title="${t.out("Duplicate")}" class="cell-duplicate"><svg class="is-icon-flex" style="width:12px;height:12px;"><use xlink:href="#ion-ios-photos-outline"></use></svg></button>\n            <button tabindex="-1" title="${t.out("Move Up")}" class="cell-up"><svg class="is-icon-flex" style="width:15px;height:15px;"><use xlink:href="#ion-ios-arrow-thin-up"></use></svg></button>\n            <button tabindex="-1" title="${t.out("Move Down")}" class="cell-down"><svg class="is-icon-flex" style="width:15px;height:15px;"><use xlink:href="#ion-ios-arrow-thin-down"></use></svg></button>\n            <button tabindex="-1" title="${t.out("Move Left")}" class="cell-prev"><svg class="is-icon-flex" style="width:15px;height:15px;"><use xlink:href="#ion-ios-arrow-thin-left"></use></svg></button>\n            <button tabindex="-1" title="${t.out("Move Right")}" class="cell-next"><svg class="is-icon-flex" style="width:15px;height:15px;"><use xlink:href="#ion-ios-arrow-thin-right"></use></svg></button>\n            <button tabindex="-1" title="${t.out("Increase")}" class="cell-increase"><svg class="is-icon-flex" style="width:13px;height:13px;"><use xlink:href="#icon-increase"></use></svg></button>\n            <button tabindex="-1" title="${t.out("Decrease")}" class="cell-decrease"><svg class="is-icon-flex" style="width:13px;height:13px;"><use xlink:href="#icon-decrease"></use></svg></button>\n            ${l}\n            <button tabindex="-1" title="${t.out("Delete")}" class="cell-remove"><svg class="is-icon-flex" style="width:20px;height:20px;"><use xlink:href="#ion-ios-close-empty"></use></svg></button>\n            <button tabindex="-1" title="${t.out("Lock")}" class="cell-locking"><svg class="is-icon-flex" style="width:12px;height:12px;"><use xlink:href="#icon-lock"></use></svg></button>\n            <button tabindex="-1" title="${t.out("Column Settings")}" class="cell-settings"><svg class="is-icon-flex" style="width:12px;height:12px;"><use xlink:href="#ion-ios-gear"></use></svg></button>\n               \n            <div class="is-separator">\n                <button tabindex="-1" title="${t.out("Outline")}" class="grid-outline"><svg class="is-icon-flex" style="width:12px;height:12px;"><use xlink:href="#ion-ios-grid-view-outline"></use></svg></button>\n                \x3c!--<button tabindex="-1" title="${t.out("Element Tool")}" class="cell-elmtool"><svg class="is-icon-flex" style="width:12px;height:12px;"><use xlink:href="#ion-ios-gear"></use></svg></button>--\x3e\n            </div>\n        </div>\n    </div>`;o.appendHtml(i,r),new Uo({selector:".is-draggable"});const d=document.querySelector(".grideditor");document.addEventListener("click",(e=>{var t=(e=e||window.event).target||e.srcElement;if(o.hasClass(d,"active")){let e=o.parentsHasClass(t,"is-builder"),i=o.parentsHasClass(t,"grideditor"),n=o.parentsHasClass(t,"is-modal"),s=o.parentsHasClass(t,"is-pop"),a=o.parentsHasClass(t,"rte-grideditor")||o.hasClass(t,"rte-grideditor");if(e||i||n||s||a)return void(d.style.display="");d.style.display="none"}}),!1);let c=d.querySelector(".is-modal-close");o.addEventListener(c,"click",(()=>{o.removeClass(d,"active");const t=e.doc.querySelectorAll(e.opts.container);Array.prototype.forEach.call(t,(e=>{e.removeAttribute("grideditor")}))}));const u=d.querySelector(".grid-outline");o.addEventListener(u,"click",(()=>{const t=e.doc.querySelectorAll(e.opts.container);Array.prototype.forEach.call(t,(e=>{e.hasAttribute("gridoutline")?(e.removeAttribute("gridoutline"),o.removeClass(u,"on")):(e.setAttribute("gridoutline",""),o.addClass(u,"on"))}))}));const p=Oo(e),h=d.querySelector(".cell-add");o.addEventListener(h,"click",(()=>{p.querySelector(".is-pop-tabs").style.display="flex";const e=h.getBoundingClientRect().top+window.pageYOffset,i=h.getBoundingClientRect().left+window.pageXOffset;t.showPop(p,!1,h);const n=p.offsetWidth;p.style.top=e+"px",p.style.left=i-n-8+"px",o.removeClass(p,"arrow-bottom"),o.removeClass(p,"arrow-left"),o.removeClass(p,"arrow-top"),o.removeClass(p,"center"),o.removeClass(p,"left"),o.addClass(p,"arrow-right"),o.addClass(p,"right"),"left"===p.querySelector(".active").getAttribute("data-value")?p.setAttribute("data-mode","cell-left"):p.setAttribute("data-mode","cell-right")})),c=d.querySelector(".cell-prev"),o.addEventListener(c,"click",(()=>{n.moveColumnPrevious(),t.clearControls()})),c=d.querySelector(".cell-next"),o.addEventListener(c,"click",(()=>{n.moveColumnNext(),t.clearControls()})),c=d.querySelector(".cell-increase"),o.addEventListener(c,"click",(()=>{n.increaseColumn(),t.clearControls()})),c=d.querySelector(".cell-decrease"),o.addEventListener(c,"click",(()=>{n.decreaseColumn(),t.clearControls()})),c=d.querySelector(".cell-up"),o.addEventListener(c,"click",(()=>{n.moveColumnUp(),t.clearControls()})),c=d.querySelector(".cell-down"),o.addEventListener(c,"click",(()=>{n.moveColumnDown(),t.clearControls()})),c=d.querySelector(".cell-duplicate"),o.addEventListener(c,"click",(()=>{n.duplicateColumn(),t.clearControls()})),c=d.querySelector(".cell-remove"),o.addEventListener(c,"click",(()=>{n.removeColumn(),t.clearControls()}));const m=d.querySelector(".cell-html");m&&o.addEventListener(m,"click",(()=>{t.cellSelected()&&s.view("cell",!1,m)}));const g=d.querySelector(".cell-settings");g&&o.addEventListener(g,"click",(()=>{const i=t.cellSelected();if(!i)return;e.colTool.readCellStyles(i),t.saveSelection();const n=document.querySelector(".is-modal.columnsettings");t.showModal(n,!1,(()=>{"flex"===e.builderStuff.querySelector(".is-rte-tool").style.display&&(t.restoreSelection(),g.removeAttribute("data-focus"),g.focus())})),g.setAttribute("data-focus",!0)}));const b=d.querySelector(".cell-locking");b&&o.addEventListener(b,"click",(i=>{let n=t.cellSelected();n&&(n.hasAttribute("data-noedit")?(n.removeAttribute("data-noedit"),n.contentEditable=!0,o.removeClass(b,"on")):(n.setAttribute("data-noedit",""),n.contentEditable=!1,o.addClass(b,"on"),t.clearActiveElement(!0)),e.colTool.showHideLockIndicator(n),e.element.applyBehavior(n),i.preventDefault())}));const f=d.querySelector(".row-add");o.addEventListener(f,"click",(()=>{p.querySelector(".is-pop-tabs").style.display="none";const e=f.getBoundingClientRect().top+window.pageYOffset,i=f.getBoundingClientRect().left+window.pageXOffset;t.showPop(p,!1,f);const n=p.offsetWidth;p.style.top=e+"px",p.style.left=i-n-8+"px",o.removeClass(p,"arrow-bottom"),o.removeClass(p,"arrow-left"),o.removeClass(p,"arrow-top"),o.removeClass(p,"center"),o.removeClass(p,"left"),o.addClass(p,"arrow-right"),o.addClass(p,"right"),p.setAttribute("data-mode","row")})),c=d.querySelector(".row-up"),o.addEventListener(c,"click",(()=>{n.moveRowUp(),t.clearControls()})),c=d.querySelector(".row-down"),o.addEventListener(c,"click",(()=>{n.moveRowDown(),t.clearControls()})),c=d.querySelector(".row-duplicate"),o.addEventListener(c,"click",(()=>{n.duplicateRow(),t.clearControls()})),c=d.querySelector(".row-remove"),o.addEventListener(c,"click",(()=>{n.removeRow(),t.clearControls()}));const v=d.querySelector(".row-html");v&&o.addEventListener(v,"click",(()=>{t.cellSelected()&&s.view("row",!1,v)}))})(this),this.preview=!1;const d=this.doc.querySelectorAll(this.opts.container);Array.prototype.forEach.call(d,(e=>{this.dom.hasClass(e,"preview")&&(this.preview=!0)})),this.preview||this.opts.snippetJSON.snippets.length>0&&Gl(this),this.colTool=new lv(this),this._rowTool=new ov(this),this.livePreview=new ny(this),this.mediaPicker=new ty(this);var c=this.opts.onChange;if(this.opts.onChange=()=>{var e=c.apply(this,arguments);return this.activeCol&&this.util.repositionColumnTool(),this.elmTool.repositionElementTool(!0),this.element.image.imageTool.style.display="",this.element.module.moduleTool.style.display="",this.colTool.lockIndicator.style.display="",e},this.elmTool=new Pv(this),this.element=new Pf(this),this.rte=new Uv(this),this.tooltip=new Yv(this),this.lightbox=new Gv(this),this.preview||this.applyBehavior(),!this.preview)if(this.opts.plugins.length>0)this.loadPlugins();else if(void 0===this.opts.scriptPath&&""===this.opts.pluginPath);else if(!this.opts.disableConfig){let e=this.opts.scriptPath+"config.js";""!==this.opts.pluginPath&&(e=this.opts.pluginPath+"config.js"),this.loadScript(e).then((()=>{this.opts.plugins.length>0&&this.loadPlugins()}),(()=>{console.log("Fail to load config")}))}this.tabs=new Zv,this.colorPicker=new Df({lang:this.opts.lang,colors:this.opts.colors}),this.colorClassPicker=new jv({lang:this.opts.lang}),this.ShortcutInfo=new Vv(this),this.opts.isContentBox||null!==localStorage.getItem("_dictation")&&localStorage.removeItem("_dictation"),this.dictation=new ay({},this),this.lib=new sy(this),this.similarity=new ry(this),this.iframe&&(this.win.addEventListener("scroll",this.doWindowScroll=()=>{this.util.hidePops()}),this.win.addEventListener("resize",this.doWindowResize=()=>{this.util.clearActiveCell(),this.util.clearControls()})),document.addEventListener("click",this.doDocumentClick=e=>{let t,i=(e=e||window.event).target||e.srcElement;if(!i)return;i.parentNode&&(t=this.dom.hasClass(i.parentNode,"is-builder"));let n=this.dom.hasClass(i,"is-builder"),s=!1,a=!1,l=!1,r=!1,d=!1,c=!1,u=!1,p=!1,h=!1,m=!1,g=!1,b=!1,f=!1,v=!1,y=!1,x=i;for(;x&&x.tagName&&"BODY"!==x.tagName&&"HTML"!==x.tagName;){if(this.dom.hasClass(x,"is-builder")&&(s=!0),this.dom.hasClass(x,"is-subblock")&&(v=!0),this.dom.hasClass(x,"is-modal")&&(a=!0),(this.dom.hasClass(x,"is-side")||this.dom.hasClass(x,"is-sidebar"))&&(l=!0),this.dom.hasClass(x,"is-pop")&&(r=!0),this.dom.hasClass(x,"is-tool")&&(d=!0),(this.dom.hasClass(x,"is-rte-tool")||this.dom.hasClass(x,"is-elementrte-tool"))&&(c=!0),this.dom.hasClass(x,"is-rte-pop")&&(u=!0),this.dom.hasClass(x,"row-add-initial")&&(p=!0),(this.dom.hasClass(x,"sl-wrapper")||this.dom.hasClass(x,"sl-overlay")||this.dom.hasClass(x,"sl-close"))&&(h=!0),(this.dom.hasClass(x,"is-selectbox")||this.dom.hasClass(x,"is-selectbox-options"))&&(m=!0),this.opts.specialElementClasses)for(let e=0;e<this.opts.specialElementClasses.length;e++)this.dom.hasClass(x,this.opts.specialElementClasses[e])&&(y=!0);"divImageTool"===x.id&&(g=!0),"divImageResizer"===x.id&&(b=!0),this.preserveSelection&&(f=!0),x=x.parentNode}if(!m){let e=document.querySelectorAll(".is-selectbox-options");Array.prototype.forEach.call(e,(e=>{e.style.display="none"}))}let _=!1,w=document.querySelector("#divImageResizer");if(w&&"1"===w.getAttribute("data-resized")&&(_=!0),!_){if(!(a||h||g||b||"img"===i.tagName.toLowerCase())){document.querySelector("#divImageTool").style.display="";let e=document.querySelector("#divImageResizer");e.style.display="none",e.style.top="-10px",e.style.left="-10px",e.style.width="1px",e.style.height="1px",this.moveable&&(this.moveable.updateRect(),document.querySelector(".moveable-control-box").style.display="none")}if(!(s||v||a||l||r||d||c||u||p||h||f||y)||t&&!p||n){if(!this.dom.getSelected()){document.querySelector(".is-modal.active:not(.is-modal-content)")||(o.clearActiveCell(),o.clearControls(),"auto"!==this.toolbarDisplay&&this.rte.showDefaultToolbar(),this.settings.onSelectionChange&&this.settings.onSelectionChange(e))}this.element.hyperlink.buttonEditor.hide()}if(this.activeLinkButton||this.activeButton||i.closest(".buttoneditor")||i.closest(".link-button-edit")||i.closest(".is-modal")||this.element.hyperlink.buttonEditor.hide(),!r&&!this.dom.parentsHasId(i,"_cbhtml")){const e=document.querySelectorAll(".is-pop");Array.prototype.forEach.call(e,(e=>{this.dom.parentsHasId(e,"_cbhtml")||(e.style.display="")}))}}}),this.iframe&&this.doc.addEventListener("click",this.doDocumentClick),this.doc.addEventListener("mousedown",this.doDocumentMousedown=e=>{var t=(e=e||window.event).target||e.srcElement;this.dom.parentsHasClass(t,"row-handle")&&o.clearControls()}),document.addEventListener("keydown",this.doDocumentKeydown=e=>{90===e.which&&(e.ctrlKey||e.metaKey)&&(e.shiftKey?this.uo.doRedo():e.altKey||this.uo.doUndo()),89===e.which&&e.ctrlKey&&(e.altKey||this.uo.doRedo());(e.ctrlKey||e.metaKey)&&191===e.which&&this.ShortcutInfo.open()}),this.iframe&&this.doc.addEventListener("keydown",this.doDocumentKeydown),document.body.addEventListener("mscontrolselect",(function(e){e.preventDefault()})),window._cb=this,window.applyLargerImage=this.applyLargerImage.bind(this),window.returnUrl=this.returnUrl.bind(this),window.selectFile=this.selectFile.bind(this),window.selectImage=this.selectImage.bind(this),window.selectVideo=this.selectVideo.bind(this),window.selectAsset=this.selectAsset.bind(this),window.assetType=this.assetType.bind(this),window.hideModal=this.hideModal.bind(this),window.generateImage=this.generateImage.bind(this),setTimeout((()=>{(null!=localStorage.getItem("_livepreview")||this.opts.livePreviewOpen)&&this.openPreview()}),300)}static run(e={}){return new dy(e)}setZoom(){if(""!==this.opts.page){const e=this.doc.querySelector(this.opts.page);e.style.transform=`scale(${this.opts.zoom})`,this.setZoomOnControl(e)}else{this.doc.querySelectorAll(this.opts.container).forEach((e=>{let t=!1;e.style.transform||(t=!0),t&&(e.style.transition="none"),e.style.transform=`scale(${this.opts.zoom})`,t&&setTimeout((()=>{e.style.transition=""}),300),this.setZoomOnControl(e)}))}}backwardCompatible(){this.builderStuff.querySelector('style[data-rel="css-new"]')||this.builderStuff.insertAdjacentHTML("afterbegin",'\n            <style data-rel="css-new">\n                \n        .row-active .is-col-tool {\n            display: flex;\n        }\n        .is-builder[rowoutline] .row-active .is-col-tool {\n            display: none;\n        }\n        .is-builder[hidecolumntool] .row-active .is-col-tool {\n            display: none;\n        }\n\n        .is-tool.is-col-tool {\n            flex-direction: row;\n            margin-top: 0px;\n            margin-left: -1px;\n        }\n        .is-tool.is-col-tool button {\n            width: 25px;\n            height: 25px;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n        }\n        .is-tool.is-col-tool .cell-add {\n            background: #0fcc52;\n        }\n        .is-tool.is-col-tool .cell-more {\n            background: rgba(216, 200, 6, 0.9);\n        }\n        .is-tool.is-col-tool .cell-remove {\n            background: rgba(255, 85, 4, 0.9);\n        }\n        .is-tool.is-col-tool svg {\n            width: 23px;\n            height: 23px;\n            fill: #fff  !important;\n        }\n        .is-tool.is-col-tool .cell-more svg {\n            width: 14px;\n            height: 14px;\n        }\n\n\n        .is-builder[gray] .is-tool.is-col-tool {\n            background: rgba(243, 243, 243, 0.9);\n            flex-direction: row;\n            top:-3px;\n            margin-top: 0px;\n            margin-left: -1px;\n        }\n        .is-builder[gray] .is-tool.is-col-tool button {\n            width: 27px;\n            height: 27px;\n        }\n        .is-builder[gray] .is-tool.is-col-tool .cell-add {\n            background: transparent;\n        }\n        .is-builder[gray] .is-tool.is-col-tool .cell-more {\n            background: transparent;\n        }\n        .is-builder[gray] .is-tool.is-col-tool .cell-remove {\n            background: transparent;\n        }\n        .is-builder[gray] .is-tool.is-col-tool svg {\n            width: 18px;\n            height: 18px;\n            fill: #000 !important;\n        }\n        .is-builder[gray] .is-tool.is-col-tool .cell-more svg {\n            width: 12px;\n            height: 12px;\n        }\n\n\n        .is-col-tool svg {\n            display: initial !important;\n        }\n        \n        \n            </style>\n            ')}setZoomOnControl(e){e.querySelectorAll(".is-row-tool").forEach((e=>{e.style.transform=`scale(${1/this.opts.zoom})`,e.style.transformOrigin="top"}));e.querySelectorAll(".is-col-tool").forEach((e=>{e.style.transform=`scale(${1/this.opts.zoom})`,e.style.transformOrigin="top left",e.style.marginTop=-27/this.opts.zoom+"px"}));e.querySelectorAll(".is-rowadd-tool button").forEach((e=>{e.style.transform=`scale(${1/this.opts.zoom})`}))}setZoomOnArea(){if(""!==this.opts.page){this.doc.querySelector(this.opts.page).style.transform=`scale(${this.opts.zoom})`}else{this.doc.querySelectorAll(this.opts.container).forEach((e=>{let t=!1;e.style.transform||(t=!0),t&&(e.style.transition="none"),e.style.transform=`scale(${this.opts.zoom})`,t&&setTimeout((()=>{e.style.transition=""}),300)}))}}applyBehavior(){null!==localStorage.getItem("_zoom")&&(this.opts.zoom=localStorage.getItem("_zoom")),this.rte.rteZoomSlider.value=100*this.opts.zoom;const e=this.doc.querySelectorAll(this.opts.container);Array.prototype.forEach.call(e,(e=>{this.applyBehaviorOn(e),this.contentReformatOn(e)})),this.opts.onRender(),this.setZoomOnArea()}contentReformatOn(e){this.opts.useCssClasses&&this.dom.contentReformat(e,this.opts.cssClasses)}applyBehaviorOn(e){const t=this.util;if(this.opts.absolutePath){let t=e.querySelectorAll("a");Array.prototype.forEach.call(t,(e=>{let t=e.href;e.setAttribute("href",t)}));let i=e.querySelectorAll("img");Array.prototype.forEach.call(i,(e=>{let t=e.src;e.setAttribute("src",t)}))}this.dom.addClass(e,"is-builder"),this.preferences.initBuilder(e);if(this.dom.elementChildren(e).forEach((e=>{if(this.dom.hasClass(e,"row-add-initial"))return;(e.style.marginLeft||e.style.marginRight)&&(e.style.border="none"),this._rowTool.render(e);new av(this).render(e);this.dom.elementChildren(e).forEach((e=>{if(this.dom.hasClass(e,"is-row-tool")||this.dom.hasClass(e,"is-col-tool")||this.dom.hasClass(e,"is-rowadd-tool"))return;"readonly"===e.getAttribute("data-mode")&&(e.setAttribute("data-noedit",""),e.removeAttribute("data-mode")),"readonly-protected"===e.getAttribute("data-mode")&&(e.setAttribute("data-protected",""),e.removeAttribute("data-mode"));let t=!1;e.hasAttribute("data-noedit")&&(t=!0);let i=!1;e.hasAttribute("data-protected")&&(i=!0);let n=!1;if(e.hasAttribute("data-html")&&(n=!0),!n&&!t&&!i){const t=e.innerText.trim();(e.querySelectorAll("p,h1,h2,h3,h4,h5,h6,table,ul,ol,pre,blockquote,code,figcaption,label,legend,button,a,span").length>0||""!==t)&&(e.contentEditable=!0)}this.element.applyBehavior(e),e.getAttribute("data-click")||(e.addEventListener("click",this.handleCellClick.bind(this,e)),e.addEventListener("keydown",this.handleCellKeypress.bind(this)),e.addEventListener("keydown",this.handleCellKeydown.bind(this,e)),e.addEventListener("keyup",this.handleCellKeyup.bind(this,e)),e.addEventListener("paste",this.handleCellPaste.bind(this)),e.setAttribute("data-click",!0))}))})),!e.getAttribute("data-sort")&&!e.hasAttribute("nogrid")){let i=new kl(e,{scroll:!0,group:"shared",animation:300,handle:".row-handle",sort:!0,onChoose:()=>{let e;if(""!==this.opts.page){const t=this.doc.querySelector(this.opts.page);e=this.dom.getScale(t)}else{const t=this.doc.querySelector(".is-builder");e=this.dom.getScale(t)}const t=`\n                    <style id="css-scale">\n                        .sortable-drag::before {\n                            transform: scale(${e});\n                        }\n                    </style>\n                    `;if(this.iframe){const e=this.contentStuff.querySelector("#css-scale");e&&e.parentNode.removeChild(e),this.contentStuff.insertAdjacentHTML("afterbegin",t)}else{const e=this.builderStuff.querySelector("#css-scale");e&&e.parentNode.removeChild(e),this.builderStuff.insertAdjacentHTML("afterbegin",t)}this.sectionDropSetup()},onStart:()=>{this.uo.saveForUndo(),this.elmTool.hide()},onEnd:()=>{this.util.checkEmpty(),this.sortableOnPage&&this.sortableOnPage.destroy()},onAdd:i=>{var n=i.item;if(n.getAttribute("data-id")){let i=n.getAttribute("data-id");const m=this.opts.snippetJSON.snippets.filter((e=>e.id+""===i&&e));var s,o=m[0].html,a=m[0].noedit;s=-1===o.indexOf('"row'),this.opts.emailMode&&(s=!1);var l=this.opts.row,r=this.opts.cols;if(""!==l&&12===r.length&&(o=(o=(o=(o=(o=(o=(o=(o=(o=(o=(o=(o=o.replace(new RegExp("row clearfix","g"),"row")).replace(new RegExp('"row',"g"),'"'+l)).replace(new RegExp("column full","g"),r[11])).replace(new RegExp("column half","g"),r[5])).replace(new RegExp("column third","g"),r[3])).replace(new RegExp("column fourth","g"),r[2])).replace(new RegExp("column fifth","g"),r[1])).replace(new RegExp("column sixth","g"),r[1])).replace(new RegExp("column two-third","g"),r[7])).replace(new RegExp("column two-fourth","g"),r[8])).replace(new RegExp("column two-fifth","g"),r[9])).replace(new RegExp("column two-sixth","g"),r[9])),o=o.replace(/{id}/g,t.makeId()),this.opts.onAdd&&(o=this.opts.onAdd(o)),this.opts.snippetPathReplace.length>0&&""!==this.opts.snippetPathReplace[0]){var d=new RegExp(this.opts.snippetPathReplace[0],"g");o=o.replace(d,this.opts.snippetPathReplace[1]);var c=this.opts.snippetPathReplace[0].replace(/\//g,"%2F"),u=this.opts.snippetPathReplace[1].replace(/\//g,"%2F"),p=new RegExp(c,"g");o=o.replace(p,u)}if(s)o=`<div class="${this.opts.row}"><div class="${this.opts.cols[this.opts.cols.length-1]}"${a?" data-noedit":""}>${o}</div></div>`,n.removeAttribute("draggable"),this.dom.removeClass(n,"snippet-item"),n.outerHTML=o;else{let e=this.dom.createElement("div");e.innerHTML=o;let i=e.querySelectorAll("[data-html]");Array.prototype.forEach.call(i,(e=>{o=(o=(o=decodeURIComponent(e.getAttribute("data-html"))).replace(/{id}/g,t.makeId())).replace(/<script>/g,""+(this.nonce?`<script nonce="${this.nonce}">`:"<script>"));for(var i=1;i<=20;i++)o=o.replace("[%HTML"+i+"%]",void 0===e.getAttribute("data-html-"+i)?"":decodeURIComponent(e.getAttribute("data-html-"+i)));e.innerHTML=o})),o=e.innerHTML,n.removeAttribute("draggable"),this.dom.removeClass(n,"snippet-item"),n.innerHTML="";var h=document.createRange();h.setStart(n,0),n.appendChild(h.createContextualFragment(o)),n.outerHTML=n.innerHTML}this.applyBehaviorOn(e),this.opts.onChange(),this.opts.onRender(),this.elmTool.hide()}}});this.sortableObjects.push(i),e.setAttribute("data-sort",!0)}const i=e.querySelectorAll('a[role="button"]');Array.prototype.forEach.call(i,(t=>{t.parentNode&&t.parentNode.parentNode&&t.parentNode.parentNode.parentNode===e&&(t.outerHTML=`\n                        <div style="white-space: nowrap;">\n                            ${t.outerHTML}\n                        </div>\n                        `)}));const n=e.querySelectorAll(".is-subblock");Array.prototype.forEach.call(n,(e=>{e.contentEditable=!0})),this.util.checkEmptyOn(e),this.setZoomOnControl(e)}html(e){const t=this.util,i=new qo(this);if(e);else{const i=this.doc.querySelectorAll(this.opts.container);if(i.length>1){const n=t.cellSelected();e=n?n.parentNode.parentNode:i[0]}else e=i[0];if(""!==this.opts.page){const t=this.doc.querySelector(this.opts.page);t&&(e=t)}}this.cleanHtmlFormatting=!0;let n=i.readHtml(e);return this.cleanHtmlFormatting=!1,n}viewHtmlNormal(){new qo(this).viewHtmlExternal()}readHtml(e,t,i,n){return new qo(this).readHtml(e,t,i,n)}fromViewToActual(e){return new qo(this).fromViewToActual(e)}colorpicker(e,t){return new Df({onPick:e,color:t,colors:this.opts.colors,animateModal:this.opts.animateModal,elementToAnimate:this.opts.container,lang:this.opts.lang})}gradientpicker(){return new ev({gradientcolors:this.opts.gradientcolors,colors:this.opts.colors,animateModal:this.opts.animateModal,elementToAnimate:this.opts.container,lang:this.opts.lang})}simpleColorPicker(e,t){return this.colorClassPicker.open(e,t)}destroy(){if(this.doc.body.classList.remove("data-editor"),document.removeEventListener("click",this.doDocumentClick,!1),document.removeEventListener("keydown",this.doDocumentKeydown,!1),document.removeEventListener("mousedown",this.doDocumentMousedown,!1),document.removeEventListener("click",this.doRteClick,!1),this.doc.removeEventListener("click",this.doHideSnippetHandler,!1),this.iframe&&(this.doc.removeEventListener("click",this.doDocumentClick,!1),this.doc.removeEventListener("keydown",this.doDocumentKeydown,!1),this.doc.removeEventListener("mousedown",this.doDocumentMousedown,!1),this.doc.removeEventListener("click",this.doRteClick,!1),this.win.removeEventListener("scroll",this.doWindowScroll,!1),this.win.removeEventListener("resize",this.doWindowResize,!1)),this.util.clearControls(),!this.util.builderStuff())return;const e=new qo(this);if(""!==this.opts.page){const e=this.doc.querySelector(this.opts.page);e&&(e.style.transform="")}else{this.doc.querySelectorAll(this.opts.container).forEach((e=>{e.style.transform=""}))}const t=this.doc.querySelectorAll(this.opts.container);Array.prototype.forEach.call(t,(t=>{let i=e.readHtml(t,!1),n=this.doc.createRange();t.innerHTML="",t.appendChild(n.createContextualFragment(i))})),Array.prototype.forEach.call(t,(e=>{e.removeAttribute("data-sort"),this.dom.removeClass(e,"is-builder")})),Array.prototype.forEach.call(this.sortableObjects,(e=>{try{e.destroy()}catch(e){}})),this.moveable.destroy(),this.builderStuff.parentNode.removeChild(this.builderStuff),this.builderStuff=null,this.iframe&&(this.contentStuff.parentNode.removeChild(this.contentStuff),this.contentStuff=null)}saveImages(e,t,i){new Fv({page:this.opts.page,container:this.opts.container,customval:this.opts.customval,handler:e,onComplete:t,onBase64Upload:i||null},this).save()}clearFont(){this.rte.clearFont()}applyFont(e,t,i){this.rte.applyFont(e,t,i)}setFont(e,t,i,n){this.rte.setFont(e,t,i,n)}addIcon(e){this.rte.addIcon(e)}applyLargerImage(e){let t=document.querySelectorAll(".form-upload-larger");Array.prototype.forEach.call(t,(t=>{this.dom.hasClass(t,"please-wait")&&(this.dom.removeClass(t,"please-wait"),t.parentNode.parentNode.querySelector('input[type="text"]').value=e,t.parentNode.parentNode.querySelector('input[type="file"]').value="")}))}returnUrl(e){let t=document.querySelectorAll(".form-upload-larger");Array.prototype.forEach.call(t,(t=>{this.dom.hasClass(t,"please-wait")&&(this.dom.removeClass(t,"please-wait"),e&&(t.parentNode.parentNode.querySelector('input[type="text"]').value=e),t.parentNode.parentNode.querySelector('input[type="file"]').value="")})),this.opts.assetRefresh=!0}openMediaPicker(e,t="media",i,n){this.mediaPicker.openMediaPicker(e,t,i,n)}openImagePicker(e,t,i){this.colTool.openImagePicker(e,t,i)}openImageAdjust(e,t,i){2===this.opts.imageAdjust?this.colTool.openImageAdjust2(e,t):this.colTool.openImageAdjust(e,t,i)}selectFile(e){this.selectAsset(e)}selectImage(e){this.selectAsset(e)}selectVideo(e){this.selectAsset(e)}selectAsset(e){let t=e.split(".").pop().split("?")[0].split("#")[0];t=t.toLowerCase();let i=!1;if("all"===this.targetAssetType?i=!0:"media"===this.targetAssetType?"jpg"===t||"jpeg"===t||"png"===t||"gif"===t||"webm"===t||"webp"===t||"mp4"===t?i=!0:alert(this.util.out("Please select an image or video file.")):"image"===this.targetAssetType?"jpg"===t||"jpeg"===t||"png"===t||"gif"===t||"webm"===t||"webp"===t?i=!0:alert(this.util.out("Please select an image file.")):"video"===this.targetAssetType?"mp4"===t?i=!0:alert(this.util.out("Please select an mp4 file.")):"audio"===this.targetAssetType&&("mp3"===t?i=!0:alert(this.util.out("Please select an mp3 file."))),i){this.targetInput.value=e,"inpCellLinkSource"===this.targetInput.id&&this.targetCallback();let t=document.querySelector(".is-modal.videoselect.active");t&&this.hideModal(t),t=document.querySelector(".is-modal.imageselect.active"),t&&this.hideModal(t),t=document.querySelector(".is-modal.fileselect.active"),t&&this.hideModal(t),t=document.querySelector(".is-modal.audioselect.active"),t&&this.hideModal(t),t=document.querySelector(".is-modal.mediaselect.active"),t&&this.hideModal(t),t=document.querySelector(".is-modal.otherselect.active"),t&&this.hideModal(t)}}assetType(){return this.targetAssetType}openImageSelect(e,t){const i=document.createElement("input"),n=document.createElement("button");this.openAsset(i,"image",n,t);let s=e=>this.util.out(e);const o=Object.getOwnPropertyDescriptor(HTMLInputElement.prototype,"value");Object.defineProperty(i,"value",{get:o.get,set:function(t){let i=t.substring(t.lastIndexOf("/")+1).split(".").pop();i=i.toLowerCase();let n=!1;"jpg"===i||"jpeg"===i||"png"===i||"gif"===i||"webm"===i||"webp"===i?n=!0:alert(s("Please select an image file.")),n&&e&&e(t),o.set.call(this,t)}})}renderSelectAsset(e,t,i){const n="inp_"+this.util.makeId();e.insertAdjacentHTML("afterend",`<input type="hidden" id="${n}">`);const s=e.parentNode.querySelector(`#${n}`);e.addEventListener("click",(()=>{this.openAsset(s,t,e)}));let o=e=>this.util.out(e);const a=Object.getOwnPropertyDescriptor(HTMLInputElement.prototype,"value");Object.defineProperty(s,"value",{get:a.get,set:function(e){let n=e.substring(e.lastIndexOf("/")+1).split(".").pop();n=n.toLowerCase();let s=!1;"all"===t?s=!0:"media"===t?"jpg"===n||"jpeg"===n||"png"===n||"gif"===n||"webm"===n||"webp"===n||"mp4"===n?s=!0:alert(o("Please select an image or video file.")):"video"===t?"mp4"===n?s=!0:alert(o("Please select an mp4 file.")):"image"===t?"jpg"===n||"jpeg"===n||"png"===n||"gif"===n||"webm"===n||"webp"===n?s=!0:alert(o("Please select an image file.")):"audio"===t&&("mp3"===n?s=!0:alert(o("Please select an mp3 file."))),s&&i&&i(e),a.set.call(this,e)}})}openOther(e,t,i){if(this.opts.onOtherSelectClick)this.opts.onOtherSelectClick({targetInput:e,theTrigger:i});else{let n,s=this.builderStuff.querySelector(".is-modal.otherselect");n=s.querySelector("iframe"),"about:blank"===n.src&&(n.src=this.opts.otherSelect),this.util.showModal(s,!1,(()=>{i.removeAttribute("data-focus"),i.focus()}),!1,this.assetPanelFullScreen),this.targetInput=e,this.targetCallback=null,this.targetAssetType=t}}openAsset(e,t,i,n){let s,o;"media"===t&&(this.opts.onMediaSelectClick||this.opts.onImageSelectClick)?this.opts.onMediaSelectClick?this.opts.onMediaSelectClick({targetInput:e,theTrigger:i}):this.opts.onImageSelectClick({targetInput:e,theTrigger:i}):"video"===t&&this.opts.onVideoSelectClick?this.opts.onVideoSelectClick({targetInput:e,theTrigger:i}):"image"===t&&this.opts.onImageSelectClick?this.opts.onImageSelectClick({targetInput:e,theTrigger:i}):"audio"===t&&this.opts.onAudioSelectClick?this.opts.onAudioSelectClick({targetInput:e,theTrigger:i}):"all"===t&&this.opts.onFileSelectClick?this.opts.onFileSelectClick({targetInput:e,theTrigger:i}):("media"===t?(o=this.builderStuff.querySelector(".is-modal.mediaselect"),s=o.querySelector("iframe"),"about:blank"===s.src&&(this.opts.mediaSelect?s.src=this.opts.mediaSelect:this.opts.imageSelect&&(s.src=this.opts.imageSelect))):"video"===t?(o=this.builderStuff.querySelector(".is-modal.videoselect"),s=o.querySelector("iframe"),"about:blank"===s.src&&(s.src=this.opts.videoSelect)):"image"===t?(o=this.builderStuff.querySelector(".is-modal.imageselect"),s=o.querySelector("iframe"),"about:blank"===s.src&&(s.src=this.opts.imageSelect)):"audio"===t?(o=this.builderStuff.querySelector(".is-modal.audioselect"),s=o.querySelector("iframe"),"about:blank"===s.src&&(s.src=this.opts.audioSelect)):"all"===t&&(o=this.builderStuff.querySelector(".is-modal.fileselect"),s=o.querySelector("iframe"),"about:blank"===s.src&&(s.src=this.opts.fileSelect)),this.util.showModal(o,!1,(()=>{i.removeAttribute("data-focus"),i.focus()}),!1,this.assetPanelFullScreen),this.targetInput=e,this.targetCallback=null,this.targetAssetType=t),n||(n=""),e&&e.value&&(n=e.value),this.onAssetOpen&&(s?""!==s.contentWindow.document.body.innerHTML?this.onAssetOpen(n,s.contentWindow):s.addEventListener("load",(()=>{this.onAssetOpen(n,s.contentWindow)})):this.onAssetOpen(n,s))}moveRowUp(){this._rowTool.moveRowUp()}moveRowDown(){this._rowTool.moveRowDown()}duplicateRow(){this._rowTool.duplicateRow()}removeRow(){this._rowTool.removeRow()}moveColumnLeft(){this.colTool.moveColumnLeft()}moveColumnRight(){this.colTool.moveColumnRight()}duplicateColumn(){this.colTool.duplicateColumn()}removeColumn(){this.colTool.removeColumn()}moveColumnUp(){this.colTool.moveColumnUp()}moveColumnDown(){this.colTool.moveColumnDown()}formatText(e){this.rte.formatText(e)}formatTextNonToggle(e){this.rte.formatTextNonToggle(e)}LightenDarkenColor(e,t){return this.util.LightenDarkenColor(e,t)}pickColor(e,t){new Df({colors:this.opts.colors,animateModal:!1,lang:this.opts.lang}).open(e,t)}addSnippet(e,t,i){this.util.addSnippet(e,t,i)}viewSnippets(){this.rte.viewSnippets()}saveForUndo(e){this.uo.saveForUndo(e)}download(e={}){this.export(e,!0)}export(e={},t=!1){let i=this.pageTemplate,n="";this.makeAbsolute=!0,this.shortenOutput=t;let s=this.html();if(this.makeAbsolute=!1,this.shortenOutput=!1,n=i.replace("[%CONTENT%]",s),e.replace&&e.replace.forEach((e=>{n=n.replaceAll(`${e[0]}`,e[1])})),e.path)n=n.replaceAll("[%PATH%]",e.path);else{let e;e=location.href.substring(0,location.href.lastIndexOf("/")),n=n.replaceAll("[%PATH%]",e)}n=this.beautify(n);const o=document.createElement("a");o.href=window.URL.createObjectURL(new Blob([n],{type:"text/plain"})),o.download="page.html",o.click()}beautify(e){return new qo(this).beautify(e)}openPreview(){this.livePreview.openPreview()}closePreview(){this.livePreview.closePreview()}getActiveModule(){return document.querySelector("[data-module-active]")}getModuleSettings(){let e=document.querySelector("[data-module-active]");return decodeURIComponent(e.getAttribute("data-settings"))}setModuleHtml(e){document.querySelector("#hidContentModuleCode").value=e}setModuleSettings(e){document.querySelector("#hidContentModuleSettings").value=e}makeId(){return this.util.makeId()}setTooltip(e){this.tooltip.setAll(e)}loadPlugins(){if(!this.builderStuff)return;if(void 0===this.opts.scriptPath&&""===this.opts.pluginPath)return;if(this.numOfPlugins=0,"string"==typeof this.opts.plugins[0])return void this.loadPluginsOldWay();const e=this.builderStuff.querySelector(".is-rte-tool"),t=this.builderStuff.querySelector(".rte-more-options"),i=this.builderStuff.querySelector(".is-elementrte-tool"),n=this.builderStuff.querySelector(".elementrte-more-options");let s;for(s=this.opts.plugins.length-1;s>=0;s--){const o=this.opts.plugins[s].name,a=this.opts.plugins[s].showInMainToolbar,l=this.opts.plugins[s].showInElementToolbar;let r=!1;(e.querySelector('[data-plugin="'+o+'"]')||t.querySelector('[data-plugin="'+o+'"]'))&&(r=!0);let d=!1;if((i.querySelector('[data-plugin="'+o+'"]')||n.querySelector('[data-plugin="'+o+'"]'))&&(d=!0),a&&!r){t.querySelectorAll("div:not(.rte-separator)").forEach((e=>{e.insertAdjacentHTML("afterbegin",'<button style="width:46px;" title="button not found" data-plugin="'+o+'"></button>')}))}l&&!d&&n.querySelector("div").insertAdjacentHTML("afterbegin",'<button style="width:46px;" title="button not found" data-plugin="'+o+'"></button>')}for(s=0;s<this.opts.plugins.length;s++){const e=this.opts.plugins[s].name;let t=this.opts.scriptPath+"plugins/"+e+"/plugin.js";""!==this.opts.pluginPath&&(t=this.opts.pluginPath+"plugins/"+e+"/plugin.js"),this.loadScript(t).then((()=>{this.numOfPlugins++,this.numOfPlugins===this.opts.plugins.length&&(this.opts.onPluginsLoaded&&this.opts.onPluginsLoaded(),this.tooltip.setAll(),new Uo({selector:".is-draggable"}))}))}}loadPluginsOldWay(){const e=this.builderStuff.querySelector(".is-rte-tool"),t=this.builderStuff.querySelector(".rte-more-options"),i=this.builderStuff.querySelector(".is-elementrte-tool"),n=this.builderStuff.querySelector(".elementrte-more-options");let s;for(s=this.opts.plugins.length-1;s>=0;s--){const o=this.opts.plugins[s];let a=!1;(e.querySelector('[data-plugin="'+o+'"]')||t.querySelector('[data-plugin="'+o+'"]'))&&(a=!0);let l=!1;(i.querySelector('[data-plugin="'+o+'"]')||n.querySelector('[data-plugin="'+o+'"]'))&&(l=!0),a||t.querySelector("div").insertAdjacentHTML("afterbegin",'<button style="width:46px;" title="button not found" data-plugin="'+this.opts.plugins[s]+'"></button>'),l||n.querySelector("div").insertAdjacentHTML("afterbegin",'<button style="width:46px;" title="button not found" data-plugin="'+this.opts.plugins[s]+'"></button>')}for(s=0;s<this.opts.plugins.length;s++){let e=this.opts.scriptPath+"plugins/"+this.opts.plugins[s]+"/plugin.js";""!==this.opts.pluginPath&&(e=this.opts.pluginPath+"plugins/"+this.opts.plugins[s]+"/plugin.js"),this.loadScript(e).then((()=>{if(this.numOfPlugins++,this.numOfPlugins===this.opts.plugins.length){let e=t.querySelectorAll("[data-plugin]");Array.prototype.forEach.call(e,(e=>{e.outerHTML=""})),e=n.querySelectorAll("[data-plugin]"),Array.prototype.forEach.call(e,(e=>{e.outerHTML=""})),this.opts.onPluginsLoaded&&this.opts.onPluginsLoaded(),this.tooltip.setAll(),new Uo({selector:".is-draggable"})}}))}}addHtml(e){this.dom.appendHtml(this.builderStuff,e)}addCss(e){this.dom.appendHtml(document.head,e)}addButton_OLD(e,t,i,n){if(!this.builderStuff)return;const s=this.builderStuff.querySelector(".is-rte-tool"),o=this.builderStuff.querySelector(".rte-more-options");var a=!1;if(s.querySelector('[data-plugin="'+e+'"]')?s.querySelector('[data-plugin="'+e+'"]').outerHTML=t:o.querySelector('[data-plugin="'+e+'"]')&&(o.querySelector('[data-plugin="'+e+'"]').outerHTML=t,a=!0),!s.querySelector(".rte-more")&&a){s.insertAdjacentHTML("beforeend",`<button title="${this.util.out("More")}" class="rte-more"><svg class="is-icon-flex" style="width:13px;height:13px;"><use xlink:href="#ion-more"></use></svg></button>`);let e=this.rteTool.querySelector("button.rte-more");e&&this.dom.addEventListener(e,"click",(()=>{this.rte.showRteMore()}))}let l=s.querySelector(i);l=l||o.querySelector(i),l&&(l.setAttribute("data-title",l.getAttribute("title")),this.dom.addEventListener(l,"click",(e=>{n(e)})))}addButton(e,t,i,n){if(!this.builderStuff)return;const s=this.builderStuff.querySelector(".is-rte-tool"),o=this.builderStuff.querySelector(".rte-more-options");var a=!1;o.querySelector('[data-plugin="'+e+'"]')&&(a=!0);if(this.builderStuff.querySelectorAll('[data-plugin="'+e+'"]').forEach((e=>{e.outerHTML=t})),!s.querySelector(".rte-more")&&a){s.insertAdjacentHTML("beforeend",`<button title="${this.util.out("More")}" class="rte-more"><svg class="is-icon-flex" style="width:13px;height:13px;"><use xlink:href="#ion-more"></use></svg></button>`);let e=this.rteTool.querySelector("button.rte-more");e&&this.dom.addEventListener(e,"click",(()=>{this.rte.showRteMore()}))}let l=s.querySelectorAll(i);l.forEach((e=>{e.setAttribute("data-title",e.getAttribute("title")),this.dom.addEventListener(e,"click",(e=>{n(e)}))})),l=o.querySelectorAll(i),l.forEach((e=>{e.setAttribute("data-title",e.getAttribute("title")),this.dom.addEventListener(e,"click",(e=>{n(e)}))}))}addButton2(e,t,i,n){if(!this.builderStuff)return;const s=this.builderStuff.querySelector(".is-elementrte-tool"),o=this.builderStuff.querySelector(".elementrte-more-options");var a=!1;if(s.querySelector('[data-plugin="'+e+'"]')?s.querySelector('[data-plugin="'+e+'"]').outerHTML=t:o.querySelector('[data-plugin="'+e+'"]')&&(o.querySelector('[data-plugin="'+e+'"]').outerHTML=t,a=!0),!s.querySelector(".rte-more")&&a){s.insertAdjacentHTML("beforeend",`<button title="${this.util.out("More")}" class="rte-more"><svg class="is-icon-flex" style="width:13px;height:13px;"><use xlink:href="#ion-more"></use></svg></button>`);let e=this.elementRteTool.querySelector("button.rte-more");e&&this.dom.addEventListener(e,"click",(()=>{this.rte.showElementRteMore()}))}let l=s.querySelector(i);l=l||o.querySelector(i),l&&(l.setAttribute("data-title",l.getAttribute("title")),this.dom.addEventListener(l,"click",(e=>{n(e)})))}showModal(e,t,i,n,s){this.util.showModal(e,t,i,n,s)}hideModal(e){this.util._hideModal(e)}draggable(e){new Uo({selector:e})}createModal(e,t,i,n,s,o){let a=this.builderStuff.querySelector(t);return a||(this.builderStuff.appendChild(e),a=this.builderStuff.querySelector(t)),this.showModal(a,i,n,s,o),new Uo({selector:".is-draggable"}),a}getIcons(){return this.rte.getIcons()}showSidePanel(e){let t=this.builderStuff.querySelectorAll(".is-side");Array.prototype.forEach.call(t,(e=>{this.dom.removeClass(e,"active")})),this.dom.addClass(e,"active")}hideSidePanel(e){this.dom.removeClass(e,"active")}getScriptPath(){return this.opts.scriptPath}getSnippetPath(){return this.opts.snippetPath}out(e){return this.util.out(e)}undo(){this.uo.doUndo()}redo(){this.uo.doRedo()}getScope(){let e;const t=this.doc.querySelectorAll(this.opts.container);if(t.length>1){const i=this.util.cellSelected();e=i?i.parentNode.parentNode:t[0]}else e=t[0];if(""!==this.opts.page){const t=this.doc.querySelector(this.opts.page);t&&(e=t)}return e}saveSelection(){this.util.saveSelection()}restoreSelection(){this.util.restoreSelection()}pasteHtmlAtCaret(e,t){this.util.pasteHtmlAtCaret(e,t)}getScript(e,t){this.loadScript(e).then((()=>{t&&t()}),(()=>{console.log("Fail to load config")}))}getScripts(e,t){let i=0;this.loadScript(e[i]).then((()=>{i=this._helper1(i,e,t)}))}_helper1(e,t,i){if(++e<t.length){return this.loadScript(t[e]).then((()=>{e=this._helper1(e,t,i)})),e}i&&i()}includeJs(e,t){-1===this.filesAdded.indexOf("["+e+"]")?(this.getScript(e,t),this.filesAdded+="["+e+"]"):t&&t()}includeCss(e){if(-1===this.filesAdded.indexOf("["+e+"]")){var t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",e),document.getElementsByTagName("head")[0].appendChild(t),this.filesAdded+="["+e+"]"}}applyStyle(e,t){if(-1===this.filesAdded.indexOf("["+e+"]")){var i=document.createElement("style");i.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(i),this.filesAdded+="["+e+"]"}}viewHtml(e){new qo(this).view("full",e)}viewPreferences(){this.preferences.view()}viewConfig(){this.preferences.view()}viewZoom(){this.rte.viewZoom()}loadSnippets(e){if(this.preview)return;if(document.querySelector(this.opts.snippetList))return;if(this.isScriptAlreadyIncluded(e))return;const t=document.createElement("script");t.src=e,t.async=!0,t.onload=()=>{this.opts.snippetJSON=window.data_basic,""===this.opts.snippetPath&&(this.opts.snippetPath=window._snippets_path),this.opts.snippetJSON.snippets.length>0&&Gl(this)},document.body.appendChild(t)}isScriptAlreadyIncluded(e){const t=document.getElementsByTagName("script");for(let i=0;i<t.length;i++)if(t[i].getAttribute("src")===e)return!0;return!1}loadHtml(e,t){const i=this.util;if(t);else{const e=this.doc.querySelectorAll(this.opts.container);if(e.length>1){const n=i.cellSelected();t=n?n.parentNode.parentNode:e[0]}else t=e[0];if(""!==this.opts.page){const e=this.doc.querySelector(this.opts.page);e&&(t=e)}}let n=this.doc.createRange();t.innerHTML="",t.appendChild(n.createContextualFragment(e)),this.applyBehavior(),this.opts.onChange(),this.opts.onRender(),null!=localStorage.getItem("_livepreview")&&this.livePreview.openPreview()}loadHTML(e){this.loadHtml(e)}setUIColor(e,t){let i=document.querySelector("[data-cb-color]");if(i&&i.setAttribute("data-cb-del",""),t){var n=document.createElement("link");n.rel="stylesheet",n.href=t,n.setAttribute("data-cb-color",""),n.addEventListener("load",(()=>{i=document.querySelector("[data-cb-del]"),i&&i.parentNode.removeChild(i),"dark"===e&&(this.dom.removeClass(document.body,"colored"),this.dom.removeClass(document.body,"colored-dark"),this.dom.removeClass(document.body,"light"),this.dom.addClass(document.body,"dark")),"colored"===e&&(this.dom.removeClass(document.body,"dark"),this.dom.removeClass(document.body,"colored-dark"),this.dom.removeClass(document.body,"light"),this.dom.addClass(document.body,"colored")),"colored-dark"===e&&(this.dom.removeClass(document.body,"dark"),this.dom.removeClass(document.body,"colored"),this.dom.removeClass(document.body,"light"),this.dom.addClass(document.body,"colored-dark")),""===e&&(this.dom.removeClass(document.body,"dark"),this.dom.removeClass(document.body,"colored-dark"),this.dom.removeClass(document.body,"colored"),this.dom.removeClass(document.body,"light")),"light"===e&&(this.dom.removeClass(document.body,"dark"),this.dom.removeClass(document.body,"colored-dark"),this.dom.removeClass(document.body,"colored"),this.dom.addClass(document.body,"light"));const t=this.util;setTimeout((()=>{t.getUIStyles(),this.setUIColorRefresh(),this.opts.onThemeChange&&this.opts.onThemeChange()}),300)})),document.head.appendChild(n)}else{i=document.querySelector("[data-cb-del]"),i&&i.parentNode.removeChild(i),""===e&&(this.dom.removeClass(document.body,"dark"),this.dom.removeClass(document.body,"colored-dark"),this.dom.removeClass(document.body,"colored"),this.dom.removeClass(document.body,"light"));const t=this.util;setTimeout((()=>{t.getUIStyles(),this.setUIColorRefresh(),this.opts.onThemeChange&&this.opts.onThemeChange()}),1e3)}}setUIColorRefresh(){const e=this.util;if(!this.rte||!this.element)return void setTimeout((()=>{this.setUIColorRefresh()}),600);let t=this.rte.rteFontFamilyOptions.querySelector("iframe").contentWindow.document;let i=this.builderStuff.querySelector(".is-modal.pickfontfamily").querySelector("iframe").contentWindow.document,n=this.rte.rteIconOptions.querySelector("iframe").contentWindow.document;""===t.body.innerHTML?(t.open(),this.opts.emailMode?t.write(e.getFontFamilyEmail()):t.write(e.getFontFamilyHTML()),t.close()):this.util.refreshFontFamilyStyle1(),""===i.body.innerHTML?(i.open(),this.opts.emailMode?i.write(e.getFontFamilyEmail(!0)):i.write(e.getFontFamilyHTML(!0)),i.close()):this.util.refreshFontFamilyStyle2(),""===n.body.innerHTML?(n.open(),n.write(this.rte.getIconsHTML()),n.close()):this.rte.refreshIconsStyle(),this.builderStuff.querySelector(".snippets").querySelector("iframe").src="about:blank";let s=document.querySelector(".is-modal.videoselect"),o=document.querySelector(".is-modal.imageselect"),a=document.querySelector(".is-modal.fileselect"),l=document.querySelector(".is-modal.otherselect"),r=s.querySelector("iframe"),d=o.querySelector("iframe"),c=a.querySelector("iframe"),u=l.querySelector("iframe");r.contentWindow.applyParentStyles&&r.contentWindow.applyParentStyles(),d.contentWindow.applyParentStyles&&d.contentWindow.applyParentStyles(),c.contentWindow.applyParentStyles&&c.contentWindow.applyParentStyles(),u.contentWindow.applyParentStyles&&u.contentWindow.applyParentStyles()}openMedia(e){let t="",i=e.getAttribute("data-modal-theme");i||(i="light");const n=e.getAttribute("data-modal-color");if(e.getAttribute("data-modal-url")){t=e.getAttribute("data-modal-url");let s=t.split(".").pop().split("?")[0].split("#")[0];if("jpg"===s||"jpeg"===s||"png"===s||"gif"===s||"webm"===s||"webp"===s)this.lightbox.openImage(t,i,n);else if("mp4"===s)this.lightbox.openVideo(t,"dark",n);else if(-1!==t.toLowerCase().indexOf("youtube.com")||-1!==t.toLowerCase().indexOf("youtube-nocookie.com")||-1!==t.toLowerCase().indexOf("vimeo.com"))this.lightbox.openExternalVideo(t,"dark",n);else{if(0===t.indexOf("#"));else{if(!window.confirm(this.util.out("Do you really want to leave?")))return!1}window.location.href=t}}else e.getAttribute("data-modal-image")&&(t=e.getAttribute("data-modal-image"),this.lightbox.openImage(t,i,n)),e.getAttribute("data-modal-video")&&(t=e.getAttribute("data-modal-video"),this.lightbox.openVideo(t,"dark",n)),e.getAttribute("data-modal-externalvideo")&&(t=e.getAttribute("data-modal-externalvideo"),this.lightbox.openExternalVideo(t,"dark",n))}async upscaleImage(e,t){const i=new Image;i.src=e,i.onload=async()=>{const e=document.createElement("canvas");e.width=512,e.height=512;e.getContext("2d").drawImage(i,0,0,512,512);let n=e.toDataURL("image/jpeg");n=n.replace(/^data:image\/(png|jpeg);base64,/,"");const s={image:n,folder_path:""},o=await fetch(this.upscaleImageUrl,{signal:this.signal,method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}),a=await o.json();t([a.url])}}async generateImage(e,t){this.controller=new AbortController,this.signal=this.controller.signal;const i={model:this.imageModel||"realistic-vision-v3",prompt:e,negative_prompt:this.imageNegativePrompt||"duplicate, (deformed iris, deformed pupils, semi-realistic, cgi, 3d, render, sketch, cartoon, drawing, anime:1.4), text, close up, cropped, out of frame, worst quality, low quality, jpeg artifacts, ugly, duplicate, morbid, mutilated, extra fingers, mutated hands, poorly drawn hands, poorly drawn face, mutation, deformed, blurry, dehydrated, bad anatomy, bad proportions, extra limbs, cloned face, disfigured, gross proportions, malformed limbs, missing arms, missing legs, extra arms, extra legs, fused fingers, too many fingers, long neck, bad_prompt_version2, bad-hands-5, badhandv4, bad anatomy, deformed, mutated, amputated, missing finger, extra finger, fused fingers, missing leg, extra leg, fused legs, missing digit, extra digit, fused digits, missing hand, extra hand, fused hands, missing arm, extra arm, fused arms, missing limb, extra limb, fused limbs, fused bodies, merged bodies, extra bodies, dual bodies, extra navel, elongated body, missing joint, extra joint, fused joints, deformed hip, twisted limbs, twisted legs, twisted arms, missing head, extra head, double head, twins, missing ear, extra ear, deformed ear, black and white, monochrome, multiple views, blurry, text, signature, head out of frame, paintings, sketches, (worst quality:2), (low quality:2), (normal quality:2), lowres, grayscale, glans, bad hands, error, extra digit, fewer digits, cropped, jpeg artifacts, watermark, username, bad feet, poorly drawn hands, poorly drawn face, mutation, too many fingers, long neck, long body, long arms, cross-eyed, mutated hands, polar lowres, bad body, bad proportions, gross proportions, cropped head , bad eyes, extra breast, missing breast, fused breasts, unnatural proportions, necklace",width:512,height:512,steps:this.imageSteps||25,guidance:this.imageGuidance||7.5,scheduler:this.imageScheduler||"dpmsolver++",output_format:"jpeg",folder_path:""};try{let e=this.textToImageUrl;const n=await fetch(e,{signal:this.signal,method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)}),s=await n.json();if(s.error)return void console.log("Error:\n"+s.error);const o=s.url;this.imageAutoUpscale?this.upscaleImage(o,t):t([o])}catch(e){"AbortError"===e.name||(console.error("Error:",e),this.dictation.finish())}}lightboxOpen(e){this.useLightbox&&(e.hasAttribute("data-noedit")||e.hasAttribute("data-protected"))&&this.dom.hasClass(e,"block-click")&&this.openMedia(e)}handleCellClick(e,t){this.cleanEditing&&(e.parentNode.querySelector(".is-row-tool").style.display="",e.parentNode.querySelector(".is-col-tool").style.display=""),this.lightboxOpen(e);this.util.clearActiveCell(),this.activeCol=e;let i=t.target;this.dom.addClass(e,"cell-active");let n=e.parentNode;this.dom.addClass(n,"row-active");const s=this.doc.querySelectorAll(this.opts.container);Array.prototype.forEach.call(s,(e=>{this.dom.removeClass(e,"builder-active")})),this.dom.addClass(n.parentNode,"builder-active"),this.dom.addClass(this.doc.body,"content-edit"),n.childElementCount-2==1||this.dom.addClass(n,"row-outline"),this.opts.onContentClick&&this.opts.onContentClick(t),this.element.click(e,t),this.colTool.click(e),this.elmTool.click(e,t),this.rte.click(e,t);const o=document.querySelector(".grideditor.active");if(o){const t=o.querySelector(".cell-locking");e.hasAttribute("data-noedit")?this.dom.addClass(t,"on"):this.dom.removeClass(t,"on")}let a=this.dom.getParentElement(i,"a");if(("a"===i.tagName.toLowerCase()||a)&&(e.hasAttribute("data-noedit")||e.hasAttribute("data-protected"))){if("true"===e.getAttribute("contenteditable"))return t.preventDefault(),!1;if("a"===i.tagName.toLowerCase()&&(a=i),this.useLightbox&&this.dom.hasClass(a,"is-lightbox")){let e=a.getAttribute("href");if(!e)return t.preventDefault(),!1;let n=e.split(".").pop().split("?")[0].split("#")[0],s=a.getAttribute("data-modal-theme");s||(s="light");const o=i.getAttribute("data-modal-color");if("jpg"===n||"jpeg"===n||"png"===n||"gif"===n||"webm"===n||"webp"===n)return this.lightbox.openImage(e,s,o),t.preventDefault(),!1;if("mp4"===n)return this.lightbox.openVideo(e,"dark",o),t.preventDefault(),!1;if(-1!==e.toLowerCase().indexOf("youtube.com")||-1!==e.toLowerCase().indexOf("youtube-nocookie.com")||-1!==e.toLowerCase().indexOf("vimeo.com"))return this.lightbox.openExternalVideo(e,"dark",o),t.preventDefault(),!1;if(0===e.indexOf("#"));else{if(!window.confirm(this.util.out("Do you really want to leave?")))return t.preventDefault(),!1}}else{let e=a.getAttribute("href");if(!e)return t.preventDefault(),!1;if(0===e.indexOf("#"));else{if(!window.confirm(this.util.out("Do you really want to leave?")))return t.preventDefault(),!1}}}if(1===e.childElementCount){let t=e.children[0];t&&this.dom.hasClass(t,"spacer")&&(e.contentEditable=!1)}this.colTool.showHideLockIndicator(e);const l=n.querySelector(".is-rowadd-tool").querySelector("button");l.style.marginTop="";const r=Array.from(n.parentNode.children).filter((e=>"div"===e.nodeName.toLowerCase()));if(r&&r.length>0){if(n===r[r.length-1]){const e=n.closest(".is-section");if(e){const t=this.dom.getElementOffset(e);let i=t.top+t.height;const s=this.dom.getElementOffset(n);i-(s.top+s.height)<19&&(l.style.marginTop="-14px")}}}this.opts.enableDragResize&&(this.resize&&this.resize.destroy(),e.classList.contains("noresize")||(this.resize=new Jv(e,this),this.resize.enable())),this.settings.onSelectionChange&&this.settings.onSelectionChange(t)}handleCellKeypress(e){e.ctrlKey||e.metaKey||(null===this.uoTm?(this.uo.saveForUndo(),this.uoTm=setTimeout((()=>{this.uoTm=null}),1e3)):(clearTimeout(this.uoTm),this.uoTm=setTimeout((()=>{this.uoTm=null}),1e3)))}handleCellKeydown(e,t){this.oriLen=e.textContent.length;let i=e.querySelectorAll("span");if(Array.prototype.forEach.call(i,(e=>{e.setAttribute("data-keep","")})),(t.ctrlKey||t.metaKey)&&86===t.which&&this.handleCellPaste(),this.opts.elementSelection&&!this.emailMode&&(t.ctrlKey||t.metaKey)&&65===t.which){let e;try{this.win.getSelection?e=this.win.getSelection().getRangeAt(0).commonAncestorContainer.parentNode:this.doc.selection&&(e=this.doc.selection.createRange().parentElement()),this.dom.hasClass(e.parentNode.parentNode,"is-builder")||this.dom.selectElementContents(e),t.preventDefault()}catch(t){}}if(46===t.keyCode){let e;try{if(window.getSelection?e=window.getSelection().getRangeAt(0).commonAncestorContainer:document.selection&&(e=document.selection.createRange()),"<br>"===e.innerHTML){e.nextElementSibling&&(e.parentNode.removeChild(e),t.preventDefault())}}catch(t){}}if(8===t.keyCode){let e;try{if(window.getSelection?e=window.getSelection().getRangeAt(0).commonAncestorContainer:document.selection&&(e=document.selection.createRange()),""===e.textContent){e.previousElementSibling||t.preventDefault()}}catch(t){}}if(9===t.which&&!t.shiftKey){const e=this.activeCol;if(e)if(e.nextElementSibling&&e.nextElementSibling.hasAttribute("data-click")){const i=e.nextElementSibling;i&&i.click();let n=window.getSelection(),s=this.createRange(i,{count:0});s&&(s.collapse(!1),n.removeAllRanges(),n.addRange(s)),i.firstElementChild&&setTimeout((()=>{i.firstElementChild.click()}),200),t.preventDefault()}else if(e.parentNode.nextElementSibling){const i=e.parentNode.nextElementSibling;if(i){const e=i.firstElementChild;e&&e.click();let n=window.getSelection(),s=this.createRange(e,{count:0});s&&(s.collapse(!1),n.removeAllRanges(),n.addRange(s)),e.firstElementChild&&setTimeout((()=>{e.firstElementChild.click()}),200),t.preventDefault()}}}if(9===t.which&&t.shiftKey){const e=this.activeCol;if(e)if(e.previousElementSibling&&e.previousElementSibling.hasAttribute("data-click")){const i=e.previousElementSibling;i&&i.click(),i.firstElementChild&&i.firstElementChild.click();let n=window.getSelection(),s=this.createRange(i,{count:0});s&&(s.collapse(!1),n.removeAllRanges(),n.addRange(s)),i.firstElementChild&&setTimeout((()=>{i.firstElementChild.click()}),200),t.preventDefault()}else if(e.parentNode.previousElementSibling){const i=e.parentNode.previousElementSibling.querySelectorAll("[data-click]");if(i.length>0){const e=i[i.length-1];e&&e.click(),e.firstElementChild&&e.firstElementChild.click();let n=window.getSelection(),s=this.createRange(e,{count:0});s&&(s.collapse(!1),n.removeAllRanges(),n.addRange(s)),e.firstElementChild&&setTimeout((()=>{e.firstElementChild.click()}),200),t.preventDefault()}}}const n=()=>{let t=e.querySelectorAll("span");Array.prototype.forEach.call(t,(e=>{e.setAttribute("data-keep","")}))},s=t.ctrlKey||t.metaKey;if(s&&66===t.which&&this.opts.useCssClasses&&(this.dom.execCommandToggle("fontWeight","",this.opts.cssClasses),this.opts.onChange(),t.preventDefault(),n()),s&&73===t.which&&this.opts.useCssClasses&&(this.dom.execCommandToggle("fontStyle","",this.opts.cssClasses),this.opts.onChange(),t.preventDefault(),n()),s&&85===t.which&&this.opts.useCssClasses&&(this.dom.execCommandToggle("textUnderline","",this.opts.cssClasses),this.opts.onChange(),t.preventDefault(),n()),s&&83===t.which&&this.opts.useCssClasses&&(this.dom.execCommandToggle("textLinethrough","",this.opts.cssClasses),this.opts.onChange(),t.preventDefault(),n()),s&&221===t.which&&(t.preventDefault(),document.execCommand("indent",!1,null),this.opts.onChange(),t.preventDefault(),n()),s&&219===t.which&&(t.preventDefault(),document.execCommand("outdent",!1,null),this.opts.onChange(),t.preventDefault(),n()),s&&75===t.which&&(this.element.hyperlink.createLink(),t.preventDefault()),s&&80===t.which&&(t.preventDefault(),this.rte.insertImage()),(46===t.which||8===t.which)&&this.activeIcon){if("a"===this.activeIcon.parentNode.tagName.toLowerCase()&&1===this.activeIcon.parentNode.children.length||1===this.activeIcon.parentNode.children.length){let e=this.activeIcon.parentNode,t=e.parentNode;e.parentNode.removeChild(e);this.builderStuff.querySelector("#divLinkTool").style.display="";this.builderStuff.querySelector(".is-element-tool").style.display="",t&&""===t.innerHTML.trim()&&t.parentNode.removeChild(t)}else this.activeIcon.parentNode.removeChild(this.activeIcon);t.preventDefault()}this.cleanEditing&&(this.colTool.columnTool.classList.remove("active"),e.parentNode.querySelector(".is-row-tool").style.display="none",e.parentNode.querySelector(".is-col-tool").style.display="none")}createRange(e,t,i){if(i||((i=document.createRange()).selectNode(e),i.setStart(e,0)),0===t.count)i.setEnd(e,t.count);else if(e&&t.count>0)if(e.nodeType===Node.TEXT_NODE)e.textContent.length<t.count?t.count-=e.textContent.length:(i.setEnd(e,t.count),t.count=0);else for(var n=0;n<e.childNodes.length&&(i=this.createRange(e.childNodes[n],t,i),0!==t.count);n++);return i}handleCellFocus(e){const t=this.activeCol;t?e!==t&&(e.firstElementChild?e.firstElementChild.click():e.click()):e.firstElementChild?e.firstElementChild.click():e.click()}handleCellKeyup(e,t){this.dom.textSelection()&&("38"===t.keyCode||"40"===t.keyCode||"37"===t.keyCode||"39"===t.keyCode)&&this.util.saveSelection();let i=e.querySelectorAll("span");var n;Array.prototype.forEach.call(i,(e=>{e.hasAttribute("data-keep")||(e.outerHTML=e.innerHTML)}));try{this.win.getSelection?n=this.win.getSelection().getRangeAt(0).commonAncestorContainer.parentNode:this.doc.selection&&(n=this.doc.selection.createRange().parentElement())}catch(t){return}if(13===t.keyCode&&!t.shiftKey){"p"!==n.tagName.toLowerCase()&&"div"!==n.tagName.toLowerCase()||this.doc.execCommand("formatBlock",!1,"<p>");let t=e.querySelectorAll("[data-keep]");Array.prototype.forEach.call(t,(e=>{e.removeAttribute("data-keep")}))}this.oriLen!==e.textContent.length&&this.typing(),this.elmTool.hide()}typing(){this.timeoutId&&clearTimeout(this.timeoutId),this.timeoutId=setTimeout((()=>{this.opts.onChange()}),2e3)}handleCellPaste(){this.uo.saveForUndo();const e=this.util;e.saveSelection();let t=this.doc.querySelector("#idContentWord");var i,n;t&&t.parentNode.removeChild(t),this.win.getSelection?i=3===(n=this.win.getSelection().getRangeAt(0).commonAncestorContainer).nodeType?n.parentNode:n:this.doc.selection&&(n=this.doc.selection.createRange(),i=this.doc.selection.createRange().parentElement());const s='<div style="position:absolute;z-index:-1000;top:'+(i.getBoundingClientRect().top+this.win.pageYOffset)+'px;left:-1000px;width:100px;height:100px;overflow:auto;" name="idContentWord" id="idContentWord" contenteditable="true"></div>';this.iframe?this.dom.appendHtml(this.contentStuff,s):this.dom.appendHtml(this.builderStuff,s),t=this.doc.querySelector("#idContentWord"),t.focus(),setTimeout((()=>{try{var t="";let u=this.doc.querySelector("#idContentWord");var i=!1,n=u.innerText;if(!this.opts.disableAutoEmbedVideo){var s=/^http[s]?:\/\/(((www.youtube.com\/watch\?(feature=player_detailpage&)?)v=)|(youtu.be\/))([^#&?]*)/.exec(n),o=/^.*(vimeo\.com\/)((channels\/[A-z]+\/)|(groups\/[A-z]+\/videos\/)|(video\/))?([0-9]+)\/?/.exec(n);if(null!==s||null!==o){if(null!==s&&s.length>=7)n="https://www.youtube.com/embed/"+s[6]+"?rel=0";if(null!==o&&o.length>=7)n="https://player.vimeo.com/video/"+o[6];t='<div class="embed-responsive embed-responsive-16by9"><iframe tabindex="0" width="560" height="315" src="'+n+'" frameborder="0" allowfullscreen=""></iframe></div>',i=!0}}if(!i)if("text"===this.opts.paste){let e=u.querySelectorAll("p,h1,h2,h3,h4,h5,h6");Array.prototype.forEach.call(e,(e=>{e.innerHTML=e.innerHTML+" "})),t=u.innerHTML,0===(t=(t=t.replace(/(<([^>]+)>)/gi,"<br>")).replace(/(<br\s*\/?>){3,}/gi,"<br>")).indexOf("<br>")&&(t=t.substring(4)),"<br>"===t.substring(t.length-4)&&(t=t.substring(0,t.length-4)),t=t.trim()}else{t=u.innerHTML,t="html"===this.opts.paste?e.cleanHTML(t,!1):e.cleanHTML(t,!0),u.innerHTML=t;let i=u.querySelectorAll("li");Array.prototype.forEach.call(i,(e=>{e.style.whiteSpace="";const t=e.childNodes;let i=t.length;for(;i--;)"P"===t[i].tagName&&(t[i].outerHTML=t[i].innerHTML)})),t=u.innerHTML}u=this.doc.querySelector("#idContentWord"),u&&u.parentNode.removeChild(u),e.restoreSelection();var a=this.win.getSelection(),l=a.getRangeAt(0);l.extractContents(),l.collapse(!0);var r=l.createContextualFragment(t),d=r.lastChild;if(l.insertNode(r),this.activeCol){this.activeCol.querySelectorAll("h1:empty,h2:empty,h3:empty,h4:empty,h5:empty,h6:empty,p:empty").forEach((e=>{e.remove()}));let e=this.activeCol.querySelector("p.elm-active,h1.elm-active,h2.elm-active,h3.elm-active,h4.elm-active,h5.elm-active,h6.elm-active");if(e){if(e.querySelectorAll("p,h1,h2,h3,h4,h5,h6").length>0){let t=e.nextElementSibling;if(Array.from(e.childNodes).filter((e=>3===e.nodeType&&e.textContent.trim().length>1)).forEach((e=>{const t=document.createElement("p");e.after(t),t.appendChild(e)})),e.firstElementChild&&1===e.childNodes.length&&"SPAN"===e.firstElementChild.tagName){e.outerHTML=e.firstElementChild.innerHTML,this.activeCol.querySelectorAll("*:empty").forEach((e=>{e.remove()})),t?this.dom.moveCursorToElement(t.previousElementSibling):this.dom.moveCursorToElement(this.activeCol);let i=this.doc.querySelector(".builder-active");return i&&this.applyBehaviorOn(i),this.opts.onChange(),void this.opts.onRender()}e.outerHTML=e.innerHTML,this.activeCol.find("h1:empty,h2:empty,h3:empty,h4:empty,h5:empty,h6:empty,p:empty").remove(),t?this.dom.moveCursorToElement(t.previousElementSibling):this.dom.moveCursorToElement(this.activeCol);let i=this.doc.querySelector(".builder-active");return i&&this.applyBehaviorOn(i),this.opts.onChange(),void this.opts.onRender()}}}l.setStartAfter(d),l.setEndAfter(d),l.collapse(!1);var c=l.commonAncestorContainer;if(c&&c.parentNode)try{c.parentNode.normalize()}catch(e){}a.removeAllRanges(),a.addRange(l);let p=this.doc.querySelector(".builder-active");p&&this.applyBehaviorOn(p),this.opts.onChange(),this.opts.onRender()}catch(e){let t=this.doc.querySelector("#idContentWord");t&&t.parentNode.removeChild(t)}}),800)}cellSelected(){return this.util.cellSelected()}loadScript(e,t,i=!0,n=!0){return new Promise(((s,o)=>{let a=document.createElement("script");const l=t||document.getElementsByTagName("script")[0];function r(e,t){(t||!a.readyState||/loaded|complete/.test(a.readyState))&&(a.onload=null,a.onreadystatechange=null,a=void 0,t?o():s())}a.async=i,a.defer=n,a.onload=r,a.onreadystatechange=r,a.src=e,l.parentNode.insertBefore(a,l)}))}currentScriptPath(){let e,t;for(var i=document.getElementsByTagName("script"),n=0;n<i.length;n++){var s=i[n].src;e="contentbuilder.js",s.indexOf(e)>-1&&(t=s.substring(0,s.indexOf(e))),e="contentbuilder.min.js",s.indexOf(e)>-1&&(t=s.substring(0,s.indexOf(e)))}return t}sectionDropSetup(){if(this.page){if(".is-wrapper"!==this.page)return;const e=this.doc.querySelector(this.page);this.sortableOnPage=new kl(e,{scroll:!0,group:"shared",direction:"vertical",animation:150,sort:!0,onAdd:e=>{var t=e.item;if(t.querySelector(".is-col-tool")){let e=t.querySelector(".is-row-tool"),i=t.querySelector(".is-col-tool"),n=t.querySelector(".is-rowadd-tool");t.removeChild(e),t.removeChild(i),t.removeChild(n);let s=t.querySelectorAll("[data-click]");return s.forEach((e=>{e.removeAttribute("data-click")})),t.removeAttribute("draggable"),t.classList.remove("row-active"),t.classList.remove("row-outline"),s=t.querySelectorAll(".cell-active"),s.forEach((e=>{e.classList.remove("cell-active")})),s=t.querySelectorAll("*"),s.forEach((e=>{e.style.cursor=""})),t.outerHTML=this.settings.sectionTemplate.replace("[%CONTENT%]",t.outerHTML),void(this.opts.onSectionAdd&&this.opts.onSectionAdd())}if(t.getAttribute("data-id")){let e=t.getAttribute("data-id");const p=this.opts.snippetJSON.snippets.filter((t=>t.id+""===e&&t));var i,n=p[0].html,s=p[0].noedit;i=-1===n.indexOf('"row'),this.opts.emailMode&&(i=!1);var o=this.opts.row,a=this.opts.cols;if(""!==o&&12===a.length&&(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=n.replace(new RegExp("row clearfix","g"),"row")).replace(new RegExp('"row',"g"),'"'+o)).replace(new RegExp("column full","g"),a[11])).replace(new RegExp("column half","g"),a[5])).replace(new RegExp("column third","g"),a[3])).replace(new RegExp("column fourth","g"),a[2])).replace(new RegExp("column fifth","g"),a[1])).replace(new RegExp("column sixth","g"),a[1])).replace(new RegExp("column two-third","g"),a[7])).replace(new RegExp("column two-fourth","g"),a[8])).replace(new RegExp("column two-fifth","g"),a[9])).replace(new RegExp("column two-sixth","g"),a[9])),n=n.replace(/{id}/g,this.util.makeId()),this.opts.onAdd&&(n=this.opts.onAdd(n)),this.opts.snippetPathReplace.length>0&&""!==this.opts.snippetPathReplace[0]){var l=new RegExp(this.opts.snippetPathReplace[0],"g");n=n.replace(l,this.opts.snippetPathReplace[1]);var r=this.opts.snippetPathReplace[0].replace(/\//g,"%2F"),d=this.opts.snippetPathReplace[1].replace(/\//g,"%2F"),c=new RegExp(r,"g");n=n.replace(c,d)}if(i)n=`<div class="${this.opts.row}"><div class="${this.opts.cols[this.opts.cols.length-1]}"${s?" data-noedit":""}>${n}</div></div>`,t.removeAttribute("draggable"),this.dom.removeClass(t,"snippet-item"),t.outerHTML=this.settings.sectionTemplate.replace("[%CONTENT%]",n);else{let e=this.dom.createElement("div");e.innerHTML=n;let i=e.querySelectorAll("[data-html]");Array.prototype.forEach.call(i,(e=>{n=(n=(n=decodeURIComponent(e.getAttribute("data-html"))).replace(/{id}/g,this.util.makeId())).replace(/<script>/g,""+(this.nonce?`<script nonce="${this.nonce}">`:"<script>"));for(var t=1;t<=20;t++)n=n.replace("[%HTML"+t+"%]",void 0===e.getAttribute("data-html-"+t)?"":decodeURIComponent(e.getAttribute("data-html-"+t)));e.innerHTML=n})),n=e.innerHTML,t.removeAttribute("draggable"),this.dom.removeClass(t,"snippet-item"),t.innerHTML="";var u=document.createRange();u.setStart(t,0),t.appendChild(u.createContextualFragment(n)),t.outerHTML=this.settings.sectionTemplate.replace("[%CONTENT%]",t.innerHTML)}this.opts.onSectionAdd&&this.opts.onSectionAdd(),this.opts.onChange(),this.opts.onRender()}this.sortableOnPage.destroy()}})}}hideElementTools(){let e=document.querySelector(".is-element-tool"),t=document.querySelector("#divImageTool"),i=document.querySelector("#divImageResizer");if(t&&"flex"===t.style.display){this.editor.moveable&&this.editor.moveable.updateRect();let e=this.doc.querySelector(".moveable-control-box");e&&(e.style.display="none")}e&&(e.style.display=""),t&&(t.style.display=""),i&&(i.style.display="")}}var cy={exports:{}};!function(e,t){
/*!
       * pace.js v1.2.4
       * https://github.com/CodeByZach/pace/
       * Licensed MIT © HubSpot, Inc.
       */
(function(){if("undefined"!=typeof window){var t,i,n,s,o,a,l,r,d,c,u,p,h,m,g,b,f,v,y,x,_,w,S,C,k,A,E,L,q,T,M,O,R,I,B,N,$,z,P,H,D,j,U,F,W,Y,X,G,V,K=[].slice,Z={}.hasOwnProperty,Q=function(e,t){for(var i in t)Z.call(t,i)&&(e[i]=t[i]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},J=[].indexOf||function(e){for(var t=0,i=this.length;t<i;t++)if(t in this&&this[t]===e)return t;return-1},ee=function(e,t){return function(){return e.apply(t,arguments)}};for(w={className:"",catchupTime:100,initialRate:.03,minTime:250,ghostTime:100,maxProgressPerFrame:20,easeFactor:1.25,startOnPageLoad:!0,restartOnPushState:!0,restartOnRequestAfter:500,target:"body",elements:{checkInterval:100,selectors:["body"]},eventLag:!1,ajax:{trackMethods:["GET"],trackWebSockets:!0,ignoreURLs:[]}},T=function(){var e;return null!=(e="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance.now():void 0)?e:+new Date},O=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,_=window.cancelAnimationFrame||window.mozCancelAnimationFrame,b=function(e,t,i){return"function"==typeof e.addEventListener?e.addEventListener(t,i,!1):function(){if("function"!=typeof e["on"+t]||"object"!=typeof e["on"+t].eventListeners){var n=new r;"function"==typeof e["on"+t]&&n.on(t,e["on"+t]),e["on"+t]=function(e){return n.trigger(t,e)},e["on"+t].eventListeners=n}else n=e["on"+t].eventListeners;n.on(t,i)}()},null==O&&(O=function(e){return setTimeout(e,50)},_=function(e){return clearTimeout(e)}),I=function(e){var t,i;return t=T(),i=function(){var n;return(n=T()-t)>=33?(t=T(),e(n,(function(){return O(i)}))):setTimeout(i,33-n)},i()},R=function(){var e,t,i;return i=arguments[0],t=arguments[1],e=3<=arguments.length?K.call(arguments,2):[],"function"==typeof i[t]?i[t].apply(i,e):i[t]},S=function(){var e,t,i,n,s,o,a;for(t=arguments[0],o=0,a=(n=2<=arguments.length?K.call(arguments,1):[]).length;o<a;o++)if(i=n[o])for(e in i)Z.call(i,e)&&(s=i[e],null!=t[e]&&"object"==typeof t[e]&&null!=s&&"object"==typeof s?S(t[e],s):t[e]=s);return t},v=function(e){var t,i,n,s,o;for(i=t=0,s=0,o=e.length;s<o;s++)n=e[s],i+=Math.abs(n),t++;return i/t},k=function(e,t){var i,n,s;if(null==e&&(e="options"),null==t&&(t=!0),s=document.querySelector("[data-pace-"+e+"]")){if(i=s.getAttribute("data-pace-"+e),!t)return i;try{return JSON.parse(i)}catch(e){return n=e,"undefined"!=typeof console&&null!==console?console.error("Error parsing inline pace options",n):void 0}}},l=function(){function e(){}return e.prototype.on=function(e,t,i,n){var s;return null==n&&(n=!1),null==this.bindings&&(this.bindings={}),null==(s=this.bindings)[e]&&(s[e]=[]),this.bindings[e].push({handler:t,ctx:i,once:n})},e.prototype.once=function(e,t,i){return this.on(e,t,i,!0)},e.prototype.off=function(e,t){var i,n,s;if(null!=(null!=(n=this.bindings)?n[e]:void 0)){if(null==t)return delete this.bindings[e];for(i=0,s=[];i<this.bindings[e].length;)this.bindings[e][i].handler===t?s.push(this.bindings[e].splice(i,1)):s.push(i++);return s}},e.prototype.trigger=function(){var e,t,i,n,s,o,a,l,r;if(i=arguments[0],e=2<=arguments.length?K.call(arguments,1):[],null!=(a=this.bindings)?a[i]:void 0){for(s=0,r=[];s<this.bindings[i].length;)n=(l=this.bindings[i][s]).handler,t=l.ctx,o=l.once,n.apply(null!=t?t:this,e),o?r.push(this.bindings[i].splice(s,1)):r.push(s++);return r}},e}(),c=window.Pace||{},window.Pace=c,S(c,l.prototype),M=c.options=S({},w,window.paceOptions,k()),F=0,Y=(G=["ajax","document","eventLag","elements"]).length;F<Y;F++)!0===M[z=G[F]]&&(M[z]=w[z]);d=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Q(t,e),t}(Error),i=function(){function e(){this.progress=0}return e.prototype.getElement=function(){var e;if(null==this.el){if(!(e=document.querySelector(M.target)))throw new d;this.el=document.createElement("div"),this.el.className="pace pace-active",document.body.className=document.body.className.replace(/(pace-done )|/,"pace-running ");var t=""!==M.className?" "+M.className:"";this.el.innerHTML='<div class="pace-progress'+t+'">\n  <div class="pace-progress-inner"></div>\n</div>\n<div class="pace-activity"></div>',null!=e.firstChild?e.insertBefore(this.el,e.firstChild):e.appendChild(this.el)}return this.el},e.prototype.finish=function(){var e;return(e=this.getElement()).className=e.className.replace("pace-active","pace-inactive"),document.body.className=document.body.className.replace("pace-running ","pace-done ")},e.prototype.update=function(e){return this.progress=e,c.trigger("progress",e),this.render()},e.prototype.destroy=function(){try{this.getElement().parentNode.removeChild(this.getElement())}catch(e){d=e}return this.el=void 0},e.prototype.render=function(){var e,t,i,n,s,o,a;if(null==document.querySelector(M.target))return!1;for(e=this.getElement(),n="translate3d("+this.progress+"%, 0, 0)",s=0,o=(a=["webkitTransform","msTransform","transform"]).length;s<o;s++)t=a[s],e.children[0].style[t]=n;return(!this.lastRenderedProgress||this.lastRenderedProgress|0!==this.progress|0)&&(e.children[0].setAttribute("data-progress-text",(0|this.progress)+"%"),this.progress>=100?i="99":(i=this.progress<10?"0":"",i+=0|this.progress),e.children[0].setAttribute("data-progress",""+i)),c.trigger("change",this.progress),this.lastRenderedProgress=this.progress},e.prototype.done=function(){return this.progress>=100},e}(),r=function(){function e(){this.bindings={}}return e.prototype.trigger=function(e,t){var i,n,s,o,a;if(null!=this.bindings[e]){for(a=[],n=0,s=(o=this.bindings[e]).length;n<s;n++)i=o[n],a.push(i.call(this,t));return a}},e.prototype.on=function(e,t){var i;return null==(i=this.bindings)[e]&&(i[e]=[]),this.bindings[e].push(t)},e}(),U=window.XMLHttpRequest,j=window.XDomainRequest,D=window.WebSocket,C=function(e,t){var i,n;for(i in n=[],t.prototype)try{null==e[i]&&"function"!=typeof t[i]?"function"==typeof Object.defineProperty?n.push(Object.defineProperty(e,i,{get:function(e){return function(){return t.prototype[e]}}(i),configurable:!0,enumerable:!0})):n.push(e[i]=t.prototype[i]):n.push(void 0)}catch(e){}return n},L=[],c.ignore=function(){var e,t,i;return t=arguments[0],e=2<=arguments.length?K.call(arguments,1):[],L.unshift("ignore"),i=t.apply(null,e),L.shift(),i},c.track=function(){var e,t,i;return t=arguments[0],e=2<=arguments.length?K.call(arguments,1):[],L.unshift("track"),i=t.apply(null,e),L.shift(),i},$=function(e){var t;if(null==e&&(e="GET"),"track"===L[0])return"force";if(!L.length&&M.ajax){if("socket"===e&&M.ajax.trackWebSockets)return!0;if(t=e.toUpperCase(),J.call(M.ajax.trackMethods,t)>=0)return!0}return!1},u=function(e){function t(){var e,i=this;t.__super__.constructor.apply(this,arguments),e=function(e){var t;return t=e.open,e.open=function(n,s,o){return $(n)&&i.trigger("request",{type:n,url:s,request:e}),t.apply(e,arguments)}},window.XMLHttpRequest=function(t){var i;return i=new U(t),e(i),i};try{C(window.XMLHttpRequest,U)}catch(e){}if(null!=j){window.XDomainRequest=function(){var t;return t=new j,e(t),t};try{C(window.XDomainRequest,j)}catch(e){}}if(null!=D&&M.ajax.trackWebSockets){window.WebSocket=function(e,t){var n;return n=null!=t?new D(e,t):new D(e),$("socket")&&i.trigger("request",{type:"socket",url:e,protocols:t,request:n}),n};try{C(window.WebSocket,D)}catch(e){}}}return Q(t,e),t}(r),W=null,N=function(e){var t,i,n,s;for(i=0,n=(s=M.ajax.ignoreURLs).length;i<n;i++)if("string"==typeof(t=s[i])){if(-1!==e.indexOf(t))return!0}else if(t.test(e))return!0;return!1},(A=function(){return null==W&&(W=new u),W})().on("request",(function(e){var i,n,s,o,a;if(o=e.type,s=e.request,a=e.url,!N(a))return c.running||!1===M.restartOnRequestAfter&&"force"!==$(o)?void 0:(n=arguments,"boolean"==typeof(i=M.restartOnRequestAfter||0)&&(i=0),setTimeout((function(){var e,i,a,l,r;if("socket"===o?s.readyState<1:0<(a=s.readyState)&&a<4){for(c.restart(),r=[],e=0,i=(l=c.sources).length;e<i;e++){if((z=l[e])instanceof t){z.watch.apply(z,n);break}r.push(void 0)}return r}}),i))})),t=function(){function e(){this.complete=ee(this.complete,this);var e=this;this.elements=[],A().on("request",(function(){return e.watch.apply(e,arguments)}))}return e.prototype.watch=function(e){var t,i,n,s;if(n=e.type,t=e.request,s=e.url,!N(s))return i="socket"===n?new m(t,this.complete):new g(t,this.complete),this.elements.push(i)},e.prototype.complete=function(e){return this.elements=this.elements.filter((function(t){return t!==e}))},e}(),g=function(e,t){var i,n,s,o,a=this;if(this.progress=0,null!=window.ProgressEvent)for(b(e,"progress",(function(e){return e.lengthComputable?a.progress=100*e.loaded/e.total:a.progress=a.progress+(100-a.progress)/2})),i=0,n=(o=["load","abort","timeout","error"]).length;i<n;i++)b(e,o[i],(function(){return t(a),a.progress=100}));else s=e.onreadystatechange,e.onreadystatechange=function(){var i;return 0===(i=e.readyState)||4===i?(t(a),a.progress=100):3===e.readyState&&(a.progress=50),"function"==typeof s?s.apply(null,arguments):void 0}},m=function(e,t){var i,n,s,o=this;for(this.progress=0,i=0,n=(s=["error","open"]).length;i<n;i++)b(e,s[i],(function(){return t(o),o.progress=100}))},s=function(){function e(e){var t,i,n,s;for(null==e&&(e={}),this.complete=ee(this.complete,this),this.elements=[],null==e.selectors&&(e.selectors=[]),i=0,n=(s=e.selectors).length;i<n;i++)t=s[i],this.elements.push(new o(t,this.complete))}return e.prototype.complete=function(e){return this.elements=this.elements.filter((function(t){return t!==e}))},e}(),o=function(){function e(e,t){this.selector=e,this.completeCallback=t,this.progress=0,this.check()}return e.prototype.check=function(){var e=this;return document.querySelector(this.selector)?this.done():setTimeout((function(){return e.check()}),M.elements.checkInterval)},e.prototype.done=function(){return this.completeCallback(this),this.completeCallback=null,this.progress=100},e}(),n=function(){function e(){var e,t,i=this;this.progress=null!=(t=this.states[document.readyState])?t:100,e=document.onreadystatechange,document.onreadystatechange=function(){return null!=i.states[document.readyState]&&(i.progress=i.states[document.readyState]),"function"==typeof e?e.apply(null,arguments):void 0}}return e.prototype.states={loading:0,interactive:50,complete:100},e}(),a=function(){var e,t,i,n,s,o=this;this.progress=0,e=0,s=[],n=0,i=T(),t=setInterval((function(){var a;return a=T()-i-50,i=T(),s.push(a),s.length>M.eventLag.sampleCount&&s.shift(),e=v(s),++n>=M.eventLag.minSamples&&e<M.eventLag.lagThreshold?(o.progress=100,clearInterval(t)):o.progress=3/(e+3)*100}),50)},h=function(){function e(e){this.source=e,this.last=this.sinceLastUpdate=0,this.rate=M.initialRate,this.catchup=0,this.progress=this.lastProgress=0,null!=this.source&&(this.progress=R(this.source,"progress"))}return e.prototype.tick=function(e,t){var i;return null==t&&(t=R(this.source,"progress")),t>=100&&(this.done=!0),t===this.last?this.sinceLastUpdate+=e:(this.sinceLastUpdate&&(this.rate=(t-this.last)/this.sinceLastUpdate),this.catchup=(t-this.progress)/M.catchupTime,this.sinceLastUpdate=0,this.last=t),t>this.progress&&(this.progress+=this.catchup*e),i=1-Math.pow(this.progress/100,M.easeFactor),this.progress+=i*this.rate*e,this.progress=Math.min(this.lastProgress+M.maxProgressPerFrame,this.progress),this.progress=Math.max(0,this.progress),this.progress=Math.min(100,this.progress),this.lastProgress=this.progress,this.progress},e}(),P=null,B=null,y=null,H=null,f=null,x=null,c.running=!1,E=function(){if(M.restartOnPushState)return c.restart()},null!=window.history.pushState&&(X=window.history.pushState,window.history.pushState=function(){return E(),X.apply(window.history,arguments)}),null!=window.history.replaceState&&(V=window.history.replaceState,window.history.replaceState=function(){return E(),V.apply(window.history,arguments)}),p={ajax:t,elements:s,document:n,eventLag:a},(q=function(){var e,t,n,s,o,a,l,r;for(c.sources=P=[],t=0,s=(a=["ajax","elements","document","eventLag"]).length;t<s;t++)!1!==M[e=a[t]]&&P.push(new p[e](M[e]));for(n=0,o=(r=null!=(l=M.extraSources)?l:[]).length;n<o;n++)z=r[n],P.push(new z(M));return c.bar=y=new i,B=[],H=new h})(),c.stop=function(){return c.trigger("stop"),c.running=!1,y.destroy(),x=!0,null!=f&&("function"==typeof _&&_(f),f=null),q()},c.restart=function(){return c.trigger("restart"),c.stop(),c.start()},c.go=function(){var e;return c.running=!0,y.render(),e=T(),x=!1,f=I((function(t,i){var n,s,o,a,l,r,d,u,p,m,g,b,f,v,_;for(y.progress,s=m=0,o=!0,r=g=0,f=P.length;g<f;r=++g)for(z=P[r],p=null!=B[r]?B[r]:B[r]=[],d=b=0,v=(l=null!=(_=z.elements)?_:[z]).length;b<v;d=++b)a=l[d],o&=(u=null!=p[d]?p[d]:p[d]=new h(a)).done,u.done||(s++,m+=u.tick(t));return n=m/s,y.update(H.tick(t,n)),y.done()||o||x?(y.update(100),c.trigger("done"),setTimeout((function(){return y.finish(),c.running=!1,c.trigger("hide")}),Math.max(M.ghostTime,Math.max(M.minTime-(T()-e),0)))):i()}))},c.start=function(e){S(M,e),c.running=!0;try{y.render()}catch(e){d=e}return document.querySelector(".pace")?(c.trigger("start"),c.go()):setTimeout(c.start,50)},e.exports=c}}).call(d)}(cy);var uy=cy.exports;class py{constructor(e){this.builder=e;const t=`\n            <form class="is-cover-upload-central" style="opacity:1;position:absolute;width:40px;height:40px;" target="target-upload-cover" method="post" action="${this.builder.coverImageHandler}" enctype="multipart/form-data" style="position:relative;width:40px;height:40px;display:inline-block;float:left;background: rgb(90, 156, 38);">\n              <input type="file" tabindex="-1" class="input-file-cover-central" name="fileCover" accept="image/*" style="position:absolute;top:-30px;left:0;width:100%;height:80px;opacity: 0;cursor: pointer;"/>\n              <input tabindex="-1" class="input-custom-value-central" name="hidcustomval" type="hidden" value="${this.builder.customval}" />\n          </form>\n          <svg width="0" height="0" style="position:absolute;display:none;">\n            <defs>\n              <symbol id="icon-refresh" viewBox="0 0 24 24" stroke-width="1" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">\n                  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>\n                  <path d="M20 11a8.1 8.1 0 0 0 -15.5 -2m-.5 -4v4h4"></path>\n                  <path d="M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4"></path>\n              </symbol>\n              <symbol id="icon-pencil" viewBox="0 0 24 24" stroke-width="1" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">\n                  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>\n                  <path d="M4 20h4l10.5 -10.5a1.5 1.5 0 0 0 -4 -4l-10.5 10.5v4"></path>\n                  <line x1="13.5" y1="6.5" x2="17.5" y2="10.5"></line>\n              </symbol>\n              <symbol id="icon-settings" viewBox="0 0 24 24" stroke-width="1" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">\n                  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>\n                  <path d="M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065z"></path>\n                  <circle cx="12" cy="12" r="3"></circle>\n              </symbol>\n              <symbol id="icon-more" viewBox="0 0 24 24" stroke-width="1" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">\n                  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>\n                  <path d="M5 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"></path>\n                  <path d="M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"></path>\n                  <path d="M19 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"></path>\n              </symbol>\n            </defs>\n          </svg>\n\n            <iframe id="target-upload-cover" name="target-upload-cover" src="about:blank" style="width:1px;height:1px;position:absolute;top:0;right:-100000px"></iframe>\n        `;e.contentStuff.insertAdjacentHTML("afterbegin",t);let i=`\n        .is-box-tool {\n            display: none;\n            z-index: 1;\n            position: absolute;\n            top: auto;\n            bottom: 0;\n            left: calc(50% - 80px);\n            right: auto;\n            box-sizing: border-box;\n            line-height: 30px;\n            outline: none;\n            text-align: center;\n            cursor: pointer;\n            border-radius: 0px;\n            overflow: hidden;\n          }\n          .is-box-tool button {\n            width: 40px !important;\n            height: 40px !important;\n            cursor: pointer;\n          }\n          .is-box-tool button svg {\n            fill: #fff !important;\n          }\n          .is-box-tool button.is-box-edit {\n            background: rgb(0, 172, 214);\n          }\n          .is-box-tool button.is-module-edit {\n            background: #FF9800;\n          }\n          \n          .is-section-tool {\n            display: none;\n            z-index: 1;\n            position: absolute;\n            top: 15%;\n            right: 0px;\n            left: auto;\n            width: 40px;\n            height: 80px;\n          }\n          .is-section-tool > button {\n            width: 40px;\n            height: 40px;\n            border-radius: 0;\n            line-height: 40px;\n            padding: 0px;\n            font-size: 13px;\n            cursor: pointer;\n            border: none;\n          }\n          .is-section-tool .is-section-edit {\n            background: rgb(0, 172, 214);\n          }\n          .is-section-tool .is-section-edit svg {\n            fill: #fff !important;\n          }\n          .is-section-tool .is-section-remove {\n            background: rgb(247, 99, 46);\n            color: #fff !important;\n          }\n          \n          .is-wrapper {\n            opacity: 0.01;\n            /* setting display=none makes initial script may not work properly */\n            transform-origin: top;\n          }\n          \n          .box-active {\n            animation-name: box-active-anim;\n            animation-duration: 1s;\n          }\n          \n          @keyframes box-active-anim {\n            0% {\n              transform: scale(1);\n            }\n            50% {\n              transform: scale(0.95);\n            }\n            100% {\n              transform: scale(1);\n            }\n          }\n\n          .section-active {\n              animation-name: section-active-anim;\n              animation-duration: 1s;\n          }\n\n          @keyframes section-active-anim {\n              0% {transform:scale(1);}\n              50% {transform:scale(0.95);}\n              100% {transform:scale(1);}\n          }\n          \n          .is-wrapper.is-container-edit > div.section-select, .is-wrapper.is-clean-edit > div.section-select {\n            overflow-x: unset !important;\n            overflow-y: unset !important;\n          }\n\n          ${this.builder.iframe?"":"\n            .is-wrapper.is-edit {\n                padding-left: 61px;\n            }\n            .is-wrapper.is-edit .is-section.is-section-navbar,\n            .is-wrapper.is-edit .is-section.is-section-navbar .is-topbar {\n              left: 0;\n              margin-left: 60px;\n              width: calc(100% - 60px);\n            }\n            .is-wrapper.is-edit .is-section.is-section-navbar .is-topbar.static {\n              width: 100%;\n              margin-left: unset;\n            }\n          "}\n\n          /* protected section */\n          .is-section.protected .is-box-tool {\n            display: none !important;\n          }\n          .is-section.protected .is-box-info {\n            display: none !important;\n          }\n  \n          /* manual selection during animation edit */\n          .hard-select .is-box-tool {\n            display: none !important;\n          }\n          .hard-select .is-box-info {\n            display: none !important;\n          }\n          .hard-select .is-section-tool {\n            display: none !important;\n          }\n          .hard-select .box-select {\n            outline: #00da89 1px solid;\n            outline-offset: -1px;\n            z-index: 1;\n          }\n          .hard-select .box-select .is-box-tool {\n            display: flex !important;\n          }\n          .hard-select .box-select .is-box-info {\n            display: flex !important;\n          }\n          .hard-select .box-select .is-overlay {\n            z-index: -1;\n          }\n          .hard-select .section-select .is-section-tool {\n            display: block !important;\n          }\n  \n          /* drop block as section */\n          .is-wrapper > .sortable-ghost {\n              height: 40px !important;\n              min-height: unset !important;\n              background: rgba(204, 204, 204, 0.15) !important;\n          }\n          .is-wrapper > .sortable-ghost * {\n            opacity: 0 !important;\n          }\n  \n          /* toggle tool */\n          .is-wrapper.is-clean-edit.hard-select .box-select .is-box-tool,\n          .is-wrapper.is-clean-edit .box-select .is-box-tool {\n            display: none !important;\n          }\n          .is-wrapper.is-clean-edit.hard-select .box-select .is-box-info,\n          .is-wrapper.is-clean-edit .box-select .is-box-tool {\n            display: none !important;\n          }\n          .is-wrapper.is-clean-edit.hard-select .section-select .is-section-tool,\n          .is-wrapper.is-clean-edit .section-select .is-section-tool {\n            display: none !important;\n          }\n          .is-wrapper.is-clean-edit.hard-select .box-select,\n          .is-wrapper.is-clean-edit .box-select {\n            outline: none !important;\n          }\n          \n          /* clean UI for selection only */\n          /*\n          .selection-only:not([data-skrollrr-off]) .is-wrapper.hard-select .box-select .is-box-tool,\n          .selection-only:not([data-skrollrr-off]) .is-wrapper .box-select .is-box-tool {\n            display: none !important;\n          }\n          .selection-only:not([data-skrollrr-off]) .is-wrapper.hard-select .box-select .is-box-info,\n          .selection-only:not([data-skrollrr-off]) .is-wrapper .box-select .is-box-info {\n            display: none !important;\n          }\n          .selection-only:not([data-skrollrr-off]) .is-wrapper.hard-select .section-select .is-section-tool,\n          .selection-only:not([data-skrollrr-off]) .is-wrapper .section-select .is-section-tool {\n            display: none !important;\n          }\n          .selection-only:not([data-skrollrr-off]) .is-wrapper .is-rowadd-tool {\n            display: none !important;\n          }\n          .selection-only:not([data-skrollrr-off]) .is-wrapper .is-tool {\n            display: none !important;\n          }\n          .selection-only:not([data-skrollrr-off]) .is-tool {\n            z-index: -10000 !important;\n          }\n          */\n  \n          /* box info */\n          .is-wrapper .is-box-info {\n              position: absolute;\n              z-index: 1;\n              top: 15px;\n              right: 15px;\n              left: auto;\n              width: auto;\n              display: none;\n              border-radius: 50px;\n              overflow:hidden;\n              background: rgba(243, 243, 243, 0.9);\n              width: 92px;\n              justify-content: center;\n          }\n          .is-wrapper .is-box-info button {\n              width:28px;\n              height:28px;\n              cursor:pointer;\n          }\n          .is-wrapper .box-select .is-box-info {\n              display: flex;\n          }\n          .is-wrapper .is-section-navbar .is-box-info {\n              display: none !important;\n          }\n          div.is-section-navbar + div .is-box-info {\n              top: 90px;\n          }\n          \n          /* section info */\n          .is-wrapper .is-section-info {\n              position: absolute;\n              z-index: 1;\n              top: 3px;\n              left: 3px;\n              display: none;\n          }\n          .is-wrapper .is-section-info > div {\n              width: auto;\n              height: auto;\n              padding: 5px 20px;\n              background-color: rgb(255, 239, 100);\n              color: #111;\n              font-family: sans-serif;\n              letter-spacing: 2px;\n              font-size: 17px;\n          }\n          .is-wrapper .section-select .is-section-info {\n              display: block;\n          }\n  \n          /* To make editing possible on wide content */\n          .is-wrapper.is-edit .section-wide-250 .is-box-centered { /*old structure*/\n              overflow-x: auto;\n              overflow-y: hidden;\n          }\n  \n          .is-wrapper.is-container-edit > div.section-wide-250.section-select, \n          .is-wrapper.is-clean-edit > div.section-wide-250.section-select,\n          .is-wrapper.is-edit .section-wide-250 {\n              overflow-x: auto !important;\n              overflow-y: hidden !important;\n          }\n  \n          .is-wrapper.is-edit .section-wide-250 .is-container > div > div { /* To make col tool visible */\n              max-height: 90vh; \n          }\n\n          /* Hide on Zoom */\n          .hard-select .section-select .is-section-tool[data-section-active],\n          .is-section-tool[data-section-active] {\n              display: none !important;\n          }\n          .hard-select .box-select .is-box-tool[data-box-active],\n          .is-box-tool[data-box-active] {\n              display: none !important;\n          }\n          .hard-select .box-select .is-box-info[data-boxinfo-active],\n          .is-box-info[data-boxinfo-active] {\n              display: none !important;\n          }\n        `;e.contentStuff.insertAdjacentHTML("afterbegin",`\n        <style>\n            ${i}\n        </style>\n        `)}}const hy=new e;class my{constructor(e){this.builder=e;const t=this.builder.builderStuff;this.builderStuff=t;let n=`\n        <style>\n        #_cbhtml .is-side.animatescroll, \n        .is-ui .is-side.animatescroll {\n            width: 370px;\n            right: -370px;\n        }\n        #_cbhtml .is-side.animatescroll.active, \n        .is-ui .is-side.animatescroll.active {\n            right: 0;\n        }\n        .animatescroll td {\n            font-size: 13px;\n            padding: 3px 0px;\n        }\n        .animatescroll .table-header td {\n            font-size: 11px;\n            padding: 3px 0 0;\n        }\n        .animatescroll.active {\n            right: 0;\n        }\n        .animatescroll .side-title {\n            font-weight: 400;\n            font-size: 15px;\n            opacity: 0.8;\n            padding: 10px 0 0 18px !important;\n        }\n        .animatescroll .is-tabs a.active {\n            background: none !important;\n        }\n        .animatescroll .is-tabs a {\n            text-transform: none!important;\n            font-size: 13px!important;\n            margin-right: 25px!important;\n            margin-left: 3px!important;\n        }\n        .animatescroll .is-tabs a:last-child {\n            margin-right: 0!important;\n        }\n        .anim-controls {\n            padding: 0 !important;\n            z-index: 1;\n            width: 100%;\n            height: 100%;\n            position: absolute;\n            top: 0;\n            box-sizing: border-box;\n            border-top: transparent 245px solid !important;\n        }\n        #divEnterAnim, #divLeaveAnim, #divAnimSettings {\n            border-top: transparent 55px solid !important;\n            padding:0 15px 20px 22px !important;\n            width: 100%;\n            height: 100%;\n            box-sizing: border-box;\n            overflow-y: auto;\n            overflow-x: hidden;\n            position: absolute;\n            top: 0; left: 0;\n        }\n        .anim-label {\n            padding: 15px 0 5px;\n            width: 100%;\n            flex:none;\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n        }\n        .anim-label span {\n            display: flex;\n            align-items: center;\n        }\n        .anim-label button {\n            width: 40px !important;\n            margin-left: 2px !important;\n            box-shadow: none !important;\n        }\n        .anim-controls .bold {\n            font-weight: 600;\n        }\n        .anim-controls button,\n        .anim-list button { \n            height: 35px !important;\n            outline-offset: -2px !important;\n        }\n\n        .anim-controls input[type=text],\n        .anim-list input[type=text] {\n            font-size: 13px !important;\n            font-family: sans-serif !important;\n            font-weight: 300 !important;\n            padding: 0 !important;\n            width: 50px !important;\n            height: 35px !important;\n            text-align: center !important;\n        }\n        .anim-controls td input[type=text],\n        .anim-list td input[type=text] {\n            font-size: 13px !important;\n            font-family: sans-serif !important;\n            font-weight: 300 !important;\n            padding: 0 !important;\n            width: 34px !important;\n            height: 30px !important;\n            text-align: center !important;\n            letter-spacing: 0px !important;\n        }\n\n        .flex-wrap {\n            display: flex;\n            flex-flow: wrap;\n            align-items: center;\n        }\n        .flex-nowrap {\n            display: flex;\n            align-items: center;\n        }\n        .inp-slide-left,\n        .inp-slide-right,\n        .inp-slide-up,\n        .inp-slide-down,\n        .inp-scale,\n        .inp-rotate-clockwise,\n        .inp-rotate-counter {\n            width:65px !important;\n            height:35px !important;\n            text-align:center !important;\n            margin-left:10px !important;\n            font-size: 13px !important;\n            font-family: sans-serif !important;\n            font-weight: 300 !important;\n            padding: 0 !important;\n        }\n\n        .div-anim-settings,.div-wizard-settings{\n            height: calc(100vh - 34px)\n        }\n        .div-wizard-settings{\n            padding: 10px 15px 0 18px !important;\n        }\n        .div-anim-apply-to button {\n            width: 80px !important;\n            height: 35px !important;\n        }\n        </style>\n\n        <div class="is-side animatescroll" style="display: block;" tabindex="-1" role="dialog" aria-modal="true" aria-hidden="true">\n\n            <div class="side-title">${i("Animation")}</div>\n\n            <button tabindex="-1" title="${i("Close")}" class="is-side-close" style="z-index:2;background:transparent;width:25px;height:25px;position:absolute;top:10px;right:13px;box-sizing:border-box;padding:0;line-height:25px;font-size: 12px;text-align:center;cursor:pointer;box-shadow:none;"><svg class="is-icon-flex" style="width:25px;height:25px;"><use xlink:href="#ion-ios-close-empty"></use></svg></button>\n\n            <button tabindex="-1" title="${i("Edit")}" class="cmd-anim-edit" style="z-index:3;width:25px;height:25px;position:absolute;top:64px;right:13px;box-sizing:border-box;padding:0;line-height:25px;font-size: 12px;text-align:center;cursor:pointer;box-shadow:none;"><svg class="is-icon-flex"><use xlink:href="#icon-pencil"></use></svg></button>\n           \n            <div class="div-anim-settings" style="display:none">\n            \n                <div class="div-anim-apply-to" style="padding:18px 10px 22px 18px;z-index:2;position:relative;">\n                    <div class="anim-label" style="margin-bottom:5px">${i("Apply To")}:</div>\n                    <div class="flex-wrap">\n                        <button title="${i("Element")}" class="cmd-target on" data-command="target" data-value="element">${i("Element")}</button>\n                        <button title="${i("Column")}" class="cmd-target" data-command="target" data-value="column">${i("Column")}</button>\n                        <button title="${i("Row")}" class="cmd-target" data-command="target" data-value="row">${i("Row")}</button>\n                        <button title="${i("Container")}" class="cmd-target" data-command="target" data-value="container">${i("Container")}</button>\n                        <button title="${i("Overlay")}" class="cmd-target" data-command="target" data-value="overlay">${i("Overlay")}</button>\n                        <button title="${i("Background")}" class="cmd-target" data-command="target" data-value="bg">${i("Bg")}</button>\n                        <button title="${i("Box")}" class="cmd-target" data-command="target" data-value="box">${i("Box")}</button>\n                        <button title="${i("Section")}" class="cmd-target" data-command="target" data-value="section">${i("Section")}</button>\n                    </div>\n                </div>\n                \n                <div class="div-anim-type">\n                    <div class="is-tabs" style="position:relative;z-index:2;" data-group="animtype">\n                        <a href="" data-content="divAnimDefault" class="active">${i("On View")}</a>\n                        <a href="" data-content="divAnimScroll">${i("On Scroll")}</a>\n                        <a href="" data-content="divAnimScrollSimple">${i("Timeline")}</a>\n                    </div>\n                </div>\n\n                <div id="divAnimScrollSimple" class="is-tab-content active" data-group="animtype" style="padding:0">\n\n                    <div class="anim-controls" style="overflow-y: auto;">\n\n                        <div style="margin-top: 20px;margin-left: 22px;margin-bottom: 20px;">\n\n                            <table style="margin:12px 0 0 0;border-collapse:initial;">\n                                \n                                <tr>\n                                    <td colspan="4"><span class="bold">${i("Slide Horizontal")}</span>:</td>\n                                    <td colspan="5" style="text-align:right;font-style:italic;font-size:12px;">${i("(default: px)")}</td>\n                                </tr>\n                                <tr class="table-header">\n                                    <td style="text-align:center">0%</td>\n                                    <td style="text-align:center"></td>\n                                    <td style="text-align:center"></td>\n                                    <td style="text-align:center"></td>\n                                    <td style="text-align:center">50%</td>\n                                    <td style="text-align:center"></td>\n                                    <td style="text-align:center"></td>\n                                    <td style="text-align:center"></td>\n                                    <td style="text-align:center">100%</td>\n                                </tr>\n                                <tr>\n                                    <td>\n                                        <input class="inp-simplescroll-x-start" placeholder="-100" type="text" />\n                                    </td>\n                                    <td>\n                                        <input class="inp-simplescroll-x-15" placeholder="" type="text" />\n                                    </td>\n                                    <td>\n                                        <input class="inp-simplescroll-x-25" placeholder="" type="text" />\n                                    </td>\n                                    <td>\n                                        <input class="inp-simplescroll-x-35" placeholder="" type="text" />\n                                    </td>\n                                    <td>\n                                        <input class="inp-simplescroll-x-50" placeholder="" type="text" />\n                                    </td>\n                                    <td>\n                                        <input class="inp-simplescroll-x-65" placeholder="" type="text" />\n                                    </td>\n                                    <td>\n                                        <input class="inp-simplescroll-x-75" placeholder="" type="text" />\n                                    </td>\n                                    <td>\n                                        <input class="inp-simplescroll-x-85" placeholder="" type="text" />\n                                    </td>\n                                    <td>\n                                        <input class="inp-simplescroll-x-end" placeholder="100" type="text" />\n                                    </td>\n                                </tr>\n                                <tr>\n                                    <td colspan="4" style="padding-top:20px"><span class="bold">${i("Slide Vertical")}</span>:</td>\n                                    <td colspan="5" style="padding-top:20px;text-align:right;font-style:italic;font-size:12px;">${i("(default: px)")}</td>\n                                </tr>\n                                <tr class="table-header">\n                                    <td style="text-align:center">0%</td>\n                                    <td style="text-align:center"></td>\n                                    <td style="text-align:center"></td>\n                                    <td style="text-align:center"></td>\n                                    <td style="text-align:center">50%</td>\n                                    <td style="text-align:center"></td>\n                                    <td style="text-align:center"></td>\n                                    <td style="text-align:center"></td>\n                                    <td style="text-align:center">100%</td>\n                                </tr>\n                                <tr>\n                                    <td>\n                                        <input class="inp-simplescroll-y-start" placeholder="100%" type="text" />\n                                    </td>\n                                    <td>\n                                        <input class="inp-simplescroll-y-15" placeholder="" type="text" />\n                                    </td>\n                                    <td>\n                                        <input class="inp-simplescroll-y-25" placeholder="" type="text" />\n                                    </td>\n                                    <td>\n                                        <input class="inp-simplescroll-y-35" placeholder="" type="text" />\n                                    </td>\n                                    <td>\n                                        <input class="inp-simplescroll-y-50" placeholder="" type="text" />\n                                    </td>\n                                    <td>\n                                        <input class="inp-simplescroll-y-65" placeholder="" type="text" />\n                                    </td>\n                                    <td>\n                                        <input class="inp-simplescroll-y-75" placeholder="" type="text" />\n                                    </td>\n                                    <td>\n                                        <input class="inp-simplescroll-y-85" placeholder="" type="text" />\n                                    </td>\n                                    <td>\n                                        <input class="inp-simplescroll-y-end" placeholder="-100%" type="text" />\n                                    </td>\n                                </tr>\n                                <tr>\n                                    <td colspan="9" style="padding-top:20px"><span class="bold">${i("Scale")}</span>:</td>\n                                </tr>\n                                <tr class="table-header">\n                                    <td style="text-align:center">0%</td>\n                                    <td style="text-align:center"></td>\n                                    <td style="text-align:center"></td>\n                                    <td style="text-align:center"></td>\n                                    <td style="text-align:center">50%</td>\n                                    <td style="text-align:center"></td>\n                                    <td style="text-align:center"></td>\n                                    <td style="text-align:center"></td>\n                                    <td style="text-align:center">100%</td>\n                                </tr>\n                                <tr>\n                                    <td>\n                                        <input class="inp-simplescroll-scale-start" placeholder="0.8" type="text" />\n                                    </td>\n                                    <td>\n                                        <input class="inp-simplescroll-scale-15" placeholder="" type="text" />\n                                    </td>\n                                    <td>\n                                        <input class="inp-simplescroll-scale-25" placeholder="" type="text" />\n                                    </td>\n                                    <td>\n                                        <input class="inp-simplescroll-scale-35" placeholder="" type="text" />\n                                    </td>\n                                    <td>\n                                        <input class="inp-simplescroll-scale-50" placeholder="" type="text" />\n                                    </td>\n                                    <td>\n                                        <input class="inp-simplescroll-scale-65" placeholder="" type="text" />\n                                    </td>\n                                    <td>\n                                        <input class="inp-simplescroll-scale-75" placeholder="" type="text" />\n                                    </td>\n                                    <td>\n                                        <input class="inp-simplescroll-scale-85" placeholder="" type="text" />\n                                    </td>\n                                    <td>\n                                        <input class="inp-simplescroll-scale-end" placeholder="1.2" type="text" />\n                                    </td>\n                                </tr>\n\n                                <tr>\n                                    <td colspan="9" style="padding-top:20px"><span class="bold">${i("Rotate")}</span>:</td>\n                                </tr>\n                                <tr class="table-header">\n                                    <td style="text-align:center">0%</td>\n                                    <td style="text-align:center"></td>\n                                    <td style="text-align:center"></td>\n                                    <td style="text-align:center"></td>\n                                    <td style="text-align:center">50%</td>\n                                    <td style="text-align:center"></td>\n                                    <td style="text-align:center"></td>\n                                    <td style="text-align:center"></td>\n                                    <td style="text-align:center">100%</td>\n                                </tr>\n                                <tr>\n                                    <td>\n                                        <input class="inp-simplescroll-rotate-start" placeholder="-45" type="text" />\n                                    </td>\n                                    <td>\n                                        <input class="inp-simplescroll-rotate-15" placeholder="" type="text" />\n                                    </td>\n                                    <td>\n                                        <input class="inp-simplescroll-rotate-25" placeholder="" type="text" />\n                                    </td>\n                                    <td>\n                                        <input class="inp-simplescroll-rotate-35" placeholder="" type="text" />\n                                    </td>\n                                    <td>\n                                        <input class="inp-simplescroll-rotate-50" placeholder="" type="text" />\n                                    </td>\n                                    <td>\n                                        <input class="inp-simplescroll-rotate-65" placeholder="" type="text" />\n                                    </td>\n                                    <td>\n                                        <input class="inp-simplescroll-rotate-75" placeholder="" type="text" />\n                                    </td>\n                                    <td>\n                                        <input class="inp-simplescroll-rotate-85" placeholder="" type="text" />\n                                    </td>\n                                    <td>\n                                        <input class="inp-simplescroll-rotate-end" placeholder="45" type="text" />\n                                    </td>\n                                </tr>\n\n                                <tr>\n                                    <td colspan="9" style="padding-top:20px"><span class="bold">${i("Opacity")}</span>:</td>\n                                </tr>\n                                <tr class="table-header">\n                                    <td style="text-align:center">0%</td>\n                                    <td style="text-align:center"></td>\n                                    <td style="text-align:center"></td>\n                                    <td style="text-align:center"></td>\n                                    <td style="text-align:center">50%</td>\n                                    <td style="text-align:center"></td>\n                                    <td style="text-align:center"></td>\n                                    <td style="text-align:center"></td>\n                                    <td style="text-align:center">100%</td>\n                                </tr>\n                                <tr>\n                                    <td>\n                                        <input class="inp-simplescroll-opacity-start" placeholder="" type="text" />\n                                    </td>\n                                    <td>\n                                        <input class="inp-simplescroll-opacity-15" placeholder="" type="text" />\n                                    </td>\n                                    <td>\n                                        <input class="inp-simplescroll-opacity-25" placeholder="" type="text" />\n                                    </td>\n                                    <td>\n                                        <input class="inp-simplescroll-opacity-35" placeholder="" type="text" />\n                                    </td>\n                                    <td>\n                                        <input class="inp-simplescroll-opacity-50" placeholder="" type="text" />\n                                    </td>\n                                    <td>\n                                        <input class="inp-simplescroll-opacity-65" placeholder="" type="text" />\n                                    </td>\n                                    <td>\n                                        <input class="inp-simplescroll-opacity-75" placeholder="" type="text" />\n                                    </td>\n                                    <td>\n                                        <input class="inp-simplescroll-opacity-85" placeholder="" type="text" />\n                                    </td>\n                                    <td>\n                                        <input class="inp-simplescroll-opacity-end" placeholder="" type="text" />\n                                    </td>\n                                </tr>\n                            </table>\n                            \n                            <div class="flex-wrap" style="margin-top:20px;">\n                                <label for="chkPinSection" style="margin:0;">\n                                    <input id="chkPinSection" type="checkbox" style="margin-left:0"> ${i("Pin Section (visible on preview)")}\n                                </label>\n                            </div>\n                            <div class="div-pin-spacing" style="display:none">\n                                <div style="padding-top:10px;"><span>${i("Pin Spacing")}</span>: </div>\n                                <div class="flex-wrap" style="padding:5px 0 10px">\n\n                                    <button title="0" class="cmd-pin-space" data-value="md" style="padding-left:15px;padding-right:15px;height:34px;">${i("MD")}</button>\n                                    <button title="20" class="cmd-pin-space" data-value="lg" style="padding-left:15px;padding-right:15px;height:34px;">${i("LG")}</button>\n                                    <button title="20" class="cmd-pin-space" data-value="xl" style="padding-left:15px;padding-right:15px;height:34px;">${i("XL")}</button>\n                                \n                                    <label for="chkPinOverlap" style="margin:0;display:flex;margin-left:15px">\n                                        <input id="chkPinOverlap" type="checkbox" style="margin:-1px 6px 0 0"> \n                                        <span>${i("Overlap")}</span>.\n                                    </label>\n                                </div>\n                            </div>\n                            <div class="flex-wrap" style="margin-top:10px;">\n                                <label for="chkDisableSkrollrrOnMobile" style="margin:0;">\n                                    <input id="chkDisableSkrollrrOnMobile" type="checkbox" style="margin-left:0"> ${i("Disable on Mobile")}\n                                </label>\n                            </div>\n\n                            <div class="flex-wrap" style="margin-top:15px;">\n                                <button title="${i("Disable Easing")}" class="cmd-disable-smoothanim" style="padding-left:15px;padding-right: 15px;">${i("Disable Easing")}</button>\n                                <button title="${i("Hidden on Start")}" class="cmd-hidden-onstart" style="padding-left:15px;padding-right: 15px;">${i("Hidden on Start")}</button>\n                            </div>\n\n                            <div style="display:flex;justify-content: flex-end;margin-top: 15px;margin-right: 20px;">\n                                <button title="${i("Clear All")}" class="cmd-clear-simplescroll" style="flex: none;width: auto;padding: 0px !important;box-shadow: none !important;background: transparent !important;">\n                                    <svg class="is-icon-flex" style="width:10px;height:10px;"><use xlink:href="#icon-clean"></use></svg>\n                                    <span style="margin-left:7px">${i("Clear All")}</span>\n                                </button>\n                            </div>\n\n                            <div style="display:flex;justify-content: flex-end;margin-top: 5px;margin-right: 20px;">\n                                <button title="${i("Clear All Animations in Section")}" class="cmd-clear-anim-all" style="flex: none;width: auto;padding: 0px !important;box-shadow: none !important;background: transparent !important;">\n                                    <svg class="is-icon-flex" style="width:10px;height:10px;"><use xlink:href="#icon-clean"></use></svg>\n                                    <span style="margin-left:7px">${i("Clear All Animations in Section")}</span>\n                                </button>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                <div id="divAnimDefault" class="is-tab-content active" data-group="animtype" style="display:flex;padding:0">\n\n                    <div class="anim-controls" style="overflow-y: auto;">\n\n                        <div style="padding:10px 0 20px 22px;">\n                            <div class="anim-label">\n                                <span>\n                                    <span class="bold">${i("Fade")}</span>: \n                                </span> \n                            </div>\n                            <div class="flex-wrap">\n                                <button title="${i("In")}" class="cmd-basic-anim" data-value="is-fadeIn" style="width:60px">${i("In")}</button>\n                                <button title="${i("Left")}" class="cmd-basic-anim" data-value="is-fadeInLeft" style="width:60px">${i("Left")}</button>\n                                <button title="${i("Right")}" class="cmd-basic-anim" data-value="is-fadeInRight" style="width:60px">${i("Right")}</button>\n                                <button title="${i("Up")}" class="cmd-basic-anim" data-value="is-fadeInUp" style="width:60px">${i("Up")}</button>\n                                <button title="${i("Down")}" class="cmd-basic-anim" data-value="is-fadeInDown" style="width:60px">${i("Down")}</button>\n                            </div>\n\n                            <div class="anim-label">\n                                <span>\n                                    <span class="bold">${i("Slide")}</span>: \n                                </span> \n                            </div>\n                            <div class="flex-wrap">\n                                <button title="${i("Left")}" class="cmd-basic-anim" data-value="is-slideInLeft" style="width:60px">${i("Left")}</button>\n                                <button title="${i("Right")}" class="cmd-basic-anim" data-value="is-slideInRight" style="width:60px">${i("Right")}</button>\n                                <button title="${i("Up")}" class="cmd-basic-anim" data-value="is-slideInUp" style="width:60px">${i("Up")}</button>\n                                <button title="${i("Down")}" class="cmd-basic-anim" data-value="is-slideInDown" style="width:60px">${i("Down")}</button>\n                            </div>\n                            \n                            <div class="anim-label">\n                                <span>\n                                    <span class="bold">${i("Flip")}</span>: \n                                </span> \n                            </div>\n                            <div class="flex-wrap">\n                                <button title="${i("Horizontal")}" class="cmd-basic-anim" data-value="is-flipInY" style="width:90px">${i("Horizontal")}</button>\n                                <button title="${i("Vertical")}" class="cmd-basic-anim" data-value="is-flipInX" style="width:90px">${i("Vertical")}</button>\n                            </div>\n                            \n                            <div class="anim-label">\n                                <span>\n                                    <span class="bold">${i("Zoom")}</span>: \n                                </span> \n                            </div>\n                            <div class="flex-wrap">\n                                <button title="${i("In")}" class="cmd-basic-anim" data-value="is-zoomIn" style="width:90px">${i("In")}</button>\n                                <button title="${i("Out")}" class="cmd-basic-anim" data-value="is-zoomOut" style="width:90px">${i("Out")}</button>\n                            </div>\n\n                            <div class="anim-label">\n                                <span>\n                                    <span class="bold">${i("Pulse")}</span>: \n                                </span> \n                            </div>\n                            <div class="flex-wrap">\n                                <button title="${i("In")}" class="cmd-basic-anim" data-value="is-pulse" style="width:90px">${i("Pulse")}</button>\n                            </div>\n\n                            <div class="anim-label">\n                                <span>\n                                    <span class="bold">${i("Bounce")}</span>: \n                                </span> \n                            </div>\n                            <div class="flex-wrap">\n                                <button title="${i("In")}" class="cmd-basic-anim" data-value="is-bounceIn" style="width:90px">${i("Bounce")}</button>\n                            </div>\n\n                            <div class="anim-label">\n                                <span>\n                                    <span class="bold">${i("Animation Delay")}</span>: \n                                </span> \n                            </div>\n                            <div class="flex-wrap">\n                                <button title="0s" class="cmd-basic-delay" data-value="delay-0ms" style="width:55px">0s</button>\n                                <button title="0.1s" class="cmd-basic-delay" data-value="delay-100ms" style="width:55px">0.1s</button>\n                                <button title="0.2s" class="cmd-basic-delay" data-value="delay-200ms" style="width:55px">0.2s</button>\n                                <button title="0.3s" class="cmd-basic-delay" data-value="delay-300ms" style="width:55px">0.3s</button>\n                                <button title="0.4s" class="cmd-basic-delay" data-value="delay-400ms" style="width:55px">0.4s</button>\n                                <button title="0.5s" class="cmd-basic-delay" data-value="delay-500ms" style="width:55px">0.5s</button>\n                                <button title="0.6s" class="cmd-basic-delay" data-value="delay-600ms" style="width:55px">0.6s</button>\n                                <button title="0.7s" class="cmd-basic-delay" data-value="delay-700ms" style="width:55px">0.7s</button>\n                                <button title="0.8s" class="cmd-basic-delay" data-value="delay-800ms" style="width:55px">0.8s</button>\n                                <button title="0.9s" class="cmd-basic-delay" data-value="delay-900ms" style="width:55px">0.9s</button>\n                                <button title="1s" class="cmd-basic-delay" data-value="delay-1000ms" style="width:55px">1s</button>\n                                <button title="1.1s" class="cmd-basic-delay" data-value="delay-1100ms" style="width:55px">1.1s</button>\n                                <button title="1.2s" class="cmd-basic-delay" data-value="delay-1200ms" style="width:55px">1.2s</button>\n                                <button title="1.3s" class="cmd-basic-delay" data-value="delay-1300ms" style="width:55px">1.3s</button>\n                                <button title="1.4s" class="cmd-basic-delay" data-value="delay-1400ms" style="width:55px">1.4s</button>\n                                <button title="${i("Clear")}" class="cmd-clear-delay" style="width:45px;background: none;box-shadow:none;">\n                                    <svg class="is-icon-flex" style="width:10px;height:10px;"><use xlink:href="#icon-clean"></use></svg>\n                                </button>\n                            </div>\n\n                            <button title="${i("Animate Once")}" class="cmd-basic-once" style="flex: none;margin-top:15px;width:165px;">\n                                ${i("Animate Once")}\n                            </button>\n\n                            <div style="display:flex;justify-content: flex-end;margin-top: 15px;margin-right: 20px;">\n                                <button title="${i("Clear All")}" class="cmd-clear-basicanim" style="flex: none;width: auto;padding: 0px !important;box-shadow: none !important;background: transparent !important;">\n                                    <svg class="is-icon-flex" style="width:10px;height:10px;"><use xlink:href="#icon-clean"></use></svg>\n                                    <span style="margin-left:7px">${i("Clear All")}</span>\n                                </button>\n                            </div>\n\n                            <div style="display:flex;justify-content: flex-end;margin-top: 5px;margin-right: 20px;">\n                                <button title="${i("Clear All Animations in Section")}" class="cmd-clear-anim-all" style="flex: none;width: auto;padding: 0px !important;box-shadow: none !important;background: transparent !important;">\n                                    <svg class="is-icon-flex" style="width:10px;height:10px;"><use xlink:href="#icon-clean"></use></svg>\n                                    <span style="margin-left:7px">${i("Clear All Animations in Section")}</span>\n                                </button>\n                            </div>\n                        </div>\n\n                    </div>\n\n                </div>\n\n                <div id="divAnimScroll" class="is-tab-content" data-group="animtype" style="padding:0">\n\n                    <div class="anim-controls">\n\n                        <div class="is-tabs clearfix" style="padding-top:20px;position:relative;z-index:1;background:none;" data-group="skrollanim">\n                            <a href="" data-content="divEnterAnim" class="active">${i("On Enter")}</a>\n                            <a href="" data-content="divLeaveAnim">${i("On Leave")}</a>\n                            <a href="" data-content="divAnimSettings">${i("Settings")}</a>\n                        </div>\n\n                        <div id="divEnterAnim" class="is-tab-content active" data-group="skrollanim" style="display:flex;padding-top:0">\n                            \n                            <div class="anim-label">\n                                <span>\n                                    <span class="bold">${i("Slide Left")}</span>: \n                                    <input class="inp-slide-left" type="text" />\n                                </span> \n                                <button title="${i("Clear")}" class="cmd-clear-slide-left" style="background: none;margin-right:-12px">\n                                    <svg class="is-icon-flex" style="width:10px;height:10px;"><use xlink:href="#icon-clean"></use></svg>\n                                </button>\n                                \x3c!--<svg class="is-icon-flex" style="width:19px;height:19px;"><use xlink:href="#icon-arrow-left"></use></svg>--\x3e\n                            </div>\n                            <div class="flex-wrap">\n                                <button title="75" class="cmd-slidex" data-command="slidex" data-value="75px" style="width:60px">75</button>\n                                <button title="100" class="cmd-slidex" data-command="slidex" data-value="100px" style="width:60px">100</button>\n                                <button title="125" class="cmd-slidex" data-command="slidex" data-value="125px" style="width:60px">125</button>\n                                <button title="150" class="cmd-slidex" data-command="slidex" data-value="150px" style="width:60px">150</button>\n                                <button title="200" class="cmd-slidex" data-command="slidex" data-value="200px" style="width:60px">200</button>\n                                <span style="font-size: 11px;margin-left: 9px;margin-bottom: 2px;">px</span>\n                            </div>\n                            <div class="anim-label">\n                                <span>\n                                    <span class="bold">${i("Slide Right")}</span>: \n                                    <input class="inp-slide-right" type="text" />\n                                </span> \n                                <button title="${i("Clear")}" class="cmd-clear-slide-right" style="background: none;margin-right:-12px">\n                                    <svg class="is-icon-flex" style="width:10px;height:10px;"><use xlink:href="#icon-clean"></use></svg>\n                                </button>\n                                \x3c!--<svg class="is-icon-flex" style="width:19px;height:19px;"><use xlink:href="#icon-arrow-right"></use></svg>--\x3e\n                            </div>\n                            <div class="flex-wrap">\n                                <button title="75" class="cmd-slidex" data-command="slidex" data-value="-75px" style="width:60px">75</button>\n                                <button title="100" class="cmd-slidex" data-command="slidex" data-value="-100px" style="width:60px">100</button>\n                                <button title="125" class="cmd-slidex" data-command="slidex" data-value="-125px" style="width:60px">125</button>\n                                <button title="150" class="cmd-slidex" data-command="slidex" data-value="-150px" style="width:60px">150</button>\n                                <button title="200" class="cmd-slidex" data-command="slidex" data-value="-200px" style="width:60px">200</button>\n                                <span style="font-size: 11px;margin-left: 9px;margin-bottom: 2px;">px</span>\n                            </div>\n\n                            <div class="anim-label">\n                                <span>\n                                    <span class="bold">${i("Slide Up")}</span>: \n                                    <input class="inp-slide-up" type="text" />\n                                </span> \n                                <button title="${i("Clear")}" class="cmd-clear-slide-up" style="background: none;margin-right:-12px">\n                                    <svg class="is-icon-flex" style="width:10px;height:10px;"><use xlink:href="#icon-clean"></use></svg>\n                                </button>\n                                \x3c!--<svg class="is-icon-flex" style="width:19px;height:19px;"><use xlink:href="#icon-arrow-up"></use></svg>--\x3e\n                            </div>\n                            <div class="flex-wrap">\n                                <button title="75" class="cmd-slidey" data-command="slidey" data-value="75px" style="width:60px">75</button>\n                                <button title="100" class="cmd-slidey" data-command="slidey" data-value="100px" style="width:60px">100</button>\n                                <button title="125" class="cmd-slidey" data-command="slidey" data-value="125px" style="width:60px">125</button>\n                                <button title="150" class="cmd-slidey" data-command="slidey" data-value="150px" style="width:60px">150</button>\n                                <button title="200" class="cmd-slidey" data-command="slidey" data-value="200px" style="width:60px">200</button>\n                                <span style="font-size: 11px;margin-left: 9px;margin-bottom: 2px;">px</span>\n                            </div>\n                            <div class="anim-label">\n                                <span>\n                                    <span class="bold">${i("Slide Down")}</span>:\n                                    <input class="inp-slide-down" type="text" />\n                                </span> \n                                <button title="${i("Clear")}" class="cmd-clear-slide-down" style="background: none;margin-right:-12px">\n                                    <svg class="is-icon-flex" style="width:10px;height:10px;"><use xlink:href="#icon-clean"></use></svg>\n                                </button>\n                                \x3c!--<svg class="is-icon-flex" style="width:19px;height:19px;"><use xlink:href="#icon-arrow-down"></use></svg>--\x3e\n                            </div>\n                            <div class="flex-wrap">\n                                <button title="75" class="cmd-slidey" data-command="slidey" data-value="-75px" style="width:60px">75</button>\n                                <button title="100" class="cmd-slidey" data-command="slidey" data-value="-100px" style="width:60px">100</button>\n                                <button title="125" class="cmd-slidey" data-command="slidey" data-value="-125px" style="width:60px">125</button>\n                                <button title="150" class="cmd-slidey" data-command="slidey" data-value="-150px" style="width:60px">150</button>\n                                <button title="200" class="cmd-slidey" data-command="slidey" data-value="-200px" style="width:60px">200</button>\n                                <span style="font-size: 11px;margin-left: 9px;margin-bottom: 2px;">px</span>\n                            </div>\n\n                            <div class="anim-label">\n                                <span>\n                                    <span class="bold">${i("Scale")}</span>: \n                                    <input class="inp-scale" type="text" />\n                                </span> \n                                <button title="${i("Clear")}" class="cmd-clear-scale" style="background: none;margin-right:-12px">\n                                    <svg class="is-icon-flex" style="width:10px;height:10px;"><use xlink:href="#icon-clean"></use></svg>\n                                </button>\n                                \x3c!--<svg class="is-icon-flex" style="width:19px;height:19px;"><use xlink:href="#icon-arrows-diagonal"></use></svg>--\x3e\n                            </div>\n                            <div class="flex-nowrap">\n                                <button title="0.5" class="cmd-scale" data-command="scale" data-value="0.5" style="width:55px">0.5</button>\n                                <button title="0.8" class="cmd-scale" data-command="scale" data-value="0.8" style="width:55px">0.8</button>\n                                <button title="0.9" class="cmd-scale" data-command="scale" data-value="0.9" style="width:55px">0.9</button>\n                                <button title="1.1" class="cmd-scale" data-command="scale" data-value="1.1" style="width:55px">1.1</button>\n                                <button title="1.2" class="cmd-scale" data-command="scale" data-value="1.2" style="width:55px">1.2</button>\n                                <button title="2" class="cmd-scale" data-command="scale" data-value="2" style="width:55px">2</button>\n                            </div>\n\n                            <div class="anim-label">\n                                <span>\n                                    <span class="bold">${i("Rotate Clockwise")}</span>: \n                                    <input class="inp-rotate-clockwise" type="text" />\n                                </span> \n                                <button title="${i("Clear")}" class="cmd-clear-rotate-clockwise" style="background: none;margin-right:-12px">\n                                    <svg class="is-icon-flex" style="width:10px;height:10px;"><use xlink:href="#icon-clean"></use></svg>\n                                </button>\n                                \x3c!--<svg class="is-icon-flex" style="width:19px;height:19px;"><use xlink:href="#icon-rotate-clockwise"></use></svg>--\x3e\n                            </div>\n                            <div class="flex-wrap">\n                                <button title="10" class="cmd-rotate" data-command="rotate" data-value="-10" style="width:60px">10°</button>\n                                <button title="20" class="cmd-rotate" data-command="rotate" data-value="-20" style="width:60px">20°</button>\n                                <button title="30" class="cmd-rotate" data-command="rotate" data-value="-30" style="width:60px">30°</button>\n                                <button title="60" class="cmd-rotate" data-command="rotate" data-value="-60" style="width:60px">60°</button>\n                                <button title="90" class="cmd-rotate" data-command="rotate" data-value="-90" style="width:60px">90°</button>\n                            </div>\n                            <div class="anim-label">\n                                <span>\n                                    <span class="bold">${i("Rotate Counterclockwise")}</span>: \n                                    <input class="inp-rotate-counter" type="text" />\n                                </span> \n                                <button title="${i("Clear")}" class="cmd-clear-rotate-counter" style="background: none;margin-right:-12px">\n                                    <svg class="is-icon-flex" style="width:10px;height:10px;"><use xlink:href="#icon-clean"></use></svg>\n                                </button>\n                                \x3c!--<svg class="is-icon-flex" style="width:19px;height:19px;"><use xlink:href="#icon-rotate-2"></use></svg>--\x3e\n                            </div>\n                            <div class="flex-wrap">\n                                <button title="10" class="cmd-rotate" data-command="rotate" data-value="10" style="width:60px">10°</button>\n                                <button title="20" class="cmd-rotate" data-command="rotate" data-value="20" style="width:60px">20°</button>\n                                <button title="30" class="cmd-rotate" data-command="rotate" data-value="30" style="width:60px">30°</button>\n                                <button title="60" class="cmd-rotate" data-command="rotate" data-value="60" style="width:60px">60°</button>\n                                <button title="90" class="cmd-rotate" data-command="rotate" data-value="90" style="width:60px">90°</button>\n                            </div>\n\n                            <div class="anim-label">\n                                <span class="bold">${i("Fade")}</span>: \n                                \x3c!--<svg class="is-icon-flex" style="width:19px;height:19px;"><use xlink:href="#icon-circle-half"></use></svg>--\x3e\n                            </div>\n                            <button title="${i("Fade In")}" class="cmd-fade" style="flex: none;width:125px">${i("Fade In")}</button>\n\n                            <div style="display:flex;justify-content: flex-end;margin-top: 5px;">\n                                <button title="${i("Clear All")}" class="cmd-clear-scrollanim" style="flex: none;width: auto;padding: 0px !important;box-shadow: none !important;background: transparent !important;">\n                                    <svg class="is-icon-flex" style="width:10px;height:10px;"><use xlink:href="#icon-clean"></use></svg>\n                                    <span style="margin-left:7px">${i("Clear All")}</span>\n                                </button>\n                            </div>\n\n                            <div style="display:flex;justify-content: flex-end;margin-top: 5px;">\n                                <button title="${i("Clear All Animations in Section")}" class="cmd-clear-anim-all" style="flex: none;width: auto;padding: 0px !important;box-shadow: none !important;background: transparent !important;">\n                                    <svg class="is-icon-flex" style="width:10px;height:10px;"><use xlink:href="#icon-clean"></use></svg>\n                                    <span style="margin-left:7px">${i("Clear All Animations in Section")}</span>\n                                </button>\n                            </div>\n\n                        </div>\n\n                        <div id="divLeaveAnim" class="is-tab-content" data-group="skrollanim" style="padding-top:0">\n\n\n                            <div class="anim-label">\n                                <span>\n                                    <span class="bold">${i("Slide Left")}</span>: <input class="inp-slide-left" type="text" />\n                                </span> \n                                <button title="${i("Clear")}" class="cmd-clear-slide-left" style="background: none;margin-right:-12px">\n                                    <svg class="is-icon-flex" style="width:10px;height:10px;"><use xlink:href="#icon-clean"></use></svg>\n                                </button>\n                            </div>\n                            <div class="flex-wrap">\n                                <button title="75" class="cmd-slidex" data-command="slidex" data-value="-75px" style="width:60px">75</button>\n                                <button title="100" class="cmd-slidex" data-command="slidex" data-value="-100px" style="width:60px">100</button>\n                                <button title="125" class="cmd-slidex" data-command="slidex" data-value="-125px" style="width:60px">125</button>\n                                <button title="150" class="cmd-slidex" data-command="slidex" data-value="-150px" style="width:60px">150</button>\n                                <button title="200" class="cmd-slidex" data-command="slidex" data-value="-200px" style="width:60px">200</button>\n                                <span style="font-size: 11px;margin-left: 9px;margin-bottom: 2px;">px</span>\n                            </div>\n                            <div class="anim-label">\n                                <span>\n                                    <span class="bold">${i("Slide Right")}</span>: \n                                    <input class="inp-slide-right" type="text" />\n                                </span> \n                                <button title="${i("Clear")}" class="cmd-clear-slide-right" style="background: none;margin-right:-12px">\n                                    <svg class="is-icon-flex" style="width:10px;height:10px;"><use xlink:href="#icon-clean"></use></svg>\n                                </button>\n                            </div>\n                            <div class="flex-wrap">\n                                <button title="75" class="cmd-slidex" data-command="slidex" data-value="75px" style="width:60px">75</button>\n                                <button title="100" class="cmd-slidex" data-command="slidex" data-value="100px" style="width:60px">100</button>\n                                <button title="125" class="cmd-slidex" data-command="slidex" data-value="125px" style="width:60px">125</button>\n                                <button title="150" class="cmd-slidex" data-command="slidex" data-value="150px" style="width:60px">150</button>\n                                <button title="200" class="cmd-slidex" data-command="slidex" data-value="200px" style="width:60px">200</button>\n                                <span style="font-size: 11px;margin-left: 9px;margin-bottom: 2px;">px</span>\n                            </div>\n\n                            <div class="anim-label">\n                                <span>\n                                    <span class="bold">${i("Slide Up")}</span>: \n                                    <input class="inp-slide-up" type="text" />\n                                </span> \n                                <button title="${i("Clear")}" class="cmd-clear-slide-up" style="background: none;margin-right:-12px">\n                                    <svg class="is-icon-flex" style="width:10px;height:10px;"><use xlink:href="#icon-clean"></use></svg>\n                                </button>\n                            </div>\n                            <div class="flex-wrap">\n                                <button title="75" class="cmd-slidey" data-command="slidey" data-value="-75px" style="width:60px">75</button>\n                                <button title="100" class="cmd-slidey" data-command="slidey" data-value="-100px" style="width:60px">100</button>\n                                <button title="125" class="cmd-slidey" data-command="slidey" data-value="-125px" style="width:60px">125</button>\n                                <button title="150" class="cmd-slidey" data-command="slidey" data-value="-150px" style="width:60px">150</button>\n                                <button title="200" class="cmd-slidey" data-command="slidey" data-value="-200px" style="width:60px">200</button>\n                                <span style="font-size: 11px;margin-left: 9px;margin-bottom: 2px;">px</span>\n                            </div>\n                            <div class="anim-label">\n                                <span>\n                                    <span class="bold">${i("Slide Down")}</span>:\n                                    <input class="inp-slide-down" type="text" />\n                                </span> \n                                <button title="${i("Clear")}" class="cmd-clear-slide-down" style="background: none;margin-right:-12px">\n                                    <svg class="is-icon-flex" style="width:10px;height:10px;"><use xlink:href="#icon-clean"></use></svg>\n                                </button>\n                            </div>\n                            <div class="flex-wrap">\n                                <button title="75" class="cmd-slidey" data-command="slidey" data-value="75px" style="width:60px">75</button>\n                                <button title="100" class="cmd-slidey" data-command="slidey" data-value="100px" style="width:60px">100</button>\n                                <button title="125" class="cmd-slidey" data-command="slidey" data-value="125px" style="width:60px">125</button>\n                                <button title="150" class="cmd-slidey" data-command="slidey" data-value="150px" style="width:60px">150</button>\n                                <button title="200" class="cmd-slidey" data-command="slidey" data-value="200px" style="width:60px">200</button>\n                                <span style="font-size: 11px;margin-left: 9px;margin-bottom: 2px;">px</span>\n                            </div>\n\n                            <div class="anim-label">\n                                <span>\n                                    <span class="bold">${i("Scale")}</span>: \n                                    <input class="inp-scale" type="text" />\n                                </span> \n                                <button title="${i("Clear")}" class="cmd-clear-scale" style="background: none;margin-right:-12px">\n                                    <svg class="is-icon-flex" style="width:10px;height:10px;"><use xlink:href="#icon-clean"></use></svg>\n                                </button>\n                            </div>\n                            <div class="flex-nowrap">\n                                <button title="0.5" class="cmd-scale" data-command="scale" data-value="0.5" style="width:55px">0.5</button>\n                                <button title="0.8" class="cmd-scale" data-command="scale" data-value="0.8" style="width:55px">0.8</button>\n                                <button title="0.9" class="cmd-scale" data-command="scale" data-value="0.9" style="width:55px">0.9</button>\n                                <button title="1.1" class="cmd-scale" data-command="scale" data-value="1.1" style="width:55px">1.1</button>\n                                <button title="1.2" class="cmd-scale" data-command="scale" data-value="1.2" style="width:55px">1.2</button>\n                                <button title="2" class="cmd-scale" data-command="scale" data-value="2" style="width:55px">2</button>\n                            </div>\n\n                            <div class="anim-label">\n                                <span>\n                                    <span class="bold">${i("Rotate Clockwise")}</span>: \n                                    <input class="inp-rotate-clockwise" type="text" />\n                                </span> \n                                <button title="${i("Clear")}" class="cmd-clear-rotate-clockwise" style="background: none;margin-right:-12px">\n                                    <svg class="is-icon-flex" style="width:10px;height:10px;"><use xlink:href="#icon-clean"></use></svg>\n                                </button>\n                                \x3c!--<svg class="is-icon-flex" style="width:19px;height:19px;"><use xlink:href="#icon-rotate-clockwise"></use></svg>--\x3e\n                            </div>\n                            <div class="flex-wrap">\n                                <button title="10" class="cmd-rotate" data-command="rotate" data-value="10" style="width:60px">10°</button>\n                                <button title="20" class="cmd-rotate" data-command="rotate" data-value="20" style="width:60px">20°</button>\n                                <button title="30" class="cmd-rotate" data-command="rotate" data-value="30" style="width:60px">30°</button>\n                                <button title="60" class="cmd-rotate" data-command="rotate" data-value="60" style="width:60px">60°</button>\n                                <button title="90" class="cmd-rotate" data-command="rotate" data-value="90" style="width:60px">90°</button>\n                            </div>\n                            <div class="anim-label">\n                                <span>\n                                    <span class="bold">${i("Rotate Counterclockwise")}</span>: \n                                    <input class="inp-rotate-counter" type="text" />\n                                </span> \n                                <button title="${i("Clear")}" class="cmd-clear-rotate-counter" style="background: none;margin-right:-12px">\n                                    <svg class="is-icon-flex" style="width:10px;height:10px;"><use xlink:href="#icon-clean"></use></svg>\n                                </button>\n                                \x3c!--<svg class="is-icon-flex" style="width:19px;height:19px;"><use xlink:href="#icon-rotate-2"></use></svg>--\x3e\n                            </div>\n                            <div class="flex-wrap">\n                                <button title="10" class="cmd-rotate" data-command="rotate" data-value="-10" style="width:60px">10°</button>\n                                <button title="20" class="cmd-rotate" data-command="rotate" data-value="-20" style="width:60px">20°</button>\n                                <button title="30" class="cmd-rotate" data-command="rotate" data-value="-30" style="width:60px">30°</button>\n                                <button title="60" class="cmd-rotate" data-command="rotate" data-value="-60" style="width:60px">60°</button>\n                                <button title="90" class="cmd-rotate" data-command="rotate" data-value="-90" style="width:60px">90°</button>\n                            </div>\n\n                            <div class="anim-label">\n                                <span class="bold">${i("Fade")}</span>: \n                            </div>\n                            <button title="${i("Fade In")}" class="cmd-fade" style="flex: none;width:125px">${i("Fade Out")}</button>\n\n                            <div style="display:flex;justify-content: flex-end;margin-top: 5px;">\n                                <button title="${i("Clear All")}" class="cmd-clear-scrollanim" style="flex: none;width: auto;padding: 0px !important;box-shadow: none !important;background: transparent !important;">\n                                    <svg class="is-icon-flex" style="width:10px;height:10px;"><use xlink:href="#icon-clean"></use></svg>\n                                    <span style="margin-left:7px">${i("Clear All")}</span>\n                                </button>\n                            </div>\n\n                            <div style="display:flex;justify-content: flex-end;margin-top: 5px;">\n                                <button title="${i("Clear All Animations in Section")}" class="cmd-clear-anim-all" style="flex: none;width: auto;padding: 0px !important;box-shadow: none !important;background: transparent !important;">\n                                    <svg class="is-icon-flex" style="width:10px;height:10px;"><use xlink:href="#icon-clean"></use></svg>\n                                    <span style="margin-left:7px">${i("Clear All Animations in Section")}</span>\n                                </button>\n                            </div>\n\n                        </div>\n\n                        <div id="divAnimSettings" class="is-tab-content" data-group="skrollanim" style="padding-top:0">\n                            \n                            <div class="anim-label bold" style="margin-top:5px">${i("Enter")}:</div>\n\n                            <div class="anim-label" style="padding-top:10px">${i("Start")}:</div>\n                            <div class="flex-wrap">\n                                <button title="${i("Normal")}" class="cmd-start on" data-value="data-bottom-top" style="width:74px">${i("Normal")}</button>\n                                <button title="${i("Delayed")}" class="cmd-start" data-value="data-400-bottom" style="width:74px">${i("Delayed")}</button>\n                                <button title="${i("Late")}" class="cmd-start" data-value="data-200-bottom" style="width:74px">${i("Late")}</button>\n                                <button title="${i("Very Late")}" class="cmd-start" data-value="data--50-bottom" style="width:95px">${i("Very Late")}</button>\n                            </div>\n                            \n                            <div class="anim-label">${i("End")}:</div>\n                            <div class="flex-wrap">\n                                <button title="${i("Very Soon")}" class="cmd-end" data-value="data-bottom" style="width:95px">${i("Very Soon")}</button>\n                                <button title="${i("Soon")}" class="cmd-end" data-value="data-center-top" style="width:74px">${i("Soon")}</button>\n                                <button title="${i("Normal")}" class="cmd-end on" data-value="data-center" style="width:74px">${i("Normal")}</button>\n                            </div>\n\n                            <div class="anim-label bold" style="margin-top:20px">${i("Leave")}:</div>\n\n                            <div class="anim-label" style="padding-top:10px">${i("Start")}:</div>\n                            <div class="flex-wrap">\n                                <button title="${i("Normal")}" class="cmd-leave-start on" data-value="data-center-bottom" style="width:74px">${i("Normal")}</button>\n                                <button title="${i("Delayed")}" class="cmd-leave-start" data-value="data-100-top" style="width:74px">${i("Delayed")}</button>\n                                <button title="${i("Late")}" class="cmd-leave-start" data-value="data-50-top" style="width:74px">${i("Late")}</button>\n                                <button title="${i("Very Late")}" class="cmd-leave-start" data-value="data-top" style="width:95px">${i("Very Late")}</button>\n                            </div>\n\n                            <div class="flex-wrap" style="margin-top:20px;">\n                                <button title="${i("Disable Easing")}" class="cmd-disable-smoothanim" data-value="data-center" style="padding-left:15px;padding-right: 15px;">${i("Disable Easing")}</button>\n                            </div>\n                        </div>\n\n                \n                    </div>\n\n                </div>\n\n                <div class="dummy-elm"></div>\n\n            </div>\n\n            <div class="div-wizard-settings" style="display:block">\n                \x3c!--<div class="anim-label" style="margin-bottom:15px">${i("Apply To")}: ${i("Section")}</div>--\x3e\n\n                <div class="flex-wrap" style="margin-top: 10px;">\n                    <label class="label-checkbox" for="chkPresetAnimOnce" style="margin:0;margin-right:15px;">\n                        <input id="chkPresetAnimOnce" type="checkbox" />\n                        ${i("Animate Once")}\n                    </label>\n\n                    <button title="${i("Clear")}" class="cmd-clear-anim-wizard" style="width:100px">\n                        <svg class="is-icon-flex" style="width:10px;height:10px;"><use xlink:href="#icon-clean"></use></svg>\n                        <span style="margin-left:7px">${i("Clear")}</span>\n                    </button>\n                </div>\n\n                <div class="anim-preset-list" style="height: calc(100vh - 97px);\n                overflow: auto;\n                width: 347px;">\n                    <div style="display:flex;\n                    flex-direction: column;\n                    align-items: flex-start;\n                    padding: 0 20px 20px 0;\n                    ">\n                        <div style="margin: 20px 0 5px;">${i("Fade In")}</div>\n                        <button title="${i("Fade In")}" class="cmd-preset-onview" data-value="is-fadeIn" data-delay="100" style="width:100%;height:90px;overflow:hidden;">\n                            <img src="${this.builder.assetPath+"images/fade-in.gif"}" />\n                        </button>   \n\n                        <div style="margin: 20px 0 5px;">${i("Fade In - Slow")}</div>\n                        <button title="${i("Fade In - Slow")}" class="cmd-preset-onview" data-value="is-fadeIn" data-delay="300" style="width:100%;height:90px;overflow:hidden;">\n                            <img src="${this.builder.assetPath+"images/fade-in-slow.gif"}" />\n                        </button>   \n\n                        <div style="margin: 20px 0 5px;">${i("Fade In Up")}</div>\n                        <button title="${i("Fade In Up")}" class="cmd-preset-onview" data-value="is-fadeInUp" data-delay="100" style="width:100%;height:90px;overflow:hidden;">\n                            <img src="${this.builder.assetPath+"images/fade-in-up.gif"}" />\n                        </button>   \n\n                        <div style="margin: 20px 0 5px;">${i("Fade In Up - Slow")}</div>\n                        <button title="${i("Fade In Up - Slow")}" class="cmd-preset-onview" data-value="is-fadeInUp" data-delay="300" style="width:100%;height:90px;overflow:hidden;">\n                        <img src="${this.builder.assetPath+"images/fade-in-up-slow.gif"}" />\n                        </button>   \n\n                        <div style="margin: 20px 0 5px;">${i("Slide Up")}</div>\n                        <button title="${i("Slide Up")}" class="cmd-preset-onview" data-value="is-slideInUp" data-delay="100" style="width:100%;height:90px;overflow:hidden;">\n                            <img src="${this.builder.assetPath+"images/slide-up.gif"}" />\n                        </button>   \n\n                        <div style="margin: 20px 0 5px;">${i("Slide Up - Slow")}</div>\n                        <button title="${i("Slide Up - Slow")}" class="cmd-preset-onview" data-value="is-slideInUp" data-delay="300" style="width:100%;height:90px;overflow:hidden;">\n                            <img src="${this.builder.assetPath+"images/slide-up-slow.gif"}" />\n                        </button>   \n\n                        <div style="margin: 20px 0 5px;">${i("Zoom In")}</div>\n                        <button title="${i("Zoom In")}" class="cmd-preset-onview" data-value="is-zoomIn" data-delay="300" style="width:100%;height:90px;overflow:hidden;">\n                            <img src="${this.builder.assetPath+"images/zoom-in.gif"}" />\n                        </button>   \n\n                        <div style="margin: 20px 0 5px;">${i("Zoom Out")}</div>\n                        <button title="${i("Zoom Out")}" class="cmd-preset-onview" data-value="is-zoomOut" data-delay="300" style="width:100%;height:90px;overflow:hidden;">\n                            <img src="${this.builder.assetPath+"images/zoom-out.gif"}" />\n                        </button>   \n                    </div>\n                </div>\n\n            </div>\n\n        </div>\n        `;hy.appendHtml(t,n);const s=t.querySelector(".is-side.animatescroll");this.modalAnimateScroll=s;const o=s.querySelector("#divEnterAnim");this.divEnterAnim=o;const a=s.querySelector("#divLeaveAnim");this.divLeaveAnim=a;s.querySelector(".is-side-close").addEventListener("click",(()=>{this.close()})),this.divAnimScrollSimple=s.querySelector("#divAnimScrollSimple"),this.divAnimSettings=s.querySelector("#divAnimSettings");const l=this.builder.sidebar.pageQuickSettings.querySelector(".cmd-open-preview-window");this.btnOpenPreviewWindow=l;let r=s.querySelectorAll(".cmd-target");r.forEach((e=>{e.addEventListener("click",(()=>{s.querySelectorAll(".cmd-target").forEach((e=>{e.classList.remove("on")})),e.classList.add("on"),this.read()}))}));const d=s.querySelector(".div-anim-settings"),c=s.querySelector(".div-wizard-settings"),u=s.querySelector(".cmd-anim-edit");u.addEventListener("click",(()=>{u.classList.contains("on")?(u.classList.remove("on"),d.style.display="none",c.style.display="block"):(u.classList.add("on"),c.style.display="none",d.style.display="block")}));s.querySelectorAll(".cmd-clear-anim-all").forEach((e=>{e.addEventListener("click",(()=>{this.builder.activeSection&&(this.builder.editor.saveForUndo(),this.clearAllAnim(),this.clearSettings(),this.modalAnimateScroll.querySelector(".cmd-start.on")||(e=this.modalAnimateScroll.querySelector('.cmd-start[data-value="data-bottom-top"]'))&&e.classList.add("on"),this.modalAnimateScroll.querySelector(".cmd-end.on")||(e=this.modalAnimateScroll.querySelector('.cmd-end[data-value="data-center"]'))&&e.classList.add("on"),this.modalAnimateScroll.querySelector(".cmd-leave-start.on")||(e=this.modalAnimateScroll.querySelector('.cmd-leave-start[data-value="data-center-bottom"]'))&&e.classList.add("on"),this.builder.settings.onChange())}))}));s.querySelector(".cmd-clear-anim-wizard").addEventListener("click",(()=>{const e=this.builder.activeSection;if(!e)return;let t;this.builder.editor.saveForUndo(),t=e.querySelectorAll(".is-animated"),t.forEach((e=>{e.classList.contains("is-overlay-bg")||(this.cleanupBasic(e),this.cleanupDelay(e))})),this.builder.settings.onRender(),this.builder.settings.onChange()}));s.querySelectorAll(".cmd-preset-onview").forEach((e=>{e.addEventListener("click",(()=>{const t=e.getAttribute("data-value"),i=e.getAttribute("data-delay");this.applyPresetBasic(t,i)}))}));const p=s.querySelector("#chkPresetAnimOnce");p.addEventListener("click",(()=>{this.builder.activeSection&&(this.builder.editor.saveForUndo(),p.checked?this.animateOnce():this.alwaysAnimate(),this.builder.settings.onChange())}));const h=s.querySelector(".cmd-basic-once");r=s.querySelectorAll(".cmd-basic-anim"),r.forEach((e=>{e.addEventListener("click",(()=>{if(e.classList.contains("on"))return e.classList.remove("on"),h.classList.remove("on"),void this.applyBasic();s.querySelectorAll(".cmd-basic-anim").forEach((e=>{e.classList.remove("on")})),e.classList.add("on"),this.applyBasic()}))})),r=s.querySelectorAll(".cmd-basic-delay"),r.forEach((e=>{e.addEventListener("click",(()=>{if(e.classList.contains("on"))return e.classList.remove("on"),void this.applyDelay();s.querySelectorAll(".cmd-basic-delay").forEach((e=>{e.classList.remove("on")})),e.classList.add("on"),this.applyDelay()}))})),s.querySelector(".cmd-clear-delay").addEventListener("click",(()=>{s.querySelectorAll(".cmd-basic-delay").forEach((e=>{e.classList.remove("on")})),this.applyDelay()})),h.addEventListener("click",(()=>{h.classList.contains("on")?h.classList.remove("on"):h.classList.add("on"),this.applyBasic()})),s.querySelector(".cmd-clear-basicanim").addEventListener("click",(()=>{let e;e=this.getTarget().element,e&&(this.builder.editor.saveForUndo(),this.cleanupBasic(e),this.cleanupDelay(e),e.classList.remove("is-inview"),e.removeAttribute("data-scroll"),this.read(),this.builder.settings.onChange())})),r=s.querySelectorAll(".cmd-start"),r.forEach((e=>{e.addEventListener("click",(()=>{s.querySelectorAll(".cmd-start").forEach((e=>{e.classList.remove("on")})),e.classList.add("on"),this.apply()}))})),r=s.querySelectorAll(".cmd-end"),r.forEach((e=>{e.addEventListener("click",(()=>{s.querySelectorAll(".cmd-end").forEach((e=>{e.classList.remove("on")})),e.classList.add("on"),this.apply()}))})),r=s.querySelectorAll(".cmd-leave-start"),r.forEach((e=>{e.addEventListener("click",(()=>{s.querySelectorAll(".cmd-leave-start").forEach((e=>{e.classList.remove("on")})),e.classList.add("on"),this.apply()}))})),r=o.querySelectorAll(".cmd-slidex"),r.forEach((e=>{e.addEventListener("click",(()=>{const t=o.querySelector(".inp-slide-right"),i=o.querySelector(".inp-slide-left");if(e.classList.contains("on"))return e.classList.remove("on"),t.value="",i.value="",void this.apply();o.querySelectorAll(".cmd-slidex").forEach((e=>{e.classList.remove("on")})),e.classList.add("on"),-1!==e.getAttribute("data-value").indexOf("-")?(t.value=e.getAttribute("data-value").replace("-","").replace("px",""),i.value=""):(i.value=e.getAttribute("data-value").replace("px",""),t.value=""),this.apply()}))}));const m=o.querySelector(".inp-slide-right"),g=o.querySelector(".inp-slide-left");m.addEventListener("change",(()=>{o.querySelectorAll(".cmd-slidex").forEach((e=>{e.classList.remove("on")})),g.value="",this.apply();let e=this.divEnterAnim.querySelector(`.cmd-slidex[data-value="-${m.value}px"]`);e&&e.classList.add("on")})),g.addEventListener("change",(()=>{o.querySelectorAll(".cmd-slidex").forEach((e=>{e.classList.remove("on")})),m.value="",this.apply();let e=this.divEnterAnim.querySelector(`.cmd-slidex[data-value="${g.value}px"]`);e&&e.classList.add("on")})),r=o.querySelectorAll(".cmd-slidey"),r.forEach((e=>{e.addEventListener("click",(()=>{const t=o.querySelector(".inp-slide-up"),i=o.querySelector(".inp-slide-down");if(e.classList.contains("on"))return e.classList.remove("on"),t.value="",i.value="",void this.apply();o.querySelectorAll(".cmd-slidey").forEach((e=>{e.classList.remove("on")})),e.classList.add("on"),-1!==e.getAttribute("data-value").indexOf("-")?(i.value=e.getAttribute("data-value").replace("-","").replace("px",""),t.value=""):(t.value=e.getAttribute("data-value").replace("px",""),i.value=""),this.apply()}))}));const b=o.querySelector(".inp-slide-up"),f=o.querySelector(".inp-slide-down");f.addEventListener("change",(()=>{o.querySelectorAll(".cmd-slidey").forEach((e=>{e.classList.remove("on")})),b.value="",this.apply();let e=this.divEnterAnim.querySelector(`.cmd-slidey[data-value="-${f.value}px"]`);e&&e.classList.add("on")})),b.addEventListener("change",(()=>{o.querySelectorAll(".cmd-slidey").forEach((e=>{e.classList.remove("on")})),f.value="",this.apply();let e=this.divEnterAnim.querySelector(`.cmd-slidey[data-value="${b.value}px"]`);e&&e.classList.add("on")})),r=o.querySelectorAll(".cmd-scale"),r.forEach((e=>{e.addEventListener("click",(()=>{const t=o.querySelector(".inp-scale");if(e.classList.contains("on"))return e.classList.remove("on"),t.value="",void this.apply();o.querySelectorAll(".cmd-scale").forEach((e=>{e.classList.remove("on")})),e.classList.add("on"),t.value=e.getAttribute("data-value"),this.apply()}))}));const v=o.querySelector(".inp-scale");v.addEventListener("change",(()=>{o.querySelectorAll(".cmd-scale").forEach((e=>{e.classList.remove("on")})),this.apply();let e=this.divEnterAnim.querySelector(`.cmd-scale[data-value="${v.value}"]`);e&&e.classList.add("on")})),r=o.querySelectorAll(".cmd-rotate"),r.forEach((e=>{e.addEventListener("click",(()=>{const t=o.querySelector(".inp-rotate-clockwise"),i=o.querySelector(".inp-rotate-counter");if(e.classList.contains("on"))return e.classList.remove("on"),t.value="",i.value="",void this.apply();o.querySelectorAll(".cmd-rotate").forEach((e=>{e.classList.remove("on")})),e.classList.add("on"),-1!==e.getAttribute("data-value").indexOf("-")?(t.value=e.getAttribute("data-value").replace("-",""),i.value=""):(i.value=e.getAttribute("data-value"),t.value=""),this.apply()}))}));const y=o.querySelector(".inp-rotate-clockwise"),x=o.querySelector(".inp-rotate-counter");y.addEventListener("change",(()=>{o.querySelectorAll(".cmd-rotate").forEach((e=>{e.classList.remove("on")})),x.value="",this.apply();let e=this.divEnterAnim.querySelector(`.cmd-rotate[data-value="-${y.value}"]`);e&&e.classList.add("on")})),x.addEventListener("change",(()=>{o.querySelectorAll(".cmd-rotate").forEach((e=>{e.classList.remove("on")})),y.value="",this.apply();let e=this.divEnterAnim.querySelector(`.cmd-rotate[data-value="${x.value}"]`);e&&e.classList.add("on")}));let _=o.querySelector(".cmd-fade");_.addEventListener("click",(()=>{_.classList.contains("on")?_.classList.remove("on"):_.classList.add("on"),this.apply()})),o.querySelector(".cmd-clear-slide-left").addEventListener("click",(()=>{const e=o.querySelector(".inp-slide-left");if(""===e.value)return;this.builder.editor.saveForUndo(),e.value="",o.querySelectorAll(".cmd-slidex").forEach((e=>{e.classList.remove("on")})),this.apply(),this.builder.settings.onChange()})),o.querySelector(".cmd-clear-slide-right").addEventListener("click",(()=>{const e=o.querySelector(".inp-slide-right");if(""===e.value)return;this.builder.editor.saveForUndo(),e.value="",o.querySelectorAll(".cmd-slidex").forEach((e=>{e.classList.remove("on")})),this.apply(),this.builder.settings.onChange()})),o.querySelector(".cmd-clear-slide-up").addEventListener("click",(()=>{const e=o.querySelector(".inp-slide-up");if(""===e.value)return;this.builder.editor.saveForUndo(),e.value="",o.querySelectorAll(".cmd-slidey").forEach((e=>{e.classList.remove("on")})),this.apply(),this.builder.settings.onChange()})),o.querySelector(".cmd-clear-slide-down").addEventListener("click",(()=>{const e=o.querySelector(".inp-slide-down");if(""===e.value)return;this.builder.editor.saveForUndo(),e.value="",o.querySelectorAll(".cmd-slidey").forEach((e=>{e.classList.remove("on")})),this.apply(),this.builder.settings.onChange()})),o.querySelector(".cmd-clear-scale").addEventListener("click",(()=>{this.builder.editor.saveForUndo();o.querySelector(".inp-scale").value="",o.querySelectorAll(".cmd-scale").forEach((e=>{e.classList.remove("on")})),this.apply(),this.builder.settings.onChange()})),o.querySelector(".cmd-clear-rotate-clockwise").addEventListener("click",(()=>{const e=this.divEnterAnim.querySelector(".inp-rotate-clockwise");if(""===e.value)return;this.builder.editor.saveForUndo(),e.value="",o.querySelectorAll(".cmd-rotate").forEach((e=>{e.classList.remove("on")})),this.apply(),this.builder.settings.onChange()})),o.querySelector(".cmd-clear-rotate-counter").addEventListener("click",(()=>{const e=this.divEnterAnim.querySelector(".inp-rotate-counter");if(""===e.value)return;this.builder.editor.saveForUndo(),e.value="",o.querySelectorAll(".cmd-rotate").forEach((e=>{e.classList.remove("on")})),this.apply(),this.builder.settings.onChange()})),o.querySelector(".cmd-clear-scrollanim").addEventListener("click",(()=>{let e;e=this.getTarget().element,e&&(this.builder.editor.saveForUndo(),this.cleanup(e),e.style.transform="",e.style.transition="",e.style.opacity="",this.read(),this.builder.win.skrollrr&&this.builder.win.skrollrr.refresh(),this.builder.settings.onChange())})),r=a.querySelectorAll(".cmd-slidex"),r.forEach((e=>{e.addEventListener("click",(()=>{const t=a.querySelector(".inp-slide-left"),i=a.querySelector(".inp-slide-right");if(e.classList.contains("on"))return e.classList.remove("on"),t.value="",i.value="",void this.apply();a.querySelectorAll(".cmd-slidex").forEach((e=>{e.classList.remove("on")})),e.classList.add("on"),-1!==e.getAttribute("data-value").indexOf("-")?(t.value=e.getAttribute("data-value").replace("-","").replace("px",""),i.value=""):(i.value=e.getAttribute("data-value").replace("px",""),t.value=""),this.apply()}))}));const w=a.querySelector(".inp-slide-left"),S=a.querySelector(".inp-slide-right");w.addEventListener("change",(()=>{a.querySelectorAll(".cmd-slidex").forEach((e=>{e.classList.remove("on")})),S.value="",this.apply();let e=this.divLeaveAnim.querySelector(`.cmd-slidex[data-value="-${w.value}px"]`);e&&e.classList.add("on")})),S.addEventListener("change",(()=>{a.querySelectorAll(".cmd-slidex").forEach((e=>{e.classList.remove("on")})),w.value="",this.apply();let e=this.divLeaveAnim.querySelector(`.cmd-slidex[data-value="${S.value}px"]`);e&&e.classList.add("on")})),r=a.querySelectorAll(".cmd-slidey"),r.forEach((e=>{e.addEventListener("click",(()=>{const t=a.querySelector(".inp-slide-up"),i=a.querySelector(".inp-slide-down");if(e.classList.contains("on"))return e.classList.remove("on"),t.value="",i.value="",void this.apply();a.querySelectorAll(".cmd-slidey").forEach((e=>{e.classList.remove("on")})),e.classList.add("on"),-1!==e.getAttribute("data-value").indexOf("-")?(t.value=e.getAttribute("data-value").replace("-","").replace("px",""),i.value=""):(i.value=e.getAttribute("data-value").replace("px",""),t.value=""),this.apply()}))}));const C=a.querySelector(".inp-slide-up"),k=a.querySelector(".inp-slide-down");k.addEventListener("change",(()=>{a.querySelectorAll(".cmd-slidey").forEach((e=>{e.classList.remove("on")})),C.value="",this.apply();let e=this.divLeaveAnim.querySelector(`.cmd-slidey[data-value="${k.value}px"]`);e&&e.classList.add("on")})),C.addEventListener("change",(()=>{a.querySelectorAll(".cmd-slidey").forEach((e=>{e.classList.remove("on")})),k.value="",this.apply();let e=this.divLeaveAnim.querySelector(`.cmd-slidey[data-value="-${C.value}px"]`);e&&e.classList.add("on")})),r=a.querySelectorAll(".cmd-scale"),r.forEach((e=>{e.addEventListener("click",(()=>{const t=a.querySelector(".inp-scale");if(e.classList.contains("on"))return e.classList.remove("on"),t.value="",void this.apply();a.querySelectorAll(".cmd-scale").forEach((e=>{e.classList.remove("on")})),e.classList.add("on"),t.value=e.getAttribute("data-value"),this.apply()}))}));const A=a.querySelector(".inp-scale");A.addEventListener("change",(()=>{a.querySelectorAll(".cmd-scale").forEach((e=>{e.classList.remove("on")})),this.apply();let e=this.divLeaveAnim.querySelector(`.cmd-scale[data-value="${A.value}"]`);e&&e.classList.add("on")})),r=a.querySelectorAll(".cmd-rotate"),r.forEach((e=>{e.addEventListener("click",(()=>{const t=a.querySelector(".inp-rotate-clockwise"),i=a.querySelector(".inp-rotate-counter");if(e.classList.contains("on"))return e.classList.remove("on"),t.value="",i.value="",void this.apply();a.querySelectorAll(".cmd-rotate").forEach((e=>{e.classList.remove("on")})),e.classList.add("on"),-1!==e.getAttribute("data-value").indexOf("-")?(i.value=e.getAttribute("data-value").replace("-",""),t.value=""):(t.value=e.getAttribute("data-value"),i.value=""),this.apply()}))}));const E=a.querySelector(".inp-rotate-clockwise"),L=a.querySelector(".inp-rotate-counter");E.addEventListener("change",(()=>{a.querySelectorAll(".cmd-rotate").forEach((e=>{e.classList.remove("on")})),L.value="",this.apply();let e=this.divLeaveAnim.querySelector(`.cmd-rotate[data-value="${E.value}"]`);e&&e.classList.add("on")})),L.addEventListener("change",(()=>{a.querySelectorAll(".cmd-rotate").forEach((e=>{e.classList.remove("on")})),E.value="",this.apply();let e=this.divLeaveAnim.querySelector(`.cmd-rotate[data-value="-${L.value}"]`);e&&e.classList.add("on")}));let q=a.querySelector(".cmd-fade");q.addEventListener("click",(()=>{q.classList.contains("on")?q.classList.remove("on"):q.classList.add("on"),this.apply()})),a.querySelector(".cmd-clear-slide-left").addEventListener("click",(()=>{const e=a.querySelector(".inp-slide-left");if(""===e.value)return;this.builder.editor.saveForUndo(),e.value="",a.querySelectorAll(".cmd-slidex").forEach((e=>{e.classList.remove("on")})),this.apply(),this.builder.settings.onChange()})),a.querySelector(".cmd-clear-slide-right").addEventListener("click",(()=>{const e=a.querySelector(".inp-slide-right");if(""===e.value)return;this.builder.editor.saveForUndo(),e.value="",a.querySelectorAll(".cmd-slidex").forEach((e=>{e.classList.remove("on")})),this.apply(),this.builder.settings.onChange()})),a.querySelector(".cmd-clear-slide-up").addEventListener("click",(()=>{const e=a.querySelector(".inp-slide-up");if(""===e.value)return;this.builder.editor.saveForUndo(),e.value="",a.querySelectorAll(".cmd-slidey").forEach((e=>{e.classList.remove("on")})),this.apply(),this.builder.settings.onChange()})),a.querySelector(".cmd-clear-slide-down").addEventListener("click",(()=>{const e=a.querySelector(".inp-slide-down");if(""===e.value)return;this.builder.editor.saveForUndo(),e.value="",a.querySelectorAll(".cmd-slidey").forEach((e=>{e.classList.remove("on")})),this.apply(),this.builder.settings.onChange()})),a.querySelector(".cmd-clear-scale").addEventListener("click",(()=>{this.builder.editor.saveForUndo();a.querySelector(".inp-scale").value="",a.querySelectorAll(".cmd-scale").forEach((e=>{e.classList.remove("on")})),this.apply(),this.builder.settings.onChange()})),a.querySelector(".cmd-clear-rotate-clockwise").addEventListener("click",(()=>{const e=this.divLeaveAnim.querySelector(".inp-rotate-clockwise");if(""===e.value)return;this.builder.editor.saveForUndo(),e.value="",a.querySelectorAll(".cmd-rotate").forEach((e=>{e.classList.remove("on")})),this.apply(),this.builder.settings.onChange()})),a.querySelector(".cmd-clear-rotate-counter").addEventListener("click",(()=>{const e=this.divLeaveAnim.querySelector(".inp-rotate-counter");if(""===e.value)return;this.builder.editor.saveForUndo(),e.value="",a.querySelectorAll(".cmd-rotate").forEach((e=>{e.classList.remove("on")})),this.apply(),this.builder.settings.onChange()})),a.querySelector(".cmd-clear-scrollanim").addEventListener("click",(()=>{let e;e=this.getTarget().element,e&&(this.builder.editor.saveForUndo(),this.cleanup_leave(e),e.style.transform="",e.style.transition="",e.style.opacity="",this.read(),this.builder.win.skrollrr&&this.builder.win.skrollrr.refresh(),this.builder.settings.onChange())}));s.querySelector(".inp-simplescroll-x-start").addEventListener("change",(()=>{this.applySimpleScroll()}));s.querySelector(".inp-simplescroll-x-15").addEventListener("change",(()=>{this.applySimpleScroll()}));s.querySelector(".inp-simplescroll-x-25").addEventListener("change",(()=>{this.applySimpleScroll()}));s.querySelector(".inp-simplescroll-x-35").addEventListener("change",(()=>{this.applySimpleScroll()}));s.querySelector(".inp-simplescroll-x-50").addEventListener("change",(()=>{this.applySimpleScroll()}));s.querySelector(".inp-simplescroll-x-65").addEventListener("change",(()=>{this.applySimpleScroll()}));s.querySelector(".inp-simplescroll-x-75").addEventListener("change",(()=>{this.applySimpleScroll()}));s.querySelector(".inp-simplescroll-x-85").addEventListener("change",(()=>{this.applySimpleScroll()}));s.querySelector(".inp-simplescroll-x-end").addEventListener("change",(()=>{this.applySimpleScroll()}));s.querySelector(".inp-simplescroll-y-start").addEventListener("change",(()=>{this.applySimpleScroll()}));s.querySelector(".inp-simplescroll-y-15").addEventListener("change",(()=>{this.applySimpleScroll()}));s.querySelector(".inp-simplescroll-y-25").addEventListener("change",(()=>{this.applySimpleScroll()}));s.querySelector(".inp-simplescroll-y-35").addEventListener("change",(()=>{this.applySimpleScroll()}));s.querySelector(".inp-simplescroll-y-50").addEventListener("change",(()=>{this.applySimpleScroll()}));s.querySelector(".inp-simplescroll-y-65").addEventListener("change",(()=>{this.applySimpleScroll()}));s.querySelector(".inp-simplescroll-y-75").addEventListener("change",(()=>{this.applySimpleScroll()}));s.querySelector(".inp-simplescroll-y-85").addEventListener("change",(()=>{this.applySimpleScroll()}));s.querySelector(".inp-simplescroll-y-end").addEventListener("change",(()=>{this.applySimpleScroll()}));s.querySelector(".inp-simplescroll-scale-start").addEventListener("change",(()=>{this.applySimpleScroll()}));s.querySelector(".inp-simplescroll-scale-15").addEventListener("change",(()=>{this.applySimpleScroll()}));s.querySelector(".inp-simplescroll-scale-25").addEventListener("change",(()=>{this.applySimpleScroll()}));s.querySelector(".inp-simplescroll-scale-35").addEventListener("change",(()=>{this.applySimpleScroll()}));s.querySelector(".inp-simplescroll-scale-50").addEventListener("change",(()=>{this.applySimpleScroll()}));s.querySelector(".inp-simplescroll-scale-65").addEventListener("change",(()=>{this.applySimpleScroll()}));s.querySelector(".inp-simplescroll-scale-75").addEventListener("change",(()=>{this.applySimpleScroll()}));s.querySelector(".inp-simplescroll-scale-85").addEventListener("change",(()=>{this.applySimpleScroll()}));s.querySelector(".inp-simplescroll-scale-end").addEventListener("change",(()=>{this.applySimpleScroll()}));s.querySelector(".inp-simplescroll-rotate-start").addEventListener("change",(()=>{this.applySimpleScroll()}));s.querySelector(".inp-simplescroll-rotate-15").addEventListener("change",(()=>{this.applySimpleScroll()}));s.querySelector(".inp-simplescroll-rotate-25").addEventListener("change",(()=>{this.applySimpleScroll()}));s.querySelector(".inp-simplescroll-rotate-35").addEventListener("change",(()=>{this.applySimpleScroll()}));s.querySelector(".inp-simplescroll-rotate-50").addEventListener("change",(()=>{this.applySimpleScroll()}));s.querySelector(".inp-simplescroll-rotate-65").addEventListener("change",(()=>{this.applySimpleScroll()}));s.querySelector(".inp-simplescroll-rotate-75").addEventListener("change",(()=>{this.applySimpleScroll()}));s.querySelector(".inp-simplescroll-rotate-85").addEventListener("change",(()=>{this.applySimpleScroll()}));s.querySelector(".inp-simplescroll-rotate-end").addEventListener("change",(()=>{this.applySimpleScroll()}));s.querySelector(".inp-simplescroll-opacity-start").addEventListener("change",(()=>{this.applySimpleScroll()}));s.querySelector(".inp-simplescroll-opacity-15").addEventListener("change",(()=>{this.applySimpleScroll()}));s.querySelector(".inp-simplescroll-opacity-25").addEventListener("change",(()=>{this.applySimpleScroll()}));s.querySelector(".inp-simplescroll-opacity-35").addEventListener("change",(()=>{this.applySimpleScroll()}));s.querySelector(".inp-simplescroll-opacity-50").addEventListener("change",(()=>{this.applySimpleScroll()}));s.querySelector(".inp-simplescroll-opacity-65").addEventListener("change",(()=>{this.applySimpleScroll()}));s.querySelector(".inp-simplescroll-opacity-75").addEventListener("change",(()=>{this.applySimpleScroll()}));s.querySelector(".inp-simplescroll-opacity-85").addEventListener("change",(()=>{this.applySimpleScroll()}));s.querySelector(".inp-simplescroll-opacity-end").addEventListener("change",(()=>{this.applySimpleScroll()}));s.querySelector(".cmd-clear-simplescroll").addEventListener("click",(()=>{let e;e=this.getTarget().element,e&&(this.builder.editor.saveForUndo(),this.cleanup(e),this.cleanup_leave(e),this.cleanup_timeline(e),e.style.transform="",e.style.transition="",e.style.opacity="",this.read(),this.builder.win.skrollrr&&this.builder.win.skrollrr.refresh(),this.builder.settings.onChange())}));const T=s.querySelector("#chkDisableSkrollrrOnMobile");T.addEventListener("click",(()=>{const e=this.builder.activeSection;e&&(this.builder.editor.saveForUndo(),T.checked?e.classList.add("m-skrollrr-off"):e.classList.remove("m-skrollrr-off"),this.builder.onChange())}));const M=s.querySelector("#chkPinSection"),O=s.querySelector(".div-pin-spacing");M.addEventListener("click",(()=>{const e=this.builder.activeSection;if(e){if(this.builder.editor.saveForUndo(),M.checked){e.classList.add("section-pin"),O.style.display="block",O.querySelectorAll(".cmd-pin-space").forEach((e=>{e.classList.remove("on")})),O.querySelector('.cmd-pin-space[data-value="md"]').classList.add("on")}else e.classList.remove("section-pin"),O.style.display="none";this.builder.onChange()}}));const R=s.querySelector("#chkPinOverlap");R.addEventListener("click",(()=>{const e=this.builder.activeSection;e&&(this.builder.editor.saveForUndo(),R.checked?e.classList.add("pin-overlap"):(e.classList.remove("pin-overlap"),e.classList.remove("no-spacing")),this.builder.onChange())}));O.querySelectorAll(".cmd-pin-space").forEach((e=>{e.addEventListener("click",(()=>{const t=this.builder.activeSection;if(!t)return;let i=e.getAttribute("data-value");this.builder.editor.saveForUndo(),t.classList.remove("pin-space-lg"),t.classList.remove("pin-space-xl"),"lg"===i&&t.classList.add("pin-space-lg"),"xl"===i&&t.classList.add("pin-space-xl"),O.querySelectorAll(".cmd-pin-space").forEach((e=>{e.classList.remove("on")})),e.classList.add("on"),this.builder.onChange()}))}));const I=this.divAnimSettings.querySelector(".cmd-disable-smoothanim");I.addEventListener("click",(()=>{I.classList.contains("on")?I.classList.remove("on"):I.classList.add("on"),this.apply()}));const B=this.divAnimScrollSimple.querySelector(".cmd-disable-smoothanim");B.addEventListener("click",(()=>{B.classList.contains("on")?B.classList.remove("on"):B.classList.add("on"),this.applySimpleScroll()}));const N=this.divAnimScrollSimple.querySelector(".cmd-hidden-onstart");N.addEventListener("click",(()=>{N.classList.contains("on")?N.classList.remove("on"):N.classList.add("on"),this.applySimpleScroll()}));const $=this.builder.sidebar.pageQuickSettings.querySelector(".cmd-live-preview");if($.addEventListener(this.builder.isTouchSupport?"touchstart":"click",(()=>{$.checked?(this.builder.doc.body.removeAttribute("data-skrollrr-off"),localStorage.removeItem("_disableanimation")):(this.builder.doc.body.setAttribute("data-skrollrr-off","true"),this.builder.win.skrollrr&&this.builder.win.skrollrr.refresh(),localStorage.setItem("_disableanimation","1")),this.refreshPage();let e=document.querySelector(".is-element-tool");e&&(e.style.display="")})),this.builder.isTouchSupport){$.parentNode.addEventListener("touchstart",(()=>{$.checked?this.builder.doc.body.removeAttribute("data-skrollrr-off"):(this.builder.doc.body.setAttribute("data-skrollrr-off","true"),this.builder.win.skrollrr&&this.builder.win.skrollrr.refresh()),this.refreshPage()}))}l.addEventListener("click",(()=>{this.openPreview();const e=this.builder.sidebar.pageQuickSettings;this.builder.editor.util.hidePop(e)}));let z=this.builder.settings.onPageContentClick;this.builder.settings.onPageContentClick=()=>{z&&z.call(this),this.modalAnimateScroll.classList.contains("active")&&setTimeout((()=>{this.clickContent()}),30)}}animateOnce(){const e=this.builder.activeSection;if(e){let t=e.querySelectorAll(".is-animated");t.forEach((e=>{e.classList.add("once")})),this.builder.settings.onRender(),t=e.querySelectorAll(".is-animated"),t.forEach((e=>{e.style.opacity="0",e.style.transition="none"})),setTimeout((()=>{let t=e.querySelectorAll(".is-animated");t.forEach((e=>{e.classList.remove("is-inview"),e.style.opacity=""})),setTimeout((()=>{t=e.querySelectorAll(".is-animated"),t.forEach((e=>{e.style.opacity="",e.style.transition="",e.classList.add("is-inview")}))}),30)}),200)}}clearAllAnim(){let e=this.builder.activeSection;if(!e)return;let t,i=this.builder.editor.activeCol;i&&(e=i.closest(".is-section")),t=document.querySelectorAll("[data-bottom-top],[data-center],[data-center-bottom],[data-100-top],[data-50-top],[data-top],[data-top-bottom],[data-center-top],[data--300-bottom],[data--150-bottom],[data--50-bottom],[data-bottom],[data-100-bottom],[data-150-bottom],[data-400-bottom],[data--400-bottom],[data--200-bottom],[data--100-bottom],[data-50-bottom],[data-200-bottom],[data-300-bottom],[data-in],[data-in-150],[data-in-300],[data-cen--150],[data-cen],[data-cen-150],[data-out--300],[data-out--150],[data-out][data-t],[data-t-100],[data-t-200],[data-t-300],[data-t-400],[data-t-500],[data-t-600],[data-t-700],[data-t-800],[data-t-900],[data-t-1000],[data-t-1100],[data-t-1200],[data-t-1300],[data-t-1400],[data-t-1500],[data-t-1600],[data-t-1700],[data-t-1800],[data-t-1900],[data-t-2000],[data-t-2100],[data-t-2200],[data-t-2300],[data-t-2400],[data-t-2500],[data-t-2600],[data-t-2700],[data-t-2800]"),t.forEach((e=>{e.removeAttribute("data-center"),e.removeAttribute("data-center-top"),e.removeAttribute("data--50-bottom"),e.removeAttribute("data--100-bottom"),e.removeAttribute("data--150-bottom"),e.removeAttribute("data--200-bottom"),e.removeAttribute("data--300-bottom"),e.removeAttribute("data--400-bottom"),e.removeAttribute("data-bottom-top"),e.removeAttribute("data-400-bottom"),e.removeAttribute("data-300-bottom"),e.removeAttribute("data-200-bottom"),e.removeAttribute("data-150-bottom"),e.removeAttribute("data-100-bottom"),e.removeAttribute("data-50-bottom"),e.removeAttribute("data-bottom"),e.removeAttribute("data-center-bottom"),e.removeAttribute("data-100-top"),e.removeAttribute("data-50-top"),e.removeAttribute("data-top"),e.removeAttribute("data-top-bottom"),e.removeAttribute("data-in"),e.removeAttribute("data-in-150"),e.removeAttribute("data-in-300"),e.removeAttribute("data-cen--150"),e.removeAttribute("data-cen"),e.removeAttribute("data-cen-150"),e.removeAttribute("data-out--300"),e.removeAttribute("data-out--150"),e.removeAttribute("data-out"),e.removeAttribute("data-hidden-onstart"),e.style.transform="",e.style.transition="",e.style.opacity=""})),t=e.querySelectorAll(".is-animated"),t.forEach((e=>{this.cleanupBasic(e),this.cleanupDelay(e)})),this.builder.win.skrollrr&&setTimeout((()=>{this.builder.win.skrollrr.refresh()}),30),this.builder.settings.onRender()}alwaysAnimate(){const e=this.builder.activeSection;if(e){let t=e.querySelectorAll(".is-animated");t.forEach((e=>{e.classList.remove("once")})),this.builder.settings.onRender(),t=e.querySelectorAll(".is-animated"),t.forEach((e=>{e.style.opacity="0",e.style.transition="none"})),setTimeout((()=>{let t=e.querySelectorAll(".is-animated");t.forEach((e=>{e.classList.remove("is-inview"),e.style.opacity=""})),setTimeout((()=>{t=e.querySelectorAll(".is-animated"),t.forEach((e=>{e.style.opacity="",e.style.transition="",e.classList.add("is-inview")}))}),30)}),200)}}applyPresetBasic(e,t){const i=this.builder.activeSection;if(!i)return;this.builder.editor.saveForUndo();let n=i.querySelectorAll(".is-animated");n.forEach((e=>{e.classList.contains("is-overlay-bg")||(this.cleanupBasic(e),this.cleanupDelay(e))}));let s=0;const o=i=>{let n=s;const o=this.modalAnimateScroll.querySelector("#chkPresetAnimOnce");i.querySelectorAll(".is-container > div").forEach((i=>{this.builder.editor.dom.elementChildren(i).forEach((i=>{(""!==i.innerText.trim()||i.querySelector("img")||i.querySelector("iframe")||i.querySelector("video")||i.querySelector("audio")||i.querySelector("i"))&&(i.style.transition="none",i.classList.add("is-animated"),o.checked?i.classList.add("once"):i.classList.remove("once"),i.classList.add(e),0!==n&&i.classList.add(`delay-${n*t}ms`),i.classList.remove("is-inview"),n++)}))})),s++};let a=!!i.classList.contains("is-box")&&i;if(a)o(a);else{i.querySelectorAll(".is-box").forEach((e=>{o(e)}))}this.builder.settings.onRender(),n=i.querySelectorAll(".is-animated"),n.forEach((e=>{e.style.opacity="0",e.style.transition="none"})),setTimeout((()=>{let e=i.querySelectorAll(".is-animated");e.forEach((e=>{e.classList.remove("is-inview"),e.style.opacity=""})),setTimeout((()=>{e=i.querySelectorAll(".is-animated"),e.forEach((e=>{e.style.opacity="",e.style.transition="",e.classList.add("is-inview")}))}),30)}),200),this.builder.settings.onChange()}openPreview(){this.builder.editor.openPreview()}closePreview(){this.builder.editor.closePreview()}refreshPage(){let e=this.getTarget().element;e&&e.setAttribute("data-save-target","1"),this.builder.editor.activeElement&&this.builder.editor.activeElement.setAttribute("data-save-element","1"),this.builder.activeBox&&this.builder.activeBox.setAttribute("data-save-box","1"),this.builder.activeSection&&this.builder.activeSection.setAttribute("data-save-section","1"),this.builder.refreshPage((()=>{let t=!1;this.builder.sidebar.pageQuickSettings.classList.contains("active")&&(t=!0),e=this.builder.doc.querySelector("[data-save-target]"),e&&(e.click(),e.removeAttribute("data-save-target"));let i=this.builder.doc.querySelector("[data-save-element]");i&&(i.click(),i.removeAttribute("data-save-element"));let n=this.builder.doc.querySelector("[data-save-box]");n&&(n.classList.add("box-select"),n.removeAttribute("data-save-box"),this.builder.activeBox=n);let s=this.builder.doc.querySelector("[data-save-section]");s&&(s.classList.add("section-select"),s.removeAttribute("data-save-section"),this.builder.activeSection=s),t&&this.builder.sidebar.reOpenSettings(),this.builder.rePositionTool()}))}clickContent(){this.modalAnimateScroll.querySelectorAll(".cmd-target").forEach((e=>{e.classList.remove("on")}));let e=this.readTarget();if(e){if("element"===e.name||"inspectedElement"===e.name){this.modalAnimateScroll.querySelector(".cmd-target[data-value=element]").classList.add("on")}else if("column"===e.name){this.modalAnimateScroll.querySelector(".cmd-target[data-value=column]").classList.add("on")}else if("row"===e.name){this.modalAnimateScroll.querySelector(".cmd-target[data-value=row]").classList.add("on")}else if("container"===e.name){this.modalAnimateScroll.querySelector(".cmd-target[data-value=container]").classList.add("on")}else if("bg"===e.name){this.modalAnimateScroll.querySelector(".cmd-target[data-value=bg]").classList.add("on")}else if("overlay"===e.name){this.modalAnimateScroll.querySelector(".cmd-target[data-value=overlay]").classList.add("on")}else if("box"===e.name){this.modalAnimateScroll.querySelector(".cmd-target[data-value=box]").classList.add("on")}else if("section"===e.name){this.modalAnimateScroll.querySelector(".cmd-target[data-value=section]").classList.add("on")}}else{this.modalAnimateScroll.querySelector(".cmd-target[data-value=element]").classList.add("on")}this.read(),this.readAnimOnce()}clearSettings(){let e;e=this.modalAnimateScroll.querySelectorAll(".cmd-basic-anim"),e.forEach((e=>{e.classList.remove("on")})),e=this.modalAnimateScroll.querySelectorAll(".cmd-basic-delay"),e.forEach((e=>{e.classList.remove("on")})),e=this.modalAnimateScroll.querySelectorAll(".cmd-start"),e.forEach((e=>{e.classList.remove("on")})),e=this.modalAnimateScroll.querySelectorAll(".cmd-end"),e.forEach((e=>{e.classList.remove("on")})),e=this.modalAnimateScroll.querySelectorAll(".cmd-leave-start"),e.forEach((e=>{e.classList.remove("on")})),e=this.divEnterAnim.querySelectorAll(".cmd-slidex"),e.forEach((e=>{e.classList.remove("on")})),e=this.divEnterAnim.querySelectorAll(".cmd-slidey"),e.forEach((e=>{e.classList.remove("on")})),e=this.divEnterAnim.querySelectorAll(".cmd-scale"),e.forEach((e=>{e.classList.remove("on")})),e=this.divEnterAnim.querySelectorAll(".cmd-rotate"),e.forEach((e=>{e.classList.remove("on")}));let t=this.divEnterAnim.querySelector(".cmd-fade");t.classList.remove("on"),e=this.divLeaveAnim.querySelectorAll(".cmd-slidex"),e.forEach((e=>{e.classList.remove("on")})),e=this.divLeaveAnim.querySelectorAll(".cmd-slidey"),e.forEach((e=>{e.classList.remove("on")})),e=this.divLeaveAnim.querySelectorAll(".cmd-scale"),e.forEach((e=>{e.classList.remove("on")})),e=this.divLeaveAnim.querySelectorAll(".cmd-rotate"),e.forEach((e=>{e.classList.remove("on")})),t=this.divLeaveAnim.querySelector(".cmd-fade"),t.classList.remove("on");const i=this.divEnterAnim.querySelector(".inp-slide-left"),n=this.divEnterAnim.querySelector(".inp-slide-right"),s=this.divEnterAnim.querySelector(".inp-slide-up"),o=this.divEnterAnim.querySelector(".inp-slide-down");i.value="",n.value="",s.value="",o.value="";this.divEnterAnim.querySelector(".inp-scale").value="";const a=this.divEnterAnim.querySelector(".inp-rotate-counter"),l=this.divEnterAnim.querySelector(".inp-rotate-clockwise");a.value="",l.value="";const r=this.divLeaveAnim.querySelector(".inp-slide-left"),d=this.divLeaveAnim.querySelector(".inp-slide-right"),c=this.divLeaveAnim.querySelector(".inp-slide-up"),u=this.divLeaveAnim.querySelector(".inp-slide-down");r.value="",d.value="",c.value="",u.value="";this.divLeaveAnim.querySelector(".inp-scale").value="";const p=this.divLeaveAnim.querySelector(".inp-rotate-counter"),h=this.divLeaveAnim.querySelector(".inp-rotate-clockwise");p.value="",h.value="";const m=this.modalAnimateScroll.querySelector(".inp-simplescroll-x-start"),g=this.modalAnimateScroll.querySelector(".inp-simplescroll-x-15"),b=this.modalAnimateScroll.querySelector(".inp-simplescroll-x-25"),f=this.modalAnimateScroll.querySelector(".inp-simplescroll-x-35"),v=this.modalAnimateScroll.querySelector(".inp-simplescroll-x-50"),y=this.modalAnimateScroll.querySelector(".inp-simplescroll-x-65"),x=this.modalAnimateScroll.querySelector(".inp-simplescroll-x-75"),_=this.modalAnimateScroll.querySelector(".inp-simplescroll-x-85"),w=this.modalAnimateScroll.querySelector(".inp-simplescroll-x-end"),S=this.modalAnimateScroll.querySelector(".inp-simplescroll-y-start"),C=this.modalAnimateScroll.querySelector(".inp-simplescroll-y-15"),k=this.modalAnimateScroll.querySelector(".inp-simplescroll-y-25"),A=this.modalAnimateScroll.querySelector(".inp-simplescroll-y-35"),E=this.modalAnimateScroll.querySelector(".inp-simplescroll-y-50"),L=this.modalAnimateScroll.querySelector(".inp-simplescroll-y-65"),q=this.modalAnimateScroll.querySelector(".inp-simplescroll-y-75"),T=this.modalAnimateScroll.querySelector(".inp-simplescroll-y-85"),M=this.modalAnimateScroll.querySelector(".inp-simplescroll-y-end"),O=this.modalAnimateScroll.querySelector(".inp-simplescroll-scale-start"),R=this.modalAnimateScroll.querySelector(".inp-simplescroll-scale-15"),I=this.modalAnimateScroll.querySelector(".inp-simplescroll-scale-25"),B=this.modalAnimateScroll.querySelector(".inp-simplescroll-scale-35"),N=this.modalAnimateScroll.querySelector(".inp-simplescroll-scale-50"),$=this.modalAnimateScroll.querySelector(".inp-simplescroll-scale-65"),z=this.modalAnimateScroll.querySelector(".inp-simplescroll-scale-75"),P=this.modalAnimateScroll.querySelector(".inp-simplescroll-scale-85"),H=this.modalAnimateScroll.querySelector(".inp-simplescroll-scale-end"),D=this.modalAnimateScroll.querySelector(".inp-simplescroll-rotate-start"),j=this.modalAnimateScroll.querySelector(".inp-simplescroll-rotate-15"),U=this.modalAnimateScroll.querySelector(".inp-simplescroll-rotate-25"),F=this.modalAnimateScroll.querySelector(".inp-simplescroll-rotate-35"),W=this.modalAnimateScroll.querySelector(".inp-simplescroll-rotate-50"),Y=this.modalAnimateScroll.querySelector(".inp-simplescroll-rotate-65"),X=this.modalAnimateScroll.querySelector(".inp-simplescroll-rotate-75"),G=this.modalAnimateScroll.querySelector(".inp-simplescroll-rotate-85"),V=this.modalAnimateScroll.querySelector(".inp-simplescroll-rotate-end"),K=this.modalAnimateScroll.querySelector(".inp-simplescroll-opacity-start"),Z=this.modalAnimateScroll.querySelector(".inp-simplescroll-opacity-15"),Q=this.modalAnimateScroll.querySelector(".inp-simplescroll-opacity-25"),J=this.modalAnimateScroll.querySelector(".inp-simplescroll-opacity-35"),ee=this.modalAnimateScroll.querySelector(".inp-simplescroll-opacity-50"),te=this.modalAnimateScroll.querySelector(".inp-simplescroll-opacity-65"),ie=this.modalAnimateScroll.querySelector(".inp-simplescroll-opacity-75"),ne=this.modalAnimateScroll.querySelector(".inp-simplescroll-opacity-85"),se=this.modalAnimateScroll.querySelector(".inp-simplescroll-opacity-end");m.value="",g.value="",b.value="",f.value="",v.value="",y.value="",x.value="",_.value="",w.value="",S.value="",C.value="",k.value="",A.value="",E.value="",L.value="",q.value="",T.value="",M.value="",O.value="",R.value="",I.value="",B.value="",N.value="",$.value="",z.value="",P.value="",H.value="",D.value="",j.value="",U.value="",F.value="",W.value="",Y.value="",X.value="",G.value="",V.value="",K.value="",Z.value="",Q.value="",J.value="",ee.value="",te.value="",ie.value="",ne.value="",se.value=""}read(){this.clearSettings();const e=this.builder.activeSection;if(e){const t=this.modalAnimateScroll.querySelector(".div-pin-spacing"),i=this.modalAnimateScroll.querySelector("#chkPinSection");e.classList.contains("section-pin")?(i.checked=!0,t.style.display="block"):(i.checked=!1,t.style.display="none");const n=this.modalAnimateScroll.querySelector("#chkDisableSkrollrrOnMobile");if(e.classList.contains("m-skrollrr-off")?n.checked=!0:n.checked=!1,t.querySelectorAll(".cmd-pin-space").forEach((e=>{e.classList.remove("on")})),e.classList.contains("pin-space-lg")){t.querySelector('.cmd-pin-space[data-value="lg"]').classList.add("on")}else if(e.classList.contains("pin-space-xl")){t.querySelector('.cmd-pin-space[data-value="xl"]').classList.add("on")}else{t.querySelector('.cmd-pin-space[data-value="md"]').classList.add("on")}const s=this.modalAnimateScroll.querySelector("#chkPinOverlap");e.classList.contains("pin-overlap")?s.checked=!0:(s.checked=!1,e.classList.contains("no-spacing")&&(s.checked=!0))}let t,i,n,s=this.getTarget();if(t=s.element,!t)return;t.classList.contains("is-fadeIn")&&(i=this.modalAnimateScroll.querySelector('.cmd-basic-anim[data-value="is-fadeIn"]')),t.classList.contains("is-fadeInUp")&&(i=this.modalAnimateScroll.querySelector('.cmd-basic-anim[data-value="is-fadeInUp"]')),t.classList.contains("is-fadeInDown")&&(i=this.modalAnimateScroll.querySelector('.cmd-basic-anim[data-value="is-fadeInDown"]')),t.classList.contains("is-fadeInLeft")&&(i=this.modalAnimateScroll.querySelector('.cmd-basic-anim[data-value="is-fadeInLeft"]')),t.classList.contains("is-fadeInRight")&&(i=this.modalAnimateScroll.querySelector('.cmd-basic-anim[data-value="is-fadeInRight"]')),t.classList.contains("is-zoomIn")&&(i=this.modalAnimateScroll.querySelector('.cmd-basic-anim[data-value="is-zoomIn"]')),t.classList.contains("is-zoomOut")&&(i=this.modalAnimateScroll.querySelector('.cmd-basic-anim[data-value="is-zoomOut"]')),t.classList.contains("is-slideInUp")&&(i=this.modalAnimateScroll.querySelector('.cmd-basic-anim[data-value="is-slideInUp"]')),t.classList.contains("is-slideInDown")&&(i=this.modalAnimateScroll.querySelector('.cmd-basic-anim[data-value="is-slideInDown"]')),t.classList.contains("is-slideInLeft")&&(i=this.modalAnimateScroll.querySelector('.cmd-basic-anim[data-value="is-slideInLeft"]')),t.classList.contains("is-slideInRight")&&(i=this.modalAnimateScroll.querySelector('.cmd-basic-anim[data-value="is-slideInRight"]')),t.classList.contains("is-flipInX")&&(i=this.modalAnimateScroll.querySelector('.cmd-basic-anim[data-value="is-flipInX"]')),t.classList.contains("is-flipInY")&&(i=this.modalAnimateScroll.querySelector('.cmd-basic-anim[data-value="is-flipInY"]')),t.classList.contains("is-pulse")&&(i=this.modalAnimateScroll.querySelector('.cmd-basic-anim[data-value="is-pulse"]')),t.classList.contains("is-bounceIn")&&(i=this.modalAnimateScroll.querySelector('.cmd-basic-anim[data-value="is-bounceIn"]')),i&&i.classList.add("on"),t.classList.contains("delay-0ms")&&(n=this.modalAnimateScroll.querySelector('.cmd-basic-delay[data-value="delay-0ms"]')),t.classList.contains("delay-100ms")&&(n=this.modalAnimateScroll.querySelector('.cmd-basic-delay[data-value="delay-100ms"]')),t.classList.contains("delay-200ms")&&(n=this.modalAnimateScroll.querySelector('.cmd-basic-delay[data-value="delay-200ms"]')),t.classList.contains("delay-300ms")&&(n=this.modalAnimateScroll.querySelector('.cmd-basic-delay[data-value="delay-300ms"]')),t.classList.contains("delay-400ms")&&(n=this.modalAnimateScroll.querySelector('.cmd-basic-delay[data-value="delay-400ms"]')),t.classList.contains("delay-500ms")&&(n=this.modalAnimateScroll.querySelector('.cmd-basic-delay[data-value="delay-500ms"]')),t.classList.contains("delay-600ms")&&(n=this.modalAnimateScroll.querySelector('.cmd-basic-delay[data-value="delay-600ms"]')),t.classList.contains("delay-700ms")&&(n=this.modalAnimateScroll.querySelector('.cmd-basic-delay[data-value="delay-700ms"]')),t.classList.contains("delay-800ms")&&(n=this.modalAnimateScroll.querySelector('.cmd-basic-delay[data-value="delay-800ms"]')),t.classList.contains("delay-900ms")&&(n=this.modalAnimateScroll.querySelector('.cmd-basic-delay[data-value="delay-900ms"]')),t.classList.contains("delay-1000ms")&&(n=this.modalAnimateScroll.querySelector('.cmd-basic-delay[data-value="delay-1000ms"]')),t.classList.contains("delay-1100ms")&&(n=this.modalAnimateScroll.querySelector('.cmd-basic-delay[data-value="delay-1100ms"]')),t.classList.contains("delay-1200ms")&&(n=this.modalAnimateScroll.querySelector('.cmd-basic-delay[data-value="delay-1200ms"]')),t.classList.contains("delay-1300ms")&&(n=this.modalAnimateScroll.querySelector('.cmd-basic-delay[data-value="delay-1300ms"]')),t.classList.contains("delay-1400ms")&&(n=this.modalAnimateScroll.querySelector('.cmd-basic-delay[data-value="delay-1400ms"]')),n&&n.classList.add("on");const o=this.modalAnimateScroll.querySelector(".cmd-basic-once");t.classList.contains("once")?o.classList.add("on"):o.classList.remove("on");this.modalAnimateScroll.querySelectorAll(".cmd-disable-smoothanim").forEach((e=>{t.hasAttribute("data-smooth-scrolling")?e.classList.add("on"):e.classList.remove("on")}));this.modalAnimateScroll.querySelectorAll(".cmd-hidden-onstart").forEach((e=>{t.hasAttribute("data-hidden-onstart")?e.classList.add("on"):e.classList.remove("on")}));const a=this.modalAnimateScroll.querySelector(".inp-simplescroll-x-start"),l=this.modalAnimateScroll.querySelector(".inp-simplescroll-x-15"),r=this.modalAnimateScroll.querySelector(".inp-simplescroll-x-25"),d=this.modalAnimateScroll.querySelector(".inp-simplescroll-x-35"),c=this.modalAnimateScroll.querySelector(".inp-simplescroll-x-50"),u=this.modalAnimateScroll.querySelector(".inp-simplescroll-x-65"),p=this.modalAnimateScroll.querySelector(".inp-simplescroll-x-75"),h=this.modalAnimateScroll.querySelector(".inp-simplescroll-x-85"),m=this.modalAnimateScroll.querySelector(".inp-simplescroll-x-end"),g=this.modalAnimateScroll.querySelector(".inp-simplescroll-y-start"),b=this.modalAnimateScroll.querySelector(".inp-simplescroll-y-15"),f=this.modalAnimateScroll.querySelector(".inp-simplescroll-y-25"),v=this.modalAnimateScroll.querySelector(".inp-simplescroll-y-35"),y=this.modalAnimateScroll.querySelector(".inp-simplescroll-y-50"),x=this.modalAnimateScroll.querySelector(".inp-simplescroll-y-65"),_=this.modalAnimateScroll.querySelector(".inp-simplescroll-y-75"),w=this.modalAnimateScroll.querySelector(".inp-simplescroll-y-85"),S=this.modalAnimateScroll.querySelector(".inp-simplescroll-y-end"),C=this.modalAnimateScroll.querySelector(".inp-simplescroll-scale-start"),k=this.modalAnimateScroll.querySelector(".inp-simplescroll-scale-15"),A=this.modalAnimateScroll.querySelector(".inp-simplescroll-scale-25"),E=this.modalAnimateScroll.querySelector(".inp-simplescroll-scale-35"),L=this.modalAnimateScroll.querySelector(".inp-simplescroll-scale-50"),q=this.modalAnimateScroll.querySelector(".inp-simplescroll-scale-65"),T=this.modalAnimateScroll.querySelector(".inp-simplescroll-scale-75"),M=this.modalAnimateScroll.querySelector(".inp-simplescroll-scale-85"),O=this.modalAnimateScroll.querySelector(".inp-simplescroll-scale-end"),R=this.modalAnimateScroll.querySelector(".inp-simplescroll-rotate-start"),I=this.modalAnimateScroll.querySelector(".inp-simplescroll-rotate-15"),B=this.modalAnimateScroll.querySelector(".inp-simplescroll-rotate-25"),N=this.modalAnimateScroll.querySelector(".inp-simplescroll-rotate-35"),$=this.modalAnimateScroll.querySelector(".inp-simplescroll-rotate-50"),z=this.modalAnimateScroll.querySelector(".inp-simplescroll-rotate-65"),P=this.modalAnimateScroll.querySelector(".inp-simplescroll-rotate-75"),H=this.modalAnimateScroll.querySelector(".inp-simplescroll-rotate-85"),D=this.modalAnimateScroll.querySelector(".inp-simplescroll-rotate-end"),j=this.modalAnimateScroll.querySelector(".inp-simplescroll-opacity-start"),U=this.modalAnimateScroll.querySelector(".inp-simplescroll-opacity-15"),F=this.modalAnimateScroll.querySelector(".inp-simplescroll-opacity-25"),W=this.modalAnimateScroll.querySelector(".inp-simplescroll-opacity-35"),Y=this.modalAnimateScroll.querySelector(".inp-simplescroll-opacity-50"),X=this.modalAnimateScroll.querySelector(".inp-simplescroll-opacity-65"),G=this.modalAnimateScroll.querySelector(".inp-simplescroll-opacity-75"),V=this.modalAnimateScroll.querySelector(".inp-simplescroll-opacity-85"),K=this.modalAnimateScroll.querySelector(".inp-simplescroll-opacity-end");if(a.value="",l.value="",r.value="",d.value="",c.value="",u.value="",p.value="",h.value="",m.value="",g.value="",b.value="",f.value="",v.value="",y.value="",x.value="",_.value="",w.value="",S.value="",C.value="",k.value="",A.value="",E.value="",L.value="",q.value="",T.value="",M.value="",O.value="",R.value="",I.value="",B.value="",N.value="",$.value="",z.value="",P.value="",H.value="",D.value="",j.value="",U.value="",F.value="",W.value="",Y.value="",X.value="",G.value="",V.value="",K.value="",t.hasAttribute("data-bottom-top")&&t.hasAttribute("data-top-bottom")&&!(t.hasAttribute("data-center-bottom")||t.hasAttribute("data-100-top")||t.hasAttribute("data-50-top")||t.hasAttribute("data-top"))||t.hasAttribute("data-in")||t.hasAttribute("data-in-150")||t.hasAttribute("data-in-300")||t.hasAttribute("data-cen--150")||t.hasAttribute("data-cen")||t.hasAttribute("data-cen-150")||t.hasAttribute("data-out--300")||t.hasAttribute("data-out--150")||t.hasAttribute("data-out")){let e=document.querySelector(".dummy-elm"),i=t.getAttribute("data-bottom-top");e.style.cssText=i;let n=this.getTransform(e,i);n.translateX&&(a.value=n.translateX.replace("px","")),n.translateY&&(g.value=n.translateY.replace("px","")),n.scale&&(C.value=n.scale),n.rotate&&(R.value=n.rotate),n.opacity&&(j.value=n.opacity);let s=t.getAttribute("data-top-bottom");e.style.cssText=s,n=this.getTransform(e,s),n.translateX&&(m.value=n.translateX.replace("px","")),n.translateY&&(S.value=n.translateY.replace("px","")),n.scale&&(O.value=n.scale),n.rotate&&(D.value=n.rotate),n.opacity&&(K.value=n.opacity);let o,Z=t.getAttribute("data-in");return e.style.cssText=Z,n=this.getTransform(e,Z),n.translateX&&(a.value=n.translateX.replace("px","")),n.translateY&&(g.value=n.translateY.replace("px","")),n.scale&&(C.value=n.scale),n.rotate&&(R.value=n.rotate),n.opacity&&(j.value=n.opacity),Z=t.getAttribute("data-in-150"),e.style.cssText=Z,n=this.getTransform(e,Z),n.translateX&&(l.value=n.translateX.replace("px","")),n.translateY&&(b.value=n.translateY.replace("px","")),n.scale&&(k.value=n.scale),n.rotate&&(I.value=n.rotate),n.opacity&&(U.value=n.opacity),Z=t.getAttribute("data-in-300"),e.style.cssText=Z,n=this.getTransform(e,Z),n.translateX&&(r.value=n.translateX.replace("px","")),n.translateY&&(f.value=n.translateY.replace("px","")),n.scale&&(A.value=n.scale),n.rotate&&(B.value=n.rotate),n.opacity&&(F.value=n.opacity),Z=t.getAttribute("data-cen--150"),e.style.cssText=Z,n=this.getTransform(e,Z),n.translateX&&(d.value=n.translateX.replace("px","")),n.translateY&&(v.value=n.translateY.replace("px","")),n.scale&&(E.value=n.scale),n.rotate&&(N.value=n.rotate),n.opacity&&(W.value=n.opacity),Z=t.getAttribute("data-cen"),e.style.cssText=Z,n=this.getTransform(e,Z),n.translateX&&(c.value=n.translateX.replace("px","")),n.translateY&&(y.value=n.translateY.replace("px","")),n.scale&&(L.value=n.scale),n.rotate&&($.value=n.rotate),n.opacity&&(Y.value=n.opacity),Z=t.getAttribute("data-cen-150"),e.style.cssText=Z,n=this.getTransform(e,Z),n.translateX&&(u.value=n.translateX.replace("px","")),n.translateY&&(x.value=n.translateY.replace("px","")),n.scale&&(q.value=n.scale),n.rotate&&(z.value=n.rotate),n.opacity&&(X.value=n.opacity),Z=t.getAttribute("data-out--300"),e.style.cssText=Z,n=this.getTransform(e,Z),n.translateX&&(p.value=n.translateX.replace("px","")),n.translateY&&(_.value=n.translateY.replace("px","")),n.scale&&(T.value=n.scale),n.rotate&&(P.value=n.rotate),n.opacity&&(G.value=n.opacity),Z=t.getAttribute("data-out--150"),e.style.cssText=Z,n=this.getTransform(e,Z),n.translateX&&(h.value=n.translateX.replace("px","")),n.translateY&&(w.value=n.translateY.replace("px","")),n.scale&&(M.value=n.scale),n.rotate&&(H.value=n.rotate),n.opacity&&(V.value=n.opacity),Z=t.getAttribute("data-out"),e.style.cssText=Z,n=this.getTransform(e,Z),n.translateX&&(m.value=n.translateX.replace("px","")),n.translateY&&(S.value=n.translateY.replace("px","")),n.scale&&(O.value=n.scale),n.rotate&&(D.value=n.rotate),n.opacity&&(K.value=n.opacity),this.modalAnimateScroll.querySelector(".cmd-start.on")||(o=this.modalAnimateScroll.querySelector('.cmd-start[data-value="data-bottom-top"]'),o&&o.classList.add("on")),this.modalAnimateScroll.querySelector(".cmd-end.on")||(o=this.modalAnimateScroll.querySelector('.cmd-end[data-value="data-center"]'),o&&o.classList.add("on")),this.modalAnimateScroll.querySelector(".cmd-leave-start.on")||(o=this.modalAnimateScroll.querySelector('.cmd-leave-start[data-value="data-center-bottom"]'),o&&o.classList.add("on")),!0}let Z=t.getAttribute("data-bottom-top");Z||(Z=t.getAttribute("data-400-bottom")),Z||(Z=t.getAttribute("data-200-bottom")),Z||(Z=t.getAttribute("data--50-bottom"));let Q,J=t.getAttribute("data-top-bottom");t.hasAttribute("data-bottom-top")&&(Q=this.modalAnimateScroll.querySelector('.cmd-start[data-value="data-bottom-top"]'),Q&&Q.classList.add("on")),t.hasAttribute("data-400-bottom")&&(Q=this.modalAnimateScroll.querySelector('.cmd-start[data-value="data-400-bottom"]'),Q&&Q.classList.add("on")),t.hasAttribute("data-200-bottom")&&(Q=this.modalAnimateScroll.querySelector('.cmd-start[data-value="data-200-bottom"]'),Q&&Q.classList.add("on")),t.hasAttribute("data--50-bottom")&&(Q=this.modalAnimateScroll.querySelector('.cmd-start[data-value="data--50-bottom"]'),Q&&Q.classList.add("on")),this.modalAnimateScroll.querySelector(".cmd-start.on")||(Q=this.modalAnimateScroll.querySelector('.cmd-start[data-value="data-bottom-top"]'),Q&&Q.classList.add("on")),t.hasAttribute("data-bottom")&&(Q=this.modalAnimateScroll.querySelector('.cmd-end[data-value="data-bottom"]'),Q&&Q.classList.add("on")),t.hasAttribute("data-center-top")&&(Q=this.modalAnimateScroll.querySelector('.cmd-end[data-value="data-center-top"]'),Q&&Q.classList.add("on")),t.hasAttribute("data-center")&&(Q=this.modalAnimateScroll.querySelector('.cmd-end[data-value="data-center"]'),Q&&Q.classList.add("on")),t.hasAttribute("data-top-bottom")&&(Q=this.modalAnimateScroll.querySelector('.cmd-end[data-value="data-top-bottom"]'),Q&&Q.classList.add("on")),this.modalAnimateScroll.querySelector(".cmd-end.on")||(Q=this.modalAnimateScroll.querySelector('.cmd-end[data-value="data-center"]'),Q&&Q.classList.add("on"));let ee=document.querySelector(".dummy-elm");ee.style.cssText=Z;let te=this.getTransform(ee,Z);Q=this.divEnterAnim.querySelector(`.cmd-slidex[data-value="${te.translateX}"]`),Q&&Q.classList.add("on"),Q=this.divEnterAnim.querySelector(`.cmd-slidey[data-value="${te.translateY}"]`),Q&&Q.classList.add("on"),Q=this.divEnterAnim.querySelector(`.cmd-scale[data-value="${te.scale}"]`),Q&&Q.classList.add("on"),te.rotate&&(Q=this.divEnterAnim.querySelector(`.cmd-rotate[data-value="${te.rotate}"]`),Q&&Q.classList.add("on"));const ie=this.divEnterAnim.querySelector(".inp-slide-left"),ne=this.divEnterAnim.querySelector(".inp-slide-right");te.translateX&&(-1!==te.translateX.indexOf("-")?ne.value=te.translateX.replace("-","").replace("px",""):ie.value=te.translateX.replace("px",""));const se=this.divEnterAnim.querySelector(".inp-slide-up"),oe=this.divEnterAnim.querySelector(".inp-slide-down");te.translateY&&(-1!==te.translateY.indexOf("-")?oe.value=te.translateY.replace("-","").replace("px",""):se.value=te.translateY.replace("px",""));const ae=this.divEnterAnim.querySelector(".inp-scale");te.scale&&(ae.value=te.scale);const le=this.divEnterAnim.querySelector(".inp-rotate-counter"),re=this.divEnterAnim.querySelector(".inp-rotate-clockwise");te.rotate&&(-1!==te.rotate.indexOf("-")?re.value=te.rotate.replace("-",""):le.value=te.rotate),te.opacity&&(Q=this.divEnterAnim.querySelector(".cmd-fade"),Q&&Q.classList.add("on")),t.hasAttribute("data-center-bottom")&&(Q=this.modalAnimateScroll.querySelector('.cmd-leave-start[data-value="data-center-bottom"]'),Q&&Q.classList.add("on")),t.hasAttribute("data-100-top")&&(Q=this.modalAnimateScroll.querySelector('.cmd-leave-start[data-value="data-100-top"]'),Q&&Q.classList.add("on")),t.hasAttribute("data-50-top")&&(Q=this.modalAnimateScroll.querySelector('.cmd-leave-start[data-value="data-50-top"]'),Q&&Q.classList.add("on")),t.hasAttribute("data-top")&&(Q=this.modalAnimateScroll.querySelector('.cmd-leave-start[data-value="data-top"]'),Q&&Q.classList.add("on")),this.modalAnimateScroll.querySelector(".cmd-leave-start.on")||(Q=this.modalAnimateScroll.querySelector('.cmd-leave-start[data-value="data-center-bottom"]'),Q&&Q.classList.add("on")),ee.style.cssText=J,te=this.getTransform(ee,J),Q=this.divLeaveAnim.querySelector(`.cmd-slidex[data-value="${te.translateX}"]`),Q&&Q.classList.add("on"),Q=this.divLeaveAnim.querySelector(`.cmd-slidey[data-value="${te.translateY}"]`),Q&&Q.classList.add("on"),Q=this.divLeaveAnim.querySelector(`.cmd-scale[data-value="${te.scale}"]`),Q&&Q.classList.add("on"),te.rotate&&(Q=this.divLeaveAnim.querySelector(`.cmd-rotate[data-value="${te.rotate}"]`),Q&&Q.classList.add("on"));const de=this.divLeaveAnim.querySelector(".inp-slide-left"),ce=this.divLeaveAnim.querySelector(".inp-slide-right");te.translateX&&(-1!==te.translateX.indexOf("-")?de.value=te.translateX.replace("-","").replace("px",""):ce.value=te.translateX.replace("px",""));const ue=this.divLeaveAnim.querySelector(".inp-slide-up"),pe=this.divLeaveAnim.querySelector(".inp-slide-down");te.translateY&&(-1!==te.translateY.indexOf("-")?ue.value=te.translateY.replace("-","").replace("px",""):pe.value=te.translateY.replace("px",""));const he=this.divLeaveAnim.querySelector(".inp-scale");te.scale&&(he.value=te.scale);const me=this.divLeaveAnim.querySelector(".inp-rotate-counter"),ge=this.divLeaveAnim.querySelector(".inp-rotate-clockwise");return te.rotate&&(-1!==te.rotate.indexOf("-")?me.value=te.rotate.replace("-",""):ge.value=te.rotate),te.opacity&&(Q=this.divLeaveAnim.querySelector(".cmd-fade"),Q&&Q.classList.add("on")),!0}cleanupBasic(e){e.classList.remove("is-animated"),e.classList.remove("once"),e.classList.remove("is-fadeIn"),e.classList.remove("is-fadeInUp"),e.classList.remove("is-fadeInDown"),e.classList.remove("is-fadeInLeft"),e.classList.remove("is-fadeInRight"),e.classList.remove("is-zoomIn"),e.classList.remove("is-zoomOut"),e.classList.remove("is-slideInUp"),e.classList.remove("is-slideInDown"),e.classList.remove("is-slideInLeft"),e.classList.remove("is-slideInRight"),e.classList.remove("is-flipInX"),e.classList.remove("is-flipInY"),e.classList.remove("is-pulse"),e.classList.remove("is-bounceIn")}cleanupDelay(e){e.classList.remove("delay-0ms"),e.classList.remove("delay-100ms"),e.classList.remove("delay-200ms"),e.classList.remove("delay-300ms"),e.classList.remove("delay-400ms"),e.classList.remove("delay-500ms"),e.classList.remove("delay-600ms"),e.classList.remove("delay-700ms"),e.classList.remove("delay-800ms"),e.classList.remove("delay-900ms"),e.classList.remove("delay-1000ms"),e.classList.remove("delay-1100ms"),e.classList.remove("delay-1200ms"),e.classList.remove("delay-1300ms"),e.classList.remove("delay-1400ms"),e.classList.remove("delay-1500ms"),e.classList.remove("delay-1600ms"),e.classList.remove("delay-1700ms"),e.classList.remove("delay-1800ms"),e.classList.remove("delay-1900ms"),e.classList.remove("delay-2000ms"),e.classList.remove("delay-2100ms"),e.classList.remove("delay-2200ms"),e.classList.remove("delay-2300ms"),e.classList.remove("delay-2400ms"),e.classList.remove("delay-2500ms"),e.classList.remove("delay-2600ms"),e.classList.remove("delay-2700ms"),e.classList.remove("delay-2800ms"),e.classList.remove("delay-2900ms"),e.classList.remove("delay-3000ms"),e.style.transitionDelay="",e.style.animationDelay=""}applyDelay(){let e,t,i=this.getTarget();e=i.element,e&&(this.modalAnimateScroll.querySelectorAll(".cmd-basic-delay").forEach((e=>{e.classList.contains("on")&&(t=e.getAttribute("data-value"))})),this.builder.editor.saveForUndo(),this.cleanupDelay(e),e.classList.remove("is-inview"),setTimeout((()=>{t&&e.classList.add(t),setTimeout((()=>{e.classList.add("is-inview")}),10)}),10),this.builder.settings.onChange())}applyBasic(){let e,t,i=this.getTarget();if(e=i.element,!e)return;this.modalAnimateScroll.querySelectorAll(".cmd-basic-anim").forEach((e=>{e.classList.contains("on")&&(t=e.getAttribute("data-value"))}));let n=!1;this.modalAnimateScroll.querySelector(".cmd-basic-once").classList.contains("on")&&(n=!0),this.builder.editor.saveForUndo(),this.cleanupBasic(e),e.style.transition="none",t&&(e.classList.remove("is-inview"),e.classList.remove("once"),setTimeout((()=>{e.classList.add(t),n?e.classList.add("once"):e.classList.remove("once"),e.classList.add("is-animated"),setTimeout((()=>{e.style.transition="",e.classList.add("is-inview"),this.builder.settings.onRender(),this.builder.settings.onChange()}),10)}),10))}applySimpleScroll(){let e;if(e=this.getTarget().element,!e)return;const t=this.modalAnimateScroll,i=t.querySelector(".inp-simplescroll-x-start"),n=t.querySelector(".inp-simplescroll-x-15"),s=t.querySelector(".inp-simplescroll-x-25"),o=t.querySelector(".inp-simplescroll-x-35"),a=t.querySelector(".inp-simplescroll-x-50"),l=t.querySelector(".inp-simplescroll-x-65"),r=t.querySelector(".inp-simplescroll-x-75"),d=t.querySelector(".inp-simplescroll-x-85"),c=t.querySelector(".inp-simplescroll-x-end"),u=t.querySelector(".inp-simplescroll-y-start"),p=t.querySelector(".inp-simplescroll-y-15"),h=t.querySelector(".inp-simplescroll-y-25"),m=t.querySelector(".inp-simplescroll-y-35"),g=t.querySelector(".inp-simplescroll-y-50"),b=t.querySelector(".inp-simplescroll-y-65"),f=t.querySelector(".inp-simplescroll-y-75"),v=t.querySelector(".inp-simplescroll-y-85"),y=t.querySelector(".inp-simplescroll-y-end"),x=t.querySelector(".inp-simplescroll-scale-start"),_=t.querySelector(".inp-simplescroll-scale-15"),w=t.querySelector(".inp-simplescroll-scale-25"),S=t.querySelector(".inp-simplescroll-scale-35"),C=t.querySelector(".inp-simplescroll-scale-50"),k=t.querySelector(".inp-simplescroll-scale-65"),A=t.querySelector(".inp-simplescroll-scale-75"),E=t.querySelector(".inp-simplescroll-scale-85"),L=t.querySelector(".inp-simplescroll-scale-end"),q=t.querySelector(".inp-simplescroll-rotate-start"),T=t.querySelector(".inp-simplescroll-rotate-15"),M=t.querySelector(".inp-simplescroll-rotate-25"),O=t.querySelector(".inp-simplescroll-rotate-35"),R=t.querySelector(".inp-simplescroll-rotate-50"),I=t.querySelector(".inp-simplescroll-rotate-65"),B=t.querySelector(".inp-simplescroll-rotate-75"),N=t.querySelector(".inp-simplescroll-rotate-85"),$=t.querySelector(".inp-simplescroll-rotate-end"),z=t.querySelector(".inp-simplescroll-opacity-start"),P=t.querySelector(".inp-simplescroll-opacity-15"),H=t.querySelector(".inp-simplescroll-opacity-25"),D=t.querySelector(".inp-simplescroll-opacity-35"),j=t.querySelector(".inp-simplescroll-opacity-50"),U=t.querySelector(".inp-simplescroll-opacity-65"),F=t.querySelector(".inp-simplescroll-opacity-75"),W=t.querySelector(".inp-simplescroll-opacity-85"),Y=t.querySelector(".inp-simplescroll-opacity-end");let X,G,V,K,Z,Q,J,ee,te,ie,ne,se,oe,ae,le,re,de,ce,ue,pe,he,me,ge,be,fe,ve,ye,xe,_e,we,Se,Ce,ke,Ae,Ee,Le,qe,Te,Me,Oe,Re,Ie,Be,Ne,$e;""!==i.value&&(X=i.value+(-1!==i.value.indexOf("%")?"":"px")),""!==n.value&&(G=n.value+(-1!==n.value.indexOf("%")?"":"px")),""!==s.value&&(V=s.value+(-1!==s.value.indexOf("%")?"":"px")),""!==o.value&&(K=o.value+(-1!==o.value.indexOf("%")?"":"px")),""!==a.value&&(Z=a.value+(-1!==a.value.indexOf("%")?"":"px")),""!==l.value&&(Q=l.value+(-1!==l.value.indexOf("%")?"":"px")),""!==r.value&&(J=r.value+(-1!==r.value.indexOf("%")?"":"px")),""!==d.value&&(ee=d.value+(-1!==d.value.indexOf("%")?"":"px")),""!==c.value&&(te=c.value+(-1!==c.value.indexOf("%")?"":"px")),""!==u.value&&(ie=u.value+(-1!==u.value.indexOf("%")?"":"px")),""!==p.value&&(ne=p.value+(-1!==p.value.indexOf("%")?"":"px")),""!==h.value&&(se=h.value+(-1!==h.value.indexOf("%")?"":"px")),""!==m.value&&(oe=m.value+(-1!==m.value.indexOf("%")?"":"px")),""!==g.value&&(ae=g.value+(-1!==g.value.indexOf("%")?"":"px")),""!==b.value&&(le=b.value+(-1!==b.value.indexOf("%")?"":"px")),""!==f.value&&(re=f.value+(-1!==f.value.indexOf("%")?"":"px")),""!==v.value&&(de=v.value+(-1!==v.value.indexOf("%")?"":"px")),""!==y.value&&(ce=y.value+(-1!==y.value.indexOf("%")?"":"px")),""!==x.value&&(ue=x.value),""!==_.value&&(pe=_.value),""!==w.value&&(he=w.value),""!==S.value&&(me=S.value),""!==C.value&&(ge=C.value),""!==k.value&&(be=k.value),""!==A.value&&(fe=A.value),""!==E.value&&(ve=E.value),""!==L.value&&(ye=L.value),""!==q.value&&(xe=q.value),""!==T.value&&(_e=T.value),""!==M.value&&(we=M.value),""!==O.value&&(Se=O.value),""!==R.value&&(Ce=R.value),""!==I.value&&(ke=I.value),""!==B.value&&(Ae=B.value),""!==N.value&&(Ee=N.value),""!==$.value&&(Le=$.value),""!==z.value&&(qe=z.value),""!==P.value&&(Te=P.value),""!==H.value&&(Me=H.value),""!==D.value&&(Oe=D.value),""!==j.value&&(Re=j.value),""!==U.value&&(Ie=U.value),""!==F.value&&(Be=F.value),""!==W.value&&(Ne=W.value),""!==Y.value&&($e=Y.value);let ze=(X?` translateX(${X})`:"")+(ie?` translateY(${ie})`:"")+(ue?` scale(${ue})`:"")+(xe?` rotate(${xe})`:"");ze=ze.trim();let Pe=(G?` translateX(${G})`:"")+(ne?` translateY(${ne})`:"")+(pe?` scale(${pe})`:"")+(_e?` rotate(${_e})`:"");Pe=Pe.trim();let He=(V?` translateX(${V})`:"")+(se?` translateY(${se})`:"")+(he?` scale(${he})`:"")+(we?` rotate(${we})`:"");He=He.trim();let De=(K?` translateX(${K})`:"")+(oe?` translateY(${oe})`:"")+(me?` scale(${me})`:"")+(Se?` rotate(${Se})`:"");De=De.trim();let je=(Z?` translateX(${Z})`:"")+(ae?` translateY(${ae})`:"")+(ge?` scale(${ge})`:"")+(Ce?` rotate(${Ce})`:"");je=je.trim();let Ue=(Q?` translateX(${Q})`:"")+(le?` translateY(${le})`:"")+(be?` scale(${be})`:"")+(ke?` rotate(${ke})`:"");Ue=Ue.trim();let Fe=(J?` translateX(${J})`:"")+(re?` translateY(${re})`:"")+(fe?` scale(${fe})`:"")+(Ae?` rotate(${Ae})`:"");Fe=Fe.trim();let We=(ee?` translateX(${ee})`:"")+(de?` translateY(${de})`:"")+(ve?` scale(${ve})`:"")+(Ee?` rotate(${Ee})`:"");We=We.trim();let Ye=(te?` translateX(${te})`:"")+(ce?` translateY(${ce})`:"")+(ye?` scale(${ye})`:"")+(Le?` rotate(${Le})`:"");Ye=Ye.trim();let Xe=(ze?"transform: "+ze+";":"")+(qe?`opacity:${qe}`:""),Ge=(Pe?"transform: "+Pe+";":"")+(Te?`opacity:${Te}`:""),Ve=(He?"transform: "+He+";":"")+(Me?`opacity:${Me}`:""),Ke=(De?"transform: "+De+";":"")+(Oe?`opacity:${Oe}`:""),Ze=(je?"transform: "+je+";":"")+(Re?`opacity:${Re}`:""),Qe=(Ue?"transform: "+Ue+";":"")+(Ie?`opacity:${Ie}`:""),Je=(Fe?"transform: "+Fe+";":"")+(Be?`opacity:${Be}`:""),et=(We?"transform: "+We+";":"")+(Ne?`opacity:${Ne}`:""),tt=(Ye?"transform: "+Ye+";":"")+($e?`opacity:${$e}`:"");Xe=Xe.trim(),Ge=Ge.trim(),Ve=Ve.trim(),Ke=Ke.trim(),Ze=Ze.trim(),Qe=Qe.trim(),Je=Je.trim(),et=et.trim(),tt=tt.trim(),this.builder.editor.saveForUndo(),this.cleanup(e),this.cleanup_leave(e),this.cleanup_timeline(e),e.removeAttribute("data-bottom-top"),e.removeAttribute("data-top-bottom");let it="data-in",nt="data-in-150",st="data-in-300",ot="data-cen--150",at="data-cen",lt="data-cen-150",rt="data-out--300",dt="data-out--150",ct="data-out";""!==Xe?e.setAttribute(it,Xe):e.removeAttribute(it),""!==Ge?e.setAttribute(nt,Ge):e.removeAttribute(nt),""!==Ve?e.setAttribute(st,Ve):e.removeAttribute(st),""!==Ke?e.setAttribute(ot,Ke):e.removeAttribute(ot),""!==Ze?e.setAttribute(at,Ze):e.removeAttribute(at),""!==Qe?e.setAttribute(lt,Qe):e.removeAttribute(lt),""!==Je?e.setAttribute(rt,Je):e.removeAttribute(rt),""!==et?e.setAttribute(dt,et):e.removeAttribute(dt),""!==tt?e.setAttribute(ct,tt):e.removeAttribute(ct);this.divAnimScrollSimple.querySelector(".cmd-disable-smoothanim").classList.contains("on")?(e.setAttribute("data-smooth-scrolling","off"),e.style.transition=""):e.removeAttribute("data-smooth-scrolling");this.divAnimScrollSimple.querySelector(".cmd-hidden-onstart").classList.contains("on")?e.setAttribute("data-hidden-onstart",""):e.removeAttribute("data-hidden-onstart"),e.style.transform="",e.style.transition="",e.style.opacity="",this.builder.win.skrollrr&&this.builder.win.skrollrr.refresh(),this.builder.settings.onChange()}apply(){let e,t;if(e=this.getTarget().element,!e)return;let i,n,s,o=this.divEnterAnim.querySelectorAll(".cmd-slidex");o.forEach((e=>{e.classList.contains("on")&&(t=e.getAttribute("data-value"))})),o=this.divEnterAnim.querySelectorAll(".cmd-slidey"),o.forEach((e=>{e.classList.contains("on")&&(i=e.getAttribute("data-value"))})),o=this.divEnterAnim.querySelectorAll(".cmd-scale"),o.forEach((e=>{e.classList.contains("on")&&(n=e.getAttribute("data-value"))})),o=this.divEnterAnim.querySelectorAll(".cmd-rotate"),o.forEach((e=>{e.classList.contains("on")&&(s=e.getAttribute("data-value"))}));let a=!1,l=this.divEnterAnim.querySelector(".cmd-fade");l.classList.contains("on")&&(a=!0);const r=this.divEnterAnim.querySelector(".inp-slide-right");""!==r.value&&(t="-"+r.value+(-1!==r.value.indexOf("%")?"":"px"));const d=this.divEnterAnim.querySelector(".inp-slide-left");""!==d.value&&(t=d.value+(-1!==d.value.indexOf("%")?"":"px"));const c=this.divEnterAnim.querySelector(".inp-slide-down");""!==c.value&&(i="-"+c.value+(-1!==c.value.indexOf("%")?"":"px"));const u=this.divEnterAnim.querySelector(".inp-slide-up");""!==u.value&&(i=u.value+(-1!==u.value.indexOf("%")?"":"px"));const p=this.divEnterAnim.querySelector(".inp-scale");""!==p.value&&(n=p.value);const h=this.divEnterAnim.querySelector(".inp-rotate-clockwise");""!==h.value&&(s="-"+h.value);const m=this.divEnterAnim.querySelector(".inp-rotate-counter");""!==m.value&&(s=m.value);let g=(t?` translateX(${t})`:"")+(i?` translateY(${i})`:"")+(s?` rotate(${s}deg)`:"")+(n?` scale(${n})`:"");g=g.trim();let b=(t?" translateX(0px)":"")+(i?" translateY(0px)":"")+(s?" rotate(0deg)":"")+(n?" scale(1)":"");b=b.trim();let f,v,y,x,_,w,S=(g?"transform: "+g+";":"")+(a?"opacity: 0;":""),C=(b?"transform: "+b+";":"")+(a?"opacity: 1;":"");this.builder.editor.saveForUndo(),this.cleanup_timeline(e),this.cleanup(e),o=this.modalAnimateScroll.querySelectorAll(".cmd-start"),o.forEach((e=>{e.classList.contains("on")&&(f=e.getAttribute("data-value"))})),o=this.modalAnimateScroll.querySelectorAll(".cmd-end"),o.forEach((e=>{e.classList.contains("on")&&(v=e.getAttribute("data-value"))})),f||(f="data-bottom-top"),v||(v="data-center"),S=S.trim(),C=C.trim(),""!==S&&e.setAttribute(f,S),""!==C&&e.setAttribute(v,C),o=this.divLeaveAnim.querySelectorAll(".cmd-slidex"),o.forEach((e=>{e.classList.contains("on")&&(y=e.getAttribute("data-value"))})),o=this.divLeaveAnim.querySelectorAll(".cmd-slidey"),o.forEach((e=>{e.classList.contains("on")&&(x=e.getAttribute("data-value"))})),o=this.divLeaveAnim.querySelectorAll(".cmd-scale"),o.forEach((e=>{e.classList.contains("on")&&(_=e.getAttribute("data-value"))})),o=this.divLeaveAnim.querySelectorAll(".cmd-rotate"),o.forEach((e=>{e.classList.contains("on")&&(w=e.getAttribute("data-value"))}));let k=!1;l=this.divLeaveAnim.querySelector(".cmd-fade"),l.classList.contains("on")&&(k=!0);const A=this.divLeaveAnim.querySelector(".inp-slide-left");""!==A.value&&(y="-"+A.value+(-1!==A.value.indexOf("%")?"":"px"));const E=this.divLeaveAnim.querySelector(".inp-slide-right");""!==E.value&&(y=E.value+(-1!==E.value.indexOf("%")?"":"px"));const L=this.divLeaveAnim.querySelector(".inp-slide-down");""!==L.value&&(x=L.value+(-1!==L.value.indexOf("%")?"":"px"));const q=this.divLeaveAnim.querySelector(".inp-slide-up");""!==q.value&&(x="-"+q.value+(-1!==q.value.indexOf("%")?"":"px"));const T=this.divLeaveAnim.querySelector(".inp-scale");""!==T.value&&(_=T.value);const M=this.divLeaveAnim.querySelector(".inp-rotate-clockwise");""!==M.value&&(w=M.value);const O=this.divLeaveAnim.querySelector(".inp-rotate-counter");""!==O.value&&(w="-"+O.value);let R=(y?" translateX(0px)":"")+(x?" translateY(0px)":"")+(w?" rotate(0deg)":"")+(_?" scale(1)":"");R=R.trim();let I=(y?` translateX(${y})`:"")+(x?` translateY(${x})`:"")+(w?` rotate(${w}deg)`:"")+(_?` scale(${_})`:"");I=I.trim();let B,N,$=(R?"transform: "+R+";":"")+(k?"opacity: 1;":""),z=(I?"transform: "+I+";":"")+(k?"opacity: 0;":"");this.cleanup_leave(e),o=this.modalAnimateScroll.querySelectorAll(".cmd-leave-start"),o.forEach((e=>{e.classList.contains("on")&&(B=e.getAttribute("data-value"))})),B||(B="data-center-bottom"),N="data-top-bottom",$=$.trim(),z=z.trim(),""!==$&&e.setAttribute(B,$),""!==z&&e.setAttribute("data-top-bottom",z),""===S&&""===C&&""===$&&""===z&&(e.style.transform="",e.style.transition="",e.style.opacity=""),(a||k)&&(e.style.opacity="");this.divAnimSettings.querySelector(".cmd-disable-smoothanim").classList.contains("on")?(e.setAttribute("data-smooth-scrolling","off"),e.style.transition=""):e.removeAttribute("data-smooth-scrolling"),this.builder.win.skrollrr&&this.builder.win.skrollrr.refresh(),this.builder.settings.onChange()}readAnimOnce(){let e=this.builder.activeSection;e&&(e.querySelector(".is-animated.once")?this.modalAnimateScroll.querySelector("#chkPresetAnimOnce").checked=!0:this.modalAnimateScroll.querySelector("#chkPresetAnimOnce").checked=!1)}getTarget(){let e,t;if(this.modalAnimateScroll.querySelectorAll(".cmd-target").forEach((t=>{t.classList.contains("on")&&(e=t.getAttribute("data-value"))})),"element"===e){let e=this.readTarget();e?("element"===e.name&&(t=this.builder.editor.activeElement),t="inspectedElement"===e.name?this.builder.editor.inspectedElement:this.builder.editor.activeElement):t=this.builder.editor.activeElement}if("column"===e&&(t=this.builder.editor.activeCol),"row"===e){let e=this.builder.editor.activeCol;e&&(t=e.parentNode)}if("container"===e){let e=this.builder.editor.activeCol;e&&(t=e.parentNode.parentNode)}if("overlay"===e){let e;const i=this.builder.doc.querySelector(".box-select");i&&(e=i.querySelector(".is-overlay")),e&&(t=e)}if("bg"===e){let e;const i=this.builder.doc.querySelector(".box-select");i&&(e=i.querySelector(".is-overlay-bg")),e&&(t=e)}if("box"===e){const e=this.builder.doc.querySelector(".box-select");e&&(t=e)}if("section"===e){const e=this.builder.doc.querySelector(".section-select");e&&(t=e)}return{element:t||!1,name:e||!1}}readTarget(e){if(!e){let e,t,i,n=this.builder.editor.inspectedElement;if(!n)return this.readTarget("bg");e=n.getAttribute("data-bottom-top"),e||(e=n.getAttribute("data-400-bottom")),e||(e=n.getAttribute("data-200-bottom")),e||(e=n.getAttribute("data--50-bottom")),t=n.getAttribute("data-top-bottom"),i=n.getAttribute("data-in"),i||(i=n.getAttribute("data-in-150")),i||(i=n.getAttribute("data-in-300")),i||(i=n.getAttribute("data-cen--150")),i||(i=n.getAttribute("data-cen")),i||(i=n.getAttribute("data-cen-150")),i||(i=n.getAttribute("data-out--300")),i||(i=n.getAttribute("data-out--150")),i||(i=n.getAttribute("data-out"));let s=!1;return(n.classList.contains("is-fadeIn")||n.classList.contains("is-fadeInUp")||n.classList.contains("is-fadeInDown")||n.classList.contains("is-fadeInLeft")||n.classList.contains("is-fadeInRight")||n.classList.contains("is-zoomIn")||n.classList.contains("is-zoomOut")||n.classList.contains("is-slideInUp")||n.classList.contains("is-slideInDown")||n.classList.contains("is-slideInLeft")||n.classList.contains("is-slideInRight")||n.classList.contains("is-flipInX")||n.classList.contains("is-flipInY")||n.classList.contains("is-pulse")||n.classList.contains("is-bounceIn"))&&(s=!0),e||t||i||s?{element:n,name:"inspectedElement"}:this.readTarget("element")}{let t,i,n,s;if("element"===e&&(t=this.builder.editor.activeElement),"column"===e&&(t=this.builder.editor.activeCol),"row"===e&&this.builder.editor.activeCol&&(t=this.builder.editor.activeCol.parentNode),"container"===e&&this.builder.editor.activeCol&&(t=this.builder.editor.activeCol.parentNode.parentNode),"bg"===e){let e;const i=this.builder.doc.querySelector(".box-select");i&&(e=i.querySelector(".is-overlay-bg")),e&&(t=e)}if("overlay"===e){let e;const i=this.builder.doc.querySelector(".box-select");i&&(e=i.querySelector(".is-overlay")),e&&(t=e)}if("box"===e){const e=this.builder.doc.querySelector(".box-select");e&&(t=e)}if("section"===e){const e=this.builder.doc.querySelector(".section-select");e&&(t=e)}if(!t){if("element"===e)return this.readTarget("column");if("column"===e)return this.readTarget("row");if("row"===e)return this.readTarget("container");if("container"===e)return this.readTarget("bg");if("bg"===e)return this.readTarget("overlay");if("overlay"===e)return this.readTarget("box");if("box"===e)return this.readTarget("section");if("section"===e)return!1}i=t.getAttribute("data-bottom-top"),i||(i=t.getAttribute("data-400-bottom")),i||(i=t.getAttribute("data-200-bottom")),i||(i=t.getAttribute("data--50-bottom")),n=t.getAttribute("data-top-bottom"),s=t.getAttribute("data-in"),s||(s=t.getAttribute("data-in-150")),s||(s=t.getAttribute("data-in-300")),s||(s=t.getAttribute("data-cen--150")),s||(s=t.getAttribute("data-cen")),s||(s=t.getAttribute("data-cen-150")),s||(s=t.getAttribute("data-out--300")),s||(s=t.getAttribute("data-out--150")),s||(s=t.getAttribute("data-out"));let o=!1;if((t.classList.contains("is-fadeIn")||t.classList.contains("is-fadeInUp")||t.classList.contains("is-fadeInDown")||t.classList.contains("is-fadeInLeft")||t.classList.contains("is-fadeInRight")||t.classList.contains("is-zoomIn")||t.classList.contains("is-zoomOut")||t.classList.contains("is-slideInUp")||t.classList.contains("is-slideInDown")||t.classList.contains("is-slideInLeft")||t.classList.contains("is-slideInRight")||t.classList.contains("is-flipInX")||t.classList.contains("is-flipInY")||t.classList.contains("is-pulse")||t.classList.contains("is-bounceIn"))&&(o=!0),i||n||s||o)return{element:t,name:e};if("element"===e)return this.readTarget("column");if("column"===e)return this.readTarget("row");if("row"===e)return this.readTarget("container");if("container"===e)return this.readTarget("bg");if("bg"===e)return this.readTarget("overlay");if("overlay"===e)return this.readTarget("box");if("box"===e)return this.readTarget("section");if("section"===e)return!1}}getTransform(e,t){let i,n,s,o,a=this.parseComplexStyleProperty(t);a.translateX&&(i=a.translateX[0]),a.translateY&&(n=a.translateY[0]),a.scale&&(s=a.scale[0]),a.rotate&&(o=a.rotate[0]);let l=e.style.opacity;return{translateX:i||!1,translateY:n||!1,scale:s||!1,rotate:!!o&&o.replace("deg",""),opacity:l||!1}}parseComplexStyleProperty(e){for(var t,i=/(\w+)\((.+?)\)/g,n={};t=i.exec(e);)n[t[1]]=n[t[1]]?n[t[1]].concat([t[2]]):[t[2]];return n}cleanup(e){e.removeAttribute("data-center"),e.removeAttribute("data-center-top"),e.removeAttribute("data--50-bottom"),e.removeAttribute("data--100-bottom"),e.removeAttribute("data--150-bottom"),e.removeAttribute("data--200-bottom"),e.removeAttribute("data--300-bottom"),e.removeAttribute("data--400-bottom"),e.removeAttribute("data-bottom-top"),e.removeAttribute("data-400-bottom"),e.removeAttribute("data-300-bottom"),e.removeAttribute("data-200-bottom"),e.removeAttribute("data-150-bottom"),e.removeAttribute("data-100-bottom"),e.removeAttribute("data-50-bottom"),e.removeAttribute("data-bottom")}cleanup_leave(e){e.removeAttribute("data-center-bottom"),e.removeAttribute("data-100-top"),e.removeAttribute("data-50-top"),e.removeAttribute("data-top"),e.removeAttribute("data-top-bottom")}cleanup_timeline(e){e.removeAttribute("data-in"),e.removeAttribute("data-in-150"),e.removeAttribute("data-in-300"),e.removeAttribute("data-cen--150"),e.removeAttribute("data-cen"),e.removeAttribute("data-cen-150"),e.removeAttribute("data-out--300"),e.removeAttribute("data-out--150"),e.removeAttribute("data-out")}edit(){this.builder.wrapperEl.classList.add("hard-select"),this.builder.activeBox&&this.builder.activeBox.classList.add("box-select"),this.builder.activeSection&&this.builder.activeSection.classList.add("section-select"),this.builder.sidebar.closeSidebar(),this.modalAnimateScroll.classList.add("active"),this.clickContent(),this.builder.doc.body.classList.add("selection-only"),document.body.classList.add("selection-only");this.builderStuff.querySelector(".editbox").style.display="";this.builderStuff.querySelector(".editsection").style.display=""}close(){this.modalAnimateScroll.classList.remove("active"),this.builder.doc.body.classList.remove("selection-only"),document.body.classList.remove("selection-only")}}const gy=new e;class by{constructor(e){this.builder=e;const t=this.builder.builderStuff;this.builderStuff=t;let n=`\n        <style>\n            .is-modal.page-timeline {\n                width: 1017px !important; \n                height: 295px !important; \n                top: auto !important; \n                bottom: 30px !important; \n                left: auto !important; \n                right: 30px !important; \n                z-index: 10002 !important; \n                font-size: 12px;\n            }\n            /*\n            @media all and  (max-width: 1919px) {\n                .is-modal.page-timeline {\n                    width: 60vw !important; \n                }\n            }\n            @media all and  (max-width: 1850px) {\n                .is-modal.page-timeline {\n                    width: 55vw !important; \n                }\n            }\n            @media all and  (max-width: 1650px) {\n                .is-modal.page-timeline {\n                    width: 50vw !important; \n                }\n            }\n            @media all and  (max-width: 1480px) {\n                .is-modal.page-timeline {\n                    width: 45vw !important; \n                }\n            }\n            @media all and  (max-width: 1350px) {\n                .is-modal.page-timeline {\n                    width: 40vw !important; \n                    min-width: 576px;\n                }\n            }\n            */\n            @media all and  (max-width: 1340px) {\n                .is-modal.page-timeline {\n                    width: 60vw !important; \n                    min-width: 576px;\n                }\n            }\n            .page-timeline .is-modal-bar {\n                font-size: 12px !important;\n            }\n            .page-timeline select {\n                font-size: 12px !important;\n                line-height: 1;\n            }\n            .page-timeline label {\n                font-size: 12px !important;\n                line-height: 1;\n            }\n            .page-timeline td {\n                font-size: 12px;\n                padding: 3px 1px;\n            }\n            .page-timeline .table-header td {\n                font-size: 11px;\n                padding: 3px 0 0;\n            }\n            .page-timeline td input[type=text] {\n                font-size: 12px !important;\n                font-family: sans-serif !important;\n                font-weight: 300 !important;\n                padding: 0 !important;\n                width: 30px !important;\n                height: 26px !important;\n                text-align: center !important;\n                letter-spacing: 0px !important;\n            }\n            .page-timeline td input.inp-extra2 {\n                background-color: #f5f5f5 !important;\n            }\n\n            .page-timeline:focus-within {\n                z-index:100021 !important\n            }\n\n            .page-timeline .timeline-more {\n                display: none;\n                position: absolute;\n                top: auto !important;\n                left: 283px !important;\n                bottom: 70px;\n                padding: 25px 20px 20px;\n                box-shadow: 3px 4px 10px 0px rgb(0 0 0 / 6%) !important;\n            }\n            .page-timeline .timeline-more.active {\n                display: flex;\n            }\n            \n\n            .page-timeline .clear-more {\n                display: none;\n                position: absolute;\n                top: auto !important;\n                left: auto !important;\n                right: 19px !important;\n                bottom: 70px;\n                padding: 8px 20px 8px;\n                box-shadow: 3px 4px 10px 0px rgb(0 0 0 / 6%) !important;\n            }\n            .page-timeline .clear-more.active {\n                display: flex;\n            }\n        </style>\n        <div class="is-modal is-modal-content page-timeline" tabindex="-1" role="dialog" aria-modal="true" aria-hidden="true">\n            <div class="is-modal-bar is-draggable" draggable=""> \n                <span>${i("Animation Timeline Editor")}</span>\n                <button class="is-modal-close" tabindex="-1" title="${i("Close")}">\n                    <svg class="is-icon-flex" style="width:23px;height:23px;"><use xlink:href="#ion-ios-close-empty"></use></svg>\n                </button>\n            </div>\n            <div style="position:absolute;box-sizing:border-box;top:0;left:0;width:100%;height:100%;border-top:transparent 35px solid;overflow-y:hidden;overflow-x:auto;">\n                \n                <div>\n                    <table class="table-timeline" style="margin:0px 15px 3px;border-collapse:collapse;">\n                        <tr class="table-header">\n                            <td style="text-align:center"> </td>\n                            <td style="text-align:center">0%</td>\n                            <td style="text-align:center"></td>\n                            <td style="text-align:center"></td>\n                            <td style="text-align:center"></td>\n                            <td style="text-align:center"></td>\n                            <td style="text-align:center"></td>\n                            <td style="text-align:center"></td>\n                            <td style="text-align:center"></td>\n                            <td style="text-align:center">50%</td>\n                            <td style="text-align:center"></td>\n                            <td style="text-align:center"></td>\n                            <td style="text-align:center"></td>\n                            <td style="text-align:center"></td>\n                            <td style="text-align:center"></td>\n                            <td style="text-align:center"></td>\n                            <td style="text-align:center"></td>\n                            <td style="text-align:center;padding-right:5px">100%</td>\n                            <td style="text-align:center"></td>\n                            <td style="text-align:center"></td>\n                            <td style="text-align:center" colspan="8">${i("Extended (for use with pinned section)")}</td>\n                            \x3c!--<td style="text-align:center"></td>\n                            <td style="text-align:center"></td>\n                            <td style="text-align:center"></td>\n                            <td style="text-align:center"></td>\n                            <td style="text-align:center">150%</td>\n                            <td style="text-align:center"></td>\n                            <td style="text-align:center"></td>--\x3e\n                            <td style="text-align:center"></td>\n                            <td style="text-align:center;padding:0">\n                                \x3c!--<button title="${i("Clear All")}" class="cmd-clear-timeline" style="margin-left:5px;height:23px;flex: none;width: auto;padding: 0 0 0 8px !important;box-shadow: none !important;background: transparent !important;">\n                                    <svg class="is-icon-flex" style="width:10px;height:10px;"><use xlink:href="#icon-clean"></use></svg>\n                                </button>--\x3e\n                            </td>\n                        </tr>  \n                        <tr>\n                            <td>\n                                <span class="bold">${i("Slide X")}</span>\n                            </td>\n                            <td>\n                                <input class="inp-x" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-x-100" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-x-200" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-x-300" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-x-400" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-x-500" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-x-600" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-x-700" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-x-800" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-x-900" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-x-1000" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-x-1100" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-x-1200" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-x-1300" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-x-1400" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-x-1500" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-x-1600" placeholder="" type="text" />\n                            </td>\n\n                            <td>\n                                <input class="inp-x-1700 inp-extra" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-x-1800 inp-extra" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-x-1900 inp-extra" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-x-2000 inp-extra" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-x-2100 inp-extra" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-x-2200 inp-extra" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-x-2300 inp-extra" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-x-2400 inp-extra" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-x-2500 inp-extra" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-x-2600 inp-extra" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-x-2700 inp-extra" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-x-2800 inp-extra" placeholder="" type="text" />\n                            </td>\n                        </tr>\n                        <tr>\n                            <td>\n                                <span class="bold">${i("Slide Y")}</span>\n                            </td>\n                            <td>\n                                <input class="inp-y" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-y-100" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-y-200" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-y-300" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-y-400" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-y-500" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-y-600" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-y-700" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-y-800" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-y-900" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-y-1000" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-y-1100" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-y-1200" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-y-1300" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-y-1400" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-y-1500" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-y-1600" placeholder="" type="text" />\n                            </td>\n\n                            <td>\n                                <input class="inp-y-1700 inp-extra" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-y-1800 inp-extra" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-y-1900 inp-extra" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-y-2000 inp-extra" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-y-2100 inp-extra" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-y-2200 inp-extra" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-y-2300 inp-extra" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-y-2400 inp-extra" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-y-2500 inp-extra" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-y-2600 inp-extra" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-y-2700 inp-extra" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-y-2800 inp-extra" placeholder="" type="text" />\n                            </td>\n                        </tr>\n                        <tr>\n                            <td>\n                                <span class="bold">${i("Scale")}</span>\n                            </td>\n                            <td>\n                                <input class="inp-sc" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-sc-100" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-sc-200" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-sc-300" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-sc-400" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-sc-500" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-sc-600" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-sc-700" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-sc-800" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-sc-900" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-sc-1000" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-sc-1100" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-sc-1200" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-sc-1300" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-sc-1400" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-sc-1500" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-sc-1600" placeholder="" type="text" />\n                            </td>\n\n                            <td>\n                                <input class="inp-sc-1700 inp-extra" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-sc-1800 inp-extra" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-sc-1900 inp-extra" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-sc-2000 inp-extra" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-sc-2100 inp-extra" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-sc-2200 inp-extra" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-sc-2300 inp-extra" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-sc-2400 inp-extra" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-sc-2500 inp-extra" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-sc-2600 inp-extra" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-sc-2700 inp-extra" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-sc-2800 inp-extra" placeholder="" type="text" />\n                            </td>\n                        </tr>\n                        <tr>\n                            <td>\n                                <span class="bold">${i("Rotate")}</span>\n                            </td>\n                            <td>\n                                <input class="inp-rt" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-rt-100" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-rt-200" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-rt-300" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-rt-400" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-rt-500" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-rt-600" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-rt-700" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-rt-800" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-rt-900" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-rt-1000" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-rt-1100" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-rt-1200" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-rt-1300" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-rt-1400" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-rt-1500" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-rt-1600" placeholder="" type="text" />\n                            </td>\n\n                            <td>\n                                <input class="inp-rt-1700 inp-extra" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-rt-1800 inp-extra" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-rt-1900 inp-extra" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-rt-2000 inp-extra" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-rt-2100 inp-extra" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-rt-2200 inp-extra" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-rt-2300 inp-extra" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-rt-2400 inp-extra" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-rt-2500 inp-extra" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-rt-2600 inp-extra" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-rt-2700 inp-extra" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-rt-2800 inp-extra" placeholder="" type="text" />\n                            </td>\n                        </tr>\n                        <tr>\n                            <td>\n                                <span class="bold">${i("Opacity")}</span>\n                            </td>\n                            <td>\n                                <input class="inp-op" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-op-100" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-op-200" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-op-300" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-op-400" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-op-500" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-op-600" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-op-700" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-op-800" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-op-900" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-op-1000" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-op-1100" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-op-1200" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-op-1300" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-op-1400" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-op-1500" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-op-1600" placeholder="" type="text" />\n                            </td>\n\n                            <td>\n                                <input class="inp-op-1700 inp-extra" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-op-1800 inp-extra" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-op-1900 inp-extra" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-op-2000 inp-extra" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-op-2100 inp-extra" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-op-2200 inp-extra" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-op-2300 inp-extra" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-op-2400 inp-extra" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-op-2500 inp-extra" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-op-2600 inp-extra" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-op-2700 inp-extra" placeholder="" type="text" />\n                            </td>\n                            <td>\n                                <input class="inp-op-2800 inp-extra" placeholder="" type="text" />\n                            </td>\n                        </tr>\n                    </table>\n                    <div class="flex-wrap" style="padding: 3px 10px 15px 15px;box-sizing: border-box;width: 100%;justify-content: space-between;">\n\n                        <div class="flex-wrap" style="margin-top:8px;flex-direction:column;align-items:flex-start">\n                            \x3c!--\n                            <div style="font-size:10px;margin-top:-20px;margin-bottom:5px"><span>${i("Target")}</span>:</div>\n                            --\x3e\n                            <div class="flex-wrap">\n                                <div class="flex-wrap" style="margin-right:15px;width: 120px;">\n                                    <select class="input-target">\n                                        <option value="element">${i("Element")}</option>\n                                        <option value="column">${i("Column")}</option>\n                                        <option value="row">${i("Row")}</option>\n                                        <option value="container">${i("Container")}</option>\n                                        <option value="overlay">${i("Overlay")}</option>\n                                        <option value="bg">${i("Background")}</option>\n                                        <option value="box">${i("Box")}</option>\n                                        <option value="section">${i("Section")}</option>\n                                    </select>\n                                </div>\n                                <div class="flex-wrap" style="margin-right:15px">\n                                    <button title="${i("Desktop")}" class="input-device on" data-value="" style="width:40px;height:34px;">\n                                        <svg class="is-icon-flex" style="width:18px;height:18px"><use xlink:href="#icon-device-desktop"></use></svg>\n                                    </button>\n                                    \x3c!--<button title="${i("Laptop/Tablet")}" class="input-device" data-value="md" style="width:40px;height:34px;">\n                                        <svg class="is-icon-flex" style="width:18px;height:18px"><use xlink:href="#icon-device-laptop"></use></svg>\n                                    </button>--\x3e\n                                    <button title="${i("Tablet")}" class="input-device" data-value="sm" style="width:40px;height:34px;">\n                                        <svg class="is-icon-flex" style="width:18px;height:18px"><use xlink:href="#icon-device-tablet"></use></svg>\n                                    </button>\n                                    <button title="${i("Mobile")}" class="input-device" data-value="xs" style="width:40px;height:34px;">\n                                        <svg class="is-icon-flex" style="width:13px;height:13px"><use xlink:href="#icon-device-mobile"></use></svg>\n                                    </button>\n                                </div>\n                                <div class="flex-wrap">\n                                    <button type="button" title="${i("More")}" class="cmd-timeline-more" style="width:40px;height:34px;"><svg class="is-icon-flex"><use xlink:href="#icon-settings"></use></svg></button>\n                                \n                                    \x3c!--<button title="${i("Clear All")}" class="cmd-clear-timeline" style="width:40px;height:34px;">\n                                        <svg class="is-icon-flex" style="width:10px;height:10px;"><use xlink:href="#icon-clean"></use></svg>\n                                    </button>--\x3e\n                                </div>\n                            </div>\n                        </div>\n                        <div class="flex-wrap" style="width:515px">\n\n                            <div class="flex-wrap" style="flex-direction:column;align-items: flex-start;">\n                                <div class="flex-wrap" style="height:35px;margin-bottom: 2px;">\n                                    <div class="flex-wrap">\n                                        <label for="chkPinSection2" style="margin:0;display:flex;">\n                                            <input id="chkPinSection2" type="checkbox" style="margin:-1px 6px 0 0"> \n                                            <span>${i("Pin Section")}</span>.\n                                        </label>\n                                    </div>\n                                    <div class="flex-wrap div-pin-spacing" style="display:none;margin-left:5px">\n                                        <div class="flex-wrap">\n                                            <button title="0" class="cmd-pin-space" data-value="md" style="padding-left:15px;padding-right:15px;height:30px;">${i("MD")}</button>\n                                            <button title="20" class="cmd-pin-space" data-value="lg" style="padding-left:15px;padding-right:15px;height:30px;">${i("LG")}</button>\n                                            <button title="20" class="cmd-pin-space" data-value="xl" style="padding-left:15px;padding-right:15px;height:30px;">${i("XL")}</button>\n                                        </div>\n                                        <label for="chkPinOverlap" style="margin:0;display:flex;margin-left:15px">\n                                            <input id="chkPinOverlap" type="checkbox" style="margin:-1px 6px 0 0"> \n                                            <span>${i("Overlap")}</span>\n                                        </label>\n                                        <label for="chkPinDesktopOnly" style="margin:0;display:flex;margin-left:15px">\n                                            <input id="chkPinDesktopOnly" type="checkbox" style="margin:-1px 6px 0 0"> \n                                            <span>${i("Disable Pin on Mobile")}</span>\n                                        </label>\n                                    </div>\n                                </div>\n\n                                <div>\n                                    <label for="chkTimelineDisableOnMobile" style="margin:0;display:flex;">\n                                        <input id="chkTimelineDisableOnMobile" type="checkbox" style="margin:-1px 6px 0 0"> \n                                        <span>${i("Disable All Section Animations on Mobile")}</span>.\n                                    </label>\n                                </div>\n                            </div>\n                        </div>\n                        <div class="flex-wrap" style="margin-top:8px;">\n                            <button title="${i("Clear All")}" class="cmd-clear-timeline" style="width:30px;height:23px;flex: none;box-shadow: none !important;background: transparent !important;">\n                                <svg class="is-icon-flex" style="width:10px;height:10px;"><use xlink:href="#icon-clean"></use></svg>\n                            </button>\n                            <button title="${i("More")}" type="button" class="cmd-clear-more" style="width:30px;height:23px;">\n                                <svg class="is-icon-flex" style="width: 14px;height: 14px;"><use xlink:href="#ion-more"></use></svg>\n                            </button>\n                        </div>\n\n                        <div class="clear-more flex-wrap is-pop">\n                            <button title="${i("Clear All Animations in Section")}" class="cmd-clear-timeline-all" style="flex:none;width:auto;padding:0px !important;box-shadow:none !important;background:transparent !important;">\n                                <svg class="is-icon-flex" style="width:10px;height:10px;"><use xlink:href="#icon-clean"></use></svg>\n                                <span style="margin-left:7px">${i("Clear All Animations in Section")}</span>\n                            </button>\n                        </div>\n                        \n                        <div class="timeline-more flex-wrap is-pop">\n\n                            <div class="flex-wrap" style="flex-direction:column;margin-right:15px">\n                                <div style="font-size:10px;margin-top:-10px;margin-bottom:2px"><span>${i("Origin")}</span>:</div>\n                                <div>\n                                    <div class="flex-wrap">\n                                        <button class="cmd-anim-origin" style="width:25px;height:19px;" data-value="left top" title="${i("Top Left")}" type="button" style=""><svg class="is-icon-flex" style="transform: rotate(315deg);"><use xlink:href="#ion-ios-arrow-thin-up"></use></svg></button>\n                                        <button class="cmd-anim-origin" style="width:25px;height:19px;" data-value="center top" title="${i("Top Center")}" type="button"><svg class="is-icon-flex" style=""><use xlink:href="#ion-ios-arrow-thin-up"></use></svg></button>\n                                        <button class="cmd-anim-origin" style="width:25px;height:19px;" data-value="right top" title="${i("Top Right")}" type="button"><svg class="is-icon-flex" style="transform: rotate(45deg);"><use xlink:href="#ion-ios-arrow-thin-up"></use></svg></button>\n                                    </div>\n                                    <div class="flex-wrap">\n                                        <button class="cmd-anim-origin" style="width:25px;height:19px;" data-value="left center" title="${i("Center Left")}" type="button"><svg class="is-icon-flex" style=""><use xlink:href="#ion-ios-arrow-thin-left"></use></svg></button>\n                                        <button class="cmd-anim-origin on" style="width:25px;height:19px;" data-value="center" title="${i("Center")}" type="button"><svg class="is-icon-flex" style="width:6px;height:6px;"><use xlink:href="#ion-android-contract"></use></svg></button>\n                                        <button class="cmd-anim-origin" style="width:25px;height:19px;" data-value="right center" title="${i("Center Right")}" type="button"><svg class="is-icon-flex" style=""><use xlink:href="#ion-ios-arrow-thin-right"></use></svg></button>\n                                    </div>\n                                    <div class="flex-wrap">\n                                        <button class="cmd-anim-origin" style="width:25px;height:19px;" data-value="left bottom" title="${i("Bottom Left")}" type="button" style=";"><svg class="is-icon-flex" style="transform: rotate(45deg);"><use xlink:href="#ion-ios-arrow-thin-down"></use></svg></button>\n                                        <button class="cmd-anim-origin" style="width:25px;height:19px;" data-value="center bottom" title="${i("Bottom Center")}" type="button"><svg class="is-icon-flex" style=""><use xlink:href="#ion-ios-arrow-thin-down"></use></svg></button>\n                                        <button class="cmd-anim-origin" style="width:25px;height:19px;" data-value="right bottom" title="${i("Bottom Right")}" type="button"><svg class="is-icon-flex" style="transform: rotate(315deg);"><use xlink:href="#ion-ios-arrow-thin-down"></use></svg></button>\n                                    </div>\n                                </div>\n                            </div>\n\n                            <div class="flex-wrap" style="flex-direction:column;align-items: flex-start;">\n                                <div class="flex-wrap">\n                                    <div class="flex-wrap">\n                                        <button title="${i("Disable Easing")}" class="cmd-disable-smoothanim" style="height:34px;padding-left:15px;padding-right: 15px;">${i("Disable Easing")}</button>\n                                        <button title="${i("Hidden on Start")}" class="cmd-hidden-onstart" style="height:34px;padding-left:15px;padding-right: 15px;">${i("Hidden on Start")}</button>\n                                    </div>\n                                    \x3c!--\n                                    <button title="${i("Clear All")}" class="cmd-clear-timeline" style="margin-left:5px;height:34px;flex: none;width: auto;padding: 0 0 0 8px !important;box-shadow: none !important;background: transparent !important;">\n                                        <svg class="is-icon-flex" style="width:10px;height:10px;"><use xlink:href="#icon-clean"></use></svg>\n                                    </button>\n                                    --\x3e\n                                </div>\n\n                                <div style="display:none;margin-top:7px">\n\n\n                                \n                                </div>\n\n                            </div>\n                        </div>\n                        \n\n                    </div>\n                </div>\n\n            </div>\n        </div>\n        `;gy.appendHtml(t,n);const s=t.querySelector(".page-timeline");this.modalTimeline=s,this.inpX=this.modalTimeline.querySelector(".inp-x"),this.inpX_100=this.modalTimeline.querySelector(".inp-x-100"),this.inpX_200=this.modalTimeline.querySelector(".inp-x-200"),this.inpX_300=this.modalTimeline.querySelector(".inp-x-300"),this.inpX_400=this.modalTimeline.querySelector(".inp-x-400"),this.inpX_500=this.modalTimeline.querySelector(".inp-x-500"),this.inpX_600=this.modalTimeline.querySelector(".inp-x-600"),this.inpX_700=this.modalTimeline.querySelector(".inp-x-700"),this.inpX_800=this.modalTimeline.querySelector(".inp-x-800"),this.inpX_900=this.modalTimeline.querySelector(".inp-x-900"),this.inpX_1000=this.modalTimeline.querySelector(".inp-x-1000"),this.inpX_1100=this.modalTimeline.querySelector(".inp-x-1100"),this.inpX_1200=this.modalTimeline.querySelector(".inp-x-1200"),this.inpX_1300=this.modalTimeline.querySelector(".inp-x-1300"),this.inpX_1400=this.modalTimeline.querySelector(".inp-x-1400"),this.inpX_1500=this.modalTimeline.querySelector(".inp-x-1500"),this.inpX_1600=this.modalTimeline.querySelector(".inp-x-1600"),this.inpX_1700=this.modalTimeline.querySelector(".inp-x-1700"),this.inpX_1800=this.modalTimeline.querySelector(".inp-x-1800"),this.inpX_1900=this.modalTimeline.querySelector(".inp-x-1900"),this.inpX_2000=this.modalTimeline.querySelector(".inp-x-2000"),this.inpX_2100=this.modalTimeline.querySelector(".inp-x-2100"),this.inpX_2200=this.modalTimeline.querySelector(".inp-x-2200"),this.inpX_2300=this.modalTimeline.querySelector(".inp-x-2300"),this.inpX_2400=this.modalTimeline.querySelector(".inp-x-2400"),this.inpX_2500=this.modalTimeline.querySelector(".inp-x-2500"),this.inpX_2600=this.modalTimeline.querySelector(".inp-x-2600"),this.inpX_2700=this.modalTimeline.querySelector(".inp-x-2700"),this.inpX_2800=this.modalTimeline.querySelector(".inp-x-2800"),this.inpY=this.modalTimeline.querySelector(".inp-y"),this.inpY_100=this.modalTimeline.querySelector(".inp-y-100"),this.inpY_200=this.modalTimeline.querySelector(".inp-y-200"),this.inpY_300=this.modalTimeline.querySelector(".inp-y-300"),this.inpY_400=this.modalTimeline.querySelector(".inp-y-400"),this.inpY_500=this.modalTimeline.querySelector(".inp-y-500"),this.inpY_600=this.modalTimeline.querySelector(".inp-y-600"),this.inpY_700=this.modalTimeline.querySelector(".inp-y-700"),this.inpY_800=this.modalTimeline.querySelector(".inp-y-800"),this.inpY_900=this.modalTimeline.querySelector(".inp-y-900"),this.inpY_1000=this.modalTimeline.querySelector(".inp-y-1000"),this.inpY_1100=this.modalTimeline.querySelector(".inp-y-1100"),this.inpY_1200=this.modalTimeline.querySelector(".inp-y-1200"),this.inpY_1300=this.modalTimeline.querySelector(".inp-y-1300"),this.inpY_1400=this.modalTimeline.querySelector(".inp-y-1400"),this.inpY_1500=this.modalTimeline.querySelector(".inp-y-1500"),this.inpY_1600=this.modalTimeline.querySelector(".inp-y-1600"),this.inpY_1700=this.modalTimeline.querySelector(".inp-y-1700"),this.inpY_1800=this.modalTimeline.querySelector(".inp-y-1800"),this.inpY_1900=this.modalTimeline.querySelector(".inp-y-1900"),this.inpY_2000=this.modalTimeline.querySelector(".inp-y-2000"),this.inpY_2100=this.modalTimeline.querySelector(".inp-y-2100"),this.inpY_2200=this.modalTimeline.querySelector(".inp-y-2200"),this.inpY_2300=this.modalTimeline.querySelector(".inp-y-2300"),this.inpY_2400=this.modalTimeline.querySelector(".inp-y-2400"),this.inpY_2500=this.modalTimeline.querySelector(".inp-y-2500"),this.inpY_2600=this.modalTimeline.querySelector(".inp-y-2600"),this.inpY_2700=this.modalTimeline.querySelector(".inp-y-2700"),this.inpY_2800=this.modalTimeline.querySelector(".inp-y-2800"),this.inpScale=this.modalTimeline.querySelector(".inp-sc"),this.inpScale_100=this.modalTimeline.querySelector(".inp-sc-100"),this.inpScale_200=this.modalTimeline.querySelector(".inp-sc-200"),this.inpScale_300=this.modalTimeline.querySelector(".inp-sc-300"),this.inpScale_400=this.modalTimeline.querySelector(".inp-sc-400"),this.inpScale_500=this.modalTimeline.querySelector(".inp-sc-500"),this.inpScale_600=this.modalTimeline.querySelector(".inp-sc-600"),this.inpScale_700=this.modalTimeline.querySelector(".inp-sc-700"),this.inpScale_800=this.modalTimeline.querySelector(".inp-sc-800"),this.inpScale_900=this.modalTimeline.querySelector(".inp-sc-900"),this.inpScale_1000=this.modalTimeline.querySelector(".inp-sc-1000"),this.inpScale_1100=this.modalTimeline.querySelector(".inp-sc-1100"),this.inpScale_1200=this.modalTimeline.querySelector(".inp-sc-1200"),this.inpScale_1300=this.modalTimeline.querySelector(".inp-sc-1300"),this.inpScale_1400=this.modalTimeline.querySelector(".inp-sc-1400"),this.inpScale_1500=this.modalTimeline.querySelector(".inp-sc-1500"),this.inpScale_1600=this.modalTimeline.querySelector(".inp-sc-1600"),this.inpScale_1700=this.modalTimeline.querySelector(".inp-sc-1700"),this.inpScale_1800=this.modalTimeline.querySelector(".inp-sc-1800"),this.inpScale_1900=this.modalTimeline.querySelector(".inp-sc-1900"),this.inpScale_2000=this.modalTimeline.querySelector(".inp-sc-2000"),this.inpScale_2100=this.modalTimeline.querySelector(".inp-sc-2100"),this.inpScale_2200=this.modalTimeline.querySelector(".inp-sc-2200"),this.inpScale_2300=this.modalTimeline.querySelector(".inp-sc-2300"),this.inpScale_2400=this.modalTimeline.querySelector(".inp-sc-2400"),this.inpScale_2500=this.modalTimeline.querySelector(".inp-sc-2500"),this.inpScale_2600=this.modalTimeline.querySelector(".inp-sc-2600"),this.inpScale_2700=this.modalTimeline.querySelector(".inp-sc-2700"),this.inpScale_2800=this.modalTimeline.querySelector(".inp-sc-2800"),this.inpRotate=this.modalTimeline.querySelector(".inp-rt"),this.inpRotate_100=this.modalTimeline.querySelector(".inp-rt-100"),this.inpRotate_200=this.modalTimeline.querySelector(".inp-rt-200"),this.inpRotate_300=this.modalTimeline.querySelector(".inp-rt-300"),this.inpRotate_400=this.modalTimeline.querySelector(".inp-rt-400"),this.inpRotate_500=this.modalTimeline.querySelector(".inp-rt-500"),this.inpRotate_600=this.modalTimeline.querySelector(".inp-rt-600"),this.inpRotate_700=this.modalTimeline.querySelector(".inp-rt-700"),this.inpRotate_800=this.modalTimeline.querySelector(".inp-rt-800"),this.inpRotate_900=this.modalTimeline.querySelector(".inp-rt-900"),this.inpRotate_1000=this.modalTimeline.querySelector(".inp-rt-1000"),this.inpRotate_1100=this.modalTimeline.querySelector(".inp-rt-1100"),this.inpRotate_1200=this.modalTimeline.querySelector(".inp-rt-1200"),this.inpRotate_1300=this.modalTimeline.querySelector(".inp-rt-1300"),this.inpRotate_1400=this.modalTimeline.querySelector(".inp-rt-1400"),this.inpRotate_1500=this.modalTimeline.querySelector(".inp-rt-1500"),this.inpRotate_1600=this.modalTimeline.querySelector(".inp-rt-1600"),this.inpRotate_1700=this.modalTimeline.querySelector(".inp-rt-1700"),this.inpRotate_1800=this.modalTimeline.querySelector(".inp-rt-1800"),this.inpRotate_1900=this.modalTimeline.querySelector(".inp-rt-1900"),this.inpRotate_2000=this.modalTimeline.querySelector(".inp-rt-2000"),this.inpRotate_2100=this.modalTimeline.querySelector(".inp-rt-2100"),this.inpRotate_2200=this.modalTimeline.querySelector(".inp-rt-2200"),this.inpRotate_2300=this.modalTimeline.querySelector(".inp-rt-2300"),this.inpRotate_2400=this.modalTimeline.querySelector(".inp-rt-2400"),this.inpRotate_2500=this.modalTimeline.querySelector(".inp-rt-2500"),this.inpRotate_2600=this.modalTimeline.querySelector(".inp-rt-2600"),this.inpRotate_2700=this.modalTimeline.querySelector(".inp-rt-2700"),this.inpRotate_2800=this.modalTimeline.querySelector(".inp-rt-2800"),this.inpOpacity=this.modalTimeline.querySelector(".inp-op"),this.inpOpacity_100=this.modalTimeline.querySelector(".inp-op-100"),this.inpOpacity_200=this.modalTimeline.querySelector(".inp-op-200"),this.inpOpacity_300=this.modalTimeline.querySelector(".inp-op-300"),this.inpOpacity_400=this.modalTimeline.querySelector(".inp-op-400"),this.inpOpacity_500=this.modalTimeline.querySelector(".inp-op-500"),this.inpOpacity_600=this.modalTimeline.querySelector(".inp-op-600"),this.inpOpacity_700=this.modalTimeline.querySelector(".inp-op-700"),this.inpOpacity_800=this.modalTimeline.querySelector(".inp-op-800"),this.inpOpacity_900=this.modalTimeline.querySelector(".inp-op-900"),this.inpOpacity_1000=this.modalTimeline.querySelector(".inp-op-1000"),this.inpOpacity_1100=this.modalTimeline.querySelector(".inp-op-1100"),this.inpOpacity_1200=this.modalTimeline.querySelector(".inp-op-1200"),this.inpOpacity_1300=this.modalTimeline.querySelector(".inp-op-1300"),this.inpOpacity_1400=this.modalTimeline.querySelector(".inp-op-1400"),this.inpOpacity_1500=this.modalTimeline.querySelector(".inp-op-1500"),this.inpOpacity_1600=this.modalTimeline.querySelector(".inp-op-1600"),this.inpOpacity_1700=this.modalTimeline.querySelector(".inp-op-1700"),this.inpOpacity_1800=this.modalTimeline.querySelector(".inp-op-1800"),this.inpOpacity_1900=this.modalTimeline.querySelector(".inp-op-1900"),this.inpOpacity_2000=this.modalTimeline.querySelector(".inp-op-2000"),this.inpOpacity_2100=this.modalTimeline.querySelector(".inp-op-2100"),this.inpOpacity_2200=this.modalTimeline.querySelector(".inp-op-2200"),this.inpOpacity_2300=this.modalTimeline.querySelector(".inp-op-2300"),this.inpOpacity_2400=this.modalTimeline.querySelector(".inp-op-2400"),this.inpOpacity_2500=this.modalTimeline.querySelector(".inp-op-2500"),this.inpOpacity_2600=this.modalTimeline.querySelector(".inp-op-2600"),this.inpOpacity_2700=this.modalTimeline.querySelector(".inp-op-2700"),this.inpOpacity_2800=this.modalTimeline.querySelector(".inp-op-2800"),this.dummyElm=document.querySelector(".dummy-elm");s.querySelector(".is-modal-close").addEventListener("click",(()=>{this.close()}));s.querySelector(".input-target").addEventListener("change",(()=>{this.read()}));this.modalTimeline.querySelectorAll(".input-device").forEach((e=>{e.addEventListener("click",(()=>{this.modalTimeline.querySelectorAll(".input-device").forEach((e=>{e.classList.remove("on")})),e.classList.add("on"),this.read()}))}));const o=s.querySelector(".cmd-timeline-more");o.addEventListener("click",(()=>{const e=s.querySelector(".timeline-more");this.builder.editor.util.showPop(e,!1,o)}));const a=s.querySelector(".cmd-clear-more");a.addEventListener("click",(()=>{const e=s.querySelector(".clear-more");this.builder.editor.util.showPop(e,!1,a)}));const l=s.querySelector("#chkPinSection2"),r=s.querySelector(".div-pin-spacing");l.addEventListener("click",(()=>{const e=this.builder.activeSection;if(e){if(this.builder.editor.saveForUndo(),l.checked){e.classList.add("section-pin"),r.style.display="flex",r.querySelectorAll(".cmd-pin-space").forEach((e=>{e.classList.remove("on")})),r.querySelector('.cmd-pin-space[data-value="md"]').classList.add("on")}else e.classList.remove("section-pin"),e.classList.remove("pin-space-lg"),e.classList.remove("pin-space-xl"),r.style.display="none";this.builder.onChange()}}));const d=s.querySelector("#chkPinDesktopOnly");d.addEventListener("click",(()=>{const e=this.builder.activeSection;e&&(this.builder.editor.saveForUndo(),d.checked?e.classList.add("m-pin-off"):e.classList.remove("m-pin-off"),this.builder.onChange())}));const c=s.querySelector("#chkPinOverlap");c.addEventListener("click",(()=>{const e=this.builder.activeSection;e&&(this.builder.editor.saveForUndo(),c.checked?e.classList.add("pin-overlap"):(e.classList.remove("pin-overlap"),e.classList.remove("no-spacing")),this.builder.onChange())}));r.querySelectorAll(".cmd-pin-space").forEach((e=>{e.addEventListener("click",(()=>{const t=this.builder.activeSection;if(!t)return;let i=e.getAttribute("data-value");this.builder.editor.saveForUndo(),t.classList.remove("pin-space-lg"),t.classList.remove("pin-space-xl"),"lg"===i&&t.classList.add("pin-space-lg"),"xl"===i&&t.classList.add("pin-space-xl"),r.querySelectorAll(".cmd-pin-space").forEach((e=>{e.classList.remove("on")})),e.classList.add("on"),this.builder.onChange()}))}));s.querySelectorAll(".cmd-anim-origin").forEach((e=>{e.addEventListener("click",(()=>{s.querySelectorAll(".cmd-anim-origin").forEach((e=>{e.classList.remove("on")})),e.classList.add("on"),this.applyTimeline(),this.builder.onChange()}))}));const u=s.querySelector(".cmd-disable-smoothanim");u.addEventListener("click",(()=>{u.classList.contains("on")?u.classList.remove("on"):u.classList.add("on"),this.applyTimeline()}));const p=s.querySelector(".cmd-hidden-onstart");p.addEventListener("click",(()=>{p.classList.contains("on")?p.classList.remove("on"):p.classList.add("on"),this.applyTimeline()}));s.querySelector(".cmd-clear-timeline").addEventListener("click",(()=>{let e;e=this.getTarget().element,e&&(this.builder.editor.saveForUndo(),this.cleanup(e),e.style.transform="",e.style.transition="",e.style.opacity="",e.style.transformOrigin="",this.builder.animateScroll.refreshPage(),this.read(),this.builder.settings.onChange())}));s.querySelector(".cmd-clear-timeline-all").addEventListener("click",(()=>{let e=this.builder.activeSection;if(!e)return;this.builder.editor.saveForUndo();let t,i=this.builder.editor.activeCol;i&&(e=i.closest(".is-section")),t=document.querySelectorAll("[data-bottom-top],[data-center],[data-center-bottom],[data-100-top],[data-50-top],[data-top],[data-top-bottom],[data-center-top],[data--300-bottom],[data--150-bottom],[data--50-bottom],[data-bottom],[data-100-bottom],[data-150-bottom],[data-400-bottom],[data--400-bottom],[data--200-bottom],[data--100-bottom],[data-50-bottom],[data-200-bottom],[data-300-bottom],[data-in],[data-in-150],[data-in-300],[data-cen--150],[data-cen],[data-cen-150],[data-out--300],[data-out--150],[data-out][data-t],[data-t-100],[data-t-200],[data-t-300],[data-t-400],[data-t-500],[data-t-600],[data-t-700],[data-t-800],[data-t-900],[data-t-1000],[data-t-1100],[data-t-1200],[data-t-1300],[data-t-1400],[data-t-1500],[data-t-1600],[data-t-1700],[data-t-1800],[data-t-1900],[data-t-2000],[data-t-2100],[data-t-2200],[data-t-2300],[data-t-2400],[data-t-2500],[data-t-2600],[data-t-2700],[data-t-2800]"),t.forEach((e=>{e.removeAttribute("data-center"),e.removeAttribute("data-center-top"),e.removeAttribute("data--50-bottom"),e.removeAttribute("data--100-bottom"),e.removeAttribute("data--150-bottom"),e.removeAttribute("data--200-bottom"),e.removeAttribute("data--300-bottom"),e.removeAttribute("data--400-bottom"),e.removeAttribute("data-bottom-top"),e.removeAttribute("data-400-bottom"),e.removeAttribute("data-300-bottom"),e.removeAttribute("data-200-bottom"),e.removeAttribute("data-150-bottom"),e.removeAttribute("data-100-bottom"),e.removeAttribute("data-50-bottom"),e.removeAttribute("data-bottom"),e.removeAttribute("data-center-bottom"),e.removeAttribute("data-100-top"),e.removeAttribute("data-50-top"),e.removeAttribute("data-top"),e.removeAttribute("data-top-bottom"),e.removeAttribute("data-in"),e.removeAttribute("data-in-150"),e.removeAttribute("data-in-300"),e.removeAttribute("data-cen--150"),e.removeAttribute("data-cen"),e.removeAttribute("data-cen-150"),e.removeAttribute("data-out--300"),e.removeAttribute("data-out--150"),e.removeAttribute("data-out"),e.removeAttribute("data-hidden-onstart"),this.cleanup(e,!0),this.builder.animateScroll.cleanupDelay(e),e.style.transform="",e.style.transition="",e.style.opacity="",e.style.transformOrigin=""})),t=e.querySelectorAll(".is-animated"),t.forEach((e=>{this.builder.animateScroll.cleanupBasic(e),this.builder.animateScroll.cleanupDelay(e)})),this.builder.animateScroll.refreshPage(),this.read(),this.builder.settings.onRender(),this.builder.settings.onChange()}));const h=s.querySelector("#chkTimelineDisableOnMobile");h.addEventListener("click",(()=>{const e=this.builder.activeSection;e&&(this.builder.editor.saveForUndo(),h.checked?e.classList.add("m-skrollrr-off"):e.classList.remove("m-skrollrr-off"),this.builder.onChange())}));let m=this.builder.settings.onPageContentClick;this.builder.settings.onPageContentClick=()=>{m&&m.call(this),s.classList.contains("active")&&setTimeout((()=>{this.clickContent()}),30)};this.modalTimeline.querySelectorAll(".table-timeline input").forEach((e=>{e.addEventListener("change",(()=>{this.applyTimeline()}))}))}clickContent(){let e=this.modalTimeline.querySelector(".input-target");e.value="element";let t=this.readTarget();t?("element"===t.name||"inspectedElement"===t.name?e.value="element":"column"===t.name?e.value="column":"row"===t.name?e.value="row":"container"===t.name?e.value="container":"bg"===t.name?e.value="bg":"overlay"===t.name?e.value="overlay":"box"===t.name?e.value="box":"section"===t.name&&(e.value="section"),this.read()):this.clearSettings()}clearSettings(){this.inpX.value="",this.inpX_100.value="",this.inpX_200.value="",this.inpX_300.value="",this.inpX_400.value="",this.inpX_500.value="",this.inpX_600.value="",this.inpX_700.value="",this.inpX_800.value="",this.inpX_900.value="",this.inpX_900.value="",this.inpX_1000.value="",this.inpX_1100.value="",this.inpX_1200.value="",this.inpX_1300.value="",this.inpX_1400.value="",this.inpX_1500.value="",this.inpX_1600.value="",this.inpX_1700.value="",this.inpX_1800.value="",this.inpX_1900.value="",this.inpX_2000.value="",this.inpX_2100.value="",this.inpX_2200.value="",this.inpX_2300.value="",this.inpX_2400.value="",this.inpX_2500.value="",this.inpX_2600.value="",this.inpX_2700.value="",this.inpX_2800.value="",this.inpY.value="",this.inpY_100.value="",this.inpY_200.value="",this.inpY_300.value="",this.inpY_400.value="",this.inpY_500.value="",this.inpY_600.value="",this.inpY_700.value="",this.inpY_800.value="",this.inpY_900.value="",this.inpY_900.value="",this.inpY_1000.value="",this.inpY_1100.value="",this.inpY_1200.value="",this.inpY_1300.value="",this.inpY_1400.value="",this.inpY_1500.value="",this.inpY_1600.value="",this.inpY_1700.value="",this.inpY_1800.value="",this.inpY_1900.value="",this.inpY_2000.value="",this.inpY_2100.value="",this.inpY_2200.value="",this.inpY_2300.value="",this.inpY_2400.value="",this.inpY_2500.value="",this.inpY_2600.value="",this.inpY_2700.value="",this.inpY_2800.value="",this.inpScale.value="",this.inpScale_100.value="",this.inpScale_200.value="",this.inpScale_300.value="",this.inpScale_400.value="",this.inpScale_500.value="",this.inpScale_600.value="",this.inpScale_700.value="",this.inpScale_800.value="",this.inpScale_900.value="",this.inpScale_900.value="",this.inpScale_1000.value="",this.inpScale_1100.value="",this.inpScale_1200.value="",this.inpScale_1300.value="",this.inpScale_1400.value="",this.inpScale_1500.value="",this.inpScale_1600.value="",this.inpScale_1700.value="",this.inpScale_1800.value="",this.inpScale_1900.value="",this.inpScale_2000.value="",this.inpScale_2100.value="",this.inpScale_2200.value="",this.inpScale_2300.value="",this.inpScale_2400.value="",this.inpScale_2500.value="",this.inpScale_2600.value="",this.inpScale_2700.value="",this.inpScale_2800.value="",this.inpRotate.value="",this.inpRotate_100.value="",this.inpRotate_200.value="",this.inpRotate_300.value="",this.inpRotate_400.value="",this.inpRotate_500.value="",this.inpRotate_600.value="",this.inpRotate_700.value="",this.inpRotate_800.value="",this.inpRotate_900.value="",this.inpRotate_900.value="",this.inpRotate_1000.value="",this.inpRotate_1100.value="",this.inpRotate_1200.value="",this.inpRotate_1300.value="",this.inpRotate_1400.value="",this.inpRotate_1500.value="",this.inpRotate_1600.value="",this.inpRotate_1700.value="",this.inpRotate_1800.value="",this.inpRotate_1900.value="",this.inpRotate_2000.value="",this.inpRotate_2100.value="",this.inpRotate_2200.value="",this.inpRotate_2300.value="",this.inpRotate_2400.value="",this.inpRotate_2500.value="",this.inpRotate_2600.value="",this.inpRotate_2700.value="",this.inpRotate_2800.value="",this.inpOpacity.value="",this.inpOpacity_100.value="",this.inpOpacity_200.value="",this.inpOpacity_300.value="",this.inpOpacity_400.value="",this.inpOpacity_500.value="",this.inpOpacity_600.value="",this.inpOpacity_700.value="",this.inpOpacity_800.value="",this.inpOpacity_900.value="",this.inpOpacity_900.value="",this.inpOpacity_1000.value="",this.inpOpacity_1100.value="",this.inpOpacity_1200.value="",this.inpOpacity_1300.value="",this.inpOpacity_1400.value="",this.inpOpacity_1500.value="",this.inpOpacity_1600.value="",this.inpOpacity_1700.value="",this.inpOpacity_1800.value="",this.inpOpacity_1900.value="",this.inpOpacity_2000.value="",this.inpOpacity_2100.value="",this.inpOpacity_2200.value="",this.inpOpacity_2300.value="",this.inpOpacity_2400.value="",this.inpOpacity_2500.value="",this.inpOpacity_2600.value="",this.inpOpacity_2700.value="",this.inpOpacity_2800.value="";const e=this.builder.activeSection;if(e){const t=this.modalTimeline.querySelector(".div-pin-spacing"),i=this.modalTimeline.querySelector("#chkPinSection2");e.classList.contains("section-pin")?(i.checked=!0,t.style.display="flex"):(i.checked=!1,t.style.display="none");const n=this.modalTimeline.querySelector("#chkPinDesktopOnly");e.classList.contains("m-pin-off")?n.checked=!0:n.checked=!1;const s=this.modalTimeline.querySelector("#chkPinOverlap");if(e.classList.contains("pin-overlap")?s.checked=!0:(s.checked=!1,e.classList.contains("no-spacing")&&(s.checked=!0)),t.querySelectorAll(".cmd-pin-space").forEach((e=>{e.classList.remove("on")})),e.classList.contains("pin-space-lg")){t.querySelector('.cmd-pin-space[data-value="lg"]').classList.add("on")}else if(e.classList.contains("pin-space-xl")){t.querySelector('.cmd-pin-space[data-value="xl"]').classList.add("on")}else{t.querySelector('.cmd-pin-space[data-value="md"]').classList.add("on")}const o=this.modalTimeline.querySelector("#chkTimelineDisableOnMobile");e.classList.contains("m-skrollrr-off")?o.checked=!0:o.checked=!1}this.modalTimeline.querySelectorAll(".cmd-anim-origin").forEach((e=>{"center"===e.getAttribute("data-value")?e.classList.add("on"):e.classList.remove("on")}));this.modalTimeline.querySelector(".cmd-disable-smoothanim").classList.remove("on");this.modalTimeline.querySelector(".cmd-hidden-onstart").classList.remove("on")}read(){let e;if(this.clearSettings(),e=this.getTarget().element,!e)return;if(e.style.transformOrigin){let t=e.style.transformOrigin;"center center"===t&&(t="center");this.modalTimeline.querySelectorAll(".cmd-anim-origin").forEach((e=>{t===e.getAttribute("data-value")?e.classList.add("on"):e.classList.remove("on")}))}const t=this.modalTimeline.querySelector(".cmd-disable-smoothanim");e.hasAttribute("data-smooth-scrolling")?t.classList.add("on"):t.classList.remove("on");const i=this.modalTimeline.querySelector(".cmd-hidden-onstart");e.hasAttribute("data-hidden-onstart")?i.classList.add("on"):i.classList.remove("on");for(let t=0;t<=28;t++)this.fillValue(100*t,e)}fillValue(e,t){let i,n="";e>0&&(n="-"+e);let s=this.getDevice();i="xs"===s?t.getAttribute("data-xs-t"+n):"sm"===s?t.getAttribute("data-sm-t"+n):t.getAttribute("data-t"+n),this.dummyElm.style.cssText=i;let o=this.getTransform(this.dummyElm,i);o.translateX&&(this.modalTimeline.querySelector(".inp-x"+n).value=o.translateX.replace("px","")),o.translateY&&(this.modalTimeline.querySelector(".inp-y"+n).value=o.translateY.replace("px","")),o.scale&&(this.modalTimeline.querySelector(".inp-sc"+n).value=o.scale),o.rotate&&(this.modalTimeline.querySelector(".inp-rt"+n).value=o.rotate),o.opacity&&(this.modalTimeline.querySelector(".inp-op"+n).value=o.opacity)}applyTimeline(){let e,t,i,n,s,o,a,l,r,d,c,u,p,h,m,g,b,f,v,y,x,_,w,S,C,k,A,E,L,q,T,M,O,R,I,B,N,$,z,P,H,D,j,U,F,W,Y,X,G,V,K,Z,Q,J,ee,te,ie,ne,se,oe,ae,le,re,de,ce,ue,pe,he,me,ge,be,fe,ve,ye,xe,_e,we,Se,Ce,ke,Ae,Ee,Le,qe,Te,Me,Oe,Re,Ie,Be,Ne,$e,ze,Pe,He,De,je,Ue,Fe,We,Ye,Xe,Ge,Ve,Ke,Ze,Qe,Je,et,tt,it,nt,st,ot,at,lt,rt,dt,ct,ut,pt,ht,mt,gt,bt,ft,vt,yt,xt,_t,wt,St,Ct,kt,At,Et,Lt,qt,Tt,Mt,Ot,Rt,It,Bt,Nt,$t;if(e=this.getTarget().element,!e)return;""!==this.inpX.value&&(t=this.inpX.value+(-1!==this.inpX.value.indexOf("%")?"":"px")),""!==this.inpX_100.value&&(i=this.inpX_100.value+(-1!==this.inpX_100.value.indexOf("%")?"":"px")),""!==this.inpX_200.value&&(n=this.inpX_200.value+(-1!==this.inpX_200.value.indexOf("%")?"":"px")),""!==this.inpX_300.value&&(s=this.inpX_300.value+(-1!==this.inpX_300.value.indexOf("%")?"":"px")),""!==this.inpX_400.value&&(o=this.inpX_400.value+(-1!==this.inpX_400.value.indexOf("%")?"":"px")),""!==this.inpX_500.value&&(a=this.inpX_500.value+(-1!==this.inpX_500.value.indexOf("%")?"":"px")),""!==this.inpX_600.value&&(l=this.inpX_600.value+(-1!==this.inpX_600.value.indexOf("%")?"":"px")),""!==this.inpX_700.value&&(r=this.inpX_700.value+(-1!==this.inpX_700.value.indexOf("%")?"":"px")),""!==this.inpX_800.value&&(d=this.inpX_800.value+(-1!==this.inpX_800.value.indexOf("%")?"":"px")),""!==this.inpX_900.value&&(c=this.inpX_900.value+(-1!==this.inpX_900.value.indexOf("%")?"":"px")),""!==this.inpX_1000.value&&(u=this.inpX_1000.value+(-1!==this.inpX_1000.value.indexOf("%")?"":"px")),""!==this.inpX_1100.value&&(p=this.inpX_1100.value+(-1!==this.inpX_1100.value.indexOf("%")?"":"px")),""!==this.inpX_1200.value&&(h=this.inpX_1200.value+(-1!==this.inpX_1200.value.indexOf("%")?"":"px")),""!==this.inpX_1300.value&&(m=this.inpX_1300.value+(-1!==this.inpX_1300.value.indexOf("%")?"":"px")),""!==this.inpX_1400.value&&(g=this.inpX_1400.value+(-1!==this.inpX_1400.value.indexOf("%")?"":"px")),""!==this.inpX_1500.value&&(b=this.inpX_1500.value+(-1!==this.inpX_1500.value.indexOf("%")?"":"px")),""!==this.inpX_1600.value&&(f=this.inpX_1600.value+(-1!==this.inpX_1600.value.indexOf("%")?"":"px")),""!==this.inpX_1700.value&&(v=this.inpX_1700.value+(-1!==this.inpX_1700.value.indexOf("%")?"":"px")),""!==this.inpX_1800.value&&(y=this.inpX_1800.value+(-1!==this.inpX_1800.value.indexOf("%")?"":"px")),""!==this.inpX_1900.value&&(x=this.inpX_1900.value+(-1!==this.inpX_1900.value.indexOf("%")?"":"px")),""!==this.inpX_2000.value&&(_=this.inpX_2000.value+(-1!==this.inpX_2000.value.indexOf("%")?"":"px")),""!==this.inpX_2100.value&&(w=this.inpX_2100.value+(-1!==this.inpX_2100.value.indexOf("%")?"":"px")),""!==this.inpX_2200.value&&(S=this.inpX_2200.value+(-1!==this.inpX_2200.value.indexOf("%")?"":"px")),""!==this.inpX_2300.value&&(C=this.inpX_2300.value+(-1!==this.inpX_2300.value.indexOf("%")?"":"px")),""!==this.inpX_2400.value&&(k=this.inpX_2400.value+(-1!==this.inpX_2400.value.indexOf("%")?"":"px")),""!==this.inpX_2500.value&&(A=this.inpX_2500.value+(-1!==this.inpX_2500.value.indexOf("%")?"":"px")),""!==this.inpX_2600.value&&(E=this.inpX_2600.value+(-1!==this.inpX_2600.value.indexOf("%")?"":"px")),""!==this.inpX_2700.value&&(L=this.inpX_2700.value+(-1!==this.inpX_2700.value.indexOf("%")?"":"px")),""!==this.inpX_2800.value&&(q=this.inpX_2800.value+(-1!==this.inpX_2800.value.indexOf("%")?"":"px")),""!==this.inpY.value&&(T=this.inpY.value+(-1!==this.inpY.value.indexOf("%")?"":"px")),""!==this.inpY_100.value&&(M=this.inpY_100.value+(-1!==this.inpY_100.value.indexOf("%")?"":"px")),""!==this.inpY_200.value&&(O=this.inpY_200.value+(-1!==this.inpY_200.value.indexOf("%")?"":"px")),""!==this.inpY_300.value&&(R=this.inpY_300.value+(-1!==this.inpY_300.value.indexOf("%")?"":"px")),""!==this.inpY_400.value&&(I=this.inpY_400.value+(-1!==this.inpY_400.value.indexOf("%")?"":"px")),""!==this.inpY_500.value&&(B=this.inpY_500.value+(-1!==this.inpY_500.value.indexOf("%")?"":"px")),""!==this.inpY_600.value&&(N=this.inpY_600.value+(-1!==this.inpY_600.value.indexOf("%")?"":"px")),""!==this.inpY_700.value&&($=this.inpY_700.value+(-1!==this.inpY_700.value.indexOf("%")?"":"px")),""!==this.inpY_800.value&&(z=this.inpY_800.value+(-1!==this.inpY_800.value.indexOf("%")?"":"px")),""!==this.inpY_900.value&&(P=this.inpY_900.value+(-1!==this.inpY_900.value.indexOf("%")?"":"px")),""!==this.inpY_1000.value&&(H=this.inpY_1000.value+(-1!==this.inpY_1000.value.indexOf("%")?"":"px")),""!==this.inpY_1100.value&&(D=this.inpY_1100.value+(-1!==this.inpY_1100.value.indexOf("%")?"":"px")),""!==this.inpY_1200.value&&(j=this.inpY_1200.value+(-1!==this.inpY_1200.value.indexOf("%")?"":"px")),""!==this.inpY_1300.value&&(U=this.inpY_1300.value+(-1!==this.inpY_1300.value.indexOf("%")?"":"px")),""!==this.inpY_1400.value&&(F=this.inpY_1400.value+(-1!==this.inpY_1400.value.indexOf("%")?"":"px")),""!==this.inpY_1500.value&&(W=this.inpY_1500.value+(-1!==this.inpY_1500.value.indexOf("%")?"":"px")),""!==this.inpY_1600.value&&(Y=this.inpY_1600.value+(-1!==this.inpY_1600.value.indexOf("%")?"":"px")),""!==this.inpY_1700.value&&(X=this.inpY_1700.value+(-1!==this.inpY_1700.value.indexOf("%")?"":"px")),""!==this.inpY_1800.value&&(G=this.inpY_1800.value+(-1!==this.inpY_1800.value.indexOf("%")?"":"px")),""!==this.inpY_1900.value&&(V=this.inpY_1900.value+(-1!==this.inpY_1900.value.indexOf("%")?"":"px")),""!==this.inpY_2000.value&&(K=this.inpY_2000.value+(-1!==this.inpY_2000.value.indexOf("%")?"":"px")),""!==this.inpY_2100.value&&(Z=this.inpY_2100.value+(-1!==this.inpY_2100.value.indexOf("%")?"":"px")),""!==this.inpY_2200.value&&(Q=this.inpY_2200.value+(-1!==this.inpY_2200.value.indexOf("%")?"":"px")),""!==this.inpY_2300.value&&(J=this.inpY_2300.value+(-1!==this.inpY_2300.value.indexOf("%")?"":"px")),""!==this.inpY_2400.value&&(ee=this.inpY_2400.value+(-1!==this.inpY_2400.value.indexOf("%")?"":"px")),""!==this.inpY_2500.value&&(te=this.inpY_2500.value+(-1!==this.inpY_2500.value.indexOf("%")?"":"px")),""!==this.inpY_2600.value&&(ie=this.inpY_2600.value+(-1!==this.inpY_2600.value.indexOf("%")?"":"px")),""!==this.inpY_2700.value&&(ne=this.inpY_2700.value+(-1!==this.inpY_2700.value.indexOf("%")?"":"px")),""!==this.inpY_2800.value&&(se=this.inpY_2800.value+(-1!==this.inpY_2800.value.indexOf("%")?"":"px")),""!==this.inpScale.value&&(oe=this.inpScale.value),""!==this.inpScale_100.value&&(ae=this.inpScale_100.value),""!==this.inpScale_200.value&&(le=this.inpScale_200.value),""!==this.inpScale_300.value&&(re=this.inpScale_300.value),""!==this.inpScale_400.value&&(de=this.inpScale_400.value),""!==this.inpScale_500.value&&(ce=this.inpScale_500.value),""!==this.inpScale_600.value&&(ue=this.inpScale_600.value),""!==this.inpScale_700.value&&(pe=this.inpScale_700.value),""!==this.inpScale_800.value&&(he=this.inpScale_800.value),""!==this.inpScale_900.value&&(me=this.inpScale_900.value),""!==this.inpScale_1000.value&&(ge=this.inpScale_1000.value),""!==this.inpScale_1100.value&&(be=this.inpScale_1100.value),""!==this.inpScale_1200.value&&(fe=this.inpScale_1200.value),""!==this.inpScale_1300.value&&(ve=this.inpScale_1300.value),""!==this.inpScale_1400.value&&(ye=this.inpScale_1400.value),""!==this.inpScale_1500.value&&(xe=this.inpScale_1500.value),""!==this.inpScale_1600.value&&(_e=this.inpScale_1600.value),""!==this.inpScale_1700.value&&(we=this.inpScale_1700.value),""!==this.inpScale_1800.value&&(Se=this.inpScale_1800.value),""!==this.inpScale_1900.value&&(Ce=this.inpScale_1900.value),""!==this.inpScale_2000.value&&(ke=this.inpScale_2000.value),""!==this.inpScale_2100.value&&(Ae=this.inpScale_2100.value),""!==this.inpScale_2200.value&&(Ee=this.inpScale_2200.value),""!==this.inpScale_2300.value&&(Le=this.inpScale_2300.value),""!==this.inpScale_2400.value&&(qe=this.inpScale_2400.value),""!==this.inpScale_2500.value&&(Te=this.inpScale_2500.value),""!==this.inpScale_2600.value&&(Me=this.inpScale_2600.value),""!==this.inpScale_2700.value&&(Oe=this.inpScale_2700.value),""!==this.inpScale_2800.value&&(Re=this.inpScale_2800.value),""!==this.inpRotate.value&&(Ie=this.inpRotate.value),""!==this.inpRotate_100.value&&(Be=this.inpRotate_100.value),""!==this.inpRotate_200.value&&(Ne=this.inpRotate_200.value),""!==this.inpRotate_300.value&&($e=this.inpRotate_300.value),""!==this.inpRotate_400.value&&(ze=this.inpRotate_400.value),""!==this.inpRotate_500.value&&(Pe=this.inpRotate_500.value),""!==this.inpRotate_600.value&&(He=this.inpRotate_600.value),""!==this.inpRotate_700.value&&(De=this.inpRotate_700.value),""!==this.inpRotate_800.value&&(je=this.inpRotate_800.value),""!==this.inpRotate_900.value&&(Ue=this.inpRotate_900.value),""!==this.inpRotate_1000.value&&(Fe=this.inpRotate_1000.value),""!==this.inpRotate_1100.value&&(We=this.inpRotate_1100.value),""!==this.inpRotate_1200.value&&(Ye=this.inpRotate_1200.value),""!==this.inpRotate_1300.value&&(Xe=this.inpRotate_1300.value),""!==this.inpRotate_1400.value&&(Ge=this.inpRotate_1400.value),""!==this.inpRotate_1500.value&&(Ve=this.inpRotate_1500.value),""!==this.inpRotate_1600.value&&(Ke=this.inpRotate_1600.value),""!==this.inpRotate_1700.value&&(Ze=this.inpRotate_1700.value),""!==this.inpRotate_1800.value&&(Qe=this.inpRotate_1800.value),""!==this.inpRotate_1900.value&&(Je=this.inpRotate_1900.value),""!==this.inpRotate_2000.value&&(et=this.inpRotate_2000.value),""!==this.inpRotate_2100.value&&(tt=this.inpRotate_2100.value),""!==this.inpRotate_2200.value&&(it=this.inpRotate_2200.value),""!==this.inpRotate_2300.value&&(nt=this.inpRotate_2300.value),""!==this.inpRotate_2400.value&&(st=this.inpRotate_2400.value),""!==this.inpRotate_2500.value&&(ot=this.inpRotate_2500.value),""!==this.inpRotate_2600.value&&(at=this.inpRotate_2600.value),""!==this.inpRotate_2700.value&&(lt=this.inpRotate_2700.value),""!==this.inpRotate_2800.value&&(rt=this.inpRotate_2800.value),""!==this.inpOpacity.value&&(dt=this.inpOpacity.value),""!==this.inpOpacity_100.value&&(ct=this.inpOpacity_100.value),""!==this.inpOpacity_200.value&&(ut=this.inpOpacity_200.value),""!==this.inpOpacity_300.value&&(pt=this.inpOpacity_300.value),""!==this.inpOpacity_400.value&&(ht=this.inpOpacity_400.value),""!==this.inpOpacity_500.value&&(mt=this.inpOpacity_500.value),""!==this.inpOpacity_600.value&&(gt=this.inpOpacity_600.value),""!==this.inpOpacity_700.value&&(bt=this.inpOpacity_700.value),""!==this.inpOpacity_800.value&&(ft=this.inpOpacity_800.value),""!==this.inpOpacity_900.value&&(vt=this.inpOpacity_900.value),""!==this.inpOpacity_1000.value&&(yt=this.inpOpacity_1000.value),""!==this.inpOpacity_1100.value&&(xt=this.inpOpacity_1100.value),""!==this.inpOpacity_1200.value&&(_t=this.inpOpacity_1200.value),""!==this.inpOpacity_1300.value&&(wt=this.inpOpacity_1300.value),""!==this.inpOpacity_1400.value&&(St=this.inpOpacity_1400.value),""!==this.inpOpacity_1500.value&&(Ct=this.inpOpacity_1500.value),""!==this.inpOpacity_1600.value&&(kt=this.inpOpacity_1600.value),""!==this.inpOpacity_1700.value&&(At=this.inpOpacity_1700.value),""!==this.inpOpacity_1800.value&&(Et=this.inpOpacity_1800.value),""!==this.inpOpacity_1900.value&&(Lt=this.inpOpacity_1900.value),""!==this.inpOpacity_2000.value&&(qt=this.inpOpacity_2000.value),""!==this.inpOpacity_2100.value&&(Tt=this.inpOpacity_2100.value),""!==this.inpOpacity_2200.value&&(Mt=this.inpOpacity_2200.value),""!==this.inpOpacity_2300.value&&(Ot=this.inpOpacity_2300.value),""!==this.inpOpacity_2400.value&&(Rt=this.inpOpacity_2400.value),""!==this.inpOpacity_2500.value&&(It=this.inpOpacity_2500.value),""!==this.inpOpacity_2600.value&&(Bt=this.inpOpacity_2600.value),""!==this.inpOpacity_2700.value&&(Nt=this.inpOpacity_2700.value),""!==this.inpOpacity_2800.value&&($t=this.inpOpacity_2800.value);let zt=(t?` translateX(${t})`:"")+(T?` translateY(${T})`:"")+(oe?` scale(${oe})`:"")+(Ie?` rotate(${Ie})`:"");zt=zt.trim();let Pt=(i?` translateX(${i})`:"")+(M?` translateY(${M})`:"")+(ae?` scale(${ae})`:"")+(Be?` rotate(${Be})`:"");Pt=Pt.trim();let Ht=(n?` translateX(${n})`:"")+(O?` translateY(${O})`:"")+(le?` scale(${le})`:"")+(Ne?` rotate(${Ne})`:"");Ht=Ht.trim();let Dt=(s?` translateX(${s})`:"")+(R?` translateY(${R})`:"")+(re?` scale(${re})`:"")+($e?` rotate(${$e})`:"");Dt=Dt.trim();let jt=(o?` translateX(${o})`:"")+(I?` translateY(${I})`:"")+(de?` scale(${de})`:"")+(ze?` rotate(${ze})`:"");jt=jt.trim();let Ut=(a?` translateX(${a})`:"")+(B?` translateY(${B})`:"")+(ce?` scale(${ce})`:"")+(Pe?` rotate(${Pe})`:"");Ut=Ut.trim();let Ft=(l?` translateX(${l})`:"")+(N?` translateY(${N})`:"")+(ue?` scale(${ue})`:"")+(He?` rotate(${He})`:"");Ft=Ft.trim();let Wt=(r?` translateX(${r})`:"")+($?` translateY(${$})`:"")+(pe?` scale(${pe})`:"")+(De?` rotate(${De})`:"");Wt=Wt.trim();let Yt=(d?` translateX(${d})`:"")+(z?` translateY(${z})`:"")+(he?` scale(${he})`:"")+(je?` rotate(${je})`:"");Yt=Yt.trim();let Xt=(c?` translateX(${c})`:"")+(P?` translateY(${P})`:"")+(me?` scale(${me})`:"")+(Ue?` rotate(${Ue})`:"");Xt=Xt.trim();let Gt=(u?` translateX(${u})`:"")+(H?` translateY(${H})`:"")+(ge?` scale(${ge})`:"")+(Fe?` rotate(${Fe})`:"");Gt=Gt.trim();let Vt=(p?` translateX(${p})`:"")+(D?` translateY(${D})`:"")+(be?` scale(${be})`:"")+(We?` rotate(${We})`:"");Vt=Vt.trim();let Kt=(h?` translateX(${h})`:"")+(j?` translateY(${j})`:"")+(fe?` scale(${fe})`:"")+(Ye?` rotate(${Ye})`:"");Kt=Kt.trim();let Zt=(m?` translateX(${m})`:"")+(U?` translateY(${U})`:"")+(ve?` scale(${ve})`:"")+(Xe?` rotate(${Xe})`:"");Zt=Zt.trim();let Qt=(g?` translateX(${g})`:"")+(F?` translateY(${F})`:"")+(ye?` scale(${ye})`:"")+(Ge?` rotate(${Ge})`:"");Qt=Qt.trim();let Jt=(b?` translateX(${b})`:"")+(W?` translateY(${W})`:"")+(xe?` scale(${xe})`:"")+(Ve?` rotate(${Ve})`:"");Jt=Jt.trim();let ei=(f?` translateX(${f})`:"")+(Y?` translateY(${Y})`:"")+(_e?` scale(${_e})`:"")+(Ke?` rotate(${Ke})`:"");ei=ei.trim();let ti=(v?` translateX(${v})`:"")+(X?` translateY(${X})`:"")+(we?` scale(${we})`:"")+(Ze?` rotate(${Ze})`:"");ti=ti.trim();let ii=(y?` translateX(${y})`:"")+(G?` translateY(${G})`:"")+(Se?` scale(${Se})`:"")+(Qe?` rotate(${Qe})`:"");ii=ii.trim();let ni=(x?` translateX(${x})`:"")+(V?` translateY(${V})`:"")+(Ce?` scale(${Ce})`:"")+(Je?` rotate(${Je})`:"");ni=ni.trim();let si=(_?` translateX(${_})`:"")+(K?` translateY(${K})`:"")+(ke?` scale(${ke})`:"")+(et?` rotate(${et})`:"");si=si.trim();let oi=(w?` translateX(${w})`:"")+(Z?` translateY(${Z})`:"")+(Ae?` scale(${Ae})`:"")+(tt?` rotate(${tt})`:"");oi=oi.trim();let ai=(S?` translateX(${S})`:"")+(Q?` translateY(${Q})`:"")+(Ee?` scale(${Ee})`:"")+(it?` rotate(${it})`:"");ai=ai.trim();let li=(C?` translateX(${C})`:"")+(J?` translateY(${J})`:"")+(Le?` scale(${Le})`:"")+(nt?` rotate(${nt})`:"");li=li.trim();let ri=(k?` translateX(${k})`:"")+(ee?` translateY(${ee})`:"")+(qe?` scale(${qe})`:"")+(st?` rotate(${st})`:"");ri=ri.trim();let di=(A?` translateX(${A})`:"")+(te?` translateY(${te})`:"")+(Te?` scale(${Te})`:"")+(ot?` rotate(${ot})`:"");di=di.trim();let ci=(E?` translateX(${E})`:"")+(ie?` translateY(${ie})`:"")+(Me?` scale(${Me})`:"")+(at?` rotate(${at})`:"");ci=ci.trim();let ui=(L?` translateX(${L})`:"")+(ne?` translateY(${ne})`:"")+(Oe?` scale(${Oe})`:"")+(lt?` rotate(${lt})`:"");ui=ui.trim();let pi=(q?` translateX(${q})`:"")+(se?` translateY(${se})`:"")+(Re?` scale(${Re})`:"")+(rt?` rotate(${rt})`:"");pi=pi.trim();let hi=(zt?"transform: "+zt+";":"")+(dt?`opacity:${dt}`:""),mi=(Pt?"transform: "+Pt+";":"")+(ct?`opacity:${ct}`:""),gi=(Ht?"transform: "+Ht+";":"")+(ut?`opacity:${ut}`:""),bi=(Dt?"transform: "+Dt+";":"")+(pt?`opacity:${pt}`:""),fi=(jt?"transform: "+jt+";":"")+(ht?`opacity:${ht}`:""),vi=(Ut?"transform: "+Ut+";":"")+(mt?`opacity:${mt}`:""),yi=(Ft?"transform: "+Ft+";":"")+(gt?`opacity:${gt}`:""),xi=(Wt?"transform: "+Wt+";":"")+(bt?`opacity:${bt}`:""),_i=(Yt?"transform: "+Yt+";":"")+(ft?`opacity:${ft}`:""),wi=(Xt?"transform: "+Xt+";":"")+(vt?`opacity:${vt}`:""),Si=(Gt?"transform: "+Gt+";":"")+(yt?`opacity:${yt}`:""),Ci=(Vt?"transform: "+Vt+";":"")+(xt?`opacity:${xt}`:""),ki=(Kt?"transform: "+Kt+";":"")+(_t?`opacity:${_t}`:""),Ai=(Zt?"transform: "+Zt+";":"")+(wt?`opacity:${wt}`:""),Ei=(Qt?"transform: "+Qt+";":"")+(St?`opacity:${St}`:""),Li=(Jt?"transform: "+Jt+";":"")+(Ct?`opacity:${Ct}`:""),qi=(ei?"transform: "+ei+";":"")+(kt?`opacity:${kt}`:""),Ti=(ti?"transform: "+ti+";":"")+(At?`opacity:${At}`:""),Mi=(ii?"transform: "+ii+";":"")+(Et?`opacity:${Et}`:""),Oi=(ni?"transform: "+ni+";":"")+(Lt?`opacity:${Lt}`:""),Ri=(si?"transform: "+si+";":"")+(qt?`opacity:${qt}`:""),Ii=(oi?"transform: "+oi+";":"")+(Tt?`opacity:${Tt}`:""),Bi=(ai?"transform: "+ai+";":"")+(Mt?`opacity:${Mt}`:""),Ni=(li?"transform: "+li+";":"")+(Ot?`opacity:${Ot}`:""),$i=(ri?"transform: "+ri+";":"")+(Rt?`opacity:${Rt}`:""),zi=(di?"transform: "+di+";":"")+(It?`opacity:${It}`:""),Pi=(ci?"transform: "+ci+";":"")+(Bt?`opacity:${Bt}`:""),Hi=(ui?"transform: "+ui+";":"")+(Nt?`opacity:${Nt}`:""),Di=(pi?"transform: "+pi+";":"")+($t?`opacity:${$t}`:"");this.builder.editor.saveForUndo();let ji=this.getDevice();"xs"===ji?(""!==hi?e.setAttribute("data-xs-t",hi):e.removeAttribute("data-xs-t"),""!==mi?e.setAttribute("data-xs-t-100",mi):e.removeAttribute("data-xs-t-100"),""!==gi?e.setAttribute("data-xs-t-200",gi):e.removeAttribute("data-xs-t-200"),""!==bi?e.setAttribute("data-xs-t-300",bi):e.removeAttribute("data-xs-t-300"),""!==fi?e.setAttribute("data-xs-t-400",fi):e.removeAttribute("data-xs-t-400"),""!==vi?e.setAttribute("data-xs-t-500",vi):e.removeAttribute("data-xs-t-500"),""!==yi?e.setAttribute("data-xs-t-600",yi):e.removeAttribute("data-xs-t-600"),""!==xi?e.setAttribute("data-xs-t-700",xi):e.removeAttribute("data-xs-t-700"),""!==_i?e.setAttribute("data-xs-t-800",_i):e.removeAttribute("data-xs-t-800"),""!==wi?e.setAttribute("data-xs-t-900",wi):e.removeAttribute("data-xs-t-900"),""!==Si?e.setAttribute("data-xs-t-1000",Si):e.removeAttribute("data-xs-t-1000"),""!==Ci?e.setAttribute("data-xs-t-1100",Ci):e.removeAttribute("data-xs-t-1100"),""!==ki?e.setAttribute("data-xs-t-1200",ki):e.removeAttribute("data-xs-t-1200"),""!==Ai?e.setAttribute("data-xs-t-1300",Ai):e.removeAttribute("data-xs-t-1300"),""!==Ei?e.setAttribute("data-xs-t-1400",Ei):e.removeAttribute("data-xs-t-1400"),""!==Li?e.setAttribute("data-xs-t-1500",Li):e.removeAttribute("data-xs-t-1500"),""!==qi?e.setAttribute("data-xs-t-1600",qi):e.removeAttribute("data-xs-t-1600"),""!==Ti?e.setAttribute("data-xs-t-1700",Ti):e.removeAttribute("data-xs-t-1700"),""!==Mi?e.setAttribute("data-xs-t-1800",Mi):e.removeAttribute("data-xs-t-1800"),""!==Oi?e.setAttribute("data-xs-t-1900",Oi):e.removeAttribute("data-xs-t-1900"),""!==Ri?e.setAttribute("data-xs-t-2000",Ri):e.removeAttribute("data-xs-t-2000"),""!==Ii?e.setAttribute("data-xs-t-2100",Ii):e.removeAttribute("data-xs-t-2100"),""!==Bi?e.setAttribute("data-xs-t-2200",Bi):e.removeAttribute("data-xs-t-2200"),""!==Ni?e.setAttribute("data-xs-t-2300",Ni):e.removeAttribute("data-xs-t-2300"),""!==$i?e.setAttribute("data-xs-t-2400",$i):e.removeAttribute("data-xs-t-2400"),""!==zi?e.setAttribute("data-xs-t-2500",zi):e.removeAttribute("data-xs-t-2500"),""!==Pi?e.setAttribute("data-xs-t-2600",Pi):e.removeAttribute("data-xs-t-2600"),""!==Hi?e.setAttribute("data-xs-t-2700",Hi):e.removeAttribute("data-xs-t-2700"),""!==Di?e.setAttribute("data-xs-t-2800",Di):e.removeAttribute("data-xs-t-2800")):"sm"===ji?(""!==hi?e.setAttribute("data-sm-t",hi):e.removeAttribute("data-sm-t"),""!==mi?e.setAttribute("data-sm-t-100",mi):e.removeAttribute("data-sm-t-100"),""!==gi?e.setAttribute("data-sm-t-200",gi):e.removeAttribute("data-sm-t-200"),""!==bi?e.setAttribute("data-sm-t-300",bi):e.removeAttribute("data-sm-t-300"),""!==fi?e.setAttribute("data-sm-t-400",fi):e.removeAttribute("data-sm-t-400"),""!==vi?e.setAttribute("data-sm-t-500",vi):e.removeAttribute("data-sm-t-500"),""!==yi?e.setAttribute("data-sm-t-600",yi):e.removeAttribute("data-sm-t-600"),""!==xi?e.setAttribute("data-sm-t-700",xi):e.removeAttribute("data-sm-t-700"),""!==_i?e.setAttribute("data-sm-t-800",_i):e.removeAttribute("data-sm-t-800"),""!==wi?e.setAttribute("data-sm-t-900",wi):e.removeAttribute("data-sm-t-900"),""!==Si?e.setAttribute("data-sm-t-1000",Si):e.removeAttribute("data-sm-t-1000"),""!==Ci?e.setAttribute("data-sm-t-1100",Ci):e.removeAttribute("data-sm-t-1100"),""!==ki?e.setAttribute("data-sm-t-1200",ki):e.removeAttribute("data-sm-t-1200"),""!==Ai?e.setAttribute("data-sm-t-1300",Ai):e.removeAttribute("data-sm-t-1300"),""!==Ei?e.setAttribute("data-sm-t-1400",Ei):e.removeAttribute("data-sm-t-1400"),""!==Li?e.setAttribute("data-sm-t-1500",Li):e.removeAttribute("data-sm-t-1500"),""!==qi?e.setAttribute("data-sm-t-1600",qi):e.removeAttribute("data-sm-t-1600"),""!==Ti?e.setAttribute("data-sm-t-1700",Ti):e.removeAttribute("data-sm-t-1700"),""!==Mi?e.setAttribute("data-sm-t-1800",Mi):e.removeAttribute("data-sm-t-1800"),""!==Oi?e.setAttribute("data-sm-t-1900",Oi):e.removeAttribute("data-sm-t-1900"),""!==Ri?e.setAttribute("data-sm-t-2000",Ri):e.removeAttribute("data-sm-t-2000"),""!==Ii?e.setAttribute("data-sm-t-2100",Ii):e.removeAttribute("data-sm-t-2100"),""!==Bi?e.setAttribute("data-sm-t-2200",Bi):e.removeAttribute("data-sm-t-2200"),""!==Ni?e.setAttribute("data-sm-t-2300",Ni):e.removeAttribute("data-sm-t-2300"),""!==$i?e.setAttribute("data-sm-t-2400",$i):e.removeAttribute("data-sm-t-2400"),""!==zi?e.setAttribute("data-sm-t-2500",zi):e.removeAttribute("data-sm-t-2500"),""!==Pi?e.setAttribute("data-sm-t-2600",Pi):e.removeAttribute("data-sm-t-2600"),""!==Hi?e.setAttribute("data-sm-t-2700",Hi):e.removeAttribute("data-sm-t-2700"),""!==Di?e.setAttribute("data-sm-t-2800",Di):e.removeAttribute("data-sm-t-2800")):(""!==hi?e.setAttribute("data-t",hi):e.removeAttribute("data-t"),""!==mi?e.setAttribute("data-t-100",mi):e.removeAttribute("data-t-100"),""!==gi?e.setAttribute("data-t-200",gi):e.removeAttribute("data-t-200"),""!==bi?e.setAttribute("data-t-300",bi):e.removeAttribute("data-t-300"),""!==fi?e.setAttribute("data-t-400",fi):e.removeAttribute("data-t-400"),""!==vi?e.setAttribute("data-t-500",vi):e.removeAttribute("data-t-500"),""!==yi?e.setAttribute("data-t-600",yi):e.removeAttribute("data-t-600"),""!==xi?e.setAttribute("data-t-700",xi):e.removeAttribute("data-t-700"),""!==_i?e.setAttribute("data-t-800",_i):e.removeAttribute("data-t-800"),""!==wi?e.setAttribute("data-t-900",wi):e.removeAttribute("data-t-900"),""!==Si?e.setAttribute("data-t-1000",Si):e.removeAttribute("data-t-1000"),""!==Ci?e.setAttribute("data-t-1100",Ci):e.removeAttribute("data-t-1100"),""!==ki?e.setAttribute("data-t-1200",ki):e.removeAttribute("data-t-1200"),""!==Ai?e.setAttribute("data-t-1300",Ai):e.removeAttribute("data-t-1300"),""!==Ei?e.setAttribute("data-t-1400",Ei):e.removeAttribute("data-t-1400"),""!==Li?e.setAttribute("data-t-1500",Li):e.removeAttribute("data-t-1500"),""!==qi?e.setAttribute("data-t-1600",qi):e.removeAttribute("data-t-1600"),""!==Ti?e.setAttribute("data-t-1700",Ti):e.removeAttribute("data-t-1700"),""!==Mi?e.setAttribute("data-t-1800",Mi):e.removeAttribute("data-t-1800"),""!==Oi?e.setAttribute("data-t-1900",Oi):e.removeAttribute("data-t-1900"),""!==Ri?e.setAttribute("data-t-2000",Ri):e.removeAttribute("data-t-2000"),""!==Ii?e.setAttribute("data-t-2100",Ii):e.removeAttribute("data-t-2100"),""!==Bi?e.setAttribute("data-t-2200",Bi):e.removeAttribute("data-t-2200"),""!==Ni?e.setAttribute("data-t-2300",Ni):e.removeAttribute("data-t-2300"),""!==$i?e.setAttribute("data-t-2400",$i):e.removeAttribute("data-t-2400"),""!==zi?e.setAttribute("data-t-2500",zi):e.removeAttribute("data-t-2500"),""!==Pi?e.setAttribute("data-t-2600",Pi):e.removeAttribute("data-t-2600"),""!==Hi?e.setAttribute("data-t-2700",Hi):e.removeAttribute("data-t-2700"),""!==Di?e.setAttribute("data-t-2800",Di):e.removeAttribute("data-t-2800")),e.style.transform="",e.style.transition="",e.style.opacity="",e.hasAttribute("data-xs-t")||e.hasAttribute("data-xs-t-100")||e.hasAttribute("data-xs-t-200")||e.hasAttribute("data-xs-t-300")||e.hasAttribute("data-xs-t-400")||e.hasAttribute("data-xs-t-500")||e.hasAttribute("data-xs-t-600")||e.hasAttribute("data-xs-t-700")||e.hasAttribute("data-xs-t-800")||e.hasAttribute("data-xs-t-900")||e.hasAttribute("data-xs-t-1000")||e.hasAttribute("data-xs-t-1100")||e.hasAttribute("data-xs-t-1200")||e.hasAttribute("data-xs-t-1300")||e.hasAttribute("data-xs-t-1400")||e.hasAttribute("data-xs-t-1500")||e.hasAttribute("data-xs-t-1600")||e.hasAttribute("data-xs-t-1700")||e.hasAttribute("data-xs-t-1800")||e.hasAttribute("data-xs-t-1900")||e.hasAttribute("data-xs-t-2000")||e.hasAttribute("data-xs-t-2100")||e.hasAttribute("data-xs-t-2200")||e.hasAttribute("data-xs-t-2300")||e.hasAttribute("data-xs-t-2400")||e.hasAttribute("data-xs-t-2500")||e.hasAttribute("data-xs-t-2600")||e.hasAttribute("data-xs-t-2700")||e.hasAttribute("data-xs-t-2800")?e.setAttribute("data-xs",""):e.removeAttribute("data-xs"),e.hasAttribute("data-sm-t")||e.hasAttribute("data-sm-t-100")||e.hasAttribute("data-sm-t-200")||e.hasAttribute("data-sm-t-300")||e.hasAttribute("data-sm-t-400")||e.hasAttribute("data-sm-t-500")||e.hasAttribute("data-sm-t-600")||e.hasAttribute("data-sm-t-700")||e.hasAttribute("data-sm-t-800")||e.hasAttribute("data-sm-t-900")||e.hasAttribute("data-sm-t-1000")||e.hasAttribute("data-sm-t-1100")||e.hasAttribute("data-sm-t-1200")||e.hasAttribute("data-sm-t-1300")||e.hasAttribute("data-sm-t-1400")||e.hasAttribute("data-sm-t-1500")||e.hasAttribute("data-sm-t-1600")||e.hasAttribute("data-sm-t-1700")||e.hasAttribute("data-sm-t-1800")||e.hasAttribute("data-sm-t-1900")||e.hasAttribute("data-sm-t-2000")||e.hasAttribute("data-sm-t-2100")||e.hasAttribute("data-sm-t-2200")||e.hasAttribute("data-sm-t-2300")||e.hasAttribute("data-sm-t-2400")||e.hasAttribute("data-sm-t-2500")||e.hasAttribute("data-sm-t-2600")||e.hasAttribute("data-sm-t-2700")||e.hasAttribute("data-sm-t-2800")?e.setAttribute("data-sm",""):e.removeAttribute("data-sm"),e.hasAttribute("data-md-t")||e.hasAttribute("data-md-t-100")||e.hasAttribute("data-md-t-200")||e.hasAttribute("data-md-t-300")||e.hasAttribute("data-md-t-400")||e.hasAttribute("data-md-t-500")||e.hasAttribute("data-md-t-600")||e.hasAttribute("data-md-t-700")||e.hasAttribute("data-md-t-800")||e.hasAttribute("data-md-t-900")||e.hasAttribute("data-md-t-1000")||e.hasAttribute("data-md-t-1100")||e.hasAttribute("data-md-t-1200")||e.hasAttribute("data-md-t-1300")||e.hasAttribute("data-md-t-1400")||e.hasAttribute("data-md-t-1500")||e.hasAttribute("data-md-t-1600")||e.hasAttribute("data-md-t-1700")||e.hasAttribute("data-md-t-1800")||e.hasAttribute("data-md-t-1900")||e.hasAttribute("data-md-t-2000")||e.hasAttribute("data-md-t-2100")||e.hasAttribute("data-md-t-2200")||e.hasAttribute("data-md-t-2300")||e.hasAttribute("data-md-t-2400")||e.hasAttribute("data-md-t-2500")||e.hasAttribute("data-md-t-2600")||e.hasAttribute("data-md-t-2700")||e.hasAttribute("data-md-t-2800")?e.setAttribute("data-md",""):e.removeAttribute("data-md"),e.hasAttribute("data-lg-t")||e.hasAttribute("data-lg-t-100")||e.hasAttribute("data-lg-t-200")||e.hasAttribute("data-lg-t-300")||e.hasAttribute("data-lg-t-400")||e.hasAttribute("data-lg-t-500")||e.hasAttribute("data-lg-t-600")||e.hasAttribute("data-lg-t-700")||e.hasAttribute("data-lg-t-800")||e.hasAttribute("data-lg-t-900")||e.hasAttribute("data-lg-t-1000")||e.hasAttribute("data-lg-t-1100")||e.hasAttribute("data-lg-t-1200")||e.hasAttribute("data-lg-t-1300")||e.hasAttribute("data-lg-t-1400")||e.hasAttribute("data-lg-t-1500")||e.hasAttribute("data-lg-t-1600")||e.hasAttribute("data-lg-t-1700")||e.hasAttribute("data-lg-t-1800")||e.hasAttribute("data-lg-t-1900")||e.hasAttribute("data-lg-t-2000")||e.hasAttribute("data-lg-t-2100")||e.hasAttribute("data-lg-t-2200")||e.hasAttribute("data-lg-t-2300")||e.hasAttribute("data-lg-t-2400")||e.hasAttribute("data-lg-t-2500")||e.hasAttribute("data-lg-t-2600")||e.hasAttribute("data-lg-t-2700")||e.hasAttribute("data-lg-t-2800")?e.setAttribute("data-lg",""):e.removeAttribute("data-lg"),e.hasAttribute("data-xl-t")||e.hasAttribute("data-xl-t-100")||e.hasAttribute("data-xl-t-200")||e.hasAttribute("data-xl-t-300")||e.hasAttribute("data-xl-t-400")||e.hasAttribute("data-xl-t-500")||e.hasAttribute("data-xl-t-600")||e.hasAttribute("data-xl-t-700")||e.hasAttribute("data-xl-t-800")||e.hasAttribute("data-xl-t-900")||e.hasAttribute("data-xl-t-1000")||e.hasAttribute("data-xl-t-1100")||e.hasAttribute("data-xl-t-1200")||e.hasAttribute("data-xl-t-1300")||e.hasAttribute("data-xl-t-1400")||e.hasAttribute("data-xl-t-1500")||e.hasAttribute("data-xl-t-1600")||e.hasAttribute("data-xl-t-1700")||e.hasAttribute("data-xl-t-1800")||e.hasAttribute("data-xl-t-1900")||e.hasAttribute("data-xl-t-2000")||e.hasAttribute("data-xl-t-2100")||e.hasAttribute("data-xl-t-2200")||e.hasAttribute("data-xl-t-2300")||e.hasAttribute("data-xl-t-2400")||e.hasAttribute("data-xl-t-2500")||e.hasAttribute("data-xl-t-2600")||e.hasAttribute("data-xl-t-2700")||e.hasAttribute("data-xl-t-2800")?e.setAttribute("data-xl",""):e.removeAttribute("data-xl");const Ui=this.modalTimeline.querySelector(".cmd-anim-origin.on");if(Ui){let t=Ui.getAttribute("data-value");e.style.transformOrigin=t}this.modalTimeline.querySelector(".cmd-disable-smoothanim").classList.contains("on")?e.setAttribute("data-smooth-scrolling","off"):e.removeAttribute("data-smooth-scrolling");this.modalTimeline.querySelector(".cmd-hidden-onstart").classList.contains("on")?e.setAttribute("data-hidden-onstart",""):e.removeAttribute("data-hidden-onstart"),this.builder.win.skrollrr&&this.builder.win.skrollrr.refresh(),this.builder.settings.onChange()}cleanup(e,t){let i=this.getDevice();e.removeAttribute("data-hidden-onstart"),t?(e.removeAttribute("data-xs"),e.removeAttribute("data-xs-t"),e.removeAttribute("data-xs-t-100"),e.removeAttribute("data-xs-t-200"),e.removeAttribute("data-xs-t-300"),e.removeAttribute("data-xs-t-400"),e.removeAttribute("data-xs-t-500"),e.removeAttribute("data-xs-t-600"),e.removeAttribute("data-xs-t-700"),e.removeAttribute("data-xs-t-800"),e.removeAttribute("data-xs-t-900"),e.removeAttribute("data-xs-t-1000"),e.removeAttribute("data-xs-t-1100"),e.removeAttribute("data-xs-t-1200"),e.removeAttribute("data-xs-t-1300"),e.removeAttribute("data-xs-t-1400"),e.removeAttribute("data-xs-t-1500"),e.removeAttribute("data-xs-t-1600"),e.removeAttribute("data-xs-t-1700"),e.removeAttribute("data-xs-t-1800"),e.removeAttribute("data-xs-t-1900"),e.removeAttribute("data-xs-t-2000"),e.removeAttribute("data-xs-t-2100"),e.removeAttribute("data-xs-t-2200"),e.removeAttribute("data-xs-t-2300"),e.removeAttribute("data-xs-t-2400"),e.removeAttribute("data-xs-t-2500"),e.removeAttribute("data-xs-t-2600"),e.removeAttribute("data-xs-t-2700"),e.removeAttribute("data-xs-t-2800"),e.removeAttribute("data-sm"),e.removeAttribute("data-sm-t"),e.removeAttribute("data-sm-t-100"),e.removeAttribute("data-sm-t-200"),e.removeAttribute("data-sm-t-300"),e.removeAttribute("data-sm-t-400"),e.removeAttribute("data-sm-t-500"),e.removeAttribute("data-sm-t-600"),e.removeAttribute("data-sm-t-700"),e.removeAttribute("data-sm-t-800"),e.removeAttribute("data-sm-t-900"),e.removeAttribute("data-sm-t-1000"),e.removeAttribute("data-sm-t-1100"),e.removeAttribute("data-sm-t-1200"),e.removeAttribute("data-sm-t-1300"),e.removeAttribute("data-sm-t-1400"),e.removeAttribute("data-sm-t-1500"),e.removeAttribute("data-sm-t-1600"),e.removeAttribute("data-sm-t-1700"),e.removeAttribute("data-sm-t-1800"),e.removeAttribute("data-sm-t-1900"),e.removeAttribute("data-sm-t-2000"),e.removeAttribute("data-sm-t-2100"),e.removeAttribute("data-sm-t-2200"),e.removeAttribute("data-sm-t-2300"),e.removeAttribute("data-sm-t-2400"),e.removeAttribute("data-sm-t-2500"),e.removeAttribute("data-sm-t-2600"),e.removeAttribute("data-sm-t-2700"),e.removeAttribute("data-sm-t-2800"),e.removeAttribute("data-md"),e.removeAttribute("data-md-t"),e.removeAttribute("data-md-t-100"),e.removeAttribute("data-md-t-200"),e.removeAttribute("data-md-t-300"),e.removeAttribute("data-md-t-400"),e.removeAttribute("data-md-t-500"),e.removeAttribute("data-md-t-600"),e.removeAttribute("data-md-t-700"),e.removeAttribute("data-md-t-800"),e.removeAttribute("data-md-t-900"),e.removeAttribute("data-md-t-1000"),e.removeAttribute("data-md-t-1100"),e.removeAttribute("data-md-t-1200"),e.removeAttribute("data-md-t-1300"),e.removeAttribute("data-md-t-1400"),e.removeAttribute("data-md-t-1500"),e.removeAttribute("data-md-t-1600"),e.removeAttribute("data-md-t-1700"),e.removeAttribute("data-md-t-1800"),e.removeAttribute("data-md-t-1900"),e.removeAttribute("data-md-t-2000"),e.removeAttribute("data-md-t-2100"),e.removeAttribute("data-md-t-2200"),e.removeAttribute("data-md-t-2300"),e.removeAttribute("data-md-t-2400"),e.removeAttribute("data-md-t-2500"),e.removeAttribute("data-md-t-2600"),e.removeAttribute("data-md-t-2700"),e.removeAttribute("data-md-t-2800"),e.removeAttribute("data-t"),e.removeAttribute("data-t-100"),e.removeAttribute("data-t-200"),e.removeAttribute("data-t-300"),e.removeAttribute("data-t-400"),e.removeAttribute("data-t-500"),e.removeAttribute("data-t-600"),e.removeAttribute("data-t-700"),e.removeAttribute("data-t-800"),e.removeAttribute("data-t-900"),e.removeAttribute("data-t-1000"),e.removeAttribute("data-t-1100"),e.removeAttribute("data-t-1200"),e.removeAttribute("data-t-1300"),e.removeAttribute("data-t-1400"),e.removeAttribute("data-t-1500"),e.removeAttribute("data-t-1600"),e.removeAttribute("data-t-1700"),e.removeAttribute("data-t-1800"),e.removeAttribute("data-t-1900"),e.removeAttribute("data-t-2000"),e.removeAttribute("data-t-2100"),e.removeAttribute("data-t-2200"),e.removeAttribute("data-t-2300"),e.removeAttribute("data-t-2400"),e.removeAttribute("data-t-2500"),e.removeAttribute("data-t-2600"),e.removeAttribute("data-t-2700"),e.removeAttribute("data-t-2800")):"xs"===i?(e.removeAttribute("data-xs"),e.removeAttribute("data-xs-t"),e.removeAttribute("data-xs-t-100"),e.removeAttribute("data-xs-t-200"),e.removeAttribute("data-xs-t-300"),e.removeAttribute("data-xs-t-400"),e.removeAttribute("data-xs-t-500"),e.removeAttribute("data-xs-t-600"),e.removeAttribute("data-xs-t-700"),e.removeAttribute("data-xs-t-800"),e.removeAttribute("data-xs-t-900"),e.removeAttribute("data-xs-t-1000"),e.removeAttribute("data-xs-t-1100"),e.removeAttribute("data-xs-t-1200"),e.removeAttribute("data-xs-t-1300"),e.removeAttribute("data-xs-t-1400"),e.removeAttribute("data-xs-t-1500"),e.removeAttribute("data-xs-t-1600"),e.removeAttribute("data-xs-t-1700"),e.removeAttribute("data-xs-t-1800"),e.removeAttribute("data-xs-t-1900"),e.removeAttribute("data-xs-t-2000"),e.removeAttribute("data-xs-t-2100"),e.removeAttribute("data-xs-t-2200"),e.removeAttribute("data-xs-t-2300"),e.removeAttribute("data-xs-t-2400"),e.removeAttribute("data-xs-t-2500"),e.removeAttribute("data-xs-t-2600"),e.removeAttribute("data-xs-t-2700"),e.removeAttribute("data-xs-t-2800")):"sm"===i?(e.removeAttribute("data-sm"),e.removeAttribute("data-sm-t"),e.removeAttribute("data-sm-t-100"),e.removeAttribute("data-sm-t-200"),e.removeAttribute("data-sm-t-300"),e.removeAttribute("data-sm-t-400"),e.removeAttribute("data-sm-t-500"),e.removeAttribute("data-sm-t-600"),e.removeAttribute("data-sm-t-700"),e.removeAttribute("data-sm-t-800"),e.removeAttribute("data-sm-t-900"),e.removeAttribute("data-sm-t-1000"),e.removeAttribute("data-sm-t-1100"),e.removeAttribute("data-sm-t-1200"),e.removeAttribute("data-sm-t-1300"),e.removeAttribute("data-sm-t-1400"),e.removeAttribute("data-sm-t-1500"),e.removeAttribute("data-sm-t-1600"),e.removeAttribute("data-sm-t-1700"),e.removeAttribute("data-sm-t-1800"),e.removeAttribute("data-sm-t-1900"),e.removeAttribute("data-sm-t-2000"),e.removeAttribute("data-sm-t-2100"),e.removeAttribute("data-sm-t-2200"),e.removeAttribute("data-sm-t-2300"),e.removeAttribute("data-sm-t-2400"),e.removeAttribute("data-sm-t-2500"),e.removeAttribute("data-sm-t-2600"),e.removeAttribute("data-sm-t-2700"),e.removeAttribute("data-sm-t-2800")):"md"===i?(e.removeAttribute("data-md"),e.removeAttribute("data-md-t"),e.removeAttribute("data-md-t-100"),e.removeAttribute("data-md-t-200"),e.removeAttribute("data-md-t-300"),e.removeAttribute("data-md-t-400"),e.removeAttribute("data-md-t-500"),e.removeAttribute("data-md-t-600"),e.removeAttribute("data-md-t-700"),e.removeAttribute("data-md-t-800"),e.removeAttribute("data-md-t-900"),e.removeAttribute("data-md-t-1000"),e.removeAttribute("data-md-t-1100"),e.removeAttribute("data-md-t-1200"),e.removeAttribute("data-md-t-1300"),e.removeAttribute("data-md-t-1400"),e.removeAttribute("data-md-t-1500"),e.removeAttribute("data-md-t-1600"),e.removeAttribute("data-md-t-1700"),e.removeAttribute("data-md-t-1800"),e.removeAttribute("data-md-t-1900"),e.removeAttribute("data-md-t-2000"),e.removeAttribute("data-md-t-2100"),e.removeAttribute("data-md-t-2200"),e.removeAttribute("data-md-t-2300"),e.removeAttribute("data-md-t-2400"),e.removeAttribute("data-md-t-2500"),e.removeAttribute("data-md-t-2600"),e.removeAttribute("data-md-t-2700"),e.removeAttribute("data-md-t-2800")):(e.removeAttribute("data-t"),e.removeAttribute("data-t-100"),e.removeAttribute("data-t-200"),e.removeAttribute("data-t-300"),e.removeAttribute("data-t-400"),e.removeAttribute("data-t-500"),e.removeAttribute("data-t-600"),e.removeAttribute("data-t-700"),e.removeAttribute("data-t-800"),e.removeAttribute("data-t-900"),e.removeAttribute("data-t-1000"),e.removeAttribute("data-t-1100"),e.removeAttribute("data-t-1200"),e.removeAttribute("data-t-1300"),e.removeAttribute("data-t-1400"),e.removeAttribute("data-t-1500"),e.removeAttribute("data-t-1600"),e.removeAttribute("data-t-1700"),e.removeAttribute("data-t-1800"),e.removeAttribute("data-t-1900"),e.removeAttribute("data-t-2000"),e.removeAttribute("data-t-2100"),e.removeAttribute("data-t-2200"),e.removeAttribute("data-t-2300"),e.removeAttribute("data-t-2400"),e.removeAttribute("data-t-2500"),e.removeAttribute("data-t-2600"),e.removeAttribute("data-t-2700"),e.removeAttribute("data-t-2800")),this.builder.animateScroll.cleanup(e),this.builder.animateScroll.cleanup_leave(e),this.builder.animateScroll.cleanup_timeline(e)}getDevice(){return this.modalTimeline.querySelector(".input-device.on").getAttribute("data-value")}getTarget(){let e,t=this.modalTimeline.querySelector(".input-target").value;if("element"===t){let t=this.readTarget();t?("element"===t.name&&(e=this.builder.editor.activeElement),e="inspectedElement"===t.name?this.builder.editor.inspectedElement:this.builder.editor.activeElement):e=this.builder.editor.activeElement}if("column"===t&&(e=this.builder.editor.activeCol),"row"===t){let t=this.builder.editor.activeCol;t&&(e=t.parentNode)}if("container"===t){let t=this.builder.editor.activeCol;t&&(e=t.parentNode.parentNode)}if("overlay"===t){let t;const i=this.builder.doc.querySelector(".box-select");i&&(t=i.querySelector(".is-overlay")),t&&(e=t)}if("bg"===t){let t;const i=this.builder.doc.querySelector(".box-select");i&&(t=i.querySelector(".is-overlay-bg")),t&&(e=t)}if("box"===t){const t=this.builder.doc.querySelector(".box-select");t&&(e=t)}if("section"===t){const t=this.builder.doc.querySelector(".section-select");t&&(e=t)}return{element:e||!1,name:t||!1}}readTarget(e){if(!e){let e,t,i,n=this.builder.editor.inspectedElement;return n?(e=n.getAttribute("data-bottom-top"),e||(e=n.getAttribute("data-400-bottom")),e||(e=n.getAttribute("data-200-bottom")),e||(e=n.getAttribute("data--50-bottom")),t=n.getAttribute("data-top-bottom"),i=n.getAttribute("data-in"),i||(i=n.getAttribute("data-in-150")),i||(i=n.getAttribute("data-in-300")),i||(i=n.getAttribute("data-cen--150")),i||(i=n.getAttribute("data-cen")),i||(i=n.getAttribute("data-cen-150")),i||(i=n.getAttribute("data-out--300")),i||(i=n.getAttribute("data-out--150")),i||(i=n.getAttribute("data-out")),e||t||i||n.hasAttribute("data-t")||n.hasAttribute("data-t-100")||n.hasAttribute("data-t-200")||n.hasAttribute("data-t-300")||n.hasAttribute("data-t-400")||n.hasAttribute("data-t-500")||n.hasAttribute("data-t-600")||n.hasAttribute("data-t-700")||n.hasAttribute("data-t-800")||n.hasAttribute("data-t-900")||n.hasAttribute("data-t-1000")||n.hasAttribute("data-t-1100")||n.hasAttribute("data-t-1200")||n.hasAttribute("data-t-1300")||n.hasAttribute("data-t-1400")||n.hasAttribute("data-t-1500")||n.hasAttribute("data-t-1600")||n.hasAttribute("data-t-1700")||n.hasAttribute("data-t-1800")||n.hasAttribute("data-t-1900")||n.hasAttribute("data-t-2000")||n.hasAttribute("data-t-2100")||n.hasAttribute("data-t-2200")||n.hasAttribute("data-t-2300")||n.hasAttribute("data-t-2400")||n.hasAttribute("data-t-2500")||n.hasAttribute("data-t-2600")||n.hasAttribute("data-t-2700")||n.hasAttribute("data-t-2800")?{element:n,name:"inspectedElement"}:this.readTarget("element")):this.readTarget("bg")}{let t,i,n,s;if("element"===e&&(t=this.builder.editor.activeElement),"column"===e&&(t=this.builder.editor.activeCol),"row"===e&&this.builder.editor.activeCol&&(t=this.builder.editor.activeCol.parentNode),"container"===e&&this.builder.editor.activeCol&&(t=this.builder.editor.activeCol.parentNode.parentNode),"bg"===e){let e;const i=this.builder.doc.querySelector(".box-select");i&&(e=i.querySelector(".is-overlay-bg")),e&&(t=e)}if("overlay"===e){let e;const i=this.builder.doc.querySelector(".box-select");i&&(e=i.querySelector(".is-overlay")),e&&(t=e)}if("box"===e){const e=this.builder.doc.querySelector(".box-select");e&&(t=e)}if("section"===e){const e=this.builder.doc.querySelector(".section-select");e&&(t=e)}if(!t){if("element"===e)return this.readTarget("column");if("column"===e)return this.readTarget("row");if("row"===e)return this.readTarget("container");if("container"===e)return this.readTarget("bg");if("bg"===e)return this.readTarget("overlay");if("overlay"===e)return this.readTarget("box");if("box"===e)return this.readTarget("section");if("section"===e)return!1}if(i=t.getAttribute("data-bottom-top"),i||(i=t.getAttribute("data-400-bottom")),i||(i=t.getAttribute("data-200-bottom")),i||(i=t.getAttribute("data--50-bottom")),n=t.getAttribute("data-top-bottom"),s=t.getAttribute("data-in"),s||(s=t.getAttribute("data-in-150")),s||(s=t.getAttribute("data-in-300")),s||(s=t.getAttribute("data-cen--150")),s||(s=t.getAttribute("data-cen")),s||(s=t.getAttribute("data-cen-150")),s||(s=t.getAttribute("data-out--300")),s||(s=t.getAttribute("data-out--150")),s||(s=t.getAttribute("data-out")),i||n||s||t.hasAttribute("data-t")||t.hasAttribute("data-t-100")||t.hasAttribute("data-t-200")||t.hasAttribute("data-t-300")||t.hasAttribute("data-t-400")||t.hasAttribute("data-t-500")||t.hasAttribute("data-t-600")||t.hasAttribute("data-t-700")||t.hasAttribute("data-t-800")||t.hasAttribute("data-t-900")||t.hasAttribute("data-t-1000")||t.hasAttribute("data-t-1100")||t.hasAttribute("data-t-1200")||t.hasAttribute("data-t-1300")||t.hasAttribute("data-t-1400")||t.hasAttribute("data-t-1500")||t.hasAttribute("data-t-1600")||t.hasAttribute("data-t-1700")||t.hasAttribute("data-t-1800")||t.hasAttribute("data-t-1900")||t.hasAttribute("data-t-2000")||t.hasAttribute("data-t-2100")||t.hasAttribute("data-t-2200")||t.hasAttribute("data-t-2300")||t.hasAttribute("data-t-2400")||t.hasAttribute("data-t-2500")||t.hasAttribute("data-t-2600")||t.hasAttribute("data-t-2700")||t.hasAttribute("data-t-2800"))return{element:t,name:e};if("element"===e)return this.readTarget("column");if("column"===e)return this.readTarget("row");if("row"===e)return this.readTarget("container");if("container"===e)return this.readTarget("bg");if("bg"===e)return this.readTarget("overlay");if("overlay"===e)return this.readTarget("box");if("box"===e)return this.readTarget("section");if("section"===e)return!1}}getTransform(e,t){let i,n,s,o,a=this.parseComplexStyleProperty(t);a.translateX&&(i=a.translateX[0]),a.translateY&&(n=a.translateY[0]),a.scale&&(s=a.scale[0]),a.rotate&&(o=a.rotate[0]);let l=e.style.opacity;return{translateX:i||!1,translateY:n||!1,scale:s||!1,rotate:!!o&&o.replace("deg",""),opacity:l||!1}}parseComplexStyleProperty(e){for(var t,i=/(\w+)\((.+?)\)/g,n={};t=i.exec(e);)n[t[1]]=n[t[1]]?n[t[1]].concat([t[2]]):[t[2]];return n}edit(){this.builder.wrapperEl.classList.add("hard-select"),this.builder.activeBox&&this.builder.activeBox.classList.add("box-select"),this.builder.activeSection&&this.builder.activeSection.classList.add("section-select"),this.builder.sidebar.closeSidebar(),this.builder.animateScroll.modalAnimateScroll.classList.remove("active"),this.modalTimeline.classList.add("active"),this.builder.doc.body.classList.add("selection-only"),document.body.classList.add("selection-only");this.builderStuff.querySelector(".editbox").style.display="";this.builderStuff.querySelector(".editsection").style.display="",localStorage.setItem("_timelinewindow","1")}close(){this.modalTimeline.classList.remove("active"),this.builder.doc.body.classList.remove("selection-only"),document.body.classList.remove("selection-only"),localStorage.removeItem("_timelinewindow")}}class fy{constructor(e){this.builder=e}getPageTemplate(e){let t="";return t=""===e?'\n            <!DOCTYPE html>\n            <html lang="en">\n            <head>\n                <meta charset="utf-8">\n                <title>Page</title>\n                <meta name="viewport" content="width=device-width, initial-scale=1">\n                <meta name="description" content="">\n                <link rel="shortcut icon" href="#">\n                \n                <link href="[%PATH%]/assets/minimalist-blocks/content.css" rel="stylesheet"> \n                <link href="[%PATH%]/box/box-flex.css" rel="stylesheet">\n    \n                [%MAINCSS%]\n                [%SECTIONCSS%]\n            </head>\n            <body style="touch-action: pan-y">\n                \n            <main id="main">\n                <div class="is-wrapper">\n                    [%CONTENT%]\n                </div>\n            </main>\n            \n            <link href="[%PATH%]/assets/scripts/glide/css/glide.core.css" rel="stylesheet">\n            <link href="[%PATH%]/assets/scripts/glide/css/glide.theme.css" rel="stylesheet">\n            <script src="[%PATH%]/assets/scripts/glide/glide.js"><\/script>\n    \n            <link href="[%PATH%]/assets/scripts/navbar/navbar.css" rel="stylesheet">\n            <script src="[%PATH%]/assets/scripts/navbar/navbar.min.js"><\/script>\n    \n            <script src="[%PATH%]/box/box-flex.js"><\/script>\n    \n            \x3c!-- Optional: if you want to add smooth scrolling --\x3e\n            <script src="https://cdnjs.cloudflare.com/ajax/libs/smoothscroll/1.4.10/SmoothScroll.min.js"><\/script>\n            <script>\n            SmoothScroll({\n                frameRate: 150,\n                animationTime: 800,\n                stepSize: 120,\n                pulseAlgorithm: 1,\n                pulseScale: 4,\n                pulseNormalize: 1,\n                accelerationDelta: 300,\n                accelerationMax: 2,\n                keyboardSupport: 1,\n                arrowScroll: 50,\n                fixedBackground: 0\n            });\n            <\/script>\n            </body>\n            </html>\n            ':"tailwind"===e?'\n            <!DOCTYPE html>\n            <html lang="en">\n            <head>\n                <meta charset="utf-8">\n                <title>Page</title>\n                <meta name="viewport" content="width=device-width, initial-scale=1">\n                <meta name="description" content="">\n                <link rel="shortcut icon" href="#">\n                \n                <link href="[%PATH%]/assets/minimalist-blocks/content-tailwind.css" rel="stylesheet"> \n                <link href="[%PATH%]/box/box-flex.css" rel="stylesheet">\n                <link href="[%PATH%]/assets/frameworks/tailwindcss/styles.css" rel="stylesheet"> \n\n                [%MAINCSS%]\n                [%SECTIONCSS%]\n            </head>\n            <body style="touch-action: pan-y">\n                \n            <main id="main">\n                <div class="is-wrapper">\n                    [%CONTENT%]\n                </div>\n            </main>\n            \n            <link href="[%PATH%]/assets/scripts/glide/css/glide.core.css" rel="stylesheet">\n            <link href="[%PATH%]/assets/scripts/glide/css/glide.theme.css" rel="stylesheet">\n            <script src="[%PATH%]/assets/scripts/glide/glide.js"><\/script>\n\n            <link href="[%PATH%]/assets/scripts/navbar/navbar.css" rel="stylesheet">\n            <script src="[%PATH%]/assets/scripts/navbar/navbar.min.js"><\/script>\n\n            <script src="[%PATH%]/box/box-flex.js"><\/script>\n\n            \x3c!-- Optional: if you want to add smooth scrolling --\x3e\n            <script src="https://cdnjs.cloudflare.com/ajax/libs/smoothscroll/1.4.10/SmoothScroll.min.js"><\/script>\n            <script>\n            SmoothScroll({\n                frameRate: 150,\n                animationTime: 800,\n                stepSize: 120,\n                pulseAlgorithm: 1,\n                pulseScale: 4,\n                pulseNormalize: 1,\n                accelerationDelta: 300,\n                accelerationMax: 2,\n                keyboardSupport: 1,\n                arrowScroll: 50,\n                fixedBackground: 0\n            });\n            <\/script>\n            </body>\n            </html>\n            ':"bootstrap"===e?'\n            <!DOCTYPE html>\n            <html lang="en">\n            <head>\n                <meta charset="utf-8">\n                <title>Page</title>\n                <meta name="viewport" content="width=device-width, initial-scale=1">\n                <meta name="description" content="">\n                <link rel="shortcut icon" href="#">\n                \n                <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" rel="stylesheet">       \n                <style>\n                    /* Bootstrap css adjustment to enable column drag to resize */\n                    .row > *,\n                    .column {\n                        max-width: unset !important;\n                    }\n                    /* To fix on <1440 (for example), with max-width unset, columns get flowing */\n                    @media (min-width: 768px) {\n                        .row {\n                            flex-wrap: nowrap;\n                        }\n                    }\n                </style>\n                \n                <link href="[%PATH%]/assets/minimalist-blocks/content.css" rel="stylesheet"> \n                <link href="[%PATH%]/box/box-flex.css" rel="stylesheet">\n                \n                [%MAINCSS%]\n                [%SECTIONCSS%]\n            </head>\n            <body style="touch-action: pan-y">\n                \n            <main id="main">\n                <div class="is-wrapper">\n                    [%CONTENT%]\n                </div>\n            </main>\n            \n            <link href="[%PATH%]/assets/scripts/glide/css/glide.core.css" rel="stylesheet">\n            <link href="[%PATH%]/assets/scripts/glide/css/glide.theme.css" rel="stylesheet">\n            <script src="[%PATH%]/assets/scripts/glide/glide.js"><\/script>\n\n            <link href="[%PATH%]/assets/scripts/navbar/navbar.css" rel="stylesheet">\n            <script src="[%PATH%]/assets/scripts/navbar/navbar.min.js"><\/script>\n\n            <script src="[%PATH%]/box/box-flex.js"><\/script>\n\n            \x3c!-- Optional: if you want to add smooth scrolling --\x3e\n            <script src="https://cdnjs.cloudflare.com/ajax/libs/smoothscroll/1.4.10/SmoothScroll.min.js"><\/script>\n            <script>\n            SmoothScroll({\n                frameRate: 150,\n                animationTime: 800,\n                stepSize: 120,\n                pulseAlgorithm: 1,\n                pulseScale: 4,\n                pulseNormalize: 1,\n                accelerationDelta: 300,\n                accelerationMax: 2,\n                keyboardSupport: 1,\n                arrowScroll: 50,\n                fixedBackground: 0\n            });\n            <\/script>\n            </body>\n            </html>\n            ':"foundation"===e?'\n            <!DOCTYPE html>\n            <html lang="en">\n            <head>\n                <meta charset="utf-8">\n                <title>Page</title>\n                <meta name="viewport" content="width=device-width, initial-scale=1">\n                <meta name="description" content="">\n                <link rel="shortcut icon" href="#">\n\n                <link href="https://cdnjs.cloudflare.com/ajax/libs/foundation/6.5.3/css/foundation.min.css" rel="stylesheet" >\n                <link href="https://cdnjs.cloudflare.com/ajax/libs/foundation/6.5.3/css/foundation-float.min.css" rel="stylesheet" >     \n\n                <link href="[%PATH%]/assets/minimalist-blocks/content.css" rel="stylesheet"> \n                <link href="[%PATH%]/box/box-flex.css" rel="stylesheet">\n                \n                [%MAINCSS%]\n                [%SECTIONCSS%]\n            </head>\n            <body style="touch-action: pan-y">\n                \n            <main id="main">\n                <div class="is-wrapper">\n                    [%CONTENT%]\n                </div>\n            </main>\n            \n            <link href="[%PATH%]/assets/scripts/glide/css/glide.core.css" rel="stylesheet">\n            <link href="[%PATH%]/assets/scripts/glide/css/glide.theme.css" rel="stylesheet">\n            <script src="[%PATH%]/assets/scripts/glide/glide.js"><\/script>\n\n            <link href="[%PATH%]/assets/scripts/navbar/navbar.css" rel="stylesheet">\n            <script src="[%PATH%]/assets/scripts/navbar/navbar.min.js"><\/script>\n\n            <script src="[%PATH%]/box/box-flex.js"><\/script>\n\n            \x3c!-- Optional: if you want to add smooth scrolling --\x3e\n            <script src="https://cdnjs.cloudflare.com/ajax/libs/smoothscroll/1.4.10/SmoothScroll.min.js"><\/script>\n            <script>\n            SmoothScroll({\n                frameRate: 150,\n                animationTime: 800,\n                stepSize: 120,\n                pulseAlgorithm: 1,\n                pulseScale: 4,\n                pulseNormalize: 1,\n                accelerationDelta: 300,\n                accelerationMax: 2,\n                keyboardSupport: 1,\n                arrowScroll: 50,\n                fixedBackground: 0\n            });\n            <\/script>\n            </body>\n            </html>\n            ':"[%CONTENT%]",t}}const vy={new_section_with_list:'\nTo create a section with a list:\n- Use the example below as a template.\n- Replace all the text in the example with the requested content.\n- For 3 list items, use 3 columns in a row. For 2 or 4 list items, use 2 columns per row.\n    \nExample:\n\n<div class="is-section is-box is-section-100 box-autofit type-poppins-lekton">\n    <div class="is-overlay"></div>\n    <div class="is-container v2 size-18 leading-12 is-content-1200">\n        <div class="row">\n            <div class="column">\n                <h2 class="font-medium size-60">Title here</h2>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                <div class="spacer height-60"></div>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                <h3 class="size-28 font-normal">Point One</h3>\n                <div class="spacer height-20"></div>\n                <p>Paragraph content here</p>\n            </div>\n            <div class="column">\n                <h3 class="size-28 font-normal">Point Two</h3>\n                <div class="spacer height-20"></div>\n                <p>Paragraph content here</p>\n            </div>\n        </div>\n\n        <div class="row">\n            <div class="column">\n                <div class="spacer height-40"></div>\n            </div>\n        </div>\n\n        <div class="row">\n            <div class="column">\n                <h3 class="size-28 font-normal">Point Three</h3>\n                <div class="spacer height-20"></div>\n                <p>Paragraph content here</p>\n            </div>\n            <div class="column">\n                <h3 class="size-28 font-normal">Point Four</h3>\n                <div class="spacer height-20"></div>\n                <p>Paragraph content here</p>\n            </div>\n        </div>\n\n    </div>\n</div>\n\n',new_section_with_list_numbering:['\nTo create a section with a list and numbering:\n- Use the example below as a template.\n- Replace all the text in the example with the requested content.\n- For 3 list items, use 3 columns in a row. For 2 or 4 list items, use 2 columns per row.\n\nExample:\n\n<div class="is-section is-section-100 is-box type-poppins-lekton box-autofit">\n    <div class="is-overlay"></div>\n    <div class="is-container v2 leading-13 size-19 is-content-1540">\n        <div class="row">\n            <div class="xs-hidden column">\n                <div class="spacer height-60"></div>\n            </div>\n            <div class="column" style="width: 50%; flex: 0 0 auto;">\n                <h1 class="text-center tracking-tight size-50 leading-none">Title Here</h1>\n            </div>\n            <div class="xs-hidden column">\n                <div class="spacer height-60"></div>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                <div class="spacer height-140"></div>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column text-center">\n                <p class="size-32 font-medium">1.</p>\n                <h3 class="tracking-75 text-center size-21 font-normal">First Highlight</h3>\n                <p class="text-center">Experience the power of innovative designs.</p>\n            </div>\n            <div class="column">\n                <p class="size-32 font-medium text-center">2.</p>\n                <h3 class="tracking-75 text-center size-21 font-normal">Second Highlight</h3>\n                <p class="text-center">Discover the magic of exceptional creativity.</p>\n            </div>\n            <div class="column">\n                <p class="text-center size-32 font-medium">3.</p>\n                <h3 class="tracking-75 text-center size-21 font-normal">Third Highlight</h3>\n                <p class="text-center">Unleash your imagination with outstanding designs.</p>\n            </div>\n        </div>\n        <div class="row">\n            <div class="xs-hidden column">\n                <div class="spacer height-100"></div>\n            </div>\n        </div>\n    </div>\n</div>\n\n','\nTo create a section with a list and numbering:\n- Use the example below as a template.\n- Replace all the text in the example with the requested content.\n- For 3 list items, use 3 columns in a row. For 2 or 4 list items, use 2 columns per row.\n\nExample:\n\n<div class="is-section is-section-100 is-box box-autofit type-poppins-lekton">\n    <div class="is-overlay"></div>\n    <div class="is-container v2 is-content-1540 size-19 leading-13">\n        <div class="row">\n            <div class="column">\n                <h1 class="tracking-tight size-50 text-left">Title Here</h1>\n            </div>\n            <div class="xs-hidden column">\n                <div class="spacer height-60"></div>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                <div class="spacer height-120"></div>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                <p class="size-76">01</p>\n                <div class="spacer height-20"></div>\n                <h3 class="size-24 leading-12 font-normal">First Highlight</h3>\n                <p>Experience the power of innovative designs.&nbsp;</p>\n            </div>\n            <div class="column">\n                <p class="size-76">02</p>\n                <div class="spacer height-20"></div>\n                <h3 class="size-24 leading-12 font-normal">Second Highlight</h3>\n                <p>Discover the magic of exceptional creativity.&nbsp;</p>\n            </div>\n            <div class="column">\n                <p class="size-76">03</p>\n                <div class="spacer height-20"></div>\n                <h3 class="size-24 leading-12 font-normal">Third Highlight</h3>\n                <p>Unleash your imagination with outstanding designs.&nbsp;</p>\n            </div>\n\n        </div>\n    </div>\n</div>\n\n'],new_section_with_list_icons:'\nTo create a section with list icons:\n- Use the example below as a template.\n- For 3 list items, use 3 columns in a row. For 2 or 4 list items, use 2 columns per row.\n- Replace all the text in the example with the requested content.\n        \nExample:\n\n<div class="is-section is-section-100 is-box type-poppins-lekton box-autofit">\n    <div class="is-overlay"></div>\n    <div class="is-container v2 leading-13 size-19 is-content-1540">\n        <div class="row">\n            <div class="xs-hidden column">\n                <div class="spacer height-60"></div>\n            </div>\n            <div class="column" style="width: 50%; flex: 0 0 auto;">\n                <h1 class="text-center tracking-tight size-50 leading-none">Title Here</h1>\n            </div>\n            <div class="xs-hidden column">\n                <div class="spacer height-60"></div>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                <div class="spacer height-80"></div>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                <div class="text-center">\n                    <i class="icon {{ICONCLASS}} size-32"></i>\n                </div>\n                <h3 class="tracking-75 text-center size-21 font-normal">Point One</h3>\n                <p class="text-center">Paragraph content here</p>\n            </div>\n            <div class="column">\n                <div class="text-center">\n                    <i class="icon {{ICONCLASS}} size-32"></i>\n                </div>\n                <h3 class="tracking-75 text-center size-21 font-normal">Point Two</h3>\n                <p class="text-center">Paragraph content here</p>\n            </div>\n            <div class="column">\n                <div class="text-center">\n                    <i class="icon {{ICONCLASS}} size-32"></i>\n                </div>\n                <h3 class="tracking-75 text-center size-21 font-normal">Point Three</h3>\n                <p class="text-center">Paragraph content here</p>\n            </div>\n        </div>\n    </div>\n</div>\n\n- Important: for icons, replace {{ICONCLASS}} with \'ion-checkmark\'.\n\n',new_section_with_list_images:'\nTo create a section with a list of photos or a photo gallery:\n- Use the example below as a template.\n- Images must use this image URL: \'{{_IMAGEURL}}\'. Replace the {{IMAGEURL}} with this URL.\n- Replace all the text in the example with the requested content.\n    \nExample:\n    \n<div class="is-section is-box is-section-100 box-autofit type-poppins-lekton">\n    <div class="is-overlay"></div>\n    <div class="is-container v2 size-19 leading-13 content-pt-60 content-pb-60 is-content-1300">\n        <div class="row">\n            <div class="column">\n                <div class="spacer height-100"></div>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                <h1 class="tracking-tight size-50 text-center">Title Here</h1>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                <div class="spacer height-60"></div>\n            </div>\n        </div>\n        <div class="row relative sm-items-1">\n            <div class="column flex flex-col justify-center items-start py-2">\n                <h2 class="font-normal leading-none size-32">Item One</h2>\n\n                <p>At our web studio, we combine our passion for design, technology, and innovation to build stunning and functional websites that make your brand stand out in the digital world.</p>\n            </div>\n            <div class="column" style="width: 5%; flex: 0 0 auto;">\n                <div class="spacer height-60"></div>\n            </div>\n            <div class="column" style="width: 53%; flex: 0 0 auto;">\n                <img src="{{IMAGEURL}}" alt="">\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                <div class="spacer height-100"></div>\n            </div>\n        </div>\n        <div class="row relative sm-items-1">\n            <div class="column" style="width: 53%; flex: 0 0 auto;">\n                <img src="{{IMAGEURL}}" alt="">\n            </div>\n            <div class="column" style="width: 5%; flex: 0 0 auto;">\n                <div class="spacer height-60"></div>\n            </div>\n            <div class="column flex flex-col justify-center items-start py-2" style="width: 41.9836%; flex: 0 0 auto;">\n                <h2 class="font-normal leading-none size-32">Item Two</h2>\n\n                <p>At our web studio, we combine our passion for design, technology, and innovation to build stunning and functional websites that make your brand stand out in the digital world.</p>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                <div class="spacer height-100"></div>\n            </div>\n        </div>\n    </div>\n</div>\n\n- Important: for images, replace {{IMAGEURL}} with \'{{_IMAGEURL}}\'.\n\n',new_section_with_image:'\nTo create a section: \n- Use the example below as a template.\n- Images must use this image URL: \'{{_IMAGEURL}}\'. Replace the {{IMAGEURL}} with this URL.\n- Replace all the text in the example with the requested content.\n\nExample:\n\n<div class="is-section is-box is-section-100 type-poppins box-autofit">\n    <div class="is-overlay"></div>\n    <div class="is-container v2 is-content-1500 size-19 leading-13">\n        <div class="row relative sm-items-1">\n            <div class="column flex flex-col justify-center items-start py-2">\n                <h1 class="font-normal leading-none size-60">Empowering businesses with AI-integrated web solutions.</h1>\n                <div class="spacer height-40"></div>\n                <p>We are a full-stack web development studio that brings the power of Artificial Intelligence into our web solutions.</p>\n\n                <div class="spacer height-20"></div>\n\n                <div>\n                    <a href="#" role="button" class="transition-all inline-block whitespace-nowrap cursor-pointer no-underline border-2 border-solid mr-2 mb-1 py-2 size-18 px-9 text-black leading-relaxed rounded-full border-transparent hover:border-transparent font-normal tracking-wide mt-3" title="" style="background-color: rgb(240, 240, 240);">Our Works</a>\n                    <a href="#" role="button" class="transition-all inline-block whitespace-nowrap cursor-pointer no-underline border-2 border-solid mr-2 mb-1 py-2 size-18 px-9 border-current hover:border-current font-normal leading-relaxed rounded-full tracking-wide mt-3" title="">Get in Touch</a>\n                </div>\n            </div>\n            <div class="column" style="width: 5%; flex: 0 0 auto;">\n                <div class="spacer height-60"></div>\n            </div>\n            <div class="column" style="width: 53%; flex: 0 0 auto;">\n                <img src="{{IMAGEURL}}" alt="">\n            </div>\n        </div>\n    </div>\n</div>\n\n- Important: for images, replace {{IMAGEURL}} with \'{{_IMAGEURL}}\'.\n\n',new_section_with_gallery:'\nTo create a section with a list of photos or a photo gallery:\n- Use the example below as a template.\n- Images must use this image URL: \'{{_IMAGEURL}}\'. Replace the {{IMAGEURL}} with this URL.\n- Replace all the text in the example with the requested content.\n\nExample:\n\n<div class="is-section is-box is-section-100 box-autofit type-poppins">\n    <div class="is-overlay"></div>\n    <div class="is-container v2 leading-13 is-content-1640 size-16">\n        <div class="row">\n            <div class="column">\n                <h1 class="font-light size-54 leading-none">We deliver extraordinary things.</h1>\n            </div>\n            <div class="column">\n                <div class="spacer height-40"></div>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                <div class="spacer height-80"></div>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column"><img src="{{IMAGEURL}}" alt="" data-filename="img-024.jpg">\n                <h3 class="font-normal leading-11 size-36 size-24">Image title</h3>\n                <p>Paragraph here</p>\n            </div>\n            <div class="column"><img src="{{IMAGEURL}}" alt="" data-filename="img-083.jpg">\n                <h3 class="font-normal leading-11 size-36 size-24">Image title</h3>\n                <p>Paragraph here</p>\n            </div>\n            <div class="column"><img src="{{IMAGEURL}}" alt="" data-filename="img-190.jpg">\n                <h3 class="font-normal leading-11 size-36 size-24">Image title</h3>\n                <p>Paragraph here</p>\n            </div>\n        </div>\n    </div>\n</div>\n\n- Important: for images, replace {{IMAGEURL}} with \'{{_IMAGEURL}}\'.\n\n',new_section:['\nTo create a section: \n- Use the example below as a template.\n- Replace all the text in the example with the requested content.\n\nExample:\n\n<div class="is-section is-box type-poppins box-autofit min-height-60 is-section-100">\n    <div class="is-overlay"></div>\n    <div class="is-container v2 leading-13 size-19 is-content-800 is-content-left edge-x-2">\n        <div class="row">\n            <div class="column">\n                <h1 class="font-normal leading-11 size-64">A forward thinking studio delivering digital solutions that help your business.</h1>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                <div class="spacer height-20"></div>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                <p>Lorem Ipsum is simply dummy text of the printing and typesetting industry.</p>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                <div class="spacer height-20"></div>\n            </div>\n        </div>\n    </div>\n</div>\n\n'],short_content:'This is the template:\n\n<div class="is-section is-box type-poppins box-autofit min-height-60 is-section-100">\n    <div class="is-overlay"></div>\n    <div class="is-container v2 leading-13 size-19 is-content-800 content-pt-60 content-pb-60">\n        <div class="row">\n            <div class="column">\n                <p class="size-32">{{CONTENT}}</p>\n            </div>\n        </div>\n    </div>\n</div>\n    \n',new_section_answer:'This is the template:\n\n<div class="is-section is-box type-poppins box-autofit min-height-60 is-section-100">\n    <div class="is-overlay"></div>\n    <div class="is-container v2 leading-13 size-19 is-content-800 content-pt-60 content-pb-60">\n        <div class="row">\n            <div class="column">\n                <div class="spacer height-100"></div>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                <h1 class="font-normal leading-11 size-64">{{TITLE}}</h1>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                <div class="spacer height-20"></div>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                <p>{{CONTENT}}</p>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                <div class="spacer height-20"></div>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                <h2>{{SUBTITLE}}</h2>\n                <p>{{CONTENT}}</p>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                <div class="spacer height-20"></div>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                <h2>{{SUBTITLE}}</h2>\n                <p>{{CONTENT}}</p>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                <div class="spacer height-20"></div>\n            </div>\n        </div>\n    </div>\n</div>\n\n',new_section_others:'Use one of these templates that is more suitable:\n\n\nTemplate 1: (Suitable for one short paragraph content, a tweet, quick information.)\n\n<div class="is-section is-box type-poppins box-autofit min-height-60 is-section-100">\n    <div class="is-overlay"></div>\n    <div class="is-container v2 leading-13 size-19 is-content-800 content-pt-60 content-pb-60">\n        <div class="row">\n            <div class="column">\n                <p class="size-32">{{CONTENT}}</p>\n            </div>\n        </div>\n    </div>\n</div>\n\nTemplate 2: (Suitable for short content with a title and paragraph content. Ensure that there is a space between the title and the content.)\n\n<div class="is-section is-box type-poppins box-autofit min-height-60 is-section-100">\n    <div class="is-overlay"></div>\n    <div class="is-container v2 leading-13 size-19 is-content-800 content-pt-60 content-pb-60">\n        <div class="row">\n            <div class="column">\n                <div class="spacer height-100"></div>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                <h1 class="font-normal leading-11 size-64">{{TITLE}}</h1>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                <div class="spacer height-20"></div>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                <p>{{CONTENT}}</p>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                <div class="spacer height-80"></div>\n            </div>\n        </div>\n    </div>\n</div>\n\n\nTemplate 3:  (Suitable for long content with multiple subtopics. Ensure that there is a space between subtopics.)\n\n<div class="is-section is-box type-poppins box-autofit min-height-60 is-section-100">\n    <div class="is-overlay"></div>\n    <div class="is-container v2 leading-13 size-19 is-content-800 content-pt-60 content-pb-60">\n        <div class="row">\n            <div class="column">\n                <div class="spacer height-100"></div>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                <h1 class="font-normal leading-11 size-64">{{TITLE}}</h1>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                <div class="spacer height-20"></div>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                <p>{{CONTENT}}</p>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                <div class="spacer height-20"></div>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                <h2>{{SUBTITLE}}</h2>\n                <p>{{CONTENT}}</p>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                <div class="spacer height-20"></div>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                <h2>{{SUBTITLE}}</h2>\n                <p>{{CONTENT}}</p>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                <div class="spacer height-80"></div>\n            </div>\n        </div>\n    </div>\n</div>\n\n',new_section_article:['This is the template:\n\n<div class="is-section is-box type-poppins box-autofit min-height-60 is-section-100">\n    <div class="is-overlay"></div>\n    <div class="is-container v2 leading-13 size-19 is-content-800 content-pt-60 content-pb-60">\n        <div class="row">\n            <div class="column">\n                <div class="spacer height-100"></div>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                <h1 class="font-normal leading-11 size-64">{{TITLE}}</h1>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                <div class="spacer height-20"></div>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                <p>{{CONTENT}}</p>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                <div class="spacer height-20"></div>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                <h2>{{SUBTITLE}}</h2>\n                <p>{{CONTENT}}</p>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                <div class="spacer height-20"></div>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                <h2>{{SUBTITLE}}</h2>\n                <p>{{CONTENT}}</p>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                <div class="spacer height-80"></div>\n            </div>\n        </div>\n    </div>\n</div>\n                \n'],new_section_article_with_image:['To create a section: \n- Use the example below as a template.\n- Images must use this image URL: \'{{_IMAGEURL}}\'. Replace the {{IMAGEURL}} with this URL.\n- Replace all the text in the example with the requested content.\n\nExample:\n\n<div class="is-section is-box type-poppins box-autofit min-height-60 is-section-100">\n    <div class="is-overlay"></div>\n    <div class="is-container v2 leading-13 size-19 is-content-800 content-pt-50 content-pb-50">\n        <div class="row">\n            <div class="column">\n                <div class="spacer height-100"></div>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                <h1 class="font-normal leading-11 size-64">Title here</h1>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                <div class="spacer height-80"></div>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                <img src="{{IMAGEURL}}" alt="">\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                <div class="spacer height-60"></div>\n            </div>\n        </div>\n\n        <div class="row">\n            <div class="column">\n                <p>Lorem Ipsum is simply dummy text of the printing and typesetting industry.</p>\n            </div>\n        </div>\n\n        <div class="row">\n            <div class="column">\n                <div class="spacer height-60"></div>\n            </div>\n        </div>\n\n        <div class="row">\n            <div class="column">\n                <h2 class="size-28 font-normal">Sub Topic Title here</h2>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                <div class="spacer height-20"></div>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                <p>Lorem Ipsum is simply dummy text of the printing and typesetting industry.</p>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                <p>Lorem Ipsum is simply dummy text of the printing and typesetting industry.</p>\n            </div>\n        </div>\n\n        <div class="row">\n            <div class="column">\n                <div class="spacer height-60"></div>\n            </div>\n        </div>\n    </div>\n</div>\n\n- Important: for images, replace {{IMAGEURL}} with \'{{_IMAGEURL}}\'.\n\n','\nTo create a section: \n- Use the example below as a template.\n- Images must use this image URL: \'{{_IMAGEURL}}\'. Replace the {{IMAGEURL}} with this URL.\n- Replace all the text in the example with the requested content.\n\nExample:\n\n<div class="is-section is-box type-poppins-lekton box-autofit min-height-60 is-section-100">\n    <div class="is-overlay"></div>\n    <div class="is-container v2 leading-13 size-19 is-content-1100">\n        <div class="row">\n            <div class="column">\n                <div class="spacer height-80"></div>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                <h1 class="font-normal leading-none size-60">A forward thinking studio delivering digital solutions that help your business<br></h1>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                <div class="spacer height-80"></div>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                <div class="spacer height-80"></div>\n            </div>\n            <div class="column" style="width: 75%; flex: 0 0 auto;"><img src="{{IMAGEURL}}" alt=""></div>\n        </div>\n        <div class="row">\n            <div class="column">\n                <div class="spacer height-60"></div>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column" style="width: 75%; flex: 0 0 auto;">\n                <p>Lorem Ipsum has been the industry\'s standard dummy text ever since the 1500s,\n                    when an unknown printer took a galley of type and scrambled it to make a type specimen book.</p>\n            </div>\n            <div class="column">\n                <div class="spacer height-80"></div>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                <div class="spacer height-40"></div>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                <div class="spacer height-80"></div>\n            </div>\n            <div class="column" style="width: 75%; flex: 0 0 auto;">\n                <h2 class="size-28 font-normal">Sub Topic 1</h2>\n                <div class="spacer height-20"></div>\n                <p>Lorem Ipsum has been the industry\'s standard dummy text ever since the 1500s,\n                    when an unknown printer took a galley of type and scrambled it to make a type specimen book.</p>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                <div class="spacer height-40"></div>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column" style="width: 75%; flex: 0 0 auto;">\n                <h2 class="size-28 font-normal">Sub Topic 2</h2>\n                <div class="spacer height-20"></div>\n                <p>Lorem Ipsum has been the industry\'s standard dummy text ever since the 1500s,\n                    when an unknown printer took a galley of type and scrambled it to make a type specimen book.</p>\n            </div>\n            <div class="column">\n                <div class="spacer height-80"></div>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                <div class="spacer height-80"></div>\n            </div>\n        </div>\n    </div>\n</div>\n\n- Important: for images, replace {{IMAGEURL}} with \'{{_IMAGEURL}}\'.\n\n'],new_section_two_boxes:'\nTo create a section with 2 boxes: \n- Create one section with \'div.is-section\' element and add 2 \'div.is-box\' elements inside it.\n- Use the example below as a template.\n- Replace all the text in the example with the requested content.\n\nExample result:\n\n<div class="is-section is-section-100 type-poppins">\n    <div class="is-box is-box-6 box-autofit min-height-60">\n        <div class="is-overlay"></div>\n        <div class="is-container v2 leading-13 size-19 is-content-800">\n            <div class="row">\n                <div class="column">\n                    <h1 class="font-normal leading-none size-60">Title here</h1>\n                </div>\n            </div>\n            <div class="row">\n                <div class="column">\n                    <div class="spacer height-40"></div>\n                </div>\n            </div>\n            <div class="row">\n                <div class="column">\n                    <p>{{CONTENT}}</p>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="is-box is-box-6 box-autofit min-height-60">\n        <div class="is-overlay"></div>\n        <div class="is-container v2 leading-13 size-19 is-content-800">\n            <div class="row">\n                <div class="column">\n                    <p>{{CONTENT}}</p>\n                </div>\n            </div>\n            <div class="row">\n                <div class="column">\n                    <div class="spacer height-40"></div>\n                </div>\n            </div>\n            <div class="row">\n                <div class="column">\n                    <p>{{CONTENT}}</p>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n\n',new_section_three_boxes:'\nTo create a section with 3 boxes: \n- Create 1 (one) section with \'div.is-section\' element and add 3 \'div.is-box\' elements inside it.\n- Use the example below as a template.\n- Replace all the text in the example with the requested content.\n\nExample result:\n\n<div class="is-section is-section-70 type-poppins">\n    <div class="is-box is-box-4 box-autofit min-height-60">\n        <div class="is-overlay"></div>\n        <div class="is-container v2 leading-13 size-19 is-content-800">\n            <div class="row">\n                <div class="column">\n                    <h1 class="font-normal leading-none size-60">Title here</h1>\n                </div>\n            </div>\n            <div class="row">\n                <div class="column">\n                    <div class="spacer height-40"></div>\n                </div>\n            </div>\n            <div class="row">\n                <div class="column">\n                    <p>{{CONTENT}}</p>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="is-box is-box-4 box-autofit min-height-60">\n        <div class="is-overlay"></div>\n        <div class="is-container v2 leading-13 size-19 is-content-800">\n            <div class="row">\n                <div class="column">\n                    <p>{{CONTENT}}</p>\n                </div>\n            </div>\n            <div class="row">\n                <div class="column">\n                    <div class="spacer height-40"></div>\n                </div>\n            </div>\n            <div class="row">\n                <div class="column">\n                    <p>{{CONTENT}}</p>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="is-box is-box-4 box-autofit min-height-60">\n        <div class="is-overlay"></div>\n        <div class="is-container v2 leading-13 size-19 is-content-800">\n            <div class="row">\n                <div class="column">\n                    <p>{{CONTENT}}</p>\n                </div>\n            </div>\n            <div class="row">\n                <div class="column">\n                    <div class="spacer height-40"></div>\n                </div>\n            </div>\n            <div class="row">\n                <div class="column">\n                    <p>{{CONTENT}}</p>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n\n',new_section_four_boxes:'To create a section with 4 boxes: \n- Create 1 (one) section with \'div.is-section\' element and add 4 \'div.is-box\' elements inside it.\n- Use the example below as a template.\n- Replace all the text in the example with the requested content.\n\nExample result:\n\n<div class="is-section is-section-70 type-poppins">\n    <div class="is-box is-box-3 box-autofit min-height-60">\n        <div class="is-overlay"></div>\n        <div class="is-container v2 leading-13 size-19 is-content-800">\n            <div class="row">\n                <div class="column">\n                    <h1 class="font-normal leading-none size-60">Title here</h1>\n                </div>\n            </div>\n            <div class="row">\n                <div class="column">\n                    <div class="spacer height-40"></div>\n                </div>\n            </div>\n            <div class="row">\n                <div class="column">\n                    <p>{{CONTENT}}</p>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="is-box is-box-3 box-autofit min-height-60">\n        <div class="is-overlay"></div>\n        <div class="is-container v2 leading-13 size-19 is-content-800">\n            <div class="row">\n                <div class="column">\n                    <p>{{CONTENT}}</p>\n                </div>\n            </div>\n            <div class="row">\n                <div class="column">\n                    <div class="spacer height-40"></div>\n                </div>\n            </div>\n            <div class="row">\n                <div class="column">\n                    <p>{{CONTENT}}</p>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="is-box is-box-3 box-autofit min-height-60">\n        <div class="is-overlay"></div>\n        <div class="is-container v2 leading-13 size-19 is-content-800">\n            <div class="row">\n                <div class="column">\n                    <p>{{CONTENT}}</p>\n                </div>\n            </div>\n            <div class="row">\n                <div class="column">\n                    <div class="spacer height-40"></div>\n                </div>\n            </div>\n            <div class="row">\n                <div class="column">\n                    <p>{{CONTENT}}</p>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="is-box is-box-3 box-autofit min-height-60">\n        <div class="is-overlay"></div>\n        <div class="is-container v2 leading-13 size-19 is-content-800">\n            <div class="row">\n                <div class="column">\n                    <p>{{CONTENT}}</p>\n                </div>\n            </div>\n            <div class="row">\n                <div class="column">\n                    <div class="spacer height-40"></div>\n                </div>\n            </div>\n            <div class="row">\n                <div class="column">\n                    <p>{{CONTENT}}</p>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n\n',redesign_layout2:['To redesign the provided section:\n- Decide the best placement of each content element (title, paragraph, images, etc) and change the position based on the template below.\n\nThis is the template:\n\n<div class="is-section is-box is-section-100 type-poppins-lekton min-height-60">\n    <div class="is-overlay"></div>\n    <div class="is-container v2 is-content-1400 size-19 leading-13 content-pt-60 content-pb-60">\n        <div class="row">\n            <div class="column">\n                <div class="spacer height-60"></div>\n            </div>\n            <div class="column" style="width: 60%; flex: 0 0 auto;">\n                <h1 class="leading-09 size-116 font-extrabold">{{TITLE}}</h1>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                <div class="spacer height-60"></div>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column" style="width: 65%; flex: 0 0 auto;">\n                <p>{{CONTENT}}</p>\n            </div>\n            <div class="column">\n                <div class="spacer height-60"></div>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                <div class="spacer height-60"></div>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                <div class="spacer height-60"></div>\n            </div>\n            <div class="column" style="width: 65%; flex: 0 0 auto;">\n                <p>{{CONTENT}}</p>\n            </div>\n        </div>\n    </div>\n</div>\n\n','To redesign the provided section:\n- Decide the best placement of each content element (title, paragraph, images, etc) and change the position based on the template below.\n- You must update the title class with \'tracking-tight leading-09 size-120 font-normal\'.\n    \nThis is the template:\n    \n<div class="is-section is-box is-section-100 type-heebo-ibmplexmono box-autofit min-height-70">\n    <div class="is-overlay">\n    </div>\n    <div class="is-container v2 leading-14 size-19 content-pt-60 content-pb-60 is-content-1200">\n        <div class="row">\n            <div class="column">\n                <h1 class="tracking-tight leading-09 size-120 font-normal">{{Place title here}}</h1>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                <div class="spacer height-60"></div>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                <p>{{CONTENT}}</p>\n            </div>\n            <div class="column">\n                <div class="spacer height-60"></div>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                <div class="spacer height-60"></div>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                <div class="spacer height-60"></div>\n            </div>\n            <div class="column">\n                <p>{{CONTENT}}</p>\n            </div>\n            <div class="column">\n                <p>{{CONTENT}}</p>\n            </div>\n        </div>\n    </div>\n</div>\n\nImportant: include all images from the original section in the returned result!\n\n'],redesign_layout:['Re-arrange the placement of the title, paragraph, spaces, or images based the grid template below.\nFeel free to change the layout to create a visually appealing design and enhance readability. \nImportant: group all image columns together in a single row.\n\nThis is the template:\n\n<div class="is-section is-box is-section-100 box-autofit min-height-70 type-poppins">\n    <div class="is-overlay" style="background-color: rgb(255, 255, 255);">\n    </div>\n    <div class="is-container v2 leading-14 is-content-1100 size-18 content-pt-60 content-pb-60">\n        <div class="row">\n            <div class="column">\n                <h1 class="size-54 font-medium leading-none">{{TITLE}}</h1>\n            </div>\n            <div class="column">\n                <div class="spacer height-60"></div>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                <div class="spacer height-60"></div>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                {{CONTENT}}\n            </div>\n            <div class="column">\n                {{CONTENT}}\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                <div class="spacer height-60"></div>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                {{CONTENT}}\n            </div>\n            <div class="column">\n                {{CONTENT}}\n            </div>\n            <div class="column">\n                {{CONTENT}}\n            </div>\n        </div>\n    </div>\n</div>\n\n','Re-arrange the placement of the title, paragraph, spaces, or images based the grid template below.\nFeel free to change the layout to create a visually appealing design and enhance readability. \nImportant: group all image columns together in a single row.\n\nThis is the template:\n\n<div class="is-section is-box is-section-100 type-heebo-ibmplexmono min-height-60">\n    <div class="is-overlay"></div>\n    <div class="is-container v2 is-content-1100 size-18 leading-13 content-pt-60 content-pb-60">\n        <div class="row">\n            <div class="column">\n                <h1 class="size-116 font-medium leading-09">{{TITLE}}</h1>\n            </div>\n            <div class="column">\n                <div class="spacer height-60"></div>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                <div class="spacer height-60"></div>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                {{CONTENT}}\n            </div>\n            <div class="column">\n                {{CONTENT}}\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                <div class="spacer height-60"></div>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                {{CONTENT}}\n            </div>\n            <div class="column">\n                {{CONTENT}}\n            </div>\n            <div class="column">\n                {{CONTENT}}\n            </div>\n        </div>\n    </div>\n</div>\n\n','Re-arrange the placement of the title, paragraph, spaces, or images based the grid template below.\nFeel free to change the layout to create a visually appealing design and enhance readability. \nImportant: group all image columns together in a single row.\n\nThis is the template:\n\n<div class="is-section is-box is-section-100 type-poppins-lekton min-height-60">\n    <div class="is-overlay">\n    </div>\n    <div class="is-container v2 is-content-1100 size-18 leading-13 content-pt-60 content-pb-60">\n        <div class="row">\n            <div class="column">\n                <h1 class="size-76 font-normal leading-none">{{TITLE}}</h1>\n            </div>\n            <div class="column">\n                <div class="spacer height-60"></div>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                <div class="spacer height-60"></div>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                {{CONTENT}}\n            </div>\n            <div class="column">\n                {{CONTENT}}\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                <div class="spacer height-60"></div>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                {{CONTENT}}\n            </div>\n            <div class="column">\n                {{CONTENT}}\n            </div>\n            <div class="column">\n                {{CONTENT}}\n            </div>\n        </div>\n    </div>\n</div>\n\n','Re-arrange the placement of the title, paragraph, spaces, or images based the grid template below.\nFeel free to change the layout to create a visually appealing design and enhance readability. \nImportant: group all image columns together in a single row.\n\nThis is the template:\n\n<div class="is-section is-box is-section-100 type-raleway-lato box-autofit min-height-70">\n    <div class="is-overlay">\n    </div>\n    <div class="is-container v2 h-full flex flex-col justify-between size-19 leading-none is-content-1000 content-pt-60 content-pb-60">\n        <div class="row">\n            <div class="column">\n                <h1 class="uppercase size-72 font-semibold leading-09">{{TITLE}}</h1>\n            </div>\n            <div class="column">\n                <div class="spacer height-60"></div>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                <div class="spacer height-60"></div>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                {{CONTENT}}\n            </div>\n            <div class="column">\n                {{CONTENT}}\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                <div class="spacer height-60"></div>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                {{CONTENT}}\n            </div>\n            <div class="column">\n                {{CONTENT}}\n            </div>\n            <div class="column">\n                {{CONTENT}}\n            </div>\n        </div>\n    </div>\n</div>\n\n','Re-arrange the placement of the title, paragraph, spaces, or images based the grid template below.\nFeel free to change the layout to create a visually appealing design and enhance readability. \nImportant: group all image columns together in a single row.\n\nThis is the template:\n\n<div class="is-section is-box is-section-100 type-alegreya-lato min-height-60">\n    <div class="is-overlay">\n    </div>\n    <div class="is-container v2 leading-13 size-18 is-content-1000 content-pt-60 content-pb-60">\n        <div class="row">\n            <div class="column">\n                <h1 class="size-76 font-normal leading-none">{{TITLE}}</h1>\n            </div>\n            <div class="column">\n                <div class="spacer height-60"></div>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                <div class="spacer height-60"></div>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                {{CONTENT}}\n            </div>\n            <div class="column">\n                {{CONTENT}}\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                <div class="spacer height-60"></div>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                {{CONTENT}}\n            </div>\n            <div class="column">\n                {{CONTENT}}\n            </div>\n            <div class="column">\n                {{CONTENT}}\n            </div>\n        </div>\n    </div>\n</div>\n\n','Re-arrange the placement of the title, paragraph, spaces, or images based the grid template below.\nFeel free to change the layout to create a visually appealing design and enhance readability. \nImportant: group all image columns together in a single row.\n\nThis is the template:\n\n<div class="is-section is-box is-section-100 type-montserrat-roboto is-content-top edge-y-1 min-height-60">\n    <div class="is-overlay"></div>\n    <div class="is-container v2 size-18 leading-12 is-content-1000 is-content-left edge-x-1">\n        <div class="row">\n            <div class="column">\n                <h1 class="text-left size-64 font-medium leading-none tracking-tight">{{TITLE}}</h1>\n                <p style="border-bottom: 2px solid #333; width: 80px;"></p>\n            </div>\n            <div class="column">\n                <div class="spacer height-60"></div>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                <div class="spacer height-60"></div>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                {{CONTENT}}\n            </div>\n            <div class="column">\n                {{CONTENT}}\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                <div class="spacer height-60"></div>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                {{CONTENT}}\n            </div>\n            <div class="column">\n                {{CONTENT}}\n            </div>\n            <div class="column">\n                {{CONTENT}}\n            </div>\n        </div>\n    </div>\n</div>\n\n','Re-arrange the placement of the title, paragraph, spaces, or images based the grid template below.\nFeel free to change the layout to create a visually appealing design and enhance readability. \nImportant: group all image columns together in a single row.\n\nThis is the template:\n\n<div class="is-section is-box is-section-100 type-poppins box-autofit min-height-70">\n    <div class="is-overlay">\n    </div>\n    <div class="is-container v2 is-content-1300 size-18 leading-13 content-pt-60 content-pb-60">\n        <div class="row">\n            <div class="column">\n                <h1 class="size-88 font-medium leading-09">{{TITLE}}</h1>\n            </div>\n            <div class="column">\n                <div class="spacer height-60"></div>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                <div class="spacer height-60"></div>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                {{CONTENT}}\n            </div>\n            <div class="column">\n                {{CONTENT}}\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                <div class="spacer height-60"></div>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                {{CONTENT}}\n            </div>\n            <div class="column">\n                {{CONTENT}}\n            </div>\n            <div class="column">\n                {{CONTENT}}\n            </div>\n        </div>\n    </div>\n</div>\n\n','Re-arrange the placement of the title, paragraph, spaces, or images based the grid template below.\nFeel free to change the layout to create a visually appealing design and enhance readability. \nImportant: group all image columns together in a single row.\n\nThis is the template:\n\n<div class="is-section is-box is-section-100 type-frankruhllibre-lato box-autofit min-height-70">\n    <div class="is-overlay">\n    </div>\n    <div class="is-container v2 is-content-1100 leading-12 size-19 content-pt-60 content-pb-60">\n        <div class="row">\n            <div class="column">\n                <h1 class="size-68 font-normal leading-09 tracking-tighter">{{TITLE}}</h1>\n            </div>\n            <div class="column">\n                <div class="spacer height-60"></div>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                <div class="spacer height-60"></div>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                {{CONTENT}}\n            </div>\n            <div class="column">\n                {{CONTENT}}\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                <div class="spacer height-60"></div>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                {{CONTENT}}\n            </div>\n            <div class="column">\n                {{CONTENT}}\n            </div>\n            <div class="column">\n                {{CONTENT}}\n            </div>\n        </div>\n    </div>\n</div>\n\n','Re-arrange the placement of the title, paragraph, spaces, or images based the grid template below.\nFeel free to change the layout to create a visually appealing design and enhance readability. \nImportant: group all image columns together in a single row.\n\nThis is the template:\n\n<div class="is-section is-box is-section-100 min-height-60 type-alegreyasanssc-hind">\n    <div class="is-overlay">\n    </div>\n    <div class="is-container v2 is-content-1000 size-19 leading-12 content-pt-60 content-pb-60">\n        <div class="row">\n            <div class="column">\n                <h1 class="size-68 font-normal leading-none tracking-tighter">{{TITLE}}</h1>\n            </div>\n            <div class="column">\n                <div class="spacer height-60"></div>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                <div class="spacer height-60"></div>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                {{CONTENT}}\n            </div>\n            <div class="column">\n                {{CONTENT}}\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                <div class="spacer height-60"></div>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                {{CONTENT}}\n            </div>\n            <div class="column">\n                {{CONTENT}}\n            </div>\n            <div class="column">\n                {{CONTENT}}\n            </div>\n        </div>\n    </div>\n</div>\n\n','Re-arrange the placement of the title, paragraph, spaces, or images based the grid template below.\nFeel free to change the layout to create a visually appealing design and enhance readability. \nImportant: group all image columns together in a single row.\n\nThis is the template:\n\n<div class="is-section is-box is-section-100 type-oranienbaum-sourcesanspro box-autofit">\n    <div class="is-overlay"></div>\n    <div class="is-container v2 size-17 is-content-1000 leading-12 content-pt-60 content-pb-60">\n        <div class="row">\n            <div class="column">\n                <h1 class="size-76 font-normal leading-09">{{TITLE}}</h1>\n            </div>\n            <div class="column">\n                <div class="spacer height-60"></div>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                <div class="spacer height-60"></div>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                {{CONTENT}}\n            </div>\n            <div class="column">\n                {{CONTENT}}\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                <div class="spacer height-60"></div>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                {{CONTENT}}\n            </div>\n            <div class="column">\n                {{CONTENT}}\n            </div>\n            <div class="column">\n                {{CONTENT}}\n            </div>\n        </div>\n    </div>\n</div>\n\n','Re-arrange the placement of the title, paragraph, spaces, or images based the grid template below.\nFeel free to change the layout to create a visually appealing design and enhance readability. \nImportant: group all image columns together in a single row.\n\nThis is the template:\n\n<div class="is-section is-box is-section-100 type-anonymouspro-catamaran box-autofit min-height-70">\n    <div class="is-overlay">\n    </div>\n    <div class="is-container v2 h-full flex flex-col justify-between size-19 leading-none is-content-1000 content-pt-60 content-pb-60">\n        <div class="row">\n            <div class="column">\n                <h1 class="uppercase size-84 font-normal leading-09">{{TITLE}}</h1>\n            </div>\n            <div class="column">\n                <div class="spacer height-60"></div>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                <div class="spacer height-60"></div>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                {{CONTENT}}\n            </div>\n            <div class="column">\n                {{CONTENT}}\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                <div class="spacer height-60"></div>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                {{CONTENT}}\n            </div>\n            <div class="column">\n                {{CONTENT}}\n            </div>\n            <div class="column">\n                {{CONTENT}}\n            </div>\n        </div>\n    </div>\n</div>\n\n'],change_layout_of_box:['Re-arrange the placement of the title, paragraph, spaces, or images based the grid template below.\nFeel free to change the layout to create a visually appealing design and enhance readability. \nAlso, move the heading above the paragraph content to create a logical flow from the title to the text.\n\nThis is the template:\n\n<div class="is-box type-poppins box-auto min-height-70">\n    <div class="is-overlay" style="background-color: rgb(255, 255, 255);">\n    </div>\n    <div class="is-container v2 leading-14 is-content-800 size-18 content-pt-60 content-pb-60">\n        <div class="row">\n            <div class="column">\n                <h1 class="size-54 font-medium leading-none">{{TITLE}}</h1>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                <div class="spacer height-60"></div>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                {{CONTENT}}\n            </div>\n            <div class="column">\n                {{CONTENT}}\n            </div>\n        </div>\n    </div>\n</div>\n\n','Re-arrange the placement of the title, paragraph, spaces, or images based the grid template below.\nFeel free to change the layout to create a visually appealing design and enhance readability. \n\nThis is the template:\n\n<div class="is-box type-heebo-ibmplexmono box-auto min-height-60">\n    <div class="is-overlay"></div>\n    <div class="is-container v2 is-content-900 size-18 leading-13 content-pt-60 content-pb-60">\n        <div class="row">\n            <div class="column">\n                <h1 class="size-88 font-medium leading-09">{{TITLE}}</h1>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                <div class="spacer height-60"></div>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                {{CONTENT}}\n            </div>\n            <div class="column">\n                {{CONTENT}}\n            </div>\n        </div>\n    </div>\n</div>\n\n','Re-arrange the placement of the title, paragraph, spaces, or images based the grid template below.\nFeel free to change the layout to create a visually appealing design and enhance readability. \n\nThis is the template:\n\n<div class="is-box type-poppins-lekton box-auto min-height-60">\n    <div class="is-overlay">\n    </div>\n    <div class="is-container v2 is-content-1100 size-18 leading-13 content-pt-60 content-pb-60">\n        <div class="row clearfix">\n            <div class="column">\n                <h1 class="size-68 font-normal leading-none">{{TITLE}}</h1>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                <div class="spacer height-60"></div>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                {{CONTENT}}\n            </div>\n            <div class="column">\n                {{CONTENT}}\n            </div>\n        </div>\n    </div>\n</div>\n\n','Re-arrange the placement of the title, paragraph, spaces, or images based the grid template below.\nFeel free to change the layout to create a visually appealing design and enhance readability. \n\nThis is the template:\n\n<div class="is-box type-raleway-lato box-auto min-height-60">\n    <div class="is-overlay">\n    </div>\n    <div class="is-container v2 h-full flex flex-col justify-between size-19 leading-none is-content-900 content-pt-60 content-pb-60">\n        <div class="row">\n            <div class="column">\n                <h1 class="uppercase size-68 font-semibold leading-none">{{TITLE}}</h1>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                <div class="spacer height-60"></div>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                {{CONTENT}}\n            </div>\n            <div class="column">\n                {{CONTENT}}\n            </div>\n        </div>\n    </div>\n</div>\n\n','Re-arrange the placement of the title, paragraph, spaces, or images based the grid template below.\nFeel free to change the layout to create a visually appealing design and enhance readability. \n\nThis is the template:\n\n<div class="is-box type-alegreya-lato box-auto min-height-60">\n    <div class="is-overlay">\n    </div>\n    <div class="is-container v2 leading-13 size-18 is-content-860 content-pt-60 content-pb-60">\n        <div class="row">\n            <div class="column">\n                <h1 class="size-68 font-normal leading-none">{{TITLE}}</h1>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                <div class="spacer height-60"></div>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                {{CONTENT}}\n            </div>\n            <div class="column">\n                {{CONTENT}}\n            </div>\n        </div>\n    </div>\n</div>\n\n','Re-arrange the placement of the title, paragraph, spaces, or images based the grid template below.\nFeel free to change the layout to create a visually appealing design and enhance readability.\n\nThis is the template:\n\n<div class="is-box type-montserrat-roboto box-auto min-height-60 is-content-top edge-y-1">\n    <div class="is-overlay"></div>\n    <div class="is-container v2 size-18 leading-12 is-content-800 is-content-left edge-x-1">\n        <div class="row">\n            <div class="column">\n                <h1 class="size-64 font-medium leading-none tracking-tight">{{TITLE}}</h1>\n                <p style="border-bottom: 2px solid #333; width: 80px;"></p>\n            </div>\n            <div class="column">\n                <div class="spacer height-40"></div>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                <div class="spacer height-60"></div>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                {{CONTENT}}\n            </div>\n            <div class="column">\n                {{CONTENT}}\n            </div>\n        </div>\n    </div>\n</div>\n\n','Re-arrange the placement of the title, paragraph, spaces, or images based the grid template below.\nFeel free to change the layout to create a visually appealing design and enhance readability. \n\nThis is the template:\n\n<div class="is-box type-poppins box-auto min-height-60">\n    <div class="is-overlay">\n    </div>\n    <div class="is-container v2 is-content-860 size-18 leading-13 content-pt-60 content-pb-60">\n        <div class="row">\n            <div class="column">\n                <h1 class="size-88 font-normal leading-09">{{TITLE}}</h1>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                <div class="spacer height-60"></div>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                {{CONTENT}}\n            </div>\n            <div class="column">\n                {{CONTENT}}\n            </div>\n        </div>\n    </div>\n</div>\n\n','Re-arrange the placement of the title, paragraph, spaces, or images based the grid template below.\nFeel free to change the layout to create a visually appealing design and enhance readability. \n\nThis is the template:\n\n<div class="is-box type-frankruhllibre-lato box-auto min-height-60">\n    <div class="is-overlay">\n    </div>\n    <div class="is-container v2 is-content-860 leading-12 size-19 content-pt-60 content-pb-60">\n        <div class="row">\n            <div class="column">\n                <h1 class="size-68 font-normal leading-09 tracking-tighter">{{TITLE}}</h1>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                <div class="spacer height-60"></div>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                {{CONTENT}}\n            </div>\n            <div class="column">\n                {{CONTENT}}\n            </div>\n        </div>\n    </div>\n</div>\n\n','Re-arrange the placement of the title, paragraph, spaces, or images based the grid template below.\nFeel free to change the layout to create a visually appealing design and enhance readability. \n\nThis is the template:\n\n<div class="is-box type-alegreyasanssc-hind box-auto min-height-60">\n    <div class="is-overlay">\n    </div>\n    <div class="is-container v2 is-content-860 size-19 leading-12 content-pt-60 content-pb-60">\n        <div class="row">\n            <div class="column">\n                <h1 class="size-68 font-normal leading-none tracking-tighter">{{TITLE}}</h1>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                <div class="spacer height-60"></div>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                {{CONTENT}}\n            </div>\n            <div class="column">\n                {{CONTENT}}\n            </div>\n        </div>\n    </div>\n</div>\n\n','Re-arrange the placement of the title, paragraph, spaces, or images based the grid template below.\nFeel free to change the layout to create a visually appealing design and enhance readability. \n\nThis is the template:\n\n<div class="is-box type-oranienbaum-sourcesanspro box-auto min-height-60 is-content-top edge-y-1">\n    <div class="is-overlay"></div>\n    <div class="is-container v2 size-17 is-content-860 leading-12 is-content-left edge-x-1">\n        <div class="row">\n            <div class="column">\n                <h1 class="size-76 font-normal leading-09">{{TITLE}}</h1>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                <div class="spacer height-60"></div>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                {{CONTENT}}\n            </div>\n            <div class="column">\n                {{CONTENT}}\n            </div>\n        </div>\n    </div>\n</div>\n\n','Re-arrange the placement of the title, paragraph, spaces, or images based the grid template below.\nFeel free to change the layout to create a visually appealing design and enhance readability. \n\nThis is the template:\n\n<div class="is-box type-anonymouspro-catamaran box-auto min-height-70">\n    <div class="is-overlay">\n    </div>\n    <div class="is-container v2 size-19 leading-none is-content-700 content-pt-60 content-pb-60">\n        <div class="row">\n            <div class="column">\n                <h1 class="uppercase size-84 font-normal leading-09">{{TITLE}}</h1>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                <div class="spacer height-60"></div>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                {{CONTENT}}\n            </div>\n            <div class="column">\n                {{CONTENT}}\n            </div>\n        </div>\n    </div>\n</div>\n\n'],update_section_with_image:'To add a headline or paragraph and an image, follow these steps:\n- Create the necessary rows and columns.\n- Use the example below as a template.\n- Images must use this image URL: \'{{_IMAGEURL}}\'. Replace the {{IMAGEURL}} with this URL.\n- Replace all the text in the example with the requested content.\n\nExample:\n\n<div class="row relative sm-items-1">\n    <div class="column flex flex-col justify-center items-start py-2">\n        <h1 class="font-normal leading-none size-60">Empowering businesses with AI-integrated web solutions.</h1>\n        <div class="spacer height-40"></div>\n        <p>We are a full-stack web development studio that brings the power of Artificial Intelligence into our web solutions.</p>\n    </div>\n    <div class="column" style="width: 5%; flex: 0 0 auto;">\n        <div class="spacer height-60"></div>\n    </div>\n    <div class="column" style="width: 53%; flex: 0 0 auto;">\n        <img src="{{IMAGEURL}}" alt="">\n    </div>\n</div>\n\n- Important: for images, replace {{IMAGEURL}} with \'{{_IMAGEURL}}\'.\n\n',update_section_with_gallery:'To add a list of photos or a photo gallery, follow these steps:\n- Create the necessary rows and columns.\n- Use the example below as a template.\n- Images must use this image URL: \'{{_IMAGEURL}}\'. Replace the {{IMAGEURL}} with this URL.\n- Replace all the text in the example with the requested content.\n\nExample :\n\n<div class="row">\n    <div class="column">\n        <h1 class="font-light size-54 leading-none">We deliver extraordinary things.</h1>\n    </div>\n</div>\n<div class="row">\n    <div class="column">\n        <div class="spacer height-80"></div>\n    </div>\n</div>\n<div class="row">\n    <div class="column"><img src="{{IMAGEURL}}" alt="" data-filename="img-024.jpg">\n        <p>Image Caption</p>\n    </div>\n    <div class="column"><img src="{{IMAGEURL}}" alt="" data-filename="img-083.jpg">\n        <p>Image Caption</p>\n    </div>\n    <div class="column"><img src="{{IMAGEURL}}" alt="" data-filename="img-190.jpg">\n        <p>Image Caption</p>\n    </div>\n</div>\n\n- Important: for images, replace {{IMAGEURL}} with \'{{_IMAGEURL}}\'.\n\n',update_section_with_list:'To add a list, follow these steps:\n- Create the necessary rows and columns.\n- Use the example below as a template.\n- For 3 list items, use 3 columns in a row. For 2 or 4 list items, use 2 columns per row.\n- Each list item has <h3> as item title. Use example below.\n- Replace all the text in the example with the requested content.\n\nExample:\n\n<div class="row">\n    <div class="column">\n        <h2 class="font-medium size-60">List Title</h2>\n    </div>\n</div>\n<div class="row">\n    <div class="column">\n        <div class="spacer height-80"></div>\n    </div>\n</div>\n<div class="row">\n    <div class="column">\n        <h3 class="size-28 font-normal">List Item 1</h3>\n        <div class="spacer height-20"></div>\n        <p>Experience the power and flexibility of our innovative cloud solutions that can transform your business.\n            With our expertise, you can stay one step ahead of your competition in a rapidly changing digital landscape.</p>\n    </div>\n    <div class="column">\n        <h3 class="size-28 font-normal">List Item 2</h3>\n        <div class="spacer height-20"></div>\n        <p>Leave your IT operations to us and focus on what really matters - your core business.\n            Our managed IT services enable you to optimize your technology infrastructure and improve efficiency,\n            ensuring smooth operations and maximum productivity.</p>\n    </div>\n</div>\n<div class="row">\n    <div class="column">\n        <div class="spacer height-40"></div>\n    </div>\n</div>\n<div class="row">\n    <div class="column">\n        <h3 class="size-28 font-normal">List Item 3</h3>\n        <div class="spacer height-20"></div>\n        <p>No matter the size of your organization, we have the network solutions you need to optimize your connectivity\n            and ensure reliable and secure communication. Our experts will design and implement a tailored network infrastructure,\n            keeping your business connected and functioning seamlessly.</p>\n    </div>\n    <div class="column">\n        <h3 class="size-28 font-normal">List Item 4</h3>\n        <div class="spacer height-20"></div>\n        <p>Our support and consulting services are designed to provide you with the expertise and guidance you need\n            to overcome any technology challenges you may face. From troubleshooting to strategic planning,\n            our team of professionals is here to assist you every step of the way.</p>\n    </div>\n</div>\n\n',update_section_with_list_images:'To add a list with images, follow these steps:\n- Create the necessary rows and columns.\n- Use the example below as a template.\n- Images must use this image URL: \'{{_IMAGEURL}}\'. Replace the {{IMAGEURL}} with this URL.\n- Each list item has <h3> as item title.\n- Replace all the text in the example with the requested content.\n    \nExample result (Use it as the template):\n    \n<div class="row">\n    <div class="column">\n        <div class="spacer height-100"></div>\n    </div>\n</div>\n<div class="row">\n    <div class="column">\n        <h2 class="tracking-tight size-50 text-center">Title Here</h2>\n    </div>\n</div>\n<div class="row">\n    <div class="column">\n        <div class="spacer height-100"></div>\n    </div>\n</div>\n<div class="row relative sm-items-1">\n    <div class="column flex flex-col justify-center items-start py-2">\n        <h3 class="font-normal leading-none size-32">Item One</h3>\n\n        <p>At our web studio, we combine our passion for design, technology, and innovation to build stunning and functional websites that make your brand stand out in the digital world.</p>\n    </div>\n    <div class="column" style="width: 5%; flex: 0 0 auto;">\n        <div class="spacer height-60"></div>\n    </div>\n    <div class="column" style="width: 53%; flex: 0 0 auto;">\n        <img src="{{IMAGEURL}}" alt="">\n    </div>\n</div>\n<div class="row">\n    <div class="column">\n        <div class="spacer height-100"></div>\n    </div>\n</div>\n<div class="row relative sm-items-1">\n    <div class="column" style="width: 53%; flex: 0 0 auto;">\n        <img src="{{IMAGEURL}}" alt="">\n    </div>\n    <div class="column" style="width: 5%; flex: 0 0 auto;">\n        <div class="spacer height-60"></div>\n    </div>\n    <div class="column flex flex-col justify-center items-start py-2" style="width: 41.9836%; flex: 0 0 auto;">\n        <h3 class="font-normal leading-none size-32">Item Two</h3>\n\n        <p>At our web studio, we combine our passion for design, technology, and innovation to build stunning and functional websites that make your brand stand out in the digital world.</p>\n    </div>\n</div>\n<div class="row">\n    <div class="column">\n        <div class="spacer height-100"></div>\n    </div>\n</div>\n\n- Important: for images, replace {{IMAGEURL}} with \'{{_IMAGEURL}}\'.\n\n',update_section_with_list_icons:'To add a list with icons, follow these steps:\n- Create the necessary rows and columns.\n- For 3 list items, use 3 columns in a row. For 2 or 4 list items, use 2 columns per row.\n- Use the example below as a template.\n- Each list item has <h3> as item title.\n- Replace all the text in the example with the requested content.\n\nExample:\n\n<div class="row">\n    <div class="column">\n        <div class="spacer height-80"></div>\n    </div>\n</div>\n<div class="row">\n    <div class="column">\n        <h1 class="text-center tracking-tight size-50 leading-none">Title Here</h1>\n    </div>\n</div>\n<div class="row">\n    <div class="column">\n        <div class="spacer height-80"></div>\n    </div>\n</div>\n<div class="row">\n    <div class="column">\n        <div class="text-center">\n            <i class="icon {{ICONCLASS}} size-32"></i>\n        </div>\n        <h3 class="tracking-75 text-center size-21 font-normal">Point One</h3>\n        <p class="text-center">Paragraph content here</p>\n    </div>\n    <div class="column">\n        <div class="text-center">\n            <i class="icon {{ICONCLASS}} size-32"></i>\n        </div>\n        <h3 class="tracking-75 text-center size-21 font-normal">Point Two</h3>\n        <p class="text-center">Paragraph content here</p>\n    </div>\n    <div class="column">\n        <div class="text-center">\n            <i class="icon {{ICONCLASS}} size-32"></i>\n        </div>\n        <h3 class="tracking-75 text-center size-21 font-normal">Point Three</h3>\n        <p class="text-center">Paragraph content here</p>\n    </div>\n</div>\n\n- Important: for icons, replace {{ICONCLASS}} with \'ion-checkmark\'.\n\n',update_section_with_list_numbering:['To add a list and numbering:\n- Create the required rows and column and add them inside the current \'div.is-container\'.\n- Replace all the text in the example with the requested content.\n- For 3 list items, use 3 columns in a row. For 2 or 4 list items, use 2 columns per row.\n\nExample:\n\n<div class="row">\n    <div class="xs-hidden column">\n        <div class="spacer height-60"></div>\n    </div>\n</div>\n<div class="row">\n    <div class="xs-hidden column">\n        <div class="spacer height-60"></div>\n    </div>\n    <div class="column" style="width: 50%; flex: 0 0 auto;">\n        <h1 class="text-center tracking-tight size-50 leading-none">Title Here</h1>\n    </div>\n    <div class="xs-hidden column">\n        <div class="spacer height-60"></div>\n    </div>\n</div>\n<div class="row">\n    <div class="column">\n        <div class="spacer height-140"></div>\n    </div>\n</div>\n<div class="row">\n    <div class="column text-center">\n        <p class="size-32 font-medium">1.</p>\n        <h3 class="tracking-75 text-center size-21 font-normal">First Highlight</h3>\n        <p class="text-center">Experience the power of innovative designs.</p>\n    </div>\n    <div class="column">\n        <p class="size-32 font-medium text-center">2.</p>\n        <h3 class="tracking-75 text-center size-21 font-normal">Second Highlight</h3>\n        <p class="text-center">Discover the magic of exceptional creativity.</p>\n    </div>\n    <div class="column">\n        <p class="text-center size-32 font-medium">3.</p>\n        <h3 class="tracking-75 text-center size-21 font-normal">Third Highlight</h3>\n        <p class="text-center">Unleash your imagination with outstanding designs.</p>\n    </div>\n</div>\n\n','To add a list and numbering:\n- Create the required rows and column and add them inside the current \'div.is-container\'.\n- Replace all the text in the example with the requested content.\n- For 3 list items, use 3 columns in a row. For 2 or 4 list items, use 2 columns per row.\n\nExample:\n\n<div class="row">\n    <div class="xs-hidden column">\n        <div class="spacer height-60"></div>\n    </div>\n</div>\n<div class="row">\n    <div class="column">\n        <h1 class="tracking-tight size-50 text-left">Title Here</h1>\n    </div>\n    <div class="xs-hidden column">\n        <div class="spacer height-60"></div>\n    </div>\n</div>\n<div class="row">\n    <div class="column">\n        <div class="spacer height-120"></div>\n    </div>\n</div>\n<div class="row">\n    <div class="column">\n        <p class="size-76">01</p>\n        <div class="spacer height-20"></div>\n        <h3 class="size-24 leading-12 font-normal">First Highlight</h3>\n        <p>Experience the power of innovative designs.&nbsp;</p>\n    </div>\n    <div class="column">\n        <p class="size-76">02</p>\n        <div class="spacer height-20"></div>\n        <h3 class="size-24 leading-12 font-normal">Second Highlight</h3>\n        <p>Discover the magic of exceptional creativity.&nbsp;</p>\n    </div>\n    <div class="column">\n        <p class="size-76">03</p>\n        <div class="spacer height-20"></div>\n        <h3 class="size-24 leading-12 font-normal">Third Highlight</h3>\n        <p>Unleash your imagination with outstanding designs.&nbsp;</p>\n    </div>\n</div>\n<div class="row">\n    <div class="xs-hidden column">\n        <div class="spacer height-60"></div>\n    </div>\n</div>\n\n'],update_section_article_with_image:'To add an article: \n- Create the required rows and column and add them inside the current \'div.is-container\'.\n- Replace all the text in the example with the requested content.\n\nExample:\n\n<div class="row">\n    <div class="column">\n        <div class="spacer height-80"></div>\n    </div>\n</div>\n<div class="row">\n    <div class="column">\n        <h1 class="font-normal leading-none size-60">A forward thinking studio delivering digital solutions that help your business<br></h1>\n    </div>\n</div>\n<div class="row">\n    <div class="column">\n        <div class="spacer height-80"></div>\n    </div>\n</div>\n<div class="row">\n    <div class="column">\n        <div class="spacer height-80"></div>\n    </div>\n    <div class="column" style="width: 75%; flex: 0 0 auto;"><img src="{{IMAGEURL}}" alt=""></div>\n</div>\n<div class="row">\n    <div class="column">\n        <div class="spacer height-60"></div>\n    </div>\n</div>\n<div class="row">\n    <div class="column" style="width: 75%; flex: 0 0 auto;">\n        <p>Lorem Ipsum has been the industry\'s standard dummy text ever since the 1500s,\n            when an unknown printer took a galley of type and scrambled it to make a type specimen book.</p>\n    </div>\n    <div class="column">\n        <div class="spacer height-80"></div>\n    </div>\n</div>\n<div class="row">\n    <div class="column">\n        <div class="spacer height-40"></div>\n    </div>\n</div>\n<div class="row">\n    <div class="column">\n        <div class="spacer height-80"></div>\n    </div>\n    <div class="column" style="width: 75%; flex: 0 0 auto;">\n        <h2 class="size-28 font-normal">Sub Topic 1</h2>\n        <div class="spacer height-20"></div>\n        <p>Lorem Ipsum has been the industry\'s standard dummy text ever since the 1500s,\n            when an unknown printer took a galley of type and scrambled it to make a type specimen book.</p>\n    </div>\n</div>\n<div class="row">\n    <div class="column">\n        <div class="spacer height-40"></div>\n    </div>\n</div>\n<div class="row">\n    <div class="column" style="width: 75%; flex: 0 0 auto;">\n        <h2 class="size-28 font-normal">Sub Topic 2</h2>\n        <div class="spacer height-20"></div>\n        <p>Lorem Ipsum has been the industry\'s standard dummy text ever since the 1500s,\n            when an unknown printer took a galley of type and scrambled it to make a type specimen book.</p>\n    </div>\n    <div class="column">\n        <div class="spacer height-80"></div>\n    </div>\n</div>\n<div class="row">\n    <div class="column">\n        <div class="spacer height-80"></div>\n    </div>\n</div>\n\n',text_size:"- To increase or decrease text/font size, use one of these classes:\n    - size-12\n    - size-13\n    - size-14\n    - size-15\n    - size-16\n    - size-17\n    - size-18\n    - size-19\n    - size-20\n    - size-21\n    - size-24\n    - size-28\n    - size-32\n    - size-35\n    - size-38\n    - size-42\n    - size-46\n    - size-48\n    - size-50\n    - size-54\n    - size-60\n    - size-64\n    - size-68\n    - size-72\n    - size-76\n    - size-80\n    - size-84\n    - size-88\n    - size-92\n    - size-96\n    - size-100\n    - size-104\n    - size-108\n    - size-112\n    - size-116\n    - size-120\n    - size-124\n    - size-128\n    - size-132\n    - size-136\n    - size-140\n    - size-144\n    - size-148\n    - size-152\n    - size-156\n    - size-160\n    - size-164\n    - size-168\n    - size-172\n    - size-176\n    - size-180\n    - size-184\n    - size-188\n    - size-192\n    - size-196\n    - size-200\n"};class yy{constructor(e){this.builder=e}getFunctions_block(){return[{name:"get_intent",description:"analyze user command to modify or create section/content",parameters:{type:"object",properties:{enhance_writings:{type:"boolean",description:"User requests to enhance the writings, rewrite, paraphrase or change text."},editing:{type:"boolean",description:"If requested to modify the current content or style."},add_headline:{type:"boolean",description:"User requests to add a headline."},add_space:{type:"boolean",description:"User requests to add a space."},adjust_space:{type:"boolean",description:"User requests to increase or decrease a space."},add_button:{type:"boolean",description:"User requests to add a button."},add_youtube:{type:"boolean",description:"User requests to add a youtube/vimeo video."},add_video:{type:"boolean",description:"User requests to add a video."},add_audio:{type:"boolean",description:"User requests to add an audio."},add_map:{type:"boolean",description:"User requests to add a google map."},add_image:{type:"boolean",description:"User requests to add an image"},align_text:{type:"boolean",description:"User requests to align text"},line_height:{type:"boolean",description:"User requests to change or adjust line height"},font_size:{type:"boolean",description:"User requests to change or adjust font size"},new_block:{type:"boolean",description:"User requests to add a new block."},block_task:{type:"string",description:"User requests to move, duplicate, or delete block/row. Possible values: move-up, move-down, duplicate, remove"},new_column_onright:{type:"boolean",description:"User requests to add a new column."},new_column_onleft:{type:"boolean",description:"User requests to add a new column on the left."},column_task:{type:"string",description:"User requests to duplicate column, or delete column. Possible values: duplicate, remove"},move_column:{type:"string",description:"User requests to move column. Possible values: move-up, move-down, move-left, move-right"},increase_decrease_column:{type:"string",description:"User requests to increase/enlarge or decrease/reduce column size/width. Possible values: increase, decrease"},move_content_left:{type:"boolean",description:"Move content to the left"},move_content_center:{type:"boolean",description:"Move content to the center"},move_content_right:{type:"boolean",description:"Move content to the right"},move_content_top:{type:"boolean",description:"Move content to the top"},move_content_bottom:{type:"boolean",description:"Move content to the bottom"},section_task:{type:"string",description:"User requests to move, duplicate, or delet section. Possible values: move-up, move-top, move-down, move-bottom, duplicate, remove"},select_section:{type:"string",description:"User requests to select a section. Value can be: current, next, previous, first, last."},select_block:{type:"string",description:"User requests to select a block. Value can be: block, headline, title, paragraph, image, next, previous, first, last"},unselect_block:{type:"boolean",description:"User requests to unselect block"}}}}]}getFunctions(){return[{name:"get_intent",description:"analyze user command to modify or create section/content",parameters:{type:"object",properties:{asking_info:{type:"boolean",description:"User request an information."},add_info:{type:"boolean",description:"User request an information to be added to the current content."},add_column_or_block:{type:"boolean",description:"User requests to add a column or a block."},new_section:{type:"boolean",description:"User requests to add a new section."},redesign_layout:{type:"boolean",description:"If redesigning the layout is requested."},change_text:{type:"boolean",description:"User explicitely requests to update text of the current content, rewrite, paraphrase, translate or change text."},write_based_on_the_current_content:{type:"boolean",description:"User request to create new content based on the current content, such as to summarize, expand, make short, create a tweet or social media post, etc"},change_style:{type:"boolean",description:"If changing element style is requested."},change_font:{type:"boolean",description:"User requests to change font of the current section."},change_section_height:{type:"number",description:"Requested height (percentage) of the section. Possible value: 10, 15, 20, 25, 30, 40, 50, 60, 70, 75, 80, 85, 90, 100"},section_background:{type:"string",description:"User request to add or remove section background that can be a background image, video or slider. Possible value: image, video, slider, remove"},add_headline:{type:"boolean",description:"If requested to add a headline."},add_paragraph:{type:"boolean",description:"If requested to add a paragraph."},add_space:{type:"boolean",description:"If requested to add a space."},add_button:{type:"boolean",description:"If requested to add a button."},add_youtube:{type:"boolean",description:"If requested to add a youtube/vimeo video."},add_video:{type:"boolean",description:"If requested to add a video."},add_audio:{type:"boolean",description:"If requested to add an audio."},add_map:{type:"boolean",description:"If requested to add a google map."},add_code:{type:"boolean",description:"If requested to add a custom code block."},add_article:{type:"boolean",description:"If requested to add an article."},add_image:{type:"string",description:"User request to add image or gallery. Possible value: image, gallery"},add_list:{type:"boolean",description:"If requested to add a list (eg. features, benefits, or list of items to explain)."},add_list_with_image:{type:"boolean",description:"If requested to add a list with an image for each list item."},add_list_with_icon:{type:"boolean",description:"If requested to add a list with an icon."},add_list_with_number:{type:"boolean",description:"If requested to add a list with numbering."},change_color_individual_text:{type:"boolean",description:"User requests to change the color of a headline, paragraph of specific element/text."},change_content_dark:{type:"boolean",description:"If requested to change text/content color to dark/black."},change_content_light:{type:"boolean",description:"If requested to change text/content color to light/white."},align_individual_text:{type:"boolean",description:"If requested to align an individual text/element, such as a headline, a paragraph, buttons, etc to left, center or right"},align_whole_content:{type:"string",description:"User requests to align the whole text/content. Possible value: left, center or right"},block_task:{type:"string",description:"User requests to move, duplicate, or delete block/row. Possible values: move-up, move-down, duplicate, remove"},column_task:{type:"string",description:"User requests to duplicate column, or delete column. Possible values: duplicate, remove"},move_column:{type:"string",description:"User requests to move column. Possible values: move-up, move-down, move-left, move-right"},increase_decrease_column:{type:"string",description:"User requests to increase/enlarge or decrease/reduce column size/width. Possible values: increase, decrease"},move_content_left:{type:"boolean",description:"Move content to the left"},move_content_center:{type:"boolean",description:"Move content to the center"},move_content_right:{type:"boolean",description:"Move content to the right"},move_content_top:{type:"boolean",description:"Move content to the top"},move_content_bottom:{type:"boolean",description:"Move content to the bottom"},content_width:{type:"string",description:"User requests to increase or decrease content width/size. Possible value: increase, decrease"},line_height_paragraph:{type:"string",description:"User requests to increase/decrease the line height of the paragraph. Possible value: increase, decrease"},line_height_individual_text:{type:"boolean",description:"User requests to increase/decrease the line height of an individual text/element (eg. headline)."},font_size_paragraph:{type:"string",description:"User requests to increase/decrease the font size of the paragraph. Possible value: increase, decrease"},font_size_individual_text:{type:"boolean",description:"User requests to increase/decrease the font size of an individual text/element (eg. headline)."},animation:{type:"string",description:"User requests to add animation. Possible value: fade-in, slide-up, zoom-in, remove"},section_task:{type:"string",description:"User requests to move, duplicate, or delet section. Possible values: move-up, move-top, move-down, move-bottom, duplicate, remove"},select_section:{type:"string",description:"User requests to select a section. Value can be: current, next, previous, first, last."},select_block:{type:"string",description:"User requests to select a block. Value can be: block, headline, title, paragraph, image, next, previous, first, last"},unselect_block:{type:"boolean",description:"User requests to unselect block"},new_section_two_boxes:{type:"boolean",description:"User requests to add a new section  with 2 boxes."},new_section_three_boxes:{type:"boolean",description:"User requests to add a new section  with 3 boxes."},new_section_four_boxes:{type:"boolean",description:"User requests to add a new section  with 4 boxes."}},required:["image","article"]}}]}processContent(e,t){if(!t||!e)return;if(!(e.move_content_left||e.move_content_center||e.move_content_right||e.move_content_top||e.move_content_bottom))return!1;if(e.align_individual_text||e.align_whole_content)return!1;let i=!1;(e.move_content_left||e.move_content_right)&&(i=!0);let n=!1;return(e.move_content_top||e.move_content_bottom)&&(n=!0),this.builder.editor.saveForUndo(),e.move_content_top&&!i?(this.builder.editor.lib.moveContent(t,"top"),this.builder.editor.lib.moveContent(t,"center")):e.move_content_bottom&&!i?(this.builder.editor.lib.moveContent(t,"bottom"),this.builder.editor.lib.moveContent(t,"center")):e.move_content_left&&!n?(this.builder.editor.lib.moveContent(t,"middle"),this.builder.editor.lib.moveContent(t,"left")):e.move_content_right&&!n?(this.builder.editor.lib.moveContent(t,"middle"),this.builder.editor.lib.moveContent(t,"right")):e.move_content_top&&e.move_content_left?(this.builder.editor.lib.moveContent(t,"top"),this.builder.editor.lib.moveContent(t,"left")):e.move_content_top&&e.move_content_center?(this.builder.editor.lib.moveContent(t,"top"),this.builder.editor.lib.moveContent(t,"center")):e.move_content_top&&e.move_content_right?(this.builder.editor.lib.moveContent(t,"top"),this.builder.editor.lib.moveContent(t,"right")):e.move_content_bottom&&e.move_content_left?(this.builder.editor.lib.moveContent(t,"bottom"),this.builder.editor.lib.moveContent(t,"left")):e.move_content_bottom&&e.move_content_center?(this.builder.editor.lib.moveContent(t,"bottom"),this.builder.editor.lib.moveContent(t,"center")):e.move_content_bottom&&e.move_content_right?(this.builder.editor.lib.moveContent(t,"bottom"),this.builder.editor.lib.moveContent(t,"right")):(e.move_content_center,this.builder.editor.lib.moveContent(t,"center"),this.builder.editor.lib.moveContent(t,"middle")),this.builder.settings.onChange(),!0}elementContext(e,t){if(t.add_headline){e=e+"\n"+"- To add a headline or title, use this class: 'font-normal leading-11 size-64':\n<h1 class=\"font-normal leading-11 size-64\">Headline Text Here</h1>\n\n"}if(t.add_paragraph){e=e+"\n"+"- To add a paragraph (long or short), just add:\n<p>Paragraph here</p>\n\n"}if(t.add_space){e=e+"\n"+"- To add a space, you must add 'div.spacer' element:\n\n<div class=\"spacer height-40\"></div\n\n"}if(t.adjust_space){e=e+"\n"+"- To increase or decrease a space, use one of these classes:\n    - height-40\n    - height-60\n    - height-80\n    - height-100\n    - height-120\n    - height-140\n    - height-160\n    - height-180\n    - height-200\n\n"}if(t.add_button){e=e+"\n"+'- To add a buttons, use the example below as a template. Wrap the button in a <div> element.\n\nButton Example:\n\n    <div>\n        <a href="#" role="button" class="transition-all inline-block whitespace-nowrap cursor-pointer no-underline border-2 border-solid mr-2 mt-2 mb-1 py-2 size-18 px-9 text-black leading-relaxed rounded-full border-transparent hover:border-transparent font-normal tracking-wide" title="" style="background-color: rgb(240, 240, 240);">Our Works</a>\n        <a href="#" role="button" class="transition-all inline-block whitespace-nowrap cursor-pointer no-underline border-2 border-solid mr-2 mt-2 mb-1 py-2 size-18 px-9 border-current hover:border-current font-normal leading-relaxed rounded-full tracking-wide" title="">Get in Touch</a>\n    </div>\n\n'}if(t.add_youtube){let t=this.builder.media.youtube_videos;e=e+"\n"+`- To embed a YouTube or Vimeo video, wrap the <iframe> element in a <div> element with the classes 'embed-responsive' and 'embed-responsive-16by9' and add add it inside a column (Youtube and Vimeo links are case sensitive):\n<div class="embed-responsive embed-responsive-16by9">\n<iframe width="560" height="315" src="${this.chooseMedia(t)}" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>\n</div>\n`}if(t.add_video){let t=this.builder.media.videos;e=e+"\n"+`- To embed a video (MP4), use the <video> element, specify the source using the <source> element and add it inside a column:\n<video style="width: 100%;" loop="" autoplay="">\n<source src="${this.chooseMedia(t)}" type="video/mp4">\n</video>\n`}if(t.add_audio){let t=this.builder.media.audios;e=e+"\n"+`- To embed an audio (MP3), wrap the <audio> element in a <div> with the default style and class as shown below and add it inside a column:\n<div style="width: 100%; position: relative; margin: 15px 0px; background: transparent;" class="flex">\n<audio controls="" style="width:100%">\n<source src="${this.chooseMedia(t)}" type="audio/mpeg">Your browser does not support the audio element.\n</audio>\n</div>\n`}if(t.add_map){e=e+"\n"+'- To embed a google map, wrap the <iframe> element in a <div> element with the classes \'embed-responsive\' and \'embed-responsive-16by9\' and add add it inside a column:\n<div class="embed-responsive embed-responsive-16by9">\n<iframe width="100%" height="400" frameborder="0" scrolling="no" marginheight="0" marginwidth="0" class="mg1" src="https://maps.google.com/maps?q=Melbourne,+Victoria,+Australia&amp;hl=en&amp;sll=-7.981898,112.626504&amp;sspn=0.009084,0.016512&amp;oq=melbourne&amp;hnear=Melbourne+Victoria,+Australia&amp;t=m&amp;z=10&amp;output=embed"></iframe>\n</div>\n'}if(t.add_image){e=e+"\n"+"- To add an image, just add <img> element inside 'div.columns' element:\n            \n<img src=\"{{IMAGEURL}}\">\n\n"}if(t.align_text){e=e+"\n"+"- To align text or element, use one of these classes: 'text-left', text-center' or 'texr-right'.\n\n"}if(t.line_height){e=e+"\n"+"- To increase or decrease the line height of an individual text/element, apply this class on the requested element:\n    \n    - leading-08\n    - leading-09\n    - leading-none\n    - leading-11\n    - leading-12\n    - leading-13\n    - leading-14\n    - leading-15\n    - leading-16\n    - leading-17\n    - leading-18\n    - leading-19\n    - leading-20\n\n"}if(t.font_size){e=e+"\n"+"- To increase or decrease the font size, apply this class on the requested element:\n    \n    - size-12\n    - size-13\n    - size-14\n    - size-15\n    - size-16\n    - size-17\n    - size-18\n    - size-19\n    - size-20\n    - size-21\n    - size-24\n    - size-28\n    - size-32\n    - size-35\n    - size-38\n    - size-42\n    - size-46\n    - size-48\n    - size-50\n    - size-54\n    - size-60\n    - size-64\n    - size-68\n    - size-72\n    - size-76\n    - size-80\n    - size-84\n    - size-88\n    - size-92\n    - size-96\n    - size-100\n    - size-104\n    - size-108\n    - size-112\n    - size-116\n    - size-120\n    - size-124\n    - size-128\n    - size-132\n    - size-136\n    - size-140\n    - size-144\n    - size-148\n    - size-152\n    - size-156\n    - size-160\n\n"}return e}addElementContext(e,t){if(t.add_headline){e=e+"\n"+'- To add a headline:\n(1) Add a new row and columns separately from the other rows.\n(2) Add a space between the headline and the other content.\n(3) Use the example below as a template. \n\nExample:\n\n<div class="row">\n    <div class="column">\n        <h1 class="font-normal leading-11 size-64">Headline Text Here</h1>\n    </div>\n</div>\n<div class="row">\n    <div class="column">\n        <div class="spacer height-60"></div>\n    </div>\n</div>\n'}if(t.add_space){e=e+"\n"+"- To add a space, you must add 'div.spacer' element inside a column:\n\n<div class=\"spacer height-60\"></div\n\nIf requested to increase or decrease space, use one of these classes:\n    - height-40\n    - height-60\n    - height-80\n    - height-100\n    - height-120\n    - height-140\n    - height-160\n    - height-180\n    - height-200\n\n"}if(t.add_button){e=e+"\n"+'- To add a buttons, follow these steps:\n(1) Create the necessary rows and columns.\n(2) Use the example below as a template.\n\nButton Example:\n\n<div class="row">\n    <div class="column">\n        <div>\n            <a href="#" role="button" class="transition-all inline-block whitespace-nowrap cursor-pointer no-underline border-2 border-solid mr-2 mt-2 mb-1 py-2 size-18 px-9 text-black leading-relaxed rounded-full border-transparent hover:border-transparent font-normal tracking-wide" title="" style="background-color: rgb(240, 240, 240);">Our Works</a>\n            <a href="#" role="button" class="transition-all inline-block whitespace-nowrap cursor-pointer no-underline border-2 border-solid mr-2 mt-2 mb-1 py-2 size-18 px-9 border-current hover:border-current font-normal leading-relaxed rounded-full tracking-wide" title="">Get in Touch</a>\n        </div>\n    </div>\n</div>\n'}if(t.add_youtube){let t=this.builder.media.youtube_videos;e=e+"\n"+`- To embed a YouTube or Vimeo video, wrap the <iframe> element in a <div> element with the classes 'embed-responsive' and 'embed-responsive-16by9' and add add it inside a column (Youtube and Vimeo links are case sensitive):\n<div class="embed-responsive embed-responsive-16by9">\n<iframe width="560" height="315" src="${this.chooseMedia(t)}" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>\n</div>\n`}if(t.add_video){let t=this.builder.media.videos;e=e+"\n"+`- To embed a video (MP4), use the <video> element, specify the source using the <source> element and add it inside a column:\n<video style="width: 100%;" loop="" autoplay="">\n<source src="${this.chooseMedia(t)}" type="video/mp4">\n</video>\n`}if(t.add_audio){let t=this.builder.media.audios;e=e+"\n"+`- To embed an audio (MP3), wrap the <audio> element in a <div> with the default style and class as shown below and add it inside a column:\n<div style="width: 100%; position: relative; margin: 15px 0px; background: transparent;" class="flex">\n<audio controls="" style="width:100%">\n<source src="${this.chooseMedia(t)}" type="audio/mpeg">Your browser does not support the audio element.\n</audio>\n</div>\n`}if(t.add_map){e=e+"\n"+'- To embed a google map, wrap the <iframe> element in a <div> element with the classes \'embed-responsive\' and \'embed-responsive-16by9\' and add add it inside a column:\n<div class="embed-responsive embed-responsive-16by9">\n<iframe width="100%" height="400" frameborder="0" scrolling="no" marginheight="0" marginwidth="0" class="mg1" src="https://maps.google.com/maps?q=Melbourne,+Victoria,+Australia&amp;hl=en&amp;sll=-7.981898,112.626504&amp;sspn=0.009084,0.016512&amp;oq=melbourne&amp;hnear=Melbourne+Victoria,+Australia&amp;t=m&amp;z=10&amp;output=embed"></iframe>\n</div>\n'}if(t.add_code){e=e+"\n"+"- To add a custom code, add a row and column with attributes 'data-noedit' and 'data-html', and place the custom code between \x3c!--CODESTART--\x3e and \x3c!--CODEEND--\x3e inside the column:\n<div class=\"row\">\n<div class=\"column\" data-noedit data-html>\n\x3c!--CODESTART--\x3e\nCustom Code here\n\x3c!--CODEEND--\x3e\n</div>\n</div>\n\n- Note that the column must be placed inside a row within 'div.is-container' element.\n\n"}if("image"===t.add_image&&!e.includes("{{IMAGEURL}}")){let t='- To add an image, follow these steps:\n(1) Create the necessary rows and column, or use the current column.\n(2) Add <img> element inside the column.\n(3) Use the example below as a template.\n(4) Images must use this image URL: \'{{_IMAGEURL}}\'. Replace the {{IMAGEURL}} with this URL.\n\nImage Example:\n\n<div class="row">\n    <div class="column">\n        <img src="{{IMAGEURL}}" alt="">\n    </div>\n</div>\n                \n- Important: for image, replace {{IMAGEURL}} with \'{{_IMAGEURL}}\'.\n\n';const i=this.builder.media.images.square,n=this.chooseMedia(i);t=t.replaceAll("{{_IMAGEURL}}",n),e=e+"\n"+t}if(t.change_section_height){e=e+"\n"+"- To specify section height, use one of these classes on 'div.is-section' element:\n    - is-section-10\n    - is-section-15\n    - is-section-20\n    - is-section-25\n    - is-section-30\n    - is-section-40\n    - is-section-50\n    - is-section-60\n    - is-section-70\n    - is-section-75\n    - is-section-80\n    - is-section-85\n    - is-section-90\n    - is-section-100 (section height 100%)\n    - is-section-auto (Autofit content)\n\n"}if(t.content_width){e=e+"\n"+"- To increase or decrease content/container width, use one of these classes on 'div.is-container' element:\n\n    - is-content-600\n    - is-content-700\n    - is-content-800\n    - is-content-900\n    - is-content-1000\n    - is-content-1100\n    - is-content-1200\n    - is-content-1300\n    - is-content-1400\n    - is-content-1500\n    - is-content-1600\n    - is-content-1800\n    - is-content-none (unset/full width)\n\n"}if(t.section_background&&"image"===t.section_background){e=e+"\n"+"- Background image must be added in 'div.is-overlay-bg' element inside 'div.is-overlay' element.\n\nExample:\n\n<div class=\"is-overlay\">\n    <div class=\"is-overlay-bg\" style=\"background-image: url('path/to/image.jpg'); background-position: 50% 60%;\"></div>\n</div>\n           \n"}if(t.section_background&&"slider"===t.section_background){e=e+"\n"+"- Background slider must be added in 'div.is-overlay-content' element inside 'div.is-overlay' element.\n\nExample:\n\n<div class=\"is-overlay\">\n    <div class=\"is-overlay-content\"></div>\n</div>\n\n"}if(t.section_background&&"video"===t.section_background){e=e+"\n"+"- Background video must be added in 'div.is-overlay-content' element inside 'div.is-overlay' element.\n\nExample:\n\n<div class=\"is-overlay\">\n    <div class=\"is-overlay-content\"></div>\n</div>\n\n"}if(t.align_individual_text){e=e+"\n"+"- To align a certain text (eg. align the headline, align the paragraph, etc), use 'text-left', text-center' or 'texr-right' class on the headline or paragraph as requested.\n\n"}if(t.align_whole_content&&!t.align_individual_text){e=e+"\n"+"- To align the whole content, follow these steps:\n    (1) use 'is-align-left', 'is-align-center' or 'is-align-right' on the 'div.is-container' element.\n    (2) Remove these classes: 'text-left', text-center' or 'texr-right' on every elements.\n\n"}if(t.line_height_paragraph){e=e+"\n"+"- To increase or decrease the line height of paragraphs, use one of these classes on the 'div.is-container' element:\n\n    - leading-none\n    - leading-11\n    - leading-12\n    - leading-13\n    - leading-14\n    - leading-15\n    - leading-16\n    - leading-17\n    - leading-18\n    - leading-19\n    - leading-20\n\nDo not apply this on any other element except the 'div.is-container' element.\n\n"}if(t.line_height_individual_text&&!t.line_height_paragraph){e=e+"\n"+"- To increase or decrease the line height of an individual text/element, apply this class on the requested element:\n    \n    - leading-08\n    - leading-09\n    - leading-none\n    - leading-11\n    - leading-12\n    - leading-13\n    - leading-14\n    - leading-15\n    - leading-16\n    - leading-17\n    - leading-18\n    - leading-19\n    - leading-20\n\nImportant: Do not change the 'div.is-container' element!\n\n"}if(t.font_size_paragraph){e=e+"\n"+"- To increase or decrease the font size of the paragraphs, use one of these classes on the 'div.is-container' element:\n    \n    - size-16\n    - size-17\n    - size-18\n    - size-19\n    - size-20\n    - size-21\n\nDo not apply this on any other element except the 'div.is-container' element.\n\n"}if(t.font_size_individual_text&&!t.font_size_paragraph){e=e+"\n"+"- To increase or decrease the font size of an individual text/element, apply this class on the requested element:\n    \n    - size-12\n    - size-13\n    - size-14\n    - size-15\n    - size-16\n    - size-17\n    - size-18\n    - size-19\n    - size-20\n    - size-21\n    - size-24\n    - size-28\n    - size-32\n    - size-35\n    - size-38\n    - size-42\n    - size-46\n    - size-48\n    - size-50\n    - size-54\n    - size-60\n    - size-64\n    - size-68\n    - size-72\n    - size-76\n    - size-80\n    - size-84\n    - size-88\n    - size-92\n    - size-96\n    - size-100\n    - size-104\n    - size-108\n    - size-112\n    - size-116\n    - size-120\n    - size-124\n    - size-128\n    - size-132\n    - size-136\n    - size-140\n    - size-144\n    - size-148\n    - size-152\n    - size-156\n    - size-160\n\nImportant: Do not change the 'div.is-container' element!\n\n"}return e}chooseMedia(e){let t;if(this.builder.currentMedia)do{t=Math.floor(Math.random()*e.length)}while(e[t]===this.builder.currentMedia);else t=Math.floor(Math.random()*e.length);let i=e[t];return this.builder.currentMedia=i,this.builder.mediaPath+i}getTypographyClass(e){const t=(new DOMParser).parseFromString(e,"text/html").querySelector("div.is-box").getAttribute("class").match(/type-(\S+)/);return t?t[0]:""}getCurrentStyle(){let e="type-poppins",t="size-54",i="font-normal",n="leading-none",s="",o="is-content-1000",a="size-19",l="leading-13";if(this.builder.activeBox){e=Array.from(this.builder.activeBox.classList).find((e=>e.includes("type-")))||"";const r=this.builder.activeBox.querySelector("h1,h2");r&&r.classList.forEach((e=>{e.includes("size-")&&(t=e),e.includes("leading-")&&(n=e),e.includes("font-")&&(i=e),"uppercase"===e&&(s="uppercase")}));let d=this.builder.activeBox.querySelector(".is-container");d&&d.classList.forEach((e=>{!e.includes("is-content-")||e.includes("is-content-left")||e.includes("is-content-right")||(o=e),e.includes("size-")&&(a=e),e.includes("leading-")&&(l=e)}))}return{typeClass:e,containerClass:`is-container v2 content-py-50 ${a} ${l} ${o}`,titleClass:`${""!==s?s+" ":""}${t} ${i?i+" ":""}${n}`}}getSameStyleContext(){const e=this.getCurrentStyle();let t,i;return t=`To redesign the provided section:\n- Decide the best placement of each content element (title, paragraph, images, etc) and change the position based on the template below.\n- You must update the title class with '${e.titleClass}'.\n\nThis is the template:\n\n<div class="is-section is-box is-section-100 ${e.typeClass} box-autofit min-height-70">\n<div class="is-overlay">\n</div>\n<div class="${e.containerClass}">\n    <div class="row">\n        <div class="column">\n            {{CONTENT}}\n        </div>\n    </div>\n    <div class="row">\n        <div class="column">\n            <div class="spacer height-60"></div>\n        </div>\n    </div>\n    <div class="row">\n        <div class="column">\n            <div class="spacer height-60"></div>\n        </div>\n        <div class="column">\n            {{CONTENT}}\n        </div>\n        <div class="column">\n            {{CONTENT}}\n        </div>\n    </div>\n</div>\n</div>`,i=`To redesign the provided section:\n- Decide the best placement of each content element (title, paragraph, images, etc) and change the position based on the template below.\n- You must update the title class with '${e.titleClass}'.\n\nThis is the template:\n<div class="is-box ${e.typeClass} box-auto min-height-60">\n    <div class="is-overlay">\n    </div>\n    <div class="${e.containerClass}">\n        <div class="row">\n            <div class="column">\n                {{CONTENT}}\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                <div class="spacer height-60"></div>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                <div class="spacer height-60"></div>\n            </div>\n            <div class="column">\n                {{CONTENT}}\n            </div>\n            <div class="column">\n                {{CONTENT}}\n            </div>\n        </div>\n    </div>\n</div>`,{sectionContext:t,boxContext:i}}getPreviousSectionStyle(){let e="type-poppins",t="size-54",i="font-normal",n="leading-none",s="",o="is-content-1000",a="size-19",l="leading-13";if(this.builder.savedSection){e=Array.from(this.builder.savedSection.classList).find((e=>e.includes("type-")))||"",""===e&&this.builder.activeSection&&(e=Array.from(this.builder.activeSection.classList).find((e=>e.includes("type-")))||"");const r=this.builder.savedSection.querySelector("h1,h2");r&&r.classList.forEach((e=>{e.includes("size-")&&(t=e),e.includes("leading-")&&(n=e),e.includes("font-")&&(i=e),"uppercase"===e&&(s="uppercase")}));let d=this.builder.savedSection.querySelector(".is-container");d&&d.classList.forEach((e=>{!e.includes("is-content-")||e.includes("is-content-left")||e.includes("is-content-right")||(o=e),e.includes("size-")&&(a=e),e.includes("leading-")&&(l=e)}))}return{typeClass:e,containerClass:`is-container v2 content-py-50 ${a} ${l} ${o}`,titleClass:`${""!==s?s+" ":""}${t} ${i?i+" ":""}${n}`}}getPreviousSectionStyleContext(){const e=this.getPreviousSectionStyle();let t,i;return t=`To redesign the provided section:\n- Decide the best placement of each content element (title, paragraph, images, etc) and change the position based on the template below.\n- You must update the title class with '${e.titleClass}'.\n\nThis is the template:\n\n<div class="is-section is-box is-section-100 ${e.typeClass} box-autofit min-height-70">\n<div class="is-overlay">\n</div>\n<div class="${e.containerClass}">\n    <div class="row">\n        <div class="column">\n            {{CONTENT}}\n        </div>\n    </div>\n    <div class="row">\n        <div class="column">\n            <div class="spacer height-60"></div>\n        </div>\n    </div>\n    <div class="row">\n        <div class="column">\n            <div class="spacer height-60"></div>\n        </div>\n        <div class="column">\n            {{CONTENT}}\n        </div>\n        <div class="column">\n            {{CONTENT}}\n        </div>\n    </div>\n</div>\n</div>`,i=`To redesign the provided section:\n- Decide the best placement of each content element (title, paragraph, images, etc) and change the position based on the template below.\n- You must update the title class with '${e.titleClass}'.\n\nThis is the template:\n<div class="is-box ${e.typeClass} box-auto min-height-60">\n    <div class="is-overlay">\n    </div>\n    <div class="${e.containerClass}">\n        <div class="row">\n            <div class="column">\n                {{CONTENT}}\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                <div class="spacer height-60"></div>\n            </div>\n        </div>\n        <div class="row">\n            <div class="column">\n                {{CONTENT}}\n            </div>\n            <div class="column">\n                {{CONTENT}}\n            </div>\n        </div>\n    </div>\n</div>`,{sectionContext:t,boxContext:i}}adjustFromSlider(e){if(e&&e.querySelector(".glide")){const t=e.querySelector(".is-container");t&&t.classList.contains("edge-x-3")&&(t.classList.remove("edge-x-3"),t.classList.add("edge-x-2"))}}adjustToSlider(e){if(!e)return;const t=e.querySelector(".is-container");t&&t.classList.contains("edge-x-2")&&(t.classList.remove("edge-x-2"),t.classList.add("edge-x-3"))}}class xy{constructor(e){this.builder=e,this.lib=new yy(e);const t=this.builder.builderStuff;this.builderStuff=t;let n=`\n        <div class="is-modal ai-disclaimer" style="z-index:10005" tabindex="-1" role="dialog" aria-modal="true" aria-hidden="true">\n            <div class="is-modal-content" style="max-width:450px;padding:55px 40px 35px;font-size:16px;line-height:1.4;letter-spacing: 1px;">\n                <div class="is-modal-bar is-draggable">\n                    ${i("AI-Powered Features")}\n                    <button class="is-modal-close" tabindex="-1" title="${i("Close")}">&#10005;</button>\n                </div>\n                ${i("AI-Disclaimer",this.builder.disclaimerAI)}\n                <div style="text-align:right;margin-top:20px;">\n                    <button title="${i("Ok")}" class="input-ok classic-primary" style="width:100%;text-transform: uppercase;\n                    font-size: 14px;">${i("Ok")}</button>\n                </div>\n            </div>\n        </div>\n        <div class="is-modal ai-config" tabindex="-1" role="dialog" aria-modal="true" aria-hidden="true">\n            <div class="is-modal-content" style="max-width:380px;padding:55px 40px 35px;">\n                <div class="is-modal-bar is-draggable">\n                    ${i("Settings")}\n                    <button class="is-modal-close" tabindex="-1" title="${i("Close")}">&#10005;</button>\n                </div>\n              \n                <div class="is-label"><span>${i("Temperature")}</span>: <span class="val-temp">0.6</span></div>\n                <div style="padding-top:4px">\n                    <input type="range" min="0" max="2" step="0.01" value="0.6" class="temperature-slider is-rangeslider" style="margin:0 !important;">\n                </div>\n                \n                <div class="is-label" style="margin-top:15px"><span>${i("Top P")}</span>: <span class="val-top-p">0.9</span></div>\n                <div style="padding-top:4px">\n                    <input type="range" min="0" max="1" step="0.01" value="0.9" class="top-p-slider is-rangeslider" style="margin:0 !important;">\n                </div>\n\n                <div style="text-align:right">\n                    <button title="${i("Reset")}" class="input-reset classic-secondary" style="text-decoration: underline;padding: 0;box-shadow: none;">${i("Reset")}</button>\n                </div>\n\n                <label for="inpContextNum" style="display: block;margin-bottom:3px">${i("Redesign Style")}:</label>\n                <select id="inpContextNum" style="width: 100%;">\n                    <option value="random">${i("Random")}</option>\n                    <option value="">${i("None (Same Style)")}</option>\n                    <option value="0">01: Poppins</option>\n                    <option value="1">02: Heebo & IBM Plex Mono</option>\n                    <option value="2">03: Poppins & Lekton</option>\n                    <option value="3">04: Raleway & Lato</option>\n                    <option value="4">05: Alegreya & Lato </option>\n                    <option value="5">06: Montserrat & Roboto</option>\n                    <option value="6">07: Poppins</option>\n                    <option value="7">08: Frank Ruhl Libre & Lato</option>\n                    <option value="8">09: Alegreya Sans SC & Hind</option>\n                    <option value="9">10: Oranienbaum & Source Sans Pro</option>\n                    <option value="10">11: Anonymous Pro & Catamaran</option>\n                </select>\n\n                <div style="text-align:right;margin-top:25px;">\n                    <button title="${i("Ok")}" class="input-ok classic-primary" style="width:100%;">${i("Ok")}</button>\n                </div>\n            </div>\n        </div>\n\n        <div class="is-pop ai-more arrow-top right" style="z-index:10006;" tabindex="-1" role="dialog" aria-modal="true" aria-hidden="true">\n            <div style="display:flex;flex-flow:wrap;flex-direction: column;margin:5px;">\n\n                <div style="width:100%;">\n                    <button type="button" title="${i("Save Section Style")}" class="cmd-save-section-style" style="background:transparent;width:100%;justify-content:flex-start;padding: 0 12px;box-shadow: none;">\n                        ${i("Save Section Style")}\n                    </button>\n                    <button type="button" title="${i("Redesign with Saved Style")}" class="cmd-redesign-with-section-style" style="background:transparent;width:100%;justify-content:flex-start;padding: 0 12px;box-shadow: none;">\n                        ${i("Redesign with Saved Style")}\n                    </button>\n                    <button type="button" title="${i("Settings")}" class="cmd-ai-settings" style="background:transparent;width:100%;justify-content:flex-start;padding: 0 12px;box-shadow: none;">\n                        ${i("Settings")}\n                    </button>\n                </div>\n\n            </div>\n        </div>\n        `;t.insertAdjacentHTML("beforeend",n),this.modalDisclaimer=t.querySelector(".ai-disclaimer"),this.modalConfig=t.querySelector(".ai-config"),this.popAIMore=t.querySelector(".ai-more");this.popAIMore.querySelector(".cmd-save-section-style").addEventListener("click",(()=>{this.builder.savedSection=this.builder.activeSection,this.builder.editor.util.hidePop(this.popAIMore)}));this.popAIMore.querySelector(".cmd-redesign-with-section-style").addEventListener("click",(()=>{this.redesign(!0),this.builder.editor.util.hidePop(this.popAIMore)}));this.popAIMore.querySelector(".cmd-ai-settings").addEventListener("click",(()=>{this.config(),this.builder.editor.util.hidePop(this.popAIMore)}));this.modalDisclaimer.querySelector(".input-ok").addEventListener("click",(()=>{this.builder.editor.util.hideModal(this.modalDisclaimer),this.dictation.openDictation()}));this.modalConfig.querySelector(".input-ok").addEventListener("click",(()=>{const e=this.modalConfig.querySelector(".temperature-slider");localStorage.setItem("_temp",e.value);const t=this.modalConfig.querySelector(".top-p-slider");localStorage.setItem("_top_p",t.value);const i=this.modalConfig.querySelector("#inpContextNum");localStorage.setItem("_context_num",i.value),this.builder.hideModal(this.modalConfig)}));this.modalConfig.querySelector(".input-reset").addEventListener("click",(()=>{this.resetConfig()}));const s=this.modalConfig.querySelector(".val-temp"),o=this.modalConfig.querySelector(".temperature-slider");o.oninput=()=>{s.innerHTML=o.value};const a=this.modalConfig.querySelector(".val-top-p"),l=this.modalConfig.querySelector(".top-p-slider");l.oninput=()=>{a.innerHTML=l.value};let r=vy;this.builder.contextList&&(r=this.builder.contextList),this.dictation=this.builder.editor.dictation;const d=e=>{let t=this.builder.activeBox;if(t||(this.builder.selectSection(),t=this.builder.activeBox),this.builder.enableShortCommands){if(!(e=this.builder.editor.lib.processShortCommand(e)))return!1;const t=this.builder.editor.similarity.check(e);if(!(e=this.processPrompt(t,e)))return!1}return e},c=async e=>{let t=this.builder.editor.activeCol;if(!t)return this.builder.showMessage(i("Please select a block or content.")),void this.dictation.finish();let s=t.innerHTML,o="";this.sendCommand("analyze",`This is the command: "${e}"`,"","You will analyze the user's command and return what the user needs.",this.lib.getFunctions_block(),(i=>{const a=JSON.parse(i);this.builder.consoleLog&&console.log(a);const l=Object.keys(a).length;if(1===l){let e=this.quickAction(a);if(e)return void this.dictation.finish();if(e=this.blockAction(a),e)return void this.dictation.finish()}let r;if(this.moveBlockContent(a))return this.dictation.finish(),!0;a.new_block?(r="You will be asked to create content (in HTML) and return the HTML without any additional explanation.",o='To add a content/block:\n- Create the required rows and column and add them inside the \'div.column\' element:\n\n    <div class="row">\n        <div class="column">\n            {{CONTENT}}\n        </div>\n    </div>\n\nExample: To create a block with a headline and a paragraph:\n\n    <div class="row">\n        <div class="column">\n            <h2 class="font-normal leading-none size-48">Heading here</h2>\n            <p>Paragraph here.</p>\n        </div>\n    </div>\n                        \n'):1===l&&(a.new_column_onright||a.new_column_onleft)?(r="You will be asked to create a single HTML block/column and return the HTML without any additional explanation.",o="To create a column, create single 'div.column' element and add a paragraph inside it.\n\nExample:\n\n    <div class=\"column\">\n        <p>Paragraph here.</p>\n    </div>\n  \n",e=`${e}.  No talk; just do. You must return only one 'div.column'.`):a.new_column_onright||a.new_column_onleft?(r="You will be asked to create content (in HTML) and return the HTML without any additional explanation.",o='To add a column that contains a content:\n- Create one \'div.column\' element and add the content inside it:\n\n    <div class="column">\n        {{CONTENT}}\n    </div>\n\nExample 1: To create a column with a headline and a paragraph:\n\n    <div class="column">\n        <h2 class="font-normal leading-none size-48">Heading here</h2>\n        <p>Paragraph here.</p>\n    </div>\n\n\nExample 2: To create a column with an image:\n\n    <div class="column">\n        <img src="{{IMAGEURL}}">\n    </div>\n  \n'):(r="You will be asked to modify content (in HTML) and return only the modified HTML without any additional explanation.",e=`${e}. Modify my content according to this instruction and returns the modified content HTML.\n\nThis is my content:\n            \n${s}\n`),o=this.lib.elementContext(o,a),this.builder.consoleLog&&(console.log(r),console.log(e),console.log(o));this.sendCommand("assistant",e,o,r,[],(e=>{if(this.builder.consoleLog&&console.log(e),n=this.fixHtmlBlock(e),!n)return this.dictation.finish(!0),!1;if((a.new_column_onright||a.new_column_onleft)&&(n=this.fixNewBlock(e)),this.builder.editor.saveForUndo(),a.new_block){if(t){const e=t.parentNode;e&&(e.insertAdjacentHTML("afterend",n),setTimeout((()=>{e.nextElementSibling.firstElementChild.click()}),300))}}else if(a.new_column_onright){if(t){const e=t.parentNode;t.insertAdjacentHTML("afterend",n),this.builder.editor.util.fixLayout(e),setTimeout((()=>{t.nextElementSibling.click()}),300)}}else if(a.new_column_onleft){if(t){const e=t.parentNode;t.insertAdjacentHTML("beforebegin",n),this.builder.editor.util.fixLayout(e),setTimeout((()=>{t.previousElementSibling.click()}),300)}}else{t.innerHTML=n;let e=t.querySelector(".elm-active");e&&(this.builder.editor.activeElement=e,e.focus())}let i=this.builder.doc.querySelector(".builder-active");i&&this.builder.editor.applyBehaviorOn(i),this.builder.settings.onChange(),this.builder.settings.onRender(),this.dictation.finish()}))}))},u=async e=>{if(!this.builder.activeBox)return this.builder.showMessage(i("Please select a box.")),void this.dictation.finish();this.dictation.startSending();this.builder.editor.generateImage(e,(e=>{this.builder.editor.saveForUndo();let t=this.builder.editor.activeElement;if(t&&t.tagName){"img"===t.tagName.toLowerCase()?(this.builder.editor.saveForUndo(),t.onload=async()=>{let e=document.querySelector("#divImageResizer");e&&e.click()},t.setAttribute("src",e),this.builder.onChange()):this.builder.boxImage(e)}else this.builder.boxImage(e);this.dictation.finish()}))},p=async e=>{let t="You are a helpful assistant. You don't need to answer 'Sure!' or 'Certainly'. You will just provide direct answers without a prologue. No talk; just do.";this.builder.consoleLog&&(console.log(""),console.log(e),console.log(t)),this.sendCommand("assistant",e,t,"",[],(e=>{this.builder.consoleLog&&console.log(e);let t="You will be provided with a text content and your task is to put the content (completely) as it is in the provided template.",i=`Place my content in the provided template. Ensure that all the content are placed in the result. Feel free to add more rows/columns if needed, but don't change/add/reduce the content.\n\nThis is my content:\n\n${e}\n`;const n=e=>1===(e.match(/\./g)||[]).length,s=e=>e.trim().split(/\s+/).length;let o;this.builder.consoleLog&&console.log(n(e),s(e)),o=n(e)||s(e)<=100?r.short_content:r.new_section_answer;this.builder.consoleLog&&(console.log(t),console.log(i),console.log(o)),this.sendCommand("html",i,o,t,[],(e=>{if(this.builder.consoleLog&&console.log(e),!(e=this.fixHtml(e)))return this.dictation.finish(!0),!1;this.builder.editor.saveForUndo(),this.renderResult_NewSection(e),this.dictation.finish()}))}))},h=async e=>{let t=this.builder.activeBox;if(!t)return this.builder.showMessage(i("Please select a box.")),void this.dictation.finish();e=`${e}.\n\nThis is my current content:\n\n${t.innerText}\n`;let n="",s="You are a helpful assistant. You will provide direct answers without a prologue.";this.builder.consoleLog&&(console.log(n),console.log(e),console.log(s)),this.sendCommand("assistant",e,s,n,[],(e=>{this.builder.consoleLog&&console.log(e),n="You will be provided with a text content and your task is to put the content (completely) as it is in the provided template.";let t=`Place my content in the provided template. Ensure that all the content are placed in the result. Feel free to add more rows/columns if needed, but don't change/add/reduce the content.\n\nThis is my content:\n\n${e}\n`;const i=e=>1===(e.match(/\./g)||[]).length,s=e=>e.trim().split(/\s+/).length;let o;this.builder.consoleLog&&console.log(i(e),s(e)),o=i(e)||s(e)<=100?r.short_content:r.new_section_answer;this.builder.consoleLog&&(console.log(n),console.log(t),console.log(o)),this.sendCommand("html",t,o,n,[],(e=>{if(this.builder.consoleLog&&console.log(e),!(e=this.fixHtml(e)))return this.dictation.finish(!0),!1;this.builder.editor.saveForUndo(),this.renderResult_NewSection(e),this.dictation.finish()}))}))},m=async(e,t)=>{let s=this.builder.editor.activeCol;if(!s)return this.builder.showMessage(i("Please select a block or content.")),void this.dictation.finish();const o="You will be asked to modify content (in HTML) and return only the modified HTML without any additional explanation.";e=`${e}. Modify my content according to this instruction and returns the modified content HTML.\n            \nThis is my content:\n                \n${s.innerHTML}\n`;let a=this.lib.addElementContext("",t);this.builder.consoleLog&&(console.log(o),console.log(e),console.log(a));this.sendCommand("assistant",e,a,o,[],(e=>{if(this.builder.consoleLog&&console.log(e),n=this.fixHtmlBlock(e),!n)return this.dictation.finish(!0),!1;this.builder.editor.saveForUndo(),s.innerHTML=n;let t=s.querySelector(".elm-active");t&&(this.builder.editor.activeElement=t,t.focus());let i=this.builder.doc.querySelector(".builder-active");i&&this.builder.editor.applyBehaviorOn(i),this.builder.settings.onChange(),this.builder.settings.onRender(),this.dictation.finish()}))},g=async e=>{let t=this.builder.activeBox,n=this.builder.activeSection,s=!1;n&&n.classList.contains("is-box")&&(s=!0),t||(this.builder.selectSection(),t=this.builder.activeBox,n=this.builder.activeSection,n&&n.classList.contains("is-box")&&(s=!0)),this.sendCommand("analyze",`This is the command: "${e}"`,"","You will analyze the user's command and return what the user needs.",this.lib.getFunctions(),(n=>{const o=JSON.parse(n);if(this.builder.consoleLog&&console.log(o),o.asking_info&&!o.add_info)return this.builder.consoleLog&&console.log("asking_info"),void p(e);if(o.write_based_on_the_current_content)return this.builder.consoleLog&&console.log("write_based_on_the_current_content"),void h(e);const a=(e=>{let t=0;for(const i in e)!0===e[i]&&t++;return t})(o);if(this.builder.editor.activeCol){if(o.align_individual_text||o.font_size_individual_text||o.line_height_individual_text)return void m(e,o);if(o.add_column_or_block)return void c(e)}if(t&&1===a){let e=this.blockAction(o);if(e)return void this.dictation.finish();if(this.lib.processContent(o,t))return void this.dictation.finish();if(o.change_content_light&&!o.change_color_individual_text)return this.builder.editor.saveForUndo(),this.builder.editor.lib.updateContentColor(t,"light"),this.builder.settings.onChange(),this.dictation.finish(),!1;if(o.change_content_dark&&!o.change_color_individual_text)return this.builder.editor.saveForUndo(),this.builder.editor.lib.updateContentColor(t,"dark"),this.builder.settings.onChange(),this.dictation.finish(),!1;if(o.section_background&&"image"===o.section_background){this.builder.editor.saveForUndo(),this.lib.adjustFromSlider(t),this.builder.editbox.removeCode();let e,i=this.builder.editor.lib.getCurrentBackground(t);if(e=""!==i?this.chooseBgImage(t,i):this.chooseBgImage(t),this.builder.editor.lib.updateBackgroundImage(t,e),t.classList.contains("is-section")){const e=t.querySelector("div.is-overlay");if(e&&e.querySelector(".is-overlay-bg")){let t=e.closest(".is-box");t&&t.querySelector(".is-container")&&(t.classList.add("m-overlay-stack"),t.classList.add("m-dark-text"))}}return this.builder.settings.onChange(),this.dictation.finish(),!1}if(o.section_background&&"slider"===o.section_background)return this.builder.editor.saveForUndo(),this.builder.editbox.addCode(t,"slider"),this.lib.adjustToSlider(t),this.builder.settings.onChange(),this.dictation.finish(),!1;if(o.section_background&&"video"===o.section_background)return this.builder.editor.saveForUndo(),this.lib.adjustFromSlider(t),this.builder.editbox.addCode(t,"video"),this.builder.settings.onChange(),this.dictation.finish(),!1;if(o.section_background&&"remove"===o.section_background)return this.builder.editor.saveForUndo(),this.lib.adjustFromSlider(t),this.builder.editor.lib.clearBackgroundImage(t),this.builder.editbox.removeCode(),this.builder.settings.onChange(),this.dictation.finish(),!1;if(o.change_font){this.builder.editor.saveForUndo();let e=this.builder.settings.contentStyles.data.styles;const t=e[Math.floor(Math.random()*e.length)];let i=t.classname,n=t.sectioncss,s=t.css;return this.builder.sidebar.boxTypography(i,n,s),this.builder.settings.onChange(),this.dictation.finish(),!1}if(o.change_section_height){let e=parseInt(o.change_section_height);if(!isNaN(e)){if([10,15,20,25,30,40,50,60,70,75,80,85,90,100].includes(e))return this.builder.editor.saveForUndo(),this.builder.editsection.updateSectionHeight(t,e),this.builder.settings.onChange(),void this.dictation.finish()}}if(o.align_whole_content){const e=o.align_whole_content;if("left"===e||"center"===e||"right"===e)return this.builder.editor.saveForUndo(),this.builder.editor.lib.alignContent(t,e),this.builder.settings.onChange(),this.dictation.finish(),!1}if(o.content_width){const e=o.content_width;if("increase"===e||"decrease"===e)return this.builder.editor.saveForUndo(),"increase"===e?this.builder.editor.lib.updateContentSize(t,"+"):this.builder.editor.lib.updateContentSize(t,"-"),this.builder.settings.onChange(),this.dictation.finish(),!1}const i=t.querySelector(".is-container");if(o.font_size_paragraph&&i){const e=o.font_size_paragraph;if("increase"===e||"decrease"===e)return this.builder.editor.saveForUndo(),"increase"===e?this.builder.editor.lib.increaseFontSize(i,!0):this.builder.editor.lib.decreaseFontSize(i,!0),this.builder.settings.onChange(),this.dictation.finish(),!1}if(o.line_height_paragraph&&i){const e=o.line_height_paragraph;if("increase"===e||"decrease"===e)return this.builder.editor.saveForUndo(),"increase"===e?this.builder.editor.lib.increaseLineHeight(i,!0):this.builder.editor.lib.decreaseLineHeight(i,!0),this.builder.settings.onChange(),this.dictation.finish(),!1}if(o.animation){const e=o.animation;if("fade-in"===e||"slide-up"===e||"zoom-in"===e||"remove"===e)return this.builder.editor.saveForUndo(),"fade-in"===e&&this.builder.animateScroll.applyPresetBasic("is-fadeInUp",100),"slide-up"===e&&this.builder.animateScroll.applyPresetBasic("is-slideInUp",100),"zoom-in"===e&&this.builder.animateScroll.applyPresetBasic("is-zoomIn",300),"remove"===e&&this.builder.animateScroll.clearAllAnim(),this.builder.settings.onChange(),this.dictation.finish(),!1}if(e=this.quickAction(o),e)return void this.dictation.finish()}if(!(o.new_section||o.new_section_two_boxes||o.new_section_three_boxes||o.new_section_four_boxes||t||(this.builder.selectSection(),t=this.builder.activeBox,t)))return this.builder.showMessage(i("Please select a box.")),void this.dictation.finish();let l="";if(o.new_section||o.new_section_two_boxes||o.new_section_three_boxes||o.new_section_four_boxes)if(o.new_section){if(l="gallery"===o.add_image?r.new_section_with_gallery:o.add_list_with_image?r.new_section_with_list_images:o.add_list_with_icon?r.new_section_with_list_icons:o.add_list_with_number?this.chooseContext(r.new_section_with_list_numbering):o.add_list&&!o.add_article?r.new_section_with_list:o.add_article&&"image"===o.add_image?this.chooseContext(r.new_section_article_with_image):o.add_article?this.chooseContext(r.new_section_article):o.section_background&&"image"===o.section_background?this.chooseContext(r.new_section):(o.add_headline||o.add_paragraph)&&"image"===o.add_image?r.new_section_with_image:r.new_section_others,o.others&&(l=r.new_section_others,e=`Add a new section containing your response on this user request: ${e}`),l.includes("{{_IMAGEURL}}")){const e=this.builder.media.images.square,t=this.lib.chooseMedia(e);l=l.replaceAll("{{_IMAGEURL}}",t)}}else if(o.new_section_two_boxes||o.new_section_three_boxes||o.new_section_four_boxes){if(o.new_section_two_boxes?l=r.new_section_two_boxes:o.new_section_three_boxes?l=r.new_section_three_boxes:o.new_section_four_boxes&&(l=r.new_section_four_boxes),(o.add_headline||o.add_paragraph)&&"image"===o.add_image?l+="\n\n"+r.update_section_with_image:"gallery"===o.add_image?l+="\n\n"+r.update_section_with_gallery:o.add_list_with_image?l+="\n\n"+r.update_section_with_list_images:o.add_list_with_icon?l+="\n\n"+r.update_section_with_list_icons:o.add_list_with_number?l+="\n\n"+this.chooseContext(r.update_section_with_list_numbering):o.add_list?l+="\n\n"+r.update_section_with_list:(o.add_article&&"image"===o.add_image||o.add_article)&&(l+="\n\n"+r.update_section_article_with_image),l.includes("{{_IMAGEURL}}")){const e=this.builder.media.images.square,t=this.lib.chooseMedia(e);l=l.replaceAll("{{_IMAGEURL}}",t)}}else l=this.chooseContext(r.new_section_article);else{if(!this.checkSelectedContent(t))return void this.dictation.finish(!0);let i=this.builder.editor.lib.getHtml(t);const n=this.parseContent(i);this.builder.overlayContentHtml=n.overlayContent,this.builder.overlayBgHtml=n.overlayBg,this.builder.textColorClass=n.textColorClass,this.builder.overlayBgColor=n.overlayBgColor,i=n.html;let a="";if(o.redesign_layout){const e=t.querySelector(".is-container");let i,n,o;e&&(i=e.querySelector("h1,h2"),i&&(n=i.tagName.toLowerCase())),a="Change the placement of the title, paragraph and all elements in my section based on the layout template. ",o=null!==localStorage.getItem("_context_num")?localStorage.getItem("_context_num"):"random",l=""===o?"":"random"===o?s?this.chooseContext(r.redesign_layout):this.chooseContext(r.change_layout_of_box):s?this.chooseContext(r.redesign_layout,o):this.chooseContext(r.change_layout_of_box,o),"h2"===n&&(l=l.replaceAll("h1","h2"))}if(e=`${a}${e}. Modify my section according to this instruction and returns the modified section HTML.\n\nThis is my section:\n            \n${i}\n`,o.change_text||((o.add_headline||o.add_paragraph)&&"image"===o.add_image?l+="\n"+r.update_section_with_image:"gallery"===o.add_image?l+="\n"+r.update_section_with_gallery:o.add_list_with_image?l+="\n"+r.update_section_with_list_images:o.add_list_with_icon?l+="\n"+r.update_section_with_list_icons:o.add_list_with_number?l+="\n"+this.chooseContext(r.update_section_with_list_numbering):o.add_list?l+="\n"+r.update_section_with_list:(o.add_article&&"image"===o.add_image||o.add_article)&&(l+="\n"+r.update_section_article_with_image)),l.includes("{{_IMAGEURL}}")){const e=this.builder.media.images.square,t=this.lib.chooseMedia(e);l=l.replaceAll("{{_IMAGEURL}}",t)}}l=this.lib.addElementContext(l,o);let d="You will be provided with HTML code to modify, and your task is to return only the modified HTML code, excluding any introductions or explanations\n";(o.new_section||o.new_section_two_boxes||o.new_section_three_boxes||o.new_section_four_boxes)&&(d="Your task it to create and return HTML content, excluding any introductions or explanations.");this.builder.consoleLog&&(console.log(d),console.log(e),console.log(l)),this.sendCommand("html",e,l,d,[],(e=>{if(this.builder.consoleLog&&console.log(e),!(e=this.fixHtml(e)))return this.dictation.finish(!0),!1;if(o.new_section||o.new_section_two_boxes||o.new_section_three_boxes||o.new_section_four_boxes)e=this.fixButtons(e),e=this.fixBgImage(e),e=this.fixNewSection(e),o.section_background&&"image"===o.section_background&&(e=this.setBgImage(e,!0)),o.section_background&&"slider"===o.section_background&&(e=this.setBgSlider(e)),o.section_background&&"video"===o.section_background&&(e=this.setBgVideo(e)),e=this.applyBgStack(e),this.renderResult_NewSection(e);else{e=this.fixButtons(e),e=this.fixCustomCode(e),e=this.analyzeTitle(e,l);let t=this.mergeContent(e,this.builder.overlayContentHtml,this.builder.overlayBgHtml,this.builder.textColorClass,this.builder.overlayBgColor,o);if(!t)return this.builder.consoleLog&&console.log(e),console.log("Unable to proceed. Error: mergeContent."),void this.dictation.finish(!0);e=t,o.section_background&&"image"===o.section_background&&(e=this.setBgImage(e)),o.section_background&&"slider"===o.section_background&&(e=this.setBgSlider(e)),o.section_background&&"video"===o.section_background&&(e=this.setBgVideo(e)),o.section_background&&"image"===o.section_background&&(e=this.applyBgStack(e)),this.renderResult(e)}this.dictation.finish()}))}))};this.dictation.opts.send=e=>{this.builder.activeBox||this.builder.selectSection(),"image"!==this.builder.editor.assistantMode?(e=d(e))&&("general"===this.builder.editor.assistantMode?g(e):"others"===this.builder.editor.assistantMode?p(e):"block"===this.builder.editor.assistantMode&&c(e)):u(e)},this.dictation.opts.abort=()=>{this.controller&&this.controller.abort(),this.builder.editor.controller&&this.builder.editor.controller.abort(),this.dictation.finish(!0)}}resetConfig(){const e=this.modalConfig.querySelector(".temperature-slider"),t=this.modalConfig.querySelector(".val-temp");e.value=this.builder.temperature,t.innerHTML=this.builder.temperature;const i=this.modalConfig.querySelector(".top-p-slider"),n=this.modalConfig.querySelector(".val-top-p");i.value=this.builder.topP,n.innerHTML=this.builder.topP}config(){this.builder.showModal(this.modalConfig,!1);const e=this.modalConfig.querySelector(".temperature-slider"),t=this.modalConfig.querySelector(".val-temp");if(null!==localStorage.getItem("_temp")){let i=localStorage.getItem("_temp");e.value=i,t.innerHTML=i}else e.value=this.builder.temperature,t.innerHTML=this.builder.temperature;const i=this.modalConfig.querySelector(".top-p-slider"),n=this.modalConfig.querySelector(".val-top-p");if(null!==localStorage.getItem("_top_p")){let e=localStorage.getItem("_top_p");i.value=e,n.innerHTML=e}else i.value=this.builder.topP,n.innerHTML=this.builder.topP;const s=this.modalConfig.querySelector("#inpContextNum");if(null!==localStorage.getItem("_context_num")){let e=localStorage.getItem("_context_num");s.value=e}else s.value="random"}rewrite(){const e=this.builder.activeBox;if(!e)return;if(!this.checkSelectedContent(e))return;let t=this.builder.editor.lib.getHtml(e);const i=this.parseContent(t);this.builder.overlayContentHtml=i.overlayContent,this.builder.overlayBgHtml=i.overlayBg,this.builder.textColorClass=i.textColorClass,this.builder.overlayBgColor=i.overlayBgColor,t=i.html;let n="";t.toLowerCase().includes("lorem ipsum")&&(n=" Change all dummy text, including the 'lorem ipsum'. Update it with your ideas according to the topic.");let s=`Revise the headline, paragraph, and all the text using alternative ideas. ${n}`;s=`${s}. Modify the section according to this instruction and returns the complete modified section HTML.\n\n        This is my current section:\n\n        ${t}\n        `;this.sendCommand("html",s,"","You will be provided with HTML code to modify, and your task is to return only the modified HTML code, excluding any introductions or explanations\n",[],(e=>{if(this.builder.consoleLog&&console.log(e),!(e=this.fixHtml(e)))return this.dictation.finish(!0),!1;let t=this.mergeContent(e,this.builder.overlayContentHtml,this.builder.overlayBgHtml,this.builder.textColorClass,this.builder.overlayBgColor,!1);if(!t)return this.builder.consoleLog&&console.log(e),console.log("Unable to proceed. Error: mergeContent."),void this.dictation.finish(!0);this.renderResult(t),this.dictation.finish()}))}redesign(e){const t=this.builder.activeBox;t&&this.checkSelectedContent(t)&&this._redesign(e)}_redesign(e){const t=this.builder.activeBox;if(!t)return;const i=this.builder.activeSection;let n=!1;i&&i.classList.contains("is-box")&&(n=!0);let s=this.builder.editor.lib.getHtml(t);const o=this.parseContent(s);this.builder.overlayContentHtml=o.overlayContent,this.builder.overlayBgHtml=o.overlayBg,this.builder.textColorClass=o.textColorClass,this.builder.overlayBgColor=o.overlayBgColor,s=o.html;let a="Let's redesign the layout. Surprise me with a new idea!";a=`Change the placement of the title, paragraph and all elements in my section based on the layout template. ${a}\n\nThis is my section:\n\n${s}\n\n`;let l,r,d=vy;if(this.builder.contextList&&(d=this.builder.contextList),r=null!==localStorage.getItem("_context_num")?localStorage.getItem("_context_num"):"random",l=""===r?"":"random"===r?n?this.chooseContext(d.redesign_layout):this.chooseContext(d.change_layout_of_box):n?this.chooseContext(d.redesign_layout,r):this.chooseContext(d.change_layout_of_box,r),e){let e=this.lib.getPreviousSectionStyleContext();l=n?e.sectionContext:e.boxContext}const c=t.querySelector(".is-container");let u,p;c&&(u=c.querySelector("h1,h2"),u&&(p=u.tagName.toLowerCase())),"h2"===p&&(l=l.replaceAll("h1","h2")),this.builder.consoleLog&&console.log(l);let h="";const m=l.match(/type-(\w+(?:-\w+)?)/);m&&m.length>1&&(h="type-"+m[1]);this.sendCommand("html",a,l,"You will be provided with HTML code to modify, and your task is to return only the modified HTML code, excluding any introductions or explanations\n",[],(e=>{if(this.builder.consoleLog&&console.log(e),!(e=this.fixHtml(e)))return this.dictation.finish(!0),!1;e=this.fixButtons(e),e=this.fixCustomCode(e),e=this.analyzeTitle(e,l);let t=this.mergeContent(e,this.builder.overlayContentHtml,this.builder.overlayBgHtml,this.builder.textColorClass,this.builder.overlayBgColor,!1);if(!t)return this.builder.consoleLog&&console.log(e),console.log("Unable to proceed. Error: mergeContent."),void this.dictation.finish(!0);this.renderResult(t,h),this.dictation.finish()}))}analyzeTitle(e,t){let i=["font-thin","font-extralight","font-light","font-normal","font-medium","font-semibold","font-bold","font-extrabold","font-black"],n="";for(const e of i)if(t.includes(e)){n=e;break}let s=(new DOMParser).parseFromString(e,"text/html");const o=s.querySelector("h1, h2");if(o&&n){for(const e of i)o.classList.remove(e);return o.classList.add(n),s.body.innerHTML}return e}openDictation(){if(this.builder.showDisclaimer)if(null===localStorage.getItem("_disclaimershown")){this.builder.editor.util.showModal(this.modalDisclaimer,!0,(()=>{this.dictation.openDictation()}),!0);this.modalDisclaimer.querySelector(".input-ok").focus(),setTimeout((()=>{this.modalDisclaimer.querySelector(".input-ok").focus()}),600),localStorage.setItem("_disclaimershown",!0)}else this.dictation.openDictation();else this.dictation.openDictation()}processPrompt(e,t){const i=this.builder.activeBox;if(!i)return t;const n=e=>{if(!e)return;let t,i;e&&(t=e.querySelector(":first-child")),t&&t.click(),t&&(i=t.querySelector(":first-child")),i&&i.click()};if("select"===e){let e=i.querySelector("h1, p, h2, h3");return e?e.click():(e=i.querySelector(".is-container > div > div"),e&&e.click()),!1}if("select_next"===e){let e=i.querySelector(".row-active");return e&&(e=e.nextElementSibling),n(e),!1}if("select_previous"===e){let e=i.querySelector(".row-active");return e&&(e=e.previousElementSibling),n(e),!1}if("select_last"===e)return(()=>{const e=i.querySelector(".is-container");if(!e)return!1;let t;const s=e.children;for(let e=s.length-1;e>=0;e--){const i=s[e];if(i.querySelector(":first-child")){t=i;break}}t&&n(t)})(),!1;if("select_block"===e){let e=i.querySelector("h1, p, h2, h3");return e?e.click():(e=i.querySelector(".is-container > div > div"),e&&e.click()),!1}if("unselect_block"===e)return i.click(),i.click(),!1;if("select_headline"===e){const e=i.querySelector("h1,h2,h3");return e&&e.click(),!1}if("select_paragraph"===e){const e=i.querySelector("p");return e&&e.click(),!1}if("select_image"===e){const e=i.querySelector("img");return e&&e.click(),!1}if("select_space"===e){const e=i.querySelector("div.spacer");return e&&e.click(),!1}if("select_button"===e){const e=i.querySelector('a[role="button"]');return e&&e.click(),!1}if(e=((e,t)=>{if("move_content_left"===e||"move_content_center"===e||"move_content_right"===e||"move_content_top"===e||"move_content_bottom"===e||"align_content_top_left"===e||"align_content_top_right"===e||"align_content_bottom_left"===e||"align_content_bottom_right"===e){let i=!1;-1===t.indexOf("top left")&&-1===t.indexOf("left top")&&-1===t.indexOf("top center")&&-1===t.indexOf("center top")&&-1===t.indexOf("top right")&&-1===t.indexOf("right top")&&-1===t.indexOf("middle left")&&-1===t.indexOf("left middle")&&-1===t.indexOf("middle center")&&-1===t.indexOf("center middle")&&-1===t.indexOf("middle right")&&-1===t.indexOf("right middle")&&-1===t.indexOf("bottom left")&&-1===t.indexOf("left bottom")&&-1===t.indexOf("bottom center")&&-1===t.indexOf("center bottom")&&-1===t.indexOf("bottom right")&&-1===t.indexOf("right bottom")||(i=!0),i||(-1!==t.indexOf("top")?e="move_content_top":-1!==t.indexOf("bottom")?e="move_content_bottom":-1!==t.indexOf("left")?e="move_content_left":-1!==t.indexOf("center")?e="move_content_center":-1!==t.indexOf("right")&&(e="move_content_right"))}return e})(e,t),"change_font"==e){this.builder.editor.saveForUndo();let e=this.builder.settings.contentStyles.data.styles;const t=e[Math.floor(Math.random()*e.length)];let i=t.classname,n=t.sectioncss,s=t.css;return this.builder.sidebar.boxTypography(i,n,s),this.builder.settings.onChange(),!1}if("fade_in"==e)return this.builder.editor.saveForUndo(),this.builder.animateScroll.applyPresetBasic("is-fadeIn",100),this.builder.settings.onChange(),!1;if("fade_in_up"==e)return this.builder.editor.saveForUndo(),this.builder.animateScroll.applyPresetBasic("is-fadeInUp",100),this.builder.settings.onChange(),!1;if("slide_up"==e)return this.builder.editor.saveForUndo(),this.builder.animateScroll.applyPresetBasic("is-slideInUp",100),this.builder.settings.onChange(),!1;if("zoom_in"==e)return this.builder.editor.saveForUndo(),this.builder.animateScroll.applyPresetBasic("is-zoomIn",300),this.builder.settings.onChange(),!1;if("zoom_out"==e)return this.builder.editor.saveForUndo(),this.builder.animateScroll.applyPresetBasic("is-zoomOut",300),this.builder.settings.onChange(),!1;if("animate_once"==e)return this.builder.editor.saveForUndo(),this.builder.animateScroll.animateOnce(),this.builder.settings.onChange(),!1;if("always_animate"==e)return this.builder.editor.saveForUndo(),this.builder.animateScroll.alwaysAnimate(),this.builder.settings.onChange(),!1;if("remove_animation"==e)return this.builder.editor.saveForUndo(),this.builder.animateScroll.clearAllAnim(),this.builder.settings.onChange(),!1;if("move_section_top"===e)return this.builder.editor.saveForUndo(),this.builder.editsection.sectionTop(),this.builder.sectionStack(),this.builder.settings.onChange(),!1;if("move_section_bottom"===e)return this.builder.editor.saveForUndo(),this.builder.editsection.sectionBottom(),this.builder.sectionStack(),this.builder.settings.onChange(),!1;if("move_section_up"===e)return this.builder.editor.saveForUndo(),this.builder.editsection.sectionUp(),this.builder.sectionStack(),this.builder.settings.onChange(),!1;if("move_section_down"===e)return this.builder.editor.saveForUndo(),this.builder.editsection.sectionDown(),this.builder.sectionStack(),this.builder.settings.onChange(),!1;if("duplicate_section"===e)return this.builder.editor.saveForUndo(),this.builder.editsection.sectionDuplicate(),this.builder.sectionStack(),setTimeout((()=>{this.builder.refreshAnim()}),600),this.builder.settings.onChange(),!1;if("remove_section"===e){this.builder.editor.saveForUndo();const e=this.builder.activeSection;return e.parentNode.removeChild(e),this.builder.activeSection=null,this.builder.activeBox=null,this.builder.settings.onChange(),!1}if("add_content"===e)return this.builder.editor.saveForUndo(),this.builder.editbox.addContent(),this.builder.settings.onChange(),!1;if("remove_content"===e)return this.builder.editor.saveForUndo(),this.builder.editbox.removeContent(),this.builder.settings.onChange(),!1;if("move_up"===e){this.builder.editor.saveForUndo();return this.builder.doc.querySelector(".row-active")?this.builder.editor.moveRowUp():(this.builder.editsection.sectionUp(),this.builder.sectionStack()),this.builder.settings.onChange(),!1}if("move_down"===e){this.builder.editor.saveForUndo();return this.builder.doc.querySelector(".row-active")?this.builder.editor.moveRowDown():(this.builder.editsection.sectionDown(),this.builder.sectionStack()),this.builder.settings.onChange(),!1}if("move_row_up"===e)return this.builder.editor.saveForUndo(),this.builder.editor.moveRowUp(),this.builder.settings.onChange(),!1;if("move_row_down"===e)return this.builder.editor.saveForUndo(),this.builder.editor.moveRowDown(),this.builder.settings.onChange(),!1;if("duplicate_row"===e)return this.builder.editor.saveForUndo(),this.builder.editor.duplicateRow(),this.builder.settings.onChange(),!1;if("remove_row"===e)return this.builder.editor.saveForUndo(),this.builder.editor.removeRow(),this.builder.settings.onChange(),!1;if("move_col_left"===e)return this.builder.editor.saveForUndo(),this.builder.editor.moveColumnLeft(),this.builder.settings.onChange(),!1;if("move_col_right"===e)return this.builder.editor.saveForUndo(),this.builder.editor.moveColumnRight(),this.builder.settings.onChange(),!1;if("duplicate_col"===e)return this.builder.editor.saveForUndo(),this.builder.editor.duplicateColumn(),this.builder.settings.onChange(),!1;if("remove_col"===e)return this.builder.editor.saveForUndo(),this.builder.editor.removeColumn(),this.builder.settings.onChange(),!1;if("move_column_up"===e)return this.builder.editor.saveForUndo(),this.builder.editor.moveColumnUp(),this.builder.settings.onChange(),!1;if("move_column_down"===e)return this.builder.editor.saveForUndo(),this.builder.editor.moveColumnDown(),this.builder.settings.onChange(),!1;if("remove_bg"===e)return this.builder.editor.saveForUndo(),this.lib.adjustFromSlider(i),this.builder.editor.lib.clearBackgroundImage(i),this.builder.editbox.removeCode(),this.builder.settings.onChange(),!1;if("add_bg_image"===e){this.builder.editor.saveForUndo(),this.lib.adjustFromSlider(i),this.builder.editbox.removeCode();let e=this.chooseBgImage(i);if(this.builder.editor.lib.updateBackgroundImage(i,e),i.classList.contains("is-section")){const e=i.querySelector("div.is-overlay");if(e&&e.querySelector(".is-overlay-bg")){let t=e.closest(".is-box");t&&t.querySelector(".is-container")&&(t.classList.add("m-overlay-stack"),t.classList.add("m-dark-text"))}}return this.builder.settings.onChange(),!1}if("change_bg_image"===e){this.builder.editor.saveForUndo(),this.lib.adjustFromSlider(i),this.builder.editbox.removeCode();let e,t=this.builder.editor.lib.getCurrentBackground(i);if(e=""!==t?this.chooseBgImage(i,t):this.chooseBgImage(i),this.builder.editor.lib.updateBackgroundImage(i,e),i.classList.contains("is-section")){const e=i.querySelector("div.is-overlay");if(e&&e.querySelector(".is-overlay-bg")){let t=e.closest(".is-box");t&&t.querySelector(".is-container")&&(t.classList.add("m-overlay-stack"),t.classList.add("m-dark-text"))}}return this.builder.settings.onChange(),!1}if("remove_bg_color"===e)return this.builder.editor.saveForUndo(),this.builder.editor.lib.clearBackgroundColor(i),this.builder.settings.onChange(),!1;if("increase_content_width"===e)return this.builder.editor.saveForUndo(),this.builder.editor.lib.updateContentSize(i,"+"),this.builder.settings.onChange(),!1;if("decrease_content_width"===e)return this.builder.editor.saveForUndo(),this.builder.editor.lib.updateContentSize(i,"-"),this.builder.settings.onChange(),!1;if("clear_content_width"===e)return this.builder.editor.saveForUndo(),this.builder.editor.lib.updateContentSize(i,""),this.builder.settings.onChange(),!1;if("make_content_light"===e)return this.builder.editor.saveForUndo(),this.builder.editor.lib.updateContentColor(i,"light"),this.builder.settings.onChange(),!1;if("make_content_dark"===e)return this.builder.editor.saveForUndo(),this.builder.editor.lib.updateContentColor(i,"dark"),this.builder.settings.onChange(),!1;if("make_section_height_10"===e)return this.builder.editor.saveForUndo(),this.builder.editsection.updateSectionHeight(i,"10"),this.builder.settings.onChange(),!1;if("make_section_height_15"===e)return this.builder.editor.saveForUndo(),this.builder.editsection.updateSectionHeight(i,"15"),this.builder.settings.onChange(),!1;if("make_section_height_20"===e)return this.builder.editor.saveForUndo(),this.builder.editsection.updateSectionHeight(i,"20"),this.builder.settings.onChange(),!1;if("make_section_height_25"===e)return this.builder.editor.saveForUndo(),this.builder.editsection.updateSectionHeight(i,"25"),this.builder.settings.onChange(),!1;if("make_section_height_30"===e)return this.builder.editor.saveForUndo(),this.builder.editsection.updateSectionHeight(i,"30"),this.builder.settings.onChange(),!1;if("make_section_height_40"===e)return this.builder.editor.saveForUndo(),this.builder.editsection.updateSectionHeight(i,"40"),this.builder.settings.onChange(),!1;if("make_section_height_50"===e)return this.builder.editor.saveForUndo(),this.builder.editsection.updateSectionHeight(i,"50"),this.builder.settings.onChange(),!1;if("make_section_height_60"===e)return this.builder.editor.saveForUndo(),this.builder.editsection.updateSectionHeight(i,"60"),this.builder.settings.onChange(),!1;if("make_section_height_70"===e)return this.builder.editor.saveForUndo(),this.builder.editsection.updateSectionHeight(i,"70"),this.builder.settings.onChange(),!1;if("make_section_height_75"===e)return this.builder.editor.saveForUndo(),this.builder.editsection.updateSectionHeight(i,"75"),this.builder.settings.onChange(),!1;if("make_section_height_80"===e)return this.builder.editor.saveForUndo(),this.builder.editsection.updateSectionHeight(i,"80"),this.builder.settings.onChange(),!1;if("make_section_height_85"===e)return this.builder.editor.saveForUndo(),this.builder.editsection.updateSectionHeight(i,"85"),this.builder.settings.onChange(),!1;if("make_section_height_90"===e)return this.builder.editor.saveForUndo(),this.builder.editsection.updateSectionHeight(i,"90"),this.builder.settings.onChange(),!1;if("make_section_height_100"===e)return this.builder.editor.saveForUndo(),this.builder.editsection.updateSectionHeight(i,"100"),this.builder.settings.onChange(),!1;if("make_section_height_auto"===e)return this.builder.editor.saveForUndo(),this.builder.editsection.updateSectionHeight(i,"auto"),this.builder.settings.onChange(),!1;if("add_headline"===e){return this.builder.editor.saveForUndo(),i.querySelector(".is-container")||this.builder.editbox.addContent(),this.builder.editor.lib.addBlock(i,"headline","after"),this.builder.settings.onChange(),!1}if("add_paragraph"===e){return this.builder.editor.saveForUndo(),i.querySelector(".is-container")||this.builder.editbox.addContent(),this.builder.editor.lib.addBlock(i,"paragraph","after"),this.builder.settings.onChange(),!1}if("add_image"===e){return this.builder.editor.saveForUndo(),i.querySelector(".is-container")||this.builder.editbox.addContent(),this.builder.editor.lib.addBlock(i,"image","after"),this.builder.settings.onChange(),!1}if("add_youtube"===e){return this.builder.editor.saveForUndo(),i.querySelector(".is-container")||this.builder.editbox.addContent(),this.builder.editor.lib.addBlock(i,"youtube","after"),this.builder.settings.onChange(),!1}if("add_video"===e)return this.builder.editor.saveForUndo(),this.lib.adjustFromSlider(i),this.builder.editbox.addCode(i,"video"),this.builder.settings.onChange(),!1;if("remove_video"===e)return this.builder.editor.saveForUndo(),this.builder.editbox.removeCode(),this.builder.settings.onChange(),!1;if("add_bg_video"===e)return this.builder.editor.saveForUndo(),this.lib.adjustFromSlider(i),this.builder.editbox.addCode(i,"video"),this.builder.settings.onChange(),!1;if("remove_bg_video"===e)return this.builder.editor.saveForUndo(),this.builder.editbox.removeCode(),this.builder.settings.onChange(),!1;if("add_slider"===e)return this.builder.editor.saveForUndo(),this.builder.editbox.addCode(i,"slider"),this.lib.adjustToSlider(i),this.builder.settings.onChange(),!1;if("remove_slider"===e)return this.builder.editor.saveForUndo(),this.lib.adjustFromSlider(i),this.builder.editbox.removeCode(),this.builder.settings.onChange(),!1;if("add_bg_slider"===e)return this.builder.editor.saveForUndo(),this.builder.editbox.addCode(i,"slider"),this.lib.adjustToSlider(i),this.builder.settings.onChange(),!1;if("remove_bg_slider"===e)return this.builder.editor.saveForUndo(),this.builder.editbox.removeCode(),this.builder.settings.onChange(),!1;if("add_audio"===e){return this.builder.editor.saveForUndo(),i.querySelector(".is-container")||this.builder.editbox.addContent(),this.builder.editor.lib.addBlock(i,"audio","after"),this.builder.settings.onChange(),!1}if("add_map"===e){return this.builder.editor.saveForUndo(),i.querySelector(".is-container")||this.builder.editbox.addContent(),this.builder.editor.lib.addBlock(i,"map","after"),this.builder.settings.onChange(),!1}if("add_table"===e){return this.builder.editor.saveForUndo(),i.querySelector(".is-container")||this.builder.editbox.addContent(),this.builder.editor.lib.addBlock(i,"table","after"),this.builder.settings.onChange(),!1}if("add_social"===e){return this.builder.editor.saveForUndo(),i.querySelector(".is-container")||this.builder.editbox.addContent(),this.builder.editor.lib.addBlock(i,"social","after"),this.builder.settings.onChange(),!1}if("add_icon"===e){return this.builder.editor.saveForUndo(),i.querySelector(".is-container")||this.builder.editbox.addContent(),this.builder.editor.lib.addBlock(i,"icon","after"),this.builder.settings.onChange(),!1}if("add_button"===e){return this.builder.editor.saveForUndo(),i.querySelector(".is-container")||this.builder.editbox.addContent(),this.builder.editor.lib.addBlock(i,"button","after"),this.builder.settings.onChange(),!1}if("add_2buttons"===e){return this.builder.editor.saveForUndo(),i.querySelector(".is-container")||this.builder.editbox.addContent(),this.builder.editor.lib.addBlock(i,"twobuttons","after"),this.builder.settings.onChange(),!1}if("add_space"===e){return this.builder.editor.saveForUndo(),i.querySelector(".is-container")||this.builder.editbox.addContent(),this.builder.editor.lib.addBlock(i,"space","after"),this.builder.settings.onChange(),!1}if("increase_font_size"===e){let e=this.builder.editor.activeElement;if(e)return this.builder.editor.saveForUndo(),this.builder.editor.lib.increaseFontSize(e),this.builder.settings.onChange(),!1;{const e=i.querySelector(".is-container");if(e)return this.builder.editor.saveForUndo(),this.builder.editor.lib.increaseFontSize(e,!0),this.builder.settings.onChange(),!1}}else if("decrease_font_size"===e){let e=this.builder.editor.activeElement;if(e)return this.builder.editor.saveForUndo(),this.builder.editor.lib.decreaseFontSize(e),this.builder.settings.onChange(),!1;{const e=i.querySelector(".is-container");if(e)return this.builder.editor.saveForUndo(),this.builder.editor.lib.decreaseFontSize(e,!0),this.builder.settings.onChange(),!1}}else if("increase_default_font_size"===e){const e=i.querySelector(".is-container");if(e)return this.builder.editor.saveForUndo(),this.builder.editor.lib.increaseFontSize(e,!0),this.builder.settings.onChange(),!1}else if("decrease_default_font_size"===e){const e=i.querySelector(".is-container");if(e)return this.builder.editor.saveForUndo(),this.builder.editor.lib.decreaseFontSize(e,!0),this.builder.settings.onChange(),!1}else if("clear_font_size"===e){let e=this.builder.editor.activeElement;if(e)return this.builder.editor.saveForUndo(),this.builder.editor.lib.clearFontSize(e),this.builder.settings.onChange(),!1}else{if("align_left"===e){this.builder.editor.saveForUndo();let e=this.builder.editor.activeElement;return e?this.builder.editor.lib.alignText(e,"left"):this.builder.editor.lib.alignContent(i,"left"),this.builder.settings.onChange(),!1}if("align_center"===e){this.builder.editor.saveForUndo();let e=this.builder.editor.activeElement;return e?this.builder.editor.lib.alignText(e,"center"):this.builder.editor.lib.alignContent(i,"center"),this.builder.settings.onChange(),!1}if("align_right"===e){this.builder.editor.saveForUndo();let e=this.builder.editor.activeElement;return e?this.builder.editor.lib.alignText(e,"right"):this.builder.editor.lib.alignContent(i,"right"),this.builder.settings.onChange(),!1}if("align_full"===e){this.builder.editor.saveForUndo();let e=this.builder.editor.activeElement;return e?this.builder.editor.lib.alignText(e,"justify"):this.builder.editor.lib.alignContent(i,"justify"),this.builder.settings.onChange(),!1}if("clear_alignment"===e){this.builder.editor.saveForUndo();let e=this.builder.editor.activeElement;return e?this.builder.editor.lib.alignText(e,""):this.builder.editor.lib.alignContent(i,""),this.builder.settings.onChange(),!1}if("move_content_left"===e)return this.builder.editor.saveForUndo(),this.builder.editor.lib.moveContent(i,"left"),this.builder.editor.lib.moveContent(i,"middle"),this.builder.settings.onChange(),!1;if("move_content_center"===e)return this.builder.editor.saveForUndo(),this.builder.editor.lib.moveContent(i,"center"),this.builder.editor.lib.moveContent(i,"middle"),this.builder.settings.onChange(),!1;if("move_content_right"===e)return this.builder.editor.saveForUndo(),this.builder.editor.lib.moveContent(i,"right"),this.builder.editor.lib.moveContent(i,"middle"),this.builder.settings.onChange(),!1;if("move_content_top"===e)return this.builder.editor.saveForUndo(),this.builder.editor.lib.moveContent(i,"center"),this.builder.editor.lib.moveContent(i,"top"),this.builder.settings.onChange(),!1;if("move_content_bottom"===e)return this.builder.editor.saveForUndo(),this.builder.editor.lib.moveContent(i,"center"),this.builder.editor.lib.moveContent(i,"bottom"),this.builder.settings.onChange(),!1;if("align_content_top_left"===e)return this.builder.editor.saveForUndo(),this.builder.editor.lib.moveContent(i,"top"),this.builder.editor.lib.moveContent(i,"left"),this.builder.settings.onChange(),!1;if("align_content_top_right"===e)return this.builder.editor.saveForUndo(),this.builder.editor.lib.moveContent(i,"top"),this.builder.editor.lib.moveContent(i,"right"),this.builder.settings.onChange(),!1;if("align_content_bottom_left"===e)return this.builder.editor.saveForUndo(),this.builder.editor.lib.moveContent(i,"bottom"),this.builder.editor.lib.moveContent(i,"left"),this.builder.settings.onChange(),!1;if("align_content_bottom_right"===e)return this.builder.editor.saveForUndo(),this.builder.editor.lib.moveContent(i,"bottom"),this.builder.editor.lib.moveContent(i,"right"),this.builder.settings.onChange(),!1;if("increase_space"===e){let e=this.builder.editor.activeElement;if(e)return this.builder.editor.saveForUndo(),this.builder.editor.lib.increaseElementHeight(e),this.builder.settings.onChange(),!1}else if("decrease_space"===e){let e=this.builder.editor.activeElement;if(e)return this.builder.editor.saveForUndo(),this.builder.editor.lib.decreaseElementHeight(e),this.builder.settings.onChange(),!1}else if("increase_line_height"===e){let e=this.builder.editor.activeElement;if(e)return this.builder.editor.saveForUndo(),this.builder.editor.lib.increaseLineHeight(e),this.builder.settings.onChange(),!1;{const e=i.querySelector(".is-container");if(e)return this.builder.editor.saveForUndo(),this.builder.editor.lib.increaseLineHeight(e,!0),this.builder.settings.onChange(),!1}}else if("decrease_line_height"===e){let e=this.builder.editor.activeElement;if(e)return this.builder.editor.saveForUndo(),this.builder.editor.lib.decreaseLineHeight(e),this.builder.settings.onChange(),!1;{const e=i.querySelector(".is-container");if(e)return this.builder.editor.saveForUndo(),this.builder.editor.lib.decreaseLineHeight(e,!0),this.builder.settings.onChange(),!1}}else if("increase_default_line_height"===e){const e=i.querySelector(".is-container");if(e)return this.builder.editor.saveForUndo(),this.builder.editor.lib.increaseLineHeight(e,!0),this.builder.settings.onChange(),!1}else if("decrease_default_line_height"===e){const e=i.querySelector(".is-container");if(e)return this.builder.editor.saveForUndo(),this.builder.editor.lib.decreaseLineHeight(e,!0),this.builder.settings.onChange(),!1}}return t}chooseContext(e,t){if(void 0!==t)return e[t];this.previousIndexes||(this.previousIndexes=[]);let i=Math.floor(Math.random()*e.length);return this.previousIndexes.includes(i)&&this.previousIndexes.length<e.length?this.chooseContext(e):(this.previousIndexes.push(i),this.previousIndexes.length>2&&this.previousIndexes.shift(),e[i])}chooseBgImage(e,t){let i,n,s=this.builder.media.bg_images;if(i=e.classList.contains("is-section")?e.querySelector(".is-content-left")?s.section_text_left:e.querySelector(".is-content-right")?s.section_text_right:s.section_text_center:e.classList.contains("is-box-4")?s.small_box:s.box,t)do{n=Math.floor(Math.random()*i.length)}while(i[n]===t);else n=Math.floor(Math.random()*i.length);return this.builder.mediaPath+i[n]}updateBox(e,t){let i;const n=e.querySelector(".is-overlay-bg");var s=document.createRange();if(e.parentNode.insertBefore(s.createContextualFragment(t),e),i=e.previousElementSibling,e.parentNode.removeChild(e),this.fixBox(i),this.builder.doUndoRedo(),this.builder.editor.util.clearActiveCell(),this.builder.editor.util.clearAfterUndoRedo(),i){if(!n){const e=i.querySelector(".is-overlay-bg");e&&e.parentNode.removeChild(e)}this.builder.positionTool(i),i.classList.add("box-select"),this.builder.activeBox=i,this.builder.wrapperEl.classList.add("hard-select");let e=i.closest(".is-section");e.classList.add("section-select"),this.builder.activeSection=e,this.builder.settings.onRender(),this.builder.settings.onChange(),setTimeout((()=>{this.builder.refreshAnim()}),300)}}fixBox(e){let t=e.querySelector(".is-container");if(t){Array.from(t.children).forEach((e=>{if(["P","H1","H2","H3","H4","H5","H6"].includes(e.tagName)){const t=document.createElement("div");t.classList.add("row");const i=document.createElement("div");i.classList.add("column");const n=e.cloneNode(!0);i.appendChild(n),t.appendChild(i),e.parentNode.insertBefore(t,e),e.parentNode.removeChild(e)}}))}}getHtmlResult(e){this.builder.consoleLog&&console.log(e);const t=e.match(/<div[^>]*>[\s\S]*<\/div>/);if(e=t&&t[0],!this.isHTMLString(e))return!1;return e=(e=>{let t="";const i=(new DOMParser).parseFromString(e,"text/html").body.childNodes;for(const e of i)if(3===e.nodeType){let i=e.textContent.trim();""!==i&&(t=i)}return""!==t?(e=e.split(t)[1]).trim():e})(e)}isHTMLString(e){return/^<([a-z]+)(\s|>)/i.test(e)}replaceButtonsWithAnchorTags(e){return e=(e=e.replace(/<button\b[^>]*>(.*?)<\/button>/g,'<a href="#" role="button" class="transition-all inline-block whitespace-nowrap cursor-pointer no-underline border-2 border-solid mr-2 mt-2 mb-1 py-2 size-17 px-6 text-black leading-14 rounded border-transparent hover:border-transparent font-normal tracking-wide" style="background-color: rgb(240, 240, 240);">$1</a>')).replace(/<a\b[^>]*class="button[^>]*>(.*?)<\/a>/g,'<a href="#" role="button" class="transition-all inline-block whitespace-nowrap cursor-pointer no-underline border-2 border-solid mr-2 mt-2 mb-1 py-2 size-17 px-6 text-black leading-14 rounded border-transparent hover:border-transparent font-normal tracking-wide" style="background-color: rgb(240, 240, 240);">$1</a>')}replaceStrongTag(e){return e.replace(/<strong\b[^>]*>(.*?)<\/strong>/g,'<span class="font-semibold">$1</span>')}replaceLineThroughTag(e){return e.replace(/<(del|strike|s)>(.*?)<\/(del|strike|s)>/gi,'<span class="line-through">$2</span>')}replaceEmTag(e){return e.replace(/<em\b[^>]*>(.*?)<\/em>/g,'<span class="italic">$1</span>')}replaceUnderlineTag(e){return e.replace(/<u>(.*?)<\/u>/gi,'<span class="underline">$1</span>')}setBgSlider(e){const t=(new DOMParser).parseFromString(e,"text/html"),i=t.querySelector(".is-box");return i?(this.builder.editbox.addCode(i,"slider"),this.lib.adjustToSlider(i),t.body.innerHTML):e}setBgVideo(e){const t=(new DOMParser).parseFromString(e,"text/html"),i=t.querySelector(".is-box");return i?(this.builder.editbox.addCode(i,"video"),t.body.innerHTML):e}setBgImage(e,t){const i=(new DOMParser).parseFromString(e,"text/html");return i.querySelectorAll(".is-box").forEach((e=>{let i=e.querySelector("div.is-overlay");i||(e.insertAdjacentHTML("afterbegin",'<div class="is-overlay"><div class="is-overlay-bg"></div></div>'),i=e.querySelector("div.is-overlay"));let n=i.querySelector("div.is-overlay-bg");n||t||(i.insertAdjacentHTML("afterbegin",'<div class="is-overlay-bg"></div>'),n=i.querySelector("div.is-overlay-bg")),e.style.backgroundImage&&(i.insertAdjacentHTML("afterbegin",'<div class="is-overlay-bg"></div>'),n=i.querySelector("div.is-overlay-bg"),e.style.backgroundImage="");let s=i.querySelector(".is-overlay-content");s&&s.parentNode.removeChild(s);let o=!1;e.classList.contains("is-section")&&(o=!0);const a=i.querySelector(".is-container");if(a){e.appendChild(a);let t=i.querySelector(".is-container");t&&t.parentNode.removeChild(t)}if(n){let t,i;if(o){const t=this.builder.media.bg_images;i=t.section_text_left;const n=e.querySelector(".is-container");n&&(i=n.classList.contains("is-content-left")?t.section_text_left:n.classList.contains("is-content-right")?t.section_text_right:t.section_text_center)}else{i=this.builder.media.bg_images.box}t=this.lib.chooseMedia(i),n.style.backgroundImage=`url('${t}')`,n.style.backgroundImage=`url('${t}')`,n.style.backgroundPosition="50% 60%"}})),i.documentElement.innerHTML}fixBgImage(e){const t=(new DOMParser).parseFromString(e,"text/html");return t.querySelectorAll(".is-box").forEach((e=>{let t,i=e.querySelector("div.is-overlay");i||(e.insertAdjacentHTML("afterbegin",'<div class="is-overlay"><div class="is-overlay-bg"></div></div>'),i=e.querySelector("div.is-overlay")),e.style.backgroundImage&&(i.insertAdjacentHTML("afterbegin",'<div class="is-overlay-bg"></div>'),t=i.querySelector("div.is-overlay-bg"),e.style.backgroundImage="");let n=!1;if(e.classList.contains("is-section")&&(n=!0),t){let i,s;if(n){const t=this.builder.media.bg_images;s=t.section_text_left;const i=e.querySelector(".is-container");i&&(s=i.classList.contains("is-content-left")?t.section_text_left:i.classList.contains("is-content-right")?t.section_text_right:t.section_text_center)}else{s=this.builder.media.bg_images.box}i=this.lib.chooseMedia(s),t.style.backgroundImage=`url('${i}')`,t.style.backgroundImage=`url('${i}')`,t.style.backgroundPosition="50% 60%"}})),t.documentElement.innerHTML}applyBgStack(e){let t=(new DOMParser).parseFromString(e,"text/html");const i=t.querySelector("div.is-overlay");if(i&&i.querySelector(".is-overlay-bg")){let e=i.closest(".is-box");e&&e.querySelector(".is-container")&&(e.classList.add("m-overlay-stack"),e.classList.add("m-dark-text"))}return t.documentElement.innerHTML}fixCommon(e){e=(e=e.replaceAll("{{CONTENT}}","")).replaceAll("{{TITLE}}","");const t=new DOMParser;let n=t.parseFromString(e,"text/html");try{if(""===n.body.innerText.trim())return this.builder.showMessage(i("Oops! The response received is insufficient. Please try again.")),!1;const e=n.querySelector(".is-container"),s=n.querySelector(".is-section");e&&s&&!s.contains(e)&&s.appendChild(e);e.querySelectorAll(".column").forEach((e=>{"100%"===e.style.width&&(e.style.width="",e.style.flex=""),e.firstElementChild&&e.firstElementChild.style.width&&"0 0 auto"===e.firstElementChild.style.flex&&(e.firstElementChild.outerHTML=e.firstElementChild.innerHTML);e.querySelectorAll(".column").forEach((e=>{e.outerHTML=e.innerHTML})),e.style.width&&"0 0 auto"!==e.style.flex&&(e.style.width="");e.querySelectorAll("[data-filename]").forEach((e=>{e.removeAttribute("data-filename")}));let t=e.querySelectorAll("h1");t.forEach((e=>{e.getAttribute("class")||(e.classList.add("font-normal"),e.classList.add("size-35"))})),t=e.querySelectorAll("h2"),t.forEach((e=>{e.getAttribute("class")||(e.classList.add("font-normal"),e.classList.add("size-28"))}))}));e.querySelectorAll(".row").forEach((e=>{let t,i=0,n=!1;const s=e.querySelectorAll(".column");s.forEach((e=>{e.style.width&&e.style.width.includes("%")?i+=parseFloat(e.style.width):n=!0,t=e})),i>100?s.forEach((e=>{e.style.width="",e.style.flex=""})):i<100&&!n&&t&&t.insertAdjacentHTML("afterend",'<div class="column"><div class="spacer height-60"></div></div>')}));n.querySelectorAll("*").forEach((e=>{"line-through"===e.style.textDecoration&&(e.classList.add("line-through"),e.style.textDecoration=""),"underline"===e.style.textDecoration&&(e.classList.add("underline"),e.style.textDecoration="")}));const o=n.querySelector(".is-box");if(o){if(o.style.backgroundColor){let e=o.querySelector(".is-overlay");e||(o.insertAdjacentHTML("afterbegin",'<div class="is-overlay"></div>'),e=n.querySelector("div.is-overlay")),e.style.backgroundColor=o.style.backgroundColor,o.style.backgroundColor=""}o.style.backgroundImage="",o.style.backgroundSize="",o.style.backgroundRepeat="",o.style.backgroundPosition=""}if(!n.querySelector(".is-box"))if(n.querySelector(".is-section")){n.querySelector(".is-section").classList.add("is-box")}else{let e="";e=this.builder.activeBox?this.builder.editor.lib.getHtml(this.builder.activeBox):'\n                            <div class="is-section is-box type-poppins box-autofit min-height-60 is-section-100">\n                            <div class="is-overlay"></div>\n                            <div class="is-container v2 leading-13 size-19 is-content-800 content-pt-50 content-pb-50">\n                            \n                            </div>\n                            </div>\n                        ';const i=(new DOMParser).parseFromString(e,"text/html"),s=i.querySelector(".is-container");if(n.querySelector(".is-container")){const e=n.querySelector(".is-container");s.outerHTML=e.outerHTML}else s.insertAdjacentHTML("beforeend",n.body.innerHTML);n=t.parseFromString(i.body.innerHTML,"text/html")}if(e){const t=e.children;for(let e=t.length-1;e>=0;e--){const i=t[e];if(i.classList.contains("spacer"))i.parentNode.removeChild(i);else{const e=i.children;for(let t=e.length-1;t>=0;t--){const i=e[t];if(""===i.innerHTML.trim()){const e=document.createElement("div");e.classList.add("spacer"),e.classList.add("height-40"),i.appendChild(e)}i.firstElementChild&&i.firstElementChild.classList.contains("column")&&(i.innerHTML=i.firstElementChild.innerHTML)}}}}}catch(e){return this.builder.consoleLog&&console.log(n.documentElement.innerHTML),console.log("Unable to proceed. Error: fixCommon."),!1}return n.documentElement.innerHTML}fixNewSection(e){e=e.replace(/(<i class="icon )(ion-\S+)/g,"$1ion-checkmark");let t=(new DOMParser).parseFromString(e,"text/html");const i=this.builder.media.images.square,n=this.lib.chooseMedia(i);return t.querySelectorAll("img").forEach((e=>{e.setAttribute("src",n)})),t.documentElement.innerHTML}fixButtons(e){const t=(new DOMParser).parseFromString(e,"text/html");return t.querySelectorAll("a.border-transparent").forEach((e=>{e.style.backgroundColor||(e.style.backgroundColor="rgb(240, 240, 240)")})),t.documentElement.innerHTML}fixCustomCode(e){const t=e.match(/<!--CODESTART-->([\s\S]*?)<!--CODEEND-->/gm),i=[];t&&t.forEach((e=>{const t=e.replace(/<!--CODESTART-->|<!--CODEEND-->/g,"").trim();i.push(t)}));const n=(new DOMParser).parseFromString(e,"text/html");let s=0;return n.querySelectorAll("[data-html]").forEach((e=>{const t=encodeURIComponent(i[s]);e.setAttribute("data-html",t),e.innerHTML="",s++})),i.length>0?n.documentElement.innerHTML:e}fixCommonBlock(e){let t=(new DOMParser).parseFromString(e,"text/html");return t.querySelectorAll("*").forEach((e=>{"line-through"===e.style.textDecoration&&(e.classList.add("line-through"),e.style.textDecoration=""),"underline"===e.style.textDecoration&&(e.classList.add("underline"),e.style.textDecoration="")})),t.documentElement.innerHTML}getHtmlBlock(e){const t=e.indexOf("<"),i=e.lastIndexOf(">")+1;if(-1!==t&&-1!==i){const n=e.substring(t,i);e=n}return e=(e=>{let t="";const i=(new DOMParser).parseFromString(e,"text/html").body.childNodes;for(const e of i)if(3===e.nodeType){let i=e.textContent.trim();""!==i&&(t=i)}return""!==t?(e=e.split(t)[1]).trim():e})(e)}fixNewBlock(e){e=e.replace(/(<i class="icon )(ion-\S+)/g,"$1ion-checkmark");let t=(new DOMParser).parseFromString(e,"text/html");const i=this.builder.media.images.square,n=this.lib.chooseMedia(i);t.querySelectorAll("img").forEach((e=>{e.setAttribute("src",n)}));return t.querySelectorAll(".column").forEach((e=>{if(""===e.innerHTML.trim()){const t=document.createElement("div");t.classList.add("spacer"),t.classList.add("height-40"),e.appendChild(t)}})),t.documentElement.innerHTML}fixHtmlBlock(e){if(!(e=this.getHtmlBlock(e)))return this.builder.showMessage(i("Oops! The response received is insufficient. Please try again.")),!1;if(e.includes("{{IMAGEURL}}")){const t=this.builder.media.images.square,i=this.lib.chooseMedia(t);e=e.replaceAll("{{IMAGEURL}}",i)}return e=e.replaceAll("{{ICONCLASS}}","ion-checkmark"),e=this.replaceButtonsWithAnchorTags(e),e=this.replaceStrongTag(e),e=this.replaceEmTag(e),e=this.replaceUnderlineTag(e),e=this.replaceLineThroughTag(e),e=this.fixCommonBlock(e),(e=this.fixButtons(e))||!1}fixHtml(e){if((e=e.replace(/<div class="is-overlay"([^>]*)style="([^"]*background-image:[^;"]+;)([^"]*)"([^>]*)>/g,'<div class="is-overlay"$1$4>\n    <div class="is-overlay-bg" style="$2"></div>')).includes("{{_IMAGEURL}}")){const t=this.builder.media.images.square,i=this.lib.chooseMedia(t);e=e.replaceAll("{{IMAGEURL}}",i)}return e=e.replaceAll("{{ICONCLASS}}","ion-checkmark"),e=this.replaceButtonsWithAnchorTags(e),e=this.replaceStrongTag(e),e=this.replaceEmTag(e),e=this.replaceUnderlineTag(e),e=this.replaceLineThroughTag(e),(e=this.fixCommon(e))||!1}parseContent(e){let t=(new DOMParser).parseFromString(e,"text/html");const i=t.querySelectorAll("div.is-overlay-content");let n,s="";i.length>0&&(n=t.querySelector("div.is-overlay-content"),s=n?n.outerHTML:"",i.forEach((e=>{e.parentNode.removeChild(e)})));let o="";const a=t.querySelector("div.is-overlay-bg");a&&(o=a?a.outerHTML:"");let l=t.querySelector(".is-light-text, .is-dark-text"),r="";l&&(l.classList.contains("is-light-text")&&(r="is-light-text"),l.classList.contains("is-dark-text")&&(r="is-dark-text"));const d=t.querySelector("div.is-overlay").style.backgroundColor;return{overlayContent:s,overlayBg:o,html:e=t.body.innerHTML,overlayBgColor:d,textColorClass:r}}mergeContent(e,t,i,n,s,o){const a=new DOMParser,l=a.parseFromString(e,"text/html"),r=l.querySelector("div.is-overlay");if(!o.section_background||"remove"!==o.section_background){if((!o.section_background||"image"!==o.section_background)&&""!==i){const e=a.parseFromString(i,"text/html").querySelector("div.is-overlay-bg");let t=r.querySelector(".is-overlay-bg");t&&t.parentNode.removeChild(t),r.appendChild(e)}if(""!==t){const e=a.parseFromString(t,"text/html").querySelector("div.is-overlay-content");r.appendChild(e)}}let d=l.querySelector(".is-box");if(d&&(""===n||o.change_content_dark||o.change_content_light?o.change_content_dark?(d.classList.remove("is-light-text"),d.classList.add("is-dark-text")):o.change_content_light&&(d.classList.remove("is-dark-text"),d.classList.add("is-light-text")):(d.classList.remove("is-light-text"),d.classList.remove("is-dark-text"),d.classList.add(n))),""!==s){const e=l.querySelector(".is-overlay");e&&(""!==e.style.backgroundColor||(e.style.backgroundColor=s))}d&&this.lib.processContent(o,d);return d.outerHTML}checkSelectedContent(e){if(!e)return!1;const t=e.querySelector(".is-container");return t?!t.querySelector("[data-module]")||(this.builder.showMessage(i("Sorry, content with a module block cannot be processed.")),!1):(this.builder.showMessage(i("The selected box is empty. Please select a box with content.")),!1)}async sendCommand(e,t,n,s,o,a){this.dictation.startSending(),this.controller=new AbortController,this.signal=this.controller.signal;const l={question:t,context:n,system:s,functs:o,temperature:localStorage.getItem("_temp")||this.builder.temperature,topP:localStorage.getItem("_top_p")||this.builder.topP,num:1};try{let t;if(this.builder.sendCommand)t=await this.builder.sendCommand(l);else{const e=await fetch(this.builder.sendCommandUrl,{signal:this.signal,method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)});t=await e.json()}if(t.error)return console.log("Error:\n"+t.error),this.builder.showMessage(i("Request failed.")),void this.dictation.finish();if("html"===e)t.answer.choices.forEach((e=>{let t=e.message.content;if(t=this.getHtmlResult(t),!t)return this.builder.showMessage(i("Oops! The response received is insufficient. Please try again.")),void this.dictation.finish();a(t)}));else if("assistant"===e)t.answer.choices.forEach((e=>{let t=e.message.content;a(t)}));else{if(t.answer.role&&t.answer.content)return void a(JSON.stringify({new_section:!0,others:!0}));a(t.answer)}}catch(e){if("AbortError"===e.name);else{if(console.error("Error:",e),this.dictation.finish(),this.builder.consoleLog&&!(e+"").includes("Failed to fetch")){const e=await fetch(this.builder.sendCommandUrl,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)}),t=await e.text();console.log("Response:\n"+t)}this.builder.showMessage(i("Service Unavailable."))}}}renderResult_NewSection(e){this.builder.editor.saveForUndo();const t=this.lib.getTypographyClass(e);let i="";t&&(i=t+".css");let n=this.builder.addSection(e,i);n&&(this.clearSelection(),this.reSelect(n)),this.dictation.finish()}renderResult(e,t,i){const n=this.builder.activeBox,s=this.builder.activeSection;let o=!1;if(s&&s.classList.contains("is-box")&&(o=!0),this.builder.editor.saveForUndo(),o){const n=(new DOMParser).parseFromString(e,"text/html");if(t){const e=n.querySelector("div.is-section");e&&(e.classList.remove(...Array.from(e.classList).filter((e=>e.startsWith("type-")))),e.classList.add(t))}if(i){const e=n.querySelector(".is-container");e&&(e.classList.forEach((t=>{-1!==t.indexOf("is-content-")&&"is-content-left"!==t&&"is-content-right"!==t&&(e.classList.remove(t),e.classList.add(i))})),e.classList.add(i))}e=n.body.innerHTML;let s="";t&&(s=t+".css");let o=this.builder.addSection(e,s);o&&(this.clearSelection(),this.reSelect(o))}else{n.classList.add("replace-this");const o=/is-box-\w+/,a=n.getAttribute("class").match(o);let l;a&&(l=a[0]);let r=this.builder.editor.lib.getHtml(s);const d=(new DOMParser).parseFromString(r,"text/html");let c=d.querySelector("div.replace-this");const u=document.createElement("div");u.innerHTML=e;const p=u.firstChild;if(l&&p.classList.add(l),t){const e=d.querySelector("div.is-section");e&&(e.classList.remove(...Array.from(e.classList).filter((e=>e.startsWith("type-")))),e.classList.add(t))}if(i){const e=p.querySelector(".is-container");e&&(e.classList.forEach((t=>{-1!==t.indexOf("is-content-")&&"is-content-left"!==t&&"is-content-right"!==t&&e.classList.remove(t)})),e.classList.add(i))}c&&p&&c.parentNode.replaceChild(p,c);const h=d.body.innerHTML;let m="";t&&(m=t+".css");let g=this.builder.addSection(h,m);g&&(this.clearSelection(),this.reSelect(g))}this.dictation.finish()}clearSelection(){const e=this.builder.doc.querySelector(".box-select");e&&e.classList.remove("box-select");const t=this.builder.doc.querySelector(".section-select");t&&t.classList.remove("section-select"),this.builder.editor.util.clearActiveCell(),this.builder.editor.util.clearAfterUndoRedo()}reSelect(e){let t=!1;if(e.classList.contains("is-box")&&(t=!0),t)e.classList.add("box-select"),this.builder.activeBox=e,this.builder.wrapperEl.classList.add("hard-select"),e.classList.add("section-select"),this.builder.activeSection=e,this.builder.positionTool(e);else{let t=e.querySelector("div.replace-this");t?(t.classList.add("box-select"),this.builder.activeBox=t):(t=e.querySelector(".is-box"),t&&(t.classList.add("box-select"),this.builder.activeBox=t)),this.builder.wrapperEl.classList.add("hard-select"),e.classList.add("section-select"),this.builder.activeSection=e,this.builder.positionTool(e),this.builder.wrapperEl.querySelectorAll(".replace-this").forEach((e=>{e.classList.remove("replace-this")}))}}blockAction(e){if(!this.builder.editor.activeCol)return!1;if(e.block_task){const t=e.block_task;if("move-up"===t||"move-down"===t||"duplicate"===t||"remove"===t){this.builder.editor.saveForUndo();const e=this.builder.editor._rowTool.grid;return"move-up"===t&&e.moveRowUp(),"move-down"===t&&e.moveRowDown(),"duplicate"===t&&e.duplicateRow(),"remove"===t&&(e.removeRow(),this.builder.activeBox&&this.builder.activeBox.click()),this.builder.settings.onChange(),this.dictation.finish(),!0}}if(e.move_column){const t=e.move_column;if("move-up"===t||"move-down"===t||"move-left"===t||"move-right"===t){this.builder.editor.saveForUndo();const e=this.builder.editor._rowTool.grid;return"move-up"===t&&e.moveColumnUp(),"move-down"===t&&e.moveColumnDown(),"move-left"===t&&e.moveColumnPrevious(),"move-right"===t&&e.moveColumnNext(),this.builder.settings.onChange(),this.dictation.finish(),!0}}if(e.column_task){const t=e.column_task;if("duplicate"===t||"remove"===t){this.builder.editor.saveForUndo();const e=this.builder.editor._rowTool.grid;return"duplicate"===t&&e.duplicateColumn(),"remove"===t&&(e.removeColumn(),this.builder.activeBox&&this.builder.activeBox.click()),this.builder.settings.onChange(),this.dictation.finish(),!0}}if(e.increase_decrease_column){const t=e.increase_decrease_column;if("increase"===t||"decrease"===t){this.builder.editor.saveForUndo();const e=this.builder.editor._rowTool.grid;return"increase"===t&&e.increaseColumn(),"decrease"===t&&e.decreaseColumn(),this.builder.settings.onChange(),this.dictation.finish(),!0}}return!1}moveBlockContent(e){const t=this.builder.editor.activeCol;if(!t)return!1;if(!t||!e)return!1;if(!(e.move_content_left||e.move_content_center||e.move_content_right||e.move_content_top||e.move_content_bottom))return!1;let i=!1;(e.move_content_left||e.move_content_right)&&(i=!0);let n=!1;return(e.move_content_top||e.move_content_bottom)&&(n=!0),e.move_content_top&&!i?this.builder.editor.lib.moveBlockContent("top"):e.move_content_bottom&&!i?this.builder.editor.lib.moveBlockContent("bottom"):e.move_content_left&&!n?this.builder.editor.lib.moveBlockContent("left"):e.move_content_right&&!n?this.builder.editor.lib.moveBlockContent("right"):e.move_content_top&&e.move_content_left?this.builder.editor.lib.moveBlockContent("topleft"):e.move_content_top&&e.move_content_center?this.builder.editor.lib.moveBlockContent("topcenter"):e.move_content_top&&e.move_content_right?this.builder.editor.lib.moveBlockContent("topright"):e.move_content_bottom&&e.move_content_left?this.builder.editor.lib.moveBlockContent("bottomleft"):e.move_content_bottom&&e.move_content_center?this.builder.editor.lib.moveBlockContent("bottomcenter"):e.move_content_bottom&&e.move_content_right?this.builder.editor.lib.moveBlockContent("bottomright"):(e.move_content_center,this.builder.editor.lib.moveBlockContent("center")),!0}quickAction(e){const t=this.builder.activeBox;if(!t)return!1;if(e.section_task){const t=e.section_task;if("move-up"===t||"move-top"===t||"move-down"===t||"move-bottom"===t||"duplicate"===t||"remove"===t){if(this.builder.editor.saveForUndo(),"move-up"===t&&this.builder.editsection.sectionUp(),"move-top"===t&&this.builder.editsection.sectionTop(),"move-down"===t&&this.builder.editsection.sectionDown(),"move-bottom"===t&&this.builder.editsection.sectionBottom(),"duplicate"===t&&(this.builder.editsection.sectionDuplicate(),setTimeout((()=>{this.builder.refreshAnim()}),600)),"remove"===t){const e=this.builder.activeSection;e.parentNode.removeChild(e),this.builder.activeSection=null,this.builder.activeBox=null}return this.builder.sectionStack(),this.builder.settings.onChange(),this.dictation.finish(),!0}}if(e.select_section){const t=this.builder.activeSection;if(t){if("current"===e.select_section)return this.builder.scrollTo(t,600),t.click(),this.reSelect(t),!0;if("next"===e.select_section)return this.builder.scrollTo(t.nextElementSibling,600),t.click(),this.reSelect(t.nextElementSibling),!0;if("previous"===e.select_section)return this.builder.scrollTo(t.previousElementSibling,600),t.click(),this.reSelect(t.previousElementSibling),!0;if("first"===e.select_section){const e=this.builder.wrapperEl.querySelector(".is-section");if(e)return this.builder.scrollTo(e,600),t.click(),this.reSelect(e),!0}else if("last"===e.select_section){const e=this.builder.wrapperEl.querySelectorAll(".is-section:last-child");if(e)return this.builder.scrollTo(e[0],600),t.click(),this.reSelect(e[0]),!0}}}if(e.select_block){const i=e=>{if(!e)return;let t,i;e&&(t=e.querySelector(":first-child")),t&&t.click(),t&&(i=t.querySelector(":first-child")),i&&i.click()},n=()=>{const e=t.querySelector(".is-container");if(!e)return!0;let n=e.querySelector(":first-child");i(n)},s=()=>{const e=t.querySelector(".is-container");if(!e)return!0;let n;const s=e.children;for(let e=s.length-1;e>=0;e--){const t=s[e];if(t.querySelector(":first-child")){n=t;break}}n&&i(n)};if("block"===e.select_block){let e=t.querySelector("h1, p, h2, h3");return e?e.click():(e=t.querySelector(".is-container > div > div"),e&&e.click()),!0}if("headline"===e.select_block||"title"===e.select_block){const e=t.querySelector("h1,h2,h3");return e&&e.click(),!0}if("paragraph"===e.select_block){const e=t.querySelector("p");return e&&e.click(),!0}if("image"===e.select_block){const e=t.querySelector("img");return e&&e.click(),!0}if("space"===e.select_block){const e=t.querySelector("div.spacer");return e&&e.click(),!0}if("button"===e.select_block){const e=t.querySelector('a[role="button"]');return e&&e.click(),!0}if("next"===e.select_block){let e=t.querySelector(".row-active");return e&&(e=e.nextElementSibling),i(e),!0}if("previous"===e.select_block){let e=t.querySelector(".row-active");return e&&(e=e.previousElementSibling),i(e),!0}if("first"===e.select_block)return n(),!0;if("last"===e.select_block)return s(),!0}return!!e.unselect_block&&(t.click(),!0)}openMore(){const e=this.popAIMore;let t,i,n=this.builder.activeBox.querySelector(".input-box-more");if(this.builder.editor.util.showPop(e,!1,n),this.builder.iframe){let e=this.builder.iframe.getBoundingClientRect().top+window.pageYOffset,s=this.builder.iframe.getBoundingClientRect().left+window.pageXOffset;t=n.getBoundingClientRect().top+e,i=n.getBoundingClientRect().left+s}else t=n.getBoundingClientRect().top+window.pageYOffset,i=n.getBoundingClientRect().left+window.pageXOffset;const s=e.offsetWidth;t+=n.offsetHeight*this.builder.editor.opts.zoom,i+=n.offsetWidth*this.builder.editor.opts.zoom,e.style.top=t+10/this.builder.editor.opts.zoom+"px",e.style.left=i-s+12/this.builder.editor.opts.zoom+"px"}}const _y=new e;return class{constructor(e={}){const i={wrapper:".is-wrapper",previewURL:"preview.html",useSidebar:!0,disableLoadingStatus:!1,sidebarData:{buttons:[{name:"section",title:"Sections"},{name:"snippet",title:"Content Blocks"},{name:"typography",title:"Typography"},{name:"code",title:"HTML"}]},htmlSyntaxHighlighting:!0,enableContentStyle:!0,disableStaticSection:!1,framework:"",imageRenameOnEdit:!0,designUrl1:"assets/designs/basic.js",designUrl2:"assets/designs/examples.js",designPath:"assets/designs/",designPathReplace:[],defaultDesignCategory:5,templates:[],featuredCategories:[{id:1,designId:1,name:"Basic"},{id:1,designId:2,name:"Header"},{id:2,designId:1,name:"Slider"},{id:2,designId:2,name:"Article"},{id:3,designId:2,name:"Photos"}],defaultCategory:{id:1,designId:1},templateThumbnailSize:"",scriptPath:"",snippetUrl:"assets/minimalist-blocks/content.js",snippetPath:"assets/minimalist-blocks/",snippetPathReplace:[],assetPath:"assets/",modulePath:"assets/modules/",contentStylePath:"assets/styles/",pluginPath:"contentbuilder/",fontAssetPath:"assets/fonts/",plugins:[{name:"preview",showInMainToolbar:!0,showInElementToolbar:!0},{name:"wordcount",showInMainToolbar:!0,showInElementToolbar:!0},{name:"symbols",showInMainToolbar:!0,showInElementToolbar:!1}],disableConfig:!1,maxColumns:6,useLightbox:!0,lightboxArrow:!0,themes:[["#ffffff","",""],["#282828","dark","contentbuilder/themes/dark.css"],["#0088dc","colored","contentbuilder/themes/colored-blue.css"],["#006add","colored","contentbuilder/themes/colored-blue6.css"],["#0a4d92","colored","contentbuilder/themes/colored-darkblue.css"],["#96af16","colored","contentbuilder/themes/colored-green.css"],["#f3522b","colored","contentbuilder/themes/colored-orange.css"],["#b92ea6","colored","contentbuilder/themes/colored-magenta.css"],["#e73171","colored","contentbuilder/themes/colored-pink.css"],["#782ec5","colored","contentbuilder/themes/colored-purple.css"],["#ed2828","colored","contentbuilder/themes/colored-red.css"],["#f9930f","colored","contentbuilder/themes/colored-yellow.css"],["#13b34b","colored","contentbuilder/themes/colored-green4.css"],["#333333","colored-dark","contentbuilder/themes/colored-dark.css"],["#dbe5f5","light","contentbuilder/themes/light-blue.css"],["#fbe6f2","light","contentbuilder/themes/light-pink.css"],["#dcdaf3","light","contentbuilder/themes/light-purple.css"],["#ffe9e0","light","contentbuilder/themes/light-red.css"],["#fffae5","light","contentbuilder/themes/light-yellow.css"],["#ddf3dc","light","contentbuilder/themes/light-green.css"],["#c7ebfd","light","contentbuilder/themes/light-blue2.css"],["#ffd5f2","light","contentbuilder/themes/light-pink2.css"],["#eadafb","light","contentbuilder/themes/light-purple2.css"],["#c5d4ff","light","contentbuilder/themes/light-blue3.css"],["#ffefb1","light","contentbuilder/themes/light-yellow2.css"],["#fefefe","light","contentbuilder/themes/light-gray3.css"],["#e5e5e5","light","contentbuilder/themes/light-gray2.css"],["#dadada","light","contentbuilder/themes/light-gray.css"],["#3f4ec9","colored","contentbuilder/themes/colored-blue2.css"],["#6779d9","colored","contentbuilder/themes/colored-blue4.css"],["#10b9d7","colored","contentbuilder/themes/colored-blue3.css"],["#006add","colored","contentbuilder/themes/colored-blue5.css"],["#e92f94","colored","contentbuilder/themes/colored-pink3.css"],["#a761d9","colored","contentbuilder/themes/colored-purple2.css"],["#f9930f","colored","contentbuilder/themes/colored-yellow2.css"],["#f3522b","colored","contentbuilder/themes/colored-red3.css"],["#36b741","colored","contentbuilder/themes/colored-green2.css"],["#00c17c","colored","contentbuilder/themes/colored-green3.css"],["#fb3279","colored","contentbuilder/themes/colored-pink2.css"],["#ff6d13","colored","contentbuilder/themes/colored-orange2.css"],["#f13535","colored","contentbuilder/themes/colored-red2.css"],["#646464","colored","contentbuilder/themes/colored-gray.css"],["#3f4ec9","dark","contentbuilder/themes/dark-blue.css"],["#0b4d92","dark","contentbuilder/themes/dark-blue2.css"],["#006add","dark","contentbuilder/themes/dark-blue3.css"],["#5f3ebf","dark","contentbuilder/themes/dark-purple.css"],["#e92f69","dark","contentbuilder/themes/dark-pink.css"],["#4c4c4c","dark","contentbuilder/themes/dark-gray.css"],["#ed2828","dark","contentbuilder/themes/dark-red.css"],["#006add","colored","contentbuilder/themes/colored-blue8.css"],["#ff7723","colored","contentbuilder/themes/colored-orange3.css"],["#ff5722","colored","contentbuilder/themes/colored-red5.css"],["#f13535","colored","contentbuilder/themes/colored-red4.css"],["#00bd79","colored","contentbuilder/themes/colored-green5.css"],["#557ae9","colored","contentbuilder/themes/colored-blue7.css"],["#fb3279","colored","contentbuilder/themes/colored-pink4.css"]],backgroundColor:"#f1f1f1",imageselect:"",fileselect:"",imageSelect:"",fileSelect:"",videoselect:"",videoSelect:"",audioSelect:"",mediaSelect:"",selectIcon:'<svg class="is-icon-flex" style="width:16px;height:16px;"><use xlink:href="#icon-folder"></use></svg>',otherSelect:"",otherSelectCaption:"Select Document",otherSelectIcon:'<svg class="is-icon-flex" style="width:16px;height:16px;"><use xlink:href="#icon-list-search"></use></svg>',imageSelectWidth:"88vw",imageSelectHeight:"88vh",fileSelectWidth:"88vw",fileSelectHeight:"88vh",videoSelectWidth:"88vw",videoSelectHeight:"88vh",audioSelectWidth:"88vw",audioSelectHeight:"88vh",mediaSelectWidth:"88vw",mediaSelectHeight:"88vh",otherSelectWidth:"88vw",otherSelectHeight:"88vh",imageSelectMaxWidth:"1600px",fileSelectMaxWidth:"1600px",videoSelectMaxWidth:"1600px",audioSelectMaxWidth:"1600px",mediaSelectMaxWidth:"1600px",otherSelectMaxWidth:"1600px",assetPanelFullScreen:!1,codeEditorWidth:"80vw",codeEditorHeight:"80vh",codeEditorMaxWidth:"1600px",blockCodeEditorWidth:"80vw",blockCodeEditorHeight:"45vh",blockCodeEditorMaxWidth:"960px",assetRefresh:!1,slider:"",navbar:!1,onRender:function(){},onChange:function(){},coverImageHandler:"",customval:"",enableAnimation:!1,colors:["#ff8f00","#ef6c00","#d84315","#c62828","#58362f","#37474f","#353535","#f9a825","#9e9d24","#558b2f","#ad1457","#6a1b9a","#4527a0","#616161","#00b8c9","#009666","#2e7d32","#0277bd","#1565c0","#283593","#9e9e9e"],gradientcolors:[["linear-gradient(0deg, rgb(255, 57, 25), rgb(249, 168, 37))","light"],["linear-gradient(0deg, rgb(255, 57, 25), rgb(255, 104, 15))","light"],["linear-gradient(0deg, #FF5722, #FF9800)","light"],["linear-gradient(0deg, #613ca2, rgb(110, 123, 217))","light"],["linear-gradient(0deg, rgb(65, 70, 206), rgb(236, 78, 130))","light"],["linear-gradient(0deg, rgb(0, 150, 102), rgb(90, 103, 197))","light"],["linear-gradient(30deg, rgb(249, 119, 148), rgb(98, 58, 162))","light"],["linear-gradient(0deg, rgb(223, 70, 137), rgb(90, 103, 197))","light"],["linear-gradient(0deg, rgb(40, 53, 147), rgb(90, 103, 197))","light"],["linear-gradient(0deg, rgb(21, 101, 192), rgb(52, 169, 239))","light"],["linear-gradient(0deg, rgb(32, 149, 219), rgb(139, 109, 230))","light"],["linear-gradient(0deg, rgb(90, 103, 197), rgb(0, 184, 201))","light"],["linear-gradient(0deg, rgb(0, 184, 201), rgb(253, 187, 45))","light"],["linear-gradient(0deg, rgb(255, 208, 100), rgb(239, 98, 159))","light"],["linear-gradient(0deg, rgb(0, 214, 223), rgb(130, 162, 253))","light"],["linear-gradient(0deg, rgb(50, 234, 251), rgb(248, 247, 126))","dark"],["linear-gradient(0deg, rgb(141, 221, 255), rgb(255, 227, 255))","dark"],["linear-gradient(0deg, rgb(255, 170, 170), rgb(255, 255, 200))","dark"],["linear-gradient(0deg, rgb(239, 239, 239), rgb(252, 252, 252))","dark"]],photoselect:"",moduleConfig:[],largerImageHandler:"",imageHandler:"",mediaHandler:"",videoHandler:"",audioHandler:"",fileHandler:"",cellFormat:"",rowFormat:"",row:"",cols:[],colequal:[],colsizes:[],classReplace:[],columnTool:!0,elementTool:!0,buttons:["bold","italic","underline","formatting","color","align","textsettings","createLink","tags","|","undo","redo","zoom","more"],buttonsMore:["icon","image","|","list","font","formatPara","|","preferences"],elementButtons:["left","center","right","full","undo","redo","zoom","more"],elementButtonsMore:["|","preferences"],iconButtons:["icon","color","textsettings","createLink","|","undo","redo","zoom","more"],iconButtonsMore:["|","preferences"],customTags:[],animateModal:!1,elementAnimate:!1,elementEditor:!0,imageQuality:.92,columnHtmlEditor:!0,rowHtmlEditor:!0,rowMoveButtons:!0,scrollableEditingToolbar:!0,toolbar:"top",toolbarDisplay:"auto",toolbarAddSnippetButton:!1,paste:"html-without-styles",builderMode:"",rowcolOutline:!0,elementSelection:!0,animatedSorting:!1,dragWithoutHandle:!1,addButtonPlacement:"",snippetCategories:[[120,"Basic"],[118,"Article"],[101,"Headline"],[119,"Buttons"],[102,"Photos"],[103,"Profile"],[116,"Contact"],[104,"Products"],[105,"Features"],[106,"Process"],[107,"Pricing"],[108,"Skills"],[109,"Achievements"],[110,"Quotes"],[111,"Partners"],[112,"As Featured On"],[113,"Page Not Found"],[114,"Coming Soon"],[115,"Help, FAQ"]],defaultSnippetCategory:120,outlineMode:"",elementHighlight:!0,rowTool:"right",toolStyle:"",outlineStyle:"",snippetAddTool:!0,mobileSimpleEdit:!1,clearPreferences:!1,imageEmbed:!0,undoRedoStyles:!0,undoContainerOnly:!1,absolutePath:!1,maxEmbedImageWidth:1600,zoom:.6,shortenHTML:!0,advancedTimeline:!0,previewStyle:"top:auto;bottom:30px;left:90px;right:auto;",livePreviewOpen:!1,livePreviewAlwaysReload:!1,livePreviewReloadEvery:30,deleteConfirm:!1,sectionTemplate:'\n            <div class="is-section is-box is-section-100 box-autofit type-opensans">\n                <div class="is-overlay"></div>\n                <div class="is-container is-content-1000 v2 size-18 leading-14">\n                    [%CONTENT%]\n                </div>\n            </div>\n            ',contentStyleWithSample:!1,contentSizes:[300,320,340,360,380,400,420,440,460,480,500,520,540,560,580,600,620,640,660,680,700,720,740,760,780,800,820,840,860,880,900,920,940,960,970,980,1e3,1020,1040,1050,1060,1080,1100,1120,1140,1160,1180,1200,1220,1240,1260,1280,1300,1320,1340,1360,1380,1400,1420,1440,1460,1480,1500,1520,1540,1560,1580,1600,1620,1640,1660,1680,1700,1720,1740,1760,1780,1800,1820,1840,1860,1880,1900,1920,1940,1960,1980,2e3,2020,2040,2060,2080,2100,2120,2140,2160,2180,2200,2220,2240,2260,2280,2300,2320,2340,2360,2380,2400,2420,2440,2460,2480,2500,2520,2540,2560,2580,2600,2620,2640,2660,2680,2700],contentStyles:{data:{categories:[{id:-1,desc:"ALL"},{id:1,desc:"Sans-serif & Sans-serif"},{id:2,desc:"Serif & Serif"},{id:3,desc:"Sans-serif & Serif"},{id:4,desc:"Serif & Sans-serif"},{id:5,desc:"Monospace & Monospace"},{id:6,desc:"Monospace & Sans-serif"},{id:7,desc:"Sans-serif & Monospace"},{id:8,desc:"Display & Sans-serif"},{id:9,desc:"Handwriting & Sans-serif"},{id:10,desc:"Display & Serif"},{id:11,desc:"Handwriting & Serif"},{id:12,desc:"Display & Monospace"},{id:13,desc:"Handwriting & Monospace"},{id:14,desc:"Display & Display"}],styles:[{css:"basetype-opensans.css",sectioncss:"type-opensans.css",classname:"type-opensans",img:"000.png",category:9,default:!0,caption:"Open Sans"},{css:"basetype-spectralsc-karma.css",sectioncss:"type-spectralsc-karma.css",classname:"type-spectralsc-karma",img:"004.png",category:2,default:!0,caption:"Spectral SC & Karma"},{css:"basetype-alegreyasanssc-hind.css",sectioncss:"type-alegreyasanssc-hind.css",classname:"type-alegreyasanssc-hind",img:"006.png",category:1,default:!0,caption:"Alegreya Sans SC & Hind"},{css:"basetype-cabinsketch-montserrat.css",sectioncss:"type-cabinsketch-montserrat.css",classname:"type-cabinsketch-montserrat",img:"007.png",category:8,default:!0,caption:"Cabin Sketch & Montserrat"},{css:"basetype-anonymouspro-catamaran.css",sectioncss:"type-anonymouspro-catamaran.css",classname:"type-anonymouspro-catamaran",img:"010.png",category:6,default:!0,caption:"Anonymous Pro & Catamaran"},{css:"basetype-nothingyouc-ibmplexmono.css",sectioncss:"type-nothingyouc-ibmplexmono.css",classname:"type-nothingyouc-ibmplexmono",img:"011.png",category:13,default:!0,caption:"Nothing You Could Do & IBM Plex Mono"},{css:"basetype-juliussansone-taviraj.css",sectioncss:"type-juliussansone-taviraj.css",classname:"type-juliussansone-taviraj",img:"012.png",category:3,default:!0,caption:"Julius Sans One & Taviraj"},{css:"basetype-voltaire-sourcecodepro.css",sectioncss:"type-voltaire-sourcecodepro.css",classname:"type-voltaire-sourcecodepro",img:"013.png",category:7,default:!0,caption:"Voltaire & Source Code Pro"},{css:"basetype-oregano-zillaslab.css",sectioncss:"type-oregano-zillaslab.css",classname:"type-oregano-zillaslab",img:"014.png",category:10,default:!0,caption:"Oregano & Zilla Slab"},{css:"basetype-anonymouspro.css",sectioncss:"type-anonymouspro.css",classname:"type-anonymouspro",img:"016.png",category:5,default:!1,caption:"Anonymous Pro"},{css:"basetype-dancingscript-anonymouspro.css",sectioncss:"type-dancingscript-anonymouspro.css",classname:"type-dancingscript-anonymouspro",img:"018.png",category:13,default:!1,caption:"Dancing Script & Anonymous Pro"},{css:"basetype-unicaone-cormorantgaramond.css",sectioncss:"type-unicaone-cormorantgaramond.css",classname:"type-unicaone-cormorantgaramond",img:"019.png",category:10,default:!1,caption:"Unica One & Cormorant Garamond"},{css:"basetype-allan-overpassmono.css",sectioncss:"type-allan-overpassmono.css",classname:"type-allan-overpassmono",img:"020.png",category:12,default:!1,caption:"Allan & Overpass Mono"},{css:"basetype-averialibre-barlow.css",sectioncss:"type-averialibre-barlow.css",classname:"type-averialibre-barlow",img:"021.png",category:8,default:!1,caption:"Averia Libre & Barlow"},{css:"basetype-merriweathersans-martel.css",sectioncss:"type-merriweathersans-martel.css",classname:"type-merriweathersans-martel",img:"022.png",category:3,default:!1,caption:"Merriweather Sans & Martel"},{css:"basetype-poppins.css",sectioncss:"type-poppins.css",classname:"type-poppins",img:"023.png",category:1,default:!1,caption:"Poppins"},{css:"basetype-specialelite-encodesans.css",sectioncss:"type-specialelite-encodesans.css",classname:"type-specialelite-encodesans",img:"026.png",category:8,default:!1,caption:"Special Elite & Encode Sans"},{css:"basetype-marcellussc-heebo.css",sectioncss:"type-marcellussc-heebo.css",classname:"type-marcellussc-heebo",img:"028.png",category:4,default:!1,caption:"Marcellus SC & Heebo"},{css:"basetype-oswald-cousine.css",sectioncss:"type-oswald-cousine.css",classname:"type-oswald-cousine",img:"029.png",category:7,default:!1,caption:"Oswald & Cousine"},{css:"basetype-oranienbaum-sourcesanspro.css",sectioncss:"type-oranienbaum-sourcesanspro.css",classname:"type-oranienbaum-sourcesanspro",img:"031.png",category:4,default:!1,caption:"Oranienbaum & Source Sans Pro"},{css:"basetype-sriracha-arvo.css",sectioncss:"type-sriracha-arvo.css",classname:"type-sriracha-arvo",img:"032.png",category:11,default:!1,caption:"Sriracha & Arvo"},{css:"basetype-merriweather.css",sectioncss:"type-merriweather.css",classname:"type-merriweather",img:"033.png",category:2,default:!1,caption:"Merriweather"},{css:"basetype-badscript-rokkitt.css",sectioncss:"type-badscript-rokkitt.css",classname:"type-badscript-rokkitt",img:"034.png",category:11,default:!1,caption:"Bad Script & Rokkitt"},{css:"basetype-inconsolata.css",sectioncss:"type-inconsolata.css",classname:"type-inconsolata",img:"036.png",category:5,default:!1,caption:"Inconsolata"},{css:"basetype-novamono-robotomono.css",sectioncss:"type-novamono-robotomono.css",classname:"type-novamono-robotomono",img:"037.png",category:5,default:!1,caption:"Nova Mono & Roboto Mono"},{css:"basetype-spacemono.css",sectioncss:"type-spacemono.css",classname:"type-spacemono",img:"038.png",category:5,default:!1,caption:"Space Mono"},{css:"basetype-elsie-frankruhllibre.css",sectioncss:"type-elsie-frankruhllibre.css",classname:"type-elsie-frankruhllibre",img:"042.png",category:10,default:!1,caption:"Elsie & Frank Ruhl Libre"},{css:"basetype-playfairdisp-petitformalscr.css",sectioncss:"type-playfairdisp-petitformalscr.css",classname:"type-playfairdisp-petitformalscr",img:"043.png",category:2,default:!1,caption:"Playfair Display"},{css:"basetype-josefinsans-neuton.css",sectioncss:"type-josefinsans-neuton.css",classname:"type-josefinsans-neuton",img:"044.png",category:3,default:!1,caption:"Josefin Sans & Neuton"},{css:"basetype-stintultracon-inconsolata.css",sectioncss:"type-stintultracon-inconsolata.css",classname:"type-stintultracon-inconsolata",img:"045.png",category:12,default:!1,caption:"Stint Ultra Condensed & Inconsolata"},{css:"basetype-raleway-playfairdisplay.css",sectioncss:"type-raleway-playfairdisplay.css",classname:"type-raleway-playfairdisplay",img:"047.png",category:1,default:!1,caption:"Raleway"},{css:"basetype-ubuntumono-sourcecodepro.css",sectioncss:"type-ubuntumono-sourcecodepro.css",classname:"type-ubuntumono-sourcecodepro",img:"049.png",category:5,default:!1,caption:"Ubuntu Mono & Source Code Pro"},{css:"basetype-sharetechmono-nunito.css",sectioncss:"type-sharetechmono-nunito.css",classname:"type-sharetechmono-nunito",img:"050.png",category:6,default:!1,caption:"Share Tech Mono & Nunito"},{css:"basetype-lato.css",sectioncss:"type-lato.css",classname:"type-lato",img:"051.png",category:1,default:!1,caption:"Lato"},{css:"basetype-pathwaygothicone-merriweather.css",sectioncss:"type-pathwaygothicone-merriweather.css",classname:"type-pathwaygothicone-merriweather",img:"052.png",category:3,default:!1,caption:"Pathway Gothic One & Merriweather"},{css:"basetype-forum-nanumgothiccoding.css",sectioncss:"type-forum-nanumgothiccoding.css",classname:"type-forum-nanumgothiccoding",img:"053.png",category:12,default:!1,caption:"Forum & Nanum Gothic Coding"},{css:"basetype-bilbo-halant.css",sectioncss:"type-bilbo-halant.css",classname:"type-bilbo-halant",img:"054.png",category:11,default:!1,caption:"Bilbo & Halant"},{css:"basetype-hammersmithone-poppins.css",sectioncss:"type-hammersmithone-poppins.css",classname:"type-hammersmithone-poppins",img:"057.png",category:1,default:!1,caption:"Hammersmith One & Poppins"},{css:"basetype-arimamadurai.css",sectioncss:"type-arimamadurai.css",classname:"type-arimamadurai",img:"058.png",category:14,default:!1,caption:"Arima Madurai"},{css:"basetype-teko-muktamahee.css",sectioncss:"type-teko-muktamahee.css",classname:"type-teko-muktamahee",img:"059.png",category:1,default:!1,caption:"Teko & Mukta Mahee"},{css:"basetype-heebo-ibmplexmono.css",sectioncss:"type-heebo-ibmplexmono.css",classname:"type-heebo-ibmplexmono",img:"060.png",category:7,default:!1,caption:"Heebo & IBM Plex Mono"},{css:"basetype-sairacon-thegirlnextdoor.css",sectioncss:"type-sairacon-thegirlnextdoor.css",classname:"type-sairacon-thegirlnextdoor",img:"062.png",category:1,default:!1,caption:"Saira Condensed"},{css:"basetype-frankruhllibre-lato.css",sectioncss:"type-frankruhllibre-lato.css",classname:"type-frankruhllibre-lato",img:"063.png",category:4,default:!1,caption:"Frank Ruhl Libre & Lato"},{css:"basetype-yantramanav-ibmplexserif.css",sectioncss:"type-yantramanav-ibmplexserif.css",classname:"type-yantramanav-ibmplexserif",img:"064.png",category:1,default:!1,caption:"Yantramanav & IBM Plex Serif"},{css:"basetype-quicksand-kalam.css",sectioncss:"type-quicksand-kalam.css",classname:"type-quicksand-kalam",img:"065.png",category:1,default:!1,caption:"Quicksand & Kalam"},{css:"basetype-ibmplexmono.css",sectioncss:"type-ibmplexmono.css",classname:"type-ibmplexmono",img:"066.png",category:5,default:!1,caption:"IBM Plex Mono"},{css:"basetype-cinzeldecor-palanquin.css",sectioncss:"type-cinzeldecor-palanquin.css",classname:"type-cinzeldecor-palanquin",img:"067.png",category:8,default:!1,caption:"Cinzel Decorative & Palanquin"},{css:"basetype-oswald-biryani.css",sectioncss:"type-oswald-biryani.css",classname:"type-oswald-biryani",img:"069.png",category:1,default:!1,caption:"Oswald & Biryani"},{css:"basetype-yanonekaff-josefinsans.css",sectioncss:"type-yanonekaff-josefinsans.css",classname:"type-yanonekaff-josefinsans",img:"070.png",category:1,default:!1,caption:"Yanone Kaffeesatz & Josefin Sans"},{css:"basetype-abrilfatface-assistant.css",sectioncss:"type-abrilfatface-assistant.css",classname:"type-abrilfatface-assistant",img:"071.png",category:8,default:!1,caption:"Abril Fatface & Assistant"},{css:"basetype-nanumgothiccod-firasanscon.css",sectioncss:"type-nanumgothiccod-firasanscon.css",classname:"type-nanumgothiccod-firasanscon",img:"072.png",category:6,default:!1,caption:"Nanum Gothic Coding & Fira Sans Condensed"},{css:"basetype-inder-trirong.css",sectioncss:"type-inder-trirong.css",classname:"type-inder-trirong",img:"073.png",category:3,default:!1,caption:"Inder & Trirong"},{css:"basetype-atma-tajawal.css",sectioncss:"type-atma-tajawal.css",classname:"type-atma-tajawal",img:"075.png",category:8,default:!1,caption:"Atma & Tajawal"},{css:"basetype-prata-hindsiliguri.css",sectioncss:"type-prata-hindsiliguri.css",classname:"type-prata-hindsiliguri",img:"076.png",category:4,default:!1,caption:"Prata & Hind Siliguri"},{css:"basetype-federo-gothica1.css",sectioncss:"type-federo-gothica1.css",classname:"type-federo-gothica1",img:"078.png",category:1,default:!1,caption:"Federo & Gothic A1"},{css:"basetype-fjallaone-ibmplexserif.css",sectioncss:"type-fjallaone-ibmplexserif.css",classname:"type-fjallaone-ibmplexserif",img:"079.png",category:3,default:!1,caption:"Fjalla One & IBM Plex Serif"},{css:"basetype-cormorantsc-ibmplexsanscon.css",sectioncss:"type-cormorantsc-ibmplexsanscon.css",classname:"type-cormorantsc-ibmplexsanscon",img:"081.png",category:4,default:!1,caption:"Cormorant SC & IBM Plex Sans Condensed"},{css:"basetype-kalam-robotomono.css",sectioncss:"type-kalam-robotomono.css",classname:"type-kalam-robotomono",img:"082.png",category:13,default:!1,caption:"Kalam & Roboto Mono"},{css:"basetype-fugazone-librefranklin.css",sectioncss:"type-fugazone-librefranklin.css",classname:"type-fugazone-librefranklin",img:"083.png",category:8,default:!1,caption:"Fugaz One & Libre Franklin"},{css:"basetype-yeonsung-palanquin.css",sectioncss:"type-yeonsung-palanquin.css",classname:"type-yeonsung-palanquin",img:"085.png",category:8,default:!1,caption:"Yeon Sung & Palanquin"},{css:"basetype-rancho-robotoslab.css",sectioncss:"type-rancho-robotoslab.css",classname:"type-rancho-robotoslab",img:"086.png",category:11,default:!1,caption:"Rancho & Roboto Slab"},{css:"basetype-tenaram-overpassmono.css",sectioncss:"type-tenaram-overpassmono.css",classname:"type-tenaram-overpassmono",img:"087.png",category:7,default:!1,caption:"Tenali Ramakrishna & Overpass Mono"},{css:"basetype-thegirlnextdoor-sourcesanspro.css",sectioncss:"type-thegirlnextdoor-sourcesanspro.css",classname:"type-thegirlnextdoor-sourcesanspro",img:"088.png",category:9,default:!1,caption:"The Girl Next Door & Source Sans Pro"},{css:"basetype-boogaloo-inconsolata.css",sectioncss:"type-boogaloo-inconsolata.css",classname:"type-boogaloo-inconsolata",img:"090.png",category:12,default:!1,caption:"Boogaloo & Inconsolata"},{css:"basetype-caveat-sourcecodepro.css",sectioncss:"type-caveat-sourcecodepro.css",classname:"type-caveat-sourcecodepro",img:"091.png",category:13,default:!1,caption:"Caveat & Source Code Pro"},{css:"basetype-passionone-worksans.css",sectioncss:"type-passionone-worksans.css",classname:"type-passionone-worksans",img:"092.png",category:8,default:!1,caption:"Passion One & Work Sans"},{css:"basetype-anticdidone-halant.css",sectioncss:"type-anticdidone-halant.css",classname:"type-anticdidone-halant",img:"093.png",category:2,default:!1,caption:"Antic Didone & Halant"},{css:"basetype-adventpro-opensans.css",sectioncss:"type-adventpro-opensans.css",classname:"type-adventpro-opensans",img:"094.png",category:1,default:!1,caption:"Advent Pro & Open Sans"},{css:"basetype-cutivemono-lato.css",sectioncss:"type-cutivemono-lato.css",classname:"type-cutivemono-lato",img:"095.png",category:6,default:!1,caption:"Cutive Mono & Lato"},{css:"basetype-elsie-montserrat.css",sectioncss:"type-elsie-montserrat.css",classname:"type-elsie-montserrat",img:"096.png",category:8,default:!1,caption:"Elsie & Montserrat"},{css:"basetype-macondo-mukta.css",sectioncss:"type-macondo-mukta.css",classname:"type-macondo-mukta",img:"097.png",category:8,default:!1,caption:"Macondo & Mukta"},{css:"basetype-oswald-opensans.css",sectioncss:"type-oswald-opensans.css",classname:"type-oswald-opensans",img:"098.png",category:1,default:!1,caption:"Oswald & Open Sans"},{css:"basetype-poppins-lekton.css",sectioncss:"type-poppins-lekton.css",classname:"type-poppins-lekton",img:"099.png",category:1,default:!1,caption:"Poppins & Lekton"},{css:"basetype-raleway-neuton.css",sectioncss:"type-raleway-neuton.css",classname:"type-raleway-neuton",img:"100.png",category:3,default:!1,caption:"Raleway & Neuton"},{css:"basetype-sourcecodepro-nunitosans.css",sectioncss:"type-sourcecodepro-nunitosans.css",classname:"type-sourcecodepro-nunitosans",img:"101.png",category:6,default:!1,caption:"Source Code Pro & Nunito Sans"},{css:"basetype-tangerine-opensans.css",sectioncss:"type-tangerine-opensans.css",classname:"type-tangerine-opensans",img:"102.png",category:9,default:!1,caption:"Tangerine & Open Sans"},{css:"basetype-alegreya-lato.css",sectioncss:"type-alegreya-lato.css",classname:"type-alegreya-lato",img:"103.png",category:4,default:!1,caption:"Alegreya & Lato"},{css:"basetype-amaticsc-lato.css",sectioncss:"type-amaticsc-lato.css",classname:"type-amaticsc-lato",img:"104.png",category:9,default:!1,caption:"Amatic SC & Lato"},{css:"basetype-heebo-ibmplexmono-2.css",sectioncss:"type-heebo-ibmplexmono-2.css",classname:"type-heebo-ibmplexmono-2",img:"105.png",category:7,default:!1,caption:"Heebo & IBM Plex Mono"},{css:"basetype-juliussansone-robotocondensed.css",sectioncss:"type-juliussansone-robotocondensed.css",classname:"type-juliussansone-robotocondensed",img:"106.png",category:1,default:!1,caption:"Julius Sans One & Roboto Condensed"},{css:"basetype-montserrat-roboto.css",sectioncss:"type-montserrat-roboto.css",classname:"type-montserrat-roboto",img:"107.png",category:1,default:!1,caption:"Montserrat & Roboto"},{css:"basetype-nothingyouc-ibmplexmono-2.css",sectioncss:"type-nothingyouc-ibmplexmono-2.css",classname:"type-nothingyouc-ibmplexmono-2",img:"108.png",category:13,default:!1,caption:"Nothing You Could Do & IBM Plex Mono"},{css:"basetype-raleway-lato.css",sectioncss:"type-raleway-lato.css",classname:"type-raleway-lato",img:"109.png",category:1,default:!1,caption:"Raleway & Lato"},{css:"basetype-raleway-lusitana.css",sectioncss:"type-raleway-lusitana.css",classname:"type-raleway-lusitana",img:"110.png",category:3,default:!1,caption:"Raleway & Lusitana"},{css:"basetype-rufina-oxygen.css",sectioncss:"type-rufina-oxygen.css",classname:"type-rufina-oxygen",img:"111.png",category:4,default:!1,caption:"Rufina & Oxygen"},{css:"basetype-sacramento-opensans.css",sectioncss:"type-sacramento-opensans.css",classname:"type-sacramento-opensans",img:"112.png",category:9,default:!1,caption:"Sacramento & Open Sans"},{css:"basetype-specialelite-playfairdisplay.css",sectioncss:"type-specialelite-playfairdisplay.css",classname:"type-specialelite-playfairdisplay",img:"113.png",category:10,default:!1,caption:"Special Elite & Playfair Display"},{css:"basetype-unicaone-sourcesanspro.css",sectioncss:"type-unicaone-sourcesanspro.css",classname:"type-unicaone-sourcesanspro",img:"114.png",category:8,default:!1,caption:"Unica One & Source Sans Pro"},{css:"basetype-amaticsc-josepfinsans.css",sectioncss:"type-amaticsc-josepfinsans.css",classname:"type-amaticsc-josepfinsans",img:"001.png",category:9,default:!0,caption:"Amatic SC & Josefin Sans"},{css:"basetype-sourcesanspro-anonymouspro.css",sectioncss:"type-sourcesanspro-anonymouspro.css",classname:"type-sourcesanspro-anonymouspro",img:"002.png",category:7,default:!0,caption:"Source Sans Pro & Anonymous Pro"},{css:"basetype-poppins-oldstandardtt.css",sectioncss:"type-poppins-oldstandardtt.css",classname:"type-poppins-oldstandardtt",img:"003.png",category:3,default:!0,caption:"Poppins & Old Standard TT"},{css:"basetype-yesteryear-chivo.css",sectioncss:"type-yesteryear-chivo.css",classname:"type-yesteryear-chivo",img:"005.png",category:9,default:!0,caption:"Yesteryear & Chivo"},{css:"basetype-ptserif-poppins.css",sectioncss:"type-ptserif-poppins.css",classname:"type-ptserif-poppins",img:"008.png",category:4,default:!0,caption:"PT Serif & Poppins"},{css:"basetype-kellyslab-yantramanav.css",sectioncss:"type-kellyslab-yantramanav.css",classname:"type-kellyslab-yantramanav",img:"009.png",category:8,default:!0,caption:"Kelly Slab & Yantramanav"},{css:"basetype-yellowtail-frankruhllibre.css",sectioncss:"type-yellowtail-frankruhllibre.css",classname:"type-yellowtail-frankruhllibre",img:"015.png",category:11,default:!0,caption:"Yellowtail & Frank Ruhl Libre"},{css:"basetype-sedgwickave-spectral.css",sectioncss:"type-sedgwickave-spectral.css",classname:"type-sedgwickave-spectral",img:"017.png",category:10,default:!1,caption:"Sedgwick Ave & Spectral"},{css:"basetype-satisfy-economica.css",sectioncss:"type-satisfy-economica.css",classname:"type-satisfy-economica",img:"024.png",category:9,default:!1,caption:"Satisfy & Economica"},{css:"basetype-josefinsans-lekton.css",sectioncss:"type-josefinsans-lekton.css",classname:"type-josefinsans-lekton",img:"025.png",category:1,default:!1,caption:"Josefin Sans & Lekton"},{css:"basetype-parisienne-maitree.css",sectioncss:"type-parisienne-maitree.css",classname:"type-parisienne-maitree",img:"027.png",category:11,default:!1,caption:"Parisienne & Maitree"},{css:"basetype-londrinashadow-martel.css",sectioncss:"type-londrinashadow-martel.css",classname:"type-londrinashadow-martel",img:"030.png",category:10,default:!1,caption:"Londrina Shadow & Martel"},{css:"basetype-poiretone-pridi.css",sectioncss:"type-poiretone-pridi.css",classname:"type-poiretone-pridi",img:"035.png",category:10,default:!1,caption:"Poiret One & Pridi"},{css:"basetype-pollerone-ibmplexserif.css",sectioncss:"type-pollerone-ibmplexserif.css",classname:"type-pollerone-ibmplexserif",img:"039.png",category:10,default:!1,caption:"Poller One & IBM Plex Serif"},{css:"basetype-italiana-martel.css",sectioncss:"type-italiana-martel.css",classname:"type-italiana-martel",img:"040.png",category:2,default:!1,caption:"Italiana & Martel"},{css:"basetype-julee-lora.css",sectioncss:"type-julee-lora.css",classname:"type-julee-lora",img:"041.png",category:11,default:!1,caption:"Julee & Lora"},{css:"basetype-sixcaps-robotomono.css",sectioncss:"type-sixcaps-robotomono.css",classname:"type-sixcaps-robotomono",img:"046.png",category:7,default:!1,caption:"Six Caps & Roboto Mono"},{css:"basetype-pacifico-nanumgothiccod.css",sectioncss:"type-pacifico-nanumgothiccod.css",classname:"type-pacifico-nanumgothiccod",img:"048.png",category:13,default:!1,caption:"Pacifico & Nanum Gothic Coding"},{css:"basetype-greatvibes-robotomono.css",sectioncss:"type-greatvibes-robotomono.css",classname:"type-greatvibes-robotomono",img:"055.png",category:13,default:!1,caption:"Great Vibes & Roboto Mono"},{css:"basetype-pinyonscript-firasans.css",sectioncss:"type-pinyonscript-firasans.css",classname:"type-pinyonscript-firasans",img:"056.png",category:9,default:!1,caption:"Pinyon Script & Fira Sans"},{css:"basetype-sail-rasa.css",sectioncss:"type-sail-rasa.css",classname:"type-sail-rasa",img:"061.png",category:10,default:!1,caption:"Sail & Rasa"},{css:"basetype-yesevaone-forum.css",sectioncss:"type-yesevaone-forum.css",classname:"type-yesevaone-forum",img:"068.png",category:14,default:!1,caption:"Yeseva One & Forum"},{css:"basetype-dosis-oldstandardtt.css",sectioncss:"type-dosis-oldstandardtt.css",classname:"type-dosis-oldstandardtt",img:"074.png",category:1,default:!1,caption:"Dosis & Old Standard TT"},{css:"basetype-engagement-spectral.css",sectioncss:"type-engagement-spectral.css",classname:"type-engagement-spectral",img:"077.png",category:11,default:!1,caption:"Engagement & Spectral"},{css:"basetype-dynalight-mada.css",sectioncss:"type-dynalight-mada.css",classname:"type-dynalight-mada",img:"080.png",category:8,default:!1,caption:"Dynalight & Mada"},{css:"basetype-gravitasone-nanummyeongjo.css",sectioncss:"type-gravitasone-nanummyeongjo.css",classname:"type-gravitasone-nanummyeongjo",img:"084.png",category:10,default:!1,caption:"Gravitas One & Nanum Myeongjo"},{css:"basetype-alexbrush-ibmplexsans.css",sectioncss:"type-alexbrush-ibmplexsans.css",classname:"type-alexbrush-ibmplexsans",img:"089.png",category:9,default:!1,caption:"Alex Brush & IBM Plex Sans"}]}},contentStylesAlt:{data:{categories:[{id:-1,desc:"ALL"},{id:1,desc:"Sans-serif & Sans-serif"},{id:2,desc:"Serif & Serif"},{id:3,desc:"Sans-serif & Serif"},{id:4,desc:"Serif & Sans-serif"},{id:5,desc:"Monospace & Monospace"},{id:6,desc:"Monospace & Sans-serif"},{id:7,desc:"Sans-serif & Monospace"},{id:8,desc:"Display & Sans-serif"},{id:9,desc:"Handwriting & Sans-serif"},{id:10,desc:"Display & Serif"},{id:11,desc:"Handwriting & Serif"},{id:12,desc:"Display & Monospace"},{id:13,desc:"Handwriting & Monospace"},{id:14,desc:"Display & Display"}],styles:[{css:"basetype-opensans.css",sectioncss:"type-opensans.css",classname:"type-opensans",img:"type-opensans.jpg",category:9,default:!0,caption:"Open Sans"},{css:"basetype-spectralsc-karma.css",sectioncss:"type-spectralsc-karma.css",classname:"type-spectralsc-karma",img:"type-spectralsc-karma.jpg",category:2,default:!0,caption:"Spectral SC & Karma"},{css:"basetype-alegreyasanssc-hind.css",sectioncss:"type-alegreyasanssc-hind.css",classname:"type-alegreyasanssc-hind",img:"type-alegreyasanssc-hind.jpg",category:1,default:!0,caption:"Alegreya Sans SC & Hind"},{css:"basetype-cabinsketch-montserrat.css",sectioncss:"type-cabinsketch-montserrat.css",classname:"type-cabinsketch-montserrat",img:"type-cabinsketch-montserrat.jpg",category:8,default:!0,caption:"Cabin Sketch & Montserrat"},{css:"basetype-anonymouspro-catamaran.css",sectioncss:"type-anonymouspro-catamaran.css",classname:"type-anonymouspro-catamaran",img:"type-anonymouspro-catamaran.jpg",category:6,default:!0,caption:"Anonymous Pro & Catamaran"},{css:"basetype-nothingyouc-ibmplexmono.css",sectioncss:"type-nothingyouc-ibmplexmono.css",classname:"type-nothingyouc-ibmplexmono",img:"type-nothingyouc-ibmplexmono.jpg",category:13,default:!0,caption:"Nothing You Could Do & IBM Plex Mono"},{css:"basetype-juliussansone-taviraj.css",sectioncss:"type-juliussansone-taviraj.css",classname:"type-juliussansone-taviraj",img:"type-juliussansone-taviraj.jpg",category:3,default:!0,caption:"Julius Sans One & Taviraj"},{css:"basetype-voltaire-sourcecodepro.css",sectioncss:"type-voltaire-sourcecodepro.css",classname:"type-voltaire-sourcecodepro",img:"type-voltaire-sourcecodepro.jpg",category:7,default:!0,caption:"Voltaire & Source Code Pro"},{css:"basetype-oregano-zillaslab.css",sectioncss:"type-oregano-zillaslab.css",classname:"type-oregano-zillaslab",img:"type-oregano-zillaslab.jpg",category:10,default:!0,caption:"Oregano & Zilla Slab"},{css:"basetype-anonymouspro.css",sectioncss:"type-anonymouspro.css",classname:"type-anonymouspro",img:"type-anonymouspro.jpg",category:5,default:!1,caption:"Anonymous Pro"},{css:"basetype-dancingscript-anonymouspro.css",sectioncss:"type-dancingscript-anonymouspro.css",classname:"type-dancingscript-anonymouspro",img:"type-dancingscript-anonymouspro.jpg",category:13,default:!1,caption:"Dancing Script & Anonymous Pro"},{css:"basetype-unicaone-cormorantgaramond.css",sectioncss:"type-unicaone-cormorantgaramond.css",classname:"type-unicaone-cormorantgaramond",img:"type-unicaone-cormorantgaramond.jpg",category:10,default:!1,caption:"Unica One & Cormorant Garamond"},{css:"basetype-allan-overpassmono.css",sectioncss:"type-allan-overpassmono.css",classname:"type-allan-overpassmono",img:"type-allan-overpassmono.jpg",category:12,default:!1,caption:"Allan & Overpass Mono"},{css:"basetype-averialibre-barlow.css",sectioncss:"type-averialibre-barlow.css",classname:"type-averialibre-barlow",img:"type-averialibre-barlow.jpg",category:8,default:!1,caption:"Averia Libre & Barlow"},{css:"basetype-merriweathersans-martel.css",sectioncss:"type-merriweathersans-martel.css",classname:"type-merriweathersans-martel",img:"type-merriweathersans-martel.jpg",category:3,default:!1,caption:"Merriweather Sans & Martel"},{css:"basetype-poppins.css",sectioncss:"type-poppins.css",classname:"type-poppins",img:"type-poppins.jpg",category:1,default:!1,caption:"Poppins"},{css:"basetype-specialelite-encodesans.css",sectioncss:"type-specialelite-encodesans.css",classname:"type-specialelite-encodesans",img:"type-specialelite-encodesans.jpg",category:8,default:!1,caption:"Special Elite & Encode Sans"},{css:"basetype-marcellussc-heebo.css",sectioncss:"type-marcellussc-heebo.css",classname:"type-marcellussc-heebo",img:"type-marcellussc-heebo.jpg",category:4,default:!1,caption:"Marcellus SC & Heebo"},{css:"basetype-oswald-cousine.css",sectioncss:"type-oswald-cousine.css",classname:"type-oswald-cousine",img:"type-oswald-cousine.jpg",category:7,default:!1,caption:"Oswald & Cousine"},{css:"basetype-oranienbaum-sourcesanspro.css",sectioncss:"type-oranienbaum-sourcesanspro.css",classname:"type-oranienbaum-sourcesanspro",img:"type-oranienbaum-sourcesanspro.jpg",category:4,default:!1,caption:"Oranienbaum & Source Sans Pro"},{css:"basetype-sriracha-arvo.css",sectioncss:"type-sriracha-arvo.css",classname:"type-sriracha-arvo",img:"type-sriracha-arvo.jpg",category:11,default:!1,caption:"Sriracha & Arvo"},{css:"basetype-merriweather.css",sectioncss:"type-merriweather.css",classname:"type-merriweather",img:"type-merriweather.jpg",category:2,default:!1,caption:"Merriweather"},{css:"basetype-badscript-rokkitt.css",sectioncss:"type-badscript-rokkitt.css",classname:"type-badscript-rokkitt",img:"type-badscript-rokkitt.jpg",category:11,default:!1,caption:"Bad Script & Rokkitt"},{css:"basetype-inconsolata.css",sectioncss:"type-inconsolata.css",classname:"type-inconsolata",img:"type-inconsolata.jpg",category:5,default:!1,caption:"Inconsolata"},{css:"basetype-novamono-robotomono.css",sectioncss:"type-novamono-robotomono.css",classname:"type-novamono-robotomono",img:"type-novamono-robotomono.jpg",category:5,default:!1,caption:"Nova Mono & Roboto Mono"},{css:"basetype-spacemono.css",sectioncss:"type-spacemono.css",classname:"type-spacemono",img:"type-spacemono.jpg",category:5,default:!1,caption:"Space Mono"},{css:"basetype-elsie-frankruhllibre.css",sectioncss:"type-elsie-frankruhllibre.css",classname:"type-elsie-frankruhllibre",img:"type-elsie-frankruhllibre.jpg",category:10,default:!1,caption:"Elsie & Frank Ruhl Libre"},{css:"basetype-playfairdisp-petitformalscr.css",sectioncss:"type-playfairdisp-petitformalscr.css",classname:"type-playfairdisp-petitformalscr",img:"type-playfairdisp-petitformalscr.jpg",category:2,default:!1,caption:"Playfair Display"},{css:"basetype-josefinsans-neuton.css",sectioncss:"type-josefinsans-neuton.css",classname:"type-josefinsans-neuton",img:"type-josefinsans-neuton.jpg",category:3,default:!1,caption:"Josefin Sans & Neuton"},{css:"basetype-stintultracon-inconsolata.css",sectioncss:"type-stintultracon-inconsolata.css",classname:"type-stintultracon-inconsolata",img:"type-stintultracon-inconsolata.jpg",category:12,default:!1,caption:"Stint Ultra Condensed & Inconsolata"},{css:"basetype-raleway-playfairdisplay.css",sectioncss:"type-raleway-playfairdisplay.css",classname:"type-raleway-playfairdisplay",img:"type-raleway-playfairdisplay.jpg",category:1,default:!1,caption:"Raleway"},{css:"basetype-ubuntumono-sourcecodepro.css",sectioncss:"type-ubuntumono-sourcecodepro.css",classname:"type-ubuntumono-sourcecodepro",img:"type-ubuntumono-sourcecodepro.jpg",category:5,default:!1,caption:"Ubuntu Mono & Source Code Pro"},{css:"basetype-sharetechmono-nunito.css",sectioncss:"type-sharetechmono-nunito.css",classname:"type-sharetechmono-nunito",img:"type-sharetechmono-nunito.jpg",category:6,default:!1,caption:"Share Tech Mono & Nunito"},{css:"basetype-lato.css",sectioncss:"type-lato.css",classname:"type-lato",img:"type-lato.jpg",category:1,default:!1,caption:"Lato"},{css:"basetype-pathwaygothicone-merriweather.css",sectioncss:"type-pathwaygothicone-merriweather.css",classname:"type-pathwaygothicone-merriweather",img:"type-pathwaygothicone-merriweather.jpg",category:3,default:!1,caption:"Pathway Gothic One & Merriweather"},{css:"basetype-forum-nanumgothiccoding.css",sectioncss:"type-forum-nanumgothiccoding.css",classname:"type-forum-nanumgothiccoding",img:"type-forum-nanumgothiccoding.jpg",category:12,default:!1,caption:"Forum & Nanum Gothic Coding"},{css:"basetype-bilbo-halant.css",sectioncss:"type-bilbo-halant.css",classname:"type-bilbo-halant",img:"type-bilbo-halant.jpg",category:11,default:!1,caption:"Bilbo & Halant"},{css:"basetype-hammersmithone-poppins.css",sectioncss:"type-hammersmithone-poppins.css",classname:"type-hammersmithone-poppins",img:"type-hammersmithone-poppins.jpg",category:1,default:!1,caption:"Hammersmith One & Poppins"},{css:"basetype-arimamadurai.css",sectioncss:"type-arimamadurai.css",classname:"type-arimamadurai",img:"type-arimamadurai.jpg",category:14,default:!1,caption:"Arima Madurai"},{css:"basetype-teko-muktamahee.css",sectioncss:"type-teko-muktamahee.css",classname:"type-teko-muktamahee",img:"type-teko-muktamahee.jpg",category:1,default:!1,caption:"Teko & Mukta Mahee"},{css:"basetype-heebo-ibmplexmono.css",sectioncss:"type-heebo-ibmplexmono.css",classname:"type-heebo-ibmplexmono",img:"type-heebo-ibmplexmono.jpg",category:7,default:!1,caption:"Heebo & IBM Plex Mono"},{css:"basetype-sairacon-thegirlnextdoor.css",sectioncss:"type-sairacon-thegirlnextdoor.css",classname:"type-sairacon-thegirlnextdoor",img:"type-sairacon-thegirlnextdoor.jpg",category:1,default:!1,caption:"Saira Condensed"},{css:"basetype-frankruhllibre-lato.css",sectioncss:"type-frankruhllibre-lato.css",classname:"type-frankruhllibre-lato",img:"type-frankruhllibre-lato.jpg",category:4,default:!1,caption:"Frank Ruhl Libre & Lato"},{css:"basetype-yantramanav-ibmplexserif.css",sectioncss:"type-yantramanav-ibmplexserif.css",classname:"type-yantramanav-ibmplexserif",img:"type-yantramanav-ibmplexserif.jpg",category:1,default:!1,caption:"Yantramanav & IBM Plex Serif"},{css:"basetype-quicksand-kalam.css",sectioncss:"type-quicksand-kalam.css",classname:"type-quicksand-kalam",img:"type-quicksand-kalam.jpg",category:1,default:!1,caption:"Quicksand & Kalam"},{css:"basetype-ibmplexmono.css",sectioncss:"type-ibmplexmono.css",classname:"type-ibmplexmono",img:"type-ibmplexmono.jpg",category:5,default:!1,caption:"IBM Plex Mono"},{css:"basetype-cinzeldecor-palanquin.css",sectioncss:"type-cinzeldecor-palanquin.css",classname:"type-cinzeldecor-palanquin",img:"type-cinzeldecor-palanquin.jpg",category:8,default:!1,caption:"Cinzel Decorative & Palanquin"},{css:"basetype-oswald-biryani.css",sectioncss:"type-oswald-biryani.css",classname:"type-oswald-biryani",img:"type-oswald-biryani.jpg",category:1,default:!1,caption:"Oswald & Biryani"},{css:"basetype-yanonekaff-josefinsans.css",sectioncss:"type-yanonekaff-josefinsans.css",classname:"type-yanonekaff-josefinsans",img:"type-yanonekaff-josefinsans.jpg",category:1,default:!1,caption:"Yanone Kaffeesatz & Josefin Sans"},{css:"basetype-abrilfatface-assistant.css",sectioncss:"type-abrilfatface-assistant.css",classname:"type-abrilfatface-assistant",img:"type-abrilfatface-assistant.jpg",category:8,default:!1,caption:"Abril Fatface & Assistant"},{css:"basetype-nanumgothiccod-firasanscon.css",sectioncss:"type-nanumgothiccod-firasanscon.css",classname:"type-nanumgothiccod-firasanscon",img:"type-nanumgothiccod-firasanscon.jpg",category:6,default:!1,caption:"Nanum Gothic Coding & Fira Sans Condensed"},{css:"basetype-inder-trirong.css",sectioncss:"type-inder-trirong.css",classname:"type-inder-trirong",img:"type-inder-trirong.jpg",category:3,default:!1,caption:"Inder & Trirong"},{css:"basetype-atma-tajawal.css",sectioncss:"type-atma-tajawal.css",classname:"type-atma-tajawal",img:"type-atma-tajawal.jpg",category:8,default:!1,caption:"Atma & Tajawal"},{css:"basetype-prata-hindsiliguri.css",sectioncss:"type-prata-hindsiliguri.css",classname:"type-prata-hindsiliguri",img:"type-prata-hindsiliguri.jpg",category:4,default:!1,caption:"Prata & Hind Siliguri"},{css:"basetype-federo-gothica1.css",sectioncss:"type-federo-gothica1.css",classname:"type-federo-gothica1",img:"type-federo-gothica1.jpg",category:1,default:!1,caption:"Federo & Gothic A1"},{css:"basetype-fjallaone-ibmplexserif.css",sectioncss:"type-fjallaone-ibmplexserif.css",classname:"type-fjallaone-ibmplexserif",img:"type-fjallaone-ibmplexserif.jpg",category:3,default:!1,caption:"Fjalla One & IBM Plex Serif"},{css:"basetype-cormorantsc-ibmplexsanscon.css",sectioncss:"type-cormorantsc-ibmplexsanscon.css",classname:"type-cormorantsc-ibmplexsanscon",img:"type-cormorantsc-ibmplexsanscon.jpg",category:4,default:!1,caption:"Cormorant SC & IBM Plex Sans Condensed"},{css:"basetype-kalam-robotomono.css",sectioncss:"type-kalam-robotomono.css",classname:"type-kalam-robotomono",img:"type-kalam-robotomono.jpg",category:13,default:!1,caption:"Kalam & Roboto Mono"},{css:"basetype-fugazone-librefranklin.css",sectioncss:"type-fugazone-librefranklin.css",classname:"type-fugazone-librefranklin",img:"type-fugazone-librefranklin.jpg",category:8,default:!1,caption:"Fugaz One & Libre Franklin"},{css:"basetype-yeonsung-palanquin.css",sectioncss:"type-yeonsung-palanquin.css",classname:"type-yeonsung-palanquin",img:"type-yeonsung-palanquin.jpg",category:8,default:!1,caption:"Yeon Sung & Palanquin"},{css:"basetype-rancho-robotoslab.css",sectioncss:"type-rancho-robotoslab.css",classname:"type-rancho-robotoslab",img:"type-rancho-robotoslab.jpg",category:11,default:!1,caption:"Rancho & Roboto Slab"},{css:"basetype-tenaram-overpassmono.css",sectioncss:"type-tenaram-overpassmono.css",classname:"type-tenaram-overpassmono",img:"type-tenaram-overpassmono.jpg",category:7,default:!1,caption:"Tenali Ramakrishna & Overpass Mono"},{css:"basetype-thegirlnextdoor-sourcesanspro.css",sectioncss:"type-thegirlnextdoor-sourcesanspro.css",classname:"type-thegirlnextdoor-sourcesanspro",img:"type-thegirlnextdoor-sourcesanspro.jpg",category:9,default:!1,caption:"The Girl Next Door & Source Sans Pro"},{css:"basetype-boogaloo-inconsolata.css",sectioncss:"type-boogaloo-inconsolata.css",classname:"type-boogaloo-inconsolata",img:"type-boogaloo-inconsolata.jpg",category:12,default:!1,caption:"Boogaloo & Inconsolata"},{css:"basetype-caveat-sourcecodepro.css",sectioncss:"type-caveat-sourcecodepro.css",classname:"type-caveat-sourcecodepro",img:"type-caveat-sourcecodepro.jpg",category:13,default:!1,caption:"Caveat & Source Code Pro"},{css:"basetype-passionone-worksans.css",sectioncss:"type-passionone-worksans.css",classname:"type-passionone-worksans",img:"type-passionone-worksans.jpg",category:8,default:!1,caption:"Passion One & Work Sans"},{css:"basetype-anticdidone-halant.css",sectioncss:"type-anticdidone-halant.css",classname:"type-anticdidone-halant",img:"type-anticdidone-halant.jpg",category:2,default:!1,caption:"Antic Didone & Halant"},{css:"basetype-adventpro-opensans.css",sectioncss:"type-adventpro-opensans.css",classname:"type-adventpro-opensans",img:"type-adventpro-opensans.jpg",category:1,default:!1,caption:"Advent Pro & Open Sans"},{css:"basetype-cutivemono-lato.css",sectioncss:"type-cutivemono-lato.css",classname:"type-cutivemono-lato",img:"type-cutivemono-lato.jpg",category:6,default:!1,caption:"Cutive Mono & Lato"},{css:"basetype-elsie-montserrat.css",sectioncss:"type-elsie-montserrat.css",classname:"type-elsie-montserrat",img:"type-elsie-montserrat.jpg",category:8,default:!1,caption:"Elsie & Montserrat"},{css:"basetype-macondo-mukta.css",sectioncss:"type-macondo-mukta.css",classname:"type-macondo-mukta",img:"type-macondo-mukta.jpg",category:8,default:!1,caption:"Macondo & Mukta"},{css:"basetype-oswald-opensans.css",sectioncss:"type-oswald-opensans.css",classname:"type-oswald-opensans",img:"type-oswald-opensans.jpg",category:1,default:!1,caption:"Oswald & Open Sans"},{css:"basetype-poppins-lekton.css",sectioncss:"type-poppins-lekton.css",classname:"type-poppins-lekton",img:"type-poppins-lekton.jpg",category:1,default:!1,caption:"Poppins & Lekton"},{css:"basetype-raleway-neuton.css",sectioncss:"type-raleway-neuton.css",classname:"type-raleway-neuton",img:"type-raleway-neuton.jpg",category:3,default:!1,caption:"Raleway & Neuton"},{css:"basetype-sourcecodepro-nunitosans.css",sectioncss:"type-sourcecodepro-nunitosans.css",classname:"type-sourcecodepro-nunitosans",img:"type-sourcecodepro-nunitosans.jpg",category:6,default:!1,caption:"Source Code Pro & Nunito Sans"},{css:"basetype-tangerine-opensans.css",sectioncss:"type-tangerine-opensans.css",classname:"type-tangerine-opensans",img:"type-tangerine-opensans.jpg",category:9,default:!1,caption:"Tangerine & Open Sans"},{css:"basetype-alegreya-lato.css",sectioncss:"type-alegreya-lato.css",classname:"type-alegreya-lato",img:"type-alegreya-lato.jpg",category:4,default:!1,caption:"Alegreya & Lato"},{css:"basetype-amaticsc-lato.css",sectioncss:"type-amaticsc-lato.css",classname:"type-amaticsc-lato",img:"type-amaticsc-lato.jpg",category:9,default:!1,caption:"Amatic SC & Lato"},{css:"basetype-heebo-ibmplexmono-2.css",sectioncss:"type-heebo-ibmplexmono-2.css",classname:"type-heebo-ibmplexmono-2",img:"type-heebo-ibmplexmono-2.jpg",category:7,default:!1,caption:"Heebo & IBM Plex Mono"},{css:"basetype-juliussansone-robotocondensed.css",sectioncss:"type-juliussansone-robotocondensed.css",classname:"type-juliussansone-robotocondensed",img:"type-juliussansone-robotocondensed.jpg",category:1,default:!1,caption:"Julius Sans One & Roboto Condensed"},{css:"basetype-montserrat-roboto.css",sectioncss:"type-montserrat-roboto.css",classname:"type-montserrat-roboto",img:"type-montserrat-roboto.jpg",category:1,default:!1,caption:"Montserrat & Roboto"},{css:"basetype-nothingyouc-ibmplexmono-2.css",sectioncss:"type-nothingyouc-ibmplexmono-2.css",classname:"type-nothingyouc-ibmplexmono-2",img:"type-nothingyouc-ibmplexmono-2.jpg",category:13,default:!1,caption:"Nothing You Could Do & IBM Plex Mono"},{css:"basetype-raleway-lato.css",sectioncss:"type-raleway-lato.css",classname:"type-raleway-lato",img:"type-raleway-lato.jpg",category:1,default:!1,caption:"Raleway & Lato"},{css:"basetype-raleway-lusitana.css",sectioncss:"type-raleway-lusitana.css",classname:"type-raleway-lusitana",img:"type-raleway-lusitana.jpg",category:3,default:!1,caption:"Raleway & Lusitana"},{css:"basetype-rufina-oxygen.css",sectioncss:"type-rufina-oxygen.css",classname:"type-rufina-oxygen",img:"type-rufina-oxygen.jpg",category:4,default:!1,caption:"Rufina & Oxygen"},{css:"basetype-sacramento-opensans.css",sectioncss:"type-sacramento-opensans.css",classname:"type-sacramento-opensans",img:"type-sacramento-opensans.jpg",category:9,default:!1,caption:"Sacramento & Open Sans"},{css:"basetype-specialelite-playfairdisplay.css",sectioncss:"type-specialelite-playfairdisplay.css",classname:"type-specialelite-playfairdisplay",img:"type-specialelite-playfairdisplay.jpg",category:10,default:!1,caption:"Special Elite & Playfair Display"},{css:"basetype-unicaone-sourcesanspro.css",sectioncss:"type-unicaone-sourcesanspro.css",classname:"type-unicaone-sourcesanspro",img:"type-unicaone-sourcesanspro.jpg",category:8,default:!1,caption:"Unica One & Source Sans Pro"},{css:"basetype-amaticsc-josepfinsans.css",sectioncss:"type-amaticsc-josepfinsans.css",classname:"type-amaticsc-josepfinsans",img:"type-amaticsc-josepfinsans.jpg",category:9,default:!0,caption:"Amatic SC & Josefin Sans"},{css:"basetype-sourcesanspro-anonymouspro.css",sectioncss:"type-sourcesanspro-anonymouspro.css",classname:"type-sourcesanspro-anonymouspro",img:"type-sourcesanspro-anonymouspro.jpg",category:7,default:!0,caption:"Source Sans Pro & Anonymous Pro"},{css:"basetype-poppins-oldstandardtt.css",sectioncss:"type-poppins-oldstandardtt.css",classname:"type-poppins-oldstandardtt",img:"type-poppins-oldstandardtt.jpg",category:3,default:!0,caption:"Poppins & Old Standard TT"},{css:"basetype-yesteryear-chivo.css",sectioncss:"type-yesteryear-chivo.css",classname:"type-yesteryear-chivo",img:"type-yesteryear-chivo.jpg",category:9,default:!0,caption:"Yesteryear & Chivo"},{css:"basetype-ptserif-poppins.css",sectioncss:"type-ptserif-poppins.css",classname:"type-ptserif-poppins",img:"type-ptserif-poppins.jpg",category:4,default:!0,caption:"PT Serif & Poppins"},{css:"basetype-kellyslab-yantramanav.css",sectioncss:"type-kellyslab-yantramanav.css",classname:"type-kellyslab-yantramanav",img:"type-kellyslab-yantramanav.jpg",category:8,default:!0,caption:"Kelly Slab & Yantramanav"},{css:"basetype-yellowtail-frankruhllibre.css",sectioncss:"type-yellowtail-frankruhllibre.css",classname:"type-yellowtail-frankruhllibre",img:"type-yellowtail-frankruhllibre.jpg",category:11,default:!0,caption:"Yellowtail & Frank Ruhl Libre"},{css:"basetype-sedgwickave-spectral.css",sectioncss:"type-sedgwickave-spectral.css",classname:"type-sedgwickave-spectral",img:"type-sedgwickave-spectral.jpg",category:10,default:!1,caption:"Sedgwick Ave & Spectral"},{css:"basetype-satisfy-economica.css",sectioncss:"type-satisfy-economica.css",classname:"type-satisfy-economica",img:"type-satisfy-economica.jpg",category:9,default:!1,caption:"Satisfy & Economica"},{css:"basetype-josefinsans-lekton.css",sectioncss:"type-josefinsans-lekton.css",classname:"type-josefinsans-lekton",img:"type-josefinsans-lekton.jpg",category:1,default:!1,caption:"Josefin Sans & Lekton"},{css:"basetype-parisienne-maitree.css",sectioncss:"type-parisienne-maitree.css",classname:"type-parisienne-maitree",img:"type-parisienne-maitree.jpg",category:11,default:!1,caption:"Parisienne & Maitree"},{css:"basetype-londrinashadow-martel.css",sectioncss:"type-londrinashadow-martel.css",classname:"type-londrinashadow-martel",img:"type-londrinashadow-martel.jpg",category:10,default:!1,caption:"Londrina Shadow & Martel"},{css:"basetype-poiretone-pridi.css",sectioncss:"type-poiretone-pridi.css",classname:"type-poiretone-pridi",img:"type-poiretone-pridi.jpg",category:10,default:!1,caption:"Poiret One & Pridi"},{css:"basetype-pollerone-ibmplexserif.css",sectioncss:"type-pollerone-ibmplexserif.css",classname:"type-pollerone-ibmplexserif",img:"type-pollerone-ibmplexserif.jpg",category:10,default:!1,caption:"Poller One & IBM Plex Serif"},{css:"basetype-italiana-martel.css",sectioncss:"type-italiana-martel.css",classname:"type-italiana-martel",img:"type-italiana-martel.jpg",category:2,default:!1,caption:"Italiana & Martel"},{css:"basetype-julee-lora.css",sectioncss:"type-julee-lora.css",classname:"type-julee-lora",img:"type-julee-lora.jpg",category:11,default:!1,caption:"Julee & Lora"},{css:"basetype-sixcaps-robotomono.css",sectioncss:"type-sixcaps-robotomono.css",classname:"type-sixcaps-robotomono",img:"type-sixcaps-robotomono.jpg",category:7,default:!1,caption:"Six Caps & Roboto Mono"},{css:"basetype-pacifico-nanumgothiccod.css",sectioncss:"type-pacifico-nanumgothiccod.css",classname:"type-pacifico-nanumgothiccod",img:"type-pacifico-nanumgothiccod.jpg",category:13,default:!1,caption:"Pacifico & Nanum Gothic Coding"},{css:"basetype-greatvibes-robotomono.css",sectioncss:"type-greatvibes-robotomono.css",classname:"type-greatvibes-robotomono",img:"type-greatvibes-robotomono.jpg",category:13,default:!1,caption:"Great Vibes & Roboto Mono"},{css:"basetype-pinyonscript-firasans.css",sectioncss:"type-pinyonscript-firasans.css",classname:"type-pinyonscript-firasans",img:"type-pinyonscript-firasans.jpg",category:9,default:!1,caption:"Pinyon Script & Fira Sans"},{css:"basetype-sail-rasa.css",sectioncss:"type-sail-rasa.css",classname:"type-sail-rasa",img:"type-sail-rasa.jpg",category:10,default:!1,caption:"Sail & Rasa"},{css:"basetype-yesevaone-forum.css",sectioncss:"type-yesevaone-forum.css",classname:"type-yesevaone-forum",img:"type-yesevaone-forum.jpg",category:14,default:!1,caption:"Yeseva One & Forum"},{css:"basetype-dosis-oldstandardtt.css",sectioncss:"type-dosis-oldstandardtt.css",classname:"type-dosis-oldstandardtt",img:"type-dosis-oldstandardtt.jpg",category:1,default:!1,caption:"Dosis & Old Standard TT"},{css:"basetype-engagement-spectral.css",sectioncss:"type-engagement-spectral.css",classname:"type-engagement-spectral",img:"type-engagement-spectral.jpg",category:11,default:!1,caption:"Engagement & Spectral"},{css:"basetype-dynalight-mada.css",sectioncss:"type-dynalight-mada.css",classname:"type-dynalight-mada",img:"type-dynalight-mada.jpg",category:8,default:!1,caption:"Dynalight & Mada"},{css:"basetype-gravitasone-nanummyeongjo.css",sectioncss:"type-gravitasone-nanummyeongjo.css",classname:"type-gravitasone-nanummyeongjo",img:"type-gravitasone-nanummyeongjo.jpg",category:10,default:!1,caption:"Gravitas One & Nanum Myeongjo"},{css:"basetype-alexbrush-ibmplexsans.css",sectioncss:"type-alexbrush-ibmplexsans.css",classname:"type-alexbrush-ibmplexsans",img:"type-alexbrush-ibmplexsans.jpg",category:9,default:!1,caption:"Alex Brush & IBM Plex Sans"}]}},cssInBody:!1,cssClasses:{fontWeight:{thin:"font-thin",extralight:"font-extralight",light:"font-light",normal:"font-normal",medium:"font-medium",semibold:"font-semibold",bold:"font-bold",extrabold:"font-extrabold",black:"font-black",defaultBold:"font-semibold",defaultNormal:"font-light"},fontStyle:{italic:"italic",normal:"not-italic"},textDecoration:{underline:"underline",linethrough:"line-through",normal:"no-underline"},textTransform:{uppercase:"uppercase",lowercase:"lowercase",capitalize:"capitalize",normal:"normal-case"},tracking:{tracking__100:"tracking--100",tracking__075:"tracking--75",tracking__050:"tracking-tighter",tracking__025:"tracking-tight",tracking_000:"tracking-normal",tracking_025:"tracking-wide",tracking_050:"tracking-wider",tracking_075:"tracking-75",tracking_100:"tracking-widest",tracking_125:"tracking-125",tracking_150:"tracking-150",tracking_175:"tracking-175",tracking_200:"tracking-200",tracking_225:"tracking-225",tracking_250:"tracking-250",tracking_275:"tracking-275",tracking_300:"tracking-300",tracking_325:"tracking-325",tracking_350:"tracking-350",tracking_375:"tracking-375",tracking_400:"tracking-400",tracking_425:"tracking-425",tracking_450:"tracking-450",tracking_475:"tracking-475",tracking_500:"tracking-500"},leading:{leading_5:"leading-05",leading_6:"leading-06",leading_7:"leading-07",leading_8:"leading-08",leading_9:"leading-09",leading_10:"leading-none",leading_11:"leading-11",leading_12:"leading-12",leading_125:"leading-tight",leading_13:"leading-13",leading_1375:"leading-snug",leading_14:"leading-14",leading_15:"leading-normal",leading_16:"leading-16",leading_1625:"leading-relaxed",leading_17:"leading-17",leading_18:"leading-18",leading_19:"leading-19",leading_20:"leading-loose",leading_21:"leading-21",leading_22:"leading-22",leading_23:"leading-23",leading_24:"leading-24",leading_25:"leading-25",leading_26:"leading-26",leading_27:"leading-27",leading_28:"leading-28",leading_29:"leading-29",leading_30:"leading-30"},opacity:{opacity_0:"opacity-0",opacity_2:"opacity-2",opacity_4:"opacity-4",opacity_5:"opacity-5",opacity_6:"opacity-6",opacity_8:"opacity-8",opacity_10:"opacity-10",opacity_12:"opacity-12",opacity_15:"opacity-15",opacity_20:"opacity-20",opacity_25:"opacity-25",opacity_30:"opacity-30",opacity_35:"opacity-35",opacity_40:"opacity-40",opacity_45:"opacity-45",opacity_50:"opacity-50",opacity_55:"opacity-55",opacity_60:"opacity-60",opacity_65:"opacity-65",opacity_70:"opacity-70",opacity_75:"opacity-75",opacity_80:"opacity-80",opacity_85:"opacity-85",opacity_90:"opacity-90",opacity_95:"opacity-95",opacity_100:"opacity-100"},padding:{all:{p_0:"p-0",p_1:"p-1",p_2:"p-2",p_3:"p-3",p_4:"p-4",p_5:"p-5",p_6:"p-6",p_7:"p-7",p_8:"p-8",p_9:"p-9",p_10:"p-10",p_11:"p-11",p_12:"p-12",p_14:"p-14",p_16:"p-16",p_20:"p-20"},x:{px_0:"px-0",px_1:"px-1",px_2:"px-2",px_3:"px-3",px_4:"px-4",px_5:"px-5",px_6:"px-6",px_7:"px-7",px_8:"px-8",px_9:"px-9",px_10:"px-10",px_11:"px-11",px_12:"px-12",px_14:"px-14",px_16:"px-16",px_20:"px-20"},y:{py_0:"py-0",py_1:"py-1",py_2:"py-2",py_3:"py-3",py_4:"py-4",py_5:"py-5",py_6:"py-6",py_7:"py-7",py_8:"py-8",py_9:"py-9",py_10:"py-10",py_11:"py-11",py_12:"py-12",py_14:"py-14",py_16:"py-16",py_20:"py-20"},top:{pt_0:"pt-0",pt_1:"pt-1",pt_2:"pt-2",pt_3:"pt-3",pt_4:"pt-4",pt_5:"pt-5",pt_6:"pt-6",pt_7:"pt-7",pt_8:"pt-8",pt_9:"pt-9",pt_10:"pt-10",pt_11:"pt-11",pt_12:"pt-12",pt_14:"pt-14",pt_16:"pt-16",pt_20:"pt-20"},right:{pr_0:"pr-0",pr_1:"pr-1",pr_2:"pr-2",pr_3:"pr-3",pr_4:"pr-4",pr_5:"pr-5",pr_6:"pr-6",pr_7:"pr-7",pr_8:"pr-8",pr_9:"pr-9",pr_10:"pr-10",pr_11:"pr-11",pr_12:"pr-12",pr_14:"pr-14",pr_16:"pr-16",pr_20:"pr-20"},bottom:{pb_0:"pb-0",pb_1:"pb-1",pb_2:"pb-2",pb_3:"pb-3",pb_4:"pb-4",pb_5:"pb-5",pb_6:"pb-6",pb_7:"pb-7",pb_8:"pb-8",pb_9:"pb-9",pb_10:"pb-10",pb_11:"pb-11",pb_12:"pb-12",pb_14:"pb-14",pb_16:"pb-16",pb_20:"pb-20"},left:{pl_0:"pl-0",pl_1:"pl-1",pl_2:"pl-2",pl_3:"pl-3",pl_4:"pl-4",pl_5:"pl-5",pl_6:"pl-6",pl_7:"pl-7",pl_8:"pl-8",pl_9:"pl-9",pl_10:"pl-10",pl_11:"pl-11",pl_12:"pl-12",pl_14:"pl-14",pl_16:"pl-16",pl_20:"pl-20"}},extend:{superscript:"sup",subscript:"sub"},textAlign:{left:"text-left",center:"text-center",right:"text-right",justify:"text-justify"},display:{flex:"flex",block:"block",inline:"inline",inline_block:"inline-block"},flexDirection:{row:"flex-row",column:"flex-col",row_reverse:"flex-row-reverse",column_reverse:"flex-col-reverse"},flexWrap:{wrap:"flex-wrap",nowrap:"flex-nowrap",wrap_reverse:"flex-wrap-reverse"},justifyContent:{start:"justify-start",end:"justify-end",center:"justify-center",between:"justify-between",around:"justify-around",evenly:"justify-evenly"},alignItems:{start:"items-start",end:"items-end",center:"items-center",baseline:"items-baseline",stretch:"items-stretch"}},useCssClasses:!0,useButtonPlugin:!1,enableDragResize:!0,simpleTextSettings:!1,consoleLog:!1,AIToolbar:!0,sendCommandUrl:"",imageAutoUpscale:!0,speechTranscribeUrl:"",autoSendDelay:4e3,onlineDemo:!1,startAIAssistant:!1,temperature:.6,topP:.9,useMediaRecorder:!0,encoderPath:"",commandPlaceholders:{general:"Create a section containing a short article with ideas for outdoor activities.",ask_questions:"Can you explain our galaxy in a beginner-friendly and interesting way?",edit_block:"Align the headline to the center",generate_image:"City view from the window, sunset, realistic photo"},disclaimerAI:"The feature you're about to use utilizes AI in some of its processes. \n            It's important to understand that AI systems have limitations.\n            There may be instances where the results are not 100% accurate or may provide unexpected responses or information.\n            As a user, it's your responsibility to independently verify any information or results obtained through this AI-powered feature. \n            Our team is dedicated to continuously improving its performance and accuracy to enhance your experience.",showDisclaimer:!0,enableShortCommands:!0,speechRecognitionLang:"en-US",triggerWords:{send:["send","okay","ok","execute","run"],abort:["abort","cancel"],clear:["clear","erase"]},similarityThreshold:.65,headlineList:["We're [CompanyName]. Full stack development with a spark of creativity."],mediaPath:"assets/gallery/",media:{slider:["slide-01.jpg","slide-02.jpg"],blank_video:"blank.mp4",videos:["beach1.mp4","beach2.mp4"],youtube_videos:["https://www.youtube-nocookie.com/embed/P5yHEKqx86U?rel=0&autoplay=1&color=white"],maps:["https://www.youtube-nocookie.com/embed/P5yHEKqx86U?rel=0&autoplay=1&color=white"],audios:["example.mp3"],images:{square:["desk.jpg","chair.jpg","coffee.jpg","product.jpg","table.jpg","person-01.jpg","person-02.jpg","person-03.jpg","person-04.jpg","person-05.jpg","person-06.jpg","person-08.jpg"]},bg_images:{box:["person-01.jpg","person-02.jpg","person-03.jpg","person-04.jpg","person-05.jpg","person-06.jpg","person-07.jpg","person-08.jpg","person-09.jpg","person-10.jpg","building.jpg","desk.jpg","chair.jpg","coffee.jpg","product.jpg","table.jpg"],small_box:["person-01.jpg","person-03.jpg","person-04.jpg","person-05.jpg","person-10.jpg","chair.jpg","coffee.jpg","product.jpg","table.jpg"],section_text_left:["header-01.jpg","header-02.jpg","header-03.jpg","header-05.jpg","header-08.jpg","header-10b.jpg","header-14.jpg"],section_text_center:["header-07.jpg","header-11.jpg","header-12.jpg","header-13.jpg"],section_text_right:["header-04.jpg","header-05b.jpg","header-06.jpg","header-08b.jpg","header-09.jpg","header-10.jpg","header-14b.jpg","header-15.jpg"]}},shortCommandList:{undo:["undo"],redo:["undo"],increase:["increase","bigger","larger","enlarge"],decrease:["decrease","smaller"],bold:["bold"],italic:["italic"],underline:["underline"],strikethrough:["strikethrough"],superscript:["superscript"],subscript:["subscript"],uppercase:["uppercase"],lowercase:["lowercase"],capitalize:["capitalize"],clean:["clean"]},commandList:{new_section:["new section","create section","add section","craft section","develop section","build section","construct section","design section"],redesign:["redesign layout","change layout","change placement","decide placement","decide layout"],two_boxes:["2 boxes","two boxes"],select:["select","select first","select first block"],select_next:["select next","select after","select next block","select next row"],select_previous:["select previous","select before","select previous block","select previous row"],select_last:["select last","select last block"],select_block:["select block"],unselect_block:["unselect","unselect block"],select_headline:["select headline"],select_paragraph:["select paragraph"],select_button:["select button"],select_space:["select space"],select_image:["select image"],change_font:["change font","change typography","change style"],fade_in:["fade in"],fade_in_up:["fade in up"],slide_up:["slide up"],zoom_in:["zoom in"],zoom_out:["zoom out"],animate_once:["animate once"],always_animate:["always animate"],remove_animation:["remove animation","clear animation","remove fade in","clear fade in","remove slide up","clear slide up","remove zoom in","clear zoom in","remove zoom out","clear zoom out"],add_bg_color:["add background color","set background color"],add_bg_image:["add background image","add background"],change_bg_color:["change background color"],change_bg_image:["change background image","change background"],remove_bg_color:["remove background color","clear background color"],remove_bg:["remove background","remove background image","clear background","clear background image"],increase_content_width:["increase content width","enlarge content width"],decrease_content_width:["decrease content width","reduce content width"],clear_content_width:["clear content width","remove content width","make content full","full width content"],make_content_light:["make content white","make content light","make text white","make text light","change content white","change content light","change text white","change text light","change to white content","change to light content","change to white text","change to light text"],make_content_dark:["make content black","make content dark","make text black","make text dark","change content black","change content dark","change text black","change text dark","change to black content","change to dark content","change to black text","change to dark text"],make_section_height_10:["make section height 10"],make_section_height_15:["make section height 15"],make_section_height_20:["make section height 20"],make_section_height_25:["make section height 25"],make_section_height_30:["make section height 30"],make_section_height_40:["make section height 40"],make_section_height_50:["make section height 50"],make_section_height_60:["make section height 60"],make_section_height_70:["make section height 70"],make_section_height_75:["make section height 75"],make_section_height_80:["make section height 80"],make_section_height_85:["make section height 85"],make_section_height_90:["make section height 90"],make_section_height_100:["make section height 100"],make_section_height_auto:["make section height auto"],suggest_headline:["suggest headline","suggest header","suggest title","write headline","write header","write title"],suggest_text:["suggest text","write text"],add_headline:["add headline","add header","add title"],add_paragraph:["add paragraph"],add_image:["add image"],add_youtube:["add youtube"],add_video:["add video"],remove_video:["remove video","clear video"],add_bg_video:["add background video"],remove_bg_video:["remove background video","clear background video"],add_slider:["add slider"],remove_slider:["remove slider","clear slider"],add_bg_slider:["add background slider"],remove_bg_slider:["remove background slider","clear background slider"],add_audio:["add audio","add music","add mp3"],add_map:["add map","add google map"],add_table:["add table"],add_social:["add social"],add_icon:["add icon"],add_button:["add button"],add_2buttons:["add 2 button","add 2 buttons"],add_space:["add space"],position_before:["above","before"],increase_line_height:["increase line height","increase line spacing","increase text spacing","enlarge line height","enlarge line spacing","enlarge text spacing","bigger line height","bigger line spacing","bigger text spacing","make line height bigger","make line spacing bigger","make text spacing bigger"],increase_default_line_height:["increase default line height","increase default line spacing","increase default text spacing","enlarge default line height","enlarge default line spacing","enlarge default text spacing","bigger default line height","bigger default line spacing","bigger default text spacing","make default line height bigger","make default line spacing bigger","make default text spacing bigger"],decrease_line_height:["decrease line height","decrease line spacing","decrease text spacing","reduce line height","reduce line spacing","reduce text spacing","smaller line height","smaller line spacing","smaller text spacing","make line height smaller","make line spacing smaller","make text spacing smaller"],decrease_default_line_height:["decrease default line height","decrease default line spacing","decrease default text spacing","reduce default line height","reduce default line spacing","reduce default text spacing","smaller default line height","smaller default line spacing","smaller default text spacing","make default line height smaller","make default line spacing smaller","make default text spacing smaller"],increase_font_size:["increase font","increase size","increase font size","increase text","increase size","increase text size","enlarge font","enlarge size","enlarge font size","enlarge text","enlarge size","enlarge text size","text bigger","font bigger","size bigger"],decrease_font_size:["decrease font","decrease size","decrease font size","decrease text","decrease size","decrease text size","reduce font","reduce size","reduce font size","reduce text","reduce size","reduce text size","text smaller","font smaller","size smaller"],increase_default_font_size:["increase default font","increase default size","increase default font size","increase default text","increase default size","increase default text size","enlarge default font","enlarge default size","enlarge default font size","enlarge default text","enlarge default text size","default text bigger","default font bigger","default size bigger","increase default content","increase default content size","enlarge default content","enlarge default content size"],decrease_default_font_size:["decrease default font","decrease default size","decrease default font size","decrease default text","decrease default size","decrease default text size","reduce default font","reduce default size","reduce default font size","reduce default text","reduce default text size","default text smaller","default font smaller","default size smaller","decrease default content","decrease default content size","reduce default content","reduce default content size"],clear_font_size:["clear font size","remove font size","clear text size","remove text size","use default font size"],align_left:["align left","align text left","left aligned"],align_center:["align center","align text center","center aligned"],align_right:["align right","align text right","right aligned"],align_full:["align full","align justify","justify","justify text","justify full"],clear_alignment:["clear alignment","remove alignment","clear text alignment","remove text alignment"],move_content_left:["move content left","align content left"],move_content_center:["move content center","align content center"],move_content_right:["move content right","align content right"],move_content_top:["move content top","align content top"],move_content_bottom:["move content bottom","align content bottom"],align_content_top_left:["move content top left","align content top left"],align_content_top_right:["move content top right","align content top right"],align_content_bottom_left:["move content bottom left","align content bottom left"],align_content_bottom_right:["move content bottom right","align content bottom right"],increase_space:["more space","increase space","enlarge space"],decrease_space:["less space","decrease space","reduce space"],move_up:["move up"],move_down:["move down"],move_row_up:["move row up"],move_row_down:["move row down"],duplicate_row:["duplicate row","copy row"],remove_row:["remove row","delete row"],move_col_left:["move left","move column left"],move_col_right:["move right","move column right"],duplicate_col:["duplicate column","copy column"],remove_col:["remove column","delete column"],move_column_up:["move column up"],move_column_down:["move column down"],move_section_up:["move section up"],move_section_down:["move section down"],move_section_top:["move section top"],move_section_bottom:["move section bottom"],duplicate_section:["duplicate section","copy section"],remove_section:["remove section","delete section"],remove_content:["remove content","remove all text","remove all content","delete content","delete all text","delete all content","clear content","clear all text","clear all content"],add_content:["add content","add text"]},commandInfo:{general:{title:"General",description:"Commands for designing or editing.",list:["Add a section that highlights our AI-powered web solutions. Include a compelling headline, a paragraph, and two buttons named 'Our Works' and 'Get in Touch'. Also, add a background image.","Create a section containing an article on ideas for outdoor activities. Include a minimum of 300 words.","Can you suggest a captivating headline for us and replace the current one?","Add a section showcasing our AI-powered innovations. Craft an attention-grabbing headline, provide explanations, incorporate an image, and add an enticing call-to-action.","Create a section containing a feature list of our wood cabin for rent:<br>\n- Scenic forest view<br>\n- Modern comforts<br>\n- Outdoor escape<br>\nAdd an icon for each list item.","Add a section highlighting the features of our creative arts courses:<br>\n- Hands-on projects<br>\n- Guidance from experts<br>\nAdd an image for each feature.","Revise the headline, paragraph, and all the text using alternative ideas.","Let's redesign the layout. Surprise me with a new idea!","Create a new section showcasing a photo gallery of our latest photography workshop. Includes up to 3 photo placeholders.","Do you see the button with a gray background? Please change the background color to light green.","Underline the phrase 'every monday' and change the color to dark blue.","Summarize this content in 100 words."]},others:{title:"Ask Questions or Request Information",description:"Commands that are <u>not related to designing and editing of the current content</u>.",list:["Provide well-researched information about bookstores in the Melbourne city area that offer collections of classic titles. Include specific details such as locations, website links, the range of classic titles they offer, and any unique features they have.","Explain our galaxy in a beginner-friendly and interesting way.","Can you explain the process of baking a classic chocolate cake from scratch?","Provide me with a 10-hour plan for learning practical data science."]},block:{title:"Edit Selected Block",description:"Specifically target the selected block for editing, providing more precise results.",list:["Enhance the content by including introductory paragraphs after the title.","Add a space between the title and the button.","Increase the space between the title and the paragraph.","Apply a gradient text color from red to orange horizontally to the title.","Rewrite the headline with alternative ideas","Reduce the title font size.","Add a link on the text 'Download' that directs to: https://example.com/download","Add a new block containing a Google map showing local cafes in the Perth city area."]},image:{title:"Image",description:"Generate image for the selected image or background",list:["A small, minimalist wood cabin, situated atop a hill, seen from a distance"]},selection:{title:"Selection & Layout",list:["Select the headline","Select the next block","Move up","Move down","Duplicate row","Remove row","Move column left","Move column right","Duplicate column","Remove column","Move section up","Move section down"]},section:{title:"Section",list:["Add a background image","Change the background image","Add a background slider","Add a background video","Clear background","Adjust the section height to 70%","Change the section height to 100%","Set the section height to auto"]},typography:{title:"Typography",list:["Change the font"]},content:{title:"Content",list:["Set the content color to white","Set the content color to black","Increase the width of the content","Reduce the width of the content","Increase the default font size","Increase the default line height","Clear the content","Add new content","Move the content to the left","Move the content to the center","Move the content to the right","Move the content to the top"]},element:{title:"Element",list:["Add a headline","Add a paragraph","Add an image","Add a Youtube video","Add a button","Add two buttons","Add a space","Increase the space"]},text:{title:"Text Formatting",list:["Increase font size","Clear font size","Align center","Align right","Align justify","Clear alignment","Bold","Italic","Underline","Strikethrough","Uppercase","Clean"]},animation:{title:"Animation",list:["Add a fade in animation","Add fade in up animation","Add slide up animation","Add zoom in animation","Add zoom out animation","Clear the animation","Animate once","Always animate"]}},onAddSectionOpen:function(){},contentHtmlStart:'<div class="is-container is-builder container"><div class="row clearfix"><div class="column full">',contentHtmlEnd:"</div></div></div>"};if(this.settings=Object.assign(this,i,e),this.clearPreferences&&localStorage.removeItem("_disclaimershown"),this.templateJSON=[{url:this.settings.designUrl1,path:this.settings.designPath,pathReplace:this.settings.designPathReplace},{url:this.settings.designUrl2,path:this.settings.designPath,pathReplace:this.settings.designPathReplace}],0!==this.settings.templates.length&&""===this.settings.templateThumbnailSize){let e=document.body.clientWidth;this.settings.templateThumbnailSize=e<=1440?"small":e>1440&&e<=1920?"medium":"large"}let n,s;if(""!==this.settings.imageSelect?this.settings.imageselect=this.settings.imageSelect:""!=this.settings.imageselect&&(this.settings.imageSelect=this.settings.imageselect),""!==this.settings.fileSelect?this.settings.fileselect=this.settings.fileSelect:""!=this.settings.fileselect&&(this.settings.fileSelect=this.settings.fileselect),""!==this.settings.videoSelect?this.settings.videoselect=this.settings.videoSelect:""!=this.settings.videoselect&&(this.settings.videoSelect=this.settings.videoselect),this.settings.snippetPathReplace.length>0&&0===this.settings.designPathReplace.length&&(this.settings.designPathReplace=this.settings.snippetPathReplace),this.settings.contentStyleWithSample&&(this.settings.contentStyles=this.settings.contentStylesAlt),this.iframe){n=this.iframe.contentWindow;let e=this.iframe.contentDocument||this.iframe.contentWindow.document;s=e,this.iframeDocument=e}else n=window,s=document;if(this.win=n,this.doc=s,this.iframe){let e=s.querySelector(".content-stuff");e||(e=document.createElement("div"),e.className="content-stuff is-ui",e.id="_cbhtml",s.body.appendChild(e)),this.contentStuff=e,this.stuff=new py(this)}if(this.wrapperEl=this.doc.querySelector(this.wrapper),_y.hasClass(this.wrapperEl,"preview"))return void(this.preview=!0);_y.addClass(this.wrapperEl,"is-wrapper"),_y.addClass(this.wrapperEl,"is-edit");let a=this.settings.onRender;this.settings.onRender=()=>{a.call(this);try{this.box()}catch(e){}};let l=this.settings.onChange;this.settings.onChange=()=>{l.call(this),setTimeout((()=>{this.editor.livePreview.previewRefresh()}),100)};let r=document.querySelector("#_cbhtml");r||(r=document.createElement("div"),r.id="_cbhtml",r.style.visibility="hidden",r.className="is-ui",document.body.appendChild(r),r=document.querySelector("#_cbhtml")),this.builderStuff=r,r.style.position="fixed",setTimeout((()=>{r.style.position="",this.wrapperEl.getBoundingClientRect().left<0&&(r.style.position="fixed",setTimeout((()=>{r.style.position=""}),1500))}),1500),(e=>{const i=e.builderStuff;t.appendHtml(i,'<svg width="0" height="0" style="position:absolute;display:none;">\n        <defs>\n\n            <symbol viewBox="0 0 512 512" id="ion-android-add"><path d="M416 277.333H277.333V416h-42.666V277.333H96v-42.666h138.667V96h42.666v138.667H416v42.666z"></path></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-edit"><path d="M163 439.573l-90.569-90.569L322.78 98.656l90.57 90.569zM471.723 88.393l-48.115-48.114c-11.723-11.724-31.558-10.896-44.304 1.85l-45.202 45.203 90.569 90.568 45.202-45.202c12.743-12.746 13.572-32.582 1.85-44.305zM64.021 363.252L32 480l116.737-32.021z"></path></symbol>\n            <symbol viewBox="0 0 2048.0 2048.0" id="icon-snippets"><g id="document" transform="matrix(1,0,0,1,1024.0,1024.0)">\t\t\t<path d="M-727.581,329.502 L318.058,329.502 L318.058,-527.853 L-727.581,-527.853 L-727.581,329.502 Z " fill="#ffffff" fill-opacity="1.00" stroke-width="85.63" stroke="#000000" stroke-linecap="square" stroke-linejoin="miter" />\t\t\t<path d="M-347.749,652.594 L697.89,652.594 L697.89,-204.761 L-347.749,-204.761 L-347.749,652.594 Z " fill="#ffffff" fill-opacity="1.00" stroke-width="85.63" stroke="#000000" stroke-linecap="square" stroke-linejoin="miter" />\t\t</g></symbol>\n            <symbol viewBox="0 0 512 512" id="ion-ios-copy-outline"><path d="M304 96h-16v80h80v-16h-64z"></path><path d="M325.3 64H160v48h-48v336h240v-48h48V139l-74.7-75zM336 432H128V128h32v272h176v32zm48-48H176V80h142.7l65.3 65.6V384z"></path></symbol>\n                \n            <symbol viewBox="0 0 24 24" id="icon-arrow-bar-to-up" stroke-width="1" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">\n                <path stroke="none" d="M0 0h24v24H0z" fill="none"/>\n                <line x1="12" y1="10" x2="12" y2="20" />\n                <line x1="12" y1="10" x2="16" y2="14" />\n                <line x1="12" y1="10" x2="8" y2="14" />\n                <line x1="4" y1="4" x2="20" y2="4" />\n            </symbol>\n            <symbol viewBox="0 0 24 24" id="icon-arrow-bar-to-down" stroke-width="1" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">\n                <path stroke="none" d="M0 0h24v24H0z" fill="none"/>\n                <line x1="4" y1="20" x2="20" y2="20" />\n                <line x1="12" y1="14" x2="12" y2="4" />\n                <line x1="12" y1="14" x2="16" y2="10" />\n                <line x1="12" y1="14" x2="8" y2="10" />\n            </symbol>\n            <symbol viewBox="0 0 24 24" id="icon-space-between" stroke-width="1" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">\n                <path stroke="none" d="M0 0h24v24H0z" fill="none"/>\n                <line x1="4" y1="4" x2="20" y2="4" />\n                <line x1="4" y1="20" x2="20" y2="20" />\n            </symbol>\n\n            <symbol id="icon-arrow-right" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">\n                <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>\n                <line x1="5" y1="12" x2="19" y2="12"></line>\n                <line x1="15" y1="16" x2="19" y2="12"></line>\n                <line x1="15" y1="8" x2="19" y2="12"></line>\n            </symbol>\n\n            <symbol id="icon-arrow-left" viewBox="0 0 24 24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">\n                <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>\n                <line x1="5" y1="12" x2="19" y2="12"></line>\n                <line x1="5" y1="12" x2="9" y2="16"></line>\n                <line x1="5" y1="12" x2="9" y2="8"></line>\n            </symbol>\n            \n            <symbol id="icon-arrow-up" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">\n                <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>\n                <line x1="12" y1="5" x2="12" y2="19"></line>\n                <line x1="16" y1="9" x2="12" y2="5"></line>\n                <line x1="8" y1="9" x2="12" y2="5"></line>\n            </symbol>\n\n            <symbol id="icon-arrow-down" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">\n                <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>\n                <line x1="12" y1="5" x2="12" y2="19"></line>\n                <line x1="16" y1="15" x2="12" y2="19"></line>\n                <line x1="8" y1="15" x2="12" y2="19"></line>\n            </symbol>\n\n            <symbol id="icon-rotate-clockwise" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">\n                <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>\n                <path d="M9 4.55a8 8 0 0 1 6 14.9m0 -4.45v5h5"></path>\n                <line x1="5.63" y1="7.16" x2="5.63" y2="7.17"></line>\n                <line x1="4.06" y1="11" x2="4.06" y2="11.01"></line>\n                <line x1="4.63" y1="15.1" x2="4.63" y2="15.11"></line>\n                <line x1="7.16" y1="18.37" x2="7.16" y2="18.38"></line>\n                <line x1="11" y1="19.94" x2="11" y2="19.95"></line>\n            </symbol>\n\n            <symbol id="icon-rotate-2" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">\n                <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>\n                <path d="M15 4.55a8 8 0 0 0 -6 14.9m0 -4.45v5h-5"></path>\n                <line x1="18.37" y1="7.16" x2="18.37" y2="7.17"></line>\n                <line x1="13" y1="19.94" x2="13" y2="19.95"></line>\n                <line x1="16.84" y1="18.37" x2="16.84" y2="18.38"></line>\n                <line x1="19.37" y1="15.1" x2="19.37" y2="15.11"></line>\n                <line x1="19.94" y1="11" x2="19.94" y2="11.01"></line>\n            </symbol>\n\n            <symbol viewBox="0 0 24 24" id="icon-arrows-diagonal" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">\n                <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>\n                <polyline points="16 4 20 4 20 8"></polyline>\n                <line x1="14" y1="10" x2="20" y2="4"></line>\n                <polyline points="8 20 4 20 4 16"></polyline>\n                <line x1="4" y1="20" x2="10" y2="14"></line>\n            </symbol>\n            \n            <symbol viewBox="0 0 24 24" id="icon-arrows-diagonal-minimize" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">\n                <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>\n                <path d="M18 10h-4v-4"></path>\n                <path d="M20 4l-6 6"></path>\n                <path d="M6 14h4v4"></path>\n                <path d="M10 14l-6 6"></path>\n            </symbol>\n\n            <symbol id="icon-circle-half" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">\n                <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>\n                <circle cx="12" cy="12" r="9"></circle>\n                <path d="M12 3v18"></path>\n                <path d="M12 14l7 -7"></path>\n                <path d="M12 19l8.5 -8.5"></path>\n                <path d="M12 9l4.5 -4.5"></path>\n            </symbol>\n\n            <symbol id="icon-box-multiple" viewBox="0 0 24 24" stroke-width="1" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">\n                <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>\n                <rect x="7" y="3" width="14" height="14" rx="2"></rect>\n                <path d="M17 17v2a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2v-10a2 2 0 0 1 2 -2h2"></path>\n            </symbol>\n\n            <symbol id="icon-typography" viewBox="0 0 24 24" stroke-width="1" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">\n                <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>\n                <line x1="4" y1="20" x2="7" y2="20"></line>\n                <line x1="14" y1="20" x2="21" y2="20"></line>\n                <line x1="6.9" y1="15" x2="13.8" y2="15"></line>\n                <line x1="10.2" y1="6.3" x2="16" y2="20"></line>\n                <polyline points="5 20 11 4 13 4 20 20"></polyline>\n            </symbol>\n\n            <symbol id="icon-plus" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">\n                <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>\n                <line x1="12" y1="5" x2="12" y2="19"></line>\n                <line x1="5" y1="12" x2="19" y2="12"></line>\n            </symbol>\n\n            <symbol id="icon-hand-move" viewBox="0 0 24 24" stroke-width="1" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">\n                <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>\n                <path d="M8 13v-8.5a1.5 1.5 0 0 1 3 0v7.5"></path>\n                <path d="M11 11.5v-2a1.5 1.5 0 0 1 3 0v2.5"></path>\n                <path d="M14 10.5a1.5 1.5 0 0 1 3 0v1.5"></path>\n                <path d="M17 11.5a1.5 1.5 0 0 1 3 0v4.5a6 6 0 0 1 -6 6h-2h.208a6 6 0 0 1 -5.012 -2.7l-.196 -.3c-.312 -.479 -1.407 -2.388 -3.286 -5.728a1.5 1.5 0 0 1 .536 -2.022a1.867 1.867 0 0 1 2.28 .28l1.47 1.47"></path>\n                <path d="M2.541 5.594a13.487 13.487 0 0 1 2.46 -1.427"></path>\n                <path d="M14 3.458c1.32 .354 2.558 .902 3.685 1.612"></path>\n            </symbol>\n            \n            <symbol id="icon-wand" viewBox="0 0 24 24" stroke-width="1" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">\n                <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>\n                <polyline points="6 21 21 6 18 3 3 18 6 21"></polyline>\n                <line x1="15" y1="6" x2="18" y2="9"></line>\n                <path d="M9 3a2 2 0 0 0 2 2a2 2 0 0 0 -2 2a2 2 0 0 0 -2 -2a2 2 0 0 0 2 -2"></path>\n                <path d="M19 13a2 2 0 0 0 2 2a2 2 0 0 0 -2 2a2 2 0 0 0 -2 -2a2 2 0 0 0 2 -2"></path>\n            </symbol>\n\n            <symbol id="icon-pencil" viewBox="0 0 24 24" stroke-width="1" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">\n                <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>\n                <path d="M4 20h4l10.5 -10.5a1.5 1.5 0 0 0 -4 -4l-10.5 10.5v4"></path>\n                <line x1="13.5" y1="6.5" x2="17.5" y2="10.5"></line>\n            </symbol>\n\n            <symbol id="icon-window-maximize" viewBox="0 0 24 24" stroke-width="1" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">\n                <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>\n                <rect x="3" y="16" width="5" height="5" rx="1"></rect>\n                <path d="M4 12v-6a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-6"></path>\n                <path d="M12 8h4v4"></path>\n                <path d="M16 8l-5 5"></path>\n            </symbol>\n\n            <symbol id="icon-settings" viewBox="0 0 24 24" stroke-width="1" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">\n                <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>\n                <path d="M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065z"></path>\n                <circle cx="12" cy="12" r="3"></circle>\n            </symbol>\n\n            <symbol id="icon-microphone" viewBox="0 0 24 24" stroke-width="1" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">\n                <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>\n                <path d="M9 2m0 3a3 3 0 0 1 3 -3h0a3 3 0 0 1 3 3v5a3 3 0 0 1 -3 3h0a3 3 0 0 1 -3 -3z"></path>\n                <path d="M5 10a7 7 0 0 0 14 0"></path>\n                <path d="M8 21l8 0"></path>\n                <path d="M12 17l0 4"></path>\n            </symbol>\n            <symbol id="icon-microphone-off" viewBox="0 0 24 24" stroke-width="1" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">\n                <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>\n                <path d="M3 3l18 18"></path>\n                <path d="M9 5a3 3 0 0 1 6 0v5a3 3 0 0 1 -.13 .874m-2 2a3 3 0 0 1 -3.87 -2.872v-1"></path>\n                <path d="M5 10a7 7 0 0 0 10.846 5.85m2 -2a6.967 6.967 0 0 0 1.152 -3.85"></path>\n                <path d="M8 21l8 0"></path>\n                <path d="M12 17l0 4"></path>\n            </symbol>\n            <symbol id="icon-trash" viewBox="0 0 24 24" stroke-width="1" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">\n                <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>\n                <path d="M4 7l16 0"></path>\n                <path d="M10 11l0 6"></path>\n                <path d="M14 11l0 6"></path>\n                <path d="M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12"></path>\n                <path d="M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3"></path>\n            </symbol>\n            <symbol id="icon-eraser" viewBox="0 0 24 24" stroke-width="1" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">\n                <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>\n                <path d="M19 20h-10.5l-4.21 -4.3a1 1 0 0 1 0 -1.41l10 -10a1 1 0 0 1 1.41 0l5 5a1 1 0 0 1 0 1.41l-9.2 9.3"></path>\n                <path d="M18 13.3l-6.3 -6.3"></path>\n            </symbol>\n            <symbol id="icon-refresh" viewBox="0 0 24 24" stroke-width="1" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">\n                <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>\n                <path d="M20 11a8.1 8.1 0 0 0 -15.5 -2m-.5 -4v4h4"></path>\n                <path d="M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4"></path>\n            </symbol>\n            <symbol id="icon-more" viewBox="0 0 24 24" stroke-width="1" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">\n                <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>\n                <path d="M5 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"></path>\n                <path d="M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"></path>\n                <path d="M19 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"></path>\n            </symbol>\n            </defs>\n        </svg>')})(this),this.sidebar=new o(this),this.animateScroll=new my(this),this.timeline=new by(this),this.util=new fy(this),this.pageTemplate||(this.pageTemplate=this.util.getPageTemplate(this.framework)),window.data_basic?(this.editorSetup(),this.init()):_y.addExternalScripts([this.snippetUrl],(()=>{this.editorSetup(),this.init()})),window.contentbox=this,window.applyBoxImage=this.boxImage.bind(this),window.applyLargerImage=this.applyLargerImage.bind(this),window.returnUrl=this.returnUrl.bind(this),this.win.applyBoxImage=this.boxImage.bind(this),window._contentbox=this}isNewV2(){return this.wrapperEl.classList.contains("box-v2")}editorSetup(){this.editor=new dy({isContentBox:!0,speechTranscribeUrl:this.settings.speechTranscribeUrl,autoSendDelay:this.settings.autoSendDelay,onlineDemo:this.settings.onlineDemo,temperature:this.settings.temperature,topP:this.settings.topP,speechRecognitionLang:this.settings.speechRecognitionLang,triggerWords:this.settings.triggerWords,headlineList:this.settings.headlineList,commandList:this.settings.commandList,enableShortCommands:this.settings.enableShortCommands,shortCommandList:this.settings.shortCommandList,commandInfo:this.settings.commandInfo,commandPlaceholders:this.settings.commandPlaceholders,similarityThreshold:this.settings.similarityThreshold,useMediaRecorder:this.settings.useMediaRecorder,encoderPath:this.settings.encoderPath,listFilesUrl:this.settings.listFilesUrl,listFoldersUrl:this.settings.listFoldersUrl,deleteFilesUrl:this.settings.deleteFilesUrl,moveFilesUrl:this.settings.moveFilesUrl,createFolderUrl:this.settings.createFolderUrl,uploadFilesUrl:this.settings.uploadFilesUrl,renameFileUrl:this.settings.renameFileUrl,getMmodelsUrl:this.settings.getMmodelsUrl,textToImageUrl:this.settings.textToImageUrl,upscaleImageUrl:this.settings.upscaleImageUrl,controlNetUrl:this.settings.controlNetUrl,saveTextUrl:this.settings.saveTextUrl,viewImageUrl:this.settings.viewImageUrl,imageModel:this.settings.imageModel,imageNegativePrompt:this.settings.imageNegativePrompt,imageSteps:this.settings.imageSteps,imageGuidance:this.settings.imageGuidance,imageScheduler:this.settings.imageScheduler,imageAutoUpscale:this.settings.imageAutoUpscale,assetPanelReverse:this.settings.assetPanelReverse,assetFilesOnly:this.settings.assetFilesOnly,assetRefreshButton:this.settings.assetRefreshButton,assetAllowedFileTypes:this.settings.assetAllowedFileTypes,container:".is-container",page:".is-wrapper",deleteConfirm:this.settings.deleteConfirm,previewURL:this.settings.previewURL,onPreviewOpen:()=>{let e=this.html();localStorage.setItem("preview-html",e);let t=this.mainCss();localStorage.setItem("preview-maincss",t);let i=this.sectionCss();localStorage.setItem("preview-sectioncss",i),localStorage.removeItem("_lastscrollpos")},onPreviewClose:()=>{this.wrapperEl.style.marginBottom=""},onPreviewContentLoad:()=>{setTimeout((()=>{const e=this.builderStuff.querySelector(".is-modal.content-preview").querySelector("iframe");this.scrollSync(e)}),1e3)},previewStyle:this.settings.previewStyle,livePreviewOpen:this.settings.livePreviewOpen,livePreviewAlwaysReload:this.settings.livePreviewAlwaysReload,livePreviewReloadEvery:this.settings.livePreviewReloadEvery,iframe:this.settings.iframe,imageAdjust:1,scriptPath:this.settings.scriptPath,pluginPath:this.settings.pluginPath,modulePath:this.settings.modulePath,fontAssetPath:this.settings.fontAssetPath,fontPath:this.settings.fontPath,assetPath:this.settings.assetPath,plugins:this.settings.plugins,disableConfig:this.settings.disableConfig,snippetList:"#divSidebarSnippets",snippetPath:this.settings.snippetPath,snippetUrl:this.settings.snippetUrl,snippetJSON:window.data_basic,snippetPathReplace:this.settings.snippetPathReplace,maxColumns:this.settings.maxColumns,maxEmbedImageWidth:this.settings.maxEmbedImageWidth,imageRenameOnEdit:this.settings.imageRenameOnEdit,sectionTemplate:this.settings.sectionTemplate,onSectionAdd:()=>{this.pageSetup()},slider:this.settings.slider,onRender:()=>{this.settings.onRender()},onChange:()=>{this.settings.onChange()},useLightbox:this.settings.useLightbox,lightboxArrow:this.settings.lightboxArrow,themes:this.settings.themes,moduleConfig:this.settings.moduleConfig,onImageBrowseClick:this.settings.onImageBrowseClick,onImageSettingClick:this.settings.onImageSettingClick,onImageSelectClick:this.settings.onImageSelectClick,onFileSelectClick:this.settings.onFileSelectClick,onVideoSelectClick:this.settings.onVideoSelectClick,onAudioSelectClick:this.settings.onAudioSelectClick,onMediaSelectClick:this.settings.onMediaSelectClick,onImageEditClick:this.settings.onImageEditClick,setCropperConfig:this.settings.setCropperConfig,onPluginsLoaded:this.settings.onPluginsLoaded,imageselect:this.settings.imageselect,fileselect:this.settings.fileselect,imageEmbed:this.settings.imageEmbed,sourceEditor:this.settings.sourceEditor,customval:this.settings.customval,colors:this.settings.colors,gradientcolors:this.settings.gradientcolors,buttons:this.settings.buttons,buttonsMore:this.settings.buttonsMore,elementButtons:this.settings.elementButtons,elementButtonsMore:this.settings.elementButtonsMore,iconButtons:this.settings.iconButtons,iconButtonsMore:this.settings.iconButtonsMore,customTags:this.settings.customTags,largerImageHandler:this.settings.largerImageHandler,onLargerImageUpload:this.settings.onLargerImageUpload,imageHandler:this.settings.imageHandler,mediaHandler:this.settings.mediaHandler,videoHandler:this.settings.videoHandler,audioHandler:this.settings.audioHandler,fileHandler:this.settings.fileHandler,onVideoUpload:this.settings.onVideoUpload,onAudioUpload:this.settings.onAudioUpload,onImageUpload:this.settings.onImageUpload,onMediaUpload:this.settings.onMediaUpload,onFileUpload:this.settings.onFileUpload,framework:this.settings.framework,cellFormat:this.settings.cellFormat,rowFormat:this.settings.rowFormat,row:this.settings.row,cols:this.settings.cols,colequal:this.settings.colequal,colsizes:this.settings.colsizes,classReplace:this.settings.classReplace,columnTool:this.settings.columnTool,elementTool:this.settings.elementTool,animateModal:this.settings.animateModal,elementAnimate:this.settings.elementAnimate,elementEditor:this.settings.elementEditor,onAdd:this.settings.onAdd,imageQuality:this.settings.imageQuality,columnHtmlEditor:this.settings.columnHtmlEditor,rowHtmlEditor:this.settings.rowHtmlEditor,rowMoveButtons:this.settings.rowMoveButtons,htmlSyntaxHighlighting:this.settings.htmlSyntaxHighlighting,scrollableEditingToolbar:this.settings.scrollableEditingToolbar,toolbar:this.settings.toolbar,toolbarDisplay:this.settings.toolbarDisplay,toolbarAddSnippetButton:this.settings.toolbarAddSnippetButton,paste:this.settings.paste,builderMode:this.settings.builderMode,rowcolOutline:this.settings.rowcolOutline,elementSelection:this.settings.elementSelection,animatedSorting:this.settings.animatedSorting,dragWithoutHandle:this.settings.dragWithoutHandle,addButtonPlacement:this.settings.addButtonPlacement,outlineMode:this.settings.outlineMode,elementHighlight:this.settings.elementHighlight,rowTool:this.settings.rowTool,toolStyle:this.settings.toolStyle,outlineStyle:this.settings.outlineStyle,snippetAddTool:this.settings.snippetAddTool,mobileSimpleEdit:this.settings.mobileSimpleEdit,clearPreferences:this.settings.clearPreferences,snippetCategories:this.settings.snippetCategories,defaultSnippetCategory:this.settings.defaultSnippetCategory,undoRedoStyles:this.settings.undoRedoStyles,onUndo:()=>{this.doUndoRedo()},onRedo:()=>{this.doUndoRedo()},undoContainerOnly:this.settings.undoContainerOnly,absolutePath:this.settings.absolutePath,cssClasses:this.settings.cssClasses,useCssClasses:this.settings.useCssClasses,useButtonPlugin:this.settings.useButtonPlugin,enableDragResize:this.settings.enableDragResize,simpleTextSettings:this.settings.simpleTextSettings,shortenHTML:this.settings.shortenHTML,zoom:this.settings.zoom,onZoomStart:()=>{this.wrapperEl.style.transition="none"},onZoom:e=>{const t=300*(1-e)/.5;this.wrapperEl.style.marginTop=`${t}px`;const i=this.wrapperEl;let n=i.querySelectorAll(".is-section-tool");n.forEach((e=>{e.setAttribute("data-section-active","")})),n=i.querySelectorAll(".is-box-tool"),n.forEach((e=>{e.setAttribute("data-box-active","")})),n=i.querySelectorAll(".is-box-info"),n.forEach((e=>{e.setAttribute("data-boxinfo-active","")}))},onZoomEnd:()=>{const e=this.wrapperEl;if(!e.querySelector(".is-section"))return;this.addSpace();let t=e.querySelectorAll(".is-section-tool");t.forEach((e=>{e.removeAttribute("data-section-active")})),t=e.querySelectorAll(".is-box-tool"),t.forEach((e=>{e.removeAttribute("data-box-active")})),t=e.querySelectorAll(".is-box-info"),t.forEach((e=>{e.removeAttribute("data-boxinfo-active")})),this.rePositionTool(),this.wrapperEl.style.transition="",this.refreshAnim()},onThemeChange:()=>{this.refreshUIStyle()},fileSelect:this.settings.fileSelect,imageSelect:this.settings.imageSelect,videoSelect:this.settings.videoSelect,audioSelect:this.settings.audioSelect,mediaSelect:this.settings.mediaSelect,onAssetOpen:this.settings.onAssetOpen,selectIcon:this.settings.selectIcon,otherSelect:this.settings.otherSelect,otherSelectCaption:this.settings.otherSelectCaption,otherSelectIcon:this.settings.otherSelectIcon,imageSelectWidth:this.settings.imageSelectWidth,imageSelectHeight:this.settings.imageSelectHeight,fileSelectWidth:this.settings.fileSelectWidth,fileSelectHeight:this.settings.fileSelectHeight,videoSelectWidth:this.settings.videoSelectWidth,videoSelectHeight:this.settings.videoSelectHeight,audioSelectWidth:this.settings.audioSelectWidth,audioSelectHeight:this.settings.audioSelectHeight,mediaSelectWidth:this.settings.mediaSelectWidth,mediaSelectHeight:this.settings.mediaSelectHeight,otherSelectWidth:this.settings.otherSelectWidth,otherSelectHeight:this.settings.otherSelectHeight,imageSelectMaxWidth:this.settings.imageSelectMaxWidth,fileSelectMaxWidth:this.settings.fileSelectMaxWidth,videoSelectMaxWidth:this.settings.videoSelectMaxWidth,audioSelectMaxWidth:this.settings.audioSelectMaxWidth,mediaSelectMaxWidth:this.settings.mediaSelectMaxWidth,otherSelectMaxWidth:this.settings.otherSelectMaxWidth,assetPanelFullScreen:this.settings.assetPanelFullScreen,codeEditorWidth:this.settings.codeEditorWidth,codeEditorHeight:this.settings.codeEditorHeight,codeEditorMaxWidth:this.settings.codeEditorMaxWidth,blockCodeEditorWidth:this.settings.blockCodeEditorWidth,blockCodeEditorHeight:this.settings.blockCodeEditorHeight,blockCodeEditorMaxWidth:this.settings.blockCodeEditorMaxWidth,assetRefresh:this.settings.assetRefresh,onContentClick:e=>{this.settings.onContentClick&&this.settings.onContentClick(e),this.doc.body.classList.remove("temporary-hide-tools");let t=e.target;if(!t.closest('[contenteditable="true"]')){let i=this.editor.dom.getParentElement(t,"a");if("a"===t.tagName.toLowerCase()||i){"a"===t.tagName.toLowerCase()&&(i=t);let n=i.getAttribute("href");if(n&&0===n.indexOf("#"))if(0===n.indexOf("#section")){let t=n.replace("#section","");if(!isNaN(parseInt(t))){let i,n=this.doc.querySelectorAll(".is-section"),s=0;n.forEach((function(e){_y.hasClass(e,"is-section-navbar")||(s===t-1&&(i=e),s++)})),i&&this.scrollTo(i),e.preventDefault()}}else{let t=this.doc.querySelector(n);t&&(this.scrollTo(t),e.preventDefault())}}}}});const e=this.builderStuff.querySelector(".is-modal.content-preview");this.modalPagePreview=e;const t=e.querySelector("iframe");this.win.addEventListener("scroll",this.doScrollSync=()=>{this.scrollSync(t)}),this.isTouchSupport=this.editor.isTouchSupport,this.command=new xy(this),this.startAIAssistant&&this.openAIAssistant(),this.UIColor&&this.editor.setUIColor(this.UIColor.mode,this.UIColor.css)}scrollSync(e){if(this.modalPagePreview.classList.contains("active")&&!this.cancelScrollSync)try{let t=e.contentWindow.document.querySelector(".is-wrapper").offsetHeight,i=this.wrapperEl.offsetHeight*this.editor.zoom,n=t-i;this.wrapperEl.style.marginBottom="100vh",e.contentWindow.scrollTo(0,this.win.scrollY+this.win.scrollY/i*n)}catch(e){}}init(){_y.appendHtml(this.doc.head,`<style id="_contentbox_css">\n        body {\n            background: ${this.settings.backgroundColor};\n        }\n        .block-click.is-box {\n            cursor: unset;\n        }\n        .block-click.is-box > * {\n            pointer-events: unset;\n            user-select: unset;\n        } \n\n        .is-wrapper.is-container-edit > div.section-select, .is-wrapper.is-clean-edit > div.section-select {\n            overflow-x: unset !important;\n            overflow-y: unset !important;\n        }\n\n        ${this.iframe?"":"\n            .is-wrapper.is-edit {\n                padding-left: 61px;\n            }\n\n            .is-wrapper.is-edit .is-section.is-section-navbar,\n            .is-wrapper.is-edit .is-section.is-section-navbar .is-topbar {\n            left: 0;\n            margin-left: 60px;\n            width: calc(100% - 60px);\n            }\n            .is-wrapper.is-edit .is-section.is-section-navbar .is-topbar.static {\n            width: 100%;\n            margin-left: unset;\n            }\n        "}\n        \n\n        /* protected section */\n        .is-section.protected .is-box-tool {\n          display: none !important;\n        }\n        .is-section.protected .is-box-info {\n          display: none !important;\n        }\n\n        /* manual selection during animation edit */\n        .hard-select .is-box-tool {\n          display: none !important;\n        }\n        .hard-select .is-box-info {\n          display: none !important;\n        }\n        .hard-select .is-section-tool {\n          display: none !important;\n        }\n        .hard-select .box-select {\n          outline: #00da89 1px solid;\n          outline-offset: -1px;\n          z-index: 1;\n        }\n        .hard-select .box-select .is-box-tool {\n          display: flex !important;\n        }\n        .hard-select .box-select .is-box-info {\n          display: flex !important;\n        }\n        .hard-select .box-select .is-overlay {\n          z-index: -1;\n        }\n        .hard-select .section-select .is-section-tool {\n          display: block !important;\n        }\n\n        /* drop block as section */\n        .is-wrapper > .sortable-ghost {\n            height: 40px !important;\n            min-height: unset !important;\n            background: rgba(204, 204, 204, 0.15) !important;\n        }\n        .is-wrapper > .sortable-ghost * {\n          opacity: 0 !important;\n        }\n\n        /* toggle tool */\n        .is-wrapper.is-clean-edit.hard-select .box-select .is-box-tool,\n        .is-wrapper.is-clean-edit .box-select .is-box-tool {\n          display: none !important;\n        }\n        .is-wrapper.is-clean-edit.hard-select .box-select .is-box-info,\n        .is-wrapper.is-clean-edit .box-select .is-box-tool {\n          display: none !important;\n        }\n        .is-wrapper.is-clean-edit.hard-select .section-select .is-section-tool,\n        .is-wrapper.is-clean-edit .section-select .is-section-tool {\n          display: none !important;\n        }\n        .is-wrapper.is-clean-edit.hard-select .box-select,\n        .is-wrapper.is-clean-edit .box-select {\n          outline: none !important;\n        }\n        \n        /* clean UI for selection only */\n        /*\n        .selection-only:not([data-skrollrr-off]) .is-wrapper.hard-select .box-select .is-box-tool,\n        .selection-only:not([data-skrollrr-off]) .is-wrapper .box-select .is-box-tool {\n          display: none !important;\n        }\n        .selection-only:not([data-skrollrr-off]) .is-wrapper.hard-select .box-select .is-box-info,\n        .selection-only:not([data-skrollrr-off]) .is-wrapper .box-select .is-box-info {\n          display: none !important;\n        }\n        .selection-only:not([data-skrollrr-off]) .is-wrapper.hard-select .section-select .is-section-tool,\n        .selection-only:not([data-skrollrr-off]) .is-wrapper .section-select .is-section-tool {\n          display: none !important;\n        }\n        .selection-only:not([data-skrollrr-off]) .is-wrapper .is-rowadd-tool {\n          display: none !important;\n        }\n        .selection-only:not([data-skrollrr-off]) .is-wrapper .is-tool {\n          display: none !important;\n        }\n        .selection-only:not([data-skrollrr-off]) .is-tool {\n          z-index: -10000 !important;\n        }\n        */\n\n        /* box info */\n        .is-wrapper .is-box-info {\n            position: absolute;\n            z-index: 1;\n            top: 15px;\n            right: 15px;\n            left: auto;\n            width: auto;\n            display: none;\n            border-radius: 50px;\n            overflow:hidden;\n            /* background: rgba(243, 243, 243, 0.9); */\n            width: 92px;\n            justify-content: center;\n        }\n        .is-wrapper .is-box-info button {\n            width:28px;\n            height:28px;\n            cursor:pointer;\n        }\n        .is-wrapper .box-select .is-box-info {\n            display: flex;\n        }\n        .is-wrapper .is-section-navbar .is-box-info {\n            display: none !important;\n        }\n        div.is-section-navbar + div .is-box-info {\n            top: 90px;\n        }\n        \n        /* section info */\n        .is-wrapper .is-section-info {\n            position: absolute;\n            z-index: 1;\n            top: 3px;\n            left: 3px;\n            display: none;\n        }\n        .is-wrapper .is-section-info > div {\n            width: auto;\n            height: auto;\n            padding: 5px 20px;\n            background-color: rgb(255, 239, 100);\n            color: #111;\n            font-family: sans-serif;\n            letter-spacing: 2px;\n            font-size: 17px;\n        }\n        .is-wrapper .section-select .is-section-info {\n            display: block;\n        }\n\n        /* To make editing possible on wide content */\n        .is-wrapper.is-edit .section-wide-250 .is-box-centered { /*old structure*/\n            overflow-x: auto;\n            overflow-y: hidden;\n        }\n\n        .is-wrapper.is-container-edit > div.section-wide-250.section-select, \n        .is-wrapper.is-clean-edit > div.section-wide-250.section-select,\n        .is-wrapper.is-edit .section-wide-250 {\n            overflow-x: auto !important;\n            overflow-y: hidden !important;\n        }\n\n        .is-wrapper.is-edit .section-wide-250 .is-container > div > div { /* To make col tool visible */\n            max-height: 90vh; \n        }\n\n        /* Hide on Zoom */\n        .hard-select .section-select .is-section-tool[data-section-active],\n        .is-section-tool[data-section-active] {\n            display: none !important;\n        }\n        .hard-select .box-select .is-box-tool[data-box-active],\n        .is-box-tool[data-box-active] {\n            display: none !important;\n        }\n        .hard-select .box-select .is-box-info[data-boxinfo-active],\n        .is-box-info[data-boxinfo-active] {\n            display: none !important;\n        }\n          \n        </style>`),_y.appendHtml(document.head,'<style id="_contentboxstuff_css">\n\n            #_cbhtml .is-modal.editbox.is-modal-content {\n                z-index: 10002;\n                position: fixed;\n                overflow: hidden;\n                width: 380px;\n                height: auto;\n                top: calc(50% - 250px);\n                left: calc(50% - 175px);\n                box-sizing: content-box;\n                flex-direction: row;\n                align-items: flex-start;\n            }\n            #_cbhtml .is-modal.editbox.is-modal-content.active {\n                display: flex;\n            }\n            #_cbhtml .is-modal.editbox.is-modal-content .is-modal-overlay {\n                display: none;\n            }\n\n            #_cbhtml .is-modal.editsection.is-modal-content {\n                z-index: 10002;\n                position: fixed;\n                overflow: hidden;\n                width: 400px;\n                height: auto;\n                top: calc(50% - 265px);\n                left: calc(50% - 157px);\n                box-sizing: content-box;\n                flex-direction: row;\n                align-items: flex-start;\n            }\n            #_cbhtml .is-modal.editbox.is-modal-content.active {\n                display: flex;\n            }\n            #_cbhtml .is-modal.editbox.is-modal-content .is-modal-overlay {\n                display: none;\n            }\n\n            /* Switch */\n            .is-ui .switch {\n                position: relative;\n                display: inline-block;\n                width: 60px;\n                height: 34px;\n            }\n    \n            .is-ui .switch input {\n                opacity: 0;\n                width: 0;\n                height: 0;\n            }\n    \n            .is-ui .switch .slider {\n                position: absolute;\n                cursor: pointer;\n                top: 0;\n                left: 0;\n                right: 0;\n                bottom: 0;\n                background-color: #ccc;\n                -webkit-transition: 0.4s;\n                transition: 0.4s;\n                border-radius: 34px;\n            }\n    \n            .dark .is-ui .switch .slider {\n                background-color: #7c7c7c;\n            }\n    \n            .is-ui .switch .slider:before {\n                position: absolute;\n                content: "";\n                height: 26px;\n                width: 26px;\n                left: 4px;\n                bottom: 4px;\n                background-color: #fff;\n                -webkit-transition: 0.4s;\n                transition: 0.4s;\n                border-radius: 50%;\n            }\n    \n            .dark .is-ui .switch .slider:before {\n                background-color: rgba(255, 255, 255, 0.82);\n            }\n    \n            .is-ui .switch input:checked + .slider {\n                background-color: #0e75de;\n                border-radius: 34px;\n            }\n    \n            .dark .is-ui .switch input:checked + .slider {\n                background-color: #0e75de;\n            }\n    \n            .is-ui .switch input:focus + .slider {\n                box-shadow: 0 0 1px #0e75de;\n            }\n    \n            .dark .is-ui .switch input:focus + .slider {\n                box-shadow: 0 0 1px #0e75de;\n            }\n    \n            .is-ui .switch input:checked + .slider:before {\n                -webkit-transform: translateX(26px);\n                -ms-transform: translateX(26px);\n                transform: translateX(26px);\n            }\n\n            /* temporary hide tools on wide section during scroll */\n            .temporary-hide-tools .is-ui .is-tool {\n                display: none !important;\n            }\n\n\n          /* pop ai more */\n          .dark #_cbhtml .is-pop.ai-more button:hover {\n              background-color: rgba(255,255,255,0.1) !important;\n          }\n          #_cbhtml .is-pop.ai-more button:hover {\n              background-color: rgba(0,0,0,0.03) !important;\n          }\n          .is-pop.ai-more button {\n              font-size: 14px !important;\n          }\n        </style>');const e=this.builderStuff;_y.appendHtml(e,'<div class="page-overlay"></div>');let t=e.querySelector(".page-overlay");this.editsection=new r(this),this.editbox=new Jt(this),setTimeout((()=>{if(this.pageSetupDone||this.pageSetup(),(null!=localStorage.getItem("_livepreview")||this.settings.livePreviewOpen)&&this.openPreview(),null!=localStorage.getItem("_disableanimation")){this.doc.body.setAttribute("data-skrollrr-off","true");this.sidebar.pageQuickSettings.querySelector(".cmd-live-preview").checked=!1,this.refreshPage()}null!=localStorage.getItem("_timelinewindow")&&this.timeline.edit()}),300);let i=!1;const n="contentboxstart",s=Date.now();if(JSON.parse(localStorage.getItem(n))){const e=JSON.parse(localStorage.getItem(n)).expiresOn;Date.now()>e&&(i=!0,localStorage.setItem(n,JSON.stringify({initial:s,expiresOn:s+2592e6})))}else i=!0,localStorage.setItem(n,JSON.stringify({initial:s,expiresOn:s+2592e6}));const o=()=>{let i,n=document.querySelector(".pace-inactive");n&&n.parentNode.removeChild(n),i=null!==localStorage.getItem("_zoom")?localStorage.getItem("_zoom"):this.settings.zoom,this.wrapperEl.style.transition="none";const s=300*(1-i)/.5;this.wrapperEl.style.marginTop=`${s}px`,this.wrapperEl.style.opacity=1;let o=e.querySelector(".is-sidebar");o&&(o.style.opacity=1),this.builderStuff.style.visibility="visible",setTimeout((()=>{t=e.querySelectorAll(".page-overlay"),t.forEach((e=>{e.parentNode.removeChild(e)})),this.wrapperEl.style.transition=""}),300)};this.disableLoadingStatus?(uy.stop(),setTimeout((()=>{o()}),300)):i?(uy.start(),uy.on("hide",(()=>{o()}))):(uy.stop(),setTimeout((()=>{o()}),300)),this.doc.addEventListener("wheel",(()=>{if(this.editor.activeElement){if(this.editor.activeElement.closest(".section-wide-250")){this.doc.body.classList.add("temporary-hide-tools"),this.editor.moveable&&this.editor.moveable.updateRect();let e=this.doc.querySelector(".moveable-control-box");e&&(e.style.display="none")}if(this.editor.activeElement.closest(".scroll-y")){this.doc.body.classList.add("temporary-hide-tools"),this.editor.moveable&&this.editor.moveable.updateRect();let e=this.doc.querySelector(".moveable-control-box");e&&(e.style.display="none")}}})),this.doc.addEventListener("click",this.doDocumentClick=e=>{var t=(e=e||window.event).target||e.srcElement;if(!(t.closest("#_cbhtml")||t.closest(".is-box-tool")||t.closest(".is-box-info")||t.closest(".is-section-tool")||t.closest(".is-side")||t.closest(".is-modal")||t.closest(".is-sidebar"))){if(t.closest(".is-wrapper")&&!t.classList.contains("is-wrapper")){if(t.closest(".is-container")){const e=t.closest(".is-box");if(e){t.closest(".is-tool")||t.closest(".is-rowadd-tool")||(e.classList.contains("box-select")&&this.wrapperEl.classList.contains("is-container-edit")?(this.wrapperEl.classList.remove("is-container-edit"),this.wrapperEl.classList.add("is-clean-edit")):(this.wrapperEl.classList.add("is-container-edit"),this.wrapperEl.classList.remove("is-clean-edit")));const i=this.doc.querySelector(".box-select");i&&i.classList.remove("box-select"),e.classList.add("box-select"),this.activeBox=e,this.wrapperEl.classList.add("hard-select")}const i=t.closest(".is-section");if(i){const e=this.doc.querySelector(".section-select");e&&e.classList.remove("section-select"),this.activeSection&&i!==this.activeSection&&(this.prevSection=this.activeSection),i.classList.add("section-select"),this.activeSection=i}}else{this.editor.inspectedElement=null,this.editor.activeElement=null,this.editor.activeCol=null;const e=t.closest(".is-box");if(e)if(e.classList.contains("box-select")&&!this.wrapperEl.classList.contains("is-clean-edit")){const e=this.builderStuff.querySelector(".editbox"),t=this.builderStuff.querySelector(".editsection");if("flex"!==e.style.display&&"flex"!==t.style.display&&!this.timeline.modalTimeline.classList.contains("active")&&!this.animateScroll.modalAnimateScroll.classList.contains("active")){const e=this.doc.querySelector(".box-select");e&&e.classList.remove("box-select");const t=this.doc.querySelector(".section-select");t&&t.classList.remove("section-select"),this.wrapperEl.classList.remove("hard-select")}}else{const t=this.doc.querySelector(".box-select");t&&t.classList.remove("box-select");const i=this.doc.querySelector(".section-select");i&&i.classList.remove("section-select"),e.classList.add("box-select"),this.activeBox=e;const n=e.closest(".is-section");this.activeSection&&n!==this.activeSection&&(this.prevSection=this.activeSection),n.classList.add("section-select"),this.activeSection=n,this.wrapperEl.classList.add("hard-select")}this.wrapperEl.classList.remove("is-container-edit"),this.wrapperEl.classList.remove("is-clean-edit")}this.builderStuff.querySelector(".editbox").style.display="";this.builderStuff.querySelector(".editsection").style.display="",this.settings.onPageContentClick&&this.settings.onPageContentClick(e),this.rePositionTool()}else{if(document.activeElement&&"input"===document.activeElement.tagName.toLowerCase())return;this.wrapperEl.classList.remove("is-container-edit"),this.wrapperEl.classList.remove("is-clean-edit");const e=this.builderStuff.querySelector(".editbox");e.style.display="";const t=this.builderStuff.querySelector(".editsection");if(t.style.display="","flex"!==e.style.display&&"flex"!==t.style.display&&!this.timeline.modalTimeline.classList.contains("active")&&!this.animateScroll.modalAnimateScroll.classList.contains("active")){this.wrapperEl.classList.remove("hard-select");this.doc.querySelectorAll(".box-select").forEach((e=>{e.classList.remove("box-select")}));this.doc.querySelectorAll(".section-select").forEach((e=>{e.classList.remove("section-select")}))}this.timeline.modalTimeline.classList.contains("active")&&this.timeline.clearSettings()}document.body.classList.remove("box-modal-open")}let i=!1,n=!1,s=!1,o=!1,a=!1,l=!1,r=!1,d=!1,c=!1,u=t;for(;u&&u.tagName&&"BODY"!==u.tagName&&"HTML"!==u.tagName;)_y.hasClass(u,"is-sidebar-content")&&(i=!0),_y.hasClass(u,"is-sidebar")&&(n=!0),_y.hasClass(u,"is-builder")&&(s=!0),_y.hasClass(u,"is-wrapper")&&(a=!0),_y.hasClass(u,"is-rte-tool")&&(l=!0),_y.hasClass(u,"is-modal")&&(r=!0),_y.hasClass(u,"is-pop")&&(d=!0),_y.hasClass(u,"is-tool")&&(c=!0),_y.hasClass(u,"is-section")&&(u.hasAttribute("data-anim-start")||u.hasAttribute("data-anim-end"))&&(o=!0),u=u.parentNode;if(!(i||n||a||l||r||d||c)){this.wrapperEl.querySelectorAll(".is-box-tool").forEach((e=>{e.style.display="none"}));this.wrapperEl.querySelectorAll(".is-section-tool").forEach((e=>{e.style.display="none"}));this.wrapperEl.querySelectorAll(".is-box-info").forEach((e=>{e.style.display="none"}))}i||n||this.sidebar.closeSidebar(),s&&o&&(this.controlHiddenOnScroll=!0)}),this.iframe&&document.addEventListener("click",this.doDocumentClick=e=>{let t=!1,i=!1,n=!1,s=!1,o=!1,a=!1,l=!1,r=(e=e||window.event).target||e.srcElement;for(;r&&r.tagName&&"BODY"!==r.tagName&&"HTML"!==r.tagName;)_y.hasClass(r,"is-sidebar-content")&&(t=!0),_y.hasClass(r,"is-sidebar")&&(i=!0),_y.hasClass(r,"is-wrapper")&&(n=!0),_y.hasClass(r,"is-rte-tool")&&(s=!0),_y.hasClass(r,"is-modal")&&(o=!0),_y.hasClass(r,"is-pop")&&(a=!0),_y.hasClass(r,"is-tool")&&(l=!0),r=r.parentNode;if(!(t||i||n||s||o||a||l)){this.wrapperEl.querySelectorAll(".is-box-tool").forEach((e=>{e.style.display="none"}));this.wrapperEl.querySelectorAll(".is-section-tool").forEach((e=>{e.style.display="none"}));this.wrapperEl.querySelectorAll(".is-box-info").forEach((e=>{e.style.display="none"}))}t||i||this.sidebar.closeSidebar()}),window.wheel=()=>{}}openPreview(){this.animateScroll.openPreview()}closePreview(){this.animateScroll.closePreview()}openSettings(e){this.sidebar.openSettings(e)}pageSetup(){this.wrapperEl.querySelectorAll(".is-section").forEach((e=>{if(this.sectionSetup(e),_y.hasClass(e,"is-box"))this.boxSetup(e);else{e.querySelectorAll(".is-box").forEach((e=>{this.boxSetup(e)}))}})),this.editor.applyBehavior(),this.addSpace(),setTimeout((()=>{let e=()=>{if(!this.doc.body.hasAttribute("data-skrollrr-off"))return!0},t=document.querySelector(".is-element-tool"),i=document.querySelector("#divImageTool"),n=document.querySelector("#divImageResizer"),s=()=>{if(i&&"flex"===i.style.display){this.editor.moveable&&this.editor.moveable.updateRect();let e=this.doc.querySelector(".moveable-control-box");e&&(e.style.display="none")}t&&(t.style.display=""),i&&(i.style.display=""),n&&(n.style.display="")};e&&(this.doc.addEventListener("wheel",this.doAnimWheel=()=>{e()&&s()}),this.win.addEventListener("scroll",this.doAnimScroll=()=>{e()&&s()}))}),300)}box(){const e=this.doc.querySelector(".is-section-navbar");if(e){e.querySelectorAll("a").forEach((e=>{e.addEventListener("click",(t=>{let i=e.getAttribute("href");if(i)if(0===i.indexOf("#"))if(0===i.indexOf("#section")){let e=i.replace("#section","");if(!isNaN(parseInt(e))){let i,n=this.doc.querySelectorAll(".is-section"),s=0;n.forEach((function(t){_y.hasClass(t,"is-section-navbar")||(s===e-1&&(i=t),s++)})),i&&this.scrollTo(i),t.preventDefault()}}else try{let e=this.doc.querySelector(i);e&&(this.scrollTo(e),t.preventDefault())}catch(t){}else t.preventDefault(),t.stopImmediatePropagation();else e.closest(".is-menu-search")||(t.preventDefault(),t.stopImmediatePropagation())}))}))}}addSpace(){}scrollTo(e,t=0){this.cancelScrollSync=!0,setTimeout((()=>{e.scrollIntoView({behavior:"smooth",block:"center"}),setTimeout((()=>{this.cancelScrollSync=!1;const e=this.builderStuff.querySelector(".is-modal.content-preview").querySelector("iframe");this.scrollSync(e)}),1e3)}),t)}sectionSetup(e){let t=e.querySelector(".is-section-tool");t&&t.parentNode.removeChild(t),_y.appendHtml(e,'<div class="is-section-tool"><button type="button" class="is-section-edit" tabindex="-1" data-title="'+i("Section Settings")+'" title="'+i("Section Settings")+'"><svg class="is-icon-flex"><use xlink:href="#ion-wrench"></use></svg></button><button type="button" class="is-section-remove" tabindex="-1" data-title="'+i("Remove")+'" title="'+i("Remove")+'">&#10005;</button></div>');let n=e.querySelector(".is-section-info");n&&n.parentNode.removeChild(n);const s=e.getAttribute("id");_y.appendHtml(e,'<div class="is-section-info">'+(s?`<div>#${s}</div>`:"")+"</div>");let o=e.querySelector(".is-section-tool").querySelectorAll("[title]");Array.prototype.forEach.call(o,(e=>{e.setAttribute("data-title",e.getAttribute("title")),this.iframe?this.editor.tooltip.set(e,5,3,!0):this.editor.tooltip.set(e,5,3)}));e.querySelector(".is-section-edit").addEventListener("click",(()=>{this.editbox.close(),this.editsection.edit()}));if(e.querySelector(".is-section-remove").addEventListener("click",(()=>{const e=document.querySelector(".is-modal.delsectionconfirm");if(this.settings.deleteConfirm)this.editor.util.showModal(e);else{e.querySelector(".input-ok").click()}this.builderStuff.querySelector(".editbox").style.display="";this.builderStuff.querySelector(".editsection").style.display=""})),e.classList.contains("section-wide-250")){let t=e.querySelector(".is-box-centered");t&&t.addEventListener("scroll",(()=>{this.doc.body.classList.add("temporary-hide-tools"),this.editor.moveable&&this.editor.moveable.updateRect();let e=this.doc.querySelector(".moveable-control-box");e&&(e.style.display="none")}))}e.querySelectorAll(".scroll-y").forEach((e=>{e.addEventListener("scroll",(()=>{this.doc.body.classList.add("temporary-hide-tools"),this.editor.moveable&&this.editor.moveable.updateRect();let e=this.doc.querySelector(".moveable-control-box");e&&(e.style.display="none")}))}))}boxSetup(e){let t=e.querySelector(".is-box-tool");t&&t.parentNode.removeChild(t),_y.appendHtml(e,'<div class="is-box-tool" data-tool="1"><div role="button" class="is-cover-upload" data-tooltip-top title="'+i("Change Background")+'" data-title="'+i("Change Background")+'" target="target-upload-cover" method="post" action="'+this.coverImageHandler+'" enctype="multipart/form-data" style="position:relative;width:40px;height:40px;display:inline-block;float:left;background: rgb(90, 156, 38);background:rgb(78 170 57)"><div style="width:40px;height:40px;overflow:hidden;"><div style="position:absolute;width:100%;height:100%;"><svg class="is-icon-flex" style="position: absolute;top: 12px;left: 12px;fill:rgb(255,255,255);"><use xlink:href="#ion-image"></use></svg></div><input type="file" tabindex="-1" class="input-file-cover" name="fileCover" accept="image/*" style="position:absolute;top:-30px;left:0;width:100%;height:80px;opacity: 0;cursor: pointer;"/></div><input tabindex="-1" class="input-custom-value" name="hidcustomval" type="hidden" value="" /></div><button type="button" class="is-select-image" tabindex="-1" data-tooltip-top data-title="'+i("Select")+'" title="'+i("Select")+'" style="background:rgb(251 173 27)"><svg class="is-icon-flex" style="color:#fff;width:17px;height:17px;"><use style="color: #fff;" xlink:href="#icon-folder2"></use></svg></button><button type="button" class="is-box-edit" tabindex="-1" data-tooltip-top data-title="'+i("Box Settings")+'" title="'+i("Box Settings")+'"><svg class="is-icon-flex"><use xlink:href="#ion-wrench"></use></svg></button><button type="button" class="is-module-edit" tabindex="-1" data-tooltip-top data-title="'+i("Module Settings")+'" title="'+i("Module Settings")+'" style="background:rgb(135 116 215)"><svg class="is-icon-flex"><use xlink:href="#ion-ios-gear"></use></svg></button></div>');let n=e.querySelector(".is-box-info");n&&n.parentNode.removeChild(n),(this.sendCommandUrl||this.sendCommand)&&this.AIToolbar&&_y.appendHtml(e,`<div class="is-box-info is-tool" style="transform-origin: right top;">\n            <button data-title="${i("AI Rewrite")}" title="${i("AI Rewrite")}" class="input-box-rewrite" style="padding-left:3px">\n                <svg class="is-icon-flex" style="width:15px;height:15px;flex:none;fill:#000;"><use xlink:href="#icon-pencil"></use></svg>\n            </button>\n            <button data-title="${i("AI Redesign")}" title="${i("AI Redesign")}" class="input-box-redesign">\n                <svg class="is-icon-flex" style="width:15px;height:15px;flex:none;fill:#000;"><use xlink:href="#icon-refresh"></use></svg>\n            </button>\n            <button data-title="${i("More")}" title="${i("More")}" class="input-box-more" style="padding-right:3px">\n                <svg class="is-icon-flex" style="width:15px;height:15px;flex:none;fill:#000;"><use xlink:href="#icon-more"></use></svg>\n            </button>\n            <button data-title="${i("Settings")}" title="${i("Settings")}" class="input-box-config" style="display:none">\n                <svg class="is-icon-flex" style="width:15px;height:15px;flex:none;fill:#000;"><use xlink:href="#icon-settings"></use></svg>\n            </button>\n            </div>`);const s=e.querySelector(".input-box-redesign");s&&s.addEventListener("click",(()=>{this.command.redesign()}));const o=e.querySelector(".input-box-rewrite");o&&o.addEventListener("click",(()=>{this.command.rewrite()}));const a=e.querySelector(".input-box-more");a&&a.addEventListener("click",(()=>{this.command.openMore()}));const l=e.querySelector(".input-box-config");if(l&&l.addEventListener("click",(()=>{this.command.config()})),s&&(s.setAttribute("data-title",s.getAttribute("title")),this.iframe?this.editor.tooltip.set(s,0,3,!0):this.editor.tooltip.set(s,0,3)),o&&(o.setAttribute("data-title",o.getAttribute("title")),this.iframe?this.editor.tooltip.set(o,0,3,!0):this.editor.tooltip.set(o,0,3)),a&&(a.setAttribute("data-title",a.getAttribute("title")),this.iframe?this.editor.tooltip.set(a,0,3,!0):this.editor.tooltip.set(a,0,3)),l&&(l.setAttribute("data-title",l.getAttribute("title")),this.iframe?this.editor.tooltip.set(l,0,3,!0):this.editor.tooltip.set(l,0,3)),t=e.querySelector(".is-box-tool"),t){let e=t.querySelectorAll("[title]");Array.prototype.forEach.call(e,(e=>{e.setAttribute("data-title",e.getAttribute("title")),this.iframe?this.editor.tooltip.set(e,5,3,!0):this.editor.tooltip.set(e,5,3)}))}const r=e.querySelector(".is-box-edit");r&&r.addEventListener("click",(()=>{this.editsection.close(),this.editbox.edit()}));const d=e.querySelector(".is-select-image");d&&d.addEventListener("click",(()=>{let e;this.editsection.close();const t=this.activeBox.querySelector(".is-overlay").querySelector(".is-overlay-bg");t&&t.style.backgroundImage&&-1!==t.style.backgroundImage.indexOf("url(")&&(e=t.style.backgroundImage.slice(4,-1).replace(/["']/g,"")),this.editor.openImageSelect((e=>{this.editor.saveForUndo(),this.boxImage(e),this.onChange()}),e)}));const c=e.querySelector(".is-module-edit");c&&c.addEventListener("click",(()=>{this.editbox.editModule()}));let u=e.querySelector(".is-cover-upload");u&&"none"!==u.style.display&&u.addEventListener("mouseenter",(()=>{let e,t,i;e=this.iframe?this.contentStuff.querySelector(".is-cover-upload-central"):this.builderStuff.querySelector(".is-cover-upload-central"),t=u.getBoundingClientRect().top+this.win.pageYOffset,i=u.getBoundingClientRect().left+this.win.pageXOffset,e.style.top=t+"px",e.style.left=i+"px"}));const p=e.querySelector(".is-overlay-content");if(p){let e=p.querySelectorAll("iframe");Array.prototype.forEach.call(e,(e=>{let t=e.querySelector(".ovl");t||(p.insertAdjacentHTML("beforeend",'<div class="ovl" style="position:absolute;background:#fff;opacity:0.01;cursor:pointer;top:0;left:0px;width:100%;height:100%;z-index:1"></div>'),t=p.querySelector(".ovl"),t.addEventListener("click",(()=>{let e=document.querySelectorAll(".ovl");Array.prototype.forEach.call(e,(e=>{e.style.display="block"})),setTimeout((()=>{t.style.display="none",p.parentNode.style.zIndex=1}),200)})))}))}e.addEventListener("mouseenter",(()=>{if(this.positionTool(e),this.wrapperEl.classList.contains("hard-select"))return;const t=e.closest(".is-section");this.activeSection&&t!==this.activeSection&&(this.prevSection=this.activeSection),this.activeBox=e,this.activeSection=t;document.querySelector("#divSidebarTypography").classList.contains("active")&&this.sidebar.selectType()}))}addSection(e,t){let i=this.addIdea(e);if(!t)return i;let n=t.replace(".css",""),s=this.settings.contentStylePath;if(t){let e=!1,i=window.parent._cb.doc.getElementsByTagName("link");for(let n=0;n<i.length;n++){-1!=i[n].href.toLowerCase().indexOf(t.toLowerCase())&&(e=!0)}e||this.wrapperEl.insertAdjacentHTML("beforeend",'<link data-name="contentstyle" data-class="'+n+'" href="'+s+t+'" rel="stylesheet">')}return i}sectionStack(){this.wrapperEl.querySelectorAll(".is-section.box-space").forEach((e=>{let t=!1;e.previousElementSibling&&e.previousElementSibling.classList.contains("box-space")&&(t=!0);let i=!1;e.nextElementSibling&&e.nextElementSibling.classList.contains("box-space")&&(i=!0),!t&&i&&(e.classList.add("stack-top"),e.classList.remove("stack-middle"),e.classList.remove("stack-bottom")),t||i||(e.classList.remove("stack-top"),e.classList.remove("stack-middle"),e.classList.remove("stack-bottom")),!i&&t&&(e.classList.add("stack-bottom"),e.classList.remove("stack-middle"),e.classList.remove("stack-top")),t&&i&&(e.classList.remove("stack-top"),e.classList.add("stack-middle"),e.classList.remove("stack-bottom"))}))}doUndoRedo(){let e=this.doc.querySelectorAll(".is-section-tool");e.forEach((e=>{e.parentNode.removeChild(e)})),e=this.doc.querySelectorAll(".is-box-tool"),e.forEach((e=>{e.parentNode.removeChild(e)})),e=this.doc.querySelectorAll(".is-box-info"),e.forEach((e=>{e.parentNode.removeChild(e)}));this.doc.querySelectorAll(".box-select").forEach((e=>{e.classList.remove("box-select")}));this.doc.querySelectorAll(".section-select").forEach((e=>{e.classList.remove("section-select")})),this.activeBox=null,this.activeSection=null,this.wrapperEl.classList.remove("is-container-edit"),this.wrapperEl.classList.remove("is-clean-edit");this.builderStuff.querySelector(".editbox").style.display="";this.builderStuff.querySelector(".editsection").style.display="",this.timeline.modalTimeline.classList.contains("active")||this.animateScroll.modalAnimateScroll.classList.contains("active")||this.wrapperEl.classList.remove("hard-select"),this.pageSetup(),this.win.skrollrr&&this.win.skrollrr.refresh()}refreshAnim(){this.win.skrollrr&&this.win.skrollrr.refresh()}refreshPage(e){this.win.skrollrr&&this.win.skrollrr.refresh();const t=this.wrapperEl;t.querySelectorAll(".is-section").forEach((e=>{const t=e.innerHTML;var i=document.createRange();e.innerHTML="",e.appendChild(i.createContextualFragment(t))})),this.editor.uo.cleaning(t),this.pageSetup(),this.win.skrollrr&&this.win.skrollrr.refresh(),e&&e()}addIdea(e){this.editor.saveForUndo();const t=new Date;let n;e=e.replace("[%YEAR%]",t.getFullYear());let s=[];if(-1!==e.indexOf("is-section-navbar")){const t=this.wrapperEl.querySelector(".is-section-navbar");if(t)return void this.editor.util.confirm(i("Do you want to replace the current navigation bar?"),(i=>{i&&(t.parentNode.removeChild(t),this.addIdea(e))}),!0,i("Replace"));_y.appendHtml(this.wrapperEl,e,"afterbegin"),n=this.wrapperEl.querySelector(".is-section"),s.push(n)}else if(-1!==e.indexOf("is-static")){let t=_y.getLastElement(this.wrapperEl,".is-section");if(t){_y.appendHtml(t,e,"afterend"),n=t.nextElementSibling,s.push(n);let i=n.nextElementSibling;if(i){let e=i.querySelector(".is-section-tool");e||s.push(i),i=i.nextElementSibling,i&&(e=i.querySelector(".is-section-tool"),e||s.push(i))}}else _y.appendHtml(this.wrapperEl,e,"afterbegin"),n=this.wrapperEl.querySelector(".is-section"),s.push(n)}else if(this.activeSection){let t=this.activeSection;if(_y.hasClass(t,"is-static")){_y.appendHtml(t,e,"beforebegin"),n=t.previousElementSibling,s.push(n);let i=n.previousElementSibling;if(i){let e=i.querySelector(".is-section-tool");e||s.push(i),i=i.previousElementSibling,i&&(e=i.querySelector(".is-section-tool"),e||s.push(i))}}else{_y.appendHtml(t,e,"afterend"),n=t.nextElementSibling,s.push(n);let i=n.nextElementSibling;if(i){let e=i.querySelector(".is-section-tool");e||s.push(i),i=i.nextElementSibling,i&&(e=i.querySelector(".is-section-tool"),e||s.push(i))}}}else{_y.appendHtml(this.wrapperEl,e,"afterbegin"),n=this.wrapperEl.querySelector(".is-section"),s.push(n);let t=n.nextElementSibling;if(t){let e=t.querySelector(".is-section-tool");e||s.push(t),t=t.nextElementSibling,t&&(e=t.querySelector(".is-section-tool"),e||s.push(t))}}this.wrapperEl.querySelectorAll(".is-section").forEach((e=>{e.querySelector(".is-section-tool")||s.push(e)})),s.forEach((e=>{if(e.querySelectorAll("[data-html]").forEach((e=>{let t=decodeURIComponent(e.getAttribute("data-html"));t=t.replace(/{id}/g,_y.uniqueId()),_y.html(e,t)})),e.querySelectorAll(".is-overlay").forEach((e=>{let t=e.querySelector(".is-overlay-content");t&&""===t.innerHTML&&1===e.childElementCount&&e.parentNode.removeChild(e)})),this.sectionSetup(e),_y.hasClass(e,"is-box"))this.boxSetup(e);else{e.querySelectorAll(".is-box").forEach((e=>{this.boxSetup(e)}))}})),document.querySelectorAll(".is-overlay-bg").forEach((e=>{e.style&&e.style.filter&&-1!==e.style.filter.indexOf("grayscale")&&(e.parentNode.style.filter="grayscale(1)")})),this.editor.applyBehavior(),this.settings.onRender();this.wrapperEl.querySelectorAll(".is-arrow-down a").forEach((e=>{e.addEventListener("click",(t=>{let i=e.parentNode.parentNode;return this.scrollTo(i.nextElementSibling),t.preventDefault(),t.stopImmediatePropagation(),!1}))})),this.sectionStack();const o=(e,t)=>{let i=e.getAttribute("class");e.setAttribute("class",i+" "+t)},a=(e,t)=>{94<=t&&t<=100&&o(e,this.editor.cols[11]),86<=t&&t<94&&o(e,this.editor.cols[10]),78<=t&&t<86&&o(e,this.editor.cols[9]),70<=t&&t<78&&o(e,this.editor.cols[8]),62<=t&&t<70&&o(e,this.editor.cols[7]),54<=t&&t<62&&o(e,this.editor.cols[6]),46<=t&&t<54&&o(e,this.editor.cols[5]),37<=t&&t<46&&o(e,this.editor.cols[4]),29<=t&&t<37&&o(e,this.editor.cols[3]),21<=t&&t<29&&o(e,this.editor.cols[2]),13<=t&&t<21&&o(e,this.editor.cols[1]),5<=t&&t<13&&o(e,this.editor.cols[0])};if(!this.editor.useDefaultGrid){let e=n.querySelectorAll(".is-container > div");e.forEach((e=>{this.editor.util.getAllColumns(e).forEach((t=>{if(t.style.width&&t.style.width.includes("%")){let e=parseFloat(t.style.width);t.setAttribute("data-temp-w",e)}else{let i=Number(window.getComputedStyle(t).getPropertyValue("width").match(/\d+/)[0])/Number(window.getComputedStyle(e).getPropertyValue("width").match(/\d+/)[0])*100;t.setAttribute("data-temp-w",i)}}))})),e=n.querySelectorAll(".is-container > div"),e.forEach((e=>{this.editor.util.getAllColumns(e).forEach((e=>{let t=e.getAttribute("data-temp-w");if(a(e,parseFloat(t)),e.removeAttribute("data-temp-w"),this.editor.cols[0].split(" ").includes("column")){const t=e.className.split(" "),i=[...new Set(t)];e.className=i.join(" ")}else e.classList.remove("column");e.style.width="",e.style.flex=""}))}))}return this.clearSelection(),this.selectNewSection(n),this.onChange(),_y.removeElement(document.querySelector(".is-sidebar-overlay")),_y.removeClass(document.querySelectorAll(".is-sidebar .is-sidebar-button"),"active"),_y.removeClass(document.querySelectorAll(".is-sidebar-content"),"active"),document.body.style.overflowY="",this.addSpace(),this.scrollTo(n,600),setTimeout((()=>{this.refreshAnim()}),600),n}clearSelection(){const e=this.doc.querySelector(".box-select");e&&e.classList.remove("box-select");const t=this.doc.querySelector(".section-select");t&&t.classList.remove("section-select"),this.editor.util.clearActiveCell(),this.editor.util.clearAfterUndoRedo()}selectNewSection(e){let t=!1;if(e.classList.contains("is-box")&&(t=!0),t)e.classList.add("box-select"),this.activeBox=e,this.wrapperEl.classList.add("hard-select"),e.classList.add("section-select"),this.activeSection=e,this.positionTool(e);else{let t=e.querySelector(".is-box");t&&(t.classList.add("box-select"),this.activeBox=t),this.wrapperEl.classList.add("hard-select"),e.classList.add("section-select"),this.activeSection=e,this.positionTool(t)}}refreshUIStyle(){if(!this.editor)return;if(!this.editor.styleSnippetBackground)return void setTimeout((()=>{this.refreshUIStyle()}),300);document.querySelector("#divSidebarSnippets").style.backgroundColor=this.editor.styleSnippetBackground;document.querySelectorAll(".is-sidebar-content").forEach((e=>{e.style.backgroundColor=this.editor.styleSnippetBackground}));const e=document.querySelector("#divStyles");e.style.backgroundColor=this.editor.styleSnippetBackground,e.style.color=this.editor.styleSnippetColor;const t=document.querySelector(".is-sidebar");t.style.backgroundColor=this.editor.styleModalBackground,t.style.color=this.editor.styleModalColor;t.querySelectorAll("svg").forEach((e=>{e.style.fill=this.editor.styleModalColor}));t.querySelectorAll("button").forEach((e=>{e.style.color=this.editor.styleModalColor}));const i=document.querySelector("#ifrIdeasPanel");i.contentWindow.applyParentStyles&&i.contentWindow.applyParentStyles()}rePositionTool(){this.activeBox&&this.positionTool(this.activeBox)}hideTools(){let e=this.doc.querySelectorAll(".is-tool");Array.prototype.forEach.call(e,(e=>{e.style.display=""})),e=this.doc.querySelectorAll(".is-row-tool"),e.forEach((e=>{e.style.display="none"})),e=this.doc.querySelectorAll(".is-rowadd-tool"),e.forEach((e=>{e.style.opacity=0})),e=this.doc.querySelectorAll(".is-col-tool"),e.forEach((e=>{e.style.display="none"}))}showTools(){this.editor.util.repositionColumnTool();let e=this.doc.querySelectorAll(".is-row-tool");e.forEach((e=>{e.style.display=""})),e=this.doc.querySelectorAll(".is-rowadd-tool"),e.forEach((e=>{e.style.opacity=""})),e=this.doc.querySelectorAll(".is-col-tool"),e.forEach((e=>{e.style.display=""}))}positionTool(e){if(!e)return;var t;t=null!==localStorage.getItem("_zoom")?localStorage.getItem("_zoom"):this.settings.zoom;const i=e.closest(".is-section-navbar"),n=e.querySelector('[data-module="slider-box"]');let s,o;this.wrapperEl.querySelectorAll(".is-section-tool").forEach((e=>{e.style.display="none"})),_y.hasClass(e,"is-section")?(s=e,o=e.querySelector(".is-section-tool")):(s=_y.parentsHasClass(e,"is-section"),o=s.querySelector(".is-section-tool")),o&&(o.style.display="block",o.style.transform="scale("+1/t+")",o.style.transformOrigin="top right");this.wrapperEl.querySelectorAll(".is-box-tool").forEach((e=>{e.style.display="none"}));let a=e.querySelector(".is-box-tool");a&&(a.style.display="flex",a.style.transform="scale("+1/t+")",a.style.transformOrigin="center bottom",e.querySelector(".is-select-image").style.display="none",n?(e.querySelector(".is-cover-upload").style.display="none",e.querySelector(".is-box-edit").style.display="inline-block",e.querySelector(".is-module-edit").style.display="inline-block",a.style.width="80px",a.style.left="calc(50% - 40px)"):i?(e.querySelector(".is-cover-upload").style.display="none",e.querySelector(".is-box-edit").style.display="none",e.querySelector(".is-module-edit").style.display="inline-block",a.style.width="40px",a.style.left="calc(50% - 20px)"):e.querySelectorAll(".is-overlay-content[data-module]").length>0?(e.querySelector(".is-cover-upload").style.display="block",e.querySelector(".is-box-edit").style.display="inline-block",e.querySelector(".is-module-edit").style.display="inline-block",a.style.width="120px",a.style.left="calc(50% - 60px)",(this.onImageSelectClick||this.imageselect)&&(a.style.width="160px",e.querySelector(".is-select-image").style.display="inline-block",a.style.left="calc(50% - 80px)"),"video-bg"===e.querySelector(".is-overlay-content[data-module]").getAttribute("data-module")&&(e.querySelector(".is-cover-upload").style.display="none",e.querySelector(".is-select-image").style.display="none",a.style.width="80px",a.style.left="calc(50% - 40px)")):(e.querySelector(".is-cover-upload").style.display="block",e.querySelector(".is-box-edit").style.display="inline-block",e.querySelector(".is-module-edit").style.display="none",a.style.width="80px",a.style.left="calc(50% - 40px)",(this.onImageSelectClick||this.imageselect)&&(a.style.width="120px",e.querySelector(".is-select-image").style.display="inline-block",a.style.left="calc(50% - 60px)")));this.wrapperEl.querySelectorAll(".is-box-info").forEach((e=>{e.style.display="none"}));let l=e.querySelector(".is-box-info");l&&(l.style.display="flex",l.style.transform="scale("+1/t+")")}addButton(e){if(this.preview)return;const t=this.builderStuff,n=_y.uniqueId(),s=_y.uniqueId();let o;if(e.src){o=`<button type="button" id="${n}" class="is-sidebar-button" tabindex="-1" data-content="${s}" data-title="${i(e.title)}" title="${i(e.title)}" data-src="${e.src}" data-refresh="${e.refresh?1:0}">\n            ${e.html}\n            </button>`;let a=`<div id="${s}" class="is-sidebar-content is-area-2nd ${e.class}" tabindex="-1" role="dialog" aria-modal="true" aria-hidden="true" style="max-width:${e.maxwidth?e.maxwidth:"1005px"};">\n                <div style="padding:0 0 0 50px;box-sizing:border-box;">\n                    <iframe src="about:blank" style="width:100%;height:100%;box-sizing:border-box;border:none;">\n                    </iframe>\n                </div>\n            </div>`;_y.appendHtml(t,a)}else o=e.onClick?'<button type="button" id="'+n+'" tabindex="-1" class="is-sidebar-button" data-title="'+i(e.title)+'" title="'+i(e.title)+'">'+e.html+"</button>":`<button id="${n}" class="is-sidebar-button" tabindex="-1" data-content="${e.content.substr(1)}" data-title="${i(e.title)}" title="${i(e.title)}">\n                ${e.html}\n                </button>`;t.querySelector(".is-sidebar").children[e.pos].insertAdjacentHTML("afterEnd",o);const a=t.querySelector("#"+n);a.addEventListener("click",(i=>{if(e.onClick)e.onClick(i);else if(_y.hasClass(a,"active"))this.sidebar.closeSidebar();else{this.sidebar.closeSidebar(),_y.addClass(a,"active");var n=a.getAttribute("data-content");const i=document.querySelector("#"+n);if(i.style.display="block",i.setAttribute("aria-hidden",!1),setTimeout((()=>{_y.addClass(i,"active"),i.focus()}),10),e.src){var s=t.querySelector("#"+n+" iframe");("1"===a.getAttribute("data-refresh")||"about:blank"==s.getAttribute("src"))&&s.setAttribute("src",e.src)}_y.appendHtml(t,'<div class="is-sidebar-overlay" style="position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(255,255,255,0.000001);z-index: 1000;;"></div>');const o=t.querySelector(".is-sidebar-overlay");o.addEventListener("click",(()=>{o.parentNode.removeChild(o);let e=t.querySelectorAll(".is-sidebar > div");e.forEach((e=>{_y.removeClass(e,"active")})),e=t.querySelectorAll(".is-sidebar-content"),e.forEach((e=>{_y.removeClass(e,"active")})),document.body.style.overflowY=""}))}})),setTimeout((()=>{if(!e.onClick){const e=a.getAttribute("data-content");document.querySelector("#"+e).addEventListener("keydown",(e=>{27===e.keyCode&&this.sidebar.closeSidebar()}))}}),300)}undo(){this.editor.undo()}redo(){this.editor.redo()}saveImages(e,t,i){this.editor.saveImages(e,t,i)}applyLargerImage(e){this.editor.applyLargerImage(e)}returnUrl(e){this.editor.returnUrl(e)}showMessage(e){this.editor.util.showMessage(e)}showChoice(e,t,i){this.editor.util.showChoice(e,t,i)}showModal(e,t,i,n,s){this.editor.util.showModal(e,t,i,n,s)}hideModal(e){this.editor.hideModal(e)}refreshModule(){this.editbox.refreshModule()}loadStyles(e,t){let i,n=this.doc.getElementsByTagName("link");for(let e=0;e<n.length;e++)"contentstyle"===n[e].getAttribute("data-name")&&n[e].setAttribute("data-rel","_del"),-1!==n[e].getAttribute("href").indexOf("basetype-")&&n[e].setAttribute("data-rel","_del"),-1===n[e].getAttribute("href").indexOf("/box.css")&&-1===n[e].getAttribute("href").indexOf("/box-flex.css")||n[e].closest("body")&&(i=!0,this.settings.cssInBody=!0);this.settings.cssInBody&&(i=!0),this.doc.querySelectorAll('[data-rel="_del"]').forEach((e=>{e.parentNode.removeChild(e)}));let s=this.doc.head;s||(s=this.doc.body),e&&""!==e&&(i?this.wrapperEl.insertAdjacentHTML("beforebegin",e):s.insertAdjacentHTML("beforeend",e)),t&&""!==t&&(i?this.wrapperEl.insertAdjacentHTML("beforebegin",t):s.insertAdjacentHTML("beforeend",t))}loadHtml(e){this.activeBox=null,this.activeSection=null;const t=this.wrapperEl;t.style.opacity||(t.style.opacity="0");let i=!1;if("glide"!==this.settings.slider&&"all"!==this.settings.slider||void 0!==this.win.Glide&&(new this.win.Glide).mount||(i=!0),!this.editor||i)return void setTimeout((()=>{this.loadHtml(e)}),100);let n=document.createRange();t.innerHTML="",t.appendChild(n.createContextualFragment(e));let s=this.settings.contentStylePath;t.querySelectorAll(".is-section").forEach((e=>{e.classList.forEach((e=>{if(-1!==e.indexOf("type-")){const t=e,i=e+".css";let n=!1,o=this.doc.getElementsByTagName("link");for(let e=0;e<o.length;e++){-1!=o[e].href.toLowerCase().indexOf(i.toLowerCase())&&(n=!0)}n||this.wrapperEl.insertAdjacentHTML("beforeend",'<link data-name="contentstyle" data-class="'+t+'" href="'+s+i+'" rel="stylesheet">')}}))})),this.pageSetup(),this.pageSetupDone=!0,this.settings.onRender();t.querySelectorAll(".is-arrow-down a").forEach((e=>{e.addEventListener("click",(t=>{let i=e.parentNode.parentNode;return this.scrollTo(i.nextElementSibling),t.preventDefault(),t.stopImmediatePropagation(),!1}))})),null!=localStorage.getItem("_livepreview")&&this.openPreview(),setTimeout((()=>{this.refreshAnim()}),600)}boxImage(e,t){this.editbox.boxImage(e,t)}mainCss(e){let t=this.doc.getElementsByTagName("link"),i=[];for(let n=0;n<t.length;n++){if(-1!=t[n].href.toLowerCase().indexOf("basetype-"))if(e){const e=t[n].cloneNode();let s=e.href,o=window.location.href.substring(0,window.location.href.lastIndexOf("/"));s=s.replace(o,"[%PATH%]"),e.href=s,i.push(e.outerHTML)}else i.push(t[n].outerHTML)}return i=[...new Set(i)],i.join("")}mainCssList(){let e=this.doc.getElementsByTagName("link"),t=[];for(let i=0;i<e.length;i++){-1!=e[i].href.toLowerCase().indexOf("basetype-")&&t.push(e[i].outerHTML)}return t}sectionCss(e){let t=this.doc.getElementsByTagName("link"),i=[];for(let n=0;n<t.length;n++){let s=t[n].href.toLowerCase();if(-1!=s.indexOf("basetype-"));else if(-1!=s.indexOf("type-"))if(e){const e=t[n].cloneNode();let s=e.href,o=window.location.href.substring(0,window.location.href.lastIndexOf("/"));s=s.replace(o,"[%PATH%]"),e.href=s,i.push(e.outerHTML)}else i.push(t[n].outerHTML)}return i=[...new Set(i)],i.join("")}sectionCssList(){let e=this.doc.getElementsByTagName("link"),t=[];for(let i=0;i<e.length;i++){let n=e[i].href.toLowerCase();-1!=n.indexOf("basetype-")||-1!=n.indexOf("type-")&&t.push(e[i].outerHTML)}return t=[...new Set(t)],t}htmlCheck(){this.cleanupUnused();return this.editor.readHtml(this.wrapperEl,!1,!0,!0)}html(e){this.cleanupUnused();return this.editor.readHtml(this.wrapperEl,e,!0)}download(e={}){this.export(e,!0)}export(e={},t=!1){let i=this.pageTemplate,n="";this.cleanupUnused(),this.editor.makeAbsolute=!0,this.editor.shortenOutput=t;let s=this.editor.readHtml(this.wrapperEl,!1,!0);this.editor.makeAbsolute=!1,this.editor.shortenOutput=!1,n=i.replace("[%CONTENT%]",s);let o=this.mainCss(!0),a=this.sectionCss(!0);if(n=n.replaceAll("[%MAINCSS%]",o),n=n.replaceAll("[%SECTIONCSS%]",a),e.replace&&e.replace.forEach((e=>{n=n.replaceAll(`${e[0]}`,e[1])})),e.path)n=n.replaceAll("[%PATH%]",e.path);else{let e;e=window.location.href.substring(0,window.location.href.lastIndexOf("/")),n=n.replaceAll("[%PATH%]",e)}n=this.editor.beautify(n);const l=document.createElement("a");l.href=window.URL.createObjectURL(new Blob([n],{type:"text/plain"})),l.download="page.html",l.click()}viewZoom(){this.editor.viewZoom()}openAnimationPanel(){this.animateScroll.edit()}openTimelinePanel(){this.timeline.edit()}openAIAssistant(){this.command.openDictation()}destroy(){this.doc.removeEventListener("click",this.doDocumentClick,!1),this.iframe&&document.removeEventListener("click",this.doDocumentClick,!1),window.removeEventListener("scroll",this.doWindowScroll,!1),this.doc.removeEventListener("scroll",this.doAnimWheel,!1),this.win.removeEventListener("scroll",this.doAnimScroll,!1),this.win.removeEventListener("scroll",this.doScrollSync,!1);let e=this.html();this.builderStuff.innerHTML="",_y.removeClass(document.body,"sidebar-active"),document.body.removeAttribute("data-skrollrr-off");const t=this.doc.querySelector("#_contentbox_css");t&&t.parentNode.removeChild(t);const i=document.querySelector("#_contentboxstuff_css");i&&i.parentNode.removeChild(i);let n=document.createRange();const s=this.wrapperEl;s.innerHTML="",s.appendChild(n.createContextualFragment(e)),_y.removeClass(s,"is-edit"),this.editor.destroy(),uy.stop()}cleanupUnused(){this.editor.rte.cleanupFontCssLink();let e=this.doc.getElementsByTagName("link");for(let t=0;t<e.length;t++)if("contentstyle"===e[t].getAttribute("data-name")){let i=e[t].getAttribute("data-class");""===i&&e[t].setAttribute("data-rel","_del"),""!==i&&(this.wrapperEl.querySelector("."+i)||e[t].setAttribute("data-rel","_del"))}let t=this.doc.querySelectorAll('[data-rel="_del"]');t.forEach((e=>{e.parentNode.removeChild(e)})),t=this.doc.head.querySelectorAll("link"),t.forEach((e=>{let t=e.getAttribute("href");this.wrapperEl.querySelectorAll("link").forEach((e=>{t===e.getAttribute("href")&&e.setAttribute("data-rel","_del")}))})),t=this.doc.querySelectorAll('[data-rel="_del"]'),t.forEach((e=>{e.parentNode.removeChild(e)}))}calculateVisibleArea(e){const t=window.innerHeight||document.documentElement.clientHeight,i=window.innerWidth||document.documentElement.clientWidth,n=Math.max(e.top,0),s=Math.min(e.bottom,t),o=Math.max(e.left,0);return(Math.min(e.right,i)-o)*(s-n)}findMostVisibleElement(e){let t=0,i=null;return e.forEach((e=>{const n=e.getBoundingClientRect();if(n.top<window.innerHeight&&n.bottom>=0&&n.left<window.innerWidth&&n.right>=0){const s=this.calculateVisibleArea(n);s>t&&(t=s,i=e)}})),i}selectSection(){if(this.activeBox)return;const e=this.wrapperEl.querySelectorAll(".is-section"),t=this.findMostVisibleElement(e);if(!t)return;let i=!1;if(t.classList.contains("is-box")&&(i=!0),i)this.activeBox=t,t.classList.add("section-select"),this.activeSection=t;else{const e=t.querySelector(".is-box");e&&(e.classList.add("box-select"),this.activeBox=e),t.classList.add("section-select"),this.activeSection=t}}}}();
